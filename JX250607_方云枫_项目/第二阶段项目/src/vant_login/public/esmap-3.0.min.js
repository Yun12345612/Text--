/*esmap-3.0.min.js 9/2/2025, 6:28:58 PM*/
/*esmapcore 3.0 2025-9-2 18:28:59*/
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[1],[function(t,n,r){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(124),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),(0,i.default)(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}()},function(t,n,r){t.exports={default:r(181),__esModule:!0}},function(t,n){var r=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=r)},,,function(t,n,r){"use strict";n.__esModule=!0;var e=u(r(211)),o=u(r(115)),i="function"==typeof o.default&&"symbol"==typeof e.default?function(t){return typeof t}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":typeof t};function u(t){return t&&t.__esModule?t:{default:t}}n.default="function"==typeof o.default&&"symbol"===i(e.default)?function(t){return void 0===t?"undefined":i(t)}:function(t){return t&&"function"==typeof o.default&&t.constructor===o.default&&t!==o.default.prototype?"symbol":void 0===t?"undefined":i(t)}},function(t,n,r){t.exports=r(224)},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(9),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){return function(){var n=t.apply(this,arguments);return new i.default((function(t,r){return function e(o,u){try{var s=n[o](u),f=s.value}catch(t){return void r(t)}if(!s.done)return i.default.resolve(f).then((function(t){e("next",t)}),(function(t){e("throw",t)}));t(f)}("next")}))}}},function(t,n,r){t.exports={default:r(226),__esModule:!0}},,,,function(t,n,r){var e=r(16),o=r(3),i=r(28),u=r(30),s=r(29),f="prototype",c=function(t,n,r){var a,l,h,p=t&c.F,v=t&c.G,d=t&c.S,y=t&c.P,g=t&c.B,m=t&c.W,b=v?o:o[n]||(o[n]={}),_=b[f],w=v?e:d?e[n]:(e[n]||{})[f];for(a in v&&(r=n),r)(l=!p&&w&&void 0!==w[a])&&s(b,a)||(h=l?w[a]:r[a],b[a]=v&&"function"!=typeof w[a]?r[a]:g&&l?i(h,e):m&&w[a]==h?function(t){var n=function(n,r,e){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,e)}return t.apply(this,arguments)};return n[f]=t[f],n}(h):y&&"function"==typeof h?i(Function.call,h):h,y&&((b.virtual||(b.virtual={}))[a]=h,t&c.R&&_&&!_[a]&&u(_,a,h)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,n,r){t.exports={default:r(183),__esModule:!0}},,function(t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(88)("wks"),o=r(67),i=r(16).Symbol,u="function"==typeof i;(t.exports=function(t){return e[t]||(e[t]=u&&i[t]||(u?i:o)("Symbol."+t))}).store=e},,,function(t,n,r){t.exports=!r(36)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,n,r){t.exports={default:r(198),__esModule:!0}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(38),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return(0,i.default)(t)}},,function(t,n,r){var e=r(26),o=r(116),i=r(86),u=Object.defineProperty;n.f=r(21)?Object.defineProperty:function(t,n,r){if(e(t),n=i(n,!0),e(r),o)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(17);t.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},,function(t,n,r){var e=r(52);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}}},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n,r){var e=r(25),o=r(53);t.exports=r(21)?function(t,n,r){return e.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(91),o=r(92);t.exports=function(t){return e(o(t))}},,function(t,n,r){t.exports={default:r(216),__esModule:!0}},,,function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(92);t.exports=function(t){return Object(e(t))}},function(t,n,r){t.exports={default:r(173),__esModule:!0}},function(t,n,r){"use strict";var e=r(174)(!0);r(98)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})}))},function(t,n,r){r(190);for(var e=r(16),o=r(30),i=r(46),u=r(18)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),f=0;f<s.length;f++){var c=s[f],a=e[c],l=a&&a.prototype;l&&!l[u]&&o(l,u,c),i[c]=i.Array}},function(t,n,r){"use strict";(function(t){var e=n;function o(t,n,r){for(var e=Object.keys(n),o=0;o<e.length;++o)void 0!==t[e[o]]&&r||(t[e[o]]=n[e[o]]);return t}function i(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}e.asPromise=r(236),e.base64=r(237),e.EventEmitter=r(238),e.float=r(239),e.inquire=r(240),e.utf8=r(241),e.pool=r(242),e.LongBits=r(243),e.global="undefined"!=typeof window&&window||void 0!==t&&t||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isNode=Boolean(e.global.process&&e.global.process.versions&&e.global.process.versions.node),e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,n){var r=t[n];return!(null==r||!t.hasOwnProperty(n))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,n){var r=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(r.lo,r.hi,n):r.toNumber(Boolean(n))},e.merge=o,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;r>-1;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},e.oneOfSetter=function(t){return function(n){for(var r=0;r<t.length;++r)t[r]!==n&&delete this[t[r]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(n,r){return new t(n,r)},e._Buffer_allocUnsafe=t.allocUnsafe||function(n){return new t(n)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}).call(this,r(107))},,,function(t,n,r){var e=r(67)("meta"),o=r(17),i=r(29),u=r(25).f,s=0,f=Object.isExtensible||function(){return!0},c=!r(36)((function(){return f(Object.preventExtensions({}))})),a=function(t){u(t,e,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,e)){if(!f(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!i(t,e)){if(!f(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return c&&l.NEED&&f(t)&&!i(t,e)&&a(t),t}}},function(t,n,r){var e=r(117),o=r(95);t.exports=Object.keys||function(t){return e(t,o)}},function(t,n){t.exports={}},function(t,n,r){"use strict";n.__esModule=!0;var e,o=r(124),i=(e=o)&&e.__esModule?e:{default:e};n.default=function(t,n,r){return n in t?(0,i.default)(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}},,function(t,n,r){var e=r(28),o=r(126),i=r(127),u=r(26),s=r(68),f=r(99),c={},a={};(n=t.exports=function(t,n,r,l,h){var p,v,d,y,g=h?function(){return t}:f(t),m=e(r,l,n?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(i(g)){for(p=s(t.length);p>b;b++)if((y=n?m(u(v=t[b])[0],v[1]):m(t[b]))===c||y===a)return y}else for(d=g.call(t);!(v=d.next()).done;)if((y=o(d,m,v.value,n))===c||y===a)return y}).BREAK=c,n.RETURN=a},function(t,n,r){var e=r(17);t.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},,function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n){t.exports=!0},function(t,n,r){var e=r(25).f,o=r(29),i=r(18)("toStringTag");t.exports=function(t,n,r){t&&!o(t=r?t:t.prototype,i)&&e(t,i,{configurable:!0,value:n})}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){n.f={}.propertyIsEnumerable},function(t,n){},function(t,n,r){var e=r(13),o=r(3),i=r(36);t.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],u={};u[t]=n(r),e(e.S+e.F*i((function(){r(1)})),"Object",u)}},function(t,n,r){t.exports={default:r(200),__esModule:!0}},function(t,n,r){t.exports={default:r(202),__esModule:!0}},,,,,,function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+e).toString(36))}},function(t,n,r){var e=r(93),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},function(t,n,r){var e=r(26),o=r(120),i=r(95),u=r(94)("IE_PROTO"),s=function(){},f="prototype",c=function(){var t,n=r(85)("iframe"),e=i.length;for(n.style.display="none",r(121).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c[f][i[e]];return c()};t.exports=Object.create||function(t,n){var r;return null!==t?(s[f]=e(t),r=new s,s[f]=null,r[u]=t):r=c(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(56),o=r(18)("toStringTag"),i="Arguments"==e(function(){return arguments}());t.exports=function(t){var n,r,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:i?e(n):"Object"==(u=e(n))&&"function"==typeof n.callee?"Arguments":u}},function(t,n,r){t.exports={default:r(188),__esModule:!0}},function(t,n,r){t.exports={default:r(189),__esModule:!0}},function(t,n,r){var e=r(30);t.exports=function(t,n,r){for(var o in n)r&&t[o]?t[o]=n[o]:e(t,o,n[o]);return t}},function(t,n){t.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,n,r){"use strict";t.exports=r(235)},,,,,,,,,,function(t,n,r){var e=r(17),o=r(16).document,i=e(o)&&e(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,n,r){var e=r(17);t.exports=function(t,n){if(!e(t))return t;var r,o;if(n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!e(o=r.call(t)))return o;if(!n&&"function"==typeof(r=t.toString)&&!e(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){t.exports=r(30)},function(t,n,r){var e=r(3),o=r(16),i="__core-js_shared__",u=o[i]||(o[i]={});(t.exports=function(t,n){return u[t]||(u[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:r(54)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n,r){n.f=r(18)},function(t,n,r){var e=r(16),o=r(3),i=r(54),u=r(89),s=r(25).f;t.exports=function(t){var n=o.Symbol||(o.Symbol=i?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||s(n,t,{value:u.f(t)})}},function(t,n,r){var e=r(56);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(88)("keys"),o=r(67);t.exports=function(t){return e[t]||(e[t]=o(t))}},function(t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(57),o=r(53),i=r(31),u=r(86),s=r(29),f=r(116),c=Object.getOwnPropertyDescriptor;n.f=r(21)?c:function(t,n){if(t=i(t),n=u(n,!0),f)try{return c(t,n)}catch(t){}if(s(t,n))return o(!e.f.call(t,n),t[n])}},function(t,n,r){"use strict";var e=r(54),o=r(13),i=r(87),u=r(30),s=r(46),f=r(175),c=r(55),a=r(125),l=r(18)("iterator"),h=!([].keys&&"next"in[].keys()),p="keys",v="values",d=function(){return this};t.exports=function(t,n,r,y,g,m,b){f(r,n,y);var _,w,x,S=function(t){if(!h&&t in j)return j[t];switch(t){case p:case v:return function(){return new r(this,t)}}return function(){return new r(this,t)}},O=n+" Iterator",E=g==v,M=!1,j=t.prototype,L=j[l]||j["@@iterator"]||g&&j[g],P=L||S(g),k=g?E?S("entries"):P:void 0,A="Array"==n&&j.entries||L;if(A&&(x=a(A.call(new t)))!==Object.prototype&&x.next&&(c(x,O,!0),e||"function"==typeof x[l]||u(x,l,d)),E&&L&&L.name!==v&&(M=!0,P=function(){return L.call(this)}),e&&!b||!h&&!M&&j[l]||u(j,l,P),s[n]=P,s[O]=d,g)if(_={values:E?P:S(v),keys:m?P:S(p),entries:k},b)for(w in _)w in j||i(j,w,_[w]);else o(o.P+o.F*(h||M),n,_);return _}},function(t,n,r){var e=r(70),o=r(18)("iterator"),i=r(46);t.exports=r(3).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[e(t)]}},function(t,n,r){var e=r(28),o=r(91),i=r(37),u=r(68),s=r(193);t.exports=function(t,n){var r=1==t,f=2==t,c=3==t,a=4==t,l=6==t,h=5==t||l,p=n||s;return function(n,s,v){for(var d,y,g=i(n),m=o(g),b=e(s,v,3),_=u(m.length),w=0,x=r?p(n,_):f?p(n,0):void 0;_>w;w++)if((h||w in m)&&(y=b(d=m[w],w,g),t))if(r)x[w]=y;else if(y)switch(t){case 3:return!0;case 5:return d;case 6:return w;case 2:x.push(d)}else if(a)return!1;return l?-1:c||a?a:x}}},function(t,n,r){"use strict";var e=r(16),o=r(13),i=r(44),u=r(36),s=r(30),f=r(73),c=r(49),a=r(74),l=r(17),h=r(55),p=r(25).f,v=r(100)(0),d=r(21);t.exports=function(t,n,r,y,g,m){var b=e[t],_=b,w=g?"set":"add",x=_&&_.prototype,S={};return d&&"function"==typeof _&&(m||x.forEach&&!u((function(){(new _).entries().next()})))?(_=n((function(n,r){a(n,_,t,"_c"),n._c=new b,null!=r&&c(r,g,n[w],n)})),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var n="add"==t||"set"==t;!(t in x)||m&&"clear"==t||s(_.prototype,t,(function(r,e){if(a(this,_,t),!n&&m&&!l(r))return"get"==t&&void 0;var o=this._c[t](0===r?0:r,e);return n?this:o}))})),m||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=y.getConstructor(n,t,g,w),f(_.prototype,r),i.NEED=!0),h(_,t),S[t]=_,o(o.G+o.W+o.F,S),m||y.setStrong(_,t,g),_}},function(t,n,r){"use strict";var e=r(13);t.exports=function(t){e(e.S,t,{of:function(){for(var t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return new this(n)}})}},function(t,n,r){"use strict";var e=r(13),o=r(52),i=r(28),u=r(49);t.exports=function(t){e(e.S,t,{from:function(t){var n,r,e,s,f=arguments[1];return o(this),(n=void 0!==f)&&o(f),null==t?new this:(r=[],n?(e=0,s=i(f,arguments[2],2),u(t,!1,(function(t){r.push(s(t,e++))}))):u(t,!1,r.push,r),new this(r))}})}},function(t,n,r){t.exports={default:r(209),__esModule:!0}},function(t,n,r){"use strict";var e=r(52);function o(t){var n,r;this.promise=new t((function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e})),this.resolve=e(n),this.reject=e(r)}t.exports.f=function(t){return new o(t)}},function(t,n,r){"use strict";r.r(n),r.d(n,"WGS84",(function(){return e})),r.d(n,"WGS1984",(function(){return o})),r.d(n,"EPSG4326",(function(){return i})),r.d(n,"GCJ02",(function(){return u})),r.d(n,"AMap",(function(){return s})),r.d(n,"BD09",(function(){return f})),r.d(n,"BD09LL",(function(){return c})),r.d(n,"Baidu",(function(){return a})),r.d(n,"BMap",(function(){return l})),r.d(n,"BD09MC",(function(){return h})),r.d(n,"BD09Meter",(function(){return p})),r.d(n,"EPSG3857",(function(){return v})),r.d(n,"EPSG900913",(function(){return d})),r.d(n,"EPSG102100",(function(){return y})),r.d(n,"WebMercator",(function(){return g})),r.d(n,"WM",(function(){return m})),r.d(n,"transform",(function(){return ft}));
/* @preserve
 * gcoord 0.2.2, geographic coordinate library
 * Copyright (c) 2019 Jiulong Hu <me@hujiulong.com>
 */
var e="WGS84",o=e,i=e,u="GCJ02",s=u,f="BD09",c=f,a=f,l=f,h="BD09MC",p=h,v="EPSG3857",d=v,y=v,g=v,m=v;function b(t){throw new Error(t)}function _(t){return!isNaN(t)&&null!==t&&!w(t)}function w(t){return!!t&&"[object Array]"===Object.prototype.toString.call(t)}function x(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length-1;return function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var o=r,i=t[r].apply(null,n);o--;)i=t[o].call(null,i);return i}}function S(t,n,r){if(void 0===r&&(r=!1),null!==t)for(var e,o,i,u,s,f,c,a,l=0,h=0,p=t.type,v="FeatureCollection"===p,d="Feature"===p,y=v?t.features.length:1,g=0;g<y;g++){s=(a=!!(c=v?t.features[g].geometry:d?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var m=0;m<s;m++){var _=0,w=0;if(null!==(u=a?c.geometries[m]:c)){var x=u.type;switch(l=!r||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===n(f=u.coordinates,h,g,_,w))return!1;h++,_++;break;case"LineString":case"MultiPoint":for(f=u.coordinates,e=0;e<f.length;e++){if(!1===n(f[e],h,g,_,w))return!1;h++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(f=u.coordinates,e=0;e<f.length;e++){for(o=0;o<f[e].length-l;o++){if(!1===n(f[e][o],h,g,_,w))return!1;h++}"MultiLineString"===x&&_++,"Polygon"===x&&w++}"Polygon"===x&&_++;break;case"MultiPolygon":for(f=u.coordinates,e=0;e<f.length;e++){for(w=0,o=0;o<f[e].length;o++){for(i=0;i<f[e][o].length-l;i++){if(!1===n(f[e][o][i],h,g,_,w))return!1;h++}w++}_++}break;case"GeometryCollection":for(e=0;e<u.geometries.length;e++)if(!1===S(u.geometries[e],n,r))return!1;break;default:b("Unknown Geometry Type")}}}}}var O=Math.sin,E=Math.cos,M=Math.sqrt,j=Math.abs,L=Math.PI,P=6378245,k=.006693421622965823;function A(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];for(var e=[n,r],o=e[0],i=e[1],u=N([o,i]),s=u[0]-n,f=u[1]-r;j(s)>1e-6||j(f)>1e-6;)s=(u=N([o-=s,i-=f]))[0]-n,f=u[1]-r;return[o,i]}function N(t){var n=t[0],r=t[1];if(!B(n,r))return[n,r];var e=function(t,n){var r=(s=t-105,f=n-35,c=300+s+2*f+.1*s*s+.1*s*f+.1*M(j(s)),c+=2*(20*O(6*s*L)+20*O(2*s*L))/3,c+=2*(20*O(s*L)+40*O(s/3*L))/3,c+=2*(150*O(s/12*L)+300*O(s/30*L))/3),e=function(t,n){var r=2*t-100+3*n+.2*n*n+.1*t*n+.2*M(j(t));return r+=2*(20*O(6*t*L)+20*O(2*t*L))/3,r+=2*(20*O(n*L)+40*O(n/3*L))/3,r+=2*(160*O(n/12*L)+320*O(n*L/30))/3,r}(t-105,n-35),o=n/180*L,i=O(o),u=M(i=1-k*i*i);var s,f,c;return[r=180*r/(P/u*E(o)*L),e=180*e/(P*(1-k)/(i*u)*L)]}(n,r);return[n+e[0],r+e[1]]}function B(t,n){return t>=72.004&&t<=137.8347&&n>=.8293&&n<=55.8271}var C=Math.sin,F=Math.cos,T=Math.atan2,D=Math.sqrt,G=3e3*Math.PI/180;function R(t){var n=t[0]-.0065,r=t[1]-.006,e=D(n*n+r*r)-2e-5*C(r*G),o=T(r,n)-3e-6*F(n*G);return[e*F(o),e*C(o)]}function I(t){var n=t[0],r=t[1],e=D(n*n+r*r)+2e-5*C(r*G),o=T(r,n)+3e-6*F(n*G);return[e*F(o)+.0065,e*C(o)+.006]}var W=180/Math.PI,z=Math.PI/180,U=6378137,J=20037508.342789244;function q(t){return[t[0]*W/U,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/U)))*W]}function H(t){var n=Math.abs(t[0])<=180?t[0]:t[0]-360*(t[0]<0?-1:1),r=[U*n*z,U*Math.log(Math.tan(.25*Math.PI+.5*t[1]*z))];return r[0]>J&&(r[0]=J),r[0]<-J&&(r[0]=-J),r[1]>J&&(r[1]=J),r[1]<-J&&(r[1]=-J),r}var V=Math.abs,Y=Math.pow,K=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],$=[75,60,45,30,15,0],Z=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],X=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function Q(t,n,r){var e=V(n)/r[9],o=r[0]+r[1]*V(t),i=r[2]+r[3]*e+r[4]*Y(e,2)+r[5]*Y(e,3)+r[6]*Y(e,4)+r[7]*Y(e,5)+r[8]*Y(e,6);return[o*=t<0?-1:1,i*=n<0?-1:1]}function tt(t){for(var n=t[0],r=t[1],e=[],o=0;o<$.length;o++)if(V(r)>$[o]){e=X[o];break}return Q(n,r,e)}function nt(t){for(var n=t[0],r=t[1],e=[],o=0;o<K.length;o++)if(r>=K[o]){e=Z[o];break}return Q(n,r,e)}var rt={to:{GCJ02:N,BD09:x(I,N),BD09MC:x(tt,I,N),EPSG3857:H}},et={to:{WGS84:A,BD09:I,BD09MC:x(tt,I),EPSG3857:x(H,A)}},ot={to:{WGS84:x(A,R),GCJ02:R,EPSG3857:x(H,A,R),BD09MC:tt}},it={to:{WGS84:q,GCJ02:x(N,q),BD09:x(I,N,q),BD09MC:x(tt,I,N,q)}},ut={to:{WGS84:x(A,R,nt),GCJ02:x(R,nt),EPSG3857:x(H,A,R,nt),BD09:nt}},st=Object.freeze({WGS84:rt,GCJ02:et,BD09:ot,EPSG3857:it,BD09MC:ut});function ft(t,n,r){t||b("coordinate is required"),n||b("original coordinate system is required"),r||b("target coordinate system is required");var e=st[n];if(e||b("original coordinate system is invalid"),n===r)return t;var o=e.to[r];o||b("target coordinate system is invalid");var i=typeof t;if("string"!==i&&"object"!==i&&b("coordinate must be an geojson or an array of position"),"string"===i)try{t=JSON.parse(t)}catch(t){b("input is not a legal JSON string")}var u=!1;w(t)&&(t.length<2&&b("position must be at 2 numbers long"),_(t[0])&&_(t[1])||b("position must contain numbers"),t=t.map(Number),u=!0);var s=null,f=o;return u?s=f(t):(S(t,(function(t){var n;n=f(t),t[0]=n[0],t[1]=n[1]})),s=t),s}var ct={WGS84:e,WGS1984:o,EPSG4326:i,GCJ02:u,AMap:s,BD09:f,BD09LL:c,Baidu:a,BMap:l,BD09MC:h,BD09Meter:p,EPSG3857:v,EPSG900913:d,EPSG102100:y,WebMercator:g,WM:m,transform:ft};n.default=ct},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},,,,,,,,function(t,n,r){t.exports={default:r(160),__esModule:!0}},function(t,n,r){t.exports=!r(21)&&!r(36)((function(){return 7!=Object.defineProperty(r(85)("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(29),o=r(31),i=r(163)(!1),u=r(94)("IE_PROTO");t.exports=function(t,n){var r,s=o(t),f=0,c=[];for(r in s)r!=u&&e(s,r)&&c.push(r);for(;n.length>f;)e(s,r=n[f++])&&(~i(c,r)||c.push(r));return c}},function(t,n,r){var e=r(93),o=Math.max,i=Math.min;t.exports=function(t,n){return(t=e(t))<0?o(t+n,0):i(t,n)}},function(t,n,r){var e=r(56);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(25),o=r(26),i=r(45);t.exports=r(21)?Object.defineProperties:function(t,n){o(t);for(var r,u=i(n),s=u.length,f=0;s>f;)e.f(t,r=u[f++],n[r]);return t}},function(t,n,r){var e=r(16).document;t.exports=e&&e.documentElement},function(t,n,r){var e=r(31),o=r(123).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return u.slice()}}(t):o(e(t))}},function(t,n,r){var e=r(117),o=r(95).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,o)}},function(t,n,r){t.exports={default:r(168),__esModule:!0}},function(t,n,r){var e=r(29),o=r(37),i=r(94)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),e(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,n,r){var e=r(26);t.exports=function(t,n,r,o){try{return o?n(e(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&e(i.call(t)),n}}},function(t,n,r){var e=r(46),o=r(18)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(e.Array===t||i[o]===t)}},function(t,n,r){var e=r(18)("iterator"),o=!1;try{var i=[7][e]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,n){if(!n&&!o)return!1;var r=!1;try{var i=[7],u=i[e]();u.next=function(){return{done:r=!0}},i[e]=function(){return u},t(i)}catch(t){}return r}},function(t,n,r){"use strict";var e=r(21),o=r(45),i=r(96),u=r(57),s=r(37),f=r(91),c=Object.assign;t.exports=!c||r(36)((function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach((function(t){n[t]=t})),7!=c({},t)[r]||Object.keys(c({},n)).join("")!=e}))?function(t,n){for(var r=s(t),c=arguments.length,a=1,l=i.f,h=u.f;c>a;)for(var p,v=f(arguments[a++]),d=l?o(v).concat(l(v)):o(v),y=d.length,g=0;y>g;)p=d[g++],e&&!h.call(v,p)||(r[p]=v[p]);return r}:c},function(t,n){t.exports=function(t,n){return{value:n,done:!!t}}},function(t,n,r){"use strict";var e=r(25).f,o=r(69),i=r(73),u=r(28),s=r(74),f=r(49),c=r(98),a=r(130),l=r(132),h=r(21),p=r(44).fastKey,v=r(50),d=h?"_s":"size",y=function(t,n){var r,e=p(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};t.exports={getConstructor:function(t,n,r,c){var a=t((function(t,e){s(t,a,n,"_i"),t._t=n,t._i=o(null),t._f=void 0,t._l=void 0,t[d]=0,null!=e&&f(e,r,t[c],t)}));return i(a.prototype,{clear:function(){for(var t=v(this,n),r=t._i,e=t._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete r[e.i];t._f=t._l=void 0,t[d]=0},delete:function(t){var r=v(this,n),e=y(r,t);if(e){var o=e.n,i=e.p;delete r._i[e.i],e.r=!0,i&&(i.n=o),o&&(o.p=i),r._f==e&&(r._f=o),r._l==e&&(r._l=i),r[d]--}return!!e},forEach:function(t){v(this,n);for(var r,e=u(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(e(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!y(v(this,n),t)}}),h&&e(a.prototype,"size",{get:function(){return v(this,n)[d]}}),a},def:function(t,n,r){var e,o,i=y(t,n);return i?i.v=r:(t._l=i={i:o=p(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=i),e&&(e.n=i),t[d]++,"F"!==o&&(t._i[o]=i)),t},getEntry:y,setStrong:function(t,n,r){c(t,n,(function(t,r){this._t=v(t,n),this._k=r,this._l=void 0}),(function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?a(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,a(1))}),r?"entries":"values",!r,!0),l(n)}}},function(t,n,r){"use strict";var e=r(16),o=r(3),i=r(25),u=r(21),s=r(18)("species");t.exports=function(t){var n="function"==typeof o[t]?o[t]:e[t];u&&n&&!n[s]&&i.f(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){var e=r(70),o=r(219);t.exports=function(t){return function(){if(e(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,n,r){var e=r(26),o=r(52),i=r(18)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[i])?n:o(r)}},function(t,n,r){var e,o,i,u=r(28),s=r(228),f=r(121),c=r(85),a=r(16),l=a.process,h=a.setImmediate,p=a.clearImmediate,v=a.MessageChannel,d=a.Dispatch,y=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var n=g[t];delete g[t],n()}},_=function(t){b.call(t.data)};h&&p||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return g[++y]=function(){s("function"==typeof t?t:Function(t),n)},e(y),y},p=function(t){delete g[t]},"process"==r(56)(l)?e=function(t){l.nextTick(u(b,t,1))}:d&&d.now?e=function(t){d.now(u(b,t,1))}:v?(i=(o=new v).port2,o.port1.onmessage=_,e=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts?(e=function(t){a.postMessage(t+"","*")},a.addEventListener("message",_,!1)):e=m in c("script")?function(t){f.appendChild(c("script"))[m]=function(){f.removeChild(this),b.call(t)}}:function(t){setTimeout(u(b,t,1),0)}),t.exports={set:h,clear:p}},function(t,n){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,n,r){var e=r(26),o=r(17),i=r(105);t.exports=function(t,n){if(e(t),o(n)&&n.constructor===t)return n;var r=i.f(t);return(0,r.resolve)(n),r.promise}},function(t,n,r){"use strict";t.exports=l;var e,o=r(41),i=o.LongBits,u=o.base64,s=o.utf8;function f(t,n,r){this.fn=t,this.len=n,this.next=void 0,this.val=r}function c(){}function a(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function l(){this.len=0,this.head=new f(c,0,0),this.tail=this.head,this.states=null}function h(t,n,r){n[r]=255&t}function p(t,n){this.len=t,this.next=void 0,this.val=n}function v(t,n,r){for(;t.hi;)n[r++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)n[r++]=127&t.lo|128,t.lo=t.lo>>>7;n[r++]=t.lo}function d(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new e})()}:function(){return new l},l.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(t,n,r){return this.tail=this.tail.next=new f(t,n,r),this.len+=n,this},p.prototype=Object.create(f.prototype),p.prototype.fn=function(t,n,r){for(;t>127;)n[r++]=127&t|128,t>>>=7;n[r]=t},l.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new p((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},l.prototype.int32=function(t){return t<0?this._push(v,10,i.fromNumber(t)):this.uint32(t)},l.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},l.prototype.uint64=function(t){var n=i.from(t);return this._push(v,n.length(),n)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(t){var n=i.from(t).zzEncode();return this._push(v,n.length(),n)},l.prototype.bool=function(t){return this._push(h,1,t?1:0)},l.prototype.fixed32=function(t){return this._push(d,4,t>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(t){var n=i.from(t);return this._push(d,4,n.lo)._push(d,4,n.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},l.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var y=o.Array.prototype.set?function(t,n,r){n.set(t,r)}:function(t,n,r){for(var e=0;e<t.length;++e)n[r+e]=t[e]};l.prototype.bytes=function(t){var n=t.length>>>0;if(!n)return this._push(h,1,0);if(o.isString(t)){var r=l.alloc(n=u.length(t));u.decode(t,r,0),t=r}return this.uint32(n)._push(y,n,t)},l.prototype.string=function(t){var n=s.length(t);return n?this.uint32(n)._push(s.write,n,t):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new a(this),this.head=this.tail=new f(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var t=this.head,n=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=t.next,this.tail=n,this.len+=r),this},l.prototype.finish=function(){for(var t=this.head.next,n=this.constructor.alloc(this.len),r=0;t;)t.fn(t.val,n,r),r+=t.len,t=t.next;return n},l._configure=function(t){e=t}},function(t,n,r){"use strict";t.exports=f;var e,o=r(41),i=o.LongBits,u=o.utf8;function s(t,n){return RangeError("index out of range: "+t.pos+" + "+(n||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}var c,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new i(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*n)>>>0,t}for(;n<4;++n)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}else for(;n<5;++n){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function h(t,n){return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}f.create=o.Buffer?function(t){return(f.create=function(t){return o.Buffer.isBuffer(t)?new e(t):a(t)})(t)}:a,f.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,f.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),n=this.pos,r=this.pos+t;if(r>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(n,r):n===r?new this.buf.constructor(0):this._slice.call(this.buf,n,r)},f.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f._configure=function(t){e=t;var n=o.Long?"toLong":"toNumber";o.merge(f.prototype,{int64:function(){return l.call(this)[n](!1)},uint64:function(){return l.call(this)[n](!0)},sint64:function(){return l.call(this).zzDecode()[n](!1)},fixed64:function(){return p.call(this)[n](!0)},sfixed64:function(){return p.call(this)[n](!1)}})}},,,,,,,,,,,,,,,,,,,,,function(t,n,r){r(161),r(58),r(164),r(165),t.exports=r(3).Symbol},function(t,n,r){"use strict";var e=r(16),o=r(29),i=r(21),u=r(13),s=r(87),f=r(44).KEY,c=r(36),a=r(88),l=r(55),h=r(67),p=r(18),v=r(89),d=r(90),y=r(162),g=r(119),m=r(26),b=r(17),_=r(37),w=r(31),x=r(86),S=r(53),O=r(69),E=r(122),M=r(97),j=r(96),L=r(25),P=r(45),k=M.f,A=L.f,N=E.f,B=e.Symbol,C=e.JSON,F=C&&C.stringify,T="prototype",D=p("_hidden"),G=p("toPrimitive"),R={}.propertyIsEnumerable,I=a("symbol-registry"),W=a("symbols"),z=a("op-symbols"),U=Object[T],J="function"==typeof B&&!!j.f,q=e.QObject,H=!q||!q[T]||!q[T].findChild,V=i&&c((function(){return 7!=O(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=k(U,n);e&&delete U[n],A(t,n,r),e&&t!==U&&A(U,n,e)}:A,Y=function(t){var n=W[t]=O(B[T]);return n._k=t,n},K=J&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},$=function(t,n,r){return t===U&&$(z,n,r),m(t),n=x(n,!0),m(r),o(W,n)?(r.enumerable?(o(t,D)&&t[D][n]&&(t[D][n]=!1),r=O(r,{enumerable:S(0,!1)})):(o(t,D)||A(t,D,S(1,{})),t[D][n]=!0),V(t,n,r)):A(t,n,r)},Z=function(t,n){m(t);for(var r,e=y(n=w(n)),o=0,i=e.length;i>o;)$(t,r=e[o++],n[r]);return t},X=function(t){var n=R.call(this,t=x(t,!0));return!(this===U&&o(W,t)&&!o(z,t))&&(!(n||!o(this,t)||!o(W,t)||o(this,D)&&this[D][t])||n)},Q=function(t,n){if(t=w(t),n=x(n,!0),t!==U||!o(W,n)||o(z,n)){var r=k(t,n);return!r||!o(W,n)||o(t,D)&&t[D][n]||(r.enumerable=!0),r}},tt=function(t){for(var n,r=N(w(t)),e=[],i=0;r.length>i;)o(W,n=r[i++])||n==D||n==f||e.push(n);return e},nt=function(t){for(var n,r=t===U,e=N(r?z:w(t)),i=[],u=0;e.length>u;)!o(W,n=e[u++])||r&&!o(U,n)||i.push(W[n]);return i};J||(B=function(){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),n=function(r){this===U&&n.call(z,r),o(this,D)&&o(this[D],t)&&(this[D][t]=!1),V(this,t,S(1,r))};return i&&H&&V(U,t,{configurable:!0,set:n}),Y(t)},s(B[T],"toString",(function(){return this._k})),M.f=Q,L.f=$,r(123).f=E.f=tt,r(57).f=X,j.f=nt,i&&!r(54)&&s(U,"propertyIsEnumerable",X,!0),v.f=function(t){return Y(p(t))}),u(u.G+u.W+u.F*!J,{Symbol:B});for(var rt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;rt.length>et;)p(rt[et++]);for(var ot=P(p.store),it=0;ot.length>it;)d(ot[it++]);u(u.S+u.F*!J,"Symbol",{for:function(t){return o(I,t+="")?I[t]:I[t]=B(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var n in I)if(I[n]===t)return n},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!J,"Object",{create:function(t,n){return void 0===n?O(t):Z(O(t),n)},defineProperty:$,defineProperties:Z,getOwnPropertyDescriptor:Q,getOwnPropertyNames:tt,getOwnPropertySymbols:nt});var ut=c((function(){j.f(1)}));u(u.S+u.F*ut,"Object",{getOwnPropertySymbols:function(t){return j.f(_(t))}}),C&&u(u.S+u.F*(!J||c((function(){var t=B();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))}))),"JSON",{stringify:function(t){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);if(r=n=e[1],(b(n)||void 0!==t)&&!K(t))return g(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!K(n))return n}),e[1]=n,F.apply(C,e)}}),B[T][G]||r(30)(B[T],G,B[T].valueOf),l(B,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},function(t,n,r){var e=r(45),o=r(96),i=r(57);t.exports=function(t){var n=e(t),r=o.f;if(r)for(var u,s=r(t),f=i.f,c=0;s.length>c;)f.call(t,u=s[c++])&&n.push(u);return n}},function(t,n,r){var e=r(31),o=r(68),i=r(118);t.exports=function(t){return function(n,r,u){var s,f=e(n),c=o(f.length),a=i(u,c);if(t&&r!=r){for(;c>a;)if((s=f[a++])!=s)return!0}else for(;c>a;a++)if((t||a in f)&&f[a]===r)return t||a||0;return!t&&-1}}},function(t,n,r){r(90)("asyncIterator")},function(t,n,r){r(90)("observable")},,,function(t,n,r){r(169);var e=r(3).Object;t.exports=function(t,n,r){return e.defineProperty(t,n,r)}},function(t,n,r){var e=r(13);e(e.S+e.F*!r(21),"Object",{defineProperty:r(25).f})},function(t,n,r){function e(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.i=function(t){return t},r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/",r.oe=function(t){throw t};var e=r(r.s=ENTRY_MODULE);return e.default||e}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+o+").*?\\)";function u(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t,n,e){var s={};s[e]=[];var f=n.toString(),c=f.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!c)return s;for(var a,l=c[1],h=new RegExp("(\\\\n|\\W)"+u(l)+i,"g");a=h.exec(f);)"dll-reference"!==a[3]&&s[e].push(a[3]);for(h=new RegExp("\\("+u(l)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");a=h.exec(f);)t[a[2]]||(s[e].push(a[1]),t[a[2]]=r(a[1]).m),s[a[2]]=s[a[2]]||[],s[a[2]].push(a[4]);for(var p,v=Object.keys(s),d=0;d<v.length;d++)for(var y=0;y<s[v[d]].length;y++)p=s[v[d]][y],isNaN(1*p)||(s[v[d]][y]=1*s[v[d]][y]);return s}function f(t){return Object.keys(t).reduce((function(n,r){return n||t[r].length>0}),!1)}t.exports=function(t,n){n=n||{};var o={main:r.m},i=n.all?{main:Object.keys(o.main)}:function(t,n){for(var r={main:[n]},e={main:[]},o={main:{}};f(r);)for(var i=Object.keys(r),u=0;u<i.length;u++){var c=i[u],a=r[c].pop();if(o[c]=o[c]||{},!o[c][a]&&t[c][a]){o[c][a]=!0,e[c]=e[c]||[],e[c].push(a);for(var l=s(t,t[c][a],c),h=Object.keys(l),p=0;p<h.length;p++)r[h[p]]=r[h[p]]||[],r[h[p]]=r[h[p]].concat(l[h[p]])}}return e}(o,t),u="";Object.keys(i).filter((function(t){return"main"!==t})).forEach((function(t){for(var n=0;i[t][n];)n++;i[t].push(n),o[t][n]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",u=u+"var "+t+" = ("+e.toString().replace("ENTRY_MODULE",JSON.stringify(n))+")({"+i[t].map((function(n){return JSON.stringify(n)+": "+o[t][n].toString()})).join(",")+"});\n"})),u=u+"new (("+e.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i.main.map((function(t){return JSON.stringify(t)+": "+o.main[t].toString()})).join(",")+"}))(self);";var c=new window.Blob([u],{type:"text/javascript"});if(n.bare)return c;var a=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(c),l=new window.Worker(a);return l.objectURL=a,l}},,,function(t,n,r){r(39),r(176),t.exports=r(3).Array.from},function(t,n,r){var e=r(93),o=r(92);t.exports=function(t){return function(n,r){var i,u,s=String(o(n)),f=e(r),c=s.length;return f<0||f>=c?t?"":void 0:(i=s.charCodeAt(f))<55296||i>56319||f+1===c||(u=s.charCodeAt(f+1))<56320||u>57343?t?s.charAt(f):i:t?s.slice(f,f+2):u-56320+(i-55296<<10)+65536}}},function(t,n,r){"use strict";var e=r(69),o=r(53),i=r(55),u={};r(30)(u,r(18)("iterator"),(function(){return this})),t.exports=function(t,n,r){t.prototype=e(u,{next:o(1,r)}),i(t,n+" Iterator")}},function(t,n,r){"use strict";var e=r(28),o=r(13),i=r(37),u=r(126),s=r(127),f=r(68),c=r(177),a=r(99);o(o.S+o.F*!r(128)((function(t){Array.from(t)})),"Array",{from:function(t){var n,r,o,l,h=i(t),p="function"==typeof this?this:Array,v=arguments.length,d=v>1?arguments[1]:void 0,y=void 0!==d,g=0,m=a(h);if(y&&(d=e(d,v>2?arguments[2]:void 0,2)),null==m||p==Array&&s(m))for(r=new p(n=f(h.length));n>g;g++)c(r,g,y?d(h[g],g):h[g]);else for(l=m.call(h),r=new p;!(o=l.next()).done;g++)c(r,g,y?u(l,d,[o.value,g],!0):o.value);return r.length=g,r}})},function(t,n,r){"use strict";var e=r(25),o=r(53);t.exports=function(t,n,r){n in t?e.f(t,n,o(0,r)):t[n]=r}},function(t,n,r){t.exports={default:r(179),__esModule:!0}},function(t,n,r){r(180);var e=r(3).Object;t.exports=function(t){return e.getOwnPropertyNames(t)}},function(t,n,r){r(59)("getOwnPropertyNames",(function(){return r(122).f}))},function(t,n,r){r(182),t.exports=r(3).Object.assign},function(t,n,r){var e=r(13);e(e.S+e.F,"Object",{assign:r(129)})},function(t,n,r){r(184),t.exports=r(3).Object.keys},function(t,n,r){var e=r(37),o=r(45);r(59)("keys",(function(){return function(t){return o(e(t))}}))},function(t,n,r){t.exports={default:r(186),__esModule:!0}},function(t,n,r){r(187),t.exports=r(3).Object.freeze},function(t,n,r){var e=r(17),o=r(44).onFreeze;r(59)("freeze",(function(t){return function(n){return t&&e(n)?t(o(n)):n}}))},function(t,n,r){var e=r(3),o=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,n,r){r(58),r(40),r(192),r(196),r(197),t.exports=r(3).WeakMap},function(t,n,r){"use strict";var e=r(191),o=r(130),i=r(46),u=r(31);t.exports=r(98)(Array,"Array",(function(t,n){this._t=u(t),this._i=0,this._k=n}),(function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])}),"values"),i.Arguments=i.Array,e("keys"),e("values"),e("entries")},function(t,n){t.exports=function(){}},function(t,n,r){"use strict";var e,o=r(16),i=r(100)(0),u=r(87),s=r(44),f=r(129),c=r(195),a=r(17),l=r(50),h=r(50),p=!o.ActiveXObject&&"ActiveXObject"in o,v="WeakMap",d=s.getWeak,y=Object.isExtensible,g=c.ufstore,m=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(a(t)){var n=d(t);return!0===n?g(l(this,v)).get(t):n?n[this._i]:void 0}},set:function(t,n){return c.def(l(this,v),t,n)}},_=t.exports=r(101)(v,m,b,c,!0,!0);h&&p&&(f((e=c.getConstructor(m,v)).prototype,b),s.NEED=!0,i(["delete","has","get","set"],(function(t){var n=_.prototype,r=n[t];u(n,t,(function(n,o){if(a(n)&&!y(n)){this._f||(this._f=new e);var i=this._f[t](n,o);return"set"==t?this:i}return r.call(this,n,o)}))})))},function(t,n,r){var e=r(194);t.exports=function(t,n){return new(e(t))(n)}},function(t,n,r){var e=r(17),o=r(119),i=r(18)("species");t.exports=function(t){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)||(n=void 0),e(n)&&null===(n=n[i])&&(n=void 0)),void 0===n?Array:n}},function(t,n,r){"use strict";var e=r(73),o=r(44).getWeak,i=r(26),u=r(17),s=r(74),f=r(49),c=r(100),a=r(29),l=r(50),h=c(5),p=c(6),v=0,d=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},g=function(t,n){return h(t.a,(function(t){return t[0]===n}))};y.prototype={get:function(t){var n=g(this,t);if(n)return n[1]},has:function(t){return!!g(this,t)},set:function(t,n){var r=g(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(t){var n=p(this.a,(function(n){return n[0]===t}));return~n&&this.a.splice(n,1),!!~n}},t.exports={getConstructor:function(t,n,r,i){var c=t((function(t,e){s(t,c,n,"_i"),t._t=n,t._i=v++,t._l=void 0,null!=e&&f(e,r,t[i],t)}));return e(c.prototype,{delete:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).delete(t):r&&a(r,this._i)&&delete r[this._i]},has:function(t){if(!u(t))return!1;var r=o(t);return!0===r?d(l(this,n)).has(t):r&&a(r,this._i)}}),c},def:function(t,n,r){var e=o(i(n),!0);return!0===e?d(t).set(n,r):e[t._i]=r,t},ufstore:d}},function(t,n,r){r(102)("WeakMap")},function(t,n,r){r(103)("WeakMap")},function(t,n,r){r(199);var e=r(3).Object;t.exports=function(t,n){return e.create(t,n)}},function(t,n,r){var e=r(13);e(e.S,"Object",{create:r(69)})},function(t,n,r){r(201);var e=r(3).Object;t.exports=function(t,n){return e.defineProperties(t,n)}},function(t,n,r){var e=r(13);e(e.S+e.F*!r(21),"Object",{defineProperties:r(120)})},function(t,n,r){r(203),t.exports=r(3).Math.sign},function(t,n,r){var e=r(13);e(e.S,"Math",{sign:r(204)})},function(t,n){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,n,r){t.exports={default:r(206),__esModule:!0}},function(t,n,r){r(207),t.exports=r(3).Number.isInteger},function(t,n,r){var e=r(13);e(e.S,"Number",{isInteger:r(208)})},function(t,n,r){var e=r(17),o=Math.floor;t.exports=function(t){return!e(t)&&isFinite(t)&&o(t)===t}},function(t,n,r){r(210),t.exports=Math.pow(2,-52)},function(t,n,r){var e=r(13);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,n,r){t.exports={default:r(212),__esModule:!0}},function(t,n,r){r(39),r(40),t.exports=r(89).f("iterator")},function(t,n,r){t.exports={default:r(214),__esModule:!0}},function(t,n,r){r(215),t.exports=r(3).Math.log10},function(t,n,r){var e=r(13);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,n,r){r(58),r(39),r(40),r(217),r(218),r(220),r(221),t.exports=r(3).Set},function(t,n,r){"use strict";var e=r(131),o=r(50);t.exports=r(101)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return e.def(o(this,"Set"),t=0===t?0:t,t)}},e)},function(t,n,r){var e=r(13);e(e.P+e.R,"Set",{toJSON:r(133)("Set")})},function(t,n,r){var e=r(49);t.exports=function(t,n){var r=[];return e(t,!1,r.push,r,n),r}},function(t,n,r){r(102)("Set")},function(t,n,r){r(103)("Set")},,,function(t,n,r){var e=function(){return this}()||Function("return this")(),o=e.regeneratorRuntime&&Object.getOwnPropertyNames(e).indexOf("regeneratorRuntime")>=0,i=o&&e.regeneratorRuntime;if(e.regeneratorRuntime=void 0,t.exports=r(225),o)e.regeneratorRuntime=i;else try{delete e.regeneratorRuntime}catch(t){e.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var r,e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag",c="object"==typeof t,a=n.regeneratorRuntime;if(a)c&&(t.exports=a);else{(a=n.regeneratorRuntime=c?t.exports:{}).wrap=_;var l="suspendedStart",h="suspendedYield",p="executing",v="completed",d={},y={};y[u]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(A([])));m&&m!==e&&o.call(m,u)&&(y=m);var b=O.prototype=x.prototype=Object.create(y);S.prototype=b.constructor=O,O.constructor=S,O[f]=S.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,f in t||(t[f]="GeneratorFunction")),t.prototype=Object.create(b),t},a.awrap=function(t){return{__await:t}},E(M.prototype),M.prototype[s]=function(){return this},a.AsyncIterator=M,a.async=function(t,n,r,e){var o=new M(_(t,n,r,e));return a.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(b),b[f]="Generator",b[u]=function(){return this},b.toString=function(){return"[object Generator]"},a.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},a.values=A,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=r)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function e(e,o){return s.type="throw",s.arg=t,n.next=e,o&&(n.method="next",n.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],s=u.completion;if("root"===u.tryLoc)return e("end");if(u.tryLoc<=this.prev){var f=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(f&&c){if(this.prev<u.catchLoc)return e(u.catchLoc,!0);if(this.prev<u.finallyLoc)return e(u.finallyLoc)}else if(f){if(this.prev<u.catchLoc)return e(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return e(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&o.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=n,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),d},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),d}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:A(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=r),d}}}function _(t,n,r,e){var o=n&&n.prototype instanceof x?n:x,i=Object.create(o.prototype),u=new k(e||[]);return i._invoke=function(t,n,r){var e=l;return function(o,i){if(e===p)throw new Error("Generator is already running");if(e===v){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=j(u,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===l)throw e=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=p;var f=w(t,n,r);if("normal"===f.type){if(e=r.done?v:h,f.arg===d)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(e=v,r.method="throw",r.arg=f.arg)}}}(t,r,u),i}function w(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function x(){}function S(){}function O(){}function E(t){["next","throw","return"].forEach((function(n){t[n]=function(t){return this._invoke(n,t)}}))}function M(t){function n(r,e,i,u){var s=w(t[r],t,e);if("throw"!==s.type){var f=s.arg,c=f.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,i,u)}),(function(t){n("throw",t,i,u)})):Promise.resolve(c).then((function(t){f.value=t,i(f)}),u)}u(s.arg)}var r;this._invoke=function(t,e){function o(){return new Promise((function(r,o){n(t,e,r,o)}))}return r=r?r.then(o,o):o()}}function j(t,n){var e=t.iterator[n.method];if(e===r){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=r,j(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=w(e,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=r),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function L(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function P(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function A(t){if(t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,i=function n(){for(;++e<t.length;)if(o.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=r,n.done=!0,n};return i.next=i}}return{next:N}}function N(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},function(t,n,r){r(58),r(39),r(40),r(227),r(231),r(232),t.exports=r(3).Promise},function(t,n,r){"use strict";var e,o,i,u,s=r(54),f=r(16),c=r(28),a=r(70),l=r(13),h=r(17),p=r(52),v=r(74),d=r(49),y=r(134),g=r(135).set,m=r(229)(),b=r(105),_=r(136),w=r(230),x=r(137),S="Promise",O=f.TypeError,E=f.process,M=E&&E.versions,j=M&&M.v8||"",L=f[S],P="process"==a(E),k=function(){},A=o=b.f,N=!!function(){try{var t=L.resolve(1),n=(t.constructor={})[r(18)("species")]=function(t){t(k,k)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof n&&0!==j.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),B=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},C=function(t,n){if(!t._n){t._n=!0;var r=t._c;m((function(){for(var e=t._v,o=1==t._s,i=0,u=function(n){var r,i,u,s=o?n.ok:n.fail,f=n.resolve,c=n.reject,a=n.domain;try{s?(o||(2==t._h&&D(t),t._h=1),!0===s?r=e:(a&&a.enter(),r=s(e),a&&(a.exit(),u=!0)),r===n.promise?c(O("Promise-chain cycle")):(i=B(r))?i.call(r,f,c):f(r)):c(e)}catch(t){a&&!u&&a.exit(),c(t)}};r.length>i;)u(r[i++]);t._c=[],t._n=!1,n&&!t._h&&F(t)}))}},F=function(t){g.call(f,(function(){var n,r,e,o=t._v,i=T(t);if(i&&(n=_((function(){P?E.emit("unhandledRejection",o,t):(r=f.onunhandledrejection)?r({promise:t,reason:o}):(e=f.console)&&e.error})),t._h=P||T(t)?2:1),t._a=void 0,i&&n.e)throw n.v}))},T=function(t){return 1!==t._h&&0===(t._a||t._c).length},D=function(t){g.call(f,(function(){var n;P?E.emit("rejectionHandled",t):(n=f.onrejectionhandled)&&n({promise:t,reason:t._v})}))},G=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),C(n,!0))},R=function(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw O("Promise can't be resolved itself");(n=B(t))?m((function(){var e={_w:r,_d:!1};try{n.call(t,c(R,e,1),c(G,e,1))}catch(t){G.call(e,t)}})):(r._v=t,r._s=1,C(r,!1))}catch(t){G.call({_w:r,_d:!1},t)}}};N||(L=function(t){v(this,L,S,"_h"),p(t),e.call(this);try{t(c(R,this,1),c(G,this,1))}catch(t){G.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(73)(L.prototype,{then:function(t,n){var r=A(y(this,L));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=P?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&C(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new e;this.promise=t,this.resolve=c(R,t,1),this.reject=c(G,t,1)},b.f=A=function(t){return t===L||t===u?new i(t):o(t)}),l(l.G+l.W+l.F*!N,{Promise:L}),r(55)(L,S),r(132)(S),u=r(3)[S],l(l.S+l.F*!N,S,{reject:function(t){var n=A(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(s||!N),S,{resolve:function(t){return x(s&&this===u?L:this,t)}}),l(l.S+l.F*!(N&&r(128)((function(t){L.all(t).catch(k)}))),S,{all:function(t){var n=this,r=A(n),e=r.resolve,o=r.reject,i=_((function(){var r=[],i=0,u=1;d(t,!1,(function(t){var s=i++,f=!1;r.push(void 0),u++,n.resolve(t).then((function(t){f||(f=!0,r[s]=t,--u||e(r))}),o)})),--u||e(r)}));return i.e&&o(i.v),r.promise},race:function(t){var n=this,r=A(n),e=r.reject,o=_((function(){d(t,!1,(function(t){n.resolve(t).then(r.resolve,e)}))}));return o.e&&e(o.v),r.promise}})},function(t,n){t.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},function(t,n,r){var e=r(16),o=r(135).set,i=e.MutationObserver||e.WebKitMutationObserver,u=e.process,s=e.Promise,f="process"==r(56)(u);t.exports=function(){var t,n,r,c=function(){var e,o;for(f&&(e=u.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(e){throw t?r():n=void 0,e}}n=void 0,e&&e.enter()};if(f)r=function(){u.nextTick(c)};else if(!i||e.navigator&&e.navigator.standalone)if(s&&s.resolve){var a=s.resolve(void 0);r=function(){a.then(c)}}else r=function(){o.call(e,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),r=function(){h.data=l=!l}}return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}},function(t,n,r){var e=r(16).navigator;t.exports=e&&e.userAgent||""},function(t,n,r){"use strict";var e=r(13),o=r(3),i=r(16),u=r(134),s=r(137);e(e.P+e.R,"Promise",{finally:function(t){var n=u(this,o.Promise||i.Promise),r="function"==typeof t;return this.then(r?function(r){return s(n,t()).then((function(){return r}))}:t,r?function(r){return s(n,t()).then((function(){throw r}))}:t)}})},function(t,n,r){"use strict";var e=r(13),o=r(105),i=r(136);e(e.S,"Promise",{try:function(t){var n=o.f(this),r=i(t);return(r.e?n.reject:n.resolve)(r.v),n.promise}})},,,function(t,n,r){"use strict";var e=n;function o(){e.Reader._configure(e.BufferReader),e.util._configure()}e.build="minimal",e.Writer=r(138),e.BufferWriter=r(244),e.Reader=r(139),e.BufferReader=r(245),e.util=r(41),e.rpc=r(246),e.roots=r(248),e.configure=o,e.Writer._configure(e.BufferWriter),o()},function(t,n,r){"use strict";t.exports=function(t,n){var r=new Array(arguments.length-1),e=0,o=2,i=!0;for(;o<arguments.length;)r[e++]=arguments[o++];return new Promise((function(o,u){r[e]=function(t){if(i)if(i=!1,t)u(t);else{for(var n=new Array(arguments.length-1),r=0;r<n.length;)n[r++]=arguments[r];o.apply(null,n)}};try{t.apply(n||null,r)}catch(t){i&&(i=!1,u(t))}}))}},function(t,n,r){"use strict";var e=n;e.length=function(t){var n=t.length;if(!n)return 0;for(var r=0;--n%4>1&&"="===t.charAt(n);)++r;return Math.ceil(3*t.length)/4-r};for(var o=new Array(64),i=new Array(123),u=0;u<64;)i[o[u]=u<26?u+65:u<52?u+71:u<62?u-4:u-59|43]=u++;e.encode=function(t,n,r){for(var e,i=null,u=[],s=0,f=0;n<r;){var c=t[n++];switch(f){case 0:u[s++]=o[c>>2],e=(3&c)<<4,f=1;break;case 1:u[s++]=o[e|c>>4],e=(15&c)<<2,f=2;break;case 2:u[s++]=o[e|c>>6],u[s++]=o[63&c],f=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,u)),s=0)}return f&&(u[s++]=o[e],u[s++]=61,1===f&&(u[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,u.slice(0,s))),i.join("")):String.fromCharCode.apply(String,u.slice(0,s))};var s="invalid encoding";e.decode=function(t,n,r){for(var e,o=r,u=0,f=0;f<t.length;){var c=t.charCodeAt(f++);if(61===c&&u>1)break;if(void 0===(c=i[c]))throw Error(s);switch(u){case 0:e=c,u=1;break;case 1:n[r++]=e<<2|(48&c)>>4,e=c,u=2;break;case 2:n[r++]=(15&e)<<4|(60&c)>>2,e=c,u=3;break;case 3:n[r++]=(3&e)<<6|c,u=0}}if(1===u)throw Error(s);return r-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,n,r){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,n,r){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:n,ctx:r||this}),this},e.prototype.off=function(t,n){if(void 0===t)this._listeners={};else if(void 0===n)this._listeners[t]=[];else for(var r=this._listeners[t],e=0;e<r.length;)r[e].fn===n?r.splice(e,1):++e;return this},e.prototype.emit=function(t){var n=this._listeners[t];if(n){for(var r=[],e=1;e<arguments.length;)r.push(arguments[e++]);for(e=0;e<n.length;)n[e].fn.apply(n[e++].ctx,r)}return this}},function(t,n,r){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),r=new Uint8Array(n.buffer),e=128===r[3];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3]}function i(t,e,o){n[0]=t,e[o]=r[3],e[o+1]=r[2],e[o+2]=r[1],e[o+3]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],n[0]}function s(t,e){return r[3]=t[e],r[2]=t[e+1],r[1]=t[e+2],r[0]=t[e+3],n[0]}t.writeFloatLE=e?o:i,t.writeFloatBE=e?i:o,t.readFloatLE=e?u:s,t.readFloatBE=e?s:u}():function(){function n(t,n,r,e){var o=n<0?1:0;if(o&&(n=-n),0===n)t(1/n>0?0:2147483648,r,e);else if(isNaN(n))t(2143289344,r,e);else if(n>34028234663852886e22)t((o<<31|2139095040)>>>0,r,e);else if(n<11754943508222875e-54)t((o<<31|Math.round(n/1401298464324817e-60))>>>0,r,e);else{var i=Math.floor(Math.log(n)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(n*Math.pow(2,-i)*8388608))>>>0,r,e)}}function r(t,n,r){var e=t(n,r),o=2*(e>>31)+1,i=e>>>23&255,u=8388607&e;return 255===i?u?NaN:o*(1/0):0===i?1401298464324817e-60*o*u:o*Math.pow(2,i-150)*(u+8388608)}t.writeFloatLE=n.bind(null,o),t.writeFloatBE=n.bind(null,i),t.readFloatLE=r.bind(null,u),t.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),r=new Uint8Array(n.buffer),e=128===r[7];function o(t,e,o){n[0]=t,e[o]=r[0],e[o+1]=r[1],e[o+2]=r[2],e[o+3]=r[3],e[o+4]=r[4],e[o+5]=r[5],e[o+6]=r[6],e[o+7]=r[7]}function i(t,e,o){n[0]=t,e[o]=r[7],e[o+1]=r[6],e[o+2]=r[5],e[o+3]=r[4],e[o+4]=r[3],e[o+5]=r[2],e[o+6]=r[1],e[o+7]=r[0]}function u(t,e){return r[0]=t[e],r[1]=t[e+1],r[2]=t[e+2],r[3]=t[e+3],r[4]=t[e+4],r[5]=t[e+5],r[6]=t[e+6],r[7]=t[e+7],n[0]}function s(t,e){return r[7]=t[e],r[6]=t[e+1],r[5]=t[e+2],r[4]=t[e+3],r[3]=t[e+4],r[2]=t[e+5],r[1]=t[e+6],r[0]=t[e+7],n[0]}t.writeDoubleLE=e?o:i,t.writeDoubleBE=e?i:o,t.readDoubleLE=e?u:s,t.readDoubleBE=e?s:u}():function(){function n(t,n,r,e,o,i){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,o,i+n),t(1/e>0?0:2147483648,o,i+r);else if(isNaN(e))t(0,o,i+n),t(2146959360,o,i+r);else if(e>17976931348623157e292)t(0,o,i+n),t((u<<31|2146435072)>>>0,o,i+r);else{var s;if(e<22250738585072014e-324)t((s=e/5e-324)>>>0,o,i+n),t((u<<31|s/4294967296)>>>0,o,i+r);else{var f=Math.floor(Math.log(e)/Math.LN2);1024===f&&(f=1023),t(4503599627370496*(s=e*Math.pow(2,-f))>>>0,o,i+n),t((u<<31|f+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(t,n,r,e,o){var i=t(e,o+n),u=t(e,o+r),s=2*(u>>31)+1,f=u>>>20&2047,c=4294967296*(1048575&u)+i;return 2047===f?c?NaN:s*(1/0):0===f?5e-324*s*c:s*Math.pow(2,f-1075)*(c+4503599627370496)}t.writeDoubleLE=n.bind(null,o,0,4),t.writeDoubleBE=n.bind(null,i,4,0),t.readDoubleLE=r.bind(null,u,0,4),t.readDoubleBE=r.bind(null,s,4,0)}(),t}function o(t,n,r){n[r]=255&t,n[r+1]=t>>>8&255,n[r+2]=t>>>16&255,n[r+3]=t>>>24}function i(t,n,r){n[r]=t>>>24,n[r+1]=t>>>16&255,n[r+2]=t>>>8&255,n[r+3]=255&t}function u(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0}function s(t,n){return(t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3])>>>0}t.exports=e(e)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,n,r){"use strict";var e=n;e.length=function(t){for(var n=0,r=0,e=0;e<t.length;++e)(r=t.charCodeAt(e))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(e+1))?(++e,n+=4):n+=3;return n},e.read=function(t,n,r){if(r-n<1)return"";for(var e,o=null,i=[],u=0;n<r;)(e=t[n++])<128?i[u++]=e:e>191&&e<224?i[u++]=(31&e)<<6|63&t[n++]:e>239&&e<365?(e=((7&e)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,i[u++]=55296+(e>>10),i[u++]=56320+(1023&e)):i[u++]=(15&e)<<12|(63&t[n++])<<6|63&t[n++],u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,i.slice(0,u))),o.join("")):String.fromCharCode.apply(String,i.slice(0,u))},e.write=function(t,n,r){for(var e,o,i=r,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?n[r++]=e:e<2048?(n[r++]=e>>6|192,n[r++]=63&e|128):55296==(64512&e)&&56320==(64512&(o=t.charCodeAt(u+1)))?(e=65536+((1023&e)<<10)+(1023&o),++u,n[r++]=e>>18|240,n[r++]=e>>12&63|128,n[r++]=e>>6&63|128,n[r++]=63&e|128):(n[r++]=e>>12|224,n[r++]=e>>6&63|128,n[r++]=63&e|128);return r-i}},function(t,n,r){"use strict";t.exports=function(t,n,r){var e=r||8192,o=e>>>1,i=null,u=e;return function(r){if(r<1||r>o)return t(r);u+r>e&&(i=t(e),u=0);var s=n.call(i,u,u+=r);return 7&u&&(u=1+(7|u)),s}}},function(t,n,r){"use strict";t.exports=o;var e=r(41);function o(t,n){this.lo=t>>>0,this.hi=n>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var u=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var n=t<0;n&&(t=-t);var r=t>>>0,e=(t-r)/4294967296>>>0;return n&&(e=~e>>>0,r=~r>>>0,++r>4294967295&&(r=0,++e>4294967295&&(e=0))),new o(r,e)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(e.isString(t)){if(!e.Long)return o.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var n=1+~this.lo>>>0,r=~this.hi>>>0;return n||(r=r+1>>>0),-(n+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===u?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===n?t<16384?t<128?1:2:t<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:r<128?9:10}},function(t,n,r){"use strict";t.exports=u;var e=r(138);(u.prototype=Object.create(e.prototype)).constructor=u;var o=r(41),i=o.Buffer;function u(){e.call(this)}u.alloc=function(t){return(u.alloc=o._Buffer_allocUnsafe)(t)};var s=i&&i.prototype instanceof Uint8Array&&"set"===i.prototype.set.name?function(t,n,r){n.set(t,r)}:function(t,n,r){if(t.copy)t.copy(n,r,0,t.length);else for(var e=0;e<t.length;)n[r++]=t[e++]};function f(t,n,r){t.length<40?o.utf8.write(t,n,r):n.utf8Write(t,r)}u.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var n=t.length>>>0;return this.uint32(n),n&&this._push(s,n,t),this},u.prototype.string=function(t){var n=i.byteLength(t);return this.uint32(n),n&&this._push(f,n,t),this}},function(t,n,r){"use strict";t.exports=i;var e=r(139);(i.prototype=Object.create(e.prototype)).constructor=i;var o=r(41);function i(t){e.call(this,t)}o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice),i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len))}},function(t,n,r){"use strict";n.Service=r(247)},function(t,n,r){"use strict";t.exports=o;var e=r(41);function o(t,n,r){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(n),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(e.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(n,r,o,i,u){if(!i)throw TypeError("request must be specified");var s=this;if(!u)return e.asPromise(t,s,n,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,r){if(t)return s.emit("error",t,n),u(t);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),u(t)}return s.emit("data",r,n),u(null,r)}s.end(!0)}))}catch(t){return s.emit("error",t,n),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,n,r){"use strict";t.exports={}},,function(t,n,r){t.exports={default:r(251),__esModule:!0}},function(t,n,r){r(252),t.exports=r(3).String.fromCodePoint},function(t,n,r){var e=r(13),o=r(118),i=String.fromCharCode,u=String.fromCodePoint;e(e.S+e.F*(!!u&&1!=u.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,u=0;e>u;){if(n=+arguments[u++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?i(n):i(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})}]]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[4],{10:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(6),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},11:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(281)),o=a(n(22)),i=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},12:function(e,t,n){"use strict";(function(e){function r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),t&&(r.href=t),o.href=e,o.href}n.d(t,"g",(function(){return r})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"f",(function(){return _}));const o=(()=>{let e=0;return()=>(e+=1,`u${`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4)}${e}`)})();function i(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function a(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function s(e,t={}){return{width:t.width||function(e){const t=a(e,"border-left-width"),n=a(e,"border-right-width");return e.clientWidth+t+n}(e),height:t.height||function(e){const t=a(e,"border-top-width"),n=a(e,"border-bottom-width");return e.clientHeight+t+n}(e)}}function u(){let t,n;try{n=e}catch(e){}const r=n&&n.env?n.env.devicePixelRatio:null;return r&&(t=parseInt(r,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const c=16384;function l(e){(e.width>c||e.height>c)&&(e.width>c&&e.height>c?e.width>e.height?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c):e.width>c?(e.height*=c/e.width,e.width=c):(e.width*=c/e.height,e.height=c))}function d(e,t={}){return e.toBlob?new Promise((n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)})):new Promise((n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e+=1)i[e]=r.charCodeAt(e);n(new Blob([i],{type:t.type?t.type:"image/png"}))}))}function f(e){return new Promise(((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e}))}async function _(e,t,n){const r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return o.setAttribute("width",`${t}`),o.setAttribute("height",`${n}`),o.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),o.appendChild(i),i.appendChild(e),async function(e){return Promise.resolve().then((()=>(new XMLSerializer).serializeToString(e))).then(encodeURIComponent).then((e=>`data:image/svg+xml;charset=utf-8,${e}`))}(o)}}).call(this,n(62))},149:function(e,t,n){var r=n(21),o=n(45),i=n(31),a=n(57).f;e.exports=function(e){return function(t){for(var n,s=i(t),u=o(s),c=u.length,l=0,d=[];c>l;)n=u[l++],r&&!a.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},15:function(e,t,n){e.exports={default:n(258),__esModule:!0}},156:function(e,t,n){(function(n){var r;
/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */!function(){"use strict";var o=function(){this.init()};o.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||_(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||_(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/([0-6].)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var o=0;o<e._howls.length;o++)if(!e._howls[o]._webAudio)for(var i=e._howls[o]._getSoundIds(),a=0;a<i.length;a++){var s=e._howls[o]._soundById(i[a]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new o,a=function(e){e.src&&0!==e.src.length&&this.init(e)};a.prototype={init:function(e){var t=this;return i.ctx||_(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new s(e),e._webAudio&&c(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!e&&(e=s._sprite||"__default"),"loaded"!==n._state){s._sprite=e,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return t||n._loadQueue("play"),s._id;n._webAudio&&i._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[e][0]/1e3),l=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-c),d=1e3*l/Math.abs(s._rate),f=n._sprite[e][0]/1e3,_=(n._sprite[e][0]+n._sprite[e][1])/1e3;s._sprite=e,s._ended=!1;var h=function(){s._paused=!1,s._seek=c,s._start=f,s._stop=_,s._loop=!(!s._loop&&!n._sprite[e][2])};if(!(c>=_)){var p=s._node;if(n._webAudio){var m=function(){n._playLock=!1,h(),n._refreshBuffer(s);var e=s._muted||n._muted?0:s._volume;p.gain.setValueAtTime(e,i.ctx.currentTime),s._playStart=i.ctx.currentTime,void 0===p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,c,86400):p.bufferSource.noteGrainOn(0,c,l):s._loop?p.bufferSource.start(0,c,86400):p.bufferSource.start(0,c,l),d!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d)),t||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?m():(n._playLock=!0,n.once("resume",m),n._clearTimer(s._id))}else{var g=function(){p.currentTime=c,p.muted=s._muted||n._muted||i._muted||p.muted,p.volume=s._volume*i.volume(),p.playbackRate=s._rate;try{var r=p.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,h(),r.then((function(){n._playLock=!1,p._unlocked=!0,t?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):t||(n._playLock=!1,h(),n._emit("play",s._id)),p.playbackRate=s._rate,p.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),d):(n._endTimers[s._id]=function(){n._ended(s),p.removeEventListener("ended",n._endTimers[s._id],!1)},p.addEventListener("ended",n._endTimers[s._id],!1))}catch(e){n._emit("playerror",s._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===p.src&&(p.src=n._src,p.load());var v=window&&window.ejecta||!p.readyState&&i._navigator.isCocoonJS;if(p.readyState>=3||v)g();else{n._playLock=!0,n._state="loading";var y=function(){n._state="loaded",g(),p.removeEventListener(i._canPlayEvent,y,!1)};p.addEventListener(i._canPlayEvent,y,!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if(r||o._stopFade(a[s]),o._webAudio&&!u._muted){var c=i.ctx.currentTime,l=c+n/1e3;u._volume=e,u._node.gain.setValueAtTime(e,c),u._node.gain.linearRampToValueAtTime(t,l)}o._startFadeInterval(u,e,t,n,a[s],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,s=t,u=n-t,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-d)/r;d=Date.now(),s+=u*o,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),a._webAudio?e._volume=s:a.volume(s,e._id,!0),i&&(a._volume=s),(n<t&&s<=n||n>t&&s>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),l)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var s=r.seek(t[a]),u=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-s)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),u)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0,s=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(s+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){var l=function(){n._playLock?setTimeout(l,0):c()};setTimeout(l,0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return u&&o&&delete u[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var o=this["_on"+e];return"function"==typeof t&&o.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var s=Object.keys(r);for(i=0;i<s.length;i++)0===s[i].indexOf("_on")&&Array.isArray(r[s[i]])&&(r[s[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new s(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=u[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(e){this._parent=e,this.init()};s.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var u={},c=function(e){var t=e._src;if(u[t])return e._duration=u[t].duration,void f(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);d(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?d(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete u[t],e.load())},l(i)}},l=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(u[t._src]=e,f(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},f=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(r=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=r),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=o,n.Howler=i,n.Howl=a,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=o,window.Howler=i,window.Howl=a,window.Sound=s)}(),
/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */
function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n,"number"!=typeof e?r._pos:(r._pos=[e,t,n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,r="number"!=typeof r?s[3]:r,o="number"!=typeof o?s[4]:o,i="number"!=typeof i?s[5]:i,"number"!=typeof e?s:(a._orientation=[e,t,n,r,o,i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var s=r._soundById(i[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,o),"spatial"===o?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(e,0,0):s._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,n,r],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(e,n,r)),i._emit("pos",u._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),s=0;s<a.length;s++){var u=i._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,n,r],u._node&&(u._panner||(u._pos||(u._pos=i._pos||[0,0,-.5]),t(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(e,n,r)),i._emit("orientation",u._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,r,o=this,i=arguments;if(!o._webAudio)return o;if(0===i.length)return o._pannerAttr;if(1===i.length){if("object"!=typeof i[0])return(r=o._soundById(parseInt(i[0],10)))?r._pannerAttr:o._pannerAttr;e=i[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),o._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:o._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:o._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:o._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:o._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:o._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:o._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:o._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:o._panningModel})}else 2===i.length&&(e=i[0],n=parseInt(i[1],10));for(var a=o._getSoundIds(n),s=0;s<a.length;s++)if(r=o._soundById(a[s])){var u=r._pannerAttr;u={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:u.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:u.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:u.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:u.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:u.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:u.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:u.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:u.panningModel};var c=r._panner;c?(c.coneInnerAngle=u.coneInnerAngle,c.coneOuterAngle=u.coneOuterAngle,c.coneOuterGain=u.coneOuterGain,c.distanceModel=u.distanceModel,c.maxDistance=u.maxDistance,c.refDistance=u.refDistance,c.rolloffFactor=u.rolloffFactor,c.panningModel=u.panningModel):(r._pos||(r._pos=o._pos||[0,0,-.5]),t(r,"spatial"))}return o},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n(107))},157:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(330)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=(0,o.default)(e);!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},158:function(e,t,n){e.exports={default:n(333),__esModule:!0}},258:function(e,t,n){n(40),n(39),e.exports=n(259)},259:function(e,t,n){var r=n(26),o=n(99);e.exports=n(3).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},260:function(e,t,n){"use strict";function r(e){return Array.isArray?Array.isArray(e):"[object Array]"===f(e)}n.r(t),n.d(t,"default",(function(){return z}));const o=1/0;function i(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-o?"-0":t}(e)}function a(e){return"string"==typeof e}function s(e){return"number"==typeof e}function u(e){return!0===e||!1===e||function(e){return c(e)&&null!==e}(e)&&"[object Boolean]"==f(e)}function c(e){return"object"==typeof e}function l(e){return null!=e}function d(e){return!e.trim().length}function f(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const _=e=>`Missing ${e} property in key`,h=e=>`Property 'weight' in key '${e}' must be a positive integer`,p=Object.prototype.hasOwnProperty;class m{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=g(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function g(e){let t=null,n=null,o=null,i=1,s=null;if(a(e)||r(e))o=e,t=v(e),n=y(e);else{if(!p.call(e,"name"))throw new Error(_("name"));const r=e.name;if(o=r,p.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(h(r));t=v(r),n=y(r),s=e.getFn}return{path:t,id:n,weight:i,src:o,getFn:s}}function v(e){return r(e)?e:e.split(".")}function y(e){return r(e)?e.join("."):e}var b={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(e,t){let n=[],o=!1;const c=(e,t,d)=>{if(l(e))if(t[d]){const f=e[t[d]];if(!l(f))return;if(d===t.length-1&&(a(f)||s(f)||u(f)))n.push(i(f));else if(r(f)){o=!0;for(let e=0,n=f.length;e<n;e+=1)c(f[e],t,d+1)}else t.length&&c(f,t,d+1)}else n.push(e)};return c(e,a(t)?t.split("."):t,0),o?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1}};const w=/[^ ]+/g;class A{constructor({getFn:e=b.getFn,fieldNormWeight:t=b.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(w).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,a(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();a(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!l(e)||d(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,o)=>{let i=t.getFn?t.getFn(e):this.getFn(e,t.path);if(l(i))if(r(i)){let e=[];const t=[{nestedArrIndex:-1,value:i}];for(;t.length;){const{nestedArrIndex:n,value:o}=t.pop();if(l(o))if(a(o)&&!d(o)){let t={v:o,i:n,n:this.norm.get(o)};e.push(t)}else r(o)&&o.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[o]=e}else if(a(i)&&!d(i)){let e={v:i,n:this.norm.get(i)};n.$[o]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function x(e,t,{getFn:n=b.getFn,fieldNormWeight:r=b.fieldNormWeight}={}){const o=new A({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(g)),o.setSources(t),o.create(),o}function T(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=b.distance,ignoreLocation:i=b.ignoreLocation}={}){const a=t/e.length;if(i)return a;const s=Math.abs(r-n);return o?a+s/o:s?1:a}const S=32;function M(e,t,n,{location:r=b.location,distance:o=b.distance,threshold:i=b.threshold,findAllMatches:a=b.findAllMatches,minMatchCharLength:s=b.minMatchCharLength,includeMatches:u=b.includeMatches,ignoreLocation:c=b.ignoreLocation}={}){if(t.length>S)throw new Error(`Pattern length exceeds max of ${S}.`);const l=t.length,d=e.length,f=Math.max(0,Math.min(r,d));let _=i,h=f;const p=s>1||u,m=p?Array(d):[];let g;for(;(g=e.indexOf(t,h))>-1;){let e=T(t,{currentLocation:g,expectedLocation:f,distance:o,ignoreLocation:c});if(_=Math.min(e,_),h=g+l,p){let e=0;for(;e<l;)m[g+e]=1,e+=1}}h=-1;let v=[],y=1,w=l+d;const A=1<<l-1;for(let r=0;r<l;r+=1){let i=0,s=w;for(;i<s;){T(t,{errors:r,currentLocation:f+s,expectedLocation:f,distance:o,ignoreLocation:c})<=_?i=s:w=s,s=Math.floor((w-i)/2+i)}w=s;let u=Math.max(1,f-s+1),g=a?d:Math.min(f+s,d)+l,b=Array(g+2);b[g+1]=(1<<r)-1;for(let i=g;i>=u;i-=1){let a=i-1,s=n[e.charAt(a)];if(p&&(m[a]=+!!s),b[i]=(b[i+1]<<1|1)&s,r&&(b[i]|=(v[i+1]|v[i])<<1|1|v[i+1]),b[i]&A&&(y=T(t,{errors:r,currentLocation:a,expectedLocation:f,distance:o,ignoreLocation:c}),y<=_)){if(_=y,h=a,h<=f)break;u=Math.max(1,2*f-h)}}if(T(t,{errors:r+1,currentLocation:f,expectedLocation:f,distance:o,ignoreLocation:c})>_)break;v=b}const x={isMatch:h>=0,score:Math.max(.001,y)};if(p){const e=function(e=[],t=b.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(m,s);e.length?u&&(x.indices=e):x.isMatch=!1}return x}function k(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class C{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u},this.pattern=s?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:k(e),startIndex:t})},l=this.pattern.length;if(l>S){let e=0;const t=l%S,n=l-t;for(;e<n;)c(this.pattern.substr(e,S),e),e+=S;if(t){const e=l-S;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,ignoreLocation:u}=this.options;let c=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:f,startIndex:_})=>{const{isMatch:h,score:p,indices:m}=M(e,t,f,{location:r+_,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:s,includeMatches:n,ignoreLocation:u});h&&(d=!0),l+=p,h&&m&&(c=[...c,...m])}));let f={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(f.indices=c),f}}class I{constructor(e){this.pattern=e}static isMultiMatch(e){return E(e,this.multiRegex)}static isSingleMatch(e){return E(e,this.singleRegex)}search(){}}function E(e,t){const n=e.match(t);return n?n[1]:null}class L extends I{constructor(e,{location:t=b.location,threshold:n=b.threshold,distance:r=b.distance,includeMatches:o=b.includeMatches,findAllMatches:i=b.findAllMatches,minMatchCharLength:a=b.minMatchCharLength,isCaseSensitive:s=b.isCaseSensitive,ignoreLocation:u=b.ignoreLocation}={}){super(e),this._bitapSearch=new C(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:s,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class O extends I{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const P=[class extends I{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},O,class extends I{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends I{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},L],F=P.length,R=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const $=new Set([L.type,O.type]);class B{constructor(e,{isCaseSensitive:t=b.isCaseSensitive,includeMatches:n=b.includeMatches,minMatchCharLength:r=b.minMatchCharLength,ignoreLocation:o=b.ignoreLocation,findAllMatches:i=b.findAllMatches,location:a=b.location,threshold:s=b.threshold,distance:u=b.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:s,distance:u},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(R).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<F;){const e=P[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<F;){const e=P[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,s=t.length;r<s;r+=1){const s=t[r];i.length=0,o=0;for(let t=0,r=s.length;t<r;t+=1){const r=s[t],{isMatch:u,indices:c,score:l}=r.search(e);if(!u){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;$.has(e)?i=[...i,...c]:i.push(c)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const D=[];function j(e,t){for(let n=0,r=D.length;n<r;n+=1){let r=D[n];if(r.condition(e,t))return new r(e,t)}return new C(e,t)}const H="$and",N="$or",V="$path",G="$val",W=e=>!(!e[H]&&!e[N]),q=e=>({[H]:Object.keys(e).map((t=>({[t]:e[t]})))});function U(e,t,{auto:n=!0}={}){const o=e=>{let i=Object.keys(e);const s=(e=>!!e[V])(e);if(!s&&i.length>1&&!W(e))return o(q(e));if((e=>!r(e)&&c(e)&&!W(e))(e)){const r=s?e[V]:i[0],o=s?e[G]:e[r];if(!a(o))throw new Error((e=>`Invalid value for key ${e}`)(r));const u={keyId:y(r),pattern:o};return n&&(u.searcher=j(o,t)),u}let u={children:[],operator:i[0]};return i.forEach((t=>{const n=e[t];r(n)&&n.forEach((e=>{u.children.push(o(e))}))})),u};return W(e)||(e=q(e)),o(e)}function X(e,t){const n=e.matches;t.matches=[],l(n)&&n.forEach((e=>{if(!l(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Y(e,t){t.score=e.score}class z{constructor(e,t={},n){this.options={...b,...t},this.options.useExtendedSearch,this._keyStore=new m(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof A))throw new Error("Incorrect 'index' type");this._myIndex=t||x(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){l(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:u}=this.options;let c=a(e)?a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=b.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(c,{ignoreFieldNorm:u}),o&&c.sort(i),s(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=b.includeMatches,includeScore:r=b.includeScore}={}){const o=[];return n&&o.push(X),r&&o.push(Y),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=j(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!l(e))return;const{isMatch:i,score:a,indices:s}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:s}]})})),r}_searchLogical(e){const t=U(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],s=n(a,t,r);if(s.length)o.push(...s);else if(e.operator===H)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(l(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=j(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!l(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!l(t))return[];let o=[];if(r(t))t.forEach((({v:t,i:r,n:i})=>{if(!l(t))return;const{isMatch:a,score:s,indices:u}=n.searchIn(t);a&&o.push({score:s,key:e,value:t,idx:r,norm:i,indices:u})}));else{const{v:r,n:i}=t,{isMatch:a,score:s,indices:u}=n.searchIn(r);a&&o.push({score:s,key:e,value:r,norm:i,indices:u})}return o}}z.version="6.6.2",z.createIndex=x,z.parseIndex=function(e,{getFn:t=b.getFn,fieldNormWeight:n=b.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new A({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},z.config=b,z.parseQuery=U,function(...e){D.push(...e)}(B)},279:function(e,t,n){n(280),e.exports=n(3).Object.getPrototypeOf},280:function(e,t,n){var r=n(37),o=n(125);n(59)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},281:function(e,t,n){e.exports={default:n(282),__esModule:!0}},282:function(e,t,n){n(283),e.exports=n(3).Object.setPrototypeOf},283:function(e,t,n){var r=n(13);r(r.S,"Object",{setPrototypeOf:n(284).set})},284:function(e,t,n){var r=n(17),o=n(26),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(28)(Function.call,n(97).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},298:function(e,t,n){e.exports={default:n(299),__esModule:!0}},299:function(e,t,n){n(300),e.exports=n(3).Math.hypot},300:function(e,t,n){var r=n(13),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,u=0;a<s;)u<(n=o(arguments[a++]))?(i=i*(r=u/n)*r+1,u=n):i+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(i)}})},303:function(e,t,n){n(58),n(39),n(40),n(304),n(305),n(306),n(307),e.exports=n(3).Map},304:function(e,t,n){"use strict";var r=n(131),o=n(50),i="Map";e.exports=n(101)(i,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,i),e);return t&&t.v},set:function(e,t){return r.def(o(this,i),0===e?0:e,t)}},r,!0)},305:function(e,t,n){var r=n(13);r(r.P+r.R,"Map",{toJSON:n(133)("Map")})},306:function(e,t,n){n(102)("Map")},307:function(e,t,n){n(103)("Map")},312:function(e,t,n){n(313),e.exports=n(3).Object.values},313:function(e,t,n){var r=n(13),o=n(149)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},314:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(5)),o=i(n(315));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in a)return a.value;var u=a.get;return void 0!==u?u.call(i):void 0}},315:function(e,t,n){e.exports={default:n(316),__esModule:!0}},316:function(e,t,n){n(317);var r=n(3).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},317:function(e,t,n){var r=n(31),o=n(97).f;n(59)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},330:function(e,t,n){e.exports={default:n(331),__esModule:!0}},331:function(e,t,n){n(40),n(39),e.exports=n(332)},332:function(e,t,n){var r=n(70),o=n(18)("iterator"),i=n(46);e.exports=n(3).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},333:function(e,t,n){n(334),e.exports=n(3).Object.entries},334:function(e,t,n){var r=n(13),o=n(149)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},34:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t){module.exports=t(e)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,(function(global){"use strict";global=global||{};var _Base64=global.Base64,version="2.5.1",buffer;if(module.exports)try{buffer=eval("require('buffer').Buffer")}catch(e){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?fromCharCode(192|t>>>6)+fromCharCode(128|63&t):fromCharCode(224|t>>>12&15)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return fromCharCode(240|t>>>18&7)+fromCharCode(128|t>>>12&63)+fromCharCode(128|t>>>6&63)+fromCharCode(128|63&t)},re_utob=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,utob=function(e){return e.replace(re_utob,cb_utob)},cb_encode=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[b64chars.charAt(n>>>18),b64chars.charAt(n>>>12&63),t>=2?"=":b64chars.charAt(n>>>6&63),t>=1?"=":b64chars.charAt(63&n)].join("")},btoa=global.btoa?function(e){return global.btoa(e)}:function(e){return e.replace(/[\s\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e)).toString("base64")}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e)).toString("base64")}:function(e){return btoa(utob(e))},encode=function(e,t){return t?_encode(String(e)).replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"})).replace(/=/g,""):_encode(String(e))},encodeURI=function(e){return encode(e,!0)},re_btou=new RegExp(["[Ã-Ã][Â-Â¿]","[Ã -Ã¯][Â-Â¿]{2}","[Ã°-Ã·][Â-Â¿]{3}"].join("|"),"g"),cb_btou=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return fromCharCode(55296+(t>>>10))+fromCharCode(56320+(1023&t));case 3:return fromCharCode((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return fromCharCode((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},btou=function(e){return e.replace(re_btou,cb_btou)},cb_decode=function(e){var t=e.length,n=t%4,r=(t>0?b64tab[e.charAt(0)]<<18:0)|(t>1?b64tab[e.charAt(1)]<<12:0)|(t>2?b64tab[e.charAt(2)]<<6:0)|(t>3?b64tab[e.charAt(3)]:0),o=[fromCharCode(r>>>16),fromCharCode(r>>>8&255),fromCharCode(255&r)];return o.length-=[0,0,2,1][n],o.join("")},_atob=global.atob?function(e){return global.atob(e)}:function(e){return e.replace(/\S{1,4}/g,cb_decode)},atob=function(e){return _atob(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(e){return(e.constructor===buffer.constructor?e:buffer.from(e,"base64")).toString()}:function(e){return(e.constructor===buffer.constructor?e:new buffer(e,"base64")).toString()}:function(e){return btou(_atob(e))},decode=function(e){return _decode(String(e).replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,""))},noConflict=function(){var e=global.Base64;return global.Base64=_Base64,e};if(global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty){var noEnum=function(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}};global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum((function(){return decode(this)}))),Object.defineProperty(String.prototype,"toBase64",noEnum((function(e){return encode(this,e)}))),Object.defineProperty(String.prototype,"toBase64URI",noEnum((function(){return encode(this,!0)})))}}return global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}}))}).call(this,__webpack_require__(107))},367:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},392:function(e,t,n){"use strict";n.r(t);var r=n(12);function o(e,t,n){const o=`.${e}:${t}`,i=n.cssText?function(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}(n):function(e){return Object(r.h)(e).map((t=>`${t}: ${e.getPropertyValue(t)}${e.getPropertyPriority(t)?" !important":""};`)).join(" ")}(n);return document.createTextNode(`${o}{${i}}`)}function i(e,t,n){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(""===a||"none"===a)return;const s=Object(r.i)();try{t.className=`${t.className} ${s}`}catch(e){return}const u=document.createElement("style");u.appendChild(o(s,n,i)),t.appendChild(u)}const a="application/font-woff",s="image/jpeg",u={woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:s,jpeg:s,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function c(e){const t=function(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}(e).toLowerCase();return u[t]||""}function l(e){return-1!==e.search(/^(data:)/)}function d(e,t){return`data:${t};base64,${e}`}async function f(e,t,n){const r=await fetch(e,t);if(404===r.status)throw new Error(`Resource "${r.url}" not found`);const o=await r.blob();return new Promise(((e,t)=>{const i=new FileReader;i.onerror=t,i.onloadend=()=>{try{e(n({res:r,result:i.result}))}catch(e){t(e)}},i.readAsDataURL(o)}))}const _={};async function h(e,t,n){const r=function(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}(e,t,n.includeQueryParams);if(null!=_[r])return _[r];let o;n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime());try{const r=await f(e,n.fetchRequestInit,(({res:e,result:n})=>(t||(t=e.headers.get("Content-Type")||""),function(e){return e.split(/,/)[1]}(n))));o=d(r,t)}catch(t){o=n.imagePlaceholder||"";let r=`Failed to fetch resource: ${e}`;t&&(r="string"==typeof t?t:t.message)}return _[r]=o,o}async function p(e,t){return e instanceof HTMLCanvasElement?async function(e){const t=e.toDataURL();return"data:,"===t?e.cloneNode(!1):Object(r.c)(t)}(e):e instanceof HTMLVideoElement?async function(e,t){if(e.currentSrc){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.clientWidth,t.height=e.clientHeight,null==n||n.drawImage(e,0,0,t.width,t.height);const o=t.toDataURL();return Object(r.c)(o)}const n=e.poster,o=c(n),i=await h(n,o,t);return Object(r.c)(i)}(e,t):e instanceof HTMLIFrameElement?async function(e){var t;try{if(null===(t=null==e?void 0:e.contentDocument)||void 0===t?void 0:t.body)return await v(e.contentDocument.body,{},!0)}catch(e){}return e.cloneNode(!1)}(e):e.cloneNode(!1)}const m=e=>null!=e.tagName&&"SLOT"===e.tagName.toUpperCase();function g(e,t){return t instanceof Element&&(function(e,t){const n=t.style;if(!n)return;const o=window.getComputedStyle(e);o.cssText?(n.cssText=o.cssText,n.transformOrigin=o.transformOrigin):Object(r.h)(o).forEach((e=>{let t=o.getPropertyValue(e);if("font-size"===e&&t.endsWith("px")){const e=Math.floor(parseFloat(t.substring(0,t.length-2)))-.1;t=`${e}px`}n.setProperty(e,t,o.getPropertyPriority(e))}))}(e,t),function(e,t){i(e,t,":before"),i(e,t,":after")}(e,t),function(e,t){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)}(e,t),function(e,t){if(e instanceof HTMLSelectElement){const n=t,r=Array.from(n.children).find((t=>e.value===t.getAttribute("value")));r&&r.setAttribute("selected","")}}(e,t)),t}async function v(e,t,n){return n||!t.filter||t.filter(e)?Promise.resolve(e).then((e=>p(e,t))).then((n=>async function(e,t,n){var o;const i=m(e)&&e.assignedNodes?Object(r.h)(e.assignedNodes()):Object(r.h)((null!==(o=e.shadowRoot)&&void 0!==o?o:e).childNodes);return 0===i.length||e instanceof HTMLVideoElement||await i.reduce(((e,r)=>e.then((()=>v(r,n))).then((e=>{e&&t.appendChild(e)}))),Promise.resolve()),t}(e,n,t))).then((t=>g(e,t))).then((e=>async function(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(0===n.length)return e;const r={};for(let o=0;o<n.length;o++){const i=n[o].getAttribute("xlink:href");if(i){const n=e.querySelector(i),o=document.querySelector(i);n||!o||r[i]||(r[i]=await v(o,t,!0))}}const o=Object.values(r);if(o.length){const t="http://www.w3.org/1999/xhtml",n=document.createElementNS(t,"svg");n.setAttribute("xmlns",t),n.style.position="absolute",n.style.width="0",n.style.height="0",n.style.overflow="hidden",n.style.display="none";const r=document.createElementNS(t,"defs");n.appendChild(r);for(let e=0;e<o.length;e++)r.appendChild(o[e]);e.appendChild(n)}return e}(e,t))):null}const y=/url\((['"]?)([^'"]+?)\1\)/g,b=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,w=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;async function A(e,t,n,o,i){try{const a=n?Object(r.g)(t,n):t,s=c(t);let u;if(i){u=d(await i(a),s)}else u=await h(a,s,o);return e.replace(function(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}(t),`$1${u}$3`)}catch(e){}return e}function x(e){return-1!==e.search(y)}async function T(e,t,n){if(!x(e))return e;const r=function(e,{preferredFontFormat:t}){return t?e.replace(w,(e=>{for(;;){const[n,,r]=b.exec(e)||[];if(!r)return"";if(r===t)return`src: ${n};`}})):e}(e,n),o=function(e){const t=[];return e.replace(y,((e,n,r)=>(t.push(r),e))),t.filter((e=>!l(e)))}(r);return o.reduce(((e,r)=>e.then((e=>A(e,r,t,n)))),Promise.resolve(r))}async function S(e,t){e instanceof Element&&(await async function(e,t){var n;const r=null===(n=e.style)||void 0===n?void 0:n.getPropertyValue("background");if(r){const n=await T(r,null,t);e.style.setProperty("background",n,e.style.getPropertyPriority("background"))}}(e,t),await async function(e,t){if((!(e instanceof HTMLImageElement)||l(e.src))&&(!(e instanceof SVGImageElement)||l(e.href.baseVal)))return;const n=e instanceof HTMLImageElement?e.src:e.href.baseVal,r=await h(n,c(n),t);await new Promise(((t,n)=>{e.onload=t,e.onerror=n;const o=e;o.decode&&(o.decode=t),e instanceof HTMLImageElement?(e.srcset="",e.src=r):e.href.baseVal=r}))}(e,t),await async function(e,t){const n=Object(r.h)(e.childNodes).map((e=>S(e,t)));await Promise.all(n).then((()=>e))}(e,t))}const M={};async function k(e){let t=M[e];if(null!=t)return t;const n=await fetch(e);return t={url:e,cssText:await n.text()},M[e]=t,t}async function C(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((async o=>{let i=o.replace(r,"$1");return i.startsWith("https://")||(i=new URL(i,e.url).href),f(i,t.fetchRequestInit,(({result:e})=>(n=n.replace(o,`url(${e})`),[o,e])))}));return Promise.all(o).then((()=>n))}function I(e){if(null==e)return[];const t=[];let n=e.replace(/(\/\*[\s\S]*?\*\/)/gi,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const e=r.exec(n);if(null===e)break;t.push(e[0])}n=n.replace(r,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let e=o.exec(n);if(null===e){if(e=i.exec(n),null===e)break;o.lastIndex=i.lastIndex}else i.lastIndex=o.lastIndex;t.push(e[0])}return t}async function E(e,t){if(null==e.ownerDocument)throw new Error("Provided element is not within a Document");const n=Object(r.h)(e.ownerDocument.styleSheets),o=await async function(e,t){const n=[],o=[];return e.forEach((n=>{if("cssRules"in n)try{Object(r.h)(n.cssRules||[]).forEach(((e,r)=>{if(e.type===CSSRule.IMPORT_RULE){let i=r+1;const a=k(e.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{try{n.insertRule(e,e.startsWith("@import")?i+=1:n.cssRules.length)}catch(e){}})))).catch((e=>{e.toString()}));o.push(a)}}))}catch(r){const i=e.find((e=>null==e.href))||document.styleSheets[0];null!=n.href&&o.push(k(n.href).then((e=>C(e,t))).then((e=>I(e).forEach((e=>{i.insertRule(e,n.cssRules.length)})))).catch((e=>{e.toString()}))),r.toString()}})),Promise.all(o).then((()=>(e.forEach((e=>{if("cssRules"in e)try{Object(r.h)(e.cssRules||[]).forEach((e=>{n.push(e)}))}catch(t){e.href,t.toString()}})),n)))}(n,t);return function(e){return e.filter((e=>e.type===CSSRule.FONT_FACE_RULE)).filter((e=>x(e.style.getPropertyValue("src"))))}(o)}async function L(e,t){const n=await E(e,t);return(await Promise.all(n.map((e=>{const n=e.parentStyleSheet?e.parentStyleSheet.href:null;return T(e.cssText,n,t)})))).join("\n")}async function O(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await v(e,t,!0);await async function(e,t){const n=null!=t.fontEmbedCSS?t.fontEmbedCSS:t.skipFonts?null:await L(e,t);if(n){const t=document.createElement("style"),r=document.createTextNode(n);t.appendChild(r),e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}}(i,t),await S(i,t),function(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;null!=r&&Object.keys(r).forEach((e=>{n[e]=r[e]}))}(i,t);return await Object(r.f)(i,n,o)}async function P(e,t={}){const{width:n,height:o}=Object(r.d)(e,t),i=await O(e,t),a=await Object(r.c)(i),s=document.createElement("canvas"),u=s.getContext("2d"),c=t.pixelRatio||Object(r.e)(),l=t.canvasWidth||n,d=t.canvasHeight||o;return s.width=l*c,s.height=d*c,t.skipAutoScale||Object(r.b)(s),s.style.width=`${l}`,s.style.height=`${d}`,t.backgroundColor&&(u.fillStyle=t.backgroundColor,u.fillRect(0,0,s.width,s.height)),u.drawImage(a,0,0,s.width,s.height),s}async function F(e,t={}){const{width:n,height:o}=Object(r.d)(e,t);return(await P(e,t)).getContext("2d").getImageData(0,0,n,o).data}async function R(e,t={}){return(await P(e,t)).toDataURL()}async function $(e,t={}){return(await P(e,t)).toDataURL("image/jpeg",t.quality||1)}async function B(e,t={}){const n=await P(e,t);return await Object(r.a)(n)}async function D(e,t={}){return L(e,t)}n.d(t,"toSvg",(function(){return O})),n.d(t,"toCanvas",(function(){return P})),n.d(t,"toPixelData",(function(){return F})),n.d(t,"toPng",(function(){return R})),n.d(t,"toJpeg",(function(){return $})),n.d(t,"toBlob",(function(){return B})),n.d(t,"getFontEmbedCSS",(function(){return D}))},5:function(e,t,n){e.exports={default:n(279),__esModule:!0}},62:function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&_())}function _(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||s(_)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},64:function(e,t,n){e.exports={default:n(303),__esModule:!0}},78:function(e,t,n){e.exports={default:n(312),__esModule:!0}}}]);
(window.ESJsonpModules=window.ESJsonpModules||[]).push([[0],{140:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}}},166:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.esWorker=e.THREE_=void 0;var r,n=i(167),a=(r=n)&&r.__esModule?r:{default:r};var o=i(253);e.THREE_=o,e.esWorker=a.default},167:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=o(i(170));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(){(0,r.default)(this,t)}return(0,n.default)(t,null,[{key:"createWorker",value:function(t,e){e(new a.default(171))}}]),t}();e.default=s},171:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(172)),n=o(i(223)),a=o(i(249));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e=new r.default(t);t.addEventListener("message",(function(i){if(1==i.data.messageType)2==i.data.layerType?e.createFloors(i.data):e.createRooms(i.data);else if(2==i.data.messageType){var r=new n.default(t);i.data.clearAll?r.IDBClearAll():"info"==i.data.controlIndex?r.startInfo(i.data):r.start(i.data)}else if(3==i.data.messageType){switch(i.data.level){case"error":default:a.default.error(i.data.msg);break;case"log":a.default.log(i.data.msg);break;case"warning":a.default.warning(i.data.msg);break;case"custom":a.default.logCustom(i.data.msg)}t.postMessage({id:i.data.id,message:"log"})}})),t.addEventListener("error",(function(e){console.info("workerError",e),t.terminate()}),!1)}},172:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(38)),n=d(i(47)),a=d(i(178)),o=d(i(2)),s=d(i(14)),u=d(i(0)),l=d(i(1)),h=i(48),c=i(32),p=i(222);function d(t){return t&&t.__esModule?t:{default:t}}var f=0,m=0,v=function(){function t(e){(0,u.default)(this,t),this.worker=e,this.maptheme=null,this.tileStylesMap=null}return(0,l.default)(t,[{key:"getStyleFromRoomStyle",value:function(t){for(var e=this.maptheme.Building,i=0;i<e.length;i++)if(1*e[i].typeid==t)return e[i];return e[0]}},{key:"handleTheme",value:function(){for(var t={},e={},i=0,r=this.maptheme.Building,n=0;n<r.length;n++){var a=r[n];if(1*a.filltype==2){if(t[i]||(t[i]={topImgIndexMap:{},sideImgIndexMap:{}}),e[a.typeid]||(e[a.typeid]=[i]),a.topimage&&!t[i].topImgIndexMap[a.topimage]){var o=(0,s.default)(t[i].topImgIndexMap).length+1;t[i].topImgIndexMap[o]=a.topimage,e[a.typeid].push(o)}if(a.sideimage&&!t[i].sideImgIndexMap[a.sideimage]){var u=(0,s.default)(t[i].sideImgIndexMap).length+1;t[i].sideImgIndexMap[u]=a.sideimage,e[a.typeid].push(u),u>=4&&(t[++i]={topImgIndexMap:{},sideImgIndexMap:{}})}}}this.imgConfigs=t,this.styleIndexMap=e}},{key:"getThemeStyleIndex",value:function(t,e){for(var i in this.imgConfigs){var r=this.imgConfigs[i];for(var n in r.topImgIndexMap)if(r.topImgIndexMap[n]===t&&r.sideImgIndexMap[n]===e)return{style:i,group:n}}return{style:null,group:null}}},{key:"createRooms",value:function(t){var e=[],i={},r={},s={extrudes:{},planes:{},tubes:{}};this.maptheme=t.maptheme,this.tileStylesMap=t.tileStylesMap,this.maptheme&&this.handleTheme();var u=t.lod,l={},p=t.id,d={},f={},v=t.fnum,g={},y=[],x=[],b=[],w=[],_=[],M={},S=t.layers,A=t.layerType,T=t.bid,L=t.isTile,P=5,C=t.isMerge,E=t.showBase,I=t.editMode,D={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},B=(t.offsets,0),O=this;if(!m){var z=t.maxX-t.minX;m=O.getRandomHeight(z)}for(var N=0;N<S.length;N++){var R,F=S[N];switch(A){case 0:R=F.modelbases;break;case 1:R=F.models}for(var U=R.length,k=0;k<U;k++){var G=R[k];if(G.hasOwnProperty("RoomHigh")&&null!=G.RoomHigh&&G.RoomHigh>0&&(P=G.RoomHigh),G.hasOwnProperty("RoomLogo")&&null!=G.RoomLogo&&G.RoomLogo.length>1&&0==G.FsId&&""!=G.RoomLogoSize){for(var V=G.RoomLogoSize.split(";"),W=G.RoomLogo.split(";"),H=[],j=0;j<V.length;j++){var X={};X.layerType=A,X.RoomStyle=G.RoomStyle,X.fnum=v,X.dataID=G.FC;var q=V[j].split(",");if(X.coord={x:G.CenX,y:G.CenY},X.size=[parseFloat(q[0]),parseFloat(q[1])],X.RoomLogo=W[j],X.id=G.oid,X.height=G.RoomHigh+.05,X.rotate=q.length>2?parseFloat(q[2]):0,X.angle=q.length>3?parseFloat(q[3]):0,X.offset=q.length>5?{x:parseFloat(q[4]),y:parseFloat(q[5]),z:parseFloat(q[6])||0}:{x:0,y:0,z:0},G.hasOwnProperty("offset")&&G.offset.length>0&&!(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel)){var Y=G.offset.split(",");X.offset.x+=parseFloat(Y[0]||0),X.offset.z+=parseFloat(Y[1]||0),X.offset.y+=parseFloat(Y[2]||0)}var J=void 0;X.repeatType=1*q[7];var Z=1*q[3];if(1*Z<3){X.TextureType=Z,(J=new h.PlaneBufferGeometry(1,1,1,1)).scale(X.size[0],X.size[1],1),X.angle?(J.rotateZ((180-X.rotate)*(Math.PI/180)),J.rotateX(Math.PI)):(J.rotateX(-Math.PI/2),J.rotateZ((X.rotate-180)*(Math.PI/180))),J.translate(-D.sceneX-X.coord.x+X.offset.x,X.coord.y-D.sceneZ+X.offset.y,-(X.offset.z+X.height));var Q=new Array(J.attributes.position.count);Q.fill(0,0,J.attributes.position.count),J.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Q),1)),C?(y.push(X),x.push(J)):(d[G.oid]||(d[G.oid]=[]),g[G.oid]||(g[G.oid]=[]),d[G.oid].push(X),g[G.oid]=J)}else X.TextureType=Z,X.RS=G.RS,H.push(X)}if(H.length>0)if(C){var K=v+"_"+A+"_"+G.RoomStyle+"_"+G.RoomLogo+"_"+G.RoomLogoSize;r[K]||(r[K]=!0,b.push(H))}else f[G.oid]=H}if(G.RModel&&G.RModel.length>2&&"undefined"!=G.RModel){var $={brief:G.Brief,model:G.RModel,name:G.name,scale:G.scale,dataID:G.FC,mapId:G.bids,rotate:G.rotate,x:G.CenX,y:G.CenY,gid:G.gid,offset:G.offset,id:G.oid,bclick:G.bclick,rank:G.ShowLevel,top:G.top};if($.roomdata=G,G.RModel.indexOf("BIM-")>-1?($.fnum=v,_.push($)):w.push($),!I)continue}var tt=0;void 0===(tt=L?I?G.RoomStyle:this.tileStylesMap[G.RoomStyle]:C?G.texturekey?G.texturekey:G.RoomStyle:G.oid||0)&&(tt=0),i[tt]||(i[tt]={},s.extrudes[tt]=[],s.planes[tt]=[],s.tubes[tt]=[],l[tt]=[],i[tt].brothers=[],i[tt].groupIndex=0,i[tt].lineIndex=0,i[tt].planes=null,C&&(M[tt]={}));var et,it=!1,rt=!1;if(P<=.3&&[120005,40003,40004].indexOf(G.Typeid),L&&3===G.Typeid&&(it=!0),!G.RModel||2!=G.top&&3!=G.top)if(G.isTube?(rt=!0,et=O.createTubeGeo(G,D,P,1,it)):et=O.createGeometry_(G,D,P,1,it,I,L),et){var nt=et.geometry,at=et.pointsGeometry,ot=et.geometry.userData.groupInfo,st=i[tt],ut=s.extrudes[tt];it?(i[tt].planes||(i[tt].planes={brothers:[],groupIndex:0,lineIndex:0,geos:[]}),st=i[tt].planes,ut=s.planes[tt],i[tt].planes.geos.push(et)):rt&&(i[tt].tubes||(i[tt].tubes={brothers:[],groupIndex:0,geos:[]}),st=i[tt].tubes,ut=s.tubes[tt],i[tt].tubes.geos.push(et));var lt=C?st.groupIndex:0,ht={},ct=(0,o.default)({},G);if(I&&E&&(ht.data_=ct),ht.FloorNum=ct.floornum,ht.ID=ct.oid,ht.bid=T,ht.name=ct.name,ht.top=ct.top,ht.typeID=ct.Typeid,ht.nodeType=5,ht.isTube=ct.isTube,ht.RoomHigh=ct.RoomHigh,ht.RoomElevation=ct.RoomElevation||0,ht.dataID=ct.FC,ht.gid=ct.gid,ht.RoomLogo=ct.RoomLogo,ht.RoomStyle=ct.RoomStyle,ht.classID=ct.classID,ht.points=ct.originalPoints,ct.bids&&(ht.mapId=ct.bids),ht.ShowLevel=ct.ShowLevel||24,ht.TextureType=G.TextureType,ht.mapCoord={x:ct.CenX,y:ct.CenY},L&&(ht.Fnums=ct.fnums,ht.x=ct.x,ht.y=ct.y,ht.size=ct.AS),st.brothers.push(ht),ut.push(nt),B++,rt)st.groupIndex+=nt.index.count,ht.faceRange=[lt,st.groupIndex];else{if(l[tt].push(at),st.groupIndex+=it?nt.index.count:nt.attributes.position.count,C&&!it){for(var pt=0;pt<ot.length;pt++)ot[pt].start+=lt;M[tt][ht.ID]=ot}i[tt].lineIndex+=at.attributes.position.count,ht.faceRange=[lt,st.groupIndex]}}else s.extrudes[tt].push(null),B++,console.info("outline error id: ",G.oid),e.push(G.oid);else s.extrudes[tt].push(null),B++}}var dt=[],ft=[],mt=[],vt=[],gt=[],yt=[],xt=[],bt=[],wt=[],_t=[],Mt=[],St=[],At=[],Tt=[],Lt=[],Pt=new Float32Array,Ct=new Float32Array,Et=new Float32Array,It=new Uint16Array,Dt=[],Bt=[],Ot=new Float32Array,zt=[];if(C&&x.length>0){var Nt=c.BufferGeometryUtils.mergeBufferGeometries(x,!0);if(Nt){Pt=Nt.getAttribute("position").array,Ct=Nt.getAttribute("normal").array,Et=Nt.getAttribute("uv").array,Ot=Nt.getAttribute("isHideFlags").array,It=Nt.index.array;var Rt=Nt.groups;Bt=Rt.map((function(t){return(0,o.default)({},t)}));for(var Ft=[],Ut=0;Ut<y.length;Ut++)Bt[Ut].id=y[Ut].id,0!=Ft.length&&Ft[Ft.length-1]==y[Ut].RoomLogo||Ft.push(y[Ut].RoomLogo),y[Ut].hasOwnProperty("matindex")||(y[Ut].matindex=Rt[Ut].materialIndex),y[Ut+1]&&y[Ut].RoomLogo==y[Ut+1].RoomLogo&&(y[Ut+1].matindex=Rt[Ut].materialIndex,Rt[Ut+1].materialIndex=Rt[Ut].materialIndex);for(var kt=0;kt<Rt.length;kt++)Rt[kt+1]&&Rt[kt].materialIndex==Rt[kt+1].materialIndex&&(Rt[kt].count=Rt[kt].count+Rt[kt+1].count,Rt.splice(kt+1,1),kt--);Dt=Rt}}if(C){for(var Gt in s.extrudes)s.extrudes[Gt].forEach((function(t){if(t){dt.push(t.getAttribute("uv")),ft.push(t.getAttribute("position")),mt.push(t.getAttribute("normal")),Tt.push(t.getAttribute("normalizeUv")),vt.push(t.getAttribute("topFaceFlags")),St.push(t.getAttribute("isHideFlags")),gt.push(t.getAttribute("highLightFlags")),yt.push(t.getAttribute("buildingsHeight")),xt.push(t.getAttribute("randomFactor")),wt.push(t.getAttribute("highLightColor")),bt.push(t.getAttribute("buildingsColor")),At.push(t.getAttribute("isSelectFlags")),zt.push(t.getAttribute("rUv"));var e=t.getAttribute("topTexIndex"),i=t.getAttribute("sideTexIndex");e&&_t.push(e),i&&Mt.push(i)}})),l[Gt].forEach((function(t){Lt.push(t.getAttribute("position"))}));for(var Vt in s.tubes)if(s.tubes[Vt].length>0){var Wt;Wt=c.BufferGeometryUtils.mergeBufferGeometries(s.tubes[Vt]),i[Vt].tubeData=Wt}var Ht=new Float32Array,jt=new Float32Array,Xt=new Float32Array,qt=new Float32Array,Yt=new Float32Array,Jt=new Float32Array,Zt=new Float32Array,Qt=new Float32Array,Kt=new Float32Array,$t=new Float32Array,te=new Float32Array,ee=new Float32Array,ie=new Float32Array,re=new Float32Array,ne=new Float32Array,ae=new Float32Array;return 0!=(0,a.default)(s).length&&0!=dt.length&&(Ht=c.BufferGeometryUtils.mergeBufferAttributes(dt).array,Yt=c.BufferGeometryUtils.mergeBufferAttributes(Tt).array,jt=c.BufferGeometryUtils.mergeBufferAttributes(ft).array,Xt=c.BufferGeometryUtils.mergeBufferAttributes(mt).array,qt=c.BufferGeometryUtils.mergeBufferAttributes(Lt).array,Jt=c.BufferGeometryUtils.mergeBufferAttributes(zt).array,Zt=c.BufferGeometryUtils.mergeBufferAttributes(vt).array,ne=c.BufferGeometryUtils.mergeBufferAttributes(St).array,ae=c.BufferGeometryUtils.mergeBufferAttributes(At).array,Qt=c.BufferGeometryUtils.mergeBufferAttributes(gt).array,Kt=c.BufferGeometryUtils.mergeBufferAttributes(yt).array,$t=c.BufferGeometryUtils.mergeBufferAttributes(xt).array,te=c.BufferGeometryUtils.mergeBufferAttributes(bt).array,ee=c.BufferGeometryUtils.mergeBufferAttributes(wt).array,_t.length>0&&(ie=c.BufferGeometryUtils.mergeBufferAttributes(_t).array),Mt.length>0&&(re=c.BufferGeometryUtils.mergeBufferAttributes(Mt).array)),void O.worker.postMessage({lod:u,bid:T,isTile:L,id:p,types:i,fnum:t.fnum,pointGeometrys:qt,layerType:t.layerType,uvs:Ht,rUvs:Jt,normalizeUvs:Yt,isMerge:C,vertices:jt,highLightColorAttr:ee,buildingsColorAttr:te,topFaceFlags:Zt,isHideFlags:ne,isSelectFlags:ae,highLightFlags:Qt,buildingsHeight:Kt,buildingsRandomFactor:$t,topTexIndex:ie,sideTexIndex:re,bimModelData:_,showBase:E,normals:Xt,groups:M,modelTexturesData:b,modelImagesData:y,model3DData:w,modelImagePos:Pt,modelImageNor:Ct,modelImageUv:Et,modelImageGroups:Dt,modelImageIndex:It,modelImageHideFlags:Ot,modelImageGroupsCopy:Bt,errorIds:e},[Ht.buffer,Yt.buffer,jt.buffer,Xt.buffer,qt.buffer,Pt.buffer,Ct.buffer,Et.buffer,It.buffer,Zt.buffer,ne.buffer,Qt.buffer,Kt.buffer,$t.buffer,ee.buffer,te.buffer,ie.buffer,re.buffer,ae.buffer,Jt.buffer,Ot.buffer])}var oe=!1,se=!1,ue=function(r){se=!0,s.planes[r].forEach((function(n,a){var o=new Float32Array,s=new Float32Array,h=new Float32Array,c={},m=[],v=new Float32Array;n?(c[r]={brothers:[],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex,planes:i[r].planes},o=n.getAttribute("uv").array,s=n.getAttribute("normal").array,h=n.getAttribute("position").array,v=l[r][0].getAttribute("position").array):c[r]=null;var y=d[r]||null;oe||(oe=!0,m=w);var x=new Float32Array,b=new Float32Array,S=new Float32Array,A=new Uint16Array,L=[];g[r]&&(x=g[r].getAttribute("position").array,b=g[r].getAttribute("normal").array,S=g[r].getAttribute("uv").array,A=g[r].index.array,L=g[r].groups),O.worker.postMessage({lod:u,bid:T,id:p,types:c,fnum:t.fnum,roomid:r,layerType:t.layerType,pointGeometrys:v,uvs:o,normals:s,isMerge:C,vertices:h,modelImagesData:y,modelTexturesData:f,groups:M,postcount:B,showBase:E,model3DData:m,bimModelData:_,modelImagePos:x,modelImageNor:b,modelImageUv:S,modelImageGroups:L,modelImageIndex:A,errorIds:e},[o.buffer,h.buffer,s.buffer,x.buffer,v.buffer,b.buffer,S.buffer,A.buffer]),B--}))};for(var le in s.planes)ue(le);for(var he in s.tubes)if(s.tubes[he].length>0){var ce=(0,n.default)({},he,i[he]);ce[he].tubeData=s.tubes[he][0],O.worker.postMessage({bid:T,id:p,types:ce,fnum:t.fnum,layerType:t.layerType,pointGeometrys:[],groups:{},roomid:he,model3DData:[],isMerge:C,modelImagesData:[],modelImagePos:[],modelTexturesData:[],postcount:B,showBase:E,errorIds:e}),B--}var pe=function(r){se=!0,s.extrudes[r].forEach((function(a,o){var s=new Float32Array,h=new Float32Array,c=new Float32Array,m=new Float32Array,v={},y=[],x=[],b=new Float32Array,M=(0,n.default)({},r,a?(0,n.default)({},r,a.userData.groupInfo):[]);a?(v[r]={brothers:[i[r].brothers[o]],groupIndex:i[r].groupIndex,lineIndex:i[r].lineIndex},s=a.getAttribute("uv").array,h=a.getAttribute("normal").array,c=a.getAttribute("normalizeUv").array,m=a.getAttribute("position").array,b=l[r][0].getAttribute("position").array):v[r]=null;var S=d[r]||null,A=f[r]||null;oe||(oe=!0,y=w,x=_);var L=new Float32Array,P=new Float32Array,I=new Float32Array,D=new Uint16Array,z=[];if(g[r]){var N=g[r];L=N.getAttribute("position").array,P=N.getAttribute("normal").array,I=N.getAttribute("uv").array,D=N.index.array,z=N.groups}O.worker.postMessage({bid:T,lod:u,id:p,types:v,fnum:t.fnum,layerType:t.layerType,pointGeometrys:b,uvs:s,normals:h,roomid:r,isMerge:C,vertices:m,modelImagesData:S,modelTexturesData:A,groups:M,postcount:B,normalizeUvs:c,showBase:E,model3DData:y,bimModelData:x,modelImagePos:L,modelImageNor:P,modelImageUv:I,modelImageGroups:z,modelImageIndex:D,errorIds:e},[s.buffer,m.buffer,h.buffer,L.buffer,c.buffer,b.buffer,P.buffer,I.buffer,D.buffer]),B--}))};for(var de in s.extrudes)pe(de);se||O.worker.postMessage({id:p,reset:!0})}},{key:"createFloors",value:function(t){var e={},i={},r={},n=t.layers,o=t.id,s=(t.layerType,t.floorHeight),u=t.bid,l={},h={sceneX:t.sceneX,sceneZ:t.sceneZ,minX:t.minX,minY:t.minY,maxX:t.maxX,maxY:t.maxY,floorCenX:t.floorCenX,floorCenZ:t.floorCenZ},p=this;if(!m){var d=t.maxX-t.minX;m=p.getRandomHeight(d)}for(var f=0;f<n.length;f++)for(var v=n[f].floorBases,g=v.length,y=0;y<g;y++){var x=v[y],b=p.createGeometry_(x,h,s,0,0),w=b.geometry,_=b.pointsGeometry,M=b.geometry.userData.groupInfo;e[0]||(e[0]={},i[0]=[],r[0]=[],e[0].brothers=[],e[0].faceIndex=0,l[0]=[]),l[0].push(M),i[0].push(w),r[0].push(_)}if(0!=(0,a.default)(i).length){var S=[],A=[],T=[],L=[],P=[];for(var C in i)i[C].forEach((function(t){S.push(t.getAttribute("uv")),A.push(t.getAttribute("position")),T.push(t.getAttribute("normal")),L.push(t.getAttribute("floorUvs"))})),r[C].forEach((function(t){P.push(t.getAttribute("position"))}));var E=c.BufferGeometryUtils.mergeBufferAttributes(S).array,I=c.BufferGeometryUtils.mergeBufferAttributes(A).array,D=c.BufferGeometryUtils.mergeBufferAttributes(T).array,B=c.BufferGeometryUtils.mergeBufferAttributes(P).array,O=c.BufferGeometryUtils.mergeBufferAttributes(L).array;p.worker.postMessage({bid:u,id:o,types:e,fnum:t.fnum,layerType:2,uvs:E,floorUvs:O,pointGeometrys:B,vertices:I,groups:l,normals:D},[E.buffer],[I.buffer],[D.buffer],[O.buffer],[r.buffer])}else p.worker.postMessage({id:o,reset:!0})}},{key:"getRandomHeight",value:function(t){var e=1,i=.01;return t<=50?(e=.1,i=.003):t<=100?(e=.2,i=.006):t<=200&&(e=.5,i=.008),(f+=.003)>=.03&&(f=0),i+f*e}},{key:"getDis",value:function(t,e){return Math.abs(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}},{key:"createTubeGeo",value:function(t,e,i,r,n){var a=t.points,o=e.sceneX,s=e.sceneZ,u=void 0;u=t.offset?t.offset.split(","):[0,0,0];for(var l={scale:t.RoomHigh,extrusionSegments:1,radiusSegments:10,closed:!1},c=[],p=0;p<a.length;p++){var d=a[p];c.push(new h.Vector3(d.x-o+1*u[0],d.z+1*u[1],d.y-s+1*u[2]))}var f=new h.CatmullRomCurve3(c,!1,"centripetal");return{geometry:new h.TubeBufferGeometry(f,l.extrusionSegments,l.scale,l.radiusSegments,l.closed)}}},{key:"createGeometry_",value:function(t,e,i,n,a,o,s){var u,l=this,c=e.sceneX,d=e.sceneZ,f=!1,v=!1,g=0;if(this.styleIndexMap&&s){var y=this.getStyleFromRoomStyle(t.RoomStyle);if("2"===y.filltype){var x=this.getThemeStyleIndex(y.topimage,y.sideimage);g=x.group?1*x.group:0}}var b=o;a&&(i=0),t.normalizeTop&&b&&(f=!0),t.normalizeSide&&b&&(v=!0);var w=[];if(!(u=t.points[0]instanceof Array?t.points[0]:t.points))return null;if(u.length>=4){for(var _,M=new h.Shape,S=0;S<u.length;S++){var A=u[S];0==S?M.moveTo(A.x-c,A.y-d):M.lineTo(A.x-c,A.y-d),w.push(new h.Vector3(A.x-c,A.y-d,0),new h.Vector3(A.x-c,A.y-d,0))}if(t.holes&&t.holes.length>0)for(var T in t.holes){var L=t.holes[T],P=new h.Path;if(Array.isArray(L)){for(var S in L){A=L[S];0==S?P.moveTo(A.x-c,A.y-d):P.lineTo(A.x-c,A.y-d)}M.holes.push(P)}}_=a?new h.ShapeBufferGeometry(M):new h.ExtrudeBufferGeometry(M,{depth:i,bevelEnabled:!1,material:0,extrudeMaterial:0});var C=e.minX,E=e.minY,I=e.maxX-C,D=e.maxY-E,B=_.getAttribute("uv"),O=_.getAttribute("normal").array,z=_.getAttribute("position").array,N=(0,p.getRUv)(M,{height:i,gridSize:{x:i,y:i}}),R=[],F=(T=0,B.array),U=(0,r.default)(F),k=(Math.max(I,D),B.count/3),G=e.floorCenX,V=e.floorCenZ,W=Math.abs(G)-Math.abs(e.sceneX),H=Math.abs(V)-Math.abs(e.sceneZ);if(n){if(!a){var j=function(t){var e={x:z[9*t],y:z[9*t+1]},i={x:z[9*t+3],y:z[9*t+4]},r={x:z[9*t+6],y:z[9*t+7]};return O[9*t+2]==O[9*t+5]?l.getDis(e,i):O[9*t+2]==O[9*t+8]?l.getDis(e,r):O[9*t+5]==O[9*t+8]?l.getDis(i,r):void 0};_.computeBoundingBox();var X=_.boundingBox.max,q=_.boundingBox.min,Y=new h.Vector2(0-q.x,0-q.y),J=new h.Vector2(X.x-q.x,X.y-q.y),Z=J.x/1,Q=J.y/1,K=1,$=1;for(f&&(K=Z,$=Q),k=_.groups[0].count/3;T<k;T++)F[6*T]=(z[9*T]+Y.x)/K,F[6*T+1]=(z[9*T+1]+Y.y)/$,F[6*T+2]=(z[9*T+3]+Y.x)/K,F[6*T+3]=(z[9*T+4]+Y.y)/$,F[6*T+4]=(z[9*T+6]+Y.x)/K,F[6*T+5]=(z[9*T+7]+Y.y)/$,U[6*T]=(z[9*T]+Y.x)/Z,U[6*T+1]=(z[9*T+1]+Y.y)/Q,U[6*T+2]=(z[9*T+3]+Y.x)/Z,U[6*T+3]=(z[9*T+4]+Y.y)/Q,U[6*T+4]=(z[9*T+6]+Y.x)/Z,U[6*T+5]=(z[9*T+7]+Y.y)/Q;for(var tt=_.groups[1].count/6,et=k/2,it=0;it<tt;it++,et++){var rt=j(2*et);rt<1&&(rt=1),v?(F[12*et]=1,F[12*et+1]=1,F[12*et+2]=0,F[12*et+3]=1,F[12*et+4]=1,F[12*et+5]=0,F[12*et+6]=0,F[12*et+7]=1,F[12*et+8]=0,F[12*et+9]=0,F[12*et+10]=1,F[12*et+11]=0):(F[12*et]=rt,F[12*et+1]=i,F[12*et+2]=0,F[12*et+3]=i,F[12*et+4]=rt,F[12*et+5]=0,F[12*et+6]=0,F[12*et+7]=i,F[12*et+8]=0,F[12*et+9]=0,F[12*et+10]=rt,F[12*et+11]=0),U[12*et]=1,U[12*et+1]=1,U[12*et+2]=0,U[12*et+3]=1,U[12*et+4]=1,U[12*et+5]=0,U[12*et+6]=0,U[12*et+7]=1,U[12*et+8]=0,U[12*et+9]=0,U[12*et+10]=1,U[12*et+11]=0}}}else for(;T<k;T++)R[6*T]=(z[9*T]-C-G+W)/I,R[6*T+1]=(z[9*T+1]-E+V-H)/D,R[6*T+2]=(z[9*T+3]-C-G+W)/I,R[6*T+3]=(z[9*T+4]-E+V-H)/D,R[6*T+4]=(z[9*T+6]-C-G+W)/I,R[6*T+5]=(z[9*T+7]-E+V-H)/D;var nt=(new h.BufferGeometry).setFromPoints(w),at=[],ot=nt.getAttribute("position").array,st=null;if(s&&this.styleIndexMap&&(st=this.getStyleFromRoomStyle(t.RoomStyle)),n){var ut={x:0,y:0,z:0};if(t.offset&&!t.RModel){var lt=t.offset.split(",");lt.length>=2&&(ut.x+=parseFloat(lt[0]||0),ut.y+=parseFloat(lt[2]||0),ut.z+=parseFloat(lt[1]||0)),t.RoomElevation=ut.z+i}ut.z+=i;var ht=_.getAttribute("position").count,ct=_.getAttribute("position").array,pt=ut.z;if(a)for(var dt,ft=3*ht;dt<ft;dt+=3)ct[dt]-=pt;else{var mt=[],vt=[],gt=[],yt=[],xt=_.getAttribute("normal").array,bt=_.getAttribute("uv").array,wt=[];n&&(wt=U);for(var _t=[],Mt=ct[2],St=st?1*st.height:0,At=0,Tt=0;Tt<ht;Tt++)ct[3*Tt+2]==Mt||0!=At&&Tt>At?(vt.push(ct[3*Tt],ct[3*Tt+1],ct[3*Tt+2]-pt-St),mt.push(xt[3*Tt],xt[3*Tt+1],xt[3*Tt+2]),gt.push(bt[2*Tt],bt[2*Tt+1]),_t.push(N[2*Tt],N[2*Tt+1]),n&&yt.push(wt[2*Tt],wt[2*Tt+1])):0==At&&(At=2*Tt);_.addAttribute("position",new h.BufferAttribute(new Float32Array(vt),3)),_.addAttribute("normal",new h.BufferAttribute(new Float32Array(mt),3)),_.addAttribute("uv",new h.BufferAttribute(new Float32Array(gt),2)),_.addAttribute("normalizeUv",new h.BufferAttribute(new Float32Array(yt),2)),_.addAttribute("rUv",new h.BufferAttribute(new Float32Array(_t),2)),_.groups[0].count-=At/2,_.groups[1].start-=At/2}ut.z-=.002;for(var Lt=m,Pt=ot.length,Ct=0;Ct<=Pt-3;Ct+=3){ot[Ct];ot[Ct]+=parseFloat(ut.x),ot[Ct+1]+=parseFloat(ut.y),ot[Ct+2]-=parseFloat(ut.z),0==Ct||Ct==Pt-3?at.push(ot[Ct],ot[Ct+1],ot[Ct+2]):at.push(ot[Ct],ot[Ct+1],ot[Ct+2]-Lt,ot[Ct],ot[Ct+1],ot[Ct+2]-Lt)}}else _.addAttribute("floorUvs",new h.BufferAttribute(new Float32Array(R),2));at=new Float32Array(at);var Et=nt.getAttribute("position");Et.setArray(at),Et.needsUpdate=!0;var It=_.groups;a&&(It=[{start:0,count:_.index.count,materialIndex:0},{start:0,count:_.index.count,materialIndex:0}]),_.userData.groupInfo=It,_.clearGroups(),_.addGroup(It[0].start,It[1].start+It[1].count,0);var Dt=a?_.index.count:_.attributes.position.count,Bt=new Array(Dt);a?Bt.fill(1,0,It[0].count):(Bt.fill(1,It[0].start,It[1].start),Bt.fill(0,It[1].start,It[1].start+It[1].count)),_.addAttribute("topFaceFlags",new h.BufferAttribute(new Float32Array(Bt),1));var Ot=new Array(Dt);Ot.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("highLightFlags",new h.BufferAttribute(new Float32Array(Ot),1));var zt=new Array(Dt);zt.fill(i,It[0].start,It[1].start+It[1].count),_.addAttribute("buildingsHeight",new h.BufferAttribute(new Float32Array(zt),1));var Nt=new Array(Dt);Nt.fill(h.Math.randFloat(0,1),It[0].start,It[1].start+It[1].count),_.addAttribute("randomFactor",new h.BufferAttribute(new Float32Array(Nt),1));var Rt=new Array(Dt);Rt.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("isHideFlags",new h.BufferAttribute(new Float32Array(Rt),1));var Ft=new Array(Dt);Ft.fill(0,It[0].start,It[1].start+It[1].count),_.addAttribute("isSelectFlags",new h.BufferAttribute(new Float32Array(Ft),1));var Ut=[],kt=[],Gt=void 0,Vt=void 0;if(Gt=new Array(Dt),Vt=new Array(Dt),st&&st.filltype&&1*st.filltype==1&&st.color)for(var Wt=st.color.split(","),Ht=0;Ht<Dt;Ht++)Ut.push(1*Wt[0]/255,1*Wt[1]/255,1*Wt[2]/255,1*st.opacity),kt.push(1,1,1,1);else if(st&&st.filltype&&1*st.filltype==2&&(st.topimage||st.sideimage)){for(var jt=0;jt<Dt;jt++)Ut.push(1,1,1,1*st.opacity),kt.push(1,1,1,1);st.topimage&&Gt.fill(g,0,It[1].start+It[1].count),st.sideimage&&Vt.fill(g,0,It[1].start+It[1].count)}return _.addAttribute("buildingsColor",new h.BufferAttribute(new Float32Array(Ut),4)),_.addAttribute("highLightColor",new h.BufferAttribute(new Float32Array(kt),4)),_.addAttribute("topTexIndex",new h.BufferAttribute(new Float32Array(Gt),1)),_.addAttribute("sideTexIndex",new h.BufferAttribute(new Float32Array(Vt),1)),{geometry:_,pointsGeometry:nt,model:t}}return null}}]),t}();e.default=v},222:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRUv=void 0;var r=i(48);function n(t,e,i){var n=i.x,a=i.y,o=0;return{generateTopUV:function(e,i,n,a,o){var s=[new r.Vector2(0,0),new r.Vector2(0,0),new r.Vector2(0,0)];return t.topUv.push(s[0].x,s[0].y,s[1].x,s[1].y,s[2].x,s[2].y),s},generateSideWallUV:function(i,s,u,l,h,c){var p,d,f=s[3*u],m=s[3*u+1],v=s[3*u+2],g=s[3*l],y=s[3*l+1],x=s[3*l+2],b=new r.Vector3(f,m,v),w=new r.Vector3(g,y,x),_=b.distanceTo(w);return p=t.sideUv,d=[new r.Vector2(o,0),new r.Vector2(o+_/n,0),new r.Vector2(o+_/n,e/a),new r.Vector2(o,e/a)],p.push(d[0].x,d[0].y,d[1].x,d[1].y,d[3].x,d[3].y),p.push(d[1].x,d[1].y,d[2].x,d[2].y,d[3].x,d[3].y),o+=_/n,t.sideUv}}}e.getRUv=function(t,e){var i={topUv:[],sideUv:[]};return new r.ExtrudeBufferGeometry(t,{depth:e.height,material:0,extrudeMaterial:0,bevelEnabled:!1,UVGenerator:n(i,e.height,e.gridSize)}).dispose(),i.topUv.concat(i.sideUv)}},223:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=d(i(14)),n=d(i(7)),a=d(i(8)),o=d(i(9)),s=d(i(0)),u=d(i(1)),l=d(i(233)),h=d(i(234)),c=i(48),p=i(32);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,s.default)(this,t),this.worker=e,this.opts={mapDataSrc:"",mapid:""},this.threeCenter=null,this.bimDatas={},this.sceneX=0,this.sceneZ=0,this.sourceData={},this.queue=null,this.mapCenter=null,this.collections={},this.db=null,this.needsUpdate=!0,this.devMode=!1,this.mergeMode=!0,this.bimInfo=null,this.buffers=[],this.useIDB=!0,this.ajaxPrefix=e.location.href}var e,i,d,f,m,v;return(0,u.default)(t,[{key:"getBimDatasFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimDatas").objectStore("bimDatas"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"startInfo",value:(v=(0,a.default)(n.default.mark((function t(e){var i,r,a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(this.url=e.url,r=e.useCache,this.queue=e.datas,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!r||!i){t.next=23;break}return t.next=19,this.getBimInfoFromDB(e.mapid);case 19:(a=t.sent)?(this.bimInfo=a,this.postBimInfo()):this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null}),t.next=24;break;case 23:this.loadBimInfo({controlIndex:this.controlIndex,sinceTime:null});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"start",value:(m=(0,a.default)(n.default.mark((function t(e){var i,a,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.useIDB,this.useIDB=i,!i){t.next=5;break}return t.next=5,this.IDBTryInit({db:"ESBIM"});case 5:if(a=e.useCache,this.queue=e.datas,this.url=e.url,this.opts.mapDataSrc=e.mapDataSrc,this.opts.mapid=e.mapid,this.sceneX=e.sceneX,this.sceneZ=e.sceneZ,this.controlIndex=e.controlIndex,this.devMode=e.devMode,this.mergeMode=e.mergeMode,this.workerId=e.id,!a||!i){t.next=24;break}return t.next=19,this.IDBQueryData("bimDatas",{page:e.controlIndex,bids:e.mapid});case 19:o=t.sent,(0,r.default)(o).length>0?(this.bimDatas=o,this.threeCenter=o.threeCenter,this.mapCenter=o.mapCenter,this.handleFromCache(this.controlIndex,e.mapid)):(this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex})),t.next=26;break;case 24:this.needsUpdate=!0,this.loadBimDatas({controlIndex:this.controlIndex});case 26:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"onSourceLoaded",value:function(){var t=this.queue,e={},i=this.mergeMode;for(var r in t)if(this.bimDatas[r]){e[r]={};var n=t[r];if(i)for(var a in n){e[r][a]=[];var o=n[a],s=this.mergeQueue(o,r);e[r][a].push(s)}else for(var u in n){e[r][u]=[];var l=n[u];for(var h in l){var c=[l[h]],p=this.mergeQueue(c,r);e[r][u].push(p)}}t[r]={}}this.worker.postMessage({message:"bimMerged",useCache:!this.needsUpdate,data:e,id:this.workerId,center:this.threeCenter,bimCenter:this.mapCenter,bids:this.opts.mapid},this.buffers),this.bimDatas=null,this.sourceData=null}},{key:"getTransformMatrix",value:function(t,e,i){var r=new c.Euler(e.x,e.y,e.z,"XYZ"),n=(new c.Quaternion).setFromEuler(r),a=new c.Vector3(t.x,t.y,t.z),o=new c.Vector3(i.x,i.y,i.z);return(new c.Matrix4).compose(a,n,o)}},{key:"coordMapToThree",value:function(t){return new c.Vector3(-(t.x+this.sceneX),0,t.y-this.sceneZ)}},{key:"coordThreeToMap",value:function(t){return{x:-(t.x+this.sceneX),y:t.z+this.sceneZ}}},{key:"mergeQueue",value:function(t,e){var i=this.bimDatas[e];if(!i)return null;for(var r={},n=[],a=0;a<t.length;a++){var o=t[a];o.isBim=!0;var s=o.offset.split(","),u=o.center,l=this.coordMapToThree(u),h=new c.Vector3(l.x+1*s[0],0+1*s[1],l.z+1*s[2]);o.scale={x:o.scale.x,y:o.scale.y,z:o.scale.z};var d=new c.Vector3(o.scale.x,o.scale.y,o.scale.z),f=new c.Vector3(0,0,0);if(o.rotate){var m=o.rotate.split(",");f.x=c.Math.degToRad(1*m[0]),f.y=c.Math.degToRad(1*m[1]),f.z=c.Math.degToRad(1*m[2])}var v=this.getTransformMatrix({x:h.x,y:h.y,z:h.z},{x:f.x,y:f.y,z:f.z},{x:d.x,y:d.y,z:d.z});for(var g in i){r[g]||(r[g]={geometries:[],groupInfo:[],groupIndex:0});var y=i[g],x=new c.BufferGeometry;x.setIndex(new c.BufferAttribute(y.indexes,1)),x.addAttribute("position",new c.BufferAttribute(y.positions,3)),x.addAttribute("uv",new c.BufferAttribute(y.uvs,2)),(x=x.clone()).applyMatrix(v),r[g].geometries.push(x),r[g].groupInfo.push({style:g,id:o.id,start:r[g].groupIndex,count:x.index.count,materialIndex:0}),r[g].groupIndex+=x.index.count}}for(var b in r){var w=p.BufferGeometryUtils.mergeBufferGeometries(r[b].geometries);n.push({style:b,groupInfo:r[b].groupInfo,position:w.attributes.position.array,uv:w.attributes.uv.array,index:w.index.array,mapCoord:r[b].mapCoord}),this.buffers.push(w.attributes.position.array.buffer,w.attributes.uv.array.buffer,w.index.array.buffer)}return n}},{key:"getHeadTime",value:function(t){var e=t.controlIndex,i=this.opts.mapDataSrc,r=this.opts.mapid,n=""+i+r+"/"+r+"-bim"+e+".bin";return n.indexOf("http")<0&&(n=this.ajaxPrefix+"/"+n),new o.default((function(t,e){l.default.get({type:"HEAD",url:n,isArrayBuffer:!0,useCacheSince:null}).success((function(e,i){var r=i.getResponseHeader("Last-Modified"),n=Date.parse(r);t(n)})).error((function(){e(null)}))}))}},{key:"getBimInfoFromDB",value:function(t){var e=this;return new o.default((function(i,r){var n=e.db.transaction("bimInfos").objectStore("bimInfos"),a=n.get(t);a.onsuccess=function(){var t=a.result;i(t||null)},a.onerror=function(t){r(null)};var o=n.count();o.onsuccess=function(){o.result;e.devMode}}))}},{key:"postBimInfo",value:(f=(0,a.default)(n.default.mark((function t(){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.worker.postMessage({message:"bimInfos",data:this.bimInfo,id:this.workerId});case 1:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"loadBimInfo",value:(d=(0,a.default)(n.default.mark((function t(){var e,i,r;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(e=this).useIDB,r=this.url,l.default.get({url:r,isArrayBuffer:!0,useCacheSince:null}).success((function(t,r){var n=r.getResponseHeader("Last-Modified"),a=Date.parse(n),o=new Uint8Array(t),s=h.default.ESBim.ESBimInfoSet.decode(o);s.lastModified=a,i&&e.IDBAddItem("bimInfos",s),e.bimInfo=s,e.postBimInfo()})).error((function(t,i){e.clearCache()}));case 5:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"loadBimDatas",value:(i=(0,a.default)(n.default.mark((function t(e){var i,r,o,s=e.controlIndex;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(i=this).opts.mapDataSrc,r=i.opts.mapid,o=this.url,l.default.get({url:o,isArrayBuffer:!0,useCacheSince:null}).success(function(){var t=(0,a.default)(n.default.mark((function t(e,a){var u,l,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.needsUpdate=!0,u=new Uint8Array(e),t.prev=3,l=h.default.ESBim.ESBimGeoSet.decode(u),i.needsUpdate&&(this.devMode,i.needsUpdate=!0,c={x:l.x,y:l.y},i.coordMapToThree({x:c.x,y:c.y}),i.sourceData=l,i.convertSources(s),i.onSourceLoaded(s)),t.next=13;break;case 8:return t.prev=8,t.t0=t.catch(3),console.info(r,'Error on reading "'+o+'"',"please confirm your file path"),console.info(r,t.t0),t.abrupt("return");case 13:case"end":return t.stop()}}),t,this,[[3,8]])})));return function(e,i){return t.apply(this,arguments)}}()).error((function(t,e){i.clearCache()}));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"handleFromCache",value:(e=(0,a.default)(n.default.mark((function t(e,i){return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.parseQueue();case 1:case"end":return t.stop()}}),t,this)}))),function(t,i){return e.apply(this,arguments)})},{key:"parseQueue",value:function(){this.onSourceLoaded()}},{key:"convertSources",value:function(t){var e=this,i=e.sourceData,r=e.opts.mapid,n=e.queue,a=e.needsUpdate,o=e.useIDB;for(var s in this.threeCenter=this.coordMapToThree({x:i.x,y:i.y}),this.mapCenter={x:i.x,y:i.y},i.Ones){var u="BIM-"+s;if(n[u]){var l=i.Ones[s],h=l.pts,c=l.uv,p=l.fs,d={};if(0!=p.length){for(var f=0;f<p.length;f++){var m=p[f],v=m.idx,g=m.uv,y=m.vtx,x=m.c;d[x]||(d[x]={positions:[],uvs:[],indexes:[],offset:0});for(var b=0;b<y.length;b++)d[x].positions.push(h[y[b]]);for(var w=0;w<g.length;w++)d[x].uvs.push(c[g[w]]);for(var _=0;_<v.length;_++){var M=v[_];d[x].indexes.push(M+d[x].offset)}d[x].offset+=y.length/3}var S={};for(var A in d){var T=d[A];S[A]={indexes:new Uint16Array(T.indexes),positions:new Float32Array(T.positions),uvs:new Float32Array(T.uvs)}}if(this.bimDatas[u]=S,a&&o){var L=r+"-"+s;e.IDBAddItem("bimDatas",{id:L,bids:r,bimId:s,page:t,datas:S,mapCenter:this.mapCenter,threeCenter:this.threeCenter})}}}}}},{key:"IDBTryInit",value:function(t){var e=this;return new o.default((function(i){var r=e.worker.indexedDB.open(t.db);r.onsuccess=function(){var t=r.result;e.db=t,e.devMode,i()},r.onerror=function(){r.errorCode}}))}},{key:"IDBAddItem",value:function(t,e){var i=this.db,r=this,n=i.transaction([t],"readwrite").objectStore(t).add(e);n.onsuccess=function(t){r.devMode},n.onerror=function(t){r.devMode}}},{key:"clearCache",value:function(){if(this.useIDB){var t=this.db,e=this.opts.mapid;t.transaction("bimDatas","readwrite").objectStore("bimDatas").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimInfos","readwrite").objectStore("bimInfos").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())},t.transaction("bimSets","readwrite").objectStore("bimSets").openCursor().onsuccess=function(t){var i=t.target.result;i&&(i.value.bids==e&&i.delete(),i.continue())}}}},{key:"IDBQueryData",value:function(t,e){var i=this,r=this;return new o.default((function(n){var a=i.db.transaction([t],"readonly").objectStore(t),o=a.index("myIndex").openCursor(IDBKeyRange.only([e.bids,e.page])),s={};o.onsuccess=function(t){var e=t.target.result;if(e){var i=e.value,r="BIM-"+i.bimId;s.mapCenter||(s.mapCenter=i.mapCenter,s.threeCenter=i.threeCenter),s[r]=i.datas,e.continue()}else n(s)},o.onerror=function(){};var u=a.count();u.onsuccess=function(){u.result;r.devMode}}))}}]),t}();e.default=f},233:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(i(0)),n=o(i(1)),a=i(4);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function t(e){(0,r.default)(this,t),this.url=e.url;var i=this.url,n=e.data;this.type=e.type||(n?"POST":"GET");var o=this.type,s=null==e.async||e.async;if(this.isArrayBuffer=e.isArrayBuffer||!1,this._isComplete=!1,this._status,this._responseData,this._httpStatus,this._completeCallbacks=new a.Callbacks,this._successCallbacks=new a.Callbacks,this._errorCallbacks=new a.Callbacks,this._since=e.useCacheSince||null,this._httpServer,this._initHttpServer(),this._httpServer.open(o,i,s),this._since){var u=new Date(this._since).toGMTString();this._httpServer.setRequestHeader("If-Modified-Since",u)}this._httpServer.onreadystatechange=this._httpStateChange.bind(this),"GET"==o&&this.isArrayBuffer&&(this._httpServer.responseType="arraybuffer",this._httpServer.custom&&(this._httpServer.custom.xhr.responseType="arraybuffer")),"POST"===o&&(this._httpServer.setRequestHeader("X-Requested-With","XMLHttpRequest"),this._httpServer.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this._httpServer.setRequestHeader("Connection","close"));try{this._httpServer.send(n)}catch(t){this._errorCallback()}}return(0,n.default)(t,[{key:"complete",value:function(t){return this._completeCallbacks.add(t),this._isComplete&&this._completeCallbacks.fire(this._responseData,this._status),this}},{key:"success",value:function(t){return this._successCallbacks.add(t),this._isComplete&&"success"===this._status&&this._successCallbacks.fire(this._responseData),this}},{key:"error",value:function(t){return this._errorCallbacks.add(t),this._isComplete&&"error"===this._status&&this._errorCallbacks.fire(this._responseData),this}}],[{key:"get",value:function(e){return new t(e)}},{key:"getJSON",value:function(e){return new t({url:e.url,async:e.async}).success((function(t){var e;try{e=JSON.parse(t)}catch(t){}return[e]}))}},{key:"post",value:function(e,i){return new t({url:e,data:i})}}]),(0,n.default)(t,[{key:"_initHttpServer",value:function(){XMLHttpRequest&&(this._httpServer=new XMLHttpRequest)}},{key:"_httpStateChange",value:function(){4===this._httpServer.readyState&&(this._isComplete=!0,this.judgeStatus())}},{key:"_successCallback",value:function(){this._completeCallbacks.fire(this._responseData,this._status),this._successCallbacks.fire(this._responseData,this._httpServer)}},{key:"judgeStatus",value:function(){200==this._httpServer.status?(this._status="success","GET"==this.type&&(this.isArrayBuffer||this.url.indexOf(".loc")>0)?this._responseData=this._httpServer.response:this._responseData=this._httpServer.responseText,this._successCallback()):(this._status="error",this._responseData=this._httpServer.response,this._httpStatus=this._httpServer.status,this._errorCallback())}},{key:"_errorCallback",value:function(){this._httpStatus,this._completeCallbacks.fire(this._responseData,this._status),this._errorCallbacks.fire(this._responseData,this._httpStatus)}}]),t}();e.default=s},234:function(t,e,i){"use strict";var r=a(i(6)),n=a(i(14));function a(t){return t&&t.__esModule?t:{default:t}}var o,s=i(75),u=s.Reader,l=s.Writer,h=s.util,c=s.roots.default||(s.roots.default={});c.ESBim=((o={}).ESBimGeoSet=function(){function t(t){if(this.Ones={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.pageno=0,t.prototype.pages=0,t.prototype.x=0,t.prototype.y=0,t.prototype.z=0,t.prototype.Ones=h.emptyObject,t.prototype.t1="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&e.uint32(40).int32(t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&e.uint32(48).int32(t.pages),null!=t.x&&t.hasOwnProperty("x")&&e.uint32(57).double(t.x),null!=t.y&&t.hasOwnProperty("y")&&e.uint32(65).double(t.y),null!=t.z&&t.hasOwnProperty("z")&&e.uint32(73).double(t.z),null!=t.Ones&&t.hasOwnProperty("Ones"))for(var i=(0,n.default)(t.Ones),r=0;r<i.length;++r)e.uint32(82).fork().uint32(10).string(i[r]),c.ESBim.OneGeoSet.encode(t.Ones[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(90).string(t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimGeoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.pageno=t.int32();break;case 6:n.pages=t.int32();break;case 7:n.x=t.double();break;case 8:n.y=t.double();break;case 9:n.z=t.double();break;case 10:t.skip().pos++,n.Ones===h.emptyObject&&(n.Ones={}),i=t.string(),t.pos++,n.Ones[i]=c.ESBim.OneGeoSet.decode(t,t.uint32());break;case 11:n.t1=t.string();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.pageno&&t.hasOwnProperty("pageno")&&!h.isInteger(t.pageno))return"pageno: integer expected";if(null!=t.pages&&t.hasOwnProperty("pages")&&!h.isInteger(t.pages))return"pages: integer expected";if(null!=t.x&&t.hasOwnProperty("x")&&"number"!=typeof t.x)return"x: number expected";if(null!=t.y&&t.hasOwnProperty("y")&&"number"!=typeof t.y)return"y: number expected";if(null!=t.z&&t.hasOwnProperty("z")&&"number"!=typeof t.z)return"z: number expected";if(null!=t.Ones&&t.hasOwnProperty("Ones")){if(!h.isObject(t.Ones))return"Ones: object expected";for(var e=(0,n.default)(t.Ones),i=0;i<e.length;++i){var a=c.ESBim.OneGeoSet.verify(t.Ones[e[i]]);if(a)return"Ones."+a}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimGeoSet)return t;var e=new c.ESBim.ESBimGeoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),null!=t.pageno&&(e.pageno=0|t.pageno),null!=t.pages&&(e.pages=0|t.pages),null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.z&&(e.z=Number(t.z)),t.Ones){if("object"!==(0,r.default)(t.Ones))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones={};for(var i=(0,n.default)(t.Ones),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.Ones[i[a]]))throw TypeError(".ESBim.ESBimGeoSet.Ones: object expected");e.Ones[i[a]]=c.ESBim.OneGeoSet.fromObject(t.Ones[i[a]])}}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.Ones={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.pageno=0,r.pages=0,r.x=0,r.y=0,r.z=0,r.t1="",r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),null!=t.pageno&&t.hasOwnProperty("pageno")&&(r.pageno=t.pageno),null!=t.pages&&t.hasOwnProperty("pages")&&(r.pages=t.pages),null!=t.x&&t.hasOwnProperty("x")&&(r.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(r.y=t.y),null!=t.z&&t.hasOwnProperty("z")&&(r.z=t.z),t.Ones&&(i=(0,n.default)(t.Ones)).length){r.Ones={};for(var a=0;a<i.length;++a)r.Ones[i[a]]=c.ESBim.OneGeoSet.toObject(t.Ones[i[a]],e)}return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneGeoSet=function(){function t(t){if(this.pts=[],this.uv=[],this.fs=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.ps=0,t.prototype.pts=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.fs=h.emptyArray,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.ps&&t.hasOwnProperty("ps")&&e.uint32(8).int32(t.ps),null!=t.pts&&t.pts.length){e.uint32(18).fork();for(var i=0;i<t.pts.length;++i)e.double(t.pts[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(26).fork(),i=0;i<t.uv.length;++i)e.double(t.uv[i]);e.ldelim()}if(null!=t.fs&&t.fs.length)for(i=0;i<t.fs.length;++i)c.ESBim.FaceSet.encode(t.fs[i],e.uint32(34).fork()).ldelim();return null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(40).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(50).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.OneGeoSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.ps=t.int32();break;case 2:if(r.pts&&r.pts.length||(r.pts=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.pts.push(t.double());else r.pts.push(t.double());break;case 3:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.double());else r.uv.push(t.double());break;case 4:r.fs&&r.fs.length||(r.fs=[]),r.fs.push(c.ESBim.FaceSet.decode(t,t.uint32()));break;case 5:r.o1=t.int32();break;case 6:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.ps&&t.hasOwnProperty("ps")&&!h.isInteger(t.ps))return"ps: integer expected";if(null!=t.pts&&t.hasOwnProperty("pts")){if(!Array.isArray(t.pts))return"pts: array expected";for(var e=0;e<t.pts.length;++e)if("number"!=typeof t.pts[e])return"pts: number[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if("number"!=typeof t.uv[e])return"uv: number[] expected"}if(null!=t.fs&&t.hasOwnProperty("fs")){if(!Array.isArray(t.fs))return"fs: array expected";for(e=0;e<t.fs.length;++e){var i=c.ESBim.FaceSet.verify(t.fs[e]);if(i)return"fs."+i}}return null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneGeoSet)return t;var e=new c.ESBim.OneGeoSet;if(null!=t.ps&&(e.ps=0|t.ps),t.pts){if(!Array.isArray(t.pts))throw TypeError(".ESBim.OneGeoSet.pts: array expected");e.pts=[];for(var i=0;i<t.pts.length;++i)e.pts[i]=Number(t.pts[i])}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.OneGeoSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=Number(t.uv[i])}if(t.fs){if(!Array.isArray(t.fs))throw TypeError(".ESBim.OneGeoSet.fs: array expected");for(e.fs=[],i=0;i<t.fs.length;++i){if("object"!==(0,r.default)(t.fs[i]))throw TypeError(".ESBim.OneGeoSet.fs: object expected");e.fs[i]=c.ESBim.FaceSet.fromObject(t.fs[i])}}return null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.pts=[],i.uv=[],i.fs=[]),e.defaults&&(i.ps=0,i.o1=0,i.o2=""),null!=t.ps&&t.hasOwnProperty("ps")&&(i.ps=t.ps),t.pts&&t.pts.length){i.pts=[];for(var r=0;r<t.pts.length;++r)i.pts[r]=t.pts[r]}if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];if(t.fs&&t.fs.length)for(i.fs=[],r=0;r<t.fs.length;++r)i.fs[r]=c.ESBim.FaceSet.toObject(t.fs[r],e);return null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.FaceSet=function(){function t(t){if(this.vtx=[],this.idx=[],this.uv=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.c=0,t.prototype.vtx=h.emptyArray,t.prototype.idx=h.emptyArray,t.prototype.uv=h.emptyArray,t.prototype.t=0,t.prototype.n="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.c&&t.hasOwnProperty("c")&&e.uint32(8).int32(t.c),null!=t.vtx&&t.vtx.length){e.uint32(18).fork();for(var i=0;i<t.vtx.length;++i)e.int32(t.vtx[i]);e.ldelim()}if(null!=t.idx&&t.idx.length){for(e.uint32(26).fork(),i=0;i<t.idx.length;++i)e.int32(t.idx[i]);e.ldelim()}if(null!=t.uv&&t.uv.length){for(e.uint32(34).fork(),i=0;i<t.uv.length;++i)e.int32(t.uv[i]);e.ldelim()}return null!=t.t&&t.hasOwnProperty("t")&&e.uint32(40).int32(t.t),null!=t.n&&t.hasOwnProperty("n")&&e.uint32(50).string(t.n),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(56).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(66).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.FaceSet;t.pos<i;){var n=t.uint32();switch(n>>>3){case 1:r.c=t.int32();break;case 2:if(r.vtx&&r.vtx.length||(r.vtx=[]),2==(7&n))for(var a=t.uint32()+t.pos;t.pos<a;)r.vtx.push(t.int32());else r.vtx.push(t.int32());break;case 3:if(r.idx&&r.idx.length||(r.idx=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.idx.push(t.int32());else r.idx.push(t.int32());break;case 4:if(r.uv&&r.uv.length||(r.uv=[]),2==(7&n))for(a=t.uint32()+t.pos;t.pos<a;)r.uv.push(t.int32());else r.uv.push(t.int32());break;case 5:r.t=t.int32();break;case 6:r.n=t.string();break;case 7:r.o1=t.int32();break;case 8:r.o2=t.string();break;default:t.skipType(7&n)}}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.c&&t.hasOwnProperty("c")&&!h.isInteger(t.c))return"c: integer expected";if(null!=t.vtx&&t.hasOwnProperty("vtx")){if(!Array.isArray(t.vtx))return"vtx: array expected";for(var e=0;e<t.vtx.length;++e)if(!h.isInteger(t.vtx[e]))return"vtx: integer[] expected"}if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(e=0;e<t.idx.length;++e)if(!h.isInteger(t.idx[e]))return"idx: integer[] expected"}if(null!=t.uv&&t.hasOwnProperty("uv")){if(!Array.isArray(t.uv))return"uv: array expected";for(e=0;e<t.uv.length;++e)if(!h.isInteger(t.uv[e]))return"uv: integer[] expected"}return null!=t.t&&t.hasOwnProperty("t")&&!h.isInteger(t.t)?"t: integer expected":null!=t.n&&t.hasOwnProperty("n")&&!h.isString(t.n)?"n: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.FaceSet)return t;var e=new c.ESBim.FaceSet;if(null!=t.c&&(e.c=0|t.c),t.vtx){if(!Array.isArray(t.vtx))throw TypeError(".ESBim.FaceSet.vtx: array expected");e.vtx=[];for(var i=0;i<t.vtx.length;++i)e.vtx[i]=0|t.vtx[i]}if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.FaceSet.idx: array expected");for(e.idx=[],i=0;i<t.idx.length;++i)e.idx[i]=0|t.idx[i]}if(t.uv){if(!Array.isArray(t.uv))throw TypeError(".ESBim.FaceSet.uv: array expected");for(e.uv=[],i=0;i<t.uv.length;++i)e.uv[i]=0|t.uv[i]}return null!=t.t&&(e.t=0|t.t),null!=t.n&&(e.n=String(t.n)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.vtx=[],i.idx=[],i.uv=[]),e.defaults&&(i.c=0,i.t=0,i.n="",i.o1=0,i.o2=""),null!=t.c&&t.hasOwnProperty("c")&&(i.c=t.c),t.vtx&&t.vtx.length){i.vtx=[];for(var r=0;r<t.vtx.length;++r)i.vtx[r]=t.vtx[r]}if(t.idx&&t.idx.length)for(i.idx=[],r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r];if(t.uv&&t.uv.length)for(i.uv=[],r=0;r<t.uv.length;++r)i.uv[r]=t.uv[r];return null!=t.t&&t.hasOwnProperty("t")&&(i.t=t.t),null!=t.n&&t.hasOwnProperty("n")&&(i.n=t.n),null!=t.o1&&t.hasOwnProperty("o1")&&(i.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(i.o2=t.o2),i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.ESBimInfoSet=function(){function t(t){if(this.nlist=[],this.infos={},this.cates={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.v=0,t.prototype.mtime=0,t.prototype.Hash="",t.prototype.bids="",t.prototype.nlist=h.emptyArray,t.prototype.infos=h.emptyObject,t.prototype.cates=h.emptyObject,t.prototype.t1="",t.prototype.cnt=0,t.prototype.pts=0,t.prototype.vects=0,t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.v&&t.hasOwnProperty("v")&&e.uint32(8).int32(t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&e.uint32(16).int32(t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&e.uint32(26).string(t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&e.uint32(34).string(t.bids),null!=t.nlist&&t.nlist.length)for(var i=0;i<t.nlist.length;++i)e.uint32(42).string(t.nlist[i]);if(null!=t.infos&&t.hasOwnProperty("infos")){var r=(0,n.default)(t.infos);for(i=0;i<r.length;++i)e.uint32(50).fork().uint32(8).int32(r[i]),c.ESBim.OneInfoSet.encode(t.infos[r[i]],e.uint32(18).fork()).ldelim().ldelim()}if(null!=t.cates&&t.hasOwnProperty("cates"))for(r=(0,n.default)(t.cates),i=0;i<r.length;++i)e.uint32(58).fork().uint32(8).int32(r[i]).uint32(18).string(t.cates[r[i]]).ldelim();return null!=t.t1&&t.hasOwnProperty("t1")&&e.uint32(66).string(t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&e.uint32(72).int32(t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&e.uint32(80).int32(t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&e.uint32(88).int32(t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(96).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(106).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.ESBimInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.v=t.int32();break;case 2:n.mtime=t.int32();break;case 3:n.Hash=t.string();break;case 4:n.bids=t.string();break;case 5:n.nlist&&n.nlist.length||(n.nlist=[]),n.nlist.push(t.string());break;case 6:t.skip().pos++,n.infos===h.emptyObject&&(n.infos={}),i=t.int32(),t.pos++,n.infos[i]=c.ESBim.OneInfoSet.decode(t,t.uint32());break;case 7:t.skip().pos++,n.cates===h.emptyObject&&(n.cates={}),i=t.int32(),t.pos++,n.cates[i]=t.string();break;case 8:n.t1=t.string();break;case 9:n.cnt=t.int32();break;case 10:n.pts=t.int32();break;case 11:n.vects=t.int32();break;case 12:n.o1=t.int32();break;case 13:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.v&&t.hasOwnProperty("v")&&!h.isInteger(t.v))return"v: integer expected";if(null!=t.mtime&&t.hasOwnProperty("mtime")&&!h.isInteger(t.mtime))return"mtime: integer expected";if(null!=t.Hash&&t.hasOwnProperty("Hash")&&!h.isString(t.Hash))return"Hash: string expected";if(null!=t.bids&&t.hasOwnProperty("bids")&&!h.isString(t.bids))return"bids: string expected";if(null!=t.nlist&&t.hasOwnProperty("nlist")){if(!Array.isArray(t.nlist))return"nlist: array expected";for(var e=0;e<t.nlist.length;++e)if(!h.isString(t.nlist[e]))return"nlist: string[] expected"}if(null!=t.infos&&t.hasOwnProperty("infos")){if(!h.isObject(t.infos))return"infos: object expected";var i=(0,n.default)(t.infos);for(e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"infos: integer key{k:int32} expected";var a=c.ESBim.OneInfoSet.verify(t.infos[i[e]]);if(a)return"infos."+a}}if(null!=t.cates&&t.hasOwnProperty("cates")){if(!h.isObject(t.cates))return"cates: object expected";for(i=(0,n.default)(t.cates),e=0;e<i.length;++e){if(!h.key32Re.test(i[e]))return"cates: integer key{k:int32} expected";if(!h.isString(t.cates[i[e]]))return"cates: string{k:int32} expected"}}return null!=t.t1&&t.hasOwnProperty("t1")&&!h.isString(t.t1)?"t1: string expected":null!=t.cnt&&t.hasOwnProperty("cnt")&&!h.isInteger(t.cnt)?"cnt: integer expected":null!=t.pts&&t.hasOwnProperty("pts")&&!h.isInteger(t.pts)?"pts: integer expected":null!=t.vects&&t.hasOwnProperty("vects")&&!h.isInteger(t.vects)?"vects: integer expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.ESBimInfoSet)return t;var e=new c.ESBim.ESBimInfoSet;if(null!=t.v&&(e.v=0|t.v),null!=t.mtime&&(e.mtime=0|t.mtime),null!=t.Hash&&(e.Hash=String(t.Hash)),null!=t.bids&&(e.bids=String(t.bids)),t.nlist){if(!Array.isArray(t.nlist))throw TypeError(".ESBim.ESBimInfoSet.nlist: array expected");e.nlist=[];for(var i=0;i<t.nlist.length;++i)e.nlist[i]=String(t.nlist[i])}if(t.infos){if("object"!==(0,r.default)(t.infos))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos={};var a=(0,n.default)(t.infos);for(i=0;i<a.length;++i){if("object"!==(0,r.default)(t.infos[a[i]]))throw TypeError(".ESBim.ESBimInfoSet.infos: object expected");e.infos[a[i]]=c.ESBim.OneInfoSet.fromObject(t.infos[a[i]])}}if(t.cates){if("object"!==(0,r.default)(t.cates))throw TypeError(".ESBim.ESBimInfoSet.cates: object expected");for(e.cates={},a=(0,n.default)(t.cates),i=0;i<a.length;++i)e.cates[a[i]]=String(t.cates[a[i]])}return null!=t.t1&&(e.t1=String(t.t1)),null!=t.cnt&&(e.cnt=0|t.cnt),null!=t.pts&&(e.pts=0|t.pts),null!=t.vects&&(e.vects=0|t.vects),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.arrays||e.defaults)&&(r.nlist=[]),(e.objects||e.defaults)&&(r.infos={},r.cates={}),e.defaults&&(r.v=0,r.mtime=0,r.Hash="",r.bids="",r.t1="",r.cnt=0,r.pts=0,r.vects=0,r.o1=0,r.o2=""),null!=t.v&&t.hasOwnProperty("v")&&(r.v=t.v),null!=t.mtime&&t.hasOwnProperty("mtime")&&(r.mtime=t.mtime),null!=t.Hash&&t.hasOwnProperty("Hash")&&(r.Hash=t.Hash),null!=t.bids&&t.hasOwnProperty("bids")&&(r.bids=t.bids),t.nlist&&t.nlist.length){r.nlist=[];for(var a=0;a<t.nlist.length;++a)r.nlist[a]=t.nlist[a]}if(t.infos&&(i=(0,n.default)(t.infos)).length)for(r.infos={},a=0;a<i.length;++a)r.infos[i[a]]=c.ESBim.OneInfoSet.toObject(t.infos[i[a]],e);if(t.cates&&(i=(0,n.default)(t.cates)).length)for(r.cates={},a=0;a<i.length;++a)r.cates[i[a]]=t.cates[i[a]];return null!=t.t1&&t.hasOwnProperty("t1")&&(r.t1=t.t1),null!=t.cnt&&t.hasOwnProperty("cnt")&&(r.cnt=t.cnt),null!=t.pts&&t.hasOwnProperty("pts")&&(r.pts=t.pts),null!=t.vects&&t.hasOwnProperty("vects")&&(r.vects=t.vects),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.OneInfoSet=function(){function t(t){if(this.info={},t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.id=0,t.prototype.name="",t.prototype.bimid=0,t.prototype.uuid="",t.prototype.fnum=0,t.prototype.tid=0,t.prototype.info=h.emptyObject,t.prototype.status=0,t.prototype.msg="",t.prototype.o1=0,t.prototype.o2="",t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.id&&t.hasOwnProperty("id")&&e.uint32(8).int32(t.id),null!=t.name&&t.hasOwnProperty("name")&&e.uint32(18).string(t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&e.uint32(24).int32(t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&e.uint32(34).string(t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&e.uint32(40).int32(t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&e.uint32(48).int32(t.tid),null!=t.info&&t.hasOwnProperty("info"))for(var i=(0,n.default)(t.info),r=0;r<i.length;++r)e.uint32(58).fork().uint32(8).int32(i[r]),c.ESBim.IDList.encode(t.info[i[r]],e.uint32(18).fork()).ldelim().ldelim();return null!=t.status&&t.hasOwnProperty("status")&&e.uint32(64).int32(t.status),null!=t.msg&&t.hasOwnProperty("msg")&&e.uint32(74).string(t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&e.uint32(80).int32(t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&e.uint32(90).string(t.o2),e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i,r=void 0===e?t.len:t.pos+e,n=new c.ESBim.OneInfoSet;t.pos<r;){var a=t.uint32();switch(a>>>3){case 1:n.id=t.int32();break;case 2:n.name=t.string();break;case 3:n.bimid=t.int32();break;case 4:n.uuid=t.string();break;case 5:n.fnum=t.int32();break;case 6:n.tid=t.int32();break;case 7:t.skip().pos++,n.info===h.emptyObject&&(n.info={}),i=t.int32(),t.pos++,n.info[i]=c.ESBim.IDList.decode(t,t.uint32());break;case 8:n.status=t.int32();break;case 9:n.msg=t.string();break;case 10:n.o1=t.int32();break;case 11:n.o2=t.string();break;default:t.skipType(7&a)}}return n},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.id&&t.hasOwnProperty("id")&&!h.isInteger(t.id))return"id: integer expected";if(null!=t.name&&t.hasOwnProperty("name")&&!h.isString(t.name))return"name: string expected";if(null!=t.bimid&&t.hasOwnProperty("bimid")&&!h.isInteger(t.bimid))return"bimid: integer expected";if(null!=t.uuid&&t.hasOwnProperty("uuid")&&!h.isString(t.uuid))return"uuid: string expected";if(null!=t.fnum&&t.hasOwnProperty("fnum")&&!h.isInteger(t.fnum))return"fnum: integer expected";if(null!=t.tid&&t.hasOwnProperty("tid")&&!h.isInteger(t.tid))return"tid: integer expected";if(null!=t.info&&t.hasOwnProperty("info")){if(!h.isObject(t.info))return"info: object expected";for(var e=(0,n.default)(t.info),i=0;i<e.length;++i){if(!h.key32Re.test(e[i]))return"info: integer key{k:int32} expected";var a=c.ESBim.IDList.verify(t.info[e[i]]);if(a)return"info."+a}}return null!=t.status&&t.hasOwnProperty("status")&&!h.isInteger(t.status)?"status: integer expected":null!=t.msg&&t.hasOwnProperty("msg")&&!h.isString(t.msg)?"msg: string expected":null!=t.o1&&t.hasOwnProperty("o1")&&!h.isInteger(t.o1)?"o1: integer expected":null!=t.o2&&t.hasOwnProperty("o2")&&!h.isString(t.o2)?"o2: string expected":null},t.fromObject=function(t){if(t instanceof c.ESBim.OneInfoSet)return t;var e=new c.ESBim.OneInfoSet;if(null!=t.id&&(e.id=0|t.id),null!=t.name&&(e.name=String(t.name)),null!=t.bimid&&(e.bimid=0|t.bimid),null!=t.uuid&&(e.uuid=String(t.uuid)),null!=t.fnum&&(e.fnum=0|t.fnum),null!=t.tid&&(e.tid=0|t.tid),t.info){if("object"!==(0,r.default)(t.info))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info={};for(var i=(0,n.default)(t.info),a=0;a<i.length;++a){if("object"!==(0,r.default)(t.info[i[a]]))throw TypeError(".ESBim.OneInfoSet.info: object expected");e.info[i[a]]=c.ESBim.IDList.fromObject(t.info[i[a]])}}return null!=t.status&&(e.status=0|t.status),null!=t.msg&&(e.msg=String(t.msg)),null!=t.o1&&(e.o1=0|t.o1),null!=t.o2&&(e.o2=String(t.o2)),e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i,r={};if((e.objects||e.defaults)&&(r.info={}),e.defaults&&(r.id=0,r.name="",r.bimid=0,r.uuid="",r.fnum=0,r.tid=0,r.status=0,r.msg="",r.o1=0,r.o2=""),null!=t.id&&t.hasOwnProperty("id")&&(r.id=t.id),null!=t.name&&t.hasOwnProperty("name")&&(r.name=t.name),null!=t.bimid&&t.hasOwnProperty("bimid")&&(r.bimid=t.bimid),null!=t.uuid&&t.hasOwnProperty("uuid")&&(r.uuid=t.uuid),null!=t.fnum&&t.hasOwnProperty("fnum")&&(r.fnum=t.fnum),null!=t.tid&&t.hasOwnProperty("tid")&&(r.tid=t.tid),t.info&&(i=(0,n.default)(t.info)).length){r.info={};for(var a=0;a<i.length;++a)r.info[i[a]]=c.ESBim.IDList.toObject(t.info[i[a]],e)}return null!=t.status&&t.hasOwnProperty("status")&&(r.status=t.status),null!=t.msg&&t.hasOwnProperty("msg")&&(r.msg=t.msg),null!=t.o1&&t.hasOwnProperty("o1")&&(r.o1=t.o1),null!=t.o2&&t.hasOwnProperty("o2")&&(r.o2=t.o2),r},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o.IDList=function(){function t(t){if(this.idx=[],t)for(var e=(0,n.default)(t),i=0;i<e.length;++i)null!=t[e[i]]&&(this[e[i]]=t[e[i]])}return t.prototype.idx=h.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=l.create()),null!=t.idx&&t.idx.length)for(var i=0;i<t.idx.length;++i)e.uint32(10).string(t.idx[i]);return e},t.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},t.decode=function(t,e){t instanceof u||(t=u.create(t));for(var i=void 0===e?t.len:t.pos+e,r=new c.ESBim.IDList;t.pos<i;){var n=t.uint32();n>>>3==1?(r.idx&&r.idx.length||(r.idx=[]),r.idx.push(t.string())):t.skipType(7&n)}return r},t.decodeDelimited=function(t){return t instanceof u||(t=u(t)),this.decode(t,t.uint32())},t.verify=function(t){if("object"!==(void 0===t?"undefined":(0,r.default)(t))||null===t)return"object expected";if(null!=t.idx&&t.hasOwnProperty("idx")){if(!Array.isArray(t.idx))return"idx: array expected";for(var e=0;e<t.idx.length;++e)if(!h.isString(t.idx[e]))return"idx: string[] expected"}return null},t.fromObject=function(t){if(t instanceof c.ESBim.IDList)return t;var e=new c.ESBim.IDList;if(t.idx){if(!Array.isArray(t.idx))throw TypeError(".ESBim.IDList.idx: array expected");e.idx=[];for(var i=0;i<t.idx.length;++i)e.idx[i]=String(t.idx[i])}return e},t.from=t.fromObject,t.toObject=function(t,e){e||(e={});var i={};if((e.arrays||e.defaults)&&(i.idx=[]),t.idx&&t.idx.length){i.idx=[];for(var r=0;r<t.idx.length;++r)i.idx[r]=t.idx[r]}return i},t.prototype.toObject=function(t){return this.constructor.toObject(this,t)},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),o),t.exports=c},249:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(23)),n=s(i(250)),a=s(i(0)),o=s(i(1));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(){(0,a.default)(this,t)}return(0,o.default)(t,[{key:"error",value:function(t){console.info("%cESMapError"+(0,n.default)(9940)+": "+t+";","color: #FF0000;font-weight: bolder;font-size: 12px;")}},{key:"warning",value:function(t){console.info("%cESMapWarning"+(0,n.default)(9888)+": "+t+";","color: #FFA500;font-weight: bolder;font-size: 12px;")}},{key:"log",value:function(t){console.info("%cESMapLog"+(0,n.default)(128640)+": "+t+";","color: #555555;font-weight: bolder;font-size: 12px;")}},{key:"logCustom",value:function(t){var e;Array.isArray(t)?(e=console).info.apply(e,(0,r.default)(t)):console.info(t)}}]),t}();e.default=new u},253:function(t,e,i){"use strict";var r=i(254),n=i(255),a=i(256),o=i(48);o.FileLoader=r.FileLoader,o.ImageLoader=n.ImageLoader,o.TextureLoader=a.TextureLoader,o.DirectionalLight.prototype.updateDirection=function(t){var e,i,r,n,a,o;this.pitchAngle=t.hasOwnProperty("pitchAngle")?t.pitchAngle:this.pitchAngle,this.directionAngle=t.hasOwnProperty("directionAngle")?t.directionAngle:this.directionAngle,this.position.copy((e=this.pitchAngle,i=this.directionAngle,r=e/180*Math.PI+Math.PI/2,n=-i/180*Math.PI+Math.PI/2,a=new THREE.Vector3,o=Math.sin(r),a.x=o*Math.cos(n),a.y=-Math.cos(r),a.z=o*Math.sin(n),a))},o.BufferGeometry.prototype.merge=function(t){if(t instanceof THREE.BufferGeometry!=!1){var e,i,r,n,a=this.attributes;if(this.index){for(var o=t.index.array,s=a.position.count,u=0,l=o.length;u<l;u++)o[u]=s+o[u];this.index.array=(e=this.index.array,i=o,r=e.length,(n=new Uint32Array(r+i.length)).set(e),n.set(i,r),n)}for(var h in a)void 0!==t.attributes[h]&&(a[h].array=c(a[h].array,t.attributes[h].array));return this}function c(t,e){var i=t.length,r=new Float32Array(i+e.length);return r.set(t),r.set(e,i),r}},o.BufferGeometry.prototype.toIndexed=function(){var t=0,e=[],i={};function r(r,n,a,o){var s=Math.floor(r*t)+"_"+Math.floor(n*t)+"_"+Math.floor(a*t);return void 0===i[s]&&(i[s]=e.length,e.push(o)),i[s]}return function(n){t=Math.pow(10,n||6);var a=new THREE.BufferGeometry;return function(t,n){for(var a=t.attributes.position.array,o=a.length/3/3,s=new(3*o>65536?Uint32Array:Uint16Array)(3*o),u=0,l=o;u<l;u++){var h=9*u;s[3*u]=r(a[h],a[h+1],a[h+2],3*u),s[3*u+1]=r(a[h+3],a[h+4],a[h+5],3*u+1),s[3*u+2]=r(a[h+6],a[h+7],a[h+8],3*u+2)}n.index=new THREE.BufferAttribute(s,1);var c=e.length;for(var p in t.attributes){var d=t.attributes[p],f=new THREE.BufferAttribute(new d.array.constructor(c*d.itemSize),d.itemSize),m=f.array,v=d.array;switch(d.itemSize){case 1:for(var g=0,y=e.length;g<y;g++)m[g]=v[e[g]];break;case 2:for(var x=0,b=e.length;x<b;x++){var w=2*e[x],_=2*x;m[_]=v[w],m[_+1]=v[w+1]}break;case 3:for(var M=0,S=e.length;M<S;M++){var A=3*e[M],T=3*M;m[T]=v[A],m[T+1]=v[A+1],m[T+2]=v[A+2]}break;case 4:for(var L=0,P=e.length;L<P;L++){var C=4*e[L],E=4*L;m[E]=v[C],m[E+1]=v[C+1],m[E+2]=v[C+2],m[E+3]=v[C+3]}}n.attributes[p]=f}i={},e=[]}(this,a),a}}(),t.exports=o},254:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileLoader=void 0;var r=s(i(7)),n=s(i(8)),a=s(i(2)),o=i(140);function s(t){return t&&t.__esModule?t:{default:t}}var u,l=i(48),h={};function c(t){this.manager=void 0!==t?t:l.DefaultLoadingManager}(0,a.default)(c.prototype,{load:(u=(0,n.default)(r.default.mark((function t(e,i,n,a){var s,u,l,c,p,d,f,m,v,g,y,x,b,w,_,M;return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),s=this,void 0===(u=o.Cache.get(e))){t.next=9;break}return s.manager.itemStart(e),setTimeout((function(){i&&i(u),s.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=0,THREE.ESCache&&THREE.ESCache.timeMap.has(e)&&(l=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=22;break}return t.next=14,THREE.ESCache.canUseCache({url:e,updatetime:l});case 14:if(!t.sent){t.next=22;break}return t.next=18,THREE.ESCache.getCacheObject(e);case 18:if(!(c=t.sent)){t.next=22;break}return i&&i(c.data),t.abrupt("return");case 22:if(void 0===h[e]){t.next=25;break}return h[e].push({onLoad:i,onProgress:n,onError:a}),t.abrupt("return");case 25:if(p=/^data:(.*?)(;base64)?,(.*)$/,!(d=e.match(p))){t.next=57;break}f=d[1],m=!!d[2],v=d[3],v=decodeURIComponent(v),m&&(v=atob(v)),t.prev=33,y=(this.responseType||"").toLowerCase(),t.t0=y,t.next="arraybuffer"===t.t0||"blob"===t.t0?38:"document"===t.t0?42:"json"===t.t0?45:47;break;case 38:for(x=new Uint8Array(v.length),b=0;b<v.length;b++)x[b]=v.charCodeAt(b);return g="blob"===y?new Blob([x.buffer],{type:f}):x.buffer,t.abrupt("break",49);case 42:return w=new DOMParser,g=w.parseFromString(v,f),t.abrupt("break",49);case 45:return g=JSON.parse(v),t.abrupt("break",49);case 47:return g=v,t.abrupt("break",49);case 49:setTimeout((function(){i&&i(g),s.manager.itemEnd(e)}),0),t.next=55;break;case 52:t.prev=52,t.t1=t.catch(33),setTimeout((function(){a&&a(t.t1),s.manager.itemError(e),s.manager.itemEnd(e)}),0);case 55:t.next=70;break;case 57:for(M in h[e]=[],h[e].push({onLoad:i,onProgress:n,onError:a}),(_=new XMLHttpRequest).open("GET",e,!0),_.addEventListener("load",(function(t){var i=this.response;o.Cache.add(e,i);var r=h[e];if(delete h[e],200===this.status||0===this.status){THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:i,updatetime:l}),this.status;for(var n=0,a=r.length;n<a;n++)(u=r[n]).onLoad&&u.onLoad(i);s.manager.itemEnd(e)}else{for(n=0,a=r.length;n<a;n++){var u;(u=r[n]).onError&&u.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}}),!1),_.addEventListener("progress",(function(t){for(var i=h[e],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(t)}}),!1),_.addEventListener("error",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),_.addEventListener("abort",(function(t){var i=h[e];delete h[e];for(var r=0,n=i.length;r<n;r++){var a=i[r];a.onError&&a.onError(t)}s.manager.itemError(e),s.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(_.responseType=this.responseType),void 0!==this.withCredentials&&(_.withCredentials=this.withCredentials),_.overrideMimeType&&_.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)_.setRequestHeader(M,this.requestHeader[M]);_.send(null);case 70:return s.manager.itemStart(e),t.abrupt("return",_);case 72:case"end":return t.stop()}}),t,this,[[33,52]])}))),function(t,e,i,r){return u.apply(this,arguments)}),setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setLastModifiedTime:function(t){return this.lastModifiedTime=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),e.FileLoader=c},255:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImageLoader=void 0;var r,n=u(i(7)),a=u(i(8)),o=u(i(2)),s=i(140);function u(t){return t&&t.__esModule?t:{default:t}}function l(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,o.default)(l.prototype,{crossOrigin:"anonymous",load:(r=(0,a.default)(n.default.mark((function t(e,i,r,a){var o,u,l,h,c,p,d,f,m;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e),o=this,void 0===(u=s.Cache.get(e))){t.next=9;break}return o.manager.itemStart(e),setTimeout((function(){i&&i(u),o.manager.itemEnd(e)}),0),t.abrupt("return",u);case 9:if(l=document.createElementNS("http://www.w3.org/1999/xhtml","img"),h=0,THREE.ESCache&&THREE.ESCache.timeMap.has(e)&&(h=THREE.ESCache.timeMap.get(e)),!THREE.ESCache||!THREE.ESCache.enabled){t.next=29;break}return t.next=15,THREE.ESCache.canUseCache({url:e,updatetime:h});case 15:if(!t.sent){t.next=29;break}return t.next=19,THREE.ESCache.getCacheObject(e);case 19:if(!(c=t.sent)){t.next=29;break}return p=c.data,d=window.URL||window.webkitURL,f=d.createObjectURL(p),l.src=f,l.setAttribute("originalSrc",e),l.onload=function(){i&&i(this)},l.onerror=function(){a&&a("å¾çèµæºè¯·æ±éè¯¯:  "+e)},t.abrupt("return");case 29:return(m=new XMLHttpRequest).open("GET",e,!0),m.responseType="blob",m.onload=function(){if(200==this.status){var t=m.response;if(!t)return;THREE.ESCache.timeMap.has(e)&&THREE.ESCache.upsert({id:e,data:t,updatetime:h});var r=(window.URL||window.webkitURL).createObjectURL(t);l.src=r,l.setAttribute("originalSrc",e),l.addEventListener("load",(function(){i&&i(this)}),!1),l.addEventListener("error",(function(t){a&&a("å¾çèµæºè¯·æ±éè¯¯: "+e)}),!1)}else 404==this.status&&THREE.ESResourcePool&&i&&i(THREE.ESResourcePool.img404)},m.send(),t.abrupt("return",l);case 35:case"end":return t.stop()}}),t,this)}))),function(t,e,i,n){return r.apply(this,arguments)}),setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.ImageLoader=l},256:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextureLoader=void 0;var r,n=i(2);function a(t){this.manager=void 0!==t?t:THREE.DefaultLoadingManager}(0,((r=n)&&r.__esModule?r:{default:r}).default)(a.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new THREE.Texture,a=new THREE.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?THREE.RGBFormat:THREE.RGBAFormat,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),e.TextureLoader=a},32:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BufferGeometryUtils=void 0;var r=u(i(213)),n=u(i(104)),a=u(i(14)),o=u(i(33)),s=i(48);function u(t){return t&&t.__esModule?t:{default:t}}var l={computeTangents:function(t){var e=t.index,i=t.attributes;if(null!==e&&void 0!==i.position&&void 0!==i.normal&&void 0!==i.uv){var r=e.array,n=i.position.array,a=i.normal.array,o=i.uv.array,u=n.length/3;void 0===i.tangent&&t.addAttribute("tangent",new s.BufferAttribute(new Float32Array(4*u),4));for(var l=i.tangent.array,h=[],c=[],p=0;p<u;p++)h[p]=new s.Vector3,c[p]=new s.Vector3;var d=new s.Vector3,f=new s.Vector3,m=new s.Vector3,v=new s.Vector2,g=new s.Vector2,y=new s.Vector2,x=new s.Vector3,b=new s.Vector3,w=t.groups;0===w.length&&(w=[{start:0,count:r.length}]);p=0;for(var _=w.length;p<_;++p)for(var M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)O(r[M+0],r[M+1],r[M+2]);var A,T,L,P=new s.Vector3,C=new s.Vector3,E=new s.Vector3,I=new s.Vector3;for(p=0,_=w.length;p<_;++p){var D,B;for(M=B=(D=w[p]).start,S=B+D.count;M<S;M+=3)z(r[M+0]),z(r[M+1]),z(r[M+2])}}function O(t,e,i){d.fromArray(n,3*t),f.fromArray(n,3*e),m.fromArray(n,3*i),v.fromArray(o,2*t),g.fromArray(o,2*e),y.fromArray(o,2*i);var r=f.x-d.x,a=m.x-d.x,s=f.y-d.y,u=m.y-d.y,l=f.z-d.z,p=m.z-d.z,w=g.x-v.x,_=y.x-v.x,M=g.y-v.y,S=y.y-v.y,A=1/(w*S-_*M);x.set((S*r-M*a)*A,(S*s-M*u)*A,(S*l-M*p)*A),b.set((w*a-_*r)*A,(w*u-_*s)*A,(w*p-_*l)*A),h[t].add(x),h[e].add(x),h[i].add(x),c[t].add(b),c[e].add(b),c[i].add(b)}function z(t){E.fromArray(a,3*t),I.copy(E),T=h[t],P.copy(T),P.sub(E.multiplyScalar(E.dot(T))).normalize(),C.crossVectors(I,T),L=C.dot(c[t]),A=L<0?-1:1,l[4*t]=P.x,l[4*t+1]=P.y,l[4*t+2]=P.z,l[4*t+3]=A}},mergeBufferGeometries:function(t,e){for(var i=null!==t[0].index,r=new o.default((0,a.default)(t[0].attributes)),n=new o.default((0,a.default)(t[0].morphAttributes)),u={},l={},h=new s.BufferGeometry,c=0,p=0;p<t.length;++p){var d=t[p];if(i!==(null!==d.index))return null;for(var f in d.attributes){if(!r.has(f))return null;void 0===u[f]&&(u[f]=[]),u[f].push(d.attributes[f])}for(var f in d.morphAttributes){if(!n.has(f))return null;void 0===l[f]&&(l[f]=[]),l[f].push(d.morphAttributes[f])}if(h.userData.mergedUserData=h.userData.mergedUserData||[],h.userData.mergedUserData.push(d.userData),e){var m;if(i)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}h.addGroup(c,m,p),c+=m}}if(i){var v=0,g=[];for(p=0;p<t.length;++p){var y=t[p].index;y.getX||(y.getX=function(t){return this.array[t*this.itemSize]});for(var x=0;x<y.count;++x)g.push(y.getX(x)+v);v+=t[p].attributes.position.count}h.setIndex(g)}for(var f in u){var b=this.mergeBufferAttributes(u[f]);if(!b)return null;h.addAttribute(f,b)}for(var f in l){var w=l[f][0].length;if(0===w)break;h.morphAttributes=h.morphAttributes||{},h.morphAttributes[f]=[];for(p=0;p<w;++p){var _=[];for(x=0;x<l[f].length;++x)_.push(l[f][x][p]);var M=this.mergeBufferAttributes(_);if(!M)return null;h.morphAttributes[f].push(M)}}return h},mergeBufferAttributes:function(t){for(var e,i,r,n=0,a=0;a<t.length;++a){var o=t[a];if(o.isInterleavedBufferAttribute)return null;if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;if(void 0===i&&(i=o.itemSize),i!==o.itemSize)return null;if(void 0===r&&(r=o.normalized),r!==o.normalized)return null;n+=o.array.length}var u=new e(n),l=0;for(a=0;a<t.length;++a)u.set(t[a].array,l),l+=t[a].array.length;return new s.BufferAttribute(u,i,r)},interleaveAttributes:function(t){for(var e,i=0,r=0,n=0,a=t.length;n<a;++n){var o=t[n];if(void 0===e&&(e=o.array.constructor),e!==o.array.constructor)return null;i+=o.array.length,r+=o.itemSize}var u=new s.InterleavedBuffer(new e(i),r),l=0,h=[],c=["getX","getY","getZ","getW"],p=["setX","setY","setZ","setW"],d=0;for(a=t.length;d<a;d++){var f=(o=t[d]).itemSize,m=o.count,v=new s.InterleavedBufferAttribute(u,f,l,o.normalized);h.push(v),l+=f;for(var g=0;g<m;g++)for(var y=0;y<f;y++)v[p[y]](g,o[c[y]](g))}return h},estimateBytesUsed:function(t){var e=0;for(var i in t.attributes){var r=t.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var n=t.getIndex();return e+=n?n.count*n.itemSize*n.array.BYTES_PER_ELEMENT:0},mergeVertices:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e-4;e=Math.max(e,n.default);for(var i={},o=t.getIndex(),u=t.getAttribute("position"),l=o?o.count:u.count,h=0,c=(0,a.default)(t.attributes),p={},d={},f=[],m=["getX","getY","getZ","getW"],v=0,g=c.length;v<g;v++){p[M=c[v]]=[],(L=t.morphAttributes[M])&&(d[M]=new Array(L.length).fill().map((function(){return[]})))}var y=(0,r.default)(1/e),x=Math.pow(10,y);for(v=0;v<l;v++){var b=o?o.getX(v):v,w="",_=0;for(g=c.length;_<g;_++)for(var M=c[_],S=(T=t.getAttribute(M)).itemSize,A=0;A<S;A++)w+=~~(T[m[A]](b)*x)+",";if(w in i)f.push(i[w]);else{for(_=0,g=c.length;_<g;_++){M=c[_];var T=t.getAttribute(M),L=t.morphAttributes[M],P=(S=T.itemSize,p[M]),C=d[M];for(A=0;A<S;A++){var E=m[A];if(P.push(T[E](b)),L)for(var I=0,D=L.length;I<D;I++)C[I].push(L[I][E](b))}}i[w]=h,f.push(h),h++}}var B=t.clone();for(v=0,g=c.length;v<g;v++){M=c[v];var O=t.getAttribute(M),z=new O.array.constructor(p[M]);if(O.isInterleavedBufferAttribute?T=new s.BufferAttribute(z,O.itemSize,O.itemSize):(T=t.getAttribute(M).clone()).setArray(z),B.addAttribute(M,T),M in d)for(_=0;_<d[M].length;_++){var N=t.morphAttributes[M][_].clone();N.setArray(new N.array.constructor(d[M][_])),B.morphAttributes[M][_]=N}}var R=Uint8Array;f.length>=Math.pow(2,8)&&(R=Uint16Array),f.length>=Math.pow(2,16)&&(R=Uint32Array);var F=new R(f);f=null;return null===o?f=new s.BufferAttribute(F,1):(f=t.getIndex().clone()).setArray(F),B.setIndex(f),B},toTrianglesDrawMode:function(t,e){if(e===THREE.TrianglesDrawMode)return t;if(e===THREE.TriangleFanDrawMode||e===THREE.TriangleStripDrawMode){var i=t.getIndex();if(null===i){var r=[],n=t.getAttribute("position");if(void 0===n)return t;for(var a=0;a<n.count;a++)r.push(a);t.setIndex(r),i=t.getIndex()}var o=i.count-2,s=[];if(e===THREE.TriangleFanDrawMode)for(a=1;a<=o;a++)s.push(i.getX(0)),s.push(i.getX(a)),s.push(i.getX(a+1));else for(a=0;a<o;a++)a%2==0?(s.push(i.getX(a)),s.push(i.getX(a+1)),s.push(i.getX(a+2))):(s.push(i.getX(a+2)),s.push(i.getX(a+1)),s.push(i.getX(a)));s.length;var u=t.clone();return u.setIndex(s),u.clearGroups(),u}return t}};e.BufferGeometryUtils=l},4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Callbacks=e.FullScreen=void 0;var r=p(i(9)),n=p(i(47)),a=p(i(14)),o=p(i(33)),s=p(i(38)),u=p(i(0)),l=p(i(1)),h=p(i(6));e.convertColor=function(t){if(t.startsWith("rgb"))return t;if(t.startsWith("#")){var e=t.slice(1);return"rgb("+parseInt(e.substring(0,2),16)+", "+parseInt(e.substring(2,4),16)+", "+parseInt(e.substring(4,6),16)+")"}var i=t.trim().replace(/\s+/g,"");if(/^\d+,\d+,\d+$/.test(i))return"rgba("+i+", 1)";return"rgba(0, 0, 0, 1)"},e.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)t[r]=i[r]}return t},e.isNil=d,e.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},e.isInteger=function(t){return(0|t)===t},e.isObject=f,e.isString=function(t){if(d(t))return!1;return"string"==typeof t||null!==t.constructor&&t.constructor===String},e.isFunction=function(t){if(d(t))return!1;return"function"==typeof t||null!==t.constructor&&t.constructor===Function},e.hasOwn=function(t,e){return m.call(t,e)},e.join=function(t,e){return t.join?t.join(e||","):Array.prototype.join.call(t,e||",")},e.eachObject=function(t,e){if(!t)return;for(var i in t){if(!1===e(t[i],i,t))break}},e.startWith=function(t,e){return new RegExp("^"+e).test(t)},e.endWith=function(t,e){return new RegExp(e+"$").test(t)},e.getPlatform=function(){for(var t=navigator.userAgent,e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),i=!0,r="PC",n=!1,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){i=!1,r=e[a],t.indexOf("MicroMessenger")>0&&(n=!0);break}return{isPC:i,isWX:n,platform:r}},e.obj2params=function(t){var e="";for(var i in t)e.length>0&&(e+="&"),e+=i+"="+t[i];return e},e.getValue=function(t,e,i){return t&&t.hasOwnProperty(e)&&null!=t[e]?t[e]:i},e.getValues=function(t,e,i){for(var r,n=1;n<arguments.length-1;n++)if(void 0!==(r=t[arguments[n]]))return r;return arguments[arguments.length-1]},e.cloneObj=function(t){if(!t)return t;var e={};for(var i in t)e[i]=t[i];return e},e.DistanceofTwoPts=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.DistanceofTwoPtsZ=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.z-e.z)*(t.z-e.z))},e.dedupe=function(t){return(0,s.default)(new o.default(t))},e.calcProjPoint=function(t,e,i,r){var n=e.x,a=e.y,o=i.x,s=i.y,u=t.x,l=t.y,h=o-n,c=s-a,p=Math.sqrt(h*h+c*c),d=u-n,f=l-a,m=Math.sqrt(d*d+f*f);if(v(p))return v(m)?(r.x=e.x,r.y=e.y,0):(r.x=e.x,r.y=e.y,m);var y=h/p,x=c/p,b=y*d+x*f;if(!function(t){return t>g}(b))return r.x=e.x,r.y=e.y,m;if(!function(t){return t<-g}(b-p)){var w=u-o,_=l-s,M=Math.sqrt(w*w+_*_);return r.x=i.x,r.y=i.y,M}var S=n+b*y,A=a+b*x,T=u-S,L=l-A,P=Math.sqrt(T*T+L*L);return r.x=S,r.y=A,P},e.getRandom=function(){for(var t="?t=",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t},e.setDefaultValues=function(t){var e=this;(0,a.default)(t).forEach((function(i){null==e[i]&&(e[i]=t[i])}))},e.exitInArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},e.GPS84ToGCJ02=function(t){return c.default.transform([t[0],t[1]],c.default.WGS84,c.default.GCJ02)},e.Mercator2lonLat=function(t,e){var i=[],r=t/20037508.342789*180,n=e/20037508.342789*180;return n=180/Math.PI*(2*Math.atan(Math.exp(n*Math.PI/180))-Math.PI/2),i.push(r),i.push(n),i},e.lonLat2Mercator=function(t,e){var i=[],r=20037508.342789*t/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=20037508.34789*n/180,i.push(r),i.push(n),i},e.copyProperties=function(t,e,i){for(var r=0;r<i.length;r++){var n=i[r];t.hasOwnProperty(n)&&(e[n]=t[n])}},e.assignExceptUndefined=y,e.getDefault=function(t,e,i){var r={};f(t)?y(r,i,t):y(r,i,(0,n.default)({},e,t));return r},e.cloneByPropertiesMap=function(t,e){var i={};for(var r in e){var n=e[r];Array.isArray(n)||(n=[n]);for(var a=0;a<n.length;a++){var o=n[a];if(t.hasOwnProperty(o)){i[r]=t[o];break}}}return i},e.sleep=function(t){return new r.default((function(e){return setTimeout(e,t)}))},e.toFixedNumXYZ=function(t){t.x=Number(t.x.toFixed(6)),t.y=Number(t.y.toFixed(6)),t.z=Number(t.z.toFixed(6))};var c=p(i(106));function p(t){return t&&t.__esModule?t:{default:t}}function d(t){return null==t}function f(t){return"object"===(void 0===t?"undefined":(0,h.default)(t))&&!!t}var m=Object.prototype.hasOwnProperty;e.FullScreen={get _hasWebkitFullScreen(){return"webkitCancelFullScreen"in document},get _hasMozFullScreen(){return"mozCancelFullScreen"in document},get available(){return this._hasWebkitFullScreen||this._hasMozFullScreen},get activated(){return this._hasWebkitFullScreen?document.webkitIsFullScreen:!!this._hasMozFullScreen&&document.mozFullScreen},request:function(t){t=t||document.body,this._hasWebkitFullScreen?t.webkitRequestFullScreen():this._hasMozFullScreen&&t.mozRequestFullScreen()},cancel:function(){this._hasWebkitFullScreen?document.webkitCancelFullScreen():this._hasMozFullScreen&&document.mozCancelFullScreen()}};e.Callbacks=function(){function t(){(0,u.default)(this,t),this.fns=[]}return(0,l.default)(t,[{key:"add",value:function(t){this.fns.push(t)}},{key:"remove",value:function(t){this.fns.splice(fns.indexOf(t),1)}},{key:"fire",value:function(){for(var t=arguments;this.fns.length>0;){var e=this.fns.shift().apply(this,t);e&&(t=e)}}},{key:"empty",value:function(){this.fns=[]}}]),t}();function v(t){return t<g&&t>-g}var g=1e-5;function y(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n=0;n<i.length;n++){var a=i[n];for(var o in a)a.hasOwnProperty(o)&&void 0!==a[o]&&(t[o]=a[o])}}},48:function(t,e,i){"use strict";var r,n,a,o,s=x(i(38)),u=x(i(185)),l=x(i(14)),h=x(i(71)),c=x(i(72)),p=x(i(22)),d=x(i(60)),f=x(i(2)),m=x(i(61)),v=x(i(205)),g=x(i(104)),y=x(i(6));function x(t){return t&&t.__esModule?t:{default:t}}o=function(t){function e(){}void 0===g.default&&(Number.EPSILON=Math.pow(2,-52)),void 0===v.default&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===m.default&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===f.default&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}),(0,f.default)(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var i=this._listeners[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=e.slice(0),r=0,n=i.length;r<n;r++)i[r].call(this,t)}}}});var i,r,n,a=0,o=1,x=2,b=1,w=2,_=0,M=1,S=2,A=0,T=2,L=0,P=1,C=2,E=3,I=4,D=5,B=100,O=101,z=102,N=103,R=104,F=200,U=201,k=202,G=203,V=204,W=205,H=206,j=207,X=208,q=209,Y=210,J=0,Z=1,Q=2,K=3,$=4,tt=5,et=6,it=7,rt=0,nt=1,at=2,ot=0,st=1,ut=2,lt=3,ht=4,ct=5,pt=300,dt=301,ft=302,mt=303,vt=304,gt=305,yt=306,xt=307,bt=1e3,wt=1001,_t=1002,Mt=1003,St=1004,At=1005,Tt=1006,Lt=1007,Pt=1008,Ct=1009,Et=1010,It=1011,Dt=1012,Bt=1013,Ot=1014,zt=1015,Nt=1016,Rt=1017,Ft=1018,Ut=1019,kt=1020,Gt=1021,Vt=1022,Wt=1023,Ht=1024,jt=1025,Xt=Wt,qt=1026,Yt=1027,Jt=1028,Zt=33776,Qt=33777,Kt=33778,$t=33779,te=35840,ee=35841,ie=35842,re=35843,ne=36196,ae=37808,oe=37809,se=37810,ue=37811,le=37812,he=37813,ce=37814,pe=37815,de=37816,fe=37817,me=37818,ve=37819,ge=37820,ye=37821,xe=2300,be=2301,we=2302,_e=2400,Me=2401,Se=2402,Ae=0,Te=3e3,Le=3001,Pe=3007,Ce=3002,Ee=3004,Ie=3005,De=3006,Be=3200,Oe=3201,ze=0,Ne=1,Re={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&r|128]+t[r>>8&255]+"-"+t[r>>16&255]+t[r>>24&255]+t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]).toUpperCase()}}(),clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,r,n){return r+(t-e)*(n-r)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Re.DEG2RAD},radToDeg:function(t){return t*Re.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function Fe(t,e){this.x=t||0,this.y=e||0}function Ue(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._w=void 0!==r?r:1}function ke(t,e,i){this.x=t||0,this.y=e||0,this.z=i||0}function Ge(){this.elements=[1,0,0,0,1,0,0,0,1]}(0,d.default)(Fe.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),(0,f.default)(Fe.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=this.x-t.x,a=this.y-t.y;return this.x=n*i-a*r+t.x,this.y=n*r+a*i+t.y,this}}),(0,f.default)(Ue,{slerp:function(t,e,i,r){return i.copy(t).slerp(e,r)},slerpFlat:function(t,e,i,r,n,a,o){var s=i[r+0],u=i[r+1],l=i[r+2],h=i[r+3],c=n[a+0],p=n[a+1],d=n[a+2],f=n[a+3];if(h!==f||s!==c||u!==p||l!==d){var m=1-o,v=s*c+u*p+l*d+h*f,y=v>=0?1:-1,x=1-v*v;if(x>g.default){var b=Math.sqrt(x),w=Math.atan2(b,v*y);m=Math.sin(m*w)/b,o=Math.sin(o*w)/b}var _=o*y;if(s=s*m+c*_,u=u*m+p*_,l=l*m+d*_,h=h*m+f*_,m===1-o){var M=1/Math.sqrt(s*s+u*u+l*l+h*h);s*=M,u*=M,l*=M,h*=M}}t[e]=s,t[e+1]=u,t[e+2]=l,t[e+3]=h}}),(0,d.default)(Ue.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),(0,f.default)(Ue.prototype,{isQuaternion:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=t._x,r=t._y,n=t._z,a=t.order,o=Math.cos,s=Math.sin,u=o(i/2),l=o(r/2),h=o(n/2),c=s(i/2),p=s(r/2),d=s(n/2);return"XYZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"YXZ"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"ZXY"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h-c*p*d):"ZYX"===a?(this._x=c*l*h-u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h+c*p*d):"YZX"===a?(this._x=c*l*h+u*p*d,this._y=u*p*h+c*l*d,this._z=u*l*d-c*p*h,this._w=u*l*h-c*p*d):"XZY"===a&&(this._x=c*l*h-u*p*d,this._y=u*p*h-c*l*d,this._z=u*l*d+c*p*h,this._w=u*l*h+c*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,i=t.elements,r=i[0],n=i[4],a=i[8],o=i[1],s=i[5],u=i[9],l=i[2],h=i[6],c=i[10],p=r+s+c;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(h-u)*e,this._y=(a-l)*e,this._z=(o-n)*e):r>s&&r>c?(e=2*Math.sqrt(1+r-s-c),this._w=(h-u)/e,this._x=.25*e,this._y=(n+o)/e,this._z=(a+l)/e):s>c?(e=2*Math.sqrt(1+s-r-c),this._w=(a-l)/e,this._x=(n+o)/e,this._y=.25*e,this._z=(u+h)/e):(e=2*Math.sqrt(1+c-r-s),this._w=(o-n)/e,this._x=(a+l)/e,this._y=(u+h)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){var i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(Re.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var i=this.angleTo(t);if(0===i)return this;var r=Math.min(1,e/i);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var i=t._x,r=t._y,n=t._z,a=t._w,o=e._x,s=e._y,u=e._z,l=e._w;return this._x=i*l+a*o+r*u-n*s,this._y=r*l+a*s+n*o-i*u,this._z=n*l+a*u+i*s-r*o,this._w=a*l-i*o-r*s-n*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var i=this._x,r=this._y,n=this._z,a=this._w,o=a*t._w+i*t._x+r*t._y+n*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=i,this._y=r,this._z=n,this;var s=1-o*o;if(s<=g.default){var u=1-e;return this._w=u*a+e*this._w,this._x=u*i+e*this._x,this._y=u*r+e*this._y,this._z=u*n+e*this._z,this.normalize()}var l=Math.sqrt(s),h=Math.atan2(l,o),c=Math.sin((1-e)*h)/l,p=Math.sin(e*h)/l;return this._w=a*c+this._w*p,this._x=i*c+this._x*p,this._y=r*c+this._y*p,this._z=n*c+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(ke.prototype,{isVector3:!0,set:function(t,e,i){return this.x=t,this.y=e,this.z=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:(r=new Ue,function(t){return!t||t.isEuler,this.applyQuaternion(r.setFromEuler(t))}),applyAxisAngle:function(){var t=new Ue;return function(e,i){return this.applyQuaternion(t.setFromAxisAngle(e,i))}}(),applyMatrix3:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6]*r,this.y=n[1]*e+n[4]*i+n[7]*r,this.z=n[2]*e+n[5]*i+n[8]*r,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements,a=1/(n[3]*e+n[7]*i+n[11]*r+n[15]);return this.x=(n[0]*e+n[4]*i+n[8]*r+n[12])*a,this.y=(n[1]*e+n[5]*i+n[9]*r+n[13])*a,this.z=(n[2]*e+n[6]*i+n[10]*r+n[14])*a,this},applyQuaternion:function(t){var e=this.x,i=this.y,r=this.z,n=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*i,l=s*i+o*e-n*r,h=s*r+n*i-a*e,c=-n*e-a*i-o*r;return this.x=u*s+c*-n+l*-o-h*-a,this.y=l*s+c*-a+h*-n-u*-o,this.z=h*s+c*-o+u*-a-l*-n,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,i=this.y,r=this.z,n=t.elements;return this.x=n[0]*e+n[4]*i+n[8]*r,this.y=n[1]*e+n[5]*i+n[9]*r,this.z=n[2]*e+n[6]*i+n[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var i=t.x,r=t.y,n=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-n*o,this.y=n*a-i*s,this.z=i*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:(i=new ke,function(t){return i.copy(this).projectOnVector(t),this.sub(i)}),reflect:function(){var t=new ke;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Re.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,i){var r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),(0,f.default)(Ge.prototype,{isMatrix3:!0,set:function(t,e,i,r,n,a,o,s,u){var l=this.elements;return l[0]=t,l[1]=r,l[2]=o,l[3]=e,l[4]=n,l[5]=s,l[6]=i,l[7]=a,l[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix3(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[3],s=i[6],u=i[1],l=i[4],h=i[7],c=i[2],p=i[5],d=i[8],f=r[0],m=r[3],v=r[6],g=r[1],y=r[4],x=r[7],b=r[2],w=r[5],_=r[8];return n[0]=a*f+o*g+s*b,n[3]=a*m+o*y+s*w,n[6]=a*v+o*x+s*_,n[1]=u*f+l*g+h*b,n[4]=u*m+l*y+h*w,n[7]=u*v+l*x+h*_,n[2]=c*f+p*g+d*b,n[5]=c*m+p*y+d*w,n[8]=c*v+p*x+d*_,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],i=t[1],r=t[2],n=t[3],a=t[4],o=t[5],s=t[6],u=t[7],l=t[8];return e*a*l-e*o*u-i*n*l+i*o*s+r*n*u-r*a*s},getInverse:function(t,e){t&&t.isMatrix4;var i=t.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],u=i[4],l=i[5],h=i[6],c=i[7],p=i[8],d=p*u-l*c,f=l*h-p*s,m=c*s-u*h,v=n*d+a*f+o*m;if(0===v){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/v;return r[0]=d*y,r[1]=(o*c-p*a)*y,r[2]=(l*a-o*u)*y,r[3]=f*y,r[4]=(p*n-o*h)*y,r[5]=(o*s-l*n)*y,r[6]=m*y,r[7]=(a*h-c*n)*y,r[8]=(u*n-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,i,r,n,a,o){var s=Math.cos(n),u=Math.sin(n);this.set(i*s,i*u,-i*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1)},scale:function(t,e){var i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this},rotate:function(t){var e=Math.cos(t),i=Math.sin(t),r=this.elements,n=r[0],a=r[3],o=r[6],s=r[1],u=r[4],l=r[7];return r[0]=e*n+i*s,r[3]=e*a+i*u,r[6]=e*o+i*l,r[1]=-i*n+e*s,r[4]=-i*a+e*u,r[7]=-i*o+e*l,this},translate:function(t,e){var i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<9;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}});var Ve,We,He,je,Xe,qe,Ye,Je,Ze,Qe,Ke,$e,ti,ei,ii={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===n&&(n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),n.width=t.width,n.height=t.height;var i=n.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=n}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},ri=0;function ni(t,e,i,r,n,a,o,s,u,l){Object.defineProperty(this,"id",{value:ri++}),this.uuid=Re.generateUUID(),this.name="",this.image=void 0!==t?t:ni.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:ni.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:wt,this.wrapT=void 0!==r?r:wt,this.magFilter=void 0!==n?n:Tt,this.minFilter=void 0!==a?a:Pt,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:Wt,this.type=void 0!==s?s:Ct,this.offset=new Fe(0,0),this.repeat=new Fe(1,1),this.center=new Fe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ge,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==l?l:Te,this.version=0,this.onUpdate=null}function ai(t,e,i,r){this.x=t||0,this.y=e||0,this.z=i||0,this.w=void 0!==r?r:1}function oi(t,e,i){this.width=t,this.height=e,this.scissor=new ai(0,0,t,e),this.scissorTest=!1,this.viewport=new ai(0,0,t,e),i=i||{},this.texture=new ni(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Tt,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function si(t,e,i){oi.call(this,t,e,i),this.samples=4}function ui(t,e,i){oi.call(this,t,e,i)}function li(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={data:t,width:e,height:i},this.magFilter=void 0!==u?u:Mt,this.minFilter=void 0!==l?l:Mt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function hi(t,e){this.min=void 0!==t?t:new ke(1/0,1/0,1/0),this.max=void 0!==e?e:new ke(-1/0,-1/0,-1/0)}function ci(t,e){this.center=void 0!==t?t:new ke,this.radius=void 0!==e?e:0}function pi(t,e){this.normal=void 0!==t?t:new ke(1,0,0),this.constant=void 0!==e?e:0}function di(t,e,i,r,n,a){this.planes=[void 0!==t?t:new pi,void 0!==e?e:new pi,void 0!==i?i:new pi,void 0!==r?r:new pi,void 0!==n?n:new pi,void 0!==a?a:new pi]}function fi(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}ni.DEFAULT_IMAGE=void 0,ni.DEFAULT_MAPPING=pt,ni.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ni,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Re.generateUUID()),!e&&void 0===t.images[r.uuid]){var n;if(Array.isArray(r)){n=[];for(var a=0,o=r.length;a<o;a++)n.push(ii.getDataURL(r[a]))}else n=ii.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:n}}i.image=r.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping!==pt)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case bt:t.x=t.x-Math.floor(t.x);break;case wt:t.x=t.x<0?0:1;break;case _t:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case bt:t.y=t.y-Math.floor(t.y);break;case wt:t.y=t.y<0?0:1;break;case _t:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(ni.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(ai.prototype,{isVector4:!0,set:function(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,i=this.y,r=this.z,n=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*r+a[12]*n,this.y=a[1]*e+a[5]*i+a[9]*r+a[13]*n,this.z=a[2]*e+a[6]*i+a[10]*r+a[14]*n,this.w=a[3]*e+a[7]*i+a[11]*r+a[15]*n,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,i,r,n,a=.01,o=.1,s=t.elements,u=s[0],l=s[4],h=s[8],c=s[1],p=s[5],d=s[9],f=s[2],m=s[6],v=s[10];if(Math.abs(l-c)<a&&Math.abs(h-f)<a&&Math.abs(d-m)<a){if(Math.abs(l+c)<o&&Math.abs(h+f)<o&&Math.abs(d+m)<o&&Math.abs(u+p+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var g=(u+1)/2,y=(p+1)/2,x=(v+1)/2,b=(l+c)/4,w=(h+f)/4,_=(d+m)/4;return g>y&&g>x?g<a?(i=0,r=.707106781,n=.707106781):(r=b/(i=Math.sqrt(g)),n=w/i):y>x?y<a?(i=.707106781,r=0,n=.707106781):(i=b/(r=Math.sqrt(y)),n=_/r):x<a?(i=.707106781,r=.707106781,n=0):(i=w/(n=Math.sqrt(x)),r=_/n),this.set(i,r,n,e),this}var M=Math.sqrt((m-d)*(m-d)+(h-f)*(h-f)+(c-l)*(c-l));return Math.abs(M)<.001&&(M=1),this.x=(m-d)/M,this.y=(h-f)/M,this.z=(c-l)/M,this.w=Math.acos((u+p+v-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return void 0===Ve&&(Ve=new ai,We=new ai),Ve.set(t,t,t,t),We.set(e,e,e,e),this.clamp(Ve,We)},clampLength:function(t,e){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,i){return this.subVectors(e,t).multiplyScalar(i).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,i){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),oi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:oi,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),si.prototype=(0,f.default)((0,p.default)(oi.prototype),{constructor:si,isWebGLMultisampleRenderTarget:!0,copy:function(t){return oi.prototype.copy.call(this,t),this.samples=t.samples,this}}),ui.prototype=(0,p.default)(oi.prototype),ui.prototype.constructor=ui,ui.prototype.isWebGLRenderTargetCube=!0,li.prototype=(0,p.default)(ni.prototype),li.prototype.constructor=li,li.prototype.isDataTexture=!0,(0,f.default)(hi.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var l=t[s],h=t[s+1],c=t[s+2];l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,i=1/0,r=1/0,n=-1/0,a=-1/0,o=-1/0,s=0,u=t.count;s<u;s++){var l=t.getX(s),h=t.getY(s),c=t.getZ(s);l<e&&(e=l),h<i&&(i=h),c<r&&(r=c),l>n&&(n=l),h>a&&(a=h),c>o&&(o=c)}return this.min.set(e,i,r),this.max.set(n,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new ke;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new ke),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,i,r=new ke;function n(n){var a=n.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,i=o.length;e<i;e++)r.copy(o[e]),r.applyMatrix4(n.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,i=s.count;e<i;e++)r.fromBufferAttribute(s,e).applyMatrix4(n.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(n),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(e=new ke),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:(je=new ke,function(t){return this.clampPoint(t.center,je),je.distanceToSquared(t.center)<=t.radius*t.radius}),intersectsPlane:function(t){var e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant},intersectsTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke;function h(r){var n,a;for(n=0,a=r.length-3;n<=a;n+=3){o.fromArray(r,n);var s=u.x*Math.abs(o.x)+u.y*Math.abs(o.y)+u.z*Math.abs(o.z),l=t.dot(o),h=e.dot(o),c=i.dot(o);if(Math.max(-Math.max(l,h,c),Math.min(l,h,c))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),u.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),i.subVectors(o.c,s),r.subVectors(e,t),n.subVectors(i,e),a.subVectors(t,i);var c=[0,-r.z,r.y,0,-n.z,n.y,0,-a.z,a.y,r.z,0,-r.x,n.z,0,-n.x,a.z,0,-a.x,-r.y,r.x,0,-n.y,n.x,0,-a.y,a.x,0];return!!h(c)&&!!h(c=[1,0,0,0,1,0,0,0,1])&&(l.crossVectors(r,n),h(c=[l.x,l.y,l.z]))}}(),clampPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new ke;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new ke;return function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(He=[new ke,new ke,new ke,new ke,new ke,new ke,new ke,new ke],function(t){return this.isEmpty()||(He[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),He[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),He[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),He[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),He[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),He[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),He[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),He[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(He)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(ci.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(Xe=new hi,function(t,e){var i=this.center;void 0!==e?i.copy(e):Xe.setFromPoints(t).getCenter(i);for(var r=0,n=0,a=t.length;n<a;n++)r=Math.max(r,i.distanceToSquared(t[n]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var i=this.center.distanceToSquared(t);return void 0===e&&(e=new ke),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(t=new hi),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),(0,f.default)(pi.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new ke,e=new ke;return function(i,r,n){var a=t.subVectors(n,r).cross(e.subVectors(i,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(e=new ke),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new ke;return function(e,i){void 0===i&&(i=new ke);var r=e.delta(t),n=this.normal.dot(r);if(0===n)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/n;return a<0||a>1?void 0:i.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(t=new ke),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new ke,e=new Ge;return function(i,r){var n=r||e.getNormalMatrix(i),a=this.coplanarPoint(t).applyMatrix4(i),o=this.normal.applyMatrix3(n).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),(0,f.default)(di.prototype,{set:function(t,e,i,r,n,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(r),o[4].copy(n),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,i=0;i<6;i++)e[i].copy(t.planes[i]);return this},setFromMatrix:function(t){var e=this.planes,i=t.elements,r=i[0],n=i[1],a=i[2],o=i[3],s=i[4],u=i[5],l=i[6],h=i[7],c=i[8],p=i[9],d=i[10],f=i[11],m=i[12],v=i[13],g=i[14],y=i[15];return e[0].setComponents(o-r,h-s,f-c,y-m).normalize(),e[1].setComponents(o+r,h+s,f+c,y+m).normalize(),e[2].setComponents(o+n,h+u,f+p,y+v).normalize(),e[3].setComponents(o-n,h-u,f-p,y-v).normalize(),e[4].setComponents(o-a,h-l,f-d,y-g).normalize(),e[5].setComponents(o+a,h+l,f+d,y+g).normalize(),this},intersectsObject:(Ye=new ci,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ye.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ye)}),intersectsSprite:function(){var t=new ci;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,i=t.center,r=-t.radius,n=0;n<6;n++)if(e[n].distanceToPoint(i)<r)return!1;return!0},intersectsBox:(qe=new ke,function(t){for(var e=this.planes,i=0;i<6;i++){var r=e[i];if(qe.x=r.normal.x>0?t.max.x:t.min.x,qe.y=r.normal.y>0?t.max.y:t.min.y,qe.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(qe)<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}),(0,f.default)(fi.prototype,{isMatrix4:!0,set:function(t,e,i,r,n,a,o,s,u,l,h,c,p,d,f,m){var v=this.elements;return v[0]=t,v[4]=e,v[8]=i,v[12]=r,v[1]=n,v[5]=a,v[9]=o,v[13]=s,v[2]=u,v[6]=l,v[10]=h,v[14]=c,v[3]=p,v[7]=d,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new fi).fromArray(this.elements)},copy:function(t){var e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this},copyPosition:function(t){var e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this},extractBasis:function(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this},extractRotation:function(){var t=new ke;return function(e){var i=this.elements,r=e.elements,n=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return i[0]=r[0]*n,i[1]=r[1]*n,i[2]=r[2]*n,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,i=t.x,r=t.y,n=t.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(r),u=Math.sin(r),l=Math.cos(n),h=Math.sin(n);if("XYZ"===t.order){var c=a*l,p=a*h,d=o*l,f=o*h;e[0]=s*l,e[4]=-s*h,e[8]=u,e[1]=p+d*u,e[5]=c-f*u,e[9]=-o*s,e[2]=f-c*u,e[6]=d+p*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*l,v=s*h,g=u*l,y=u*h;e[0]=m+y*o,e[4]=g*o-v,e[8]=a*u,e[1]=a*h,e[5]=a*l,e[9]=-o,e[2]=v*o-g,e[6]=y+m*o,e[10]=a*s}else if("ZXY"===t.order)m=s*l,v=s*h,g=u*l,y=u*h,e[0]=m-y*o,e[4]=-a*h,e[8]=g+v*o,e[1]=v+g*o,e[5]=a*l,e[9]=y-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s;else if("ZYX"===t.order)c=a*l,p=a*h,d=o*l,f=o*h,e[0]=s*l,e[4]=d*u-p,e[8]=c*u+f,e[1]=s*h,e[5]=f*u+c,e[9]=p*u-d,e[2]=-u,e[6]=o*s,e[10]=a*s;else if("YZX"===t.order){var x=a*s,b=a*u,w=o*s,_=o*u;e[0]=s*l,e[4]=_-x*h,e[8]=w*h+b,e[1]=h,e[5]=a*l,e[9]=-o*l,e[2]=-u*l,e[6]=b*h+w,e[10]=x-_*h}else"XZY"===t.order&&(x=a*s,b=a*u,w=o*s,_=o*u,e[0]=s*l,e[4]=-h,e[8]=u*l,e[1]=x*h+_,e[5]=a*l,e[9]=b*h-w,e[2]=w*h-b,e[6]=o*l,e[10]=_*h+x);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:(ti=new ke(0,0,0),ei=new ke(1,1,1),function(t){return this.compose(ti,t,ei)}),lookAt:(Qe=new ke,Ke=new ke,$e=new ke,function(t,e,i){var r=this.elements;return $e.subVectors(t,e),0===$e.lengthSq()&&($e.z=1),$e.normalize(),Qe.crossVectors(i,$e),0===Qe.lengthSq()&&(1===Math.abs(i.z)?$e.x+=1e-4:$e.z+=1e-4,$e.normalize(),Qe.crossVectors(i,$e)),Qe.normalize(),Ke.crossVectors($e,Qe),r[0]=Qe.x,r[4]=Ke.x,r[8]=$e.x,r[1]=Qe.y,r[5]=Ke.y,r[9]=$e.y,r[2]=Qe.z,r[6]=Ke.z,r[10]=$e.z,this}),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var i=t.elements,r=e.elements,n=this.elements,a=i[0],o=i[4],s=i[8],u=i[12],l=i[1],h=i[5],c=i[9],p=i[13],d=i[2],f=i[6],m=i[10],v=i[14],g=i[3],y=i[7],x=i[11],b=i[15],w=r[0],_=r[4],M=r[8],S=r[12],A=r[1],T=r[5],L=r[9],P=r[13],C=r[2],E=r[6],I=r[10],D=r[14],B=r[3],O=r[7],z=r[11],N=r[15];return n[0]=a*w+o*A+s*C+u*B,n[4]=a*_+o*T+s*E+u*O,n[8]=a*M+o*L+s*I+u*z,n[12]=a*S+o*P+s*D+u*N,n[1]=l*w+h*A+c*C+p*B,n[5]=l*_+h*T+c*E+p*O,n[9]=l*M+h*L+c*I+p*z,n[13]=l*S+h*P+c*D+p*N,n[2]=d*w+f*A+m*C+v*B,n[6]=d*_+f*T+m*E+v*O,n[10]=d*M+f*L+m*I+v*z,n[14]=d*S+f*P+m*D+v*N,n[3]=g*w+y*A+x*C+b*B,n[7]=g*_+y*T+x*E+b*O,n[11]=g*M+y*L+x*I+b*z,n[15]=g*S+y*P+x*D+b*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new ke;return function(e){for(var i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.applyMatrix4(this),e.setXYZ(i,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],i=t[4],r=t[8],n=t[12],a=t[1],o=t[5],s=t[9],u=t[13],l=t[2],h=t[6],c=t[10],p=t[14];return t[3]*(+n*s*h-r*u*h-n*o*c+i*u*c+r*o*p-i*s*p)+t[7]*(+e*s*p-e*u*c+n*a*c-r*a*p+r*u*l-n*s*l)+t[11]*(+e*u*h-e*o*p-n*a*h+i*a*p+n*o*l-i*u*l)+t[15]*(-r*o*l-e*s*h+e*o*c+r*a*h-i*a*c+i*s*l)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,i){var r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this},getInverse:function(t,e){var i=this.elements,r=t.elements,n=r[0],a=r[1],o=r[2],s=r[3],u=r[4],l=r[5],h=r[6],c=r[7],p=r[8],d=r[9],f=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],b=d*y*c-g*f*c+g*h*m-l*y*m-d*h*x+l*f*x,w=v*f*c-p*y*c-v*h*m+u*y*m+p*h*x-u*f*x,_=p*g*c-v*d*c+v*l*m-u*g*m-p*l*x+u*d*x,M=v*d*h-p*g*h-v*l*f+u*g*f+p*l*y-u*d*y,S=n*b+a*w+o*_+s*M;if(0===S){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/S;return i[0]=b*T,i[1]=(g*f*s-d*y*s-g*o*m+a*y*m+d*o*x-a*f*x)*T,i[2]=(l*y*s-g*h*s+g*o*c-a*y*c-l*o*x+a*h*x)*T,i[3]=(d*h*s-l*f*s-d*o*c+a*f*c+l*o*m-a*h*m)*T,i[4]=w*T,i[5]=(p*y*s-v*f*s+v*o*m-n*y*m-p*o*x+n*f*x)*T,i[6]=(v*h*s-u*y*s-v*o*c+n*y*c+u*o*x-n*h*x)*T,i[7]=(u*f*s-p*h*s+p*o*c-n*f*c-u*o*m+n*h*m)*T,i[8]=_*T,i[9]=(v*d*s-p*g*s-v*a*m+n*g*m+p*a*x-n*d*x)*T,i[10]=(u*g*s-v*l*s+v*a*c-n*g*c-u*a*x+n*l*x)*T,i[11]=(p*l*s-u*d*s-p*a*c+n*d*c+u*a*m-n*l*m)*T,i[12]=M*T,i[13]=(p*g*o-v*d*o+v*a*f-n*g*f-p*a*y+n*d*y)*T,i[14]=(v*l*o-u*g*o-v*a*h+n*g*h+u*a*y-n*l*y)*T,i[15]=(u*d*o-p*l*o+p*a*h-n*d*h-u*a*f+n*l*f)*T,this},scale:function(t){var e=this.elements,i=t.x,r=t.y,n=t.z;return e[0]*=i,e[4]*=r,e[8]*=n,e[1]*=i,e[5]*=r,e[9]*=n,e[2]*=i,e[6]*=r,e[10]*=n,e[3]*=i,e[7]*=r,e[11]*=n,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,r))},makeTranslation:function(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var i=Math.cos(e),r=Math.sin(e),n=1-i,a=t.x,o=t.y,s=t.z,u=n*a,l=n*o;return this.set(u*a+i,u*o-r*s,u*s+r*o,0,u*o+r*s,l*o+i,l*s-r*a,0,u*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1),this},makeScale:function(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,i){var r=this.elements,n=e._x,a=e._y,o=e._z,s=e._w,u=n+n,l=a+a,h=o+o,c=n*u,p=n*l,d=n*h,f=a*l,m=a*h,v=o*h,g=s*u,y=s*l,x=s*h,b=i.x,w=i.y,_=i.z;return r[0]=(1-(f+v))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*w,r[5]=(1-(c+v))*w,r[6]=(m+g)*w,r[7]=0,r[8]=(d+y)*_,r[9]=(m-g)*_,r[10]=(1-(c+f))*_,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:(Je=new ke,Ze=new fi,function(t,e,i){var r=this.elements,n=Je.set(r[0],r[1],r[2]).length(),a=Je.set(r[4],r[5],r[6]).length(),o=Je.set(r[8],r[9],r[10]).length();this.determinant()<0&&(n=-n),t.x=r[12],t.y=r[13],t.z=r[14],Ze.copy(this);var s=1/n,u=1/a,l=1/o;return Ze.elements[0]*=s,Ze.elements[1]*=s,Ze.elements[2]*=s,Ze.elements[4]*=u,Ze.elements[5]*=u,Ze.elements[6]*=u,Ze.elements[8]*=l,Ze.elements[9]*=l,Ze.elements[10]*=l,e.setFromRotationMatrix(Ze),i.x=n,i.y=a,i.z=o,this}),makePerspective:function(t,e,i,r,n,a){var o=this.elements,s=2*n/(e-t),u=2*n/(i-r),l=(e+t)/(e-t),h=(i+r)/(i-r),c=-(a+n)/(a-n),p=-2*a*n/(a-n);return o[0]=s,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=u,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,i,r,n,a){var o=this.elements,s=1/(e-t),u=1/(i-r),l=1/(a-n),h=(e+t)*s,c=(i+r)*u,p=(a+n)*l;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-c,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,i=t.elements,r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var i=0;i<16;i++)this.elements[i]=t[i+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}});var mi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 projectionMatrix ) {\n\treturn projectionMatrix[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowNormalBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#endif\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\tfloat clearCoatInv = 1.0 - clearCoatDHR;\n\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec3 singleScattering = vec3( 0.0 );\n\t\tvec3 multiScattering = vec3( 0.0 );\n\t\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\t\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * singleScattering;\n\t\treflectedLight.indirectDiffuse += multiScattering * cosineWeightedIrradiance;\n\t\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\t#else\n\t\treflectedLight.indirectSpecular += clearCoatInv * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#endif\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, irradiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective > 0.5 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\t#ifdef USE_TANGENT\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy = normalScale * mapN.xy;\n\t\t\tnormal = normalize( vTBN * mapN );\n\t\t#else\n\t\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t\t#endif\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#if defined( DITHERING )\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform float directionalShadowBias[ NUM_DIR_LIGHTS ];\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalShadowBias[ i ], 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"};function vi(t){var e={};for(var i in t)for(var r in e[i]={},t[i]){var n=t[i][r];n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)?e[i][r]=n.clone():Array.isArray(n)?e[i][r]=n.slice():e[i][r]=n}return e}function gi(t){for(var e={},i=0;i<t.length;i++){var r=vi(t[i]);for(var n in r)e[n]=r[n]}return e}var yi,xi,bi,wi={clone:vi,merge:gi},_i={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mi(t,e,i){return void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}(0,f.default)(Mi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,i){return this.r=t,this.g=e,this.b=i,this},setHSL:function(){function t(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}return function(e,i,r){if(e=Re.euclideanModulo(e,1),i=Re.clamp(i,0,1),r=Re.clamp(r,0,1),0===i)this.r=this.g=this.b=r;else{var n=r<=.5?r*(1+i):r+i-r*i,a=2*r-n;this.r=t(a,n,e+1/3),this.g=t(a,n,e),this.b=t(a,n,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,n=i[1],a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(t)){var l,h=(l=i[1]).length;if(3===h)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===h)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0&&void 0!==(l=_i[t])&&this.setHex(l),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(t={h:0,s:0,l:0});var e,i,r=this.r,n=this.g,a=this.b,o=Math.max(r,n,a),s=Math.min(r,n,a),u=(s+o)/2;if(s===o)e=0,i=0;else{var l=o-s;switch(i=u<=.5?l/(o+s):l/(2-o-s),o){case r:e=(n-a)/l+(n<a?6:0);break;case n:e=(a-r)/l+2;break;case a:e=(r-n)/l+4}e/=6}return t.h=e,t.s=i,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:(bi={},function(t,e,i){return this.getHSL(bi),bi.h+=t,bi.s+=e,bi.l+=i,this.setHSL(bi.h,bi.s,bi.l),this}),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:(yi={h:0,s:0,l:0},xi={h:0,s:0,l:0},function(t,e){this.getHSL(yi),t.getHSL(xi);var i=Re.lerp(yi.h,xi.h,e),r=Re.lerp(yi.s,xi.s,e),n=Re.lerp(yi.l,xi.l,e);return this.setHSL(i,r,n),this}),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Si,Ai={common:{diffuse:{value:new Mi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ge},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Fe(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Mi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowBias:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Mi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Ge}},sprite:{diffuse:{value:new Mi(15658734)},opacity:{value:1},center:{value:new Fe(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Ge}}},Ti={basic:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.fog]),vertexShader:mi.meshbasic_vert,fragmentShader:mi.meshbasic_frag},lambert:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)}}]),vertexShader:mi.meshlambert_vert,fragmentShader:mi.meshlambert_frag},phong:{uniforms:gi([Ai.common,Ai.specularmap,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.gradientmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},specular:{value:new Mi(1118481)},shininess:{value:30}}]),vertexShader:mi.meshphong_vert,fragmentShader:mi.meshphong_frag},standard:{uniforms:gi([Ai.common,Ai.envmap,Ai.aomap,Ai.lightmap,Ai.emissivemap,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.roughnessmap,Ai.metalnessmap,Ai.fog,Ai.lights,{emissive:{value:new Mi(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},matcap:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,Ai.fog,{matcap:{value:null}}]),vertexShader:mi.meshmatcap_vert,fragmentShader:mi.meshmatcap_frag},points:{uniforms:gi([Ai.points,Ai.fog]),vertexShader:mi.points_vert,fragmentShader:mi.points_frag},dashed:{uniforms:gi([Ai.common,Ai.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mi.linedashed_vert,fragmentShader:mi.linedashed_frag},depth:{uniforms:gi([Ai.common,Ai.displacementmap]),vertexShader:mi.depth_vert,fragmentShader:mi.depth_frag},normal:{uniforms:gi([Ai.common,Ai.bumpmap,Ai.normalmap,Ai.displacementmap,{opacity:{value:1}}]),vertexShader:mi.normal_vert,fragmentShader:mi.normal_frag},sprite:{uniforms:gi([Ai.sprite,Ai.fog]),vertexShader:mi.sprite_vert,fragmentShader:mi.sprite_frag},background:{uniforms:{uvTransform:{value:new Ge},t2D:{value:null}},vertexShader:mi.background_vert,fragmentShader:mi.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mi.cube_vert,fragmentShader:mi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mi.equirect_vert,fragmentShader:mi.equirect_frag},distanceRGBA:{uniforms:gi([Ai.common,Ai.displacementmap,{referencePosition:{value:new ke},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mi.distanceRGBA_vert,fragmentShader:mi.distanceRGBA_frag},shadow:{uniforms:gi([Ai.lights,Ai.fog,{color:{value:new Mi(0)},opacity:{value:1}}]),vertexShader:mi.shadow_vert,fragmentShader:mi.shadow_frag}};function Li(){var t=null,e=!1,i=null;function r(n,a){!1!==e&&(i(n,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==i&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function Pi(t){var e=new c.default;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);var r=e.get(i);r&&(t.deleteBuffer(r.buffer),e.delete(i))},update:function(i,r){i.isInterleavedBufferAttribute&&(i=i.data);var n=e.get(i);void 0===n?e.set(i,function(e,i){var r=e.array,n=e.dynamic?35048:35044,a=t.createBuffer();t.bindBuffer(i,a),t.bufferData(i,r,n),e.onUploadCallback();var o=5126;return r instanceof Float32Array?o=5126:r instanceof Float64Array||(r instanceof Uint16Array?o=5123:r instanceof Int16Array?o=5122:r instanceof Uint32Array?o=5125:r instanceof Int32Array?o=5124:r instanceof Int8Array?o=5120:r instanceof Uint8Array&&(o=5121)),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(i,r)):n.version<i.version&&(function(e,i,r){var n=i.array,a=i.updateRange;t.bindBuffer(r,e),!1===i.dynamic?t.bufferData(r,n,35044):-1===a.count?t.bufferSubData(r,0,n):0===a.count||(t.bufferSubData(r,a.offset*n.BYTES_PER_ELEMENT,n.subarray(a.offset,a.offset+a.count)),a.count=-1)}(n.buffer,i,r),n.version=i.version)}}}function Ci(t,e,i,r,n,a){this.a=t,this.b=e,this.c=i,this.normal=r&&r.isVector3?r:new ke,this.vertexNormals=Array.isArray(r)?r:[],this.color=n&&n.isColor?n:new Mi,this.vertexColors=Array.isArray(n)?n:[],this.materialIndex=void 0!==a?a:0}function Ei(t,e,i,r){this._x=t||0,this._y=e||0,this._z=i||0,this._order=r||Ei.DefaultOrder}function Ii(){this.mask=1}Ti.physical={uniforms:gi([Ti.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:mi.meshphysical_vert,fragmentShader:mi.meshphysical_frag},(0,f.default)(Ci.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),Ei.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ei.DefaultOrder="XYZ",(0,d.default)(Ei.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),(0,f.default)(Ei.prototype,{isEuler:!0,set:function(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,i){var r=Re.clamp,n=t.elements,a=n[0],o=n[4],s=n[8],u=n[1],l=n[5],h=n[9],c=n[2],p=n[6],d=n[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,l),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,l)):(this._y=Math.atan2(-c,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,l))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-h,l),this._y=Math.atan2(-c,a)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,l),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,d),this._y=0)),this._order=e,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new fi;return function(e,i,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,i,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(Si=new Ue,function(t){return Si.setFromEuler(this),this.setFromQuaternion(Si,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new ke(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),(0,f.default)(Ii.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Di,Bi,Oi,zi,Ni,Ri=0;function Fi(){Object.defineProperty(this,"id",{value:Ri++}),this.uuid=Re.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Fi.DefaultUp.clone();var t=new ke,e=new Ei,i=new Ue,r=new ke(1,1,1);e.onChange((function(){i.setFromEuler(e,!1)})),i.onChange((function(){e.setFromQuaternion(i,void 0,!1)})),(0,d.default)(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new fi},normalMatrix:{value:new Ge}}),this.matrix=new fi,this.matrixWorld=new fi,this.matrixAutoUpdate=Fi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ii,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Fi.DefaultUp=new ke(0,1,0),Fi.DefaultMatrixAutoUpdate=!0,Fi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Fi,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(Ni=new Ue,function(t,e){return Ni.setFromAxisAngle(t,e),this.quaternion.multiply(Ni),this}),rotateOnWorldAxis:function(){var t=new Ue;return function(e,i){return t.setFromAxisAngle(e,i),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new ke(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new ke(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new ke(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new ke;return function(e,i){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(i)),this}}(),translateX:function(){var t=new ke(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new ke(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new ke(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(zi=new fi,function(t){return t.applyMatrix4(zi.getInverse(this.matrixWorld))}),lookAt:function(){var t=new Ue,e=new fi,i=new ke,r=new ke;return function(n,a,o){n.isVector3?i.copy(n):i.set(n,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?e.lookAt(r,i,this.up):e.lookAt(i,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var i=this.children.indexOf(t);return-1!==i&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(i,1)),this},attach:(Oi=new fi,function(t){return this.updateWorldMatrix(!0,!1),Oi.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Oi.multiply(t.parent.matrixWorld)),t.applyMatrix(Oi),t.updateWorldMatrix(!1,!1),this.add(t),this}),getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(t=new ke),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Di=new ke,Bi=new ke,function(t){return void 0===t&&(t=new Ue),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Di,t,Bi),t}),getWorldScale:function(){var t=new ke,e=new Ue;return function(i){return void 0===i&&(i=new ke),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,i),i}}(),getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,i=0,r=e.length;i<r;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function n(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==(0,h.default)(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh&&this.drawMode!==Ae&&(r.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){r.geometry=n(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,u=o.length;s<u;s++){var l=o[s];n(t.shapes,l)}else n(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var c=[];for(s=0,u=this.material.length;s<u;s++)c.push(n(t.materials,this.material[s]));r.material=c}else r.material=n(t.materials,this.material);if(this.children.length>0)for(r.children=[],s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object);if(e){var p=v(t.geometries),d=v(t.materials),f=v(t.textures),m=v(t.images);o=v(t.shapes),p.length>0&&(i.geometries=p),d.length>0&&(i.materials=d),f.length>0&&(i.textures=f),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=r,i;function v(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse((0,h.default)(t.userData)),!0===e)for(var i=0;i<t.children.length;i++){var r=t.children[i];this.add(r.clone())}return this}});var Ui,ki,Gi=0;function Vi(){Object.defineProperty(this,"id",{value:Gi+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function Wi(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Hi(t,e,i){Wi.call(this,new Int8Array(t),e,i)}function ji(t,e,i){Wi.call(this,new Uint8Array(t),e,i)}function Xi(t,e,i){Wi.call(this,new Uint8ClampedArray(t),e,i)}function qi(t,e,i){Wi.call(this,new Int16Array(t),e,i)}function Yi(t,e,i){Wi.call(this,new Uint16Array(t),e,i)}function Ji(t,e,i){Wi.call(this,new Int32Array(t),e,i)}function Zi(t,e,i){Wi.call(this,new Uint32Array(t),e,i)}function Qi(t,e,i){Wi.call(this,new Float32Array(t),e,i)}function Ki(t,e,i){Wi.call(this,new Float64Array(t),e,i)}function $i(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function tr(t){if(0===t.length)return-1/0;for(var e=t[0],i=1,r=t.length;i<r;++i)t[i]>e&&(e=t[i]);return e}Vi.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Vi,isGeometry:!0,applyMatrix:function(t){for(var e=(new Ge).getNormalMatrix(t),i=0,r=this.vertices.length;i<r;i++)this.vertices[i].applyMatrix4(t);for(i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];n.normal.applyMatrix3(e).normalize();for(var a=0,o=n.vertexNormals.length;a<o;a++)n.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:(ki=new Fi,function(t){ki.lookAt(t),ki.updateMatrix(),this.applyMatrix(ki.matrix)}),fromBufferGeometry:function(t){var e=this,i=null!==t.index?t.index.array:void 0,r=t.attributes,n=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var l=0;l<n.length;l+=3)e.vertices.push((new ke).fromArray(n,l)),void 0!==o&&e.colors.push((new Mi).fromArray(o,l));function h(t,i,r,n){var l=void 0===o?[]:[e.colors[t].clone(),e.colors[i].clone(),e.colors[r].clone()],h=new Ci(t,i,r,void 0===a?[]:[(new ke).fromArray(a,3*t),(new ke).fromArray(a,3*i),(new ke).fromArray(a,3*r)],l,n);e.faces.push(h),void 0!==s&&e.faceVertexUvs[0].push([(new Fe).fromArray(s,2*t),(new Fe).fromArray(s,2*i),(new Fe).fromArray(s,2*r)]),void 0!==u&&e.faceVertexUvs[1].push([(new Fe).fromArray(u,2*t),(new Fe).fromArray(u,2*i),(new Fe).fromArray(u,2*r)])}var c=t.groups;if(c.length>0)for(l=0;l<c.length;l++)for(var p=c[l],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==i?h(i[f],i[f+1],i[f+2],p.materialIndex):h(f,f+1,f+2,p.materialIndex);else if(void 0!==i)for(l=0;l<i.length;l+=3)h(i[l],i[l+1],i[l+2]);else for(l=0;l<n.length/3;l+=3)h(l,l+1,l+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:(Ui=new ke,function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ui).negate(),this.translate(Ui.x,Ui.y,Ui.z),this}),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,i=0===e?1:1/e,r=new fi;return r.set(i,0,0,-i*t.x,0,i,0,-i*t.y,0,0,i,-i*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new ke,e=new ke,i=0,r=this.faces.length;i<r;i++){var n=this.faces[i],a=this.vertices[n.a],o=this.vertices[n.b],s=this.vertices[n.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),n.normal.copy(t)}},computeVertexNormals:function(t){var e,i,r,n,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,i=this.vertices.length;e<i;e++)o[e]=new ke;if(t){var s,u,l,h=new ke,c=new ke;for(r=0,n=this.faces.length;r<n;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],l=this.vertices[a.c],h.subVectors(l,u),c.subVectors(s,u),h.cross(c),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(this.computeFaceNormals(),r=0,n=this.faces.length;r<n;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,i=this.vertices.length;e<i;e++)o[e].normalize();for(r=0,n=this.faces.length;r<n;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,i;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(i=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(i.normal),r[1].copy(i.normal),r[2].copy(i.normal)):(r[0]=i.normal.clone(),r[1]=i.normal.clone(),r[2]=i.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,i,r,n;for(i=0,r=this.faces.length;i<r;i++)for((n=this.faces[i]).__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]),t=0,e=n.vertexNormals.length;t<e;t++)n.__originalVertexNormals[t]?n.__originalVertexNormals[t].copy(n.vertexNormals[t]):n.__originalVertexNormals[t]=n.vertexNormals[t].clone();var a=new Vi;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(i=0,r=this.faces.length;i<r;i++)u=new ke,l={a:new ke,b:new ke,c:new ke},o.push(u),s.push(l)}var u,l,h=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,r=this.faces.length;i<r;i++)n=this.faces[i],u=h.faceNormals[i],l=h.vertexNormals[i],u.copy(n.normal),l.a.copy(n.vertexNormals[0]),l.b.copy(n.vertexNormals[1]),l.c.copy(n.vertexNormals[2])}for(i=0,r=this.faces.length;i<r;i++)(n=this.faces[i]).normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new hi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new ci),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,i){if(t&&t.isGeometry){var r,n=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,l=this.faceVertexUvs[0],h=t.faceVertexUvs[0],c=this.colors,p=t.colors;void 0===i&&(i=0),void 0!==e&&(r=(new Ge).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)c.push(p[d].clone());for(d=0,f=u.length;d<f;d++){var v,g,y,x=u[d],b=x.vertexNormals,w=x.vertexColors;(v=new Ci(x.a+n,x.b+n,x.c+n)).normal.copy(x.normal),void 0!==r&&v.normal.applyMatrix3(r).normalize();for(var _=0,M=b.length;_<M;_++)g=b[_].clone(),void 0!==r&&g.applyMatrix3(r).normalize(),v.vertexNormals.push(g);for(v.color.copy(x.color),_=0,M=w.length;_<M;_++)y=w[_],v.vertexColors.push(y.clone());v.materialIndex=x.materialIndex+i,s.push(v)}for(d=0,f=h.length;d<f;d++){var S=h[d],A=[];if(void 0!==S){for(_=0,M=S.length;_<M;_++)A.push(S[_].clone());l.push(A)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,i,r,n,a,o,s,u={},l=[],h=[],c=Math.pow(10,4);for(i=0,r=this.vertices.length;i<r;i++)t=this.vertices[i],void 0===u[e=Math.round(t.x*c)+"_"+Math.round(t.y*c)+"_"+Math.round(t.z*c)]?(u[e]=i,l.push(this.vertices[i]),h[i]=l.length-1):h[i]=h[u[e]];var p=[];for(i=0,r=this.faces.length;i<r;i++){(n=this.faces[i]).a=h[n.a],n.b=h[n.b],n.c=h[n.c],a=[n.a,n.b,n.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(i);break}}for(i=p.length-1;i>=0;i--){var f=p[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-l.length;return this.vertices=l,m},setFromPoints:function(t){this.vertices=[];for(var e=0,i=t.length;e<i;e++){var r=t[e];this.vertices.push(new ke(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,i=0;i<e;i++)t[i]._id=i;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,n,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===e&&(r=[]),o&&o.length===e&&(n=[]),i=0;i<e;i++){var s=t[i]._id;r&&r.push(a[s]),n&&n.push(o[s])}r&&(this.faceVertexUvs[0]=r),n&&(this.faceVertexUvs[1]=n)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}for(var r=[],n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},l=[],h={},c=[],p={};for(n=0;n<this.faces.length;n++){var d=this.faces[n],f=void 0!==this.faceVertexUvs[0][n],m=d.normal.length()>0,v=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x,0,0),x=M(x,1,!0),x=M(x,2,!1),x=M(x,3,f),x=M(x,4,m),x=M(x,5,v),x=M(x,6,g),x=M(x,7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][n];o.push(T(b[0]),T(b[1]),T(b[2]))}if(m&&o.push(S(d.normal)),v){var w=d.vertexNormals;o.push(S(w[0]),S(w[1]),S(w[2]))}if(g&&o.push(A(d.color)),y){var _=d.vertexColors;o.push(A(_[0]),A(_[1]),A(_[2]))}}function M(t,e,i){return i?t|1<<e:t&~(1<<e)}function S(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function A(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==h[e]||(h[e]=l.length,l.push(t.getHex())),h[e]}function T(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=c.length/2,c.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=r,t.data.normals=s,l.length>0&&(t.data.colors=l),c.length>0&&(t.data.uvs=[c]),t.data.faces=o,t},clone:function(){return(new Vi).copy(this)},copy:function(t){var e,i,r,n,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,i=s.length;e<i;e++)this.vertices.push(s[e].clone());var u=t.colors;for(e=0,i=u.length;e<i;e++)this.colors.push(u[e].clone());var l=t.faces;for(e=0,i=l.length;e<i;e++)this.faces.push(l[e].clone());for(e=0,i=t.faceVertexUvs.length;e<i;e++){var h=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,n=h.length;r<n;r++){var c=h[r],p=[];for(a=0,o=c.length;a<o;a++){var d=c[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,i=f.length;e<i;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,n=f[e].vertices.length;r<n;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,n=f[e].normals.length;r<n;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var v=t.morphNormals;for(e=0,i=v.length;e<i;e++){var g={};if(void 0!==v[e].vertexNormals)for(g.vertexNormals=[],r=0,n=v[e].vertexNormals.length;r<n;r++){var y=v[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),g.vertexNormals.push(x)}if(void 0!==v[e].faceNormals)for(g.faceNormals=[],r=0,n=v[e].faceNormals.length;r<n;r++)g.faceNormals.push(v[e].faceNormals[r].clone());this.morphNormals.push(g)}var b=t.skinWeights;for(e=0,i=b.length;e<i;e++)this.skinWeights.push(b[e].clone());var w=t.skinIndices;for(e=0,i=w.length;e<i;e++)this.skinIndices.push(w[e].clone());var _=t.lineDistances;for(e=0,i=_.length;e<i;e++)this.lineDistances.push(_[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var S=t.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Wi.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Wi.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(var r=0,n=this.itemSize;r<n;r++)this.array[t+r]=e.array[i+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Mi),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new Fe),e[i++]=a.x,e[i++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ke),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,i=0,r=0,n=t.length;r<n;r++){var a=t[r];void 0===a&&(a=new ai),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=n,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Hi.prototype=(0,p.default)(Wi.prototype),Hi.prototype.constructor=Hi,ji.prototype=(0,p.default)(Wi.prototype),ji.prototype.constructor=ji,Xi.prototype=(0,p.default)(Wi.prototype),Xi.prototype.constructor=Xi,qi.prototype=(0,p.default)(Wi.prototype),qi.prototype.constructor=qi,Yi.prototype=(0,p.default)(Wi.prototype),Yi.prototype.constructor=Yi,Ji.prototype=(0,p.default)(Wi.prototype),Ji.prototype.constructor=Ji,Zi.prototype=(0,p.default)(Wi.prototype),Zi.prototype.constructor=Zi,Qi.prototype=(0,p.default)(Wi.prototype),Qi.prototype.constructor=Qi,Ki.prototype=(0,p.default)(Wi.prototype),Ki.prototype.constructor=Ki,(0,f.default)($i.prototype,{computeGroups:function(t){for(var e,i=[],r=void 0,n=t.faces,a=0;a<n.length;a++){var o=n[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,i.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,i.push(e)),this.groups=i},fromGeometry:function(t){var e,i=t.faces,r=t.vertices,n=t.faceVertexUvs,a=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var l=0;l<u;l++)e[l]={name:s[l].name,data:[]};this.morphTargets.position=e}var h,c=t.morphNormals,p=c.length;if(p>0){for(h=[],l=0;l<p;l++)h[l]={name:c[l].name,data:[]};this.morphTargets.normal=h}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,v=f.length===r.length;for(r.length>0&&i.length,l=0;l<i.length;l++){var g=i[l];this.vertices.push(r[g.a],r[g.b],r[g.c]);var y=g.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=g.normal;this.normals.push(x,x,x)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var _=g.color;this.colors.push(_,_,_)}!0===a&&(void 0!==(b=n[0][l])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new Fe,new Fe,new Fe)),!0===o&&(void 0!==(b=n[1][l])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new Fe,new Fe,new Fe));for(var M=0;M<u;M++){var S=s[M].vertices;e[M].data.push(S[g.a],S[g.b],S[g.c])}for(M=0;M<p;M++){var A=c[M].vertexNormals[l];h[M].data.push(A.a,A.b,A.c)}m&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),v&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var er=1;function ir(){Object.defineProperty(this,"id",{value:er+=2}),this.uuid=Re.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function rr(t,e,i,r,n,a){Vi.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a},this.fromBufferGeometry(new nr(t,e,i,r,n,a)),this.mergeVertices()}function nr(t,e,i,r,n,a){ir.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;t=t||1,e=e||1,i=i||1,r=Math.floor(r)||1,n=Math.floor(n)||1,a=Math.floor(a)||1;var s=[],u=[],l=[],h=[],c=0,p=0;function d(t,e,i,r,n,a,d,f,m,v,g){var y,x,b=a/m,w=d/v,_=a/2,M=d/2,S=f/2,A=m+1,T=v+1,L=0,P=0,C=new ke;for(x=0;x<T;x++){var E=x*w-M;for(y=0;y<A;y++){var I=y*b-_;C[t]=I*r,C[e]=E*n,C[i]=S,u.push(C.x,C.y,C.z),C[t]=0,C[e]=0,C[i]=f>0?1:-1,l.push(C.x,C.y,C.z),h.push(y/m),h.push(1-x/v),L+=1}}for(x=0;x<v;x++)for(y=0;y<m;y++){var D=c+y+A*x,B=c+y+A*(x+1),O=c+(y+1)+A*(x+1),z=c+(y+1)+A*x;s.push(D,B,z),s.push(B,O,z),P+=6}o.addGroup(p,P,g),p+=P,c+=L}d("z","y","x",-1,-1,i,e,t,a,n,0),d("z","y","x",1,-1,i,e,-t,a,n,1),d("x","z","y",1,1,t,i,e,r,a,2),d("x","z","y",1,-1,t,i,-e,r,a,3),d("x","y","z",1,-1,t,e,i,r,n,4),d("x","y","z",-1,-1,t,e,-i,r,n,5),this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}function ar(t,e,i,r){Vi.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r},this.fromBufferGeometry(new or(t,e,i,r)),this.mergeVertices()}function or(t,e,i,r){ir.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};var n,a,o=(t=t||1)/2,s=(e=e||1)/2,u=Math.floor(i)||1,l=Math.floor(r)||1,h=u+1,c=l+1,p=t/u,d=e/l,f=[],m=[],v=[],g=[];for(a=0;a<c;a++){var y=a*d-s;for(n=0;n<h;n++){var x=n*p-o;m.push(x,-y,0),v.push(0,0,1),g.push(n/u),g.push(1-a/l)}}for(a=0;a<l;a++)for(n=0;n<u;n++){var b=n+h*a,w=n+h*(a+1),_=n+1+h*(a+1),M=n+1+h*a;f.push(b,w,M),f.push(w,_,M)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}ir.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ir,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(tr(t)>65535?Zi:Yi)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(this.setIndex(e),this):(this.attributes[t]=e,this):this.addAttribute(t,new Wi(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,i){this.groups.push({start:t,count:e,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0);var r=this.attributes.tangent;return void 0!==r&&((new Ge).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new fi;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new fi;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new fi;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new fi;return function(e,i,r){return t.makeTranslation(e,i,r),this.applyMatrix(t),this}}(),scale:function(){var t=new fi;return function(e,i,r){return t.makeScale(e,i,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Fi;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new ke;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var i=new Qi(3*e.vertices.length,3),r=new Qi(3*e.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var n=new Qi(e.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i];e.push(n.x,n.y,n.z||0)}return this.addAttribute("position",new Qi(e,3)),this},updateFromObject:function(t){var e,i=t.geometry;if(t.isMesh){var r=i.__directGeometry;if(!0===i.elementsNeedUpdate&&(r=void 0,i.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(i);r.verticesNeedUpdate=i.verticesNeedUpdate,r.normalsNeedUpdate=i.normalsNeedUpdate,r.colorsNeedUpdate=i.colorsNeedUpdate,r.uvsNeedUpdate=i.uvsNeedUpdate,r.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=r}return!0===i.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(i.vertices),e.needsUpdate=!0),i.verticesNeedUpdate=!1),!0===i.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(i.normals),e.needsUpdate=!0),i.normalsNeedUpdate=!1),!0===i.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(i.colors),e.needsUpdate=!0),i.colorsNeedUpdate=!1),i.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(i.uvs),e.needsUpdate=!0),i.uvsNeedUpdate=!1),i.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(i.lineDistances),e.needsUpdate=!0),i.lineDistancesNeedUpdate=!1),i.groupsNeedUpdate&&(i.computeGroups(t.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new $i).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new Wi(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var i=new Float32Array(3*t.normals.length);this.addAttribute("normal",new Wi(i,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new Wi(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var n=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new Wi(n,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new Wi(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],u=t.morphTargets[o],l=0,h=u.length;l<h;l++){var c=u[l],p=new Qi(3*c.data.length,3);p.name=c.name,s.push(p.copyVector3sArray(c.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new Qi(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Qi(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){var t=new hi;return function(){null===this.boundingBox&&(this.boundingBox=new hi);var e=this.attributes.position,i=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(var r=0,n=i.length;r<n;r++){var a=i[r];t.setFromBufferAttribute(a),this.boundingBox.expandByPoint(t.min),this.boundingBox.expandByPoint(t.max)}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:function(){var t=new hi,e=new hi,i=new ke;return function(){null===this.boundingSphere&&(this.boundingSphere=new ci);var r=this.attributes.position,n=this.morphAttributes.position;if(r){var a=this.boundingSphere.center;if(t.setFromBufferAttribute(r),n)for(var o=0,s=n.length;o<s;o++){var u=n[o];e.setFromBufferAttribute(u),t.expandByPoint(e.min),t.expandByPoint(e.max)}t.getCenter(a);var l=0;for(o=0,s=r.count;o<s;o++)i.fromBufferAttribute(r,o),l=Math.max(l,a.distanceToSquared(i));if(n)for(o=0,s=n.length;o<s;o++)for(var h=0,c=(u=n[o]).count;h<c;h++)i.fromBufferAttribute(u,h),l=Math.max(l,a.distanceToSquared(i));this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new Wi(new Float32Array(i.length),3));else for(var r=e.normal.array,n=0,a=r.length;n<a;n++)r[n]=0;var o,s,u,l=e.normal.array,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;if(t){var m=t.array;for(n=0,a=t.count;n<a;n+=3)o=3*m[n+0],s=3*m[n+1],u=3*m[n+2],h.fromArray(i,o),c.fromArray(i,s),p.fromArray(i,u),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[o]+=d.x,l[o+1]+=d.y,l[o+2]+=d.z,l[s]+=d.x,l[s+1]+=d.y,l[s+2]+=d.z,l[u]+=d.x,l[u+1]+=d.y,l[u+2]+=d.z}else for(n=0,a=i.length;n<a;n+=9)h.fromArray(i,n),c.fromArray(i,n+3),p.fromArray(i,n+6),d.subVectors(p,c),f.subVectors(h,c),d.cross(f),l[n]=d.x,l[n+1]=d.y,l[n+2]=d.z,l[n+3]=d.x,l[n+4]=d.y,l[n+5]=d.z,l[n+6]=d.x,l[n+7]=d.y,l[n+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var i=this.attributes;for(var r in i)if(void 0!==t.attributes[r])for(var n=i[r].array,a=t.attributes[r],o=a.array,s=a.itemSize*e,u=Math.min(o.length,n.length-s),l=0,h=s;l<u;l++,h++)n[h]=o[l];return this}},normalizeNormals:function(){var t=new ke;return function(){for(var e=this.attributes.normal,i=0,r=e.count;i<r;i++)t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.normalize(),e.setXYZ(i,t.x,t.y,t.z)}}(),toNonIndexed:function(){function t(t,e){for(var i=t.array,r=t.itemSize,n=new i.constructor(e.length*r),a=0,o=0,s=0,u=e.length;s<u;s++){a=e[s]*r;for(var l=0;l<r;l++)n[o++]=i[a++]}return new Wi(n,r)}if(null===this.index)return this;var e=new ir,i=this.index.array,r=this.attributes;for(var n in r){var a=t(r[n],i);e.addAttribute(n,a)}var o=this.morphAttributes;for(n in o){for(var s=[],u=o[n],l=0,h=u.length;l<h;l++)a=t(u[l],i),s.push(a);e.morphAttributes[n]=s}for(var c=this.groups,p=(l=0,c.length);l<p;l++){var d=c[l];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),(0,l.default)(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};var r=this.index;null!==r&&(t.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var n=this.attributes;for(var i in n){var a=(f=n[i]).toJSON();""!==f.name&&(a.name=f.name),t.data.attributes[i]=a}var o={},s=!1;for(var i in this.morphAttributes){for(var u=this.morphAttributes[i],c=[],p=0,d=u.length;p<d;p++){var f;a=(f=u[p]).toJSON(),""!==f.name&&(a.name=f.name),c.push(a)}c.length>0&&(o[i]=c,s=!0)}s&&(t.data.morphAttributes=o);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse((0,h.default)(m)));var v=this.boundingSphere;return null!==v&&(t.data.boundingSphere={center:v.center.toArray(),radius:v.radius}),t},clone:function(){return(new ir).copy(this)},copy:function(t){var e,i,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var u=[],l=s[e];for(i=0,r=l.length;i<r;i++)u.push(l[i].clone());this.morphAttributes[e]=u}var h=t.groups;for(i=0,r=h.length;i<r;i++){var c=h[i];this.addGroup(c.start,c.count,c.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),rr.prototype=(0,p.default)(Vi.prototype),rr.prototype.constructor=rr,nr.prototype=(0,p.default)(ir.prototype),nr.prototype.constructor=nr,ar.prototype=(0,p.default)(Vi.prototype),ar.prototype.constructor=ar,or.prototype=(0,p.default)(ir.prototype),or.prototype.constructor=or;var sr=0;function ur(){Object.defineProperty(this,"id",{value:sr++}),this.uuid=Re.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=P,this.side=_,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=A,this.opacity=1,this.transparent=!1,this.blendSrc=V,this.blendDst=W,this.blendEquation=B,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.userData={},this.needsUpdate=!0}ur.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:ur,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var i=t[e];if(void 0!==i)if("shading"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:this.type}else this.type,this.flatShading=1===i}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var i in t){var r=t[i];delete r.metadata,e.push(r)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==_&&(i.side=this.side),this.vertexColors!==A&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==(0,h.default)(this.userData)&&(i.userData=this.userData),e){var n=r(t.textures),a=r(t.images);n.length>0&&(i.textures=n),a.length>0&&(i.images=a)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.userData=JSON.parse((0,h.default)(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,i=null;if(null!==e){var r=e.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var lr,hr,cr,pr,dr,fr,mr,vr,gr,yr,xr,br,wr="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",_r="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";function Mr(t){ur.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=wr,this.fragmentShader=_r,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(t.attributes,this.setValues(t))}function Sr(t,e){this.origin=void 0!==t?t:new ke,this.direction=void 0!==e?e:new ke}function Ar(t,e,i){this.a=void 0!==t?t:new ke,this.b=void 0!==e?e:new ke,this.c=void 0!==i?i:new ke}function Tr(t){ur.call(this),this.type="MeshBasicMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Lr(t,e){Fi.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Tr({color:16777215*Math.random()}),this.drawMode=Ae,this.updateMorphTargets()}function Pr(t,e,i,r){var n,a,o=new Mi(0),s=0,u=null,l=0;function h(t,i){e.buffers.color.setClear(t.r,t.g,t.b,i,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),h(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){h(o,s=t)},render:function(e,r,c,p){var d=r.background,f=t.vr,m=f.getSession&&f.getSession();if(m&&"additive"===m.environmentBlendMode&&(d=null),null===d?(h(o,s),u=null,l=0):d&&d.isColor&&(h(d,1),p=!0,u=null,l=0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLRenderTargetCube)){void 0===a&&((a=new Lr(new nr(1,1,1),new Mr({type:"BackgroundCubeMaterial",uniforms:vi(Ti.cube.uniforms),vertexShader:Ti.cube.vertexShader,fragmentShader:Ti.cube.fragmentShader,side:M,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),i.update(a));var v=d.isWebGLRenderTargetCube?d.texture:d;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=d.isWebGLRenderTargetCube?1:-1,u===d&&l===v.version||(a.material.needsUpdate=!0,u=d,l=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else d&&d.isTexture&&(void 0===n&&((n=new Lr(new or(2,2),new Mr({type:"BackgroundMaterial",uniforms:vi(Ti.background.uniforms),vertexShader:Ti.background.vertexShader,fragmentShader:Ti.background.fragmentShader,side:_,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(n.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(n)),n.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),n.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&l===d.version||(n.material.needsUpdate=!0,u=d,l=d.version),e.unshift(n,n.geometry,n.material,0,0,null))}}}function Cr(t,e,i,r){var n;this.setMode=function(t){n=t},this.render=function(e,r){t.drawArrays(n,e,r),i.update(r,n)},this.renderInstances=function(a,o,s){var u;if(r.isWebGL2)u=t;else if(null===(u=e.get("ANGLE_instanced_arrays")))return;u[r.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](n,o,s,a.maxInstancedCount),i.update(s,n,a.maxInstancedCount)}}function Er(t,e,i){var r;function n(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==i.precision?i.precision:"highp",s=n(o);s!==o&&(o=s);var u=!0===i.logarithmicDepthBuffer,l=t.getParameter(34930),h=t.getParameter(35660),c=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),v=t.getParameter(36349),g=h>0,y=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var i=e.get("EXT_texture_filter_anisotropic");return r=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:n,precision:o,logarithmicDepthBuffer:u,maxTextures:l,maxVertexTextures:h,maxTextureSize:c,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:g&&y,maxSamples:a?t.getParameter(36183):0}}function Ir(){var t=this,e=null,i=0,r=!1,n=!1,a=new pi,o=new Ge,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function l(e,i,r,n){var u=null!==e?e.length:0,l=null;if(0!==u){if(l=s.value,!0!==n||null===l){var h=r+4*u,c=i.matrixWorldInverse;o.getNormalMatrix(c),(null===l||l.length<h)&&(l=new Float32Array(h));for(var p=0,d=r;p!==u;++p,d+=4)a.copy(e[p]).applyMatrix4(c,o),a.normal.toArray(l,d),l[d+3]=a.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=u,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var o=0!==t.length||n||0!==i||r;return r=n,e=l(t,a,0),i=t.length,o},this.beginShadows=function(){n=!0,l(null)},this.endShadows=function(){n=!1,u()},this.setState=function(t,a,o,h,c,p){if(!r||null===t||0===t.length||n&&!o)n?l(null):u();else{var d=n?0:i,f=4*d,m=c.clippingState||null;s.value=m,m=l(t,h,f,p);for(var v=0;v!==f;++v)m[v]=e[v];c.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}}function Dr(t){var e={};return{get:function(i){if(void 0!==e[i])return e[i];var r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}}}function Br(t,e,i){var r={},n={};function a(t){var o=t.target,s=r[o.id];for(var u in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[u]);o.removeEventListener("dispose",a),delete r[o.id];var l=n[s.id];l&&(e.remove(l),delete n[s.id]),i.memory.geometries--}return{get:function(t,e){var n=r[e.id];return n||(e.addEventListener("dispose",a),e.isBufferGeometry?n=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new ir).setFromObject(t)),n=e._bufferGeometry),r[e.id]=n,i.memory.geometries++,n)},update:function(t){var i=t.index,r=t.attributes;for(var n in null!==i&&e.update(i,34963),r)e.update(r[n],34962);var a=t.morphAttributes;for(var n in a)for(var o=a[n],s=0,u=o.length;s<u;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var i=n[t.id];if(i)return i;var r,a=[],o=t.index,s=t.attributes;if(null!==o)for(var u=0,l=(r=o.array).length;u<l;u+=3){var h=r[u+0],c=r[u+1],p=r[u+2];a.push(h,c,c,p,p,h)}else for(u=0,l=(r=s.position.array).length/3-1;u<l;u+=3)h=u+0,c=u+1,p=u+2,a.push(h,c,c,p,p,h);return i=new(tr(a)>65535?Zi:Yi)(a,1),e.update(i,34963),n[t.id]=i,i}}}function Or(t,e,i,r){var n,a,o;this.setMode=function(t){n=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(n,r,a,e*o),i.update(r,n)},this.renderInstances=function(s,u,l){var h;if(r.isWebGL2)h=t;else if(null===(h=e.get("ANGLE_instanced_arrays")))return;h[r.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](n,l,a,u*o,s.maxInstancedCount),i.update(l,n,s.maxInstancedCount)}}function zr(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,r){switch(r=r||1,e.calls++,i){case 4:e.triangles+=r*(t/3);break;case 5:case 6:e.triangles+=r*(t-2);break;case 1:e.lines+=r*(t/2);break;case 3:e.lines+=r*(t-1);break;case 2:e.lines+=r*t;break;case 0:e.points+=r*t}}}}function Nr(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Rr(t){var e={},i=new Float32Array(8);return{update:function(r,n,a,o){var s=r.morphTargetInfluences,u=s.length,l=e[n.id];if(void 0===l){l=[];for(var h=0;h<u;h++)l[h]=[h,0];e[n.id]=l}var c=a.morphTargets&&n.morphAttributes.position,p=a.morphNormals&&n.morphAttributes.normal;for(h=0;h<u;h++)0!==(d=l[h])[1]&&(c&&n.removeAttribute("morphTarget"+h),p&&n.removeAttribute("morphNormal"+h));for(h=0;h<u;h++)(d=l[h])[0]=h,d[1]=s[h];for(l.sort(Nr),h=0;h<8;h++){var d;if(d=l[h]){var f=d[0],m=d[1];if(m){c&&n.addAttribute("morphTarget"+h,c[f]),p&&n.addAttribute("morphNormal"+h,p[f]),i[h]=m;continue}}i[h]=0}o.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Fr(t,e){var i={};return{update:function(r){var n=e.render.frame,a=r.geometry,o=t.get(r,a);return i[o.id]!==n&&(a.isGeometry&&o.updateFromObject(r),t.update(o),i[o.id]=n),o},dispose:function(){i={}}}}function Ur(t,e,i,r,n,a,o,s,u,l){t=void 0!==t?t:[],e=void 0!==e?e:dt,o=void 0!==o?o:Vt,ni.call(this,t,e,i,r,n,a,o,s,u,l),this.flipY=!1}function kr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}function Gr(t,e,i,r){ni.call(this,null),this.image={data:t,width:e,height:i,depth:r},this.magFilter=Mt,this.minFilter=Mt,this.wrapR=wt,this.generateMipmaps=!1,this.flipY=!1}Mr.prototype=(0,p.default)(ur.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isShaderMaterial=!0,Mr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=vi(t.uniforms),this.defines=(0,f.default)({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Mr.prototype.toJSON=function(t){var e=ur.prototype.toJSON.call(this,t);for(var i in e.uniforms={},this.uniforms){var r=this.uniforms[i].value;r&&r.isTexture?e.uniforms[i]={type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?e.uniforms[i]={type:"c",value:r.getHex()}:r&&r.isVector2?e.uniforms[i]={type:"v2",value:r.toArray()}:r&&r.isVector3?e.uniforms[i]={type:"v3",value:r.toArray()}:r&&r.isVector4?e.uniforms[i]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?e.uniforms[i]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?e.uniforms[i]={type:"m4",value:r.toArray()}:e.uniforms[i]={value:r}}(0,l.default)(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var n={};for(var a in this.extensions)!0===this.extensions[a]&&(n[a]=!0);return(0,l.default)(n).length>0&&(e.extensions=n),e},(0,f.default)(Sr.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(e=new ke),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new ke;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(e=new ke),e.subVectors(t,this.origin);var i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new ke;return function(e){var i=t.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(i).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(hr=new ke,cr=new ke,pr=new ke,function(t,e,i,r){hr.copy(t).add(e).multiplyScalar(.5),cr.copy(e).sub(t).normalize(),pr.copy(this.origin).sub(hr);var n,a,o,s,u=.5*t.distanceTo(e),l=-this.direction.dot(cr),h=pr.dot(this.direction),c=-pr.dot(cr),p=pr.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*h-c,s=u*d,(n=l*c-h)>=0)if(a>=-s)if(a<=s){var f=1/d;o=(n*=f)*(n+l*(a*=f)+2*h)+a*(l*n+a+2*c)+p}else a=u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a=-u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;else a<=-s?o=-(n=Math.max(0,-(-l*u+h)))*n+(a=n>0?-u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p:a<=s?(n=0,o=(a=Math.min(Math.max(-u,-c),u))*(a+2*c)+p):o=-(n=Math.max(0,-(l*u+h)))*n+(a=n>0?u:Math.min(Math.max(-u,-c),u))*(a+2*c)+p;else a=l>0?-u:u,o=-(n=Math.max(0,-(l*a+h)))*n+a*(a+2*c)+p;return i&&i.copy(this.direction).multiplyScalar(n).add(this.origin),r&&r.copy(cr).multiplyScalar(a).add(hr),o}),intersectSphere:function(){var t=new ke;return function(e,i){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),n=t.dot(t)-r*r,a=e.radius*e.radius;if(n>a)return null;var o=Math.sqrt(a-n),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,i):this.at(s,i)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null},intersectPlane:function(t,e){var i=this.distanceToPlane(t);return null===i?null:this.at(i,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var i,r,n,a,o,s,u=1/this.direction.x,l=1/this.direction.y,h=1/this.direction.z,c=this.origin;return u>=0?(i=(t.min.x-c.x)*u,r=(t.max.x-c.x)*u):(i=(t.max.x-c.x)*u,r=(t.min.x-c.x)*u),l>=0?(n=(t.min.y-c.y)*l,a=(t.max.y-c.y)*l):(n=(t.max.y-c.y)*l,a=(t.min.y-c.y)*l),i>a||n>r?null:((n>i||i!=i)&&(i=n),(a<r||r!=r)&&(r=a),h>=0?(o=(t.min.z-c.z)*h,s=(t.max.z-c.z)*h):(o=(t.max.z-c.z)*h,s=(t.min.z-c.z)*h),i>s||o>r?null:((o>i||i!=i)&&(i=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(i>=0?i:r,e)))},intersectsBox:(lr=new ke,function(t){return null!==this.intersectBox(t,lr)}),intersectTriangle:function(){var t=new ke,e=new ke,i=new ke,r=new ke;return function(n,a,o,s,u){e.subVectors(a,n),i.subVectors(o,n),r.crossVectors(e,i);var l,h=this.direction.dot(r);if(h>0){if(s)return null;l=1}else{if(!(h<0))return null;l=-1,h=-h}t.subVectors(this.origin,n);var c=l*this.direction.dot(i.crossVectors(t,i));if(c<0)return null;var p=l*this.direction.dot(e.cross(t));if(p<0)return null;if(c+p>h)return null;var d=-l*t.dot(r);return d<0?null:this.at(d/h,u)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),(0,f.default)(Ar,{getNormal:(fr=new ke,function(t,e,i,r){void 0===r&&(r=new ke),r.subVectors(i,e),fr.subVectors(t,e),r.cross(fr);var n=r.lengthSq();return n>0?r.multiplyScalar(1/Math.sqrt(n)):r.set(0,0,0)}),getBarycoord:function(){var t=new ke,e=new ke,i=new ke;return function(r,n,a,o,s){t.subVectors(o,n),e.subVectors(a,n),i.subVectors(r,n);var u=t.dot(t),l=t.dot(e),h=t.dot(i),c=e.dot(e),p=e.dot(i),d=u*c-l*l;if(void 0===s&&(s=new ke),0===d)return s.set(-2,-1,-1);var f=1/d,m=(c*h-l*p)*f,v=(u*p-l*h)*f;return s.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new ke;return function(e,i,r,n){return Ar.getBarycoord(e,i,r,n,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:(dr=new ke,function(t,e,i,r,n,a,o,s){return this.getBarycoord(t,e,i,r,dr),s.set(0,0),s.addScaledVector(n,dr.x),s.addScaledVector(a,dr.y),s.addScaledVector(o,dr.z),s}),isFrontFacing:function(){var t=new ke,e=new ke;return function(i,r,n,a){return t.subVectors(n,r),e.subVectors(i,r),t.cross(e).dot(a)<0}}()}),(0,f.default)(Ar.prototype,{set:function(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this},setFromPointsAndIndices:function(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new ke,e=new ke;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(t=new ke),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return Ar.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(t=new ke),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return Ar.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,i,r,n){return Ar.getUV(t,this.a,this.b,this.c,e,i,r,n)},containsPoint:function(t){return Ar.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return Ar.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:(mr=new ke,vr=new ke,gr=new ke,yr=new ke,xr=new ke,br=new ke,function(t,e){void 0===e&&(e=new ke);var i,r,n=this.a,a=this.b,o=this.c;mr.subVectors(a,n),vr.subVectors(o,n),yr.subVectors(t,n);var s=mr.dot(yr),u=vr.dot(yr);if(s<=0&&u<=0)return e.copy(n);xr.subVectors(t,a);var l=mr.dot(xr),h=vr.dot(xr);if(l>=0&&h<=l)return e.copy(a);var c=s*h-l*u;if(c<=0&&s>=0&&l<=0)return i=s/(s-l),e.copy(n).addScaledVector(mr,i);br.subVectors(t,o);var p=mr.dot(br),d=vr.dot(br);if(d>=0&&p<=d)return e.copy(o);var f=p*u-s*d;if(f<=0&&u>=0&&d<=0)return r=u/(u-d),e.copy(n).addScaledVector(vr,r);var m=l*d-p*h;if(m<=0&&h-l>=0&&p-d>=0)return gr.subVectors(o,a),r=(h-l)/(h-l+(p-d)),e.copy(a).addScaledVector(gr,r);var v=1/(m+f+c);return i=f*v,r=c*v,e.copy(n).addScaledVector(mr,i).addScaledVector(vr,r)}),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Tr.prototype=(0,p.default)(ur.prototype),Tr.prototype.constructor=Tr,Tr.prototype.isMeshBasicMaterial=!0,Tr.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Lr.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Lr,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Fi.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=(0,f.default)({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,i,r=this.geometry;if(r.isBufferGeometry){var n=r.morphAttributes,a=(0,l.default)(n);if(a.length>0){var o=n[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)i=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}else{var s=r.morphTargets;void 0!==s&&s.length}},raycast:function(){var t=new fi,e=new Sr,i=new ci,r=new ke,n=new ke,a=new ke,o=new ke,s=new ke,u=new ke,l=new ke,h=new ke,c=new ke,p=new Fe,d=new Fe,f=new Fe,m=new ke,v=new ke;function g(t,e,i,r,n,a,o,s){if(null===(e.side===M?r.intersectTriangle(o,a,n,!0,s):r.intersectTriangle(n,a,o,e.side!==S,s)))return null;v.copy(s),v.applyMatrix4(t.matrixWorld);var u=i.ray.origin.distanceTo(v);return u<i.near||u>i.far?null:{distance:u,point:v.clone(),object:t}}function y(t,e,i,v,y,x,b,w,_,M){r.fromBufferAttribute(y,w),n.fromBufferAttribute(y,_),a.fromBufferAttribute(y,M);var S=t.morphTargetInfluences;if(e){if(e.morphTargets&&x&&S){l.set(0,0,0),h.set(0,0,0),c.set(0,0,0);for(var A=0,T=x.length;A<T;A++){var L=S[A],P=x[A];0!==L&&(o.fromBufferAttribute(P,w),s.fromBufferAttribute(P,_),u.fromBufferAttribute(P,M),l.addScaledVector(o.sub(r),L),h.addScaledVector(s.sub(n),L),c.addScaledVector(u.sub(a),L))}r.add(l),n.add(h),a.add(c)}var C=g(t,e,i,v,r,n,a,m);if(C){b&&(p.fromBufferAttribute(b,w),d.fromBufferAttribute(b,_),f.fromBufferAttribute(b,M),C.uv=Ar.getUV(m,r,n,a,p,d,f,new Fe));var E=new Ci(w,_,M);Ar.getNormal(r,n,a,E.normal),C.face=E}return C}}return function(r,n){var a,o=this.geometry,s=this.material,u=this.matrixWorld;if(void 0!==s&&(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(u),!1!==r.ray.intersectsSphere(i)&&(t.getInverse(u),e.copy(r.ray).applyMatrix4(t),null===o.boundingBox||!1!==e.intersectsBox(o.boundingBox))))if(o.isBufferGeometry){var l,h,c,v,x,b,w,_,M,S,A,T=o.index,L=o.attributes.position,P=o.morphAttributes.position,C=o.attributes.uv,E=o.groups,I=o.drawRange;if(null!==T)if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],x=S=Math.max(_.start,I.start),w=A=Math.min(_.start+_.count,I.start+I.count);x<w;x+=3)l=T.getX(x),h=T.getX(x+1),c=T.getX(x+2),(a=y(this,M,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(x/3),a.face.materialIndex=_.materialIndex,n.push(a));else for(v=S=Math.max(0,I.start),b=A=Math.min(T.count,I.start+I.count);v<b;v+=3)l=T.getX(v),h=T.getX(v+1),c=T.getX(v+2),(a=y(this,s,r,e,L,P,C,l,h,c))&&(a.faceIndex=Math.floor(v/3),n.push(a));else if(void 0!==L){var D=1==this.drawMode,B=D?1:3;if(Array.isArray(s))for(v=0,b=E.length;v<b;v++)for(M=s[(_=E[v]).materialIndex],S=Math.max(_.start,I.start),A=Math.min(_.start+_.count,I.start+I.count),A=Math.min(A,L.count),D&&(A-=2),x=S,w=A;x<w;x+=B)(a=y(this,M,r,e,L,P,C,l=x,h=x+1,c=x+2))&&(a.faceIndex=Math.floor(x/B),a.face.materialIndex=_.materialIndex,n.push(a));else for(S=Math.max(0,I.start),A=Math.min(L.count,I.start+I.count),D&&(A-=2),v=S,b=A;v<b;v+=B)(a=y(this,s,r,e,L,P,C,l=v,h=v+1,c=v+2))&&(a.faceIndex=Math.floor(v/B),n.push(a))}}else if(o.isGeometry){var O,z,N,R,F=Array.isArray(s),U=o.vertices,k=o.faces,G=o.faceVertexUvs[0];G.length>0&&(R=G);for(var V=0,W=k.length;V<W;V++){var H=k[V],j=F?s[H.materialIndex]:s;if(void 0!==j&&(O=U[H.a],z=U[H.b],N=U[H.c],a=g(this,j,r,e,O,z,N,m))){if(R&&R[V]){var X=R[V];p.copy(X[0]),d.copy(X[1]),f.copy(X[2]),a.uv=Ar.getUV(m,O,z,N,p,d,f,new Fe)}a.face=H,a.faceIndex=V,n.push(a)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ur.prototype=(0,p.default)(ni.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isCubeTexture=!0,Object.defineProperty(Ur.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),kr.prototype=(0,p.default)(ni.prototype),kr.prototype.constructor=kr,kr.prototype.isDataTexture2DArray=!0,Gr.prototype=(0,p.default)(ni.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isDataTexture3D=!0;var Vr=new ni,Wr=new kr,Hr=new Gr,jr=new Ur,Xr=[],qr=[],Yr=new Float32Array(16),Jr=new Float32Array(9),Zr=new Float32Array(4);function Qr(t,e,i){var r=t[0];if(r<=0||r>0)return t;var n=e*i,a=Xr[n];if(void 0===a&&(a=new Float32Array(n),Xr[n]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=i,t[o].toArray(a,s)}return a}function Kr(t,e){if(t.length!==e.length)return!1;for(var i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function $r(t,e){for(var i=0,r=e.length;i<r;i++)t[i]=e[i]}function tn(t,e){var i=qr[e];void 0===i&&(i=new Int32Array(e),qr[e]=i);for(var r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function en(t,e){var i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function rn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Kr(i,e))return;t.uniform2fv(this.addr,e),$r(i,e)}}function nn(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Kr(i,e))return;t.uniform3fv(this.addr,e),$r(i,e)}}function an(t,e){var i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Kr(i,e))return;t.uniform4fv(this.addr,e),$r(i,e)}}function on(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Zr.set(r),t.uniformMatrix2fv(this.addr,!1,Zr),$r(i,r)}}function sn(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Jr.set(r),t.uniformMatrix3fv(this.addr,!1,Jr),$r(i,r)}}function un(t,e){var i=this.cache,r=e.elements;if(void 0===r){if(Kr(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),$r(i,e)}else{if(Kr(i,r))return;Yr.set(r),t.uniformMatrix4fv(this.addr,!1,Yr),$r(i,r)}}function ln(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTexture2D(e||Vr,n)}function hn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture2DArray(e||Wr,n)}function cn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.setTexture3D(e||Hr,n)}function pn(t,e,i){var r=this.cache,n=i.allocateTextureUnit();r[0]!==n&&(t.uniform1i(this.addr,n),r[0]=n),i.safeSetTextureCube(e||jr,n)}function dn(t,e){var i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function fn(t,e){var i=this.cache;Kr(i,e)||(t.uniform2iv(this.addr,e),$r(i,e))}function mn(t,e){var i=this.cache;Kr(i,e)||(t.uniform3iv(this.addr,e),$r(i,e))}function vn(t,e){var i=this.cache;Kr(i,e)||(t.uniform4iv(this.addr,e),$r(i,e))}function gn(t,e){t.uniform1fv(this.addr,e)}function yn(t,e){t.uniform1iv(this.addr,e)}function xn(t,e){t.uniform2iv(this.addr,e)}function bn(t,e){t.uniform3iv(this.addr,e)}function wn(t,e){t.uniform4iv(this.addr,e)}function _n(t,e){var i=Qr(e,this.size,2);t.uniform2fv(this.addr,i)}function Mn(t,e){var i=Qr(e,this.size,3);t.uniform3fv(this.addr,i)}function Sn(t,e){var i=Qr(e,this.size,4);t.uniform4fv(this.addr,i)}function An(t,e){var i=Qr(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Tn(t,e){var i=Qr(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Ln(t,e){var i=Qr(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Pn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTexture2D(e[a]||Vr,n[a])}function Cn(t,e,i){var r=e.length,n=tn(i,r);t.uniform1iv(this.addr,n);for(var a=0;a!==r;++a)i.safeSetTextureCube(e[a]||jr,n[a])}function En(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return en;case 35664:return rn;case 35665:return nn;case 35666:return an;case 35674:return on;case 35675:return sn;case 35676:return un;case 35678:case 36198:return ln;case 35679:return cn;case 35680:return pn;case 36289:return hn;case 5124:case 35670:return dn;case 35667:case 35671:return fn;case 35668:case 35672:return mn;case 35669:case 35673:return vn}}(e.type)}function In(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return gn;case 35664:return _n;case 35665:return Mn;case 35666:return Sn;case 35674:return An;case 35675:return Tn;case 35676:return Ln;case 35678:return Pn;case 35680:return Cn;case 5124:case 35670:return yn;case 35667:case 35671:return xn;case 35668:case 35672:return bn;case 35669:case 35673:return wn}}(e.type)}function Dn(t){this.id=t,this.seq=[],this.map={}}In.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),$r(e,t)},Dn.prototype.setValue=function(t,e,i){for(var r=this.seq,n=0,a=r.length;n!==a;++n){var o=r[n];o.setValue(t,e[o.id],i)}};var Bn=/([\w\d_]+)(\])?(\[|\.)?/g;function On(t,e){t.seq.push(e),t.map[e.id]=e}function zn(t,e,i){var r=t.name,n=r.length;for(Bn.lastIndex=0;;){var a=Bn.exec(r),o=Bn.lastIndex,s=a[1],u="]"===a[2],l=a[3];if(u&&(s|=0),void 0===l||"["===l&&o+2===n){On(i,void 0===l?new En(s,t,e):new In(s,t,e));break}var h=i.map[s];void 0===h&&On(i,h=new Dn(s)),i=h}}function Nn(t,e){this.seq=[],this.map={};for(var i=t.getProgramParameter(e,35718),r=0;r<i;++r){var n=t.getActiveUniform(e,r);zn(n,t.getUniformLocation(e,n.name),this)}}function Rn(t,e,i,r){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),!0===r&&(t.getShaderParameter(n,35713),""!==t.getShaderInfoLog(n)&&(t.getShaderInfoLog(n),function(t){for(var e=t.split("\n"),i=0;i<e.length;i++)e[i]=i+1+": "+e[i];e.join("\n")}(i))),n}Nn.prototype.setValue=function(t,e,i,r){var n=this.map[e];void 0!==n&&n.setValue(t,i,r)},Nn.prototype.setOptional=function(t,e,i){var r=e[i];void 0!==r&&this.setValue(t,i,r)},Nn.upload=function(t,e,i,r){for(var n=0,a=e.length;n!==a;++n){var o=e[n],s=i[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},Nn.seqWithValue=function(t,e){for(var i=[],r=0,n=t.length;r!==n;++r){var a=t[r];a.id in e&&i.push(a)}return i};var Fn=0;function Un(t){switch(t){case Te:return["Linear","( value )"];case Le:return["sRGB","( value )"];case Ce:return["RGBE","( value )"];case Ee:return["RGBM","( value, 7.0 )"];case Ie:return["RGBM","( value, 16.0 )"];case De:return["RGBD","( value, 256.0 )"];case Pe:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function kn(t,e){var i=Un(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Gn(t,e){var i;switch(e){case st:i="Linear";break;case ut:i="Reinhard";break;case lt:i="Uncharted2";break;case ht:i="OptimizedCineon";break;case ct:i="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Vn(t){return""!==t}function Wn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Hn(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function jn(t){return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(t,e){var i=mi[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return jn(i)}))}function Xn(t){return t.replace(/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,i,r){for(var n="",a=parseInt(e);a<parseInt(i);a++)n+=r.replace(/\[ i \]/g,"[ "+a+" ]");return n}))}function qn(t,e,i,r,n,a,o,s){var u=t.context,l=r.defines,h=n.vertexShader,c=n.fragmentShader,p="SHADOWMAP_TYPE_BASIC";a.shadowMapType===b?p="SHADOWMAP_TYPE_PCF":a.shadowMapType===w&&(p="SHADOWMAP_TYPE_PCF_SOFT");var f="ENVMAP_TYPE_CUBE",m="ENVMAP_MODE_REFLECTION",v="ENVMAP_BLENDING_MULTIPLY";if(a.envMap){switch(r.envMap.mapping){case dt:case ft:f="ENVMAP_TYPE_CUBE";break;case yt:case xt:f="ENVMAP_TYPE_CUBE_UV";break;case mt:case vt:f="ENVMAP_TYPE_EQUIREC";break;case gt:f="ENVMAP_TYPE_SPHERE"}switch(r.envMap.mapping){case ft:case vt:m="ENVMAP_MODE_REFRACTION"}switch(r.combine){case rt:v="ENVMAP_BLENDING_MULTIPLY";break;case nt:v="ENVMAP_BLENDING_MIX";break;case at:v="ENVMAP_BLENDING_ADD"}}var g,y,x,_,M,S=t.gammaFactor>0?t.gammaFactor:1,A=o.isWebGL2?"":function(t,e,i){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vn).join("\n")}(r.extensions,a,e),T=function(t){var e=[];for(var i in t){var r=t[i];!1!==r&&e.push("#define "+i+" "+r)}return e.join("\n")}(l),L=u.createProgram();if(r.isRawShaderMaterial?((g=[T].filter(Vn).join("\n")).length>0&&(g+="\n"),(y=[A,T].filter(Vn).join("\n")).length>0&&(y+="\n")):(g=["precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+m:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Vn).join("\n"),y=[A,"precision "+a.precision+" float;","precision "+a.precision+" int;","#define SHADER_NAME "+n.name,T,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+S,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+f:"",a.envMap?"#define "+m:"",a.envMap?"#define "+v:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+p:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",a.envMap&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",a.toneMapping!==ot?"#define TONE_MAPPING":"",a.toneMapping!==ot?mi.tonemapping_pars_fragment:"",a.toneMapping!==ot?Gn("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?mi.encodings_pars_fragment:"",a.mapEncoding?kn("mapTexelToLinear",a.mapEncoding):"",a.matcapEncoding?kn("matcapTexelToLinear",a.matcapEncoding):"",a.envMapEncoding?kn("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMapEncoding?kn("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.outputEncoding?(x="linearToOutputTexel",_=a.outputEncoding,M=Un(_),"vec4 "+x+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",a.depthPacking?"#define DEPTH_PACKING "+r.depthPacking:"","\n"].filter(Vn).join("\n")),h=Hn(h=Wn(h=jn(h),a),a),c=Hn(c=Wn(c=jn(c),a),a),h=Xn(h),c=Xn(c),o.isWebGL2&&!r.isRawShaderMaterial){var P=!1,C=/^\s*#version\s+300\s+es\s*\n/;r.isShaderMaterial&&null!==h.match(C)&&null!==c.match(C)&&(P=!0,h=h.replace(C,""),c=c.replace(C,"")),g=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,y=["#version 300 es\n","#define varying in",P?"":"out highp vec4 pc_fragColor;",P?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y}var E,I,D=y+c,B=Rn(u,35633,g+h,t.debug.checkShaderErrors),O=Rn(u,35632,D,t.debug.checkShaderErrors);if(u.attachShader(L,B),u.attachShader(L,O),void 0!==r.index0AttributeName?u.bindAttribLocation(L,0,r.index0AttributeName):!0===a.morphTargets&&u.bindAttribLocation(L,0,"position"),u.linkProgram(L),t.debug.checkShaderErrors){var z=u.getProgramInfoLog(L).trim(),N=u.getShaderInfoLog(B).trim(),R=u.getShaderInfoLog(O).trim(),F=!0,U=!0;!1===u.getProgramParameter(L,35714)?(F=!1,u.getError(),u.getProgramParameter(L,35715)):""!==z||""!==N&&""!==R||(U=!1),U&&(this.diagnostics={runnable:F,material:r,programLog:z,vertexShader:{log:N,prefix:g},fragmentShader:{log:R,prefix:y}})}return u.deleteShader(B),u.deleteShader(O),this.getUniforms=function(){return void 0===E&&(E=new Nn(u,L,s)),E},this.getAttributes=function(){return void 0===I&&(I=function(t,e){for(var i={},r=t.getProgramParameter(e,35721),n=0;n<r;n++){var a=t.getActiveAttrib(e,n).name;i[a]=t.getAttribLocation(e,a)}return i}(u,L)),I},this.destroy=function(){u.deleteProgram(L),this.program=void 0},(0,d.default)(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.name=n.name,this.id=Fn++,this.code=i,this.usedTimes=1,this.program=L,this.vertexShader=B,this.fragmentShader=O,this}function Yn(t,e,i,r){var n=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function s(t,e){var i;return t?t.isTexture?i=t.encoding:t.isWebGLRenderTarget&&(i=t.texture.encoding):i=Te,i===Te&&e&&(i=Pe),i}this.getParameters=function(e,r,n,o,u,l,h){var c=a[e.type],p=h.isSkinnedMesh?function(t){var e=t.skeleton;if(!e)return 0;var r=e.bones;if(i.floatVertexTextures)return 1024;var n=i.maxVertexUniforms,a=Math.floor((n-20)/4),o=Math.min(a,r.length);return o<r.length?(r.length,0):o}(h):0,d=i.precision;null!==e.precision&&(d=i.getMaxPrecision(e.precision))!==e.precision&&e.precision;var f=t.getRenderTarget();return{shaderID:c,precision:d,supportsVertexTextures:i.vertexTextures,outputEncoding:s(f?f.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===yt||e.envMap.mapping===xt),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ne,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,fog:!!o,useFog:e.fog,fogExp:o&&o.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:e.skinning&&p>0,maxBones:p,useVertexTexture:i.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:u,numClipIntersection:l,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&n.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===S,flipSided:e.side===M,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,i){var r=[];if(i.shaderID?r.push(i.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)r.push(n),r.push(e.defines[n]);for(var a=0;a<o.length;a++)r.push(i[o[a]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.push(t.gammaFactor),r.join()},this.acquireProgram=function(a,o,s,u){for(var l,h=0,c=n.length;h<c;h++){var p=n[h];if(p.code===u){++(l=p).usedTimes;break}}return void 0===l&&(l=new qn(t,e,u,a,o,s,i,r),n.push(l)),l},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n}function Jn(){var t=new c.default;return{get:function(e){var i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,r){t.get(e)[i]=r},dispose:function(){t=new c.default}}}function Zn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Qn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Kn(){var t=[],e=0,i=[],r=[],n={id:-1};function a(i,r,a,o,s,u){var l=t[e];return void 0===l?(l={id:i.id,object:i,geometry:r,material:a,program:a.program||n,groupOrder:o,renderOrder:i.renderOrder,z:s,group:u},t[e]=l):(l.id=i.id,l.object=i,l.geometry=r,l.material=a,l.program=a.program||n,l.groupOrder=o,l.renderOrder=i.renderOrder,l.z=s,l.group=u),e++,l}return{opaque:i,transparent:r,init:function(){e=0,i.length=0,r.length=0},push:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).push(l)},unshift:function(t,e,n,o,s,u){var l=a(t,e,n,o,s,u);(!0===n.transparent?r:i).unshift(l)},sort:function(){i.length>1&&i.sort(Zn),r.length>1&&r.sort(Qn)}}}function $n(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n,a=t[i.id];return void 0===a?(n=new Kn,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===(n=a[r.id])&&(n=new Kn,a[r.id]=n),n},dispose:function(){t={}}}}function ta(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var i;switch(e.type){case"DirectionalLight":i={direction:new ke,color:new Mi,shadow:!1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"SpotLight":i={position:new ke,direction:new ke,color:new Mi,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe};break;case"PointLight":i={position:new ke,color:new Mi,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Fe,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new ke,skyColor:new Mi,groundColor:new Mi};break;case"RectAreaLight":i={color:new Mi,position:new ke,halfWidth:new ke,halfHeight:new ke}}return t[e.id]=i,i}}}var ea=0;function ia(){for(var t=new ta,e={id:ea++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowBias:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=0;i<9;i++)e.probe.push(new ke);var r=new ke,n=new fi,a=new fi;return{setup:function(i,o,s){for(var u=0,l=0,h=0,c=0;c<9;c++)e.probe[c].set(0,0,0);for(var p=0,d=0,f=0,m=0,v=0,g=s.matrixWorldInverse,y=(c=0,i.length);c<y;c++){var x=i[c],b=x.color,w=x.intensity,_=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)u+=b.r*w,l+=b.g*w,h+=b.b*w;else if(x.isLightProbe)for(var S=0;S<9;S++)e.probe[S].addScaledVector(x.sh.coefficients[S],w);else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var A=x.shadow;T.shadowBias=A.bias,T.shadowNormalBias=A.normalBias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize}e.directionalShadowMap[p]=M,e.directionalShadowBias[p]=x.shadow.normalBias,e.directionalShadowMatrix[p]=x.shadow.matrix,e.directional[p]=T,p++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(w),T.distance=_,T.direction.setFromMatrixPosition(x.matrixWorld),r.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(r),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize),e.spotShadowMap[f]=M,e.spotShadowMatrix[f]=x.shadow.matrix,e.spot[f]=T,f++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(w),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),a.identity(),n.copy(x.matrixWorld),n.premultiply(g),a.extractRotation(n),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),e.rectArea[m]=T,m++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(A=x.shadow,T.shadowBias=A.bias,T.shadowRadius=A.radius,T.shadowMapSize=A.mapSize,T.shadowCameraNear=A.camera.near,T.shadowCameraFar=A.camera.far),e.pointShadowMap[d]=M,e.pointShadowMatrix[d]=x.shadow.matrix,e.point[d]=T,d++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(w),T.groundColor.copy(x.groundColor).multiplyScalar(w),e.hemi[v]=T,v++}}e.ambient[0]=u,e.ambient[1]=l,e.ambient[2]=h,e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=v,e.hash.stateID=e.id,e.hash.directionalLength=p,e.hash.pointLength=d,e.hash.spotLength=f,e.hash.rectAreaLength=m,e.hash.hemiLength=v,e.hash.shadowsLength=o.length},state:e}}function ra(){var t=new ia,e=[],i=[];return{init:function(){e.length=0,i.length=0},state:{lightsArray:e,shadowsArray:i,lights:t},setupLights:function(r){t.setup(e,i,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){i.push(t)}}}function na(){var t={};function e(i){var r=i.target;r.removeEventListener("dispose",e),delete t[r.id]}return{get:function(i,r){var n;return void 0===t[i.id]?(n=new ra,t[i.id]={},t[i.id][r.id]=n,i.addEventListener("dispose",e)):void 0===t[i.id][r.id]?(n=new ra,t[i.id][r.id]=n):n=t[i.id][r.id],n},dispose:function(){t={}}}}function aa(t){ur.call(this),this.type="MeshDepthMaterial",this.depthPacking=Be,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function oa(t){ur.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ke,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function sa(t,e,i){for(var r=new di,n=new fi,a=new Fe,o=new Fe(i,i),s=new ke,u=new ke,l=1,h=2,c=1+(l|h),p=new Array(c),d=new Array(c),f={},m={0:M,1:_,2:S},v=[new ke(1,0,0),new ke(-1,0,0),new ke(0,0,1),new ke(0,0,-1),new ke(0,1,0),new ke(0,-1,0)],g=[new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,1,0),new ke(0,0,1),new ke(0,0,-1)],y=[new ai,new ai,new ai,new ai,new ai,new ai],x=0;x!==c;++x){var w=0!=(x&l),A=0!=(x&h),T=new aa({depthPacking:Oe,morphTargets:w,skinning:A});p[x]=T;var P=new oa({morphTargets:w,skinning:A});d[x]=P}var C=this;function E(e,i,r,n,a,o){var s=e.geometry,u=null,c=p,v=e.customDepthMaterial;if(r&&(c=d,v=e.customDistanceMaterial),v)u=v;else{var g=!1;i.morphTargets&&(s&&s.isBufferGeometry?g=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(g=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&i.skinning;var y=e.isSkinnedMesh&&i.skinning,x=0;g&&(x|=l),y&&(x|=h),u=c[x]}if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var b=u.uuid,w=i.uuid,_=f[b];void 0===_&&(_={},f[b]=_);var M=_[w];void 0===M&&(M=u.clone(),_[w]=M),u=M}return u.visible=i.visible,u.wireframe=i.wireframe,u.side=null!=i.shadowSide?i.shadowSide:m[i.side],u.clipShadows=i.clipShadows,u.clippingPlanes=i.clippingPlanes,u.clipIntersection=i.clipIntersection,u.wireframeLinewidth=i.wireframeLinewidth,u.linewidth=i.linewidth,r&&u.isMeshDistanceMaterial&&(u.referencePosition.copy(n),u.nearDistance=a,u.farDistance=o),u}function I(i,n,a,o){if(!1!==i.visible){if(i.layers.test(n.layers)&&(i.isMesh||i.isLine||i.isPoints)&&i.castShadow&&(!i.frustumCulled||r.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,i.matrixWorld);var s=e.update(i),l=i.material;if(Array.isArray(l))for(var h=s.groups,c=0,p=h.length;c<p;c++){var d=h[c],f=l[d.materialIndex];if(f&&f.visible){var m=E(i,f,o,u,a.near,a.far);t.renderBufferDirect(a,null,s,m,i,d)}}else l.visible&&(m=E(i,l,o,u,a.near,a.far),t.renderBufferDirect(a,null,s,m,i,null))}for(var v=i.children,g=0,y=v.length;g<y;g++)I(v[g],n,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b,this.render=function(e,i,l){if(!1!==C.enabled&&(!1!==C.autoUpdate||!1!==C.needsUpdate)&&0!==e.length){var h,c=t.getRenderTarget(),p=t.getActiveCubeFace(),d=t.getActiveMipMapLevel(),f=t.state;f.setBlending(L),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var m=0,x=e.length;m<x;m++){var b=e[m],w=b.shadow,_=b&&b.isPointLight;if(void 0!==w){var M=w.camera;if(a.copy(w.mapSize),a.min(o),_){var S=a.x,A=a.y;y[0].set(2*S,A,S,A),y[1].set(0,A,S,A),y[2].set(3*S,A,S,A),y[3].set(S,A,S,A),y[4].set(3*S,0,S,A),y[5].set(S,0,S,A),a.x*=4,a.y*=2}if(null===w.map){var T={minFilter:Mt,magFilter:Mt,format:Wt};w.map=new oi(a.x,a.y,T),w.map.texture.name=b.name+".shadowMap",M.updateProjectionMatrix()}w.isSpotLightShadow&&w.update(b);var P=w.map,E=w.matrix;u.setFromMatrixPosition(b.matrixWorld),M.position.copy(u),_?(h=6,E.makeTranslation(-u.x,-u.y,-u.z)):(h=1,s.setFromMatrixPosition(b.target.matrixWorld),M.lookAt(s),M.updateMatrixWorld(),E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),E.multiply(M.projectionMatrix),E.multiply(M.matrixWorldInverse)),t.setRenderTarget(P),t.clear();for(var D=0;D<h;D++){if(_){s.copy(M.position),s.add(v[D]),M.up.copy(g[D]),M.lookAt(s),M.updateMatrixWorld();var B=y[D];f.viewport(B)}n.multiplyMatrices(M.projectionMatrix,M.matrixWorldInverse),r.setFromMatrix(n),I(i,l,M,_)}}}C.needsUpdate=!1,t.setRenderTarget(c,p,d)}}}function ua(t,e,i,r){var n=new function(){var e=!1,i=new ai,r=null,n=new ai(0,0,0,0);return{setMask:function(i){r===i||e||(t.colorMask(i,i,i,i),r=i)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),i.set(e,r,a,o),!1===n.equals(i)&&(t.clearColor(e,r,a,o),n.copy(i))},reset:function(){e=!1,r=null,n.set(-1,0,0,0)}}},s=new function(){var e=!1,i=null,r=null,n=null;return{setTest:function(t){t?at(2929):ot(2929)},setMask:function(r){i===r||e||(t.depthMask(r),i=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case J:t.depthFunc(512);break;case Z:t.depthFunc(519);break;case Q:t.depthFunc(513);break;case K:t.depthFunc(515);break;case $:t.depthFunc(514);break;case tt:t.depthFunc(518);break;case et:t.depthFunc(516);break;case it:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);r=e}},setLocked:function(t){e=t},setClear:function(e){n!==e&&(t.clearDepth(e),n=e)},reset:function(){e=!1,i=null,r=null,n=null}}},u=new function(){var e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null;return{setTest:function(t){t?at(2960):ot(2960)},setMask:function(r){i===r||e||(t.stencilMask(r),i=r)},setFunc:function(e,i,o){r===e&&n===i&&a===o||(t.stencilFunc(e,i,o),r=e,n=i,a=o)},setOp:function(e,i,r){o===e&&s===i&&u===r||(t.stencilOp(e,i,r),o=e,s=i,u=r)},setLocked:function(t){e=t},setClear:function(e){l!==e&&(t.clearStencil(e),l=e)},reset:function(){e=!1,i=null,r=null,n=null,a=null,o=null,s=null,u=null,l=null}}},l=t.getParameter(34921),h=new Uint8Array(l),c=new Uint8Array(l),p=new Uint8Array(l),d={},f=null,m=null,v=null,g=null,y=null,b=null,w=null,_=null,A=null,T=null,O=!1,z=null,N=null,R=null,F=null,U=null,k=t.getParameter(35661),G=!1,V=0,W=t.getParameter(7938);-1!==W.indexOf("WebGL")?(V=parseFloat(/^WebGL\ ([0-9])/.exec(W)[1]),G=V>=1):-1!==W.indexOf("OpenGL ES")&&(V=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(W)[1]),G=V>=2);var H=null,j={},X=new ai,q=new ai;function Y(e,i,r){var n=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<r;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,n);return a}var rt={};function nt(i,n){h[i]=1,0===c[i]&&(t.enableVertexAttribArray(i),c[i]=1),p[i]!==n&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,n),p[i]=n)}function at(e){!0!==d[e]&&(t.enable(e),d[e]=!0)}function ot(e){!1!==d[e]&&(t.disable(e),d[e]=!1)}function st(e,r,n,a,o,s,u,l){if(e!==L){if(v||(at(3042),v=!0),e===D)o=o||r,s=s||n,u=u||a,r===y&&o===_||(t.blendEquationSeparate(i.convert(r),i.convert(o)),y=r,_=o),n===b&&a===w&&s===A&&u===T||(t.blendFuncSeparate(i.convert(n),i.convert(a),i.convert(s),i.convert(u)),b=n,w=a,A=s,T=u),g=e,O=null;else if(e!==g||l!==O){if(y===B&&_===B||(t.blendEquation(32774),y=B,_=B),l)switch(e){case P:t.blendFuncSeparate(1,771,1,771);break;case C:t.blendFunc(1,1);break;case E:t.blendFuncSeparate(0,0,769,771);break;case I:t.blendFuncSeparate(0,768,0,770)}else switch(e){case P:t.blendFuncSeparate(770,771,1,771);break;case C:t.blendFunc(770,1);break;case E:t.blendFunc(0,769);break;case I:t.blendFunc(0,768)}b=null,w=null,A=null,T=null,g=e,O=l}}else v&&(ot(3042),v=!1)}function ut(e){z!==e&&(e?t.frontFace(2304):t.frontFace(2305),z=e)}function lt(e){e!==a?(at(2884),e!==N&&(e===o?t.cullFace(1029):e===x?t.cullFace(1028):t.cullFace(1032))):ot(2884),N=e}function ht(e,i,r){e?(at(32823),F===i&&U===r||(t.polygonOffset(i,r),F=i,U=r)):ot(32823)}function ct(e){void 0===e&&(e=33984+k-1),H!==e&&(t.activeTexture(e),H=e)}return rt[3553]=Y(3553,3553,1),rt[34067]=Y(34067,34069,6),n.setClear(0,0,0,1),s.setClear(1),u.setClear(0),at(2929),s.setFunc(K),ut(!1),lt(o),at(2884),st(L),{buffers:{color:n,depth:s,stencil:u},initAttributes:function(){for(var t=0,e=h.length;t<e;t++)h[t]=0},enableAttribute:function(t){nt(t,0)},enableAttributeAndDivisor:nt,disableUnusedAttributes:function(){for(var e=0,i=c.length;e!==i;++e)c[e]!==h[e]&&(t.disableVertexAttribArray(e),c[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var i=t.getParameter(34467),r=0;r<i.length;r++)f.push(i[r]);return f},useProgram:function(e){return m!==e&&(t.useProgram(e),m=e,!0)},setBlending:st,setMaterial:function(t,e){t.side===S?ot(2884):at(2884);var i=t.side===M;e&&(i=!i),ut(i),t.blending===P&&!1===t.transparent?st(L):st(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),n.setMask(t.colorWrite),ht(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:ut,setCullFace:lt,setLineWidth:function(e){e!==R&&(G&&t.lineWidth(e),R=e)},setPolygonOffset:ht,setScissorTest:function(t){t?at(3089):ot(3089)},activeTexture:ct,bindTexture:function(e,i){null===H&&ct();var r=j[H];void 0===r&&(r={type:void 0,texture:void 0},j[H]=r),r.type===e&&r.texture===i||(t.bindTexture(e,i||rt[e]),r.type=e,r.texture=i)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){}},scissor:function(e){!1===X.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),X.copy(e))},viewport:function(e){!1===q.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),q.copy(e))},reset:function(){for(var e=0;e<c.length;e++)1===c[e]&&(t.disableVertexAttribArray(e),c[e]=0);d={},f=null,H=null,j={},m=null,g=null,z=null,N=null,n.reset(),s.reset(),u.reset()}}}function la(t,e,i,r,n,a,o){var s,u={},l="undefined"!=typeof OffscreenCanvas;function h(t,e){return l?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function c(t,e,i,r){var n=1;if((t.width>r||t.height>r)&&(n=r/Math.max(t.width,t.height)),n<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Re.floorPowerOfTwo:Math.floor,o=a(n*t.width),u=a(n*t.height);void 0===s&&(s=h(o,u));var l=i?h(o,u):s;return l.width=o,l.height=u,l.getContext("2d").drawImage(t,0,0,o,u),t.width,t.height,l}return"data"in t&&(t.width,t.height),t}return t}function p(t){return Re.isPowerOfTwo(t.width)&&Re.isPowerOfTwo(t.height)}function d(t,e){return t.generateMipmaps&&e&&t.minFilter!==Mt&&t.minFilter!==Tt}function f(e,i,n,a){t.generateMipmap(e),r.get(i).__maxMipLevel=Math.log(Math.max(n,a))*Math.LOG2E}function m(t,i){if(!n.isWebGL2)return t;var r=t;return 6403===t&&(5126===i&&(r=33326),5131===i&&(r=33325),5121===i&&(r=33321)),6407===t&&(5126===i&&(r=34837),5131===i&&(r=34843),5121===i&&(r=32849)),6408===t&&(5126===i&&(r=34836),5131===i&&(r=34842),5121===i&&(r=32856)),33325!==r&&33326!==r&&34842!==r&&34836!==r||e.get("EXT_color_buffer_float"),r}function v(t){return t===Mt||t===St||t===At?9728:9729}function g(e){var i=e.target;i.removeEventListener("dispose",g),function(e){var i=r.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),r.remove(e))}(i),i.isVideoTexture&&delete u[i.id],o.memory.textures--}function y(e){var i=e.target;i.removeEventListener("dispose",y),function(e){var i=r.get(e),n=r.get(e.texture);if(e){if(void 0!==n.__webglTexture&&t.deleteTexture(n.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(i.__webglFramebuffer[a]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[a]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}}(i),o.memory.textures--}var x=0;function b(t,e){var n=r.get(t);if(t.isVideoTexture&&function(t){var e=t.id,i=o.render.frame;u[e]!==i&&(u[e]=i,t.update())}(t),t.version>0&&n.__version!==t.version){var a=t.image;if(void 0===a);else if(!1!==a.complete)return void A(n,t,e)}i.activeTexture(33984+e),i.bindTexture(3553,n.__webglTexture)}function w(e,o){var s=r.get(e);if(6===e.image.length)if(e.version>0&&s.__version!==e.version){S(s,e),i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var u=e&&e.isCompressedTexture,l=e.image[0]&&e.image[0].isDataTexture,h=[],v=0;v<6;v++)h[v]=u||l?l?e.image[v].image:e.image[v]:c(e.image[v],!1,!0,n.maxCubemapSize);var g=h[0],y=p(g)||n.isWebGL2,x=a.convert(e.format),b=a.convert(e.type),w=m(x,b);for(M(34067,e,y),v=0;v<6;v++)if(u)for(var _,A=h[v].mipmaps,T=0,L=A.length;T<L;T++)_=A[T],e.format!==Wt&&e.format!==Vt?i.getCompressedTextureFormats().indexOf(x)>-1&&i.compressedTexImage2D(34069+v,T,w,_.width,_.height,0,_.data):i.texImage2D(34069+v,T,w,_.width,_.height,0,x,b,_.data);else l?i.texImage2D(34069+v,0,w,h[v].width,h[v].height,0,x,b,h[v].data):i.texImage2D(34069+v,0,w,x,b,h[v]);s.__maxMipLevel=u?A.length-1:0,d(e,y)&&f(34067,e,g.width,g.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else i.activeTexture(33984+o),i.bindTexture(34067,s.__webglTexture)}function _(t,e){i.activeTexture(33984+e),i.bindTexture(34067,r.get(t).__webglTexture)}function M(i,o,s){var u;if(s?(t.texParameteri(i,10242,a.convert(o.wrapS)),t.texParameteri(i,10243,a.convert(o.wrapT)),32879!==i&&35866!==i||t.texParameteri(i,32882,a.convert(o.wrapR)),t.texParameteri(i,10240,a.convert(o.magFilter)),t.texParameteri(i,10241,a.convert(o.minFilter))):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),o.wrapS!==wt||o.wrapT,t.texParameteri(i,10240,v(o.magFilter)),t.texParameteri(i,10241,v(o.minFilter)),o.minFilter!==Mt&&o.minFilter),u=e.get("EXT_texture_filter_anisotropic")){if(o.type===zt&&null===e.get("OES_texture_float_linear"))return;if(o.type===Nt&&null===(n.isWebGL2||e.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(i,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function S(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",g),e.__webglTexture=t.createTexture(),o.memory.textures++)}function A(e,r,o){var s=3553;r.isDataTexture2DArray&&(s=35866),r.isDataTexture3D&&(s=32879),S(e,r),i.activeTexture(33984+o),i.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,r.flipY),t.pixelStorei(37441,r.premultiplyAlpha),t.pixelStorei(3317,r.unpackAlignment);var u=function(t){return!n.isWebGL2&&(t.wrapS!==wt||t.wrapT!==wt||t.minFilter!==Mt&&t.minFilter!==Tt)}(r)&&!1===p(r.image),l=c(r.image,u,!1,n.maxTextureSize),h=p(l)||n.isWebGL2,v=a.convert(r.format),g=a.convert(r.type),y=m(v,g);M(s,r,h);var x,b=r.mipmaps;if(r.isDepthTexture){if(y=6402,r.type===zt){if(!n.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");y=36012}else n.isWebGL2&&(y=33189);r.format===qt&&6402===y&&r.type!==Dt&&r.type!==Ot&&(r.type=Dt,g=a.convert(r.type)),r.format===Yt&&(y=34041,r.type!==kt&&(r.type=kt,g=a.convert(r.type))),i.texImage2D(3553,0,y,l.width,l.height,0,v,g,null)}else if(r.isDataTexture)if(b.length>0&&h){for(var w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,l.width,l.height,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(w=0,_=b.length;w<_;w++)x=b[w],r.format!==Wt&&r.format!==Vt?i.getCompressedTextureFormats().indexOf(v)>-1&&i.compressedTexImage2D(3553,w,y,x.width,x.height,0,x.data):i.texImage2D(3553,w,y,x.width,x.height,0,v,g,x.data);e.__maxMipLevel=b.length-1}else if(r.isDataTexture2DArray)i.texImage3D(35866,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(r.isDataTexture3D)i.texImage3D(32879,0,y,l.width,l.height,l.depth,0,v,g,l.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(w=0,_=b.length;w<_;w++)x=b[w],i.texImage2D(3553,w,y,v,g,x);r.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,y,v,g,l),e.__maxMipLevel=0;d(r,h)&&f(3553,r,l.width,l.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function T(e,n,o,s){var u=a.convert(n.texture.format),l=a.convert(n.texture.type),h=m(u,l);i.texImage2D(s,0,h,n.width,n.height,0,u,l,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,r.get(n.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function L(e,i,r){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){if(r){var n=C(i);t.renderbufferStorageMultisample(36161,n,33189,i.width,i.height)}else t.renderbufferStorage(36161,33189,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer)r?(n=C(i),t.renderbufferStorageMultisample(36161,n,34041,i.width,i.height)):t.renderbufferStorage(36161,34041,i.width,i.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var o=m(a.convert(i.texture.format),a.convert(i.texture.type));r?(n=C(i),t.renderbufferStorageMultisample(36161,n,o,i.width,i.height)):t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function P(e){var i=r.get(e),n=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),b(i.depthTexture,0);var n=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===qt)t.framebufferTexture2D(36160,36096,3553,n,0);else{if(i.depthTexture.format!==Yt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,n,0)}}(i.__webglFramebuffer,e)}else if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=t.createRenderbuffer(),L(i.__webglDepthbuffer[a],e)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),L(i.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}function C(t){return n.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(n.maxSamples,t.samples):0}var E=!1,I=!1;this.allocateTextureUnit=function(){var t=x;return t>=n.maxTextures&&n.maxTextures,x+=1,t},this.resetTextureUnits=function(){x=0},this.setTexture2D=b,this.setTexture2DArray=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,n.__webglTexture))},this.setTexture3D=function(t,e){var n=r.get(t);t.version>0&&n.__version!==t.version?A(n,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,n.__webglTexture))},this.setTextureCube=w,this.setTextureCubeDynamic=_,this.setupRenderTarget=function(e){var s=r.get(e),u=r.get(e.texture);e.addEventListener("dispose",y),u.__webglTexture=t.createTexture(),o.memory.textures++;var l=!0===e.isWebGLRenderTargetCube,h=!0===e.isWebGLMultisampleRenderTarget,c=p(e)||n.isWebGL2;if(l){s.__webglFramebuffer=[];for(var v=0;v<6;v++)s.__webglFramebuffer[v]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h&&n.isWebGL2){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=m(a.convert(e.texture.format),a.convert(e.texture.type)),x=C(e);t.renderbufferStorageMultisample(36161,x,g,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),L(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}if(l){for(i.bindTexture(34067,u.__webglTexture),M(34067,e.texture,c),v=0;v<6;v++)T(s.__webglFramebuffer[v],e,36064,34069+v);d(e.texture,c)&&f(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,u.__webglTexture),M(3553,e.texture,c),T(s.__webglFramebuffer,e,36064,3553),d(e.texture,c)&&f(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&P(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(d(e,p(t)||n.isWebGL2)){var a=t.isWebGLRenderTargetCube?34067:3553,o=r.get(e).__webglTexture;i.bindTexture(a,o),f(a,e,t.width,t.height),i.bindTexture(a,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget&&n.isWebGL2){var i=r.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);var a=e.width,o=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,a,o,0,0,a,o,s,9728)}},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===E&&(E=!0),t=t.texture),b(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===I&&(I=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?w(t,e):_(t,e)}}function ha(t,e,i){return{convert:function(t){var r;if(t===bt)return 10497;if(t===wt)return 33071;if(t===_t)return 33648;if(t===Mt)return 9728;if(t===St)return 9984;if(t===At)return 9986;if(t===Tt)return 9729;if(t===Lt)return 9985;if(t===Pt)return 9987;if(t===Ct)return 5121;if(t===Rt)return 32819;if(t===Ft)return 32820;if(t===Ut)return 33635;if(t===Et)return 5120;if(t===It)return 5122;if(t===Dt)return 5123;if(t===Bt)return 5124;if(t===Ot)return 5125;if(t===zt)return 5126;if(t===Nt){if(i.isWebGL2)return 5131;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(t===Gt)return 6406;if(t===Vt)return 6407;if(t===Wt)return 6408;if(t===Ht)return 6409;if(t===jt)return 6410;if(t===qt)return 6402;if(t===Yt)return 34041;if(t===Jt)return 6403;if(t===B)return 32774;if(t===O)return 32778;if(t===z)return 32779;if(t===F)return 0;if(t===U)return 1;if(t===k)return 768;if(t===G)return 769;if(t===V)return 770;if(t===W)return 771;if(t===H)return 772;if(t===j)return 773;if(t===X)return 774;if(t===q)return 775;if(t===Y)return 776;if((t===Zt||t===Qt||t===Kt||t===$t)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(t===Zt)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Qt)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===Kt)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===$t)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((t===te||t===ee||t===ie||t===re)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(t===te)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ee)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===ie)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===re)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===ne&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((t===ae||t===oe||t===se||t===ue||t===le||t===he||t===ce||t===pe||t===de||t===fe||t===me||t===ve||t===ge||t===ye)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return t;if(t===N||t===R){if(i.isWebGL2){if(t===N)return 32775;if(t===R)return 32776}if(null!==(r=e.get("EXT_blend_minmax"))){if(t===N)return r.MIN_EXT;if(t===R)return r.MAX_EXT}}if(t===kt){if(i.isWebGL2)return 34042;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}}}function ca(){Fi.call(this),this.type="Group"}function pa(){Fi.call(this),this.type="Camera",this.matrixWorldInverse=new fi,this.projectionMatrix=new fi,this.projectionMatrixInverse=new fi}function da(t,e,i,r){pa.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function fa(t){da.call(this),this.cameras=t||[]}aa.prototype=(0,p.default)(ur.prototype),aa.prototype.constructor=aa,aa.prototype.isMeshDepthMaterial=!0,aa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},oa.prototype=(0,p.default)(ur.prototype),oa.prototype.constructor=oa,oa.prototype.isMeshDistanceMaterial=!0,oa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:ca,isGroup:!0}),pa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:pa,isCamera:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(t=new ke),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Fi.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),da.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:da,isPerspectiveCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:(0,f.default)({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Re.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Re.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Re.RAD2DEG*Math.atan(Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,r,n,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Re.DEG2RAD*this.fov)/this.zoom,i=2*e,r=this.aspect*i,n=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o,e-=a.offsetY*i/s,r*=a.width/o,i*=a.height/s}var u=this.filmOffset;0!==u&&(n+=t*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+r,e,e-i,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),fa.prototype=(0,f.default)((0,p.default)(da.prototype),{constructor:fa,isArrayCamera:!0});var ma,va,ga,ya,xa,ba,wa=new ke,_a=new ke;function Ma(t,e,i){wa.setFromMatrixPosition(e.matrixWorld),_a.setFromMatrixPosition(i.matrixWorld);var r=wa.distanceTo(_a),n=e.projectionMatrix.elements,a=i.projectionMatrix.elements,o=n[14]/(n[10]-1),s=n[14]/(n[10]+1),u=(n[9]+1)/n[5],l=(n[9]-1)/n[5],h=(n[8]-1)/n[0],c=(a[8]+1)/a[0],p=o*h,d=o*c,f=r/(-h+c),m=f*-h;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var v=o+f,g=s+f,y=p-m,x=d+(r-m),b=u*s/g*v,w=l*s/g*v;t.projectionMatrix.makePerspective(y,x,b,w,v,g)}function Sa(t){var e,i,r=this,n=null,a=null,o=null,s=[],u=new fi,l=new fi,h=1,c="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(a=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",w,!1));var p=new fi,d=new Ue,f=new ke,m=new da;m.viewport=new ai,m.layers.enable(1);var v=new da;v.viewport=new ai,v.layers.enable(2);var g=new fa([m,v]);function y(){return null!==n&&!0===n.isPresenting}g.layers.enable(1),g.layers.enable(2);var x,b=new Fe;function w(){if(y()){var a=n.getEyeParameters("left");e=2*a.renderWidth*h,i=a.renderHeight*h,x=t.getPixelRatio(),t.getSize(b),t.setDrawingBufferSize(e,i,1),m.viewport.set(0,0,e/2,i),v.viewport.set(e/2,0,e/2,i),A.start()}else r.enabled&&t.setDrawingBufferSize(b.width,b.height,x),A.stop()}var _=[];function M(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),i=0,r=0,n=e.length;i<n;i++){var a=e[i];if(a&&("Daydream Controller"===a.id||"Gear VR Controller"===a.id||"Oculus Go Controller"===a.id||"OpenVR Gamepad"===a.id||a.id.startsWith("Oculus Touch")||a.id.startsWith("Spatial Controller"))){if(r===t)return a;r++}}}function S(t,r){null!==r&&4===r.length&&t.set(r[0]*e,r[1]*i,r[2]*e,r[3]*i)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),A.setContext(t)},this.setFramebufferScaleFactor=function(t){h=t},this.setReferenceSpaceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(o=t)},this.getCamera=function(t){var e="local-floor"===c?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(a),"local-floor"===c){var i=n.stageParameters;i?u.fromArray(i.sittingToStandingTransform):u.makeTranslation(0,e,0)}var r=a.pose,h=null!==o?o:t;h.matrix.copy(u),h.matrix.decompose(h.position,h.quaternion,h.scale),null!==r.orientation&&(d.fromArray(r.orientation),h.quaternion.multiply(d)),null!==r.position&&(d.setFromRotationMatrix(u),f.fromArray(r.position),f.applyQuaternion(d),h.position.add(f)),h.updateMatrixWorld(),m.near=t.near,v.near=t.near,m.far=t.far,v.far=t.far,m.matrixWorldInverse.fromArray(a.leftViewMatrix),v.matrixWorldInverse.fromArray(a.rightViewMatrix),l.getInverse(u),"local-floor"===c&&(m.matrixWorldInverse.multiply(l),v.matrixWorldInverse.multiply(l));var x=h.parent;null!==x&&(p.getInverse(x.matrixWorld),m.matrixWorldInverse.multiply(p),v.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),v.matrixWorld.getInverse(v.matrixWorldInverse),m.projectionMatrix.fromArray(a.leftProjectionMatrix),v.projectionMatrix.fromArray(a.rightProjectionMatrix),Ma(g,m,v);var b=n.getLayers();if(b.length){var w=b[0];S(m.viewport,w.leftBounds),S(v.viewport,w.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],i=M(t);if(void 0!==i&&void 0!==i.pose){if(null===i.pose)return;var r=i.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(u),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var n="Daydream Controller"===i.id?0:1;void 0===_[t]&&(_[t]=!1),_[t]!==i.buttons[n].pressed&&(_[t]=i.buttons[n].pressed,!0===_[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return u},this.isPresenting=y;var A=new Li;this.setAnimationLoop=function(t){A.setAnimationLoop(t),y()&&A.start()},this.submitFrame=function(){y()&&n.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)},this.setFrameOfReferenceType=function(){}}function Aa(t){var e=t.context,i=null,r=null,n="local-floor",a=null,o=[],s=[];function u(){return null!==i&&null!==r}var l=new da;l.layers.enable(1),l.viewport=new ai;var h=new da;h.layers.enable(2),h.viewport=new ai;var c=new fa([l,h]);function p(t){for(var e=0;e<o.length;e++)s[e]===t.inputSource&&o[e].dispatchEvent({type:t.type})}function d(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),g.stop()}function f(t){r=t,g.setContext(i),g.start()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}c.layers.enable(1),c.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=o[t];return void 0===e&&((e=new ca).matrixAutoUpdate=!1,e.visible=!1,o[t]=e),e},this.setFramebufferScaleFactor=function(t){},this.setReferenceSpaceType=function(t){n=t},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",p),i.addEventListener("selectstart",p),i.addEventListener("selectend",p),i.addEventListener("end",d),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(n).then(f),s=i.inputSources,i.addEventListener("inputsourceschange",(function(){s=i.inputSources;for(var t=0;t<o.length;t++)o[t].userData.inputSource=s[t]})))},this.getCamera=function(t){if(u()){var e=t.parent,i=c.cameras;m(c,e);for(var r=0;r<i.length;r++)m(i[r],e);t.matrixWorld.copy(c.matrixWorld);for(var n=t.children,a=(r=0,n.length);r<a;r++)n[r].updateMatrixWorld(!0);return Ma(c,l,h),c}return t},this.isPresenting=u;var v=null,g=new Li;g.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var u=a.views,l=i.renderState.baseLayer;t.setFramebuffer(l.framebuffer);for(var h=0;h<u.length;h++){var p=u[h],d=l.getViewport(p),f=p.transform.inverse.matrix,m=c.cameras[h];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(p.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===h&&c.matrix.copy(m.matrix)}}for(h=0;h<o.length;h++){var g=o[h],y=s[h];if(y){var x=n.getPose(y.targetRaySpace,r);if(null!==x){g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return new fi},this.getDevice=function(){},this.setDevice=function(){},this.setFrameOfReferenceType=function(){},this.submitFrame=function(){}}function Ta(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,n=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,c=null,p=null;this.domElement=e,this.context=null,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=st,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,v,g,y,x,b,w,_,S,A,T,L,P,C,E,I,D=this,B=!1,O=null,z=0,N=0,R=null,F=null,U=-1,k={geometry:null,program:null,wireframe:!1},G=null,V=null,W=new ai,H=new ai,j=null,X=e.width,q=e.height,Y=1,J=new ai(0,0,X,q),Z=new ai(0,0,X,q),Q=!1,K=new di,$=new Ir,tt=!1,et=!1,it=new fi,rt=new ke;function nt(){return null===R?Y:1}try{var at={alpha:r,depth:n,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:l,failIfMajorPerformanceCaveat:h,xrCompatible:!0};if(e.addEventListener("webglcontextlost",ht,!1),e.addEventListener("webglcontextrestored",ct,!1),null===(d=i||e.getContext("webgl",at)||e.getContext("experimental-webgl",at)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw t.message,t}function ot(){f=new Dr(d),(m=new Er(d,f,t)).isWebGL2||(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),I=new ha(d,f,m),(v=new ua(d,f,I,m)).scissor(H.copy(Z).multiplyScalar(Y)),v.viewport(W.copy(J).multiplyScalar(Y)),g=new zr(d),y=new Jn,x=new la(d,f,v,y,m,I,g),b=new Pi(d),w=new Br(d,b,g),_=new Fr(w,g),P=new Rr(d),S=new Yn(D,f,m,x),A=new $n,T=new na,L=new Pr(D,v,_,s),C=new Cr(d,f,g,m),E=new Or(d,f,g,m),g.programs=S.programs,D.context=d,D.capabilities=m,D.extensions=f,D.properties=y,D.renderLists=A,D.state=v,D.info=g}ot();var ut="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new Aa(D):new Sa(D);this.vr=ut;var lt=new sa(D,_,m.maxTextureSize);function ht(t){t.preventDefault(),B=!0}function ct(){B=!1,ot()}function pt(t){var e=t.target;e.removeEventListener("dispose",pt),function(t){dt(t),y.remove(t)}(e)}function dt(t){var e=y.get(t).program;t.program=void 0,void 0!==e&&S.releaseProgram(e)}this.shadowMap=lt,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(t){void 0!==t&&(Y=t,this.setSize(X,q,!1))},this.getSize=function(t){return void 0===t&&(t=new Fe),t.set(X,q)},this.setSize=function(t,i,r){ut.isPresenting()||(X=t,q=i,e.width=t*Y,e.height=i*Y,!1!==r&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(t=new Fe),t.set(X*Y,q*Y)},this.setDrawingBufferSize=function(t,i,r){X=t,q=i,Y=r,e.width=t*r,e.height=i*r,this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(t=new ai),t.copy(W)},this.getViewport=function(t){return t.copy(J)},this.setViewport=function(t,e,i,r){t.isVector4?J.set(t.x,t.y,t.z,t.w):J.set(t,e,i,r),v.viewport(W.copy(J).multiplyScalar(Y))},this.getScissor=function(t){return t.copy(Z)},this.setScissor=function(t,e,i,r){t.isVector4?Z.set(t.x,t.y,t.z,t.w):Z.set(t,e,i,r),v.scissor(H.copy(Z).multiplyScalar(Y))},this.getScissorTest=function(){return Q},this.setScissorTest=function(t){v.setScissorTest(Q=t)},this.getClearColor=function(){return L.getClearColor()},this.setClearColor=function(){L.setClearColor.apply(L,arguments)},this.getClearAlpha=function(){return L.getClearAlpha()},this.setClearAlpha=function(){L.setClearAlpha.apply(L,arguments)},this.clear=function(t,e,i){var r=0;(void 0===t||t)&&(r|=16384),(void 0===e||e)&&(r|=256),(void 0===i||i)&&(r|=1024),d.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ht,!1),e.removeEventListener("webglcontextrestored",ct,!1),A.dispose(),T.dispose(),y.dispose(),_.dispose(),ut.dispose(),mt.stop()},this.renderBufferImmediate=function(t,e){v.initAttributes();var i=y.get(t);t.hasPositions&&!i.position&&(i.position=d.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=d.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=d.createBuffer()),t.hasColors&&!i.color&&(i.color=d.createBuffer());var r=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,i.position),d.bufferData(34962,t.positionArray,35048),v.enableAttribute(r.position),d.vertexAttribPointer(r.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,i.normal),d.bufferData(34962,t.normalArray,35048),v.enableAttribute(r.normal),d.vertexAttribPointer(r.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,i.uv),d.bufferData(34962,t.uvArray,35048),v.enableAttribute(r.uv),d.vertexAttribPointer(r.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,i.color),d.bufferData(34962,t.colorArray,35048),v.enableAttribute(r.color),d.vertexAttribPointer(r.color,3,5126,!1,0,0)),v.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,r,n,a){var o=n.isMesh&&n.matrixWorld.determinant()<0;v.setMaterial(r,o);var s=bt(t,e,r,n),u=!1;k.geometry===i.id&&k.program===s.id&&k.wireframe===(!0===r.wireframe)||(k.geometry=i.id,k.program=s.id,k.wireframe=!0===r.wireframe,u=!0),n.morphTargetInfluences&&(P.update(n,i,r,s),u=!0);var l,h=i.index,c=i.attributes.position,p=1;!0===r.wireframe&&(h=w.getWireframeAttribute(i),p=2);var g=C;null!==h&&(l=b.get(h),(g=E).setIndex(l)),u&&(function(t,e,i){if(!i||!i.isInstancedBufferGeometry||m.isWebGL2||null!==f.get("ANGLE_instanced_arrays")){v.initAttributes();var r=i.attributes,n=e.getAttributes(),a=t.defaultAttributeValues;for(var o in n){var s=n[o];if(s>=0){var u=r[o];if(void 0!==u){var l=u.normalized,h=u.itemSize,c=b.get(u);if(void 0===c)continue;var p=c.buffer,g=c.type,y=c.bytesPerElement;if(u.isInterleavedBufferAttribute){var x=u.data,w=x.stride,_=u.offset;x&&x.isInstancedInterleavedBuffer?(v.enableAttributeAndDivisor(s,x.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=x.meshPerAttribute*x.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,w*y,_*y)}else u.isInstancedBufferAttribute?(v.enableAttributeAndDivisor(s,u.meshPerAttribute),void 0===i.maxInstancedCount&&(i.maxInstancedCount=u.meshPerAttribute*u.count)):v.enableAttribute(s),d.bindBuffer(34962,p),d.vertexAttribPointer(s,h,g,l,0,0)}else if(void 0!==a){var M=a[o];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(s,M);break;case 3:d.vertexAttrib3fv(s,M);break;case 4:d.vertexAttrib4fv(s,M);break;default:d.vertexAttrib1fv(s,M)}}}}v.disableUnusedAttributes()}}(r,s,i),null!==h&&d.bindBuffer(34963,l.buffer));var y=1/0;null!==h?y=h.count:void 0!==c&&(y=c.count);var x=i.drawRange.start*p,_=i.drawRange.count*p,M=null!==a?a.start*p:0,S=null!==a?a.count*p:1/0,A=Math.max(x,M),T=Math.min(y,x+_,M+S)-1,L=Math.max(0,T-A+1);if(0!==L){if(n.isMesh)if(!0===r.wireframe)v.setLineWidth(r.wireframeLinewidth*nt()),g.setMode(1);else switch(n.drawMode){case Ae:g.setMode(4);break;case 1:g.setMode(5);break;case 2:g.setMode(6)}else if(n.isLine){var I=r.linewidth;void 0===I&&(I=1),v.setLineWidth(I*nt()),n.isLineSegments?g.setMode(1):n.isLineLoop?g.setMode(2):g.setMode(3)}else n.isPoints?g.setMode(0):n.isSprite&&g.setMode(4);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&g.renderInstances(i,A,L):g.render(A,L)}},this.compile=function(t,e){(p=T.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var i=0;i<e.material.length;i++)xt(e.material[i],t.fog,e);else xt(e.material,t.fog,e)}))};var ft=null,mt=new Li;function vt(t,e,i,r){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||K.intersectsSprite(t)){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it);var n=_.update(t);(a=t.material).visible&&c.push(t,n,a,i,rt.z,null)}}else if(t.isImmediateRenderObject)r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),c.push(t,null,t.material,i,rt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton&&t.skeleton.update(),!t.frustumCulled||K.intersectsObject(t))){r&&rt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(it),n=_.update(t);var a=t.material;if(Array.isArray(a))for(var o=n.groups,s=0,u=o.length;s<u;s++){var l=o[s],h=a[l.materialIndex];h&&h.visible&&c.push(t,n,h,i,rt.z,l)}else a&&a.visible&&c.push(t,n,a,i,rt.z,null)}var d=t.children;for(s=0,u=d.length;s<u;s++)vt(d[s],e,i,r)}}function gt(t,e,i,r){for(var n=0,a=t.length;n<a;n++){var o=t[n],s=o.object,u=o.geometry,l=void 0===r?o.material:r,h=o.group;if(i.isArrayCamera){V=i;for(var c=i.cameras,d=0,f=c.length;d<f;d++){var m=c[d];s.layers.test(m.layers)&&(v.viewport(W.copy(m.viewport)),p.setupLights(m),yt(s,e,m,u,l,h))}}else V=null,yt(s,e,i,u,l,h)}}function yt(t,e,i,r,n,a){if(t.onBeforeRender(D,e,i,r,n,a),p=T.get(e,V||i),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){v.setMaterial(n);var o=bt(i,e.fog,n,t);k.geometry=null,k.program=null,k.wireframe=!1,function(t,e){t.render((function(t){D.renderBufferImmediate(t,e)}))}(t,o)}else D.renderBufferDirect(i,e.fog,r,n,t,a);t.onAfterRender(D,e,i,r,n,a),p=T.get(e,V||i)}function xt(t,e,i){var r=y.get(t),n=p.state.lights,a=p.state.shadowsArray,o=r.lightsHash,s=n.state.hash,u=S.getParameters(t,n.state,a,e,$.numPlanes,$.numIntersection,i),l=S.getProgramCode(t,u),h=r.program,c=!0;if(void 0===h)t.addEventListener("dispose",pt);else if(h.code!==l)dt(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,c=!1;else{if(void 0!==u.shaderID)return;c=!1}if(c){if(u.shaderID){var d=Ti[u.shaderID];r.shader={name:t.type,uniforms:vi(d.uniforms),vertexShader:d.vertexShader,fragmentShader:d.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,D),l=S.getProgramCode(t,u),h=S.acquireProgram(t,r.shader,u,l),r.program=h,t.program=h}var f=h.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<D.maxMorphTargets;m++)f["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,m=0;m<D.maxMorphNormals;m++)f["morphNormal"+m]>=0&&t.numSupportedMorphNormals++;var v=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=$.numPlanes,r.numIntersection=$.numIntersection,v.clippingPlanes=$.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(v.ambientLightColor.value=n.state.ambient,v.lightProbe.value=n.state.probe,v.directionalLights.value=n.state.directional,v.spotLights.value=n.state.spot,v.rectAreaLights.value=n.state.rectArea,v.pointLights.value=n.state.point,v.hemisphereLights.value=n.state.hemi,v.directionalShadowMap.value=n.state.directionalShadowMap,v.directionalShadowBias.value=n.state.directionalShadowBias,v.directionalShadowMatrix.value=n.state.directionalShadowMatrix,v.spotShadowMap.value=n.state.spotShadowMap,v.spotShadowMatrix.value=n.state.spotShadowMatrix,v.pointShadowMap.value=n.state.pointShadowMap,v.pointShadowMatrix.value=n.state.pointShadowMatrix);var g=r.program.getUniforms(),x=Nn.seqWithValue(g.seq,v);r.uniformsList=x}function bt(t,e,i,r){x.resetTextureUnits();var n=y.get(i),a=p.state.lights,o=n.lightsHash,s=a.state.hash;if(tt&&(et||t!==G)){var u=t===G&&i.id===U;$.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,t,n,u)}!1===i.needsUpdate&&(void 0===n.program||i.fog&&n.fog!==e?i.needsUpdate=!0:(!i.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===n.numClippingPlanes||n.numClippingPlanes===$.numPlanes&&n.numIntersection===$.numIntersection)||(i.needsUpdate=!0)),i.needsUpdate&&(xt(i,e,r),i.needsUpdate=!1);var l,h,c=!1,f=!1,g=!1,b=n.program,w=b.getUniforms(),_=n.shader.uniforms;if(v.useProgram(b.program)&&(c=!0,f=!0,g=!0),i.id!==U&&(U=i.id,f=!0),c||G!==t){if(w.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&w.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),G!==t&&(G=t,f=!0,g=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var S=w.map.cameraPosition;void 0!==S&&S.setValue(d,rt.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning)&&w.setValue(d,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){w.setOptional(d,r,"bindMatrix"),w.setOptional(d,r,"bindMatrixInverse");var A=r.skeleton;if(A){var T=A.bones;if(m.floatVertexTextures){if(void 0===A.boneTexture){var L=Math.sqrt(4*T.length);L=Re.ceilPowerOfTwo(L),L=Math.max(L,4);var P=new Float32Array(L*L*4);P.set(A.boneMatrices);var C=new li(P,L,L,Wt,zt);C.needsUpdate=!0,A.boneMatrices=P,A.boneTexture=C,A.boneTextureSize=L}w.setValue(d,"boneTexture",A.boneTexture,x),w.setValue(d,"boneTextureSize",A.boneTextureSize)}else w.setOptional(d,A,"boneMatrices")}}return f&&(w.setValue(d,"toneMappingExposure",D.toneMappingExposure),w.setValue(d,"toneMappingWhitePoint",D.toneMappingWhitePoint),i.lights&&(h=g,(l=_).ambientLightColor.needsUpdate=h,l.lightProbe.needsUpdate=h,l.directionalLights.needsUpdate=h,l.pointLights.needsUpdate=h,l.spotLights.needsUpdate=h,l.rectAreaLights.needsUpdate=h,l.hemisphereLights.needsUpdate=h),e&&i.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(_,e),i.isMeshBasicMaterial?wt(_,i):i.isMeshLambertMaterial?(wt(_,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(_,i)):i.isMeshPhongMaterial?(wt(_,i),i.isMeshToonMaterial?function(t,e){_t(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(_,i):_t(_,i)):i.isMeshStandardMaterial?(wt(_,i),i.isMeshPhysicalMaterial?function(t,e){Mt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(_,i):Mt(_,i)):i.isMeshMatcapMaterial?(wt(_,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDepthMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isMeshDistanceMaterial?(wt(_,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(_,i)):i.isMeshNormalMaterial?(wt(_,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(_,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(_,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(_,i)):i.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*Y,t.scale.value=.5*q,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(_,i):i.isShadowMaterial&&(_.color.value.copy(i.color),_.opacity.value=i.opacity),void 0!==_.ltc_1&&(_.ltc_1.value=Ai.LTC_1),void 0!==_.ltc_2&&(_.ltc_2.value=Ai.LTC_2),Nn.upload(d,n.uniformsList,_,x)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Nn.upload(d,n.uniformsList,_,x),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&w.setValue(d,"center",r.center),w.setValue(d,"modelViewMatrix",r.modelViewMatrix),w.setValue(d,"normalMatrix",r.normalMatrix),w.setValue(d,"modelMatrix",r.matrixWorld),b}function wt(t,e){var i;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=y.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?i=e.map:e.specularMap?i=e.specularMap:e.displacementMap?i=e.displacementMap:e.normalMap?i=e.normalMap:e.bumpMap?i=e.bumpMap:e.roughnessMap?i=e.roughnessMap:e.metalnessMap?i=e.metalnessMap:e.alphaMap?i=e.alphaMap:e.emissiveMap&&(i=e.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}function _t(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Mt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===M&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===M&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}mt.setAnimationLoop((function(t){ut.isPresenting()||ft&&ft(t)})),"undefined"!=typeof window&&mt.setContext(window),this.setAnimationLoop=function(t){ft=t,ut.setAnimationLoop(t),mt.start()},this.render=function(t,e){var i,r;if(void 0!==arguments[2]&&(i=arguments[2]),void 0!==arguments[3]&&(r=arguments[3]),e&&e.isCamera&&!B){k.geometry=null,k.program=null,k.wireframe=!1,U=-1,G=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),ut.enabled&&(e=ut.getCamera(e)),(p=T.get(t,e)).init(),t.onBeforeRender(D,t,e,i||R),it.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),K.setFromMatrix(it),et=this.localClippingEnabled,tt=$.init(this.clippingPlanes,et,e),(c=A.get(t,e)).init(),vt(t,e,0,D.sortObjects),!0===D.sortObjects&&c.sort(),tt&&$.beginShadows();var n=p.state.shadowsArray;lt.render(n,t,e),p.setupLights(e),tt&&$.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),L.render(c,t,e,r);var a=c.opaque,o=c.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&gt(a,t,e,s),o.length&&gt(o,t,e,s)}else a.length&&gt(a,t,e),o.length&&gt(o,t,e);t.onAfterRender(D,t,e),null!==R&&(x.updateRenderTargetMipmap(R),x.updateMultisampleRenderTarget(R)),v.buffers.depth.setTest(!0),v.buffers.depth.setMask(!0),v.buffers.color.setMask(!0),v.setPolygonOffset(!1),ut.enabled&&ut.submitFrame(),c=null,p=null}},this.setFramebuffer=function(t){O!==t&&d.bindFramebuffer(36160,t),O=t},this.getActiveCubeFace=function(){return z},this.getActiveMipMapLevel=function(){return N},this.getRenderTarget=function(){return R},this.setRenderTarget=function(t,e,i){R=t,z=e,N=i,t&&void 0===y.get(t).__webglFramebuffer&&x.setupRenderTarget(t);var r=O,n=!1;if(t){var a=y.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(r=a[e||0],n=!0):r=t.isWebGLMultisampleRenderTarget?y.get(t).__webglMultisampledFramebuffer:a,W.copy(t.viewport),H.copy(t.scissor),j=t.scissorTest}else W.copy(J).multiplyScalar(Y),H.copy(Z).multiplyScalar(Y),j=Q;if(F!==r&&(d.bindFramebuffer(36160,r),F=r),v.viewport(W),v.scissor(H),v.setScissorTest(j),n){var o=y.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),o.__webglTexture,i||0)}},this.readRenderTargetPixels=function(t,e,i,r,n,a,o){if(t&&t.isWebGLRenderTarget){var s=y.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==o&&(s=s[o]),s){var u=!1;s!==F&&(d.bindFramebuffer(36160,s),u=!0);try{var l=t.texture,h=l.format,c=l.type;if(h!==Wt&&I.convert(h)!==d.getParameter(35739))return;if(!(c===Ct||I.convert(c)===d.getParameter(35738)||c===zt&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||c===Nt&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return;36053===d.checkFramebufferStatus(36160)&&e>=0&&e<=t.width-r&&i>=0&&i<=t.height-n&&d.readPixels(e,i,r,n,I.convert(h),I.convert(c),a)}finally{u&&d.bindFramebuffer(36160,F)}}}},this.copyFramebufferToTexture=function(t,e,i){var r=e.image.width,n=e.image.height,a=I.convert(e.format);x.setTexture2D(e,0),d.copyTexImage2D(3553,i||0,a,t.x,t.y,r,n,0)},this.copyTextureToTexture=function(t,e,i,r){var n=e.image.width,a=e.image.height,o=I.convert(i.format),s=I.convert(i.type);x.setTexture2D(i,0),e.isDataTexture?d.texSubImage2D(3553,r||0,t.x,t.y,n,a,o,s,e.image.data):d.texSubImage2D(3553,r||0,t.x,t.y,o,s,e.image)}}function La(t,e){this.name="",this.color=new Mi(t),this.density=void 0!==e?e:25e-5}function Pa(t,e,i){this.name="",this.color=new Mi(t),this.near=void 0!==e?e:1,this.far=void 0!==i?i:1e3}function Ca(){Fi.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ea(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ia(t,e,i,r){this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===r}function Da(t){ur.call(this),this.type="SpriteMaterial",this.color=new Mi(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function Ba(t){if(Fi.call(this),this.type="Sprite",void 0===ma){ma=new ir;var e=new Ea(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ma.setIndex([0,1,2,0,2,3]),ma.addAttribute("position",new Ia(e,3,0,!1)),ma.addAttribute("uv",new Ia(e,2,3,!1))}this.geometry=ma,this.material=void 0!==t?t:new Da,this.center=new Fe(.5,.5)}function Oa(){Fi.call(this),this.type="LOD",(0,d.default)(this,{levels:{enumerable:!0,value:[]}})}function za(t,e){t&&t.isGeometry,Lr.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new fi,this.bindMatrixInverse=new fi}function Na(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new fi)}}function Ra(){Fi.call(this),this.type="Bone"}function Fa(t){ur.call(this),this.type="LineBasicMaterial",this.color=new Mi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ua(t,e,i){Fi.call(this),this.type="Line",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Fa({color:16777215*Math.random()})}function ka(t,e){Ua.call(this,t,e),this.type="LineSegments"}function Ga(t,e){Ua.call(this,t,e),this.type="LineLoop"}function Va(t){ur.call(this),this.type="PointsMaterial",this.color=new Mi(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Wa(t,e){Fi.call(this),this.type="Points",this.geometry=void 0!==t?t:new ir,this.material=void 0!==e?e:new Va({color:16777215*Math.random()})}function Ha(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.format=void 0!==o?o:Vt,this.minFilter=void 0!==a?a:Tt,this.magFilter=void 0!==n?n:Tt,this.generateMipmaps=!1}function ja(t,e,i,r,n,a,o,s,u,l,h,c){ni.call(this,null,a,o,s,u,l,r,n,h,c),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Xa(t,e,i,r,n,a,o,s,u){ni.call(this,t,e,i,r,n,a,o,s,u),this.needsUpdate=!0}function qa(t,e,i,r,n,a,o,s,u,l){if((l=void 0!==l?l:qt)!==qt&&l!==Yt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&l===qt&&(i=Dt),void 0===i&&l===Yt&&(i=kt),ni.call(this,null,r,n,a,o,s,l,i,u),this.image={width:t,height:e},this.magFilter=void 0!==o?o:Mt,this.minFilter=void 0!==s?s:Mt,this.flipY=!1,this.generateMipmaps=!1}function Ya(t){ir.call(this),this.type="WireframeGeometry";var e,i,r,n,a,o,s,u,l,h,c=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var v=m[e];for(i=0;i<3;i++)s=v[f[i]],u=v[f[(i+1)%3]],p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]})}for(l in d)o=d[l],h=t.vertices[o.index1],c.push(h.x,h.y,h.z),h=t.vertices[o.index2],c.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,y,x,b,w,_,M;if(h=new ke,null!==t.index){for(g=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),n=0,a=x.length;n<a;++n)for(e=w=(b=x[n]).start,r=w+b.count;e<r;e+=3)for(i=0;i<3;i++)s=y.getX(e+i),u=y.getX(e+(i+1)%3),p[0]=Math.min(s,u),p[1]=Math.max(s,u),void 0===d[l=p[0]+","+p[1]]&&(d[l]={index1:p[0],index2:p[1]});for(l in d)o=d[l],h.fromBufferAttribute(g,o.index1),c.push(h.x,h.y,h.z),h.fromBufferAttribute(g,o.index2),c.push(h.x,h.y,h.z)}else for(e=0,r=(g=t.attributes.position).count/3;e<r;e++)for(i=0;i<3;i++)_=3*e+i,h.fromBufferAttribute(g,_),c.push(h.x,h.y,h.z),M=3*e+(i+1)%3,h.fromBufferAttribute(g,M),c.push(h.x,h.y,h.z)}this.addAttribute("position",new Qi(c,3))}function Ja(t,e,i){Vi.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i},this.fromBufferGeometry(new Za(t,e,i)),this.mergeVertices()}function Za(t,e,i){ir.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:i};var r,n,a=[],o=[],s=[],u=[],l=1e-5,h=new ke,c=new ke,p=new ke,d=new ke,f=new ke;t.length;var m=e+1;for(r=0;r<=i;r++){var v=r/i;for(n=0;n<=e;n++){var g=n/e;t(g,v,c),o.push(c.x,c.y,c.z),g-l>=0?(t(g-l,v,p),d.subVectors(c,p)):(t(g+l,v,p),d.subVectors(p,c)),v-l>=0?(t(g,v-l,p),f.subVectors(c,p)):(t(g,v+l,p),f.subVectors(p,c)),h.crossVectors(d,f).normalize(),s.push(h.x,h.y,h.z),u.push(g,v)}}for(r=0;r<i;r++)for(n=0;n<e;n++){var y=r*m+n,x=r*m+n+1,b=(r+1)*m+n+1,w=(r+1)*m+n;a.push(y,x,w),a.push(x,b,w)}this.setIndex(a),this.addAttribute("position",new Qi(o,3)),this.addAttribute("normal",new Qi(s,3)),this.addAttribute("uv",new Qi(u,2))}function Qa(t,e,i,r){Vi.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},this.fromBufferGeometry(new Ka(t,e,i,r)),this.mergeVertices()}function Ka(t,e,i,r){ir.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:r},i=i||1;var n=[],a=[];function o(t,e,i,r){var n,a,o=Math.pow(2,r),u=[];for(n=0;n<=o;n++){u[n]=[];var l=t.clone().lerp(i,n/o),h=e.clone().lerp(i,n/o),c=o-n;for(a=0;a<=c;a++)u[n][a]=0===a&&n===o?l:l.clone().lerp(h,a/c)}for(n=0;n<o;n++)for(a=0;a<2*(o-n)-1;a++){var p=Math.floor(a/2);a%2==0?(s(u[n][p+1]),s(u[n+1][p]),s(u[n][p])):(s(u[n][p+1]),s(u[n+1][p+1]),s(u[n+1][p]))}}function s(t){n.push(t.x,t.y,t.z)}function u(e,i){var r=3*e;i.x=t[r+0],i.y=t[r+1],i.z=t[r+2]}function l(t,e,i,r){r<0&&1===t.x&&(a[e]=t.x-1),0===i.x&&0===i.z&&(a[e]=r/2/Math.PI+.5)}function h(t){return Math.atan2(t.z,-t.x)}function c(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var i=new ke,r=new ke,n=new ke,a=0;a<e.length;a+=3)u(e[a+0],i),u(e[a+1],r),u(e[a+2],n),o(i,r,n,t)}(r=r||0),function(t){for(var e=new ke,i=0;i<n.length;i+=3)e.x=n[i+0],e.y=n[i+1],e.z=n[i+2],e.normalize().multiplyScalar(t),n[i+0]=e.x,n[i+1]=e.y,n[i+2]=e.z}(i),function(){for(var t=new ke,e=0;e<n.length;e+=3){t.x=n[e+0],t.y=n[e+1],t.z=n[e+2];var i=h(t)/2/Math.PI+.5,r=c(t)/Math.PI+.5;a.push(i,1-r)}(function(){for(var t=new ke,e=new ke,i=new ke,r=new ke,o=new Fe,s=new Fe,u=new Fe,c=0,p=0;c<n.length;c+=9,p+=6){t.set(n[c+0],n[c+1],n[c+2]),e.set(n[c+3],n[c+4],n[c+5]),i.set(n[c+6],n[c+7],n[c+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(t).add(e).add(i).divideScalar(3);var d=h(r);l(o,p+0,t,d),l(s,p+2,e,d),l(u,p+4,i,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],i=a[t+2],r=a[t+4],n=Math.max(e,i,r),o=Math.min(e,i,r);n>.9&&o<.1&&(e<.2&&(a[t+0]+=1),i<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute("position",new Qi(n,3)),this.addAttribute("normal",new Qi(n.slice(),3)),this.addAttribute("uv",new Qi(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function $a(t,e){Vi.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new to(t,e)),this.mergeVertices()}function to(t,e){Ka.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function eo(t,e){Vi.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new io(t,e)),this.mergeVertices()}function io(t,e){Ka.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ro(t,e){Vi.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new no(t,e)),this.mergeVertices()}function no(t,e){var i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];Ka.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function ao(t,e){Vi.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new oo(t,e)),this.mergeVertices()}function oo(t,e){var i=(1+Math.sqrt(5))/2,r=1/i,n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];Ka.call(this,n,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function so(t,e,i,r,n,a){Vi.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n};var o=new uo(t,e,i,r,n);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function uo(t,e,i,r,n){ir.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:r,closed:n},e=e||64,i=i||1,r=r||8,n=n||!1;var a=t.computeFrenetFrames(e,n);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,u=new ke,l=new ke,h=new Fe,c=new ke,p=[],d=[],f=[],m=[];function v(n){c=t.getPointAt(n/e,c);var o=a.normals[n],h=a.binormals[n];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),v=-Math.cos(f);l.x=v*o.x+m*h.x,l.y=v*o.y+m*h.y,l.z=v*o.z+m*h.z,l.normalize(),d.push(l.x,l.y,l.z),u.x=c.x+i*l.x,u.y=c.y+i*l.y,u.z=c.z+i*l.z,p.push(u.x,u.y,u.z)}}!function(){for(o=0;o<e;o++)v(o);v(!1===n?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)h.x=o/e,h.y=s/r,f.push(h.x,h.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),i=(r+1)*s+(o-1),n=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,i,a),m.push(i,n,a)}}()}(),this.setIndex(m),this.addAttribute("position",new Qi(p,3)),this.addAttribute("normal",new Qi(d,3)),this.addAttribute("uv",new Qi(f,2))}function lo(t,e,i,r,n,a,o){Vi.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},this.fromBufferGeometry(new ho(t,e,i,r,n,a)),this.mergeVertices()}function ho(t,e,i,r,n,a){ir.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:r,p:n,q:a},t=t||1,e=e||.4,i=Math.floor(i)||64,r=Math.floor(r)||8,n=n||2,a=a||3;var o,s,u=[],l=[],h=[],c=[],p=new ke,d=new ke,f=new ke,m=new ke,v=new ke,g=new ke,y=new ke;for(o=0;o<=i;++o){var x=o/i*n*Math.PI*2;for(L(x,n,a,t,f),L(x+.01,n,a,t,m),g.subVectors(m,f),y.addVectors(m,f),v.crossVectors(g,y),y.crossVectors(v,g),v.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,w=-e*Math.cos(b),_=e*Math.sin(b);p.x=f.x+(w*y.x+_*v.x),p.y=f.y+(w*y.y+_*v.y),p.z=f.z+(w*y.z+_*v.z),l.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),h.push(d.x,d.y,d.z),c.push(o/i),c.push(s/r)}}for(s=1;s<=i;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),S=(r+1)*s+(o-1),A=(r+1)*s+o,T=(r+1)*(s-1)+o;u.push(M,S,T),u.push(S,A,T)}function L(t,e,i,r,n){var a=Math.cos(t),o=Math.sin(t),s=i/e*t,u=Math.cos(s);n.x=r*(2+u)*.5*a,n.y=r*(2+u)*o*.5,n.z=r*Math.sin(s)*.5}this.setIndex(u),this.addAttribute("position",new Qi(l,3)),this.addAttribute("normal",new Qi(h,3)),this.addAttribute("uv",new Qi(c,2))}function co(t,e,i,r,n){Vi.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},this.fromBufferGeometry(new po(t,e,i,r,n)),this.mergeVertices()}function po(t,e,i,r,n){ir.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:r,arc:n},t=t||1,e=e||.4,i=Math.floor(i)||8,r=Math.floor(r)||6,n=n||2*Math.PI;var a,o,s=[],u=[],l=[],h=[],c=new ke,p=new ke,d=new ke;for(a=0;a<=i;a++)for(o=0;o<=r;o++){var f=o/r*n,m=a/i*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),u.push(p.x,p.y,p.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(p,c).normalize(),l.push(d.x,d.y,d.z),h.push(o/r),h.push(a/i)}for(a=1;a<=i;a++)for(o=1;o<=r;o++){var v=(r+1)*a+o-1,g=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(v,g,x),s.push(g,y,x)}this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("normal",new Qi(l,3)),this.addAttribute("uv",new Qi(h,2))}(0,f.default)(La.prototype,{isFogExp2:!0,clone:function(){return new La(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),(0,f.default)(Pa.prototype,{isFog:!0,clone:function(){return new Pa(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Ca.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ca,isScene:!0,copy:function(t,e){return Fi.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Ea.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),(0,f.default)(Ea.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(var r=0,n=this.stride;r<n;r++)this.array[t+r]=e.array[i+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),(0,d.default)(Ia.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),(0,f.default)(Ia.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this},setXYZW:function(t,e,i,r,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=n,this}}),Da.prototype=(0,p.default)(ur.prototype),Da.prototype.constructor=Da,Da.prototype.isSpriteMaterial=!0,Da.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},Ba.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ba,isSprite:!0,raycast:function(){var t=new ke,e=new ke,i=new ke,r=new Fe,n=new Fe,a=new fi,o=new ke,s=new ke,u=new ke,l=new Fe,h=new Fe,c=new Fe;function p(t,e,i,o,s,u){r.subVectors(t,i).addScalar(.5).multiply(o),void 0!==s?(n.x=u*r.x-s*r.y,n.y=s*r.x+u*r.y):n.copy(r),t.copy(e),t.x+=n.x,t.y+=n.y,t.applyMatrix4(a)}return function(r,n){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var v=this.center;p(o.set(-.5,-.5,0),i,v,e,d,f),p(s.set(.5,-.5,0),i,v,e,d,f),p(u.set(.5,.5,0),i,v,e,d,f),l.set(0,0),h.set(1,0),c.set(1,1);var g=r.ray.intersectTriangle(o,s,u,!1,t);if(null!==g||(p(s.set(-.5,.5,0),i,v,e,d,f),h.set(0,1),null!==(g=r.ray.intersectTriangle(o,u,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||n.push({distance:y,point:t.clone(),uv:Ar.getUV(t,o,s,u,l,h,c,new Fe),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Fi.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Oa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Oa,isLOD:!0,copy:function(t){Fi.prototype.copy.call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var n=e[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var i=this.levels,r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,i=1,r=e.length;i<r&&!(t<e[i].distance);i++);return e[i-1].object},raycast:(va=new ke,function(t,e){va.setFromMatrixPosition(this.matrixWorld);var i=t.ray.origin.distanceTo(va);this.getObjectForDistance(i).raycast(t,e)}),update:function(){var t=new ke,e=new ke;return function(i){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var n=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&n>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);e.object.levels=[];for(var i=this.levels,r=0,n=i.length;r<n;r++){var a=i[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),za.prototype=(0,f.default)((0,p.default)(Lr.prototype),{constructor:za,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new ai,e=this.geometry.attributes.skinWeight,i=0,r=e.count;i<r;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);var n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){Lr.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):this.bindMode},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(0,f.default)(Na.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var i=new fi;this.bones[t]&&i.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(i)}},pose:function(){var t,e,i;for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,i=this.bones.length;e<i;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(ga=new fi,ya=new fi,function(){for(var t=this.bones,e=this.boneInverses,i=this.boneMatrices,r=this.boneTexture,n=0,a=t.length;n<a;n++){var o=t[n]?t[n].matrixWorld:ya;ga.multiplyMatrices(o,e[n]),ga.toArray(i,16*n)}void 0!==r&&(r.needsUpdate=!0)}),clone:function(){return new Na(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,i=this.bones.length;e<i;e++){var r=this.bones[e];if(r.name===t)return r}}}),Ra.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ra,isBone:!0}),Fa.prototype=(0,p.default)(ur.prototype),Fa.prototype.constructor=Fa,Fa.prototype.isLineBasicMaterial=!0,Fa.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ua.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Ua,isLine:!0,computeLineDistances:(xa=new ke,ba=new ke,function(){var t=this.geometry;if(t.isBufferGeometry){if(null===t.index){for(var e=t.attributes.position,i=[0],r=1,n=e.count;r<n;r++)xa.fromBufferAttribute(e,r-1),ba.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=xa.distanceTo(ba);t.addAttribute("lineDistance",new Qi(i,1))}}else if(t.isGeometry){var a=t.vertices;for((i=t.lineDistances)[0]=0,r=1,n=a.length;r<n;r++)i[r]=i[r-1],i[r]+=a[r-1].distanceTo(a[r])}return this}),raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=a,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var u=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=u*u,h=new ke,c=new ke,p=new ke,d=new ke,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,v=o.attributes.position.array;if(null!==m)for(var g=m.array,y=0,x=g.length-1;y<x;y+=f){var b=g[y],w=g[y+1];h.fromArray(v,3*b),c.fromArray(v,3*w),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else for(y=0,x=v.length/3-1;y<x;y+=f)h.fromArray(v,3*y),c.fromArray(v,3*y+3),e.distanceSqToSegment(h,c,d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}else if(o.isGeometry){var _=o.vertices,M=_.length;for(y=0;y<M-1;y+=f){var S;e.distanceSqToSegment(_[y],_[y+1],d,p)>l||(d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||n.push({distance:S,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ka.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:ka,isLineSegments:!0,computeLineDistances:function(){var t=new ke,e=new ke;return function(){var i=this.geometry;if(i.isBufferGeometry){if(null===i.index){for(var r=i.attributes.position,n=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e);i.addAttribute("lineDistance",new Qi(n,1))}}else if(i.isGeometry){var s=i.vertices;for(n=i.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),n[a]=0===a?0:n[a-1],n[a+1]=n[a]+t.distanceTo(e)}return this}}()}),Ga.prototype=(0,f.default)((0,p.default)(Ua.prototype),{constructor:Ga,isLineLoop:!0}),Va.prototype=(0,p.default)(ur.prototype),Va.prototype.constructor=Va,Va.prototype.isPointsMaterial=!0,Va.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},Wa.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:Wa,isPoints:!0,raycast:function(){var t=new fi,e=new Sr,i=new ci;return function(r,n){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),i.copy(o.boundingSphere),i.applyMatrix4(s),i.radius+=u,!1!==r.ray.intersectsSphere(i)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var l=u/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,c=new ke,p=new ke;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,v=0,g=m.length;v<g;v++){var y=m[v];c.fromArray(f,3*y),w(c,y)}else{v=0;for(var x=f.length/3;v<x;v++)c.fromArray(f,3*v),w(c,v)}}else{var b=o.vertices;for(v=0,x=b.length;v<x;v++)w(b[v],v)}}function w(t,i){var o=e.distanceSqToPoint(t);if(o<h){e.closestPointToPoint(t,p),p.applyMatrix4(s);var u=r.ray.origin.distanceTo(p);if(u<r.near||u>r.far)return;n.push({distance:u,distanceToRay:Math.sqrt(o),point:p.clone(),index:i,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ha.prototype=(0,f.default)((0,p.default)(ni.prototype),{constructor:Ha,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ja.prototype=(0,p.default)(ni.prototype),ja.prototype.constructor=ja,ja.prototype.isCompressedTexture=!0,Xa.prototype=(0,p.default)(ni.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isCanvasTexture=!0,qa.prototype=(0,p.default)(ni.prototype),qa.prototype.constructor=qa,qa.prototype.isDepthTexture=!0,Ya.prototype=(0,p.default)(ir.prototype),Ya.prototype.constructor=Ya,Ja.prototype=(0,p.default)(Vi.prototype),Ja.prototype.constructor=Ja,Za.prototype=(0,p.default)(ir.prototype),Za.prototype.constructor=Za,Qa.prototype=(0,p.default)(Vi.prototype),Qa.prototype.constructor=Qa,Ka.prototype=(0,p.default)(ir.prototype),Ka.prototype.constructor=Ka,$a.prototype=(0,p.default)(Vi.prototype),$a.prototype.constructor=$a,to.prototype=(0,p.default)(Ka.prototype),to.prototype.constructor=to,eo.prototype=(0,p.default)(Vi.prototype),eo.prototype.constructor=eo,io.prototype=(0,p.default)(Ka.prototype),io.prototype.constructor=io,ro.prototype=(0,p.default)(Vi.prototype),ro.prototype.constructor=ro,no.prototype=(0,p.default)(Ka.prototype),no.prototype.constructor=no,ao.prototype=(0,p.default)(Vi.prototype),ao.prototype.constructor=ao,oo.prototype=(0,p.default)(Ka.prototype),oo.prototype.constructor=oo,so.prototype=(0,p.default)(Vi.prototype),so.prototype.constructor=so,uo.prototype=(0,p.default)(ir.prototype),uo.prototype.constructor=uo,uo.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},lo.prototype=(0,p.default)(Vi.prototype),lo.prototype.constructor=lo,ho.prototype=(0,p.default)(ir.prototype),ho.prototype.constructor=ho,co.prototype=(0,p.default)(Vi.prototype),co.prototype.constructor=co,po.prototype=(0,p.default)(ir.prototype),po.prototype.constructor=po;var fo=function(t,e,i){i=i||2;var r,n,a,o,s,u,l,h=e&&e.length,c=h?e[0]*i:t.length,p=mo(t,0,c,i,!0),d=[];if(!p)return d;if(h&&(p=function(t,e,i,r){var n,a,o,s=[];for(n=0,a=e.length;n<a;n++)(o=mo(t,e[n]*r,n<a-1?e[n+1]*r:t.length,r,!1))===o.next&&(o.steiner=!0),s.push(Ao(o));for(s.sort(_o),n=0;n<s.length;n++)Mo(s[n],i),i=vo(i,i.next);return i}(t,e,p,i)),t.length>80*i){r=a=t[0],n=o=t[1];for(var f=i;f<c;f+=i)(s=t[f])<r&&(r=s),(u=t[f+1])<n&&(n=u),s>a&&(a=s),u>o&&(o=u);l=0!==(l=Math.max(a-r,o-n))?1/l:0}return go(p,d,i,r,n,l),d};function mo(t,e,i,r,n){var a,o;if(n===function(t,e,i,r){for(var n=0,a=e,o=i-r;a<i;a+=r)n+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return n}(t,e,i,r)>0)for(a=e;a<i;a+=r)o=Bo(a,t[a],t[a+1],o);else for(a=i-r;a>=e;a-=r)o=Bo(a,t[a],t[a+1],o);return o&&Co(o,o.next)&&(Oo(o),o=o.next),o}function vo(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!Co(r,r.next)&&0!==Po(r.prev,r,r.next))r=r.next;else{if(Oo(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function go(t,e,i,r,n,a,o){if(t){!o&&a&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=So(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,a,o,s,u,l=1;do{for(i=t,t=null,a=null,o=0;i;){for(o++,r=i,s=0,e=0;e<l&&(s++,r=r.nextZ);e++);for(u=l;s>0||u>0&&r;)0!==s&&(0===u||!r||i.z<=r.z)?(n=i,i=i.nextZ,s--):(n=r,r=r.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;i=r}a.nextZ=null,l*=2}while(o>1)}(n)}(t,r,n,a);for(var s,u,l=t;t.prev!==t.next;)if(s=t.prev,u=t.next,a?xo(t,r,n,a):yo(t))e.push(s.i/i),e.push(t.i/i),e.push(u.i/i),Oo(t),t=u.next,l=u.next;else if((t=u)===l){o?1===o?go(t=bo(t,e,i),e,i,r,n,a,2):2===o&&wo(t,e,i,r,n,a):go(vo(t),e,i,r,n,a,1);break}}}function yo(t){var e=t.prev,i=t,r=t.next;if(Po(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(To(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&Po(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function xo(t,e,i,r){var n=t.prev,a=t,o=t.next;if(Po(n,a,o)>=0)return!1;for(var s=n.x<a.x?n.x<o.x?n.x:o.x:a.x<o.x?a.x:o.x,u=n.y<a.y?n.y<o.y?n.y:o.y:a.y<o.y?a.y:o.y,l=n.x>a.x?n.x>o.x?n.x:o.x:a.x>o.x?a.x:o.x,h=n.y>a.y?n.y>o.y?n.y:o.y:a.y>o.y?a.y:o.y,c=So(s,u,e,i,r),p=So(l,h,e,i,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&To(n.x,n.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Po(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function bo(t,e,i){var r=t;do{var n=r.prev,a=r.next.next;!Co(n,a)&&Eo(n,r,r.next,a)&&Io(n,a)&&Io(a,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(a.i/i),Oo(r),Oo(r.next),r=t=a),r=r.next}while(r!==t);return r}function wo(t,e,i,r,n,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Lo(o,s)){var u=Do(o,s);return o=vo(o,o.next),u=vo(u,u.next),go(o,e,i,r,n,a),void go(u,e,i,r,n,a)}s=s.next}o=o.next}while(o!==t)}function _o(t,e){return t.x-e.x}function Mo(t,e){if(e=function(t,e){var i,r=e,n=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(a===r.y)return r;if(a===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===o)return i.prev;var u,l=i,h=i.x,c=i.y,p=1/0;for(r=i.next;r!==l;)n>=r.x&&r.x>=h&&n!==r.x&&To(a<c?n:o,a,h,c,a<c?o:n,a,r.x,r.y)&&((u=Math.abs(a-r.y)/(n-r.x))<p||u===p&&r.x>i.x)&&Io(r,t)&&(i=r,p=u),r=r.next;return i}(t,e),e){var i=Do(e,t);vo(i,i.next)}}function So(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Ao(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function To(t,e,i,r,n,a,o,s){return(n-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(i-o)*(e-s)>=0&&(i-o)*(a-s)-(n-o)*(r-s)>=0}function Lo(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Eo(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&Io(t,e)&&Io(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do{i.y>a!=i.next.y>a&&i.next.y!==i.y&&n<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function Po(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Co(t,e){return t.x===e.x&&t.y===e.y}function Eo(t,e,i,r){return!!(Co(t,e)&&Co(i,r)||Co(t,r)&&Co(i,e))||Po(t,e,i)>0!=Po(t,e,r)>0&&Po(i,r,t)>0!=Po(i,r,e)>0}function Io(t,e){return Po(t.prev,t,t.next)<0?Po(t,e,t.next)>=0&&Po(t,t.prev,e)>=0:Po(t,e,t.prev)<0||Po(t,t.next,e)<0}function Do(t,e){var i=new zo(t.i,t.x,t.y),r=new zo(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function Bo(t,e,i,r){var n=new zo(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function Oo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function zo(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var No={area:function(t){for(var e=t.length,i=0,r=e-1,n=0;n<e;r=n++)i+=t[r].x*t[n].y-t[n].x*t[r].y;return.5*i},isClockWise:function(t){return No.area(t)<0},triangulateShape:function(t,e){var i=[],r=[],n=[];Ro(t),Fo(i,t);var a=t.length;e.forEach(Ro);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,Fo(i,e[o]);var s=fo(i,r);for(o=0;o<s.length;o+=3)n.push(s.slice(o,o+3));return n}};function Ro(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Fo(t,e){for(var i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}function Uo(t,e){Vi.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new ko(t,e)),this.mergeVertices()}function ko(t,e){ir.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var i=this,r=[],n=[],a=0,o=t.length;a<o;a++)s(t[a]);function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:100,l=void 0===e.bevelEnabled||e.bevelEnabled,h=void 0!==e.bevelThickness?e.bevelThickness:6,c=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:Go;void 0!==e.amount&&(u=e.amount);var y,x,b,w,_,M,S,A,T=!1;f&&(y=f.getSpacedPoints(s),T=!0,l=!1,x=f.computeFrenetFrames(s,!1),b=new ke,w=new ke,_=new ke),l||(d=0,h=0,c=0,p=0);var L=t.extractPoints(o),P=L.shape,C=L.holes;if(!No.isClockWise(P))for(P=P.reverse(),S=0,A=C.length;S<A;S++)M=C[S],No.isClockWise(M)&&(C[S]=M.reverse());var E=No.triangulateShape(P,C),I=P;for(S=0,A=C.length;S<A;S++)M=C[S],P=P.concat(M);function D(t,e,i){return e.clone().multiplyScalar(i).add(t)}var B,O,z,N,R,F,U=P.length,k=E.length;function G(t,e,i){var r,n,a,o=t.x-e.x,s=t.y-e.y,u=i.x-t.x,l=i.y-t.y,h=o*o+s*s,c=o*l-s*u;if(Math.abs(c)>g.default){var p=Math.sqrt(h),d=Math.sqrt(u*u+l*l),f=e.x-s/p,v=e.y+o/p,y=((i.x-l/d-f)*l-(i.y+u/d-v)*u)/(o*l-s*u),x=(r=f+o*y-t.x)*r+(n=v+s*y-t.y)*n;if(x<=2)return new Fe(r,n);a=Math.sqrt(x/2)}else{var b=!1;o>g.default?u>g.default&&(b=!0):o<-g.default?u<-g.default&&(b=!0):(0,m.default)(s)===(0,m.default)(l)&&(b=!0),b?(r=-s,n=o,a=Math.sqrt(h)):(r=o,n=s,a=Math.sqrt(h/2))}return new Fe(r/a,n/a)}for(var V=[],W=0,H=I.length,j=H-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),V[W]=G(I[W],I[j],I[X]);var q,Y,J=[],Z=V.concat();for(S=0,A=C.length;S<A;S++){for(M=C[S],q=[],W=0,j=(H=M.length)-1,X=W+1;W<H;W++,j++,X++)j===H&&(j=0),X===H&&(X=0),q[W]=G(M[W],M[j],M[X]);J.push(q),Z=Z.concat(q)}for(B=0;B<d;B++){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,-N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)K((R=D(M[W],q[W],O)).x,R.y,-N)}for(O=c+p,W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[0]).multiplyScalar(R.x),b.copy(x.binormals[0]).multiplyScalar(R.y),_.copy(y[0]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,0);for(Y=1;Y<=s;Y++)for(W=0;W<U;W++)R=l?D(P[W],Z[W],O):P[W],T?(w.copy(x.normals[Y]).multiplyScalar(R.x),b.copy(x.binormals[Y]).multiplyScalar(R.y),_.copy(y[Y]).add(w).add(b),K(_.x,_.y,_.z)):K(R.x,R.y,u/s*Y);for(B=d-1;B>=0;B--){for(z=B/d,N=h*Math.cos(z*Math.PI/2),O=c*Math.sin(z*Math.PI/2)+p,W=0,H=I.length;W<H;W++)K((R=D(I[W],V[W],O)).x,R.y,u+N);for(S=0,A=C.length;S<A;S++)for(M=C[S],q=J[S],W=0,H=M.length;W<H;W++)R=D(M[W],q[W],O),T?K(R.x,R.y+y[s-1].y,y[s-1].x+N):K(R.x,R.y,u+N)}function Q(t,e){var i,r;for(W=t.length;--W>=0;){i=W,(r=W-1)<0&&(r=t.length-1);var n=0,a=s+2*d;for(n=0;n<a;n++){var o=U*n,u=U*(n+1);tt(e+i+o,e+r+o,e+r+u,e+i+u)}}}function K(t,e,i){a.push(t),a.push(e),a.push(i)}function $(t,e,n){et(t),et(e),et(n);var a=r.length/3,o=v.generateTopUV(i,r,a-3,a-2,a-1);it(o[0]),it(o[1]),it(o[2])}function tt(t,e,n,a){et(t),et(e),et(a),et(e),et(n),et(a);var o=r.length/3,s=v.generateSideWallUV(i,r,o-6,o-3,o-2,o-1);it(s[0]),it(s[1]),it(s[3]),it(s[1]),it(s[2]),it(s[3])}function et(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function it(t){n.push(t.x),n.push(t.y)}!function(){var t=r.length/3;if(l){var e=0,n=U*e;for(W=0;W<k;W++)$((F=E[W])[2]+n,F[1]+n,F[0]+n);for(n=U*(e=s+2*d),W=0;W<k;W++)$((F=E[W])[0]+n,F[1]+n,F[2]+n)}else{for(W=0;W<k;W++)$((F=E[W])[2],F[1],F[0]);for(W=0;W<k;W++)$((F=E[W])[0]+U*s,F[1]+U*s,F[2]+U*s)}i.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Q(I,e),e+=I.length,S=0,A=C.length;S<A;S++)Q(M=C[S],e),e+=M.length;i.addGroup(t,r.length/3-t,1)}()}this.addAttribute("position",new Qi(r,3)),this.addAttribute("uv",new Qi(n,2)),this.computeVertexNormals()}Uo.prototype=(0,p.default)(Vi.prototype),Uo.prototype.constructor=Uo,Uo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)},ko.prototype=(0,p.default)(ir.prototype),ko.prototype.constructor=ko,ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return Vo(this.parameters.shapes,this.parameters.options,t)};var Go={generateTopUV:function(t,e,i,r,n){var a=e[3*i],o=e[3*i+1],s=e[3*r],u=e[3*r+1],l=e[3*n],h=e[3*n+1];return[new Fe(a,o),new Fe(s,u),new Fe(l,h)]},generateSideWallUV:function(t,e,i,r,n,a){var o=e[3*i],s=e[3*i+1],u=e[3*i+2],l=e[3*r],h=e[3*r+1],c=e[3*r+2],p=e[3*n],d=e[3*n+1],f=e[3*n+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(s-h)<.01?[new Fe(o,1-u),new Fe(l,1-c),new Fe(p,1-f),new Fe(m,1-g)]:[new Fe(s,1-u),new Fe(h,1-c),new Fe(d,1-f),new Fe(v,1-g)]}};function Vo(t,e,i){if(i.shapes=[],Array.isArray(t))for(var r=0,n=t.length;r<n;r++){var a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}function Wo(t,e){Vi.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ho(t,e)),this.mergeVertices()}function Ho(t,e){var i=(e=e||{}).font;if(!i||!i.isFont)return new Vi;var r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),ko.call(this,r,e),this.type="TextBufferGeometry"}function jo(t,e,i,r,n,a,o){Vi.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Xo(t,e,i,r,n,a,o)),this.mergeVertices()}function Xo(t,e,i,r,n,a,o){ir.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),i=Math.max(2,Math.floor(i)||6),r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI,a=void 0!==a?a:0,o=void 0!==o?o:Math.PI;var s,u,l=Math.min(a+o,Math.PI),h=0,c=[],p=new ke,d=new ke,f=[],m=[],v=[],g=[];for(u=0;u<=i;u++){var y=[],x=u/i,b=0;for(0==u&&0==a?b=.5/e:u==i&&l==Math.PI&&(b=-.5/e),s=0;s<=e;s++){var w=s/e;p.x=-t*Math.cos(r+w*n)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+w*n)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.copy(p).normalize(),v.push(d.x,d.y,d.z),g.push(w+b,1-x),y.push(h++)}c.push(y)}for(u=0;u<i;u++)for(s=0;s<e;s++){var _=c[u][s+1],M=c[u][s],S=c[u+1][s],A=c[u+1][s+1];(0!==u||a>0)&&f.push(_,M,A),(u!==i-1||l<Math.PI)&&f.push(M,S,A)}this.setIndex(f),this.addAttribute("position",new Qi(m,3)),this.addAttribute("normal",new Qi(v,3)),this.addAttribute("uv",new Qi(g,2))}function qo(t,e,i,r,n,a){Vi.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},this.fromBufferGeometry(new Yo(t,e,i,r,n,a)),this.mergeVertices()}function Yo(t,e,i,r,n,a){ir.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a},t=t||.5,e=e||1,n=void 0!==n?n:0,a=void 0!==a?a:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var o,s,u,l=[],h=[],c=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new ke,v=new Fe;for(s=0;s<=r;s++){for(u=0;u<=i;u++)o=n+u/i*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),h.push(m.x,m.y,m.z),c.push(0,0,1),v.x=(m.x/e+1)/2,v.y=(m.y/e+1)/2,p.push(v.x,v.y);d+=f}for(s=0;s<r;s++){var g=s*(i+1);for(u=0;u<i;u++){var y=o=u+g,x=o+i+1,b=o+i+2,w=o+1;l.push(y,x,w),l.push(x,b,w)}}this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function Jo(t,e,i,r){Vi.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},this.fromBufferGeometry(new Zo(t,e,i,r)),this.mergeVertices()}function Zo(t,e,i,r){ir.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:r},e=Math.floor(e)||12,i=i||0,r=r||2*Math.PI,r=Re.clamp(r,0,2*Math.PI);var n,a,o,s=[],u=[],l=[],h=1/e,c=new ke,p=new Fe;for(a=0;a<=e;a++){var d=i+a*h*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)c.x=t[o].x*f,c.y=t[o].y,c.z=t[o].x*m,u.push(c.x,c.y,c.z),p.x=a/e,p.y=o/(t.length-1),l.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var v=n=o+a*t.length,g=n+t.length,y=n+t.length+1,x=n+1;s.push(v,g,x),s.push(g,y,x)}if(this.setIndex(s),this.addAttribute("position",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,w=new ke,_=new ke,M=new ke;for(n=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)w.x=b[o+0],w.y=b[o+1],w.z=b[o+2],_.x=b[n+o+0],_.y=b[n+o+1],_.z=b[n+o+2],M.addVectors(w,_).normalize(),b[o+0]=b[n+o+0]=M.x,b[o+1]=b[n+o+1]=M.y,b[o+2]=b[n+o+2]=M.z}}function Qo(t,e){Vi.call(this),this.type="ShapeGeometry","object"===(void 0===e?"undefined":(0,y.default)(e))&&(e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ko(t,e)),this.mergeVertices()}function Ko(t,e){ir.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],n=[],a=[],o=0,s=0;if(!1===Array.isArray(t))l(t);else for(var u=0;u<t.length;u++)l(t[u]),this.addGroup(o,s,u),o+=s,s=0;function l(t){var o,u,l,h=r.length/3,c=t.extractPoints(e),p=c.shape,d=c.holes;for(!1===No.isClockWise(p)&&(p=p.reverse()),o=0,u=d.length;o<u;o++)l=d[o],!0===No.isClockWise(l)&&(d[o]=l.reverse());var f=No.triangulateShape(p,d);for(o=0,u=d.length;o<u;o++)l=d[o],p=p.concat(l);for(o=0,u=p.length;o<u;o++){var m=p[o];r.push(m.x,m.y,0),n.push(0,0,1),a.push(m.x,m.y)}for(o=0,u=f.length;o<u;o++){var v=f[o],g=v[0]+h,y=v[1]+h,x=v[2]+h;i.push(g,y,x),s+=3}}this.setIndex(i),this.addAttribute("position",new Qi(r,3)),this.addAttribute("normal",new Qi(n,3)),this.addAttribute("uv",new Qi(a,2))}function $o(t,e){if(e.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}function ts(t,e){ir.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var i,r,n,a,o=[],s=Math.cos(Re.DEG2RAD*e),u=[0,0],l={},h=["a","b","c"];t.isBufferGeometry?(a=new Vi).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var c=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],v=0;v<3;v++)i=m[h[v]],r=m[h[(v+1)%3]],u[0]=Math.min(i,r),u[1]=Math.max(i,r),void 0===l[n=u[0]+","+u[1]]?l[n]={index1:u[0],index2:u[1],face1:d,face2:void 0}:l[n].face2=d;for(n in l){var g=l[n];if(void 0===g.face2||p[g.face1].normal.dot(p[g.face2].normal)<=s){var y=c[g.index1];o.push(y.x,y.y,y.z),y=c[g.index2],o.push(y.x,y.y,y.z)}}this.addAttribute("position",new Qi(o,3))}function es(t,e,i,r,n,a,o,s){Vi.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new is(t,e,i,r,n,a,o,s)),this.mergeVertices()}function is(t,e,i,r,n,a,o,s){ir.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:1,e=void 0!==e?e:1,i=i||1,r=Math.floor(r)||8,n=Math.floor(n)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var l=[],h=[],c=[],p=[],d=0,f=[],m=i/2,v=0;function g(i){var n,a,f,g=new Fe,y=new ke,x=0,b=!0===i?t:e,w=!0===i?1:-1;for(a=d,n=1;n<=r;n++)h.push(0,m*w,0),c.push(0,w,0),p.push(.5,.5),d++;for(f=d,n=0;n<=r;n++){var _=n/r*s+o,M=Math.cos(_),S=Math.sin(_);y.x=b*S,y.y=m*w,y.z=b*M,h.push(y.x,y.y,y.z),c.push(0,w,0),g.x=.5*M+.5,g.y=.5*S*w+.5,p.push(g.x,g.y),d++}for(n=0;n<r;n++){var A=a+n,T=f+n;!0===i?l.push(T,T+1,A):l.push(T+1,T,A),x+=3}u.addGroup(v,x,!0===i?1:2),v+=x}!function(){var a,g,y=new ke,x=new ke,b=0,w=(e-t)/i;for(g=0;g<=n;g++){var _=[],M=g/n,S=M*(e-t)+t;for(a=0;a<=r;a++){var A=a/r,T=A*s+o,L=Math.sin(T),P=Math.cos(T);x.x=S*L,x.y=-M*i+m,x.z=S*P,h.push(x.x,x.y,x.z),y.set(L,w,P).normalize(),c.push(y.x,y.y,y.z),p.push(A,1-M),_.push(d++)}f.push(_)}for(a=0;a<r;a++)for(g=0;g<n;g++){var C=f[g][a],E=f[g+1][a],I=f[g+1][a+1],D=f[g][a+1];l.push(C,E,D),l.push(E,I,D),b+=6}u.addGroup(v,b,0),v+=b}(),!1===a&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(l),this.addAttribute("position",new Qi(h,3)),this.addAttribute("normal",new Qi(c,3)),this.addAttribute("uv",new Qi(p,2))}function rs(t,e,i,r,n,a,o){es.call(this,0,t,e,i,r,n,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function ns(t,e,i,r,n,a,o){is.call(this,0,t,e,i,r,n,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}function as(t,e,i,r){Vi.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},this.fromBufferGeometry(new os(t,e,i,r)),this.mergeVertices()}function os(t,e,i,r){ir.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI;var n,a,o=[],s=[],u=[],l=[],h=new ke,c=new Fe;for(s.push(0,0,0),u.push(0,0,1),l.push(.5,.5),a=0,n=3;a<=e;a++,n+=3){var p=i+a/e*r;h.x=t*Math.cos(p),h.y=t*Math.sin(p),s.push(h.x,h.y,h.z),u.push(0,0,1),c.x=(s[n]/t+1)/2,c.y=(s[n+1]/t+1)/2,l.push(c.x,c.y)}for(n=1;n<=e;n++)o.push(n,n+1,0);this.setIndex(o),this.addAttribute("position",new Qi(s,3)),this.addAttribute("normal",new Qi(u,3)),this.addAttribute("uv",new Qi(l,2))}Wo.prototype=(0,p.default)(Vi.prototype),Wo.prototype.constructor=Wo,Ho.prototype=(0,p.default)(ko.prototype),Ho.prototype.constructor=Ho,jo.prototype=(0,p.default)(Vi.prototype),jo.prototype.constructor=jo,Xo.prototype=(0,p.default)(ir.prototype),Xo.prototype.constructor=Xo,qo.prototype=(0,p.default)(Vi.prototype),qo.prototype.constructor=qo,Yo.prototype=(0,p.default)(ir.prototype),Yo.prototype.constructor=Yo,Jo.prototype=(0,p.default)(Vi.prototype),Jo.prototype.constructor=Jo,Zo.prototype=(0,p.default)(ir.prototype),Zo.prototype.constructor=Zo,Qo.prototype=(0,p.default)(Vi.prototype),Qo.prototype.constructor=Qo,Qo.prototype.toJSON=function(){var t=Vi.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},Ko.prototype=(0,p.default)(ir.prototype),Ko.prototype.constructor=Ko,Ko.prototype.toJSON=function(){var t=ir.prototype.toJSON.call(this);return $o(this.parameters.shapes,t)},ts.prototype=(0,p.default)(ir.prototype),ts.prototype.constructor=ts,es.prototype=(0,p.default)(Vi.prototype),es.prototype.constructor=es,is.prototype=(0,p.default)(ir.prototype),is.prototype.constructor=is,rs.prototype=(0,p.default)(es.prototype),rs.prototype.constructor=rs,ns.prototype=(0,p.default)(is.prototype),ns.prototype.constructor=ns,as.prototype=(0,p.default)(Vi.prototype),as.prototype.constructor=as,os.prototype=(0,p.default)(ir.prototype),os.prototype.constructor=os;var ss=(0,u.default)({WireframeGeometry:Ya,ParametricGeometry:Ja,ParametricBufferGeometry:Za,TetrahedronGeometry:$a,TetrahedronBufferGeometry:to,OctahedronGeometry:eo,OctahedronBufferGeometry:io,IcosahedronGeometry:ro,IcosahedronBufferGeometry:no,DodecahedronGeometry:ao,DodecahedronBufferGeometry:oo,PolyhedronGeometry:Qa,PolyhedronBufferGeometry:Ka,TubeGeometry:so,TubeBufferGeometry:uo,TorusKnotGeometry:lo,TorusKnotBufferGeometry:ho,TorusGeometry:co,TorusBufferGeometry:po,TextGeometry:Wo,TextBufferGeometry:Ho,SphereGeometry:jo,SphereBufferGeometry:Xo,RingGeometry:qo,RingBufferGeometry:Yo,PlaneGeometry:ar,PlaneBufferGeometry:or,LatheGeometry:Jo,LatheBufferGeometry:Zo,ShapeGeometry:Qo,ShapeBufferGeometry:Ko,ExtrudeGeometry:Uo,ExtrudeBufferGeometry:ko,EdgesGeometry:ts,ConeGeometry:rs,ConeBufferGeometry:ns,CylinderGeometry:es,CylinderBufferGeometry:is,CircleGeometry:as,CircleBufferGeometry:os,BoxGeometry:rr,BoxBufferGeometry:nr});function us(t){ur.call(this),this.type="ShadowMaterial",this.color=new Mi(0),this.transparent=!0,this.setValues(t)}function ls(t){Mr.call(this,t),this.type="RawShaderMaterial"}function hs(t){ur.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Mi(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function cs(t){hs.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function ps(t){ur.call(this),this.type="MeshPhongMaterial",this.color=new Mi(16777215),this.specular=new Mi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ds(t){ps.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function fs(t){ur.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ms(t){ur.call(this),this.type="MeshLambertMaterial",this.color=new Mi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Mi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=rt,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vs(t){ur.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Mi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ze,this.normalScale=new Fe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t)}function gs(t){Fa.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}us.prototype=(0,p.default)(ur.prototype),us.prototype.constructor=us,us.prototype.isShadowMaterial=!0,us.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this},ls.prototype=(0,p.default)(Mr.prototype),ls.prototype.constructor=ls,ls.prototype.isRawShaderMaterial=!0,hs.prototype=(0,p.default)(ur.prototype),hs.prototype.constructor=hs,hs.prototype.isMeshStandardMaterial=!0,hs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},cs.prototype=(0,p.default)(hs.prototype),cs.prototype.constructor=cs,cs.prototype.isMeshPhysicalMaterial=!0,cs.prototype.copy=function(t){return hs.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},ps.prototype=(0,p.default)(ur.prototype),ps.prototype.constructor=ps,ps.prototype.isMeshPhongMaterial=!0,ps.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ds.prototype=(0,p.default)(ps.prototype),ds.prototype.constructor=ds,ds.prototype.isMeshToonMaterial=!0,ds.prototype.copy=function(t){return ps.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},fs.prototype=(0,p.default)(ur.prototype),fs.prototype.constructor=fs,fs.prototype.isMeshNormalMaterial=!0,fs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ms.prototype=(0,p.default)(ur.prototype),ms.prototype.constructor=ms,ms.prototype.isMeshLambertMaterial=!0,ms.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vs.prototype=(0,p.default)(ur.prototype),vs.prototype.constructor=vs,vs.prototype.isMeshMatcapMaterial=!0,vs.prototype.copy=function(t){return ur.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},gs.prototype=(0,p.default)(Fa.prototype),gs.prototype.constructor=gs,gs.prototype.isLineDashedMaterial=!0,gs.prototype.copy=function(t){return Fa.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var ys=(0,u.default)({ShadowMaterial:us,SpriteMaterial:Da,RawShaderMaterial:ls,ShaderMaterial:Mr,PointsMaterial:Va,MeshPhysicalMaterial:cs,MeshStandardMaterial:hs,MeshPhongMaterial:ps,MeshToonMaterial:ds,MeshNormalMaterial:fs,MeshLambertMaterial:ms,MeshDepthMaterial:aa,MeshDistanceMaterial:oa,MeshBasicMaterial:Tr,MeshMatcapMaterial:vs,LineDashedMaterial:gs,LineBasicMaterial:Fa,Material:ur}),xs={arraySlice:function(t,e,i){return xs.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,i=new Array(e),r=0;r!==e;++r)i[r]=r;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){for(var r=t.length,n=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=i[a]*e,u=0;u!==e;++u)n[o++]=t[s+u];return n},flattenJSON:function(t,e,i,r){for(var n=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[n++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),i.push.apply(i,o)),a=t[n++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(i,i.length)),a=t[n++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),i.push(o)),a=t[n++]}while(void 0!==a)}}};function bs(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function ws(t,e,i,r){bs.call(this,t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function _s(t,e,i,r){bs.call(this,t,e,i,r)}function Ms(t,e,i,r){bs.call(this,t,e,i,r)}function Ss(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=xs.convertArray(e,this.TimeBufferType),this.values=xs.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function As(t,e,i){Ss.call(this,t,e,i)}function Ts(t,e,i,r){Ss.call(this,t,e,i,r)}function Ls(t,e,i,r){Ss.call(this,t,e,i,r)}function Ps(t,e,i,r){bs.call(this,t,e,i,r)}function Cs(t,e,i,r){Ss.call(this,t,e,i,r)}function Es(t,e,i,r){Ss.call(this,t,e,i,r)}function Is(t,e,i,r){Ss.call(this,t,e,i,r)}function Ds(t,e,i){this.name=t,this.tracks=i,this.duration=void 0!==e?e:-1,this.uuid=Re.generateUUID(),this.duration<0&&this.resetDuration()}function Bs(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ls;case"vector":case"vector2":case"vector3":case"vector4":return Is;case"color":return Ts;case"quaternion":return Cs;case"bool":case"boolean":return As;case"string":return Es}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var i=[],r=[];xs.flattenJSON(t.keys,i,r,"value"),t.times=i,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}(0,f.default)(bs.prototype,{evaluate:function(t){var e=this.parameterPositions,i=this._cachedIndex,r=e[i],n=e[i-1];t:{e:{var a;i:{r:if(!(t<r)){for(var o=i+2;;){if(void 0===r){if(t<n)break r;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,n)}if(i===o)break;if(n=r,t<(r=e[++i]))break e}a=e.length;break i}if(t>=n)break t;var s=e[1];for(t<s&&(i=2,n=s),o=i-2;;){if(void 0===n)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(i===o)break;if(r=n,t>=(n=e[--i-1]))break e}a=i,i=0}for(;i<a;){var u=i+a>>>1;t<e[u]?a=u:i=u+1}if(r=e[i],void 0===(n=e[i-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,n,t)}this._cachedIndex=i,this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=t*r,a=0;a!==r;++a)e[a]=i[n+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),(0,f.default)(bs.prototype,{beforeStart_:bs.prototype.copySampleValue_,afterEnd_:bs.prototype.copySampleValue_}),ws.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:ws,DefaultSettings_:{endingStart:_e,endingEnd:_e},intervalChanged_:function(t,e,i){var r=this.parameterPositions,n=t-2,a=t+1,o=r[n],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case Me:n=t,o=2*e-i;break;case Se:o=e+r[n=r.length-2]-r[n+1];break;default:n=t,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Me:a=t,s=2*i-e;break;case Se:a=1,s=i+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(i-e),l=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-i),this._offsetPrev=n*l,this._offsetNext=a*l},interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=this._offsetPrev,h=this._offsetNext,c=this._weightPrev,p=this._weightNext,d=(i-e)/(r-e),f=d*d,m=f*d,v=-c*m+2*c*f-c*d,g=(1+c)*m+(-1.5-2*c)*f+(-.5+c)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)n[b]=v*a[l+b]+g*a[u+b]+y*a[s+b]+x*a[h+b];return n}}),_s.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:_s,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,l=(i-e)/(r-e),h=1-l,c=0;c!==o;++c)n[c]=a[u+c]*h+a[s+c]*l;return n}}),Ms.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ms,interpolate_:function(t){return this.copySampleValue_(t-1)}}),(0,f.default)(Ss,{toJSON:function(t){var e,i=t.constructor;if(void 0!==i.toJSON)e=i.toJSON(t);else{e={name:t.name,times:xs.convertArray(t.times,Array),values:xs.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),(0,f.default)(Ss.prototype,{constructor:Ss,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:be,InterpolantFactoryMethodDiscrete:function(t){return new Ms(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new _s(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ws(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case xe:e=this.InterpolantFactoryMethodDiscrete;break;case be:e=this.InterpolantFactoryMethodLinear;break;case we:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return xe;case this.InterpolantFactoryMethodLinear:return be;case this.InterpolantFactoryMethodSmooth:return we}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,i=0,r=e.length;i!==r;++i)e[i]*=t;return this},trim:function(t,e){for(var i=this.times,r=i.length,n=0,a=r-1;n!==r&&i[n]<t;)++n;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==n||a!==r){n>=a&&(n=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=xs.arraySlice(i,n,a),this.values=xs.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var i=this.times,r=this.values,n=i.length;0===n&&(t=!1);for(var a=null,o=0;o!==n;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&xs.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var l=r[o];if(isNaN(l)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,i=this.getValueSize(),r=this.getInterpolation()===we,n=1,a=t.length-1,o=1;o<a;++o){var s=!1,u=t[o];if(u!==t[o+1]&&(1!==o||u!==u[0]))if(r)s=!0;else for(var l=o*i,h=l-i,c=l+i,p=0;p!==i;++p){var d=e[l+p];if(d!==e[h+p]||d!==e[c+p]){s=!0;break}}if(s){if(o!==n){t[n]=t[o];var f=o*i,m=n*i;for(p=0;p!==i;++p)e[m+p]=e[f+p]}++n}}if(a>0){for(t[n]=t[a],f=a*i,m=n*i,p=0;p!==i;++p)e[m+p]=e[f+p];++n}return n!==t.length&&(this.times=xs.arraySlice(t,0,n),this.values=xs.arraySlice(e,0,n*i)),this},clone:function(){var t=xs.arraySlice(this.times,0),e=xs.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),As.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:As,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ts.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ts,ValueTypeName:"color"}),Ls.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Ls,ValueTypeName:"number"}),Ps.prototype=(0,f.default)((0,p.default)(bs.prototype),{constructor:Ps,interpolate_:function(t,e,i,r){for(var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(i-e)/(r-e),l=s+o;s!==l;s+=4)Ue.slerpFlat(n,0,a,s-o,a,s,u);return n}}),Cs.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Cs,ValueTypeName:"quaternion",DefaultInterpolation:be,InterpolantFactoryMethodLinear:function(t){return new Ps(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Es.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Es,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:xe,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Is.prototype=(0,f.default)((0,p.default)(Ss.prototype),{constructor:Is,ValueTypeName:"vector"}),(0,f.default)(Ds,{parse:function(t){for(var e=[],i=t.tracks,r=1/(t.fps||1),n=0,a=i.length;n!==a;++n)e.push(Bs(i[n]).scale(r));return new Ds(t.name,t.duration,e)},toJSON:function(t){for(var e=[],i=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},n=0,a=i.length;n!==a;++n)e.push(Ss.toJSON(i[n]));return r},CreateFromMorphTargetSequence:function(t,e,i,r){for(var n=e.length,a=[],o=0;o<n;o++){var s=[],u=[];s.push((o+n-1)%n,o,(o+1)%n),u.push(0,1,0);var l=xs.getKeyframeOrder(s);s=xs.sortedArray(s,1,l),u=xs.sortedArray(u,1,l),r||0!==s[0]||(s.push(n),u.push(u[0])),a.push(new Ls(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/i))}return new Ds(t,-1,a)},findByName:function(t,e){var i=t;if(!Array.isArray(t)){var r=t;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){for(var r={},n=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(n);if(u&&u.length>1){var l=r[c=u[1]];l||(r[c]=l=[]),l.push(s)}}var h=[];for(var c in r)h.push(Ds.CreateFromMorphTargetSequence(c,r[c],e,i));return h},parseAnimation:function(t,e){if(!t)return null;for(var i=function(t,e,i,r,n){if(0!==i.length){var a=[],o=[];xs.flattenJSON(i,a,o,r),0!==a.length&&n.push(new t(e,a,o))}},r=[],n=t.name||"default",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],u=0;u<s.length;u++){var l=s[u].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},c=0;c<l.length;c++)if(l[c].morphTargets)for(var p=0;p<l[c].morphTargets.length;p++)h[l[c].morphTargets[p]]=-1;for(var d in h){var f=[],m=[];for(p=0;p!==l[c].morphTargets.length;++p){var v=l[c];f.push(v.time),m.push(v.morphTarget===d?1:0)}r.push(new Ls(".morphTargetInfluence["+d+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+e[u].name+"]";i(Is,g+".position",l,"pos",r),i(Cs,g+".quaternion",l,"rot",r),i(Is,g+".scale",l,"scl",r)}}return 0===r.length?null:new Ds(n,a,r)}}),(0,f.default)(Ds.prototype,{resetDuration:function(){for(var t=0,e=0,i=this.tracks.length;e!==i;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Ds(this.name,this.duration,t)}});var Os={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function zs(t,e,i){var r=this,n=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===n&&void 0!==r.onStart&&r.onStart(t,a,o),n=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(n=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Ns=new zs,Rs={};function Fs(t){this.manager=void 0!==t?t:Ns}function Us(t){this.manager=void 0!==t?t:Ns}function ks(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Gs(t){this.manager=void 0!==t?t:Ns,this._parser=null}function Vs(t){this.manager=void 0!==t?t:Ns}function Ws(t){this.manager=void 0!==t?t:Ns}function Hs(t){this.manager=void 0!==t?t:Ns}function js(){this.type="Curve",this.arcLengthDivisions=200}function Xs(t,e,i,r,n,a,o,s){js.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=r||1,this.aStartAngle=n||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function qs(t,e,i,r,n,a){Xs.call(this,t,e,i,i,r,n,a),this.type="ArcCurve"}function Ys(){var t=0,e=0,i=0,r=0;function n(n,a,o,s){t=n,e=o,i=-3*n+3*a-2*o-s,r=2*n-2*a+o+s}return{initCatmullRom:function(t,e,i,r,a){n(e,i,a*(i-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,i,r,a,o,s){var u=(e-t)/a-(i-t)/(a+o)+(i-e)/o,l=(i-e)/o-(r-e)/(o+s)+(r-i)/s;n(e,i,u*=o,l*=o)},calc:function(n){var a=n*n;return t+e*n+i*a+r*(a*n)}}}(0,f.default)(Fs.prototype,{load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;if(void 0===Rs[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],u=!!o[2],l=o[3];l=decodeURIComponent(l),u&&(l=atob(l));try{var h,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":for(var p=new Uint8Array(l.length),d=0;d<l.length;d++)p[d]=l.charCodeAt(d);h="blob"===c?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;h=f.parseFromString(l,s);break;case"json":h=JSON.parse(l);break;default:h=l}setTimeout((function(){e&&e(h),n.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}),0)}}else{Rs[t]=[],Rs[t].push({onLoad:e,onProgress:i,onError:r});var m=new XMLHttpRequest;for(var v in m.open("GET",t,!0),m.addEventListener("load",(function(e){var i=this.response;Os.add(t,i);var r=Rs[t];if(delete Rs[t],200===this.status||0===this.status){this.status;for(var a=0,o=r.length;a<o;a++)(s=r[a]).onLoad&&s.onLoad(i);n.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var i=Rs[t],r=0,n=i.length;r<n;r++){var a=i[r];a.onProgress&&a.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var i=Rs[t];delete Rs[t];for(var r=0,a=i.length;r<a;r++){var o=i[r];o.onError&&o.onError(e)}n.manager.itemError(t),n.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return n.manager.itemStart(t),m}Rs[t].push({onLoad:e,onProgress:i,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),(0,f.default)(Us.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){for(var e=[],i=0;i<t.length;i++){var r=Ds.parse(t[i]);e.push(r)}return e},setPath:function(t){return this.path=t,this}}),(0,f.default)(ks.prototype,{load:function(t,e,i,r){var n=this,a=[],o=new ja;o.image=a;var s=new Fs(this.manager);function u(u){s.load(t[u],(function(t){var i=n._parser(t,!0);a[u]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},6===(l+=1)&&(1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,h=0,c=t.length;h<c;++h)u(h);else s.load(t,(function(t){var i=n._parser(t,!0);if(i.isCubemap)for(var r=i.mipmaps.length/i.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<i.mipmapCount;u++)a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+u]),a[s].format=i.format,a[s].width=i.width,a[s].height=i.height}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=Tt),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,r);return o},setPath:function(t){return this.path=t,this}}),(0,f.default)(Gs.prototype,{load:function(t,e,i,r){var n=this,a=new li,o=new Fs(this.manager);return o.setResponseType("arraybuffer"),o.setPath(this.path),o.load(t,(function(t){var i=n._parser(t);i&&(void 0!==i.image?a.image=i.image:void 0!==i.data&&(a.image.width=i.width,a.image.height=i.height,a.image.data=i.data),a.wrapS=void 0!==i.wrapS?i.wrapS:wt,a.wrapT=void 0!==i.wrapT?i.wrapT:wt,a.magFilter=void 0!==i.magFilter?i.magFilter:Tt,a.minFilter=void 0!==i.minFilter?i.minFilter:Pt,a.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.format&&(a.format=i.format),void 0!==i.type&&(a.type=i.type),void 0!==i.mipmaps&&(a.mipmaps=i.mipmaps),1===i.mipmapCount&&(a.minFilter=Tt),a.needsUpdate=!0,e&&e(a,i))}),i,r),a},setPath:function(t){return this.path=t,this}}),(0,f.default)(Vs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),Os.add(t,this),e&&e(this),n.manager.itemEnd(t)}function u(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",u,!1),r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",u,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),n.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Ws.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new Ur,a=new Vs(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(i){a.load(t[i],(function(t){n.images[i]=t,6==++o&&(n.needsUpdate=!0,e&&e(n))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(Hs.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=new ni,a=new Vs(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(i){n.image=i;var r=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);n.format=r?Vt:Wt,n.needsUpdate=!0,void 0!==e&&e(n)}),i,r),n},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),(0,f.default)(js.prototype,{getPoint:function(){return null},getPointAt:function(t,e){var i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,i,r=[],n=this.getPoint(0),a=0;for(r.push(0),i=1;i<=t;i++)a+=(e=this.getPoint(i/t)).distanceTo(n),r.push(a),n=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var i,r=this.getLengths(),n=0,a=r.length;i=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[n=Math.floor(s+(u-s)/2)]-i)<0)s=n+1;else{if(!(o>0)){u=n;break}u=n-1}if(r[n=u]===i)return n/(a-1);var l=r[n];return(n+(i-l)/(r[n+1]-l))/(a-1)},getTangent:function(t){var e=1e-4,i=t-e,r=t+e;i<0&&(i=0),r>1&&(r=1);var n=this.getPoint(i);return this.getPoint(r).clone().sub(n).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var i,r,n,a=new ke,o=[],s=[],u=[],l=new ke,h=new fi;for(i=0;i<=t;i++)r=i/t,o[i]=this.getTangentAt(r),o[i].normalize();s[0]=new ke,u[0]=new ke;var c=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=c&&(c=p,a.set(1,0,0)),d<=c&&(c=d,a.set(0,1,0)),f<=c&&a.set(0,0,1),l.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],l),u[0].crossVectors(o[0],s[0]),i=1;i<=t;i++)s[i]=s[i-1].clone(),u[i]=u[i-1].clone(),l.crossVectors(o[i-1],o[i]),l.length()>g.default&&(l.normalize(),n=Math.acos(Re.clamp(o[i-1].dot(o[i]),-1,1)),s[i].applyMatrix4(h.makeRotationAxis(l,n))),u[i].crossVectors(o[i],s[i]);if(!0===e)for(n=Math.acos(Re.clamp(s[0].dot(s[t]),-1,1)),n/=t,o[0].dot(l.crossVectors(s[0],s[t]))>0&&(n=-n),i=1;i<=t;i++)s[i].applyMatrix4(h.makeRotationAxis(o[i],n*i)),u[i].crossVectors(o[i],s[i]);return{tangents:o,normals:s,binormals:u}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Xs.prototype=(0,p.default)(js.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isEllipseCurve=!0,Xs.prototype.getPoint=function(t,e){for(var i=e||new Fe,r=2*Math.PI,n=this.aEndAngle-this.aStartAngle,a=Math.abs(n)<g.default;n<0;)n+=r;for(;n>r;)n-=r;n<g.default&&(n=a?0:r),!0!==this.aClockwise||a||(n===r?n=-r:n-=r);var o=this.aStartAngle+t*n,s=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),h=Math.sin(this.aRotation),c=s-this.aX,p=u-this.aY;s=c*l-p*h+this.aX,u=c*h+p*l+this.aY}return i.set(s,u)},Xs.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Xs.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Xs.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},qs.prototype=(0,p.default)(Xs.prototype),qs.prototype.constructor=qs,qs.prototype.isArcCurve=!0;var Js=new ke,Zs=new Ys,Qs=new Ys,Ks=new Ys;function $s(t,e,i,r){js.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=i||"centripetal",this.tension=r||.5}function tu(t,e,i,r,n){var a=.5*(r-e),o=.5*(n-i),s=t*t;return(2*i-2*r+a+o)*(t*s)+(-3*i+3*r-2*a-o)*s+a*t+i}function eu(t,e,i,r){return function(t,e){var i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,r)}function iu(t,e,i,r,n){return function(t,e){var i=1-t;return i*i*i*e}(t,e)+function(t,e){var i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,n)}function ru(t,e,i,r){js.call(this),this.type="CubicBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe,this.v3=r||new Fe}function nu(t,e,i,r){js.call(this),this.type="CubicBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke,this.v3=r||new ke}function au(t,e){js.call(this),this.type="LineCurve",this.v1=t||new Fe,this.v2=e||new Fe}function ou(t,e){js.call(this),this.type="LineCurve3",this.v1=t||new ke,this.v2=e||new ke}function su(t,e,i){js.call(this),this.type="QuadraticBezierCurve",this.v0=t||new Fe,this.v1=e||new Fe,this.v2=i||new Fe}function uu(t,e,i){js.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new ke,this.v1=e||new ke,this.v2=i||new ke}function lu(t){js.call(this),this.type="SplineCurve",this.points=t||[]}$s.prototype=(0,p.default)(js.prototype),$s.prototype.constructor=$s,$s.prototype.isCatmullRomCurve3=!0,$s.prototype.getPoint=function(t,e){var i,r,n,a,o=e||new ke,s=this.points,u=s.length,l=(u-(this.closed?0:1))*t,h=Math.floor(l),c=l-h;if(this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/u)+1)*u:0===c&&h===u-1&&(h=u-2,c=1),this.closed||h>0?i=s[(h-1)%u]:(Js.subVectors(s[0],s[1]).add(s[0]),i=Js),r=s[h%u],n=s[(h+1)%u],this.closed||h+2<u?a=s[(h+2)%u]:(Js.subVectors(s[u-1],s[u-2]).add(s[u-1]),a=Js),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(i.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(n),p),m=Math.pow(n.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),Zs.initNonuniformCatmullRom(i.x,r.x,n.x,a.x,d,f,m),Qs.initNonuniformCatmullRom(i.y,r.y,n.y,a.y,d,f,m),Ks.initNonuniformCatmullRom(i.z,r.z,n.z,a.z,d,f,m)}else"catmullrom"===this.curveType&&(Zs.initCatmullRom(i.x,r.x,n.x,a.x,this.tension),Qs.initCatmullRom(i.y,r.y,n.y,a.y,this.tension),Ks.initCatmullRom(i.z,r.z,n.z,a.z,this.tension));return o.set(Zs.calc(c),Qs.calc(c),Ks.calc(c)),o},$s.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},$s.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},$s.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ke).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},ru.prototype=(0,p.default)(js.prototype),ru.prototype.constructor=ru,ru.prototype.isCubicBezierCurve=!0,ru.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y)),i},ru.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},ru.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},ru.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},nu.prototype=(0,p.default)(js.prototype),nu.prototype.constructor=nu,nu.prototype.isCubicBezierCurve3=!0,nu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2,o=this.v3;return i.set(iu(t,r.x,n.x,a.x,o.x),iu(t,r.y,n.y,a.y,o.y),iu(t,r.z,n.z,a.z,o.z)),i},nu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},nu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},nu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},au.prototype=(0,p.default)(js.prototype),au.prototype.constructor=au,au.prototype.isLineCurve=!0,au.prototype.getPoint=function(t,e){var i=e||new Fe;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},au.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},au.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},au.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},au.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},au.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ou.prototype=(0,p.default)(js.prototype),ou.prototype.constructor=ou,ou.prototype.isLineCurve3=!0,ou.prototype.getPoint=function(t,e){var i=e||new ke;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},ou.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ou.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ou.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ou.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},su.prototype=(0,p.default)(js.prototype),su.prototype.constructor=su,su.prototype.isQuadraticBezierCurve=!0,su.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y)),i},su.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},su.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},su.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uu.prototype=(0,p.default)(js.prototype),uu.prototype.constructor=uu,uu.prototype.isQuadraticBezierCurve3=!0,uu.prototype.getPoint=function(t,e){var i=e||new ke,r=this.v0,n=this.v1,a=this.v2;return i.set(eu(t,r.x,n.x,a.x),eu(t,r.y,n.y,a.y),eu(t,r.z,n.z,a.z)),i},uu.prototype.copy=function(t){return js.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uu.prototype.fromJSON=function(t){return js.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lu.prototype=(0,p.default)(js.prototype),lu.prototype.constructor=lu,lu.prototype.isSplineCurve=!0,lu.prototype.getPoint=function(t,e){var i=e||new Fe,r=this.points,n=(r.length-1)*t,a=Math.floor(n),o=n-a,s=r[0===a?a:a-1],u=r[a],l=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return i.set(tu(o,s.x,u.x,l.x,h.x),tu(o,s.y,u.y,l.y,h.y)),i},lu.prototype.copy=function(t){js.prototype.copy.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push(r.clone())}return this},lu.prototype.toJSON=function(){var t=js.prototype.toJSON.call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++){var r=this.points[e];t.points.push(r.toArray())}return t},lu.prototype.fromJSON=function(t){js.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Fe).fromArray(r))}return this};var hu=(0,u.default)({ArcCurve:qs,CatmullRomCurve3:$s,CubicBezierCurve:ru,CubicBezierCurve3:nu,EllipseCurve:Xs,LineCurve:au,LineCurve3:ou,QuadraticBezierCurve:su,QuadraticBezierCurve3:uu,SplineCurve:lu});function cu(){js.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function pu(t){cu.call(this),this.type="Path",this.currentPoint=new Fe,t&&this.setFromPoints(t)}function du(t){pu.call(this,t),this.uuid=Re.generateUUID(),this.type="Shape",this.holes=[]}function fu(t,e){Fi.call(this),this.type="Light",this.color=new Mi(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function mu(t,e,i){fu.call(this,t,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.groundColor=new Mi(e)}function vu(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Fe(512,512),this.map=null,this.matrix=new fi}function gu(){vu.call(this,new da(50,1,.5,500))}function yu(t,e,i,r,n,a){fu.call(this,t,e),this.type="SpotLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==n?n:0,this.decay=void 0!==a?a:1,this.shadow=new gu}function xu(t,e,i,r){fu.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==r?r:1,this.shadow=new vu(new da(90,1,.5,500))}function bu(t,e,i,r,n,a){pa.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==i?i:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==n?n:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function wu(){vu.call(this,new bu(-5,5,5,-5,.5,500))}function _u(t,e){fu.call(this,t,e),this.type="DirectionalLight",this.position.copy(Fi.DefaultUp),this.updateMatrix(),this.target=new Fi,this.shadow=new wu}function Mu(t,e){fu.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function Su(t,e,i,r){fu.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==r?r:10}function Au(t){this.manager=void 0!==t?t:Ns,this.textures={}}cu.prototype=(0,f.default)((0,p.default)(js.prototype),{constructor:cu,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new au(e,t))},getPoint:function(t){for(var e=t*this.getLength(),i=this.getCurveLengths(),r=0;r<i.length;){if(i[r]>=e){var n=i[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,i=[],r=0,n=this.curves;r<n.length;r++)for(var a=n[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),u=0;u<s.length;u++){var l=s[u];e&&e.equals(l)||(i.push(l),e=l)}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i},copy:function(t){js.prototype.copy.call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=js.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){js.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new hu[r.type]).fromJSON(r))}return this}}),pu.prototype=(0,f.default)((0,p.default)(cu.prototype),{constructor:pu,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var i=new au(this.currentPoint.clone(),new Fe(t,e));this.curves.push(i),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,i,r){var n=new su(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r));this.curves.push(n),this.currentPoint.set(i,r)},bezierCurveTo:function(t,e,i,r,n,a){var o=new ru(this.currentPoint.clone(),new Fe(t,e),new Fe(i,r),new Fe(n,a));this.curves.push(o),this.currentPoint.set(n,a)},splineThru:function(t){var e=new lu([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,i,r,n,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,i,r,n,a)},absarc:function(t,e,i,r,n,a){this.absellipse(t,e,i,i,r,n,a)},ellipse:function(t,e,i,r,n,a,o,s){var u=this.currentPoint.x,l=this.currentPoint.y;this.absellipse(t+u,e+l,i,r,n,a,o,s)},absellipse:function(t,e,i,r,n,a,o,s){var u=new Xs(t,e,i,r,n,a,o,s);if(this.curves.length>0){var l=u.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(u);var h=u.getPoint(1);this.currentPoint.copy(h)},copy:function(t){return cu.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=cu.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return cu.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),du.prototype=(0,f.default)((0,p.default)(pu.prototype),{constructor:du,getPointsHoles:function(t){for(var e=[],i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){pu.prototype.copy.call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=pu.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){pu.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new pu).fromJSON(r))}return this}}),fu.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:fu,isLight:!0,copy:function(t){return Fi.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:mu,isHemisphereLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),(0,f.default)(vu.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),gu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:gu,isSpotLightShadow:!0,update:function(t){var e=this.camera,i=2*Re.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,n=t.distance||e.far;i===e.fov&&r===e.aspect&&n===e.far||(e.fov=i,e.aspect=r,e.far=n,e.updateProjectionMatrix())}}),yu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:yu,isSpotLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),xu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:xu,isPointLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),bu.prototype=(0,f.default)((0,p.default)(pa.prototype),{constructor:bu,isOrthographicCamera:!0,copy:function(t,e){return pa.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:(0,f.default)({},t.view),this},setViewOffset:function(t,e,i,r,n,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=n,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2,n=i-t,a=i+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var u=this.zoom/(this.view.width/this.view.fullWidth),l=this.zoom/(this.view.height/this.view.fullHeight),h=(this.right-this.left)/this.view.width,c=(this.top-this.bottom)/this.view.height;a=(n+=h*(this.view.offsetX/u))+h*(this.view.width/u),s=(o-=c*(this.view.offsetY/l))-c*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Fi.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=(0,f.default)({},this.view)),e}}),wu.prototype=(0,f.default)((0,p.default)(vu.prototype),{constructor:wu}),_u.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:_u,isDirectionalLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mu.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Mu,isAmbientLight:!0}),Su.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Su,isRectAreaLight:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=fu.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),(0,f.default)(Au.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=this.textures;function i(t){return e[t],e[t]}var r=new ys[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var n in t.uniforms){var a=t.uniforms[n];switch(r.uniforms[n]={},a.type){case"t":r.uniforms[n].value=i(a.value);break;case"c":r.uniforms[n].value=(new Mi).setHex(a.value);break;case"v2":r.uniforms[n].value=(new Fe).fromArray(a.value);break;case"v3":r.uniforms[n].value=(new ke).fromArray(a.value);break;case"v4":r.uniforms[n].value=(new ai).fromArray(a.value);break;case"m3":r.uniforms[n].value=(new Ge).fromArray(a.value);case"m4":r.uniforms[n].value=(new fi).fromArray(a.value);break;default:r.uniforms[n].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)r.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=i(t.map)),void 0!==t.matcap&&(r.matcap=i(t.matcap)),void 0!==t.alphaMap&&(r.alphaMap=i(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new Fe).fromArray(s)}return void 0!==t.displacementMap&&(r.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=i(t.specularMap)),void 0!==t.envMap&&(r.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=i(t.gradientMap)),r},setPath:function(t){return this.path=t,this},setTextures:function(t){return this.textures=t,this}});var Tu={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function Lu(){ir.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Pu(t,e,i,r){"number"==typeof i&&(r=i,i=!1),Wi.call(this,t,e,i),this.meshPerAttribute=r||1}function Cu(t){this.manager=void 0!==t?t:Ns}Lu.prototype=(0,f.default)((0,p.default)(ir.prototype),{constructor:Lu,isInstancedBufferGeometry:!0,copy:function(t){return ir.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=ir.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),Pu.prototype=(0,f.default)((0,p.default)(Wi.prototype),{constructor:Pu,isInstancedBufferAttribute:!0,copy:function(t){return Wi.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Wi.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),(0,f.default)(Cu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(n.manager);a.setPath(n.path),a.load(t,(function(t){e(n.parse(JSON.parse(t)))}),i,r)},parse:function(t){var e=t.isInstancedBufferGeometry?new Lu:new ir,i=t.data.index;if(void 0!==i){var r=new Eu[i.type](i.array);e.setIndex(new Wi(r,1))}var n=t.data.attributes;for(var a in n){var o=n[a],s=(r=new Eu[o.type](o.array),new(o.isInstancedBufferAttribute?Pu:Wi)(r,o.itemSize,o.normalized));void 0!==o.name&&(s.name=o.name),e.addAttribute(a,s)}var u=t.data.morphAttributes;if(u)for(var a in u){for(var l=u[a],h=[],c=0,p=l.length;c<p;c++)o=l[c],s=new Wi(r=new Eu[o.type](o.array),o.itemSize,o.normalized),void 0!==o.name&&(s.name=o.name),h.push(s);e.morphAttributes[a]=h}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){c=0;for(var f=d.length;c!==f;++c){var m=d[c];e.addGroup(m.start,m.count,m.materialIndex)}}var v=t.data.boundingSphere;if(void 0!==v){var g=new ke;void 0!==v.center&&g.fromArray(v.center),e.boundingSphere=new ci(g,v.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e},setPath:function(t){return this.path=t,this}});var Eu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Iu(t){this.manager=void 0!==t?t:Ns,this.resourcePath=""}(0,f.default)(Iu.prototype,{crossOrigin:"anonymous",load:function(t,e,i,r){var n=this,a=void 0===this.path?Tu.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new Fs(n.manager);o.setPath(this.path),o.load(t,(function(t){var i=null;try{i=JSON.parse(t)}catch(t){return void 0!==r&&r(t),void t.message}var a=i.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()&&n.parse(i,e)}),i,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var i=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,i),n=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),a=this.parseTextures(t.textures,n),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var i=0,r=t.length;i<r;i++){var n=(new du).fromJSON(t[i]);e[n.uuid]=n}return e},parseGeometries:function(t,e){var i={};if(void 0!==t)for(var r=new Cu,n=0,a=t.length;n<a;n++){var o,s=t[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new ss[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new ss[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new ss[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new ss[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new ss[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new ss[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":o=new ss[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new ss[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new ss[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":o=new ss[s.type]((new hu[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":o=new ss[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":o=new ss[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],l=0,h=s.shapes.length;l<h;l++){var c=e[s.shapes[l]];u.push(c)}o=new ss[s.type](u,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(u=[],l=0,h=s.shapes.length;l<h;l++)c=e[s.shapes[l]],u.push(c);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new hu[p.type]).fromJSON(p)),o=new ss[s.type](u,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE&&(o=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry);break;default:s.type;continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),!0===o.isBufferGeometry&&void 0!==s.userData&&(o.userData=s.userData),i[s.uuid]=o}return i},parseMaterials:function(t,e){var i={},r={};if(void 0!==t){var n=new Au;n.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var u=[],l=0;l<s.materials.length;l++){var h=s.materials[l];void 0===i[h.uuid]&&(i[h.uuid]=n.parse(h)),u.push(i[h.uuid])}r[s.uuid]=u}else void 0===i[s.uuid]&&(i[s.uuid]=n.parse(s)),r[s.uuid]=i[s.uuid]}}return r},parseAnimations:function(t){for(var e=[],i=0;i<t.length;i++){var r=t[i],n=Ds.parse(r);void 0!==r.uuid&&(n.uuid=r.uuid),e.push(n)}return e},parseImages:function(t,e){var i=this,r={};function n(t){return i.manager.itemStart(t),a.load(t,(function(){i.manager.itemEnd(t)}),void 0,(function(){i.manager.itemError(t),i.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new Vs(new zs(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var u=t[o],l=u.url;if(Array.isArray(l)){r[u.uuid]=[];for(var h=0,c=l.length;h<c;h++){var p=l[h],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;r[u.uuid].push(n(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.resourcePath+u.url,r[u.uuid]=n(d)}}return r},parseTextures:function(t,e){function i(t,e){return"number"==typeof t?t:e[t]}var r={};if(void 0!==t)for(var n=0,a=t.length;n<a;n++){var o,s=t[n];void 0===s.image&&s.uuid,void 0===e[s.image]&&s.image,(o=Array.isArray(e[s.image])?new Ur(e[s.image]):new ni(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=i(s.mapping,Ru)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=i(s.wrap[0],Fu),o.wrapT=i(s.wrap[1],Fu)),void 0!==s.format&&(o.format=s.format),void 0!==s.type&&(o.type=s.type),void 0!==s.encoding&&(o.encoding=s.encoding),void 0!==s.minFilter&&(o.minFilter=i(s.minFilter,Uu)),void 0!==s.magFilter&&(o.magFilter=i(s.magFilter,Uu)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(o.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(o.unpackAlignment=s.unpackAlignment),r[s.uuid]=o}return r},parseObject:function(t,e,i){var r;function n(t){return e[t],e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,n=t.length;r<n;r++){var a=t[r];i[a],e.push(i[a])}return e}return i[t],i[t]}}switch(t.type){case"Scene":r=new Ca,void 0!==t.background&&(0,v.default)(t.background)&&(r.background=new Mi(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Pa(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new La(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new da(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"OrthographicCamera":r=new bu(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=(0,f.default)({},t.view));break;case"AmbientLight":r=new Mu(t.color,t.intensity);break;case"DirectionalLight":r=new _u(t.color,t.intensity);break;case"PointLight":r=new xu(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new Su(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new yu(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new mu(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":case"Mesh":var o=n(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new za(o,s):new Lr(o,s),void 0!==t.drawMode&&r.setDrawMode(t.drawMode);break;case"LOD":r=new Oa;break;case"Line":r=new Ua(n(t.geometry),a(t.material),t.mode);break;case"LineLoop":r=new Ga(n(t.geometry),a(t.material));break;case"LineSegments":r=new ka(n(t.geometry),a(t.material));break;case"PointCloud":case"Points":r=new Wa(n(t.geometry),a(t.material));break;case"Sprite":r=new Ba(a(t.material));break;case"Group":r=new ca;break;default:r=new Fi}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var u=t.children,l=0;l<u.length;l++)r.add(this.parseObject(u[l],e,i));if("LOD"===t.type)for(var h=t.levels,c=0;c<h.length;c++){var p=h[c],d=r.getObjectByProperty("uuid",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var Du,Bu,Ou,zu,Nu,Ru={UVMapping:pt,CubeReflectionMapping:dt,CubeRefractionMapping:ft,EquirectangularReflectionMapping:mt,EquirectangularRefractionMapping:vt,SphericalReflectionMapping:gt,CubeUVReflectionMapping:yt,CubeUVRefractionMapping:xt},Fu={RepeatWrapping:bt,ClampToEdgeWrapping:wt,MirroredRepeatWrapping:_t},Uu={NearestFilter:Mt,NearestMipMapNearestFilter:St,NearestMipMapLinearFilter:At,LinearFilter:Tt,LinearMipMapNearestFilter:Lt,LinearMipMapLinearFilter:Pt};function ku(t){this.manager=void 0!==t?t:Ns,this.options=void 0}function Gu(){this.type="ShapePath",this.color=new Mi,this.subPaths=[],this.currentPath=null}function Vu(t){this.type="Font",this.data=t}function Wu(t,e,i,r,n){var a=n.glyphs[t]||n.glyphs["?"];if(a){var o,s,u,l,h,c,p,d,f=new Gu;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,g=m.length;v<g;)switch(m[v++]){case"m":o=m[v++]*e+i,s=m[v++]*e+r,f.moveTo(o,s);break;case"l":o=m[v++]*e+i,s=m[v++]*e+r,f.lineTo(o,s);break;case"q":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,f.quadraticCurveTo(h,c,u,l);break;case"b":u=m[v++]*e+i,l=m[v++]*e+r,h=m[v++]*e+i,c=m[v++]*e+r,p=m[v++]*e+i,d=m[v++]*e+r,f.bezierCurveTo(h,c,p,d,u,l)}return{offsetX:a.ha*e,path:f}}}function Hu(t){this.manager=void 0!==t?t:Ns}function ju(){}ku.prototype={constructor:ku,setOptions:function(t){return this.options=t,this},load:function(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var n=this,a=Os.get(t);if(void 0!==a)return n.manager.itemStart(t),setTimeout((function(){e&&e(a),n.manager.itemEnd(t)}),0),a;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===n.options?createImageBitmap(t):createImageBitmap(t,n.options)})).then((function(i){Os.add(t,i),e&&e(i),n.manager.itemEnd(t)})).catch((function(e){r&&r(e),n.manager.itemError(t),n.manager.itemEnd(t)})),n.manager.itemStart(t)},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},(0,f.default)(Gu.prototype,{moveTo:function(t,e){this.currentPath=new pu,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,i,r){this.currentPath.quadraticCurveTo(t,e,i,r)},bezierCurveTo:function(t,e,i,r,n,a){this.currentPath.bezierCurveTo(t,e,i,r,n,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function i(t){for(var e=[],i=0,r=t.length;i<r;i++){var n=t[i],a=new du;a.curves=n.curves,e.push(a)}return e}function r(t,e){for(var i=e.length,r=!1,n=i-1,a=0;a<i;n=a++){var o=e[n],s=e[a],u=s.x-o.x,l=s.y-o.y;if(Math.abs(l)>g.default){if(l<0&&(o=e[a],u=-u,s=e[n],l=-l),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var h=l*(t.x-o.x)-u*(t.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var n=No.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return i(a);var o,s,u,l=[];if(1===a.length)return s=a[0],(u=new du).curves=s.curves,l.push(u),l;var h=!n(a[0].getPoints());h=t?!h:h;var c,p,d=[],f=[],m=[],v=0;f[v]=void 0,m[v]=[];for(var y=0,x=a.length;y<x;y++)o=n(c=(s=a[y]).getPoints()),(o=t?!o:o)?(!h&&f[v]&&v++,f[v]={s:new du,p:c},f[v].s.curves=s.curves,h&&v++,m[v]=[]):m[v].push({h:s,p:c[0]});if(!f[0])return i(a);if(f.length>1){for(var b=!1,w=[],_=0,M=f.length;_<M;_++)d[_]=[];for(_=0,M=f.length;_<M;_++)for(var S=m[_],A=0;A<S.length;A++){for(var T=S[A],L=!0,P=0;P<f.length;P++)r(T.p,f[P].p)&&(_!==P&&w.push({froms:_,tos:P,hole:A}),L?(L=!1,d[P].push(T)):b=!0);L&&d[_].push(T)}w.length>0&&(b||(m=d))}y=0;for(var C=f.length;y<C;y++){u=f[y].s,l.push(u);for(var E=0,I=(p=m[y]).length;E<I;E++)u.holes.push(p[E].h)}return l}}),(0,f.default)(Vu.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var i=[],r=function(t,e,i){for(var r=s.default?(0,s.default)(t):String(t).split(""),n=e/i.resolution,a=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*n,o=[],u=0,l=0,h=0;h<r.length;h++){var c=r[h];if("\n"===c)u=0,l-=a;else{var p=Wu(c,n,u,l,i);u+=p.offsetX,o.push(p.path)}}return o}(t,e,this.data),n=0,a=r.length;n<a;n++)Array.prototype.push.apply(i,r[n].toShapes());return i}}),(0,f.default)(Hu.prototype,{load:function(t,e,i,r){var n=this,a=new Fs(this.manager);a.setPath(this.path),a.load(t,(function(t){var i;try{i=JSON.parse(t)}catch(e){i=JSON.parse(t.substring(65,t.length-2))}var r=n.parse(i);e&&e(r)}),i,r)},parse:function(t){return new Vu(t)},setPath:function(t){return this.path=t,this}}),ju.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,i=0,r=e.length;i<r;i+=2){var n=e[i],a=e[i+1];if(n.test(t))return a}return null}},(0,f.default)(ju.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,i){for(var r=[],n=0;n<t.length;++n)r[n]=this.createMaterial(t[n],e,i);return r},createMaterial:(Du={NoBlending:L,NormalBlending:P,AdditiveBlending:C,SubtractiveBlending:E,MultiplyBlending:I,CustomBlending:D},Bu=new Mi,Ou=new Hs,zu=new Au,function(t,e,i){var r={};function n(t,n,a,o,s){var u,l=e+t,h=ju.Handlers.get(l);null!==h?u=h.load(l):(Ou.setCrossOrigin(i),u=Ou.load(l)),void 0!==n&&(u.repeat.fromArray(n),1!==n[0]&&(u.wrapS=bt),1!==n[1]&&(u.wrapT=bt)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=bt),"mirror"===o[0]&&(u.wrapS=_t),"repeat"===o[1]&&(u.wrapT=bt),"mirror"===o[1]&&(u.wrapT=_t)),void 0!==s&&(u.anisotropy=s);var c=Re.generateUUID();return r[c]=u,c}var a={uuid:Re.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":case"colorAmbient":case"mapAmbient":case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":default:break;case"DbgName":a.name=s;break;case"blending":a.blending=Du[s];break;case"colorDiffuse":a.color=Bu.fromArray(s).getHex();break;case"colorSpecular":a.specular=Bu.fromArray(s).getHex();break;case"colorEmissive":a.emissive=Bu.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial"),"standard"===s.toLowerCase()&&(a.type="MeshStandardMaterial");break;case"mapDiffuse":a.map=n(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapEmissive":a.emissiveMap=n(s,t.mapEmissiveRepeat,t.mapEmissiveOffset,t.mapEmissiveWrap,t.mapEmissiveAnisotropy);break;case"mapLight":a.lightMap=n(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapAO":a.aoMap=n(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapBump":a.bumpMap=n(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapNormal":a.normalMap=n(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=s;break;case"mapSpecular":a.specularMap=n(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapMetalness":a.metalnessMap=n(s,t.mapMetalnessRepeat,t.mapMetalnessOffset,t.mapMetalnessWrap,t.mapMetalnessAnisotropy);break;case"mapRoughness":a.roughnessMap=n(s,t.mapRoughnessRepeat,t.mapRoughnessOffset,t.mapRoughnessWrap,t.mapRoughnessAnisotropy);break;case"mapAlpha":a.alphaMap=n(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"flipSided":a.side=M;break;case"doubleSided":a.side=S;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=T),"face"===s&&(a.vertexColors=1)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),zu.setTextures(r),zu.parse(a)})});var Xu={getContext:function(){return void 0===Nu&&(Nu=new(window.AudioContext||window.webkitAudioContext)),Nu},setContext:function(t){Nu=t}};function qu(t){this.manager=void 0!==t?t:Ns}function Yu(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new ke)}function Ju(t,e){fu.call(this,void 0,e),this.sh=void 0!==t?t:new Yu}function Zu(t,e,i){Ju.call(this,void 0,i);var r=(new Mi).set(t),n=(new Mi).set(e),a=new ke(r.r,r.g,r.b),o=new ke(n.r,n.g,n.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(s),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(u)}function Qu(t,e){Ju.call(this,void 0,e);var i=(new Mi).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}function Ku(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}(0,f.default)(qu.prototype,{load:function(t,e,i,r){var n=new Fs(this.manager);n.setResponseType("arraybuffer"),n.setPath(this.path),n.load(t,(function(t){var i=t.slice(0);Xu.getContext().decodeAudioData(i,(function(t){e(t)}))}),i,r)},setPath:function(t){return this.path=t,this}}),(0,f.default)(Yu.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.282095*a[0],e+=.488603*a[1]*r,e+=.488603*a[2]*n,e+=.488603*a[3]*i,e+=1.092548*a[4]*(i*r),e+=1.092548*a[5]*(r*n),e+=.315392*a[6]*(3*n*n-1),e+=1.092548*a[7]*(i*n),e+=.546274*a[8]*(i*i-r*r)},getIrradianceAt:function(t,e){var i=t.x,r=t.y,n=t.z,a=this.coefficients;return e=.886227*a[0],e+=2*a[1]*.511664*r,e+=2*a[2]*.511664*n,e+=2*a[3]*.511664*i,e+=2*a[4]*.429043*i*r,e+=2*a[5]*.429043*r*n,e+=a[6]*(.743125*n*n-.247708),e+=2*a[7]*.429043*i*n,e+=.429043*a[8]*(i*i-r*r)},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t){for(var e=this.coefficients,i=0;i<9;i++)e[i].fromArray(t,3*i);return this},toArray:function(){for(var t=[],e=this.coefficients,i=0;i<9;i++)e[i].toArray(t,3*i);return t}}),(0,f.default)(Yu,{getBasisAt:function(t,e){var i=t.x,r=t.y,n=t.z;e[0]=.282095,e[1]=.488603*r,e[2]=.488603*n,e[3]=.488603*i,e[4]=1.092548*i*r,e[5]=1.092548*r*n,e[6]=.315392*(3*n*n-1),e[7]=1.092548*i*n,e[8]=.546274*(i*i-r*r)}}),Ju.prototype=(0,f.default)((0,p.default)(fu.prototype),{constructor:Ju,isLightProbe:!0,copy:function(t){return fu.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return fu.prototype.toJSON.call(this,t)}}),Zu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Zu,isHemisphereLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),Qu.prototype=(0,f.default)((0,p.default)(Ju.prototype),{constructor:Qu,isAmbientLightProbe:!0,copy:function(t){return Ju.prototype.copy.call(this,t),this},toJSON:function(t){return Ju.prototype.toJSON.call(this,t)}}),(0,f.default)(Ku.prototype,{update:function(){var t,e,i,r,n,a,o,s,u=new fi,l=new fi;return function(h){if(t!==this||e!==h.focus||i!==h.fov||r!==h.aspect*this.aspect||n!==h.near||a!==h.far||o!==h.zoom||s!==this.eyeSep){t=this,e=h.focus,i=h.fov,r=h.aspect*this.aspect,n=h.near,a=h.far,o=h.zoom;var c,p,d=h.projectionMatrix.clone(),f=(s=this.eyeSep/2)*n/e,m=n*Math.tan(Re.DEG2RAD*i*.5)/o;l.elements[12]=-s,u.elements[12]=s,c=-m*r+f,p=m*r+f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraL.projectionMatrix.copy(d),c=-m*r-f,p=m*r-f,d.elements[0]=2*n/(p-c),d.elements[8]=(p+c)/(p-c),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(u)}}()});var $u=90;function tl(t,e,i,r){Fi.call(this),this.type="CubeCamera";var n=new da($u,1,t,e);n.up.set(0,-1,0),n.lookAt(new ke(1,0,0)),this.add(n);var a=new da($u,1,t,e);a.up.set(0,-1,0),a.lookAt(new ke(-1,0,0)),this.add(a);var o=new da($u,1,t,e);o.up.set(0,0,1),o.lookAt(new ke(0,1,0)),this.add(o);var s=new da($u,1,t,e);s.up.set(0,0,-1),s.lookAt(new ke(0,-1,0)),this.add(s);var u=new da($u,1,t,e);u.up.set(0,-1,0),u.lookAt(new ke(0,0,1)),this.add(u);var l=new da($u,1,t,e);l.up.set(0,-1,0),l.lookAt(new ke(0,0,-1)),this.add(l),r=r||{format:Vt,magFilter:Tt,minFilter:Tt},this.renderTarget=new ui(i,i,r),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var i=t.getRenderTarget(),r=this.renderTarget,h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,t.setRenderTarget(r,0),t.render(e,n),t.setRenderTarget(r,1),t.render(e,a),t.setRenderTarget(r,2),t.render(e,o),t.setRenderTarget(r,3),t.render(e,s),t.setRenderTarget(r,4),t.render(e,u),r.texture.generateMipmaps=h,t.setRenderTarget(r,5),t.render(e,l),t.setRenderTarget(i)},this.clear=function(t,e,i,r){for(var n=t.getRenderTarget(),a=this.renderTarget,o=0;o<6;o++)t.setRenderTarget(a,o),t.clear(e,i,r);t.setRenderTarget(n)}}function el(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function il(){Fi.call(this),this.type="AudioListener",this.context=Xu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0}function rl(t){Fi.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function nl(t){rl.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function al(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function ol(t,e,i){this.binding=t,this.valueSize=i;var r,n=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":n=Array,r=this._select;break;default:r=this._lerp}this.buffer=new n(4*i),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}tl.prototype=(0,p.default)(Fi.prototype),tl.prototype.constructor=tl,(0,f.default)(el.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),il.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:il,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke,n=new el;return function(a){Fi.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener,s=this.up;if(this.timeDelta=n.getDelta(),this.matrixWorld.decompose(t,e,i),r.set(0,0,-1).applyQuaternion(e),o.positionX){var u=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(t.x,u),o.positionY.linearRampToValueAtTime(t.y,u),o.positionZ.linearRampToValueAtTime(t.z,u),o.forwardX.linearRampToValueAtTime(r.x,u),o.forwardY.linearRampToValueAtTime(r.y,u),o.forwardZ.linearRampToValueAtTime(r.z,u),o.upX.linearRampToValueAtTime(s.x,u),o.upY.linearRampToValueAtTime(s.y,u),o.upZ.linearRampToValueAtTime(s.z,u)}else o.setPosition(t.x,t.y,t.z),o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}()}),rl.prototype=(0,f.default)((0,p.default)(Fi.prototype),{constructor:rl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),nl.prototype=(0,f.default)((0,p.default)(rl.prototype),{constructor:nl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this},updateMatrixWorld:function(){var t=new ke,e=new Ue,i=new ke,r=new ke;return function(n){if(Fi.prototype.updateMatrixWorld.call(this,n),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(t,e,i),r.set(0,0,1).applyQuaternion(e);var a=this.panner;if(a.positionX){var o=this.context.currentTime+this.listener.timeDelta;a.positionX.linearRampToValueAtTime(t.x,o),a.positionY.linearRampToValueAtTime(t.y,o),a.positionZ.linearRampToValueAtTime(t.z,o),a.orientationX.linearRampToValueAtTime(r.x,o),a.orientationY.linearRampToValueAtTime(r.y,o),a.orientationZ.linearRampToValueAtTime(r.z,o)}else a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}}()}),(0,f.default)(al.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),i=0;i<e.length;i++)t+=e[i];return t/e.length}}),(0,f.default)(ol.prototype,{accumulate:function(t,e){var i=this.buffer,r=this.valueSize,n=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)i[n+o]=i[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,i=this.buffer,r=t*e+e,n=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,n<1){var o=3*e;this._mixBufferRegion(i,r,o,1-n,e)}for(var s=e,u=e+e;s!==u;++s)if(i[s]!==i[s+e]){a.setValue(i,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,i=this.valueSize,r=3*i;t.getValue(e,r);for(var n=i,a=r;n!==a;++n)e[n]=e[r+n%i];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,i,r,n){if(r>=.5)for(var a=0;a!==n;++a)t[e+a]=t[i+a]},_slerp:function(t,e,i,r){Ue.slerpFlat(t,e,t,e,t,i,r)},_lerp:function(t,e,i,r,n){for(var a=1-r,o=0;o!==n;++o){var s=e+o;t[s]=t[s]*a+t[i+o]*r}}});var sl,ul,ll,hl,cl,pl,dl,fl,ml,vl,gl,yl,xl,bl,wl,_l="\\[\\]\\.:\\/";function Ml(t,e,i){var r=i||Sl.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function Sl(t,e,i){this.path=e,this.parsedPath=i||Sl.parseTrackName(e),this.node=Sl.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Al(){this.uuid=Re.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,i=arguments.length;e!==i;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Tl(t,e,i){this._mixer=t,this._clip=e,this._localRoot=i||null;for(var r=e.tracks,n=r.length,a=new Array(n),o={endingStart:_e,endingEnd:_e},s=0;s!==n;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(n),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Ll(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Pl(t){"string"==typeof t&&(t=arguments[1]),this.value=t}function Cl(t,e,i){Ea.call(this,t,e),this.meshPerAttribute=i||1}function El(t,e,i,r){this.ray=new Sr(t,e),this.near=i||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},(0,d.default)(this.params,{PointCloud:{get:function(){return this.Points}}})}function Il(t,e){return t.distance-e.distance}function Dl(t,e,i,r){if(!1!==t.visible&&(t.raycast(e,i),!0===r))for(var n=t.children,a=0,o=n.length;a<o;a++)Dl(n[a],e,i,!0)}function Bl(t,e,i){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==i?i:0,this}function Ol(t,e,i){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==i?i:0,this}function zl(t,e){this.min=void 0!==t?t:new Fe(1/0,1/0),this.max=void 0!==e?e:new Fe(-1/0,-1/0)}function Nl(t,e){this.start=void 0!==t?t:new ke,this.end=void 0!==e?e:new ke}function Rl(t){Fi.call(this),this.material=t,this.render=function(){}}function Fl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Ul(t,e){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var i=new ir,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,a=1;n<32;n++,a++){var o=n/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}i.addAttribute("position",new Qi(r,3));var u=new Fa({fog:!1});this.cone=new ka(i,u),this.add(this.cone),this.update()}function kl(t){var e=[];t&&t.isBone&&e.push(t);for(var i=0;i<t.children.length;i++)e.push.apply(e,kl(t.children[i]));return e}function Gl(t){for(var e=kl(t),i=new ir,r=[],n=[],a=new Mi(0,0,1),o=new Mi(0,1,0),s=0;s<e.length;s++){var u=e[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),n.push(a.r,a.g,a.b),n.push(o.r,o.g,o.b))}i.addAttribute("position",new Qi(r,3)),i.addAttribute("color",new Qi(n,3));var l=new Fa({vertexColors:T,depthTest:!1,depthWrite:!1,transparent:!0});ka.call(this,i,l),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Vl(t,e,i){this.light=t,this.light.updateMatrixWorld(),this.color=i;var r=new Xo(e,4,2),n=new Tr({wireframe:!0,fog:!1});Lr.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Wl(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var i=new ir;i.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere();var r=new Fa({fog:!1});Ua.call(this,i,r);var n=new ir;n.addAttribute("position",new Qi([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),n.computeBoundingSphere(),this.add(new Lr(n,new Tr({side:M,fog:!1}))),this.update()}function Hl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var r=new io(e);r.rotateY(.5*Math.PI),this.material=new Tr({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=T);var n=r.getAttribute("position"),a=new Float32Array(3*n.count);r.addAttribute("color",new Wi(a,3)),this.add(new Lr(r,this.material)),this.update()}function jl(t,e){this.lightProbe=t,this.size=e;var i={GAMMA_OUTPUT:""},r=new Mr({defines:i,uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),n=new Xo(1,32,16);Lr.call(this,n,r),this.onBeforeRender()}function Xl(t,e,i,r){t=t||10,e=e||10,i=new Mi(void 0!==i?i:4473924),r=new Mi(void 0!==r?r:8947848);for(var n=e/2,a=t/e,o=t/2,s=[],u=[],l=0,h=0,c=-o;l<=e;l++,c+=a){s.push(-o,0,c,o,0,c),s.push(c,0,-o,c,0,o);var p=l===n?i:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}var d=new ir;d.addAttribute("position",new Qi(s,3)),d.addAttribute("color",new Qi(u,3));var f=new Fa({vertexColors:T});ka.call(this,d,f)}function ql(t,e,i,r,n,a){t=t||10,e=e||16,i=i||8,r=r||64,n=new Mi(void 0!==n?n:4473924),a=new Mi(void 0!==a?a:8947848);var o,s,u,l,h,c,p,d=[],f=[];for(l=0;l<=e;l++)u=l/e*(2*Math.PI),o=Math.sin(u)*t,s=Math.cos(u)*t,d.push(0,0,0),d.push(o,0,s),p=1&l?n:a,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(l=0;l<=i;l++)for(p=1&l?n:a,c=t-t/i*l,h=0;h<r;h++)u=h/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b),u=(h+1)/r*(2*Math.PI),o=Math.sin(u)*c,s=Math.cos(u)*c,d.push(o,0,s),f.push(p.r,p.g,p.b);var m=new ir;m.addAttribute("position",new Qi(d,3)),m.addAttribute("color",new Qi(f,3));var v=new Fa({vertexColors:T});ka.call(this,m,v)}function Yl(t,e,i,r){this.audio=t,this.range=e||1,this.divisionsInnerAngle=i||16,this.divisionsOuterAngle=r||2;var n=new ir,a=this.divisionsInnerAngle+2*this.divisionsOuterAngle,o=new Float32Array(3*(3*a+3));n.addAttribute("position",new Wi(o,3));var s=new Fa({color:65280}),u=new Fa({color:16776960});Ua.call(this,n,[u,s]),this.update()}function Jl(t,e,i,r){this.object=t,this.size=void 0!==e?e:1;var n=void 0!==i?i:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry&&(o=s.faces.length);var u=new ir,l=new Qi(2*o*3,3);u.addAttribute("position",l),ka.call(this,u,new Fa({color:n,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Zl(t,e,i){Fi.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===e&&(e=1);var r=new ir;r.addAttribute("position",new Qi([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var n=new Fa({fog:!1});this.lightPlane=new Ua(r,n),this.add(this.lightPlane),(r=new ir).addAttribute("position",new Qi([0,0,0,0,0,1],3)),this.targetLine=new Ua(r,n),this.add(this.targetLine),this.update()}function Ql(t){var e=new ir,i=new Fa({color:16777215,vertexColors:1}),r=[],n=[],a={},o=new Mi(16755200),s=new Mi(16711680),u=new Mi(43775),l=new Mi(16777215),h=new Mi(3355443);function c(t,e,i){p(t,i),p(e,i)}function p(t,e){r.push(0,0,0),n.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}c("n1","n2",o),c("n2","n4",o),c("n4","n3",o),c("n3","n1",o),c("f1","f2",o),c("f2","f4",o),c("f4","f3",o),c("f3","f1",o),c("n1","f1",o),c("n2","f2",o),c("n3","f3",o),c("n4","f4",o),c("p","n1",s),c("p","n2",s),c("p","n3",s),c("p","n4",s),c("u1","u2",u),c("u2","u3",u),c("u3","u1",u),c("c","t",l),c("p","c",h),c("cn1","cn2",h),c("cn3","cn4",h),c("cf1","cf2",h),c("cf3","cf4",h),e.addAttribute("position",new Qi(r,3)),e.addAttribute("color",new Qi(n,3)),ka.call(this,e,i),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Kl(t,e){this.object=t,void 0===e&&(e=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),n=new ir;n.setIndex(new Wi(i,1)),n.addAttribute("position",new Wi(r,3)),ka.call(this,n,new Fa({color:e})),this.matrixAutoUpdate=!1,this.update()}function $l(t,e){this.type="Box3Helper",this.box=t;var i=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new ir;n.setIndex(new Wi(r,1)),n.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),ka.call(this,n,new Fa({color:i})),this.geometry.computeBoundingSphere()}function th(t,e,i){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==i?i:16776960,n=new ir;n.addAttribute("position",new Qi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),n.computeBoundingSphere(),Ua.call(this,n,new Fa({color:r}));var a=new ir;a.addAttribute("position",new Qi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new Lr(a,new Tr({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function eh(t,e,i,r,n,a){Fi.call(this),void 0===t&&(t=new ke(0,0,1)),void 0===e&&(e=new ke(0,0,0)),void 0===i&&(i=1),void 0===r&&(r=16776960),void 0===n&&(n=.2*i),void 0===a&&(a=.2*n),void 0===yl&&((yl=new ir).addAttribute("position",new Qi([0,0,0,0,1,0],3)),(xl=new is(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new Ua(yl,new Fa({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Lr(xl,new Tr({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,n,a)}function ih(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=new ir;i.addAttribute("position",new Qi(e,3)),i.addAttribute("color",new Qi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Fa({vertexColors:T});ka.call(this,i,r)}function rh(t){$s.call(this,t),this.type="catmullrom",this.closed=!0}function nh(t){$s.call(this,t),this.type="catmullrom"}function ah(t){$s.call(this,t),this.type="catmullrom"}(0,f.default)(Ml.prototype,{getValue:function(t,e){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var i=this._bindings,r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r)i[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),(0,f.default)(Sl,{Composite:Ml,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Sl.Composite(t,e,i):new Sl(t,e,i)},sanitizeNodeName:(ml=new RegExp("["+_l+"]","g"),function(t){return t.replace(/\s/g,"_").replace(ml,"")}),parseTrackName:(sl="[^"+_l+"]",ul="[^"+_l.replace("\\.","")+"]",ll=/((?:WC+[\/:])*)/.source.replace("WC",sl),hl=/(WCOD+)?/.source.replace("WCOD",ul),cl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",sl),pl=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",sl),dl=new RegExp("^"+ll+hl+cl+pl+"$"),fl=["material","materials","bones"],function(t){var e=dl.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var n=i.nodeName.substring(r+1);-1!==fl.indexOf(n)&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=n)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){var r=function t(i){for(var r=0;r<i.length;r++){var n=i[r];if(n.name===e||n.uuid===e)return n;var a=t(n.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),(0,f.default)(Sl.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)t[e++]=i[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++]},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var i=this.resolvedProperty,r=0,n=i.length;r!==n;++r)i[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,i=e.objectName,r=e.propertyName,n=e.propertyIndex;if(t||(t=Sl.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(i){var a=e.objectIndex;switch(i){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[i])return;t=t[i]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var l=this.BindingType.Direct;if(void 0!==n){if("morphTargetInfluences"===r){if(!t.geometry)return;if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return;for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===n){n=o;break}}else{if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===n){n=o;break}}}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=n}else void 0!==s.fromArray&&void 0!==s.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}else e.nodeName}else this.path},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),(0,f.default)(Sl.prototype,{_getValue_unbound:Sl.prototype.getValue,_setValue_unbound:Sl.prototype.setValue}),(0,f.default)(Al.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,u=0,l=arguments.length;u!==l;++u){var h=arguments[u],c=h.uuid,p=r[c];if(void 0===p){p=e++,r[c]=p,t.push(h);for(var d=0,f=s;d!==f;++d)o[d].push(new Sl(h,n[d],a[d]))}else if(p<i){t[p];var m=--i,v=t[m];for(r[v.uuid]=p,t[p]=v,r[c]=m,t[m]=h,d=0,f=s;d!==f;++d){var g=o[d],y=g[m],x=g[p];g[p]=y,void 0===x&&(x=new Sl(h,n[d],a[d])),g[m]=x}}else t[p]}this.nCachedObjects_=i},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,n=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],u=s.uuid,l=i[u];if(void 0!==l&&l>=e){var h=e++,c=t[h];i[c.uuid]=l,t[l]=c,i[u]=h,t[h]=s;for(var p=0,d=n;p!==d;++p){var f=r[p],m=f[h],v=f[l];f[l]=m,f[h]=v}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o].uuid,l=r[u];if(void 0!==l)if(delete r[u],l<i){var h=--i,c=t[h],p=t[g=--e];r[c.uuid]=l,t[l]=c,r[p.uuid]=h,t[h]=p,t.pop();for(var d=0,f=a;d!==f;++d){var m=(y=n[d])[h],v=y[g];y[l]=m,y[h]=v,y.pop()}}else{var g;for(r[(p=t[g=--e]).uuid]=l,t[l]=p,t.pop(),d=0,f=a;d!==f;++d){var y;(y=n[d])[l]=y[g],y.pop()}}}this.nCachedObjects_=i},subscribe_:function(t,e){var i=this._bindingsIndicesByPath,r=i[t],n=this._bindings;if(void 0!==r)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,l=this.nCachedObjects_,h=new Array(u);r=n.length,i[t]=r,a.push(t),o.push(e),n.push(h);for(var c=l,p=s.length;c!==p;++c){var d=s[c];h[c]=new Sl(d,t,e)}return h},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=i,a[i]=s,a.pop(),n[i]=n[o],n.pop(),r[i]=r[o],r.pop()}}}),(0,f.default)(Tl.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){var r=this._clip.duration,n=t._clip.duration,a=n/r,o=r/n;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,i){return t.crossFadeFrom(this,e,i)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=n,s[1]=n+i,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,i,r){if(this.enabled){var n=this._startTime;if(null!==n){var a=(t-n)*i;if(a<0||0===i)return;this._startTime=null,e=i*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,l=this._propertyBindings,h=0,c=u.length;h!==c;++h)u[h].evaluate(o),l[h].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var i=this._weightInterpolant;if(null!==i){var r=i.evaluate(t)[0];e*=r,t>i.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,i=this._clip.duration,r=this.loop,n=this._loopCount,a=2202===r;if(0===t)return-1===n?e:a&&1==(1&n)?i-e:e;if(2200===r){-1===n&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=i)e=i;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===n&&(t>=0?(n=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=i||e<0){var o=Math.floor(e/i);e-=i*o,n+=Math.abs(o);var s=this.repetitions-n;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?i:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=n,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=e;if(a&&1==(1&n))return i-e}return e},_setEndings:function(t,e,i){var r=this._interpolantSettings;i?(r.endingStart=Me,r.endingEnd=Me):(r.endingStart=t?this.zeroSlopeAtStart?Me:_e:Se,r.endingEnd=e?this.zeroSlopeAtEnd?Me:_e:Se)},_scheduleFading:function(t,e,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=n,s[0]=e,o[1]=n+t,s[1]=i,this}}),Ll.prototype=(0,f.default)((0,p.default)(e.prototype),{constructor:Ll,_bindAction:function(t,e){var i=t._localRoot||this._root,r=t._clip.tracks,n=r.length,a=t._propertyBindings,o=t._interpolants,s=i.uuid,u=this._bindingsByRootAndName,l=u[s];void 0===l&&(l={},u[s]=l);for(var h=0;h!==n;++h){var c=r[h],p=c.name,d=l[p];if(void 0!==d)a[h]=d;else{if(void 0!==(d=a[h])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[h].binding.parsedPath;++(d=new ol(Sl.create(i,p,f),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[h]=d}o[h].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,i=t._clip.uuid,r=this._actionsByClip[i];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,i,e)}for(var n=t._propertyBindings,a=0,o=n.length;a!==o;++a){var s=n[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){var r=this._actions,n=this._actionsByClip,a=n[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,n[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[i]=t},_removeInactiveAction:function(t){var e=this._actions,i=e[e.length-1],r=t._cacheIndex;i._cacheIndex=r,e[r]=i,e.pop(),t._cacheIndex=null;var n=t._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,u=s[s.length-1],l=t._byClipCacheIndex;u._byClipCacheIndex=l,s[l]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[n],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,i=0,r=e.length;i!==r;++i){var n=e[i];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(t){var e=this._actions,i=t._cacheIndex,r=this._nActiveActions++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackAction:function(t){var e=this._actions,i=t._cacheIndex,r=--this._nActiveActions,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_addInactiveBinding:function(t,e,i){var r=this._bindingsByRootAndName,n=r[e],a=this._bindings;void 0===n&&(n={},r[e]=n),n[i]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,i=t.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[n];t:{for(var l in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=this._nActiveBindings++,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_takeBackBinding:function(t){var e=this._bindings,i=t._cacheIndex,r=--this._nActiveBindings,n=e[r];t._cacheIndex=r,e[r]=t,n._cacheIndex=i,e[i]=n},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,i=t[e];return void 0===i&&((i=new _s(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,i=t.__cacheIndex,r=--this._nActiveControlInterpolants,n=e[r];t.__cacheIndex=r,e[r]=t,n.__cacheIndex=i,e[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=null!==n?n.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===n&&(n=s._clip)}if(null===n)return null;var l=new Tl(this,n,e);return this._bindAction(l,s),this._addInactiveAction(l,a,r),l},existingAction:function(t,e){var i=e||this._root,r=i.uuid,n="string"==typeof t?Ds.findByName(i,t):t,a=n?n.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var n=0;n!==e;++n)t[n].reset();for(n=0;n!==r;++n)i[n].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,i=this._nActiveActions,r=this.time+=t,n=(0,m.default)(t),a=this._accuIndex^=1,o=0;o!==i;++o)e[o]._update(r,t,n,a);var s=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,i=t.uuid,r=this._actionsByClip,n=r[i];if(void 0!==n){for(var a=n.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var l=u._cacheIndex,h=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=l,e[l]=h,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}},uncacheRoot:function(t){var e=t.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot[e];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Pl.prototype.clone=function(){return new Pl(void 0===this.value.clone?this.value:this.value.clone())},Cl.prototype=(0,f.default)((0,p.default)(Ea.prototype),{constructor:Cl,isInstancedInterleavedBuffer:!0,copy:function(t){return Ea.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),(0,f.default)(El.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld))},intersectObject:function(t,e,i){var r=i||[];return Dl(t,this,r,e),r.sort(Il),r},intersectObjects:function(t,e,i){var r=i||[];if(!1===Array.isArray(t))return r;for(var n=0,a=t.length;n<a;n++)Dl(t[n],this,r,e);return r.sort(Il),r}}),(0,f.default)(Bl.prototype,{set:function(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Re.clamp(e/this.radius,-1,1))),this}}),(0,f.default)(Ol.prototype,{set:function(t,e,i){return this.radius=t,this.theta=e,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}}),(0,f.default)(zl.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Fe;return function(e,i){var r=t.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(t=new Fe),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(e=new Fe),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(e=new Fe),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Fe;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),(0,f.default)(Nl.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(t=new ke),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(t=new ke),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(e=new ke),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(vl=new ke,gl=new ke,function(t,e){vl.subVectors(t,this.start),gl.subVectors(this.end,this.start);var i=gl.dot(gl),r=gl.dot(vl)/i;return e&&(r=Re.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,i){var r=this.closestPointToPointParameter(t,e);return void 0===i&&(i=new ke),this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Rl.prototype=(0,p.default)(Fi.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isImmediateRenderObject=!0,Fl.prototype=(0,p.default)(ka.prototype),Fl.prototype.constructor=Fl,Fl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,u=o.faces,l=0,h=0,c=u.length;h<c;h++)for(var p=u[h],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],v=p.vertexNormals[d];t.copy(m).applyMatrix4(n),e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}else if(o&&o.isBufferGeometry){var g=o.attributes.position,y=o.attributes.normal;for(l=0,d=0,f=g.count;d<f;d++)t.set(g.getX(d),g.getY(d),g.getZ(d)).applyMatrix4(n),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),a.setXYZ(l,t.x,t.y,t.z),l+=1,a.setXYZ(l,e.x,e.y,e.z),l+=1}a.needsUpdate=!0}}(),Ul.prototype=(0,p.default)(Fi.prototype),Ul.prototype.constructor=Ul,Ul.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ul.prototype.update=function(){var t=new ke;return function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Gl.prototype=(0,p.default)(ka.prototype),Gl.prototype.constructor=Gl,Gl.prototype.updateMatrixWorld=function(){var t=new ke,e=new fi,i=new fi;return function(r){var n=this.bones,a=this.geometry,o=a.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var s=0,u=0;s<n.length;s++){var l=n[s];l.parent&&l.parent.isBone&&(e.multiplyMatrices(i,l.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u,t.x,t.y,t.z),e.multiplyMatrices(i,l.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(u+1,t.x,t.y,t.z),u+=2)}a.getAttribute("position").needsUpdate=!0,Fi.prototype.updateMatrixWorld.call(this,r)}}(),Vl.prototype=(0,p.default)(Lr.prototype),Vl.prototype.constructor=Vl,Vl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Vl.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},Wl.prototype=(0,p.default)(Ua.prototype),Wl.prototype.constructor=Wl,Wl.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},Wl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype=(0,p.default)(Fi.prototype),Hl.prototype.constructor=Hl,Hl.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hl.prototype.update=function(){var t=new ke,e=new Mi,i=new Mi;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var n=r.geometry.getAttribute("color");e.copy(this.light.color),i.copy(this.light.groundColor);for(var a=0,o=n.count;a<o;a++){var s=a<o/2?e:i;n.setXYZ(a,s.r,s.g,s.b)}n.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),jl.prototype=(0,p.default)(Lr.prototype),jl.prototype.constructor=jl,jl.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},jl.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Xl.prototype=(0,f.default)((0,p.default)(ka.prototype),{constructor:Xl,copy:function(t){return ka.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),ql.prototype=(0,p.default)(ka.prototype),ql.prototype.constructor=ql,Yl.prototype=(0,p.default)(Ua.prototype),Yl.prototype.constructor=Yl,Yl.prototype.update=function(){var t,e,i=this.audio,r=this.range,n=this.divisionsInnerAngle,a=this.divisionsOuterAngle,o=Re.degToRad(i.panner.coneInnerAngle),s=Re.degToRad(i.panner.coneOuterAngle),u=o/2,l=s/2,h=0,c=0,p=this.geometry,d=p.attributes.position;function f(i,n,a,o){var s=(n-i)/a;for(d.setXYZ(h,0,0,0),c++,t=i;t<n;t+=s)e=h+c,d.setXYZ(e,Math.sin(t)*r,0,Math.cos(t)*r),d.setXYZ(e+1,Math.sin(Math.min(t+s,n))*r,0,Math.cos(Math.min(t+s,n))*r),d.setXYZ(e+2,0,0,0),c+=3;p.addGroup(h,c,o),h+=c,c=0}p.clearGroups(),f(-l,-u,a,0),f(-u,u,n,1),f(u,l,a,0),d.needsUpdate=!0,o===s&&(this.material[0].visible=!1)},Yl.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()},Jl.prototype=(0,p.default)(ka.prototype),Jl.prototype.constructor=Jl,Jl.prototype.update=function(){var t=new ke,e=new ke,i=new Ge;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,n=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,l=0,h=s.length;l<h;l++){var c=s[l],p=c.normal;t.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t),n.setXYZ(u,t.x,t.y,t.z),u+=1,n.setXYZ(u,e.x,e.y,e.z),u+=1}n.needsUpdate=!0}}(),Zl.prototype=(0,p.default)(Fi.prototype),Zl.prototype.constructor=Zl,Zl.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Zl.prototype.update=function(){var t=new ke,e=new ke,i=new ke;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(e,t),this.lightPlane.lookAt(e),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(e),this.targetLine.scale.z=i.length()}}(),Ql.prototype=(0,p.default)(ka.prototype),Ql.prototype.constructor=Ql,Ql.prototype.update=function(){var t,e,i=new ke,r=new pa;function n(n,a,o,s){i.set(a,o,s).unproject(r);var u=e[n];if(void 0!==u)for(var l=t.getAttribute("position"),h=0,c=u.length;h<c;h++)l.setXYZ(u[h],i.x,i.y,i.z)}return function(){t=this.geometry,e=this.pointMap,r.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),n("c",0,0,-1),n("t",0,0,1),n("n1",-1,-1,-1),n("n2",1,-1,-1),n("n3",-1,1,-1),n("n4",1,1,-1),n("f1",-1,-1,1),n("f2",1,-1,1),n("f3",-1,1,1),n("f4",1,1,1),n("u1",.7,1.1,-1),n("u2",-.7,1.1,-1),n("u3",0,2,-1),n("cf1",-1,0,1),n("cf2",1,0,1),n("cf3",0,-1,1),n("cf4",0,1,1),n("cn1",-1,0,-1),n("cn2",1,0,-1),n("cn3",0,-1,-1),n("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Kl.prototype=(0,p.default)(ka.prototype),Kl.prototype.constructor=Kl,Kl.prototype.update=function(){var t=new hi;return function(e){if(void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var i=t.min,r=t.max,n=this.geometry.attributes.position,a=n.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=i.x,a[4]=r.y,a[5]=r.z,a[6]=i.x,a[7]=i.y,a[8]=r.z,a[9]=r.x,a[10]=i.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=i.z,a[15]=i.x,a[16]=r.y,a[17]=i.z,a[18]=i.x,a[19]=i.y,a[20]=i.z,a[21]=r.x,a[22]=i.y,a[23]=i.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Kl.prototype.setFromObject=function(t){return this.object=t,this.update(),this},Kl.prototype.copy=function(t){return ka.prototype.copy.call(this,t),this.object=t.object,this},Kl.prototype.clone=function(){return(new this.constructor).copy(this)},$l.prototype=(0,p.default)(ka.prototype),$l.prototype.constructor=$l,$l.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Fi.prototype.updateMatrixWorld.call(this,t))},th.prototype=(0,p.default)(Ua.prototype),th.prototype.constructor=th,th.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?M:_,this.lookAt(this.plane.normal),Fi.prototype.updateMatrixWorld.call(this,t)},eh.prototype=(0,p.default)(Fi.prototype),eh.prototype.constructor=eh,eh.prototype.setDirection=(wl=new ke,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(wl.set(t.z,0,-t.x).normalize(),bl=Math.acos(t.y),this.quaternion.setFromAxisAngle(wl,bl))}),eh.prototype.setLength=function(t,e,i){void 0===e&&(e=.2*t),void 0===i&&(i=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()},eh.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},eh.prototype.copy=function(t){return Fi.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},eh.prototype.clone=function(){return(new this.constructor).copy(this)},ih.prototype=(0,p.default)(ka.prototype),ih.prototype.constructor=ih,js.create=function(t,e){return t.prototype=(0,p.default)(js.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},(0,f.default)(cu.prototype,{createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new Vi,i=0,r=t.length;i<r;i++){var n=t[i];e.vertices.push(new ke(n.x,n.y,n.z||0))}return e}}),(0,f.default)(pu.prototype,{fromPoints:function(t){this.setFromPoints(t)}}),rh.prototype=(0,p.default)($s.prototype),nh.prototype=(0,p.default)($s.prototype),ah.prototype=(0,p.default)($s.prototype),(0,f.default)(ah.prototype,{initFromArray:function(){},getControlPointsArray:function(){},reparametrizeByArcLength:function(){}}),Xl.prototype.setColors=function(){},Gl.prototype.update=function(){},(0,f.default)(ju.prototype,{extractUrlBase:function(t){return Tu.extractUrlBase(t)}}),(0,f.default)(Iu.prototype,{setTexturePath:function(t){return this.setResourcePath(t)}}),(0,f.default)(zl.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},size:function(t){return this.getSize(t)}}),(0,f.default)(hi.prototype,{center:function(t){return this.getCenter(t)},empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)},size:function(t){return this.getSize(t)}}),Nl.prototype.center=function(t){return this.getCenter(t)},(0,f.default)(Re,{random16:function(){return Math.random()},nearestPowerOfTwo:function(t){return Re.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return Re.ceilPowerOfTwo(t)}}),(0,f.default)(Ge.prototype,{flattenToArrayOffset:function(t,e){return this.toArray(t,e)},multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){}}),(0,f.default)(fi.prototype,{extractPosition:function(t){return this.copyPosition(t)},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new ke),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyToArray:function(){},multiplyVector3:function(t){return t.applyMatrix4(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(){},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(){},rotateX:function(){},rotateY:function(){},rotateZ:function(){},rotateByAxis:function(){},applyToBuffer:function(t){return this.applyToBufferAttribute(t)},applyToVector3Array:function(){},makeFrustum:function(t,e,i,r,n,a){return this.makePerspective(t,e,r,i,n,a)}}),pi.prototype.isIntersectionLine=function(t){return this.intersectsLine(t)},Ue.prototype.multiplyVector3=function(t){return t.applyQuaternion(this)},(0,f.default)(Sr.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),(0,f.default)(Ar.prototype,{area:function(){return this.getArea()},barycoordFromPoint:function(t,e){return this.getBarycoord(t,e)},midpoint:function(t){return this.getMidpoint(t)},normal:function(t){return this.getNormal(t)},plane:function(t){return this.getPlane(t)}}),(0,f.default)(Ar,{barycoordFromPoint:function(t,e,i,r,n){return Ar.getBarycoord(t,e,i,r,n)},normal:function(t,e,i,r){return Ar.getNormal(t,e,i,r)}}),(0,f.default)(du.prototype,{extractAllPoints:function(t){return this.extractPoints(t)},extrude:function(t){return new Uo(this,t)},makeGeometry:function(t){return new Qo(this,t)}}),(0,f.default)(Fe.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ke.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)},applyProjection:function(t){return this.applyMatrix4(t)},fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return this.manhattanDistanceTo(t)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(ai.prototype,{fromAttribute:function(t,e,i){return this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return this.manhattanLength()}}),(0,f.default)(Vi.prototype,{computeTangents:function(){},computeLineDistances:function(){}}),(0,f.default)(Fi.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(){},translate:function(t,e){return this.translateOnAxis(e,t)},getWorldRotation:function(){}}),(0,d.default)(Fi.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(){}}}),(0,d.default)(Oa.prototype,{objects:{get:function(){return this.levels}}}),Object.defineProperty(Na.prototype,"useVertexTexture",{get:function(){},set:function(){}}),za.prototype.initBones=function(){},Object.defineProperty(js.prototype,"__arcLengthDivisions",{get:function(){return this.arcLengthDivisions},set:function(t){this.arcLengthDivisions=t}}),da.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},(0,d.default)(fu.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),(0,d.default)(Wi.prototype,{length:{get:function(){return this.array.length}},copyIndicesArray:function(){}}),(0,f.default)(ir.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,i){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),(0,d.default)(ir.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),(0,f.default)(ko.prototype,{getArrays:function(){},addShapeList:function(){},addShape:function(){}}),(0,d.default)(Pl.prototype,{dynamic:{set:function(){}},onUpdate:{value:function(){return this}}}),(0,d.default)(ur.prototype,{wrapAround:{get:function(){},set:function(){}},overdraw:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Mi}},shading:{get:function(){this.type},set:function(t){this.type,this.flatShading=1===t}}}),(0,d.default)(ps.prototype,{metal:{get:function(){return!1},set:function(){}}}),(0,d.default)(Mr.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),(0,f.default)(Ta.prototype,{clearTarget:function(t,e,i,r){this.setRenderTarget(t),this.clear(e,i,r)},animate:function(t){this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return this.getRenderTarget()},getMaxAnisotropy:function(){return this.capabilities.getMaxAnisotropy()},getPrecision:function(){return this.capabilities.precision},resetGLState:function(){return this.state.reset()},supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){},setFaceCulling:function(){},allocTextureUnit:function(){},setTexture:function(){},setTexture2D:function(){},setTextureCube:function(){}}),(0,d.default)(Ta.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){},set:function(){}}}),(0,d.default)(sa.prototype,{cullFace:{get:function(){},set:function(){}},renderReverseSided:{get:function(){},set:function(){}},renderSingleSided:{get:function(){},set:function(){}}}),(0,d.default)(ui.prototype,{activeCubeFace:{set:function(){}},activeMipMapLevel:{set:function(){}}}),(0,d.default)(oi.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),(0,d.default)(Sa.prototype,{standing:{set:function(){}},userHeight:{set:function(){}}}),rl.prototype.load=function(t){var e=this;return(new qu).load(t,(function(t){e.setBuffer(t)})),this},al.prototype.getData=function(){return this.getFrequencyData()},tl.prototype.updateCubeMap=function(t,e){return this.update(t,e)};var oh={merge:function(t,e,i){var r;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,i)},center:function(t){return t.center()}};ii.crossOrigin=void 0,ii.loadTexture=function(t,e,i,r){var n=new Hs;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadTextureCube=function(t,e,i,r){var n=new Ws;n.setCrossOrigin(this.crossOrigin);var a=n.load(t,i,void 0,r);return e&&(a.mapping=e),a},ii.loadCompressedTexture=function(){},ii.loadCompressedTextureCube=function(){};var sh={createMultiMaterialObject:function(){},detach:function(){},attach:function(){}};t.ACESFilmicToneMapping=ct,t.AddEquation=B,t.AddOperation=at,t.AdditiveBlending=C,t.AlphaFormat=Gt,t.AlwaysDepth=Z,t.AmbientLight=Mu,t.AmbientLightProbe=Qu,t.AnimationClip=Ds,t.AnimationLoader=Us,t.AnimationMixer=Ll,t.AnimationObjectGroup=Al,t.AnimationUtils=xs,t.ArcCurve=qs,t.ArrayCamera=fa,t.ArrowHelper=eh,t.Audio=rl,t.AudioAnalyser=al,t.AudioContext=Xu,t.AudioListener=il,t.AudioLoader=qu,t.AxesHelper=ih,t.AxisHelper=function(t){return new ih(t)},t.BackSide=M,t.BasicDepthPacking=Be,t.BasicShadowMap=0,t.BinaryTextureLoader=function(t){return new Gs(t)},t.Bone=Ra,t.BooleanKeyframeTrack=As,t.BoundingBoxHelper=function(t,e){return new Kl(t,e)},t.Box2=zl,t.Box3=hi,t.Box3Helper=$l,t.BoxBufferGeometry=nr,t.BoxGeometry=rr,t.BoxHelper=Kl,t.BufferAttribute=Wi,t.BufferGeometry=ir,t.BufferGeometryLoader=Cu,t.ByteType=Et,t.Cache=Os,t.Camera=pa,t.CameraHelper=Ql,t.CanvasRenderer=function(){},t.CanvasTexture=Xa,t.CatmullRomCurve3=$s,t.CineonToneMapping=ht,t.CircleBufferGeometry=os,t.CircleGeometry=as,t.ClampToEdgeWrapping=wt,t.Clock=el,t.ClosedSplineCurve3=rh,t.Color=Mi,t.ColorKeyframeTrack=Ts,t.CompressedTexture=ja,t.CompressedTextureLoader=ks,t.ConeBufferGeometry=ns,t.ConeGeometry=rs,t.CubeCamera=tl,t.CubeGeometry=rr,t.CubeReflectionMapping=dt,t.CubeRefractionMapping=ft,t.CubeTexture=Ur,t.CubeTextureLoader=Ws,t.CubeUVReflectionMapping=yt,t.CubeUVRefractionMapping=xt,t.CubicBezierCurve=ru,t.CubicBezierCurve3=nu,t.CubicInterpolant=ws,t.CullFaceBack=o,t.CullFaceFront=x,t.CullFaceFrontBack=3,t.CullFaceNone=a,t.Curve=js,t.CurvePath=cu,t.CustomBlending=D,t.CylinderBufferGeometry=is,t.CylinderGeometry=es,t.Cylindrical=Ol,t.DataTexture=li,t.DataTexture2DArray=kr,t.DataTexture3D=Gr,t.DataTextureLoader=Gs,t.DefaultLoadingManager=Ns,t.DepthFormat=qt,t.DepthStencilFormat=Yt,t.DepthTexture=qa,t.DirectionalLight=_u,t.DirectionalLightHelper=Zl,t.DirectionalLightShadow=wu,t.DiscreteInterpolant=Ms,t.DodecahedronBufferGeometry=oo,t.DodecahedronGeometry=ao,t.DoubleSide=S,t.DstAlphaFactor=H,t.DstColorFactor=X,t.DynamicBufferAttribute=function(t,e){return new Wi(t,e).setDynamic(!0)},t.EdgesGeometry=ts,t.EdgesHelper=function(t,e){return new ka(new ts(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.EllipseCurve=Xs,t.EqualDepth=$,t.EquirectangularReflectionMapping=mt,t.EquirectangularRefractionMapping=vt,t.Euler=Ei,t.EventDispatcher=e,t.ExtrudeBufferGeometry=ko,t.ExtrudeGeometry=Uo,t.Face3=Ci,t.Face4=function(t,e,i,r,n,a,o){return new Ci(t,e,i,n,a,o)},t.FaceColors=1,t.FaceNormalsHelper=Jl,t.FileLoader=Fs,t.FlatShading=1,t.Float32Attribute=function(t,e){return new Qi(t,e)},t.Float32BufferAttribute=Qi,t.Float64Attribute=function(t,e){return new Ki(t,e)},t.Float64BufferAttribute=Ki,t.FloatType=zt,t.Fog=Pa,t.FogExp2=La,t.Font=Vu,t.FontLoader=Hu,t.FrontFaceDirectionCCW=1,t.FrontFaceDirectionCW=0,t.FrontSide=_,t.Frustum=di,t.GammaEncoding=Pe,t.Geometry=Vi,t.GeometryUtils=oh,t.GreaterDepth=et,t.GreaterEqualDepth=tt,t.GridHelper=Xl,t.Group=ca,t.HalfFloatType=Nt,t.HemisphereLight=mu,t.HemisphereLightHelper=Hl,t.HemisphereLightProbe=Zu,t.IcosahedronBufferGeometry=no,t.IcosahedronGeometry=ro,t.ImageBitmapLoader=ku,t.ImageLoader=Vs,t.ImageUtils=ii,t.ImmediateRenderObject=Rl,t.InstancedBufferAttribute=Pu,t.InstancedBufferGeometry=Lu,t.InstancedInterleavedBuffer=Cl,t.Int16Attribute=function(t,e){return new qi(t,e)},t.Int16BufferAttribute=qi,t.Int32Attribute=function(t,e){return new Ji(t,e)},t.Int32BufferAttribute=Ji,t.Int8Attribute=function(t,e){return new Hi(t,e)},t.Int8BufferAttribute=Hi,t.IntType=Bt,t.InterleavedBuffer=Ea,t.InterleavedBufferAttribute=Ia,t.Interpolant=bs,t.InterpolateDiscrete=xe,t.InterpolateLinear=be,t.InterpolateSmooth=we,t.JSONLoader=function(){},t.KeyframeTrack=Ss,t.LOD=Oa,t.LatheBufferGeometry=Zo,t.LatheGeometry=Jo,t.Layers=Ii,t.LensFlare=function(){},t.LessDepth=Q,t.LessEqualDepth=K,t.Light=fu,t.LightProbe=Ju,t.LightProbeHelper=jl,t.LightShadow=vu,t.Line=Ua,t.Line3=Nl,t.LineBasicMaterial=Fa,t.LineCurve=au,t.LineCurve3=ou,t.LineDashedMaterial=gs,t.LineLoop=Ga,t.LinePieces=1,t.LineSegments=ka,t.LineStrip=0,t.LinearEncoding=Te,t.LinearFilter=Tt,t.LinearInterpolant=_s,t.LinearMipMapLinearFilter=Pt,t.LinearMipMapNearestFilter=Lt,t.LinearToneMapping=st,t.Loader=ju,t.LoaderUtils=Tu,t.LoadingManager=zs,t.LogLuvEncoding=3003,t.LoopOnce=2200,t.LoopPingPong=2202,t.LoopRepeat=2201,t.LuminanceAlphaFormat=jt,t.LuminanceFormat=Ht,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.Material=ur,t.MaterialLoader=Au,t.Math=Re,t.Matrix3=Ge,t.Matrix4=fi,t.MaxEquation=R,t.Mesh=Lr,t.MeshBasicMaterial=Tr,t.MeshDepthMaterial=aa,t.MeshDistanceMaterial=oa,t.MeshFaceMaterial=function(t){return t},t.MeshLambertMaterial=ms,t.MeshMatcapMaterial=vs,t.MeshNormalMaterial=fs,t.MeshPhongMaterial=ps,t.MeshPhysicalMaterial=cs,t.MeshStandardMaterial=hs,t.MeshToonMaterial=ds,t.MinEquation=N,t.MirroredRepeatWrapping=_t,t.MixOperation=nt,t.MultiMaterial=function(t){return void 0===t&&(t=[]),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.MultiplyBlending=I,t.MultiplyOperation=rt,t.NearestFilter=Mt,t.NearestMipMapLinearFilter=At,t.NearestMipMapNearestFilter=St,t.NeverDepth=J,t.NoBlending=L,t.NoColors=A,t.NoToneMapping=ot,t.NormalBlending=P,t.NotEqualDepth=it,t.NumberKeyframeTrack=Ls,t.Object3D=Fi,t.ObjectLoader=Iu,t.ObjectSpaceNormalMap=Ne,t.OctahedronBufferGeometry=io,t.OctahedronGeometry=eo,t.OneFactor=U,t.OneMinusDstAlphaFactor=j,t.OneMinusDstColorFactor=q,t.OneMinusSrcAlphaFactor=W,t.OneMinusSrcColorFactor=G,t.OrthographicCamera=bu,t.PCFShadowMap=b,t.PCFSoftShadowMap=w,t.ParametricBufferGeometry=Za,t.ParametricGeometry=Ja,t.Particle=function(t){return new Ba(t)},t.ParticleBasicMaterial=function(t){return new Va(t)},t.ParticleSystem=function(t,e){return new Wa(t,e)},t.ParticleSystemMaterial=function(t){return new Va(t)},t.Path=pu,t.PerspectiveCamera=da,t.Plane=pi,t.PlaneBufferGeometry=or,t.PlaneGeometry=ar,t.PlaneHelper=th,t.PointCloud=function(t,e){return new Wa(t,e)},t.PointCloudMaterial=function(t){return new Va(t)},t.PointLight=xu,t.PointLightHelper=Vl,t.Points=Wa,t.PointsMaterial=Va,t.PolarGridHelper=ql,t.PolyhedronBufferGeometry=Ka,t.PolyhedronGeometry=Qa,t.PositionalAudio=nl,t.PositionalAudioHelper=Yl,t.PropertyBinding=Sl,t.PropertyMixer=ol,t.QuadraticBezierCurve=su,t.QuadraticBezierCurve3=uu,t.Quaternion=Ue,t.QuaternionKeyframeTrack=Cs,t.QuaternionLinearInterpolant=Ps,t.REVISION="105",t.RGBADepthPacking=Oe,t.RGBAFormat=Wt,t.RGBA_ASTC_10x10_Format=ve,t.RGBA_ASTC_10x5_Format=de,t.RGBA_ASTC_10x6_Format=fe,t.RGBA_ASTC_10x8_Format=me,t.RGBA_ASTC_12x10_Format=ge,t.RGBA_ASTC_12x12_Format=ye,t.RGBA_ASTC_4x4_Format=ae,t.RGBA_ASTC_5x4_Format=oe,t.RGBA_ASTC_5x5_Format=se,t.RGBA_ASTC_6x5_Format=ue,t.RGBA_ASTC_6x6_Format=le,t.RGBA_ASTC_8x5_Format=he,t.RGBA_ASTC_8x6_Format=ce,t.RGBA_ASTC_8x8_Format=pe,t.RGBA_PVRTC_2BPPV1_Format=re,t.RGBA_PVRTC_4BPPV1_Format=ie,t.RGBA_S3TC_DXT1_Format=Qt,t.RGBA_S3TC_DXT3_Format=Kt,t.RGBA_S3TC_DXT5_Format=$t,t.RGBDEncoding=De,t.RGBEEncoding=Ce,t.RGBEFormat=Xt,t.RGBFormat=Vt,t.RGBM16Encoding=Ie,t.RGBM7Encoding=Ee,t.RGB_ETC1_Format=ne,t.RGB_PVRTC_2BPPV1_Format=ee,t.RGB_PVRTC_4BPPV1_Format=te,t.RGB_S3TC_DXT1_Format=Zt,t.RawShaderMaterial=ls,t.Ray=Sr,t.Raycaster=El,t.RectAreaLight=Su,t.RectAreaLightHelper=Wl,t.RedFormat=Jt,t.ReinhardToneMapping=ut,t.RepeatWrapping=bt,t.ReverseSubtractEquation=z,t.RingBufferGeometry=Yo,t.RingGeometry=qo,t.Scene=Ca,t.SceneUtils=sh,t.ShaderChunk=mi,t.ShaderLib=Ti,t.ShaderMaterial=Mr,t.ShadowMaterial=us,t.Shape=du,t.ShapeBufferGeometry=Ko,t.ShapeGeometry=Qo,t.ShapePath=Gu,t.ShapeUtils=No,t.ShortType=It,t.Skeleton=Na,t.SkeletonHelper=Gl,t.SkinnedMesh=za,t.SmoothShading=2,t.Sphere=ci,t.SphereBufferGeometry=Xo,t.SphereGeometry=jo,t.Spherical=Bl,t.SphericalHarmonics3=Yu,t.SphericalReflectionMapping=gt,t.Spline=ah,t.SplineCurve=lu,t.SplineCurve3=nh,t.SpotLight=yu,t.SpotLightHelper=Ul,t.SpotLightShadow=gu,t.Sprite=Ba,t.SpriteMaterial=Da,t.SrcAlphaFactor=V,t.SrcAlphaSaturateFactor=Y,t.SrcColorFactor=k,t.StereoCamera=Ku,t.StringKeyframeTrack=Es,t.SubtractEquation=O,t.SubtractiveBlending=E,t.TangentSpaceNormalMap=ze,t.TetrahedronBufferGeometry=to,t.TetrahedronGeometry=$a,t.TextBufferGeometry=Ho,t.TextGeometry=Wo,t.Texture=ni,t.TextureLoader=Hs,t.TorusBufferGeometry=po,t.TorusGeometry=co,t.TorusKnotBufferGeometry=ho,t.TorusKnotGeometry=lo,t.Triangle=Ar,t.TriangleFanDrawMode=2,t.TriangleStripDrawMode=1,t.TrianglesDrawMode=Ae,t.TubeBufferGeometry=uo,t.TubeGeometry=so,t.UVMapping=pt,t.Uint16Attribute=function(t,e){return new Yi(t,e)},t.Uint16BufferAttribute=Yi,t.Uint32Attribute=function(t,e){return new Zi(t,e)},t.Uint32BufferAttribute=Zi,t.Uint8Attribute=function(t,e){return new ji(t,e)},t.Uint8BufferAttribute=ji,t.Uint8ClampedAttribute=function(t,e){return new Xi(t,e)},t.Uint8ClampedBufferAttribute=Xi,t.Uncharted2ToneMapping=lt,t.Uniform=Pl,t.UniformsLib=Ai,t.UniformsUtils=wi,t.UnsignedByteType=Ct,t.UnsignedInt248Type=kt,t.UnsignedIntType=Ot,t.UnsignedShort4444Type=Rt,t.UnsignedShort5551Type=Ft,t.UnsignedShort565Type=Ut,t.UnsignedShortType=Dt,t.Vector2=Fe,t.Vector3=ke,t.Vector4=ai,t.VectorKeyframeTrack=Is,t.Vertex=function(t,e,i){return new ke(t,e,i)},t.VertexColors=T,t.VertexNormalsHelper=Fl,t.VideoTexture=Ha,t.WebGLMultisampleRenderTarget=si,t.WebGLRenderTarget=oi,t.WebGLRenderTargetCube=ui,t.WebGLRenderer=Ta,t.WebGLUtils=ha,t.WireframeGeometry=Ya,t.WireframeHelper=function(t,e){return new ka(new Ya(t.geometry),new Fa({color:void 0!==e?e:16777215}))},t.WrapAroundEnding=Se,t.XHRLoader=function(t){return new Fs(t)},t.ZeroCurvatureEnding=_e,t.ZeroFactor=F,t.ZeroSlopeEnding=Me,t.sRGBEncoding=Le,Object.defineProperty(t,"__esModule",{value:!0})},"object"===(0,y.default)(e)&&void 0!==t?o(e):(n=[e],void 0===(a="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=a))}}]);
!function(e){function r(r){for(var n,l,i=r[0],f=r[1],a=r[2],c=0,s=[];c<i.length;c++)l=i[c],o[l]&&s.push(o[l][0]),o[l]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,i=1;i<t.length;i++){var f=t[i];0!==o[f]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={3:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/dist/";var i=window.ESJsonpModules=window.ESJsonpModules||[],f=i.push.bind(i);i.push=r,i=i.slice();for(var a=0;a<i.length;a++)r(i[a]);var p=f;u.push([166,1,0]),t()}([]);
var _0x291d=["handleBims","addBimModel","bimModelsCount","addToQueue","classifyByfNum","isunmerge","onZoomEnd","SkeletonUtils","isTransparent","preHandleModel","loadDelayModel","delayLoadQueue","sources","queues","allDataMap","queuesOther","bimNewQues","loadedCount","bimInfos","tanks","bimSetData","mergeMode","controlstate","handleTanks","bimLayerNot find","bins","onesize","pages","onQueueMerged","onQueueUnMerged","checkComplete","IDBUpdateItem","IDBAddItem","bimå è½½å®æï¼èæ¶","bimLoadedAll","getBimSetFromIDB","bimSets","collections","clearStores","bimDatas","ESBIM IDBåå§åå¤±è´¥","fetchBimSet","bimset not exist!","dispatchBimPageByControlIndex","filetime","clearCache","-bimset.bin","-bim","getDesFromNlist","nlist","cates","bimid","idx","bimId","onGetBimInfo","æ¨¡åæ°æ®ä¸ºç©º","myIndex","page","printDataSize","error in "," -------------"," - ","\t: ","printIndexDBSizes","timeEnd","dynamicShowsModel","excludes","scaleRateChanged","uvs","EXTENT_EPSILON_Y","extent","mergeExcludes","loadRooms","errorIds","tubes","isMerge","normalizeUvs","geos","tubeData","tube","drawOutline","modelimagelayer","modelImageGeos","modelImageMeshs","bimModelDatas","bimModelData","modelTexturesData","loadModelTextures","MODELTEXTURE_ERR","repeatType","computedTopFace","convertBimData","loadImageDatas","fixTextures","startIndex","_scaleLevel","setProgress","percent","splitAlpha","shaderConfigs","shaderNeedUpdate","updateColor","updateHeight","updateHeightId_","ind_","updateReapeat","minRepeatLevel","textureOffset","ESLineMode","CIRCLE","PLANE","getDashArrayByLineType","up_","nocenter","notCenter","baseRepeatX","uvBaseLen","transparency","isSectionAlpha","isSectionGray","isSectionFront","\n                    #include <clipping_planes_pars_vertex>\n                    attribute float texOffset;\n    \n                    varying vec2 nvUv;\n                    ","uniform vec3 diffuse;","\n                    uniform vec3 diffuse;\n                    uniform float passPercent;\n                    uniform bool isSectionAlpha;\n                    uniform bool isSectionGray;\n                    uniform float sectionAlpha;\n                    uniform float isSectionFront;\n                    varying vec2 nvUv;\n    \n                    vec3 changePassColor(vec3 originColor, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            vec3 c = vec3(29.9, 58.7, 11.4);\n                            c /= 80.0;\n                            return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                        }else{\n                            return originColor;\n                        }\n                    }\n    \n                    float changeProgressAlpha(float oa, float ta, float progress)\n                    {\n                        if(nvUv.x < progress){\n                            return mix(oa, ta, isSectionFront);\n                        }else{\n                            return mix(ta, oa, isSectionFront);\n                        }\n                    }\n    \n                    ","   \n                    // #ifdef IS_SECTION_GRAY\n                    //     outgoingLight = changePassColor(outgoingLight, passPercent);\n                    // #endif\n                    if(isSectionGray){\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                    }\n    \n                    float resultAlpha = diffuseColor.a;\n                    // #ifdef IS_SECTION_ALPHA\n                    //     // resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    //     resultAlpha = 0.0;\n                    // #endif\n                    if(isSectionAlpha){\n                        resultAlpha = changeProgressAlpha(diffuseColor.a, sectionAlpha, passPercent);\n                    }\n                    \n                    gl_FragColor = vec4( outgoingLight, resultAlpha );\n                    ","_updateMaterialByNaviMap","_visibleFloorNumsChanged","çº¿æ æ³¨æå±å»ºç­ä¸å­å¨ï¼bid:","baseFloorHeight","transparentLine","transparentObj","verticesNeedUpdate","DOT_DASH","DASH","DOUBLE_DOT_DASH","TRI_DOT_DASH","ARROW","sectionAlpha","isFront","splitGray","initUpdated","pathVertices","_upVec","#ff0000","#33cc61","#4a82d2","#F4FEFB","materialInfo","_drawNormal","_drawArrow","godColor","arrowHeightPercent","arrowWidthPercent","arrowPercent","_setMaterialInfo","godHeightPercent","godEdgePercent","#ffffff","godArrowPercent","godArrowWidthPercent","godArrowXScale","godArrowColor","perimeter","_up_","_rings","_uvs","faces","Face3","uvsNeedUpdate","computeFaceNormals","Geometry","_locked","toPng","createCard","getMediaType","autoplay","videoStyle","muted","loadedmetadata","videoWidth","videoHeight","VideoTexture","format","ä¸æ¯æçæä»¶ç±»å","template","noTransCenter","isUseMipmap","translateToSVGStyles","getMarkerPathBase64","convertResourceUrl","video","unknown","markerLineWidth","markerLineOpacity","butt","markerFill","stroke-linecap","flat","stroke-width","stroke-opacity","markerPath","markerOpacity",'<svg version="1.1"','xmlns="http://www.w3.org/2000/svg"','opacity="',"markerPathWidth","markerPathHeight",'viewBox="0 0 ','preserveAspectRatio="none"','width="','height="',"><defs></defs>","<path ","></path>","</svg>","btoa","url(","extractCssUrl","resourceSizeProperties","markerType","markerWidth","markerHeight","resourceProperties","stops","data:","isURL","emptyImageUrl","cancelAnimFrame","requestAnimFrame","isSVG","loadImage","parseJSON","pushIn","removeFromArray","mapArrayRecursively","getValueOrDefault","sign","isArrayHasData","computeDegree","requestAnimationFrame","RequestAnimationFrame","CancelAnimationFrame","data:image/svg+xml",".svg","http:/","https:","file:/","exec","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=","'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=","_flashTimeout","views","layout-","rgba(0,0,0,0.4)","createSlider","horizontal","vertical","rgba(0,0,0,0.0)","layout","ESTileControls","camera3D","_originCamera","rect","slider","12px","-50%","rgba(255,255,255,0.5)","drag","ew-resize","60px","rgba(0,0,0,0.7)","50%","translate(-50%, -50%)","isPrimary","setViewport","setScissorTest","setScissor","OrbitControls","WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.","WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.","ctrlKey","metaKey","shiftKey","TOUCH_ROTATE","TOUCH_DOLLY_PAN","THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.","THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.","THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","isEnable","jumping","canFall","jumpHeight","gravity","initialPosition","prevTime","coronaSafetyDistance","limitAngle","damping","maxSpeed","acceleration","brake","velocity","animateDamper","modelOffsetY","controltarget","toggling","prevCameraPosition","prePosition","indicators","enableRotateAutoPan","isLookAt","Escape","_enableMouseMode","moveToByLeftKey","setTarget","controlMode","vehicle","unbindEvent","ArrowDown","KeyS","ArrowLeft","KeyA","KeyD","canJump","ArrowUp","KeyW","human","rotateModel","ArrowRight","disabled","destory","setInstance","animateMode","setVehiclePitchAngle","adjustWeight","idle","enableMouseMode","run","rotateY","adjustModelRotation","correctPose","moveWithAnimation","animateNameList","æªæ¾å°ç®æ å¨ç»ï¼è¯·æ£æ¥è¾å¥çå¨ç»åç§°æ¯å¦æ­£ç¡®","startAllActions","setWeight","weight","setLoop","tween","moveControl","updatePosition","applyInertia","atan2","intersect","æªéä¸­ç®æ ","æªéä¸­å°é¢","addIndicator","clearIndicator","_controlMode","lockCameraDistance","throttle","debounce","ConeGeometry","_enableRotate","fixedHeight","euler","customWindow","bindWindow","eventBind","mouseMove","mouseDown","mouseUp","keyDown","keyUp","unbind","controlState","mozMovementX","webkitMovementX","movementY","webkitMovementY","YXZ","setFromQuaternion","KeyF","back","updateViewCenter","lock","_onPointerlockChange","onPointerlockChange","onPointerlockError","ownerDocument","pointerlockchange","pointerlockerror","isLocked","The root document of this element is not valid for pointer lock.","onMouseMove","movementX","KeyR","Mouse0","requestPointerLock","exitPointerLock","pointerLockElement","æ æ³ä½¿ç¨æééå®","preserveMatrix","preservePosition","preserveHipPosition","useTargetMatrix","hip","names","isObject3D","bones","skeleton","getBones","pose","identity","getBoneByName","getInverse","boneInverses","copyPosition","useFirstFramePosition","fps","getHelperFromSkeleton","quat","toArray",".bones[","].position","].quaternion","SkeletonHelper","getNearestBone","decompose","bindMatrix","length","prototype","hasOwnProperty","push","splice","exports","defineProperty","toStringTag","Module","object","__esModule","create","default","string","bind","call","/dist/","ESJsonpModules","concat","getValue","getValues","dedupe","attributeCount","setDefaultValues","exitInArray","isObject","eachObject","cloneObj","getDeviceDPI","startWith","base64ToBlob","createHash","forEach","undefined","screen","deviceXDPI","createElement","style","width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden","body","appendChild","offsetWidth","offsetHeight","parentNode","test","split",";base64,","atob","charCodeAt","floor","join","ESMap","mapScene","msg","level","MessagePoster","paths","init","instance","options","mode","mapId","detail","skMode","MapMode","City","initIndoorPaths","ESMapResolveDone","dispatchEvent","initCityPaths","mapDataSrc","gdbs","map","serverUrl","Base64","decode","getLicUrl","url","tile","setPath","remoteNotify","query_sign","building","getCityBuildingPath","getCitySearchJsonPath","buildingSearchJson","getCityBuildingSearchJsonPath","cityTheme","getCityThemePath","cityAssets","getCityAssetsPath","buildingThemeAsset","getCityBuildingThemeAssetPath","buildingAsset","getCityBuildingAssetsPath","getCityBuildingModelsPath","tileModel","getCityTileModelPath","http://","includes","https://","getIndoorMap","getIndoorThemeAssetPath","getIndoorAssetsPath","getIndoorBuildingModelsPath","searchJson","getPath","off",".esmap","map/mapdata!getmap.action?bids=","&token=","&t=","?t=","parse","themeID","filename","isRandom","mapThemeSrc","/theme/","getIndoorThemePath","lang","location","origin","pathname","lastIndexOf","substring","getIndoorModelLibPath","mapService","getState","/map/mapmodel!getmodel.action?bids=","&name=","/model/",".gltf","getIndoorSearchJsonPath","getTime","/search.json","tid","encode64","token","worldeditor","ESMapUtil","getSubDirByS","_lic.esmap","&s=","&k=","&url=","&sign=","&tid=","getRemoteNotifyUrl","/esworldmap/eslic/lic!getlic.action?cids=","&tid=99","buildingId","/buildings/","AND","/esmapoff/mapoff/mapoffdata!getmap.action?bids=","/escopemap/map/mapdata!getmap.action?bids=","&ck=","type","ext","/worldtheme/","/EsmapOffJsonData/","theme/","getCityBuildingThemePath","/EsmapJsonData/","getCityTilePath","version","_tile","nav","/citymap/citymapdata!getmap.action?cids=","&typeid=","&y=","&v1=","modeltoken","__mtn",".gltf&token=","indexOf","/buildingModels/","/map/mapmodel!getmodel.action?cids=","_esrm_","_stot_","_strd_","_eco_","_dtns_","_dtgt_","_lct_","_emv_","_rms_","_et_","_hs_","_dm_","_rm_","_mt_","_tk_","_lgtk_","bG9nb3Rva2Vu","bWFwdGltZQ==","ZG9tYWlu","bG9jYXRpb24=","ZW5kdGltZQ==","cmVtYXJrcw==","RGF0ZQ==","Z2V0VGltZQ==","MzI1MDM1MTQ=","MTAwMA==","c3RvcFJlbmRlcg==","ZHVtcFNjZW5l","c2V0VGltZW91dA==","RVNSZW1hcms=","V0VMTA==","_emvs_","_dt_","_dusc_","_wle_","total","countMap","blockMap","set","blockIdNameMap","add","get","resolve","size","popArray","pop","error","load progress error","progress","value","values","fire","_progress","esmap","subProgress","register","hanlders","doDispose","getTileBound","getTileFromMec","computeModelInfo","findGroup","getChildByFaceIndex","datas_","o3d_","children","geometry","dispose","material","pow","Mercator2lonLat","maxx","maxy","WGS84ToGCJ02","lonLat2Mercator","minx","miny","ceil","parser","materials","json","meshes","traverse","attributes","position","name","_root_","faceRange","PRIVITES","decodeByte","gsdbt","_isemvht","_isemvlg","fromCharCode","aHR0cHM6Ly93d3cuZXNtYXAuY24=","aHR0cDovLzE5Mi4xNjguMS4xMjc6ODE=","ZXN3b3JsZG1hcG9mZg==","aHR0cHM6Ly93d3cuZXNtYXAuY24vdGVzdDEyNw==","ZXNtYXBvZmY=","ZXNjb3BlbWFw","href","../","_sh","_cdom","_inst","es1","_clov","DistanceofTwoPts","isHTMLElement","diffProperties","sqrt","function","reduce","isArray","symbol","nodeType","clone","divideScalar","#FFFFFF","ESLineType","TEXTURE","plane","Vector3","merge","alpha","iscross","bid","center","fnum","esline","ESNodeType","disposeTasks","PathPointList","hiddenByFloor","points","getBuildingById","updateGeometry","floorHeightChanged","isMapRoad","roadType","mapTheme","mapRoadMats","main","normal","customMat","MeshStandardMaterial","transparent","opacity","metalness","color","onBeforeCompile","uniforms","uvDistance","maxUvVal","vertexShader","replace","#include <clipping_planes_pars_vertex>","\n                        #include <clipping_planes_pars_vertex>\n                        varying vec2 nvUv;\n                        ","#include <uv_vertex>","\n                        #include <uv_vertex>\n                        nvUv = uv;\n                        ","fragmentShader","uniform float opacity;","\n                        uniform float opacity;\n                        uniform float passPercent;\n                        uniform float uvDistance;\n                        varying vec2 nvUv;\n        \n                        vec3 changePassColor(vec3 originColor, float percent)\n                        {\n                            if(nvUv.x < percent * uvDistance){\n                                vec3 c = vec3(29.9, 58.7, 11.4);\n                                c /= 80.0;\n                                return vec3( dot(originColor,c), dot(originColor,c), dot(originColor,c));\n                            }else{\n                                return originColor;\n                            }\n                        }\n                        ","gl_FragColor = vec4( outgoingLight, diffuseColor.a );","\n                        outgoingLight = changePassColor(outgoingLight, passPercent);\n                        \n                        gl_FragColor = vec4( outgoingLight, diffuseColor.a );\n                        ","lineMaterialShader","dashArray","textureLength","createTexture","repeat","offset","imgOffsetY","side","lineMode","lineWidth","lineWidthMeter","pathPointList","PathTubeGeometry","fixedWidth","update","userData","trueRadius","drawMode","getSpriteScale","arrow","computeBoundingSphere","seeThrough","depthTest","blend","depthWrite","renderOrder","ESRenderOrder","lineObject","onUpdate","_onControlChange","onControlChange","_onvisibleFloorNumsChanged","visibleFloorNumsChanged","bindedUpdate","zoomed","updateLineWidth","parent","visible","noAnimate","updateLineTextureOffset","circle","both","addGroup","count","reverseAnimate","animateSpeed","passDistance","passPercent","needsUpdate","Color","_colorToStr","number","toString","TextureLoader","load","minFilter","RepeatWrapping","updateStyle","fnums","_onUpdate","controlchange","mapPicker","uuid","lastSelectLineStore","remove","Mesh","stopJumpO3d","jumpO3d","getNearTilesByCoord","userCoordToThree","_jumpID1","initY_","_isAnimating","force","times","MAX_VALUE","delay","height","time","TWEEN","Tween","duration","easing","Easing","Quadratic","InOut","_jumpID2","Bounce","Out","onComplete","start","stop","callback","chain","coord","worldScale","transformCoord","coordSystem","WGS84","userCrs","TjEySDU2TS4xSDU1TQ==","TjEySDU2TS4xSDU0TA==","TjsySDY5SDUxTi4yTTk=","WndNWnQOW24=","X3t3SGlzWmVwSGdO","Wi5FX21BXS5DWA==","TjEySDU2TS4xSDYwTQ==","WXh0XXc6Sy93X3sOWndNWnQOW24=","WDL","MapError","throw","mapView","rendererCss2D","domElement","code","ERRORS","param","æªç¥éè¯¯","div","width","100%","display","flex","justifyContent","backgroundColor","white","padding","20px","boxSizing","border-box","innerHTML","setAttribute","mapError","post","IS_NODE","[object process]","versions","electron","Group","__proto__","MODEL3D","convert","_props","random","slice","model3d","movePathLoopCount","Clock","markers","_lastDirectionV","_lodLevel","_lodName","created","_lodManager","isInstance","_explodeTweens","pickable","computePosition","editMode","zoomLevel","isChildNode","actions","tweens","mixer","gltfModel","child","scaleRate","scale","tempQuaternion","Quaternion","setFromEuler","ZXY","setFromAxisAngle","multiply","quaternion","copy","initMapCoord","coordThreeToMap","addTo","bindEvents","_getTempRotate","Object3D","applyQuaternion","Math","radToDeg","rotation","preprocessChilds","dataID","buildingType","onAfterRender","initedMapCoord","getWorldPosition","mapCoord","onZoomed","minShowLevel","maxShowLevel","visibleLock","useScaleLevel","outoflevel","scaleLevel","getAnchorPosition","ANCHOR_","getObjectByName","can not find anchor ","log","shift","_bindupates","stopMoving","emit","removed","needRotateCamera","slerp","matrix","setPosition","angleTo","istaped","needRotate","rotateAngle","abs","updateScreenSize","_moveToID","angle","threshold","_coordThreeToMapScene","coordMapToThree","getRouteAngle","orientToPath","distanceTo","distance","forward","backward","lastWalkAngle","Matrix4","lookAt","Euler","degToRad","lastRotateAction","Linear","None","onMoving","_globalLayer","jump","movePathing","stopJump","flash","stopFlash","originalScale","show","hide","multiplyScalar","rotateTo","isHaveHelper","AxesHelper","rotateAnimate","unLockView","viewLocked","gestureController","enableMapPan","lockView","cameraFlyTo","followAngle","keyCode","lockViewInited","addEventListener","keyup","controls","walk","animating","playAnimation","modelLoadManager","enableCollide","viewRangeUpdated","clearTimeout","makeRotationFromEuler","toRot","setFromRotationMatrix","restoreAlpha","istransparent","setAlpha","clonemat","stopGlow","glowSprite","glowing","glow","fixedSize","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAAAB7GkOtAAAABnRSTlMAAAAAAABupgeRAAAgAElEQVR42u192ZbjOrIrWL3//5Ob96HXqZvbIhGIgZTkJB9qOV2yBkoCIhADgTPOOOOMM84444wzzjjjjDPOOOOMM84444wzzjjjG0c7U3DGL3rcm/TA997PXJ3xK96IMwVnfMmj3LY+zIckzviGt+ZMwRlvel6rUb61Vg7lhxvOeM0LdabgjOc+nSG4X+oKxMD9UMIZD33FzhSc8YgH0YnamwUfZXhR/rDCGfe/d2cKzrjhsfPA90P8gA22/6GEM3a/iWcKztjxnGlw/FI/YJHtf/jgjOUv5pmCM1Y9WxY6v8UPeILtf8jgjCUv6ZmCM8oepiLE30AMhWOFyHP44IxN7+yZgjNSDxDF3yc4AZkfhnF2p/l/yOCM+Pt7puCMyHMzh9QkJbg2C2xcO/ab/+R/DxOc4X6RzxScoT4rE5x9vhOw2QN4gvl/yOAM6dU4U3CG8Yj4cT/vBPxaD6Dc/D9McAZ7d84UnDF+Mpy4H+YDeBA8gPVJeggAqP6TjPnvRfzDBGcM3o4zBWf8/6ehCPSPBxDeuFbwOWRwhvHunCk4w4XjN3oAN5aJ3VXqVeUBHCY4Y/yOnCn41bf/ApEbnICH5IZWjW0h33Xm/6GB34sAZwp+413XTPuXKkJYxgrPSfpcBPqHCX4dFJwp+F33+9/IqIs8XxMTnv02g30vivoqTHBo4BcBwpmCL7mR/wdnw7dXtO7Dm8W+V/4Xz1OEnpzmHwZ9HCb4nbhxpuAb7mICIpPKz04ySIK76+c3Zn8uAn1Ezf9DA98MHWcKXn8LW4MgaChAn1SEtslBT+gC/UDZ5zDBGW70OFPw+ls4IgDlJ9fPVV+imgz2t4H7OVbkgD5T6z808OvQ40zBu+/fD/T/CXZKJMCkAfJf61KGvMfNT+DDw7/liT0l3xwa+BIAOVPw4pv3f2jYWot5ANcP4g/JN1hs/t+r/7xC+aligkMD348hZwpefPMu5r/LCdC1o9r4AULB3hlX6Ri0NAi8P+t/p8jDcf/QwIsx5EzBK2/bv9HQGwYY/tz1Q9c3se+H/ytGvDeM5+T8PAf3DxO8D0nOFLzshs0BUXECiAcw++FO89/8CWcLJfcpMHZ2fFvtBGzA/UMDb8KTMwWvuVUTKTzjBFw5gLy9twtBs2v0Ig457iLlB88Tf1bj/qGBd6DKmYIX3CQaBeVOwPVVnDkBG4SgfBD4CRLQatDHF+H+oYGnY8uZgkffHgH6EcJx87eENvRvsKCj3MepcsR5oAS0J83/XqA/NPAahDlT8Nx7I6ftuyIBSQ/gxpAAOU8XxOyXgJ4s+i/683DAO0DmTMET74oT+uHX9EXv4e/PYx2EVjDB7SpQiQS0obFPIRMcGvhaqDlT8Kz74Yd+aGg+hHLiOoS7iq6WhkwXh6cwBcaNEtCTTf5DA98AOGcKnnInctAPpxNQVUkw/BMVDgEsCejnpX2ZBHSL7r8C3A8NPB12zhQ84jZQTFf+NHOB+HF/NpOoLQjIV4rhd0tAq52AEgSP7eRwwP3Ic6bg5hvgt/RB9R/8QHOCkuFQ8F00MOtfxMHu1RJQOfSvxvqS/zpjK/6cKbht6j3Cjr7ZXxz3egDIpQPtKQ7I14KZV/eE5s+vhv78ZmfsQ6EzBffMuwD3AYbICEFKFqmJ6UcCErcs9AM2BHX3bHY44AYgOlOwe8ar4f7jz5ieU6sC7ZSAZtjRey9sHH1L3/8nQ/+en5yxHI7OFOyb6xzEl4QByFmFA8jKGc6+gYcJhpcpYkeADJ6c/blZ8NlACUcRugeUzhRsmugFcA+5GuAqmIRrib0oX94velFLuM0JoGE/oCrDZxH0r6OEM5bg0pmC5VNcZ/gHwgBXq3nWGSKjAu2UgCCvflM+3qv+b4b7RbRxRj06nSlYOLl3QD8SwYCkCrSaBvRi4L/fbE4Drer5vE79f/vnM4ox6kxBzTzKre130kAtBwzDqpsDwnxlmLtiADcGfrElRefQwNcC15mCgkmUl1YXjffkZ28oWHEdeJvl1TUBylLGJaUAr277s0GLr6WEwwH3Y9eZgoJJtEA2H9ENb+xNB9KdhkW2f5gDYujAF0EbjvLKr23qf/nn/ZyBQwO12HWmoGASE6n34ufYBi4OWBENRmluqLcUoHZs6/u2Ie2nFrjv5YkzUth1piA7gxpc8j7+4ucAN8zSgfS+QFeQ9aJ8oSIkrgv298udQeD9/R52Gv6xDfYwzRlx+DpTkJo+v9VciPLedCCvB8DbriVBPxwK5pNsLoCjj3uTPp9p+Bf+qtwtOCOCYGcKHJPlX6tk9vNynWf2ZUAFWlcQUMIB+YUhHxgE3tDj4RZA30kzZ0Qw7UyBY7IEOAuo7Yu+NC16cm6ZgoANrsDsQgJYsDkI/E2G/3MII3ybzjgE4AMLE55upIGkCpSpI4NnMQNURIb3FwOviARs6PBT6ARk/nfRl/A32zjjX+/UmQLHZI3QMLCySi24Q1aBUMEBel+gJAfAEwRe/cKv6PzzWPRfRwOL/IPZ3B4OsDHtTIE6UwK4u2znEsSPqUAuDghXt2ElB5g9jlDUDWJPClB5fe9DaGApH5gzdgjAhrUzBdI0TdZb1zc2Ua8W8WF5ACIHBELBqznAbAp9hYMwB/wq9N/wvyv4YDZ1vfdDADaynSmQpkkw7b1aUK0HkM8FSq4sFlvLHloAQM8E5e+8yATrur89LdN/EYLX7hYC9M/M/8MBxmt7psCeI2d0NOAuIIH4tSpQvqXo8HpL8kGVdFvzhS9cE3h10e9j0T+8fQkxwKKBQwAOcDtTIOIFr/niUnWABsqhH57+oAT9P/QWXfCp1YKS7YAyZQSIJiDervw8lgYKAwA/lZ/DAfaLcKZAgQaCiaITcDv0//3gPatYNNv1X+IGsJyA8KJghfVfJegPPxlUof+jaMAL/biA/ikZM16BMwUcceBcb2sIVas9AP2Dl5kyGU3YLgRtKARbtOTL6uLe1ei/B/pjHAAtevxLQe9MwQwxdUwsEYJu5ACk/Rhs5IC7SgGU/d8u/X8Z+nPgJnmf5FoOB/zrbTpTMEMTERZd6J/3AGo5QJfaS/rcmf8FDyUopQCFo6rzzx7p/3b0XwT9hAlI7PdwwPSdPVMwREYR4K7ISJLW13kAsZ/EwgC1i18iERt4WjFwufm/Othbhf53eQAQdH+c1CCOe2cKrmgimqgESc0+cetUoKpQcCwfdKcTsNMDeL75v9nk388Tw5kRPYbDAdMX9kwBPEkv3pgq76wQo4E8GYjdgbxx4+tFbXYCnkYA95r/5fLO0/QfEuy9bvA3PfQEhP/1Kp0pQDQ6qv9QJJgVmo8YBijkgA1OwEsJoNb8X5TUvwH9l3oA1wMR8/9wwC8lADG3JJYkw+MBYvIoNARHjgOqChoyq95n/twWBthMAHsU/53onznEcMbIZkPEdx3lFyHh77pafwc0UbER4wHi2iwuKx51ElAVB2wmAEwWrSwcKwhgXbqna7MNpn3m0MMpIjo+wf3DAYPX9hddqpxj7srxh6aTeIMBIqYnucFVGKwHSLCLD17tAdTW9yYdgnIbP08Gs4k1ZZyf6C9C/6/lgN9CAHqdl4l3YoYP+a3oYSzigLwQ9DQCwPowwKMI4Eahfxv6m9Y92eZq/mcyTb97/PMbLlKMWA5RUoQkjpjmD++CfviFoEyPa6wngG8dvXe+lv1fEUxpd/qx8exXsw3M74ebXf/E/7XiUM7n506GS/38RfBre4+Pw/EPv2p8vweggIWuBelCkKIC6bvFYg7wljI8kwDeVQdAYsJPKNmtdQK8HsNwZniVLybiT0nF2SGAdxOACUYu9Fdav3GdJ9BVNPan8v0M1nkWk8tJcpEBvkUC4qCfJIDaSO+NcK+v82VGCzLq/+/kgN9LAK5lp5TIrZcDIHSSKOEAVy5QrPLZxPRDAAoBINTYcr/V/zT0H4r+5eXHXzl+RQxAAQ6RAxCqYBJzQ11gV0sMuhOghzfWEQC01cGe89S5VqrhUBi4Ul3r598rf5q6P/nzJ/j+/HMWD/g47nAmXer/L4wH/C4PgOOgiOAiUoe1IPM0UM0BYmM715Z3EcADPYCPDUQngNvL2J7Jo/yZtP29AYCPVcBiuf+/3A/4cg/A2+PBu2cTqQleQ4gEBPJ5wn8qToAuiOF4AHWDGP56/k+hmf/xZ94zgN+5GRr+M8g+fsAUx7788rQkfV3J8boCSq49ScQ0laIqYnClA7mymMwr4tubN2hPItAiDwByJ4PZTnba++FtxGOZkzbbOU/7qTL/v5IMDgEE4wFJDjCBmKBkLegj6gQkgwGLCOAuDhj+74cJaTYwyBNACQ3UAn0t+l+/JPoPirKARD/jjeObJSAly1P8oW7tNmG5dgXfXdvEvkQoEmASQGB+agngmY8flzg2qw1ctFF+Yn7pEoLI4T7qv66lZMOZJIVmAeXni7Wgr/UAXC0wRTTRu+i4VCBXH7oVoA/qqUAIA3jFNP4ZuRiA6111vduiEzCrUOU2LzF4X6TzeP9LnAdcQr4Ymf/ivBWuQHAI4GXoD48WZLoCSoboB7aa+n6GA5L0MFSBXOURZp3dniCw+IoGVCNFshieTKzP5QoCWKHwmP+lpDMN5+T685j078pB4jV6RwJ6JfqbKAYhVgm52GqIknqfOCUpKAb6Cikqkpde77aOADL6z8fRdc4gqSaZh7YQVhSFR99Gyfwx/2u4wbClzwf+fkg617maaTiuPz92e00oICdwCOAd6K/nC+otcVwcQPbA9+NtKJT8L50AIGdGLSWA2f+6kFpPItr2/sfKvjJ784L7UKCf/dd1M8VvG+5hdlO8HACtsd0XJ4N+FQGY6M9/KApBImy1+QIAmTZBMXXLxQdeFWg/AfCLInac8iR8zdtegvjmr1y4z1F1FvUl6E+28Rr+w1Lkr68D+B4CUNDfDFEOMc6LUMPjzuzrPAfowo5rs5ha9QQCuEoEmKsNMQ54Jk+sQHwO4goluE5VR3+TLVwccIV+jBpQP/wB+NUE4CUGseWDWBYLWV0hyGXCq5cwMiqQeXRX2MBFAF6uHRYuuAz/r+GAGCsEtg9QgtiSSER/3vzHywHKPeUa1CGAJ6I82YDjiyt5UcdWCBqLmRUqNpPIsEKAACB3t64lgOtBS+r4FQXADAgPQecV3CAa/i74rkJ/AsoxDvh7AvAoP9/BBN9AAHrgV3ECIPSMc3EAPFI+h2PzBEpcAaV62TzJjATkirIM2bTqzTTDgKbNCCE35gk0EDb8vVQxnLGA7q/AvRIE/nkC0KyH9kXNgl5PALriLwL6cP96Qg40P8DFAQqF5EV/aOylBJDF6dWTbl0E4H1+RHMPWr8HBTU+sG8bygfwPXnEYex3WCOdR3+lctg0/L3Q/3YOeHchmB74FcE6kOEuRlCVgHC5EJSBe1Pc52dYQgBipJ3UgpnmuReIXW97bL3DcMc3sRrLtVnVv7MZMH/Lu/0kOxGZk+ntyPS68WIPoBz9yW+9HKAArglhusZSC/0QtCDIUY3VWtBs9n5upgSERfE3nB34NAnoOecz8xJctn9ABUKd+f9eP+DFHoCoUaDaCfAK4iT5hyPsZg6YEYCejZrPBw1oQcPM2tnq4SLkKS+zy2NQut/km4DeYtrr5j9oa52h4Y+JE4CQf4OE4f+tC8i81QPQs31WOAEu1T4TEBYJICn0B6LBIgFsMP9hOQGznfAtn5AG+mUZh3rJGCbNGCBHoXHxAzBaSBI02f/nXWhaG9HXMcErCSCc7aNHa4dHjHEAga2f/6Unj8JfRVxOACQZP0wAmUSgjyBwPvNSiRB49/9lgA6t38MVwRWSiOk/edmneZoOXZ+W1zHB+wggnO2j2P4ixyT9AJcQ5Mr6N3H8RgIoDwXPTlXMvncFgWfg1UblqYWc8S6In6H5EN8JZM8mTUf/WcanSTDkiKBF5i+9vy8jgBKhH3K2foADXMa7nlQKWWqP4bu5WdvYGSJs/n9wAHlLdYg3t1GUpXbpNKmwzhOAPryrwBFBKdaL/rrsE64hMEvJns8H764DMJ0A8mfTWkGUcABoQJjHM2PxgIyxj+pIAITC4Bj6/5w0LgGJWBamgRnol0DAIhwpr1BT8v0xKpDm+nse/YeyjzmrpgRkQv+RgLbCvcsJ0OFyeBpeM1ynCpOHzDqDn8j4BAIojwQMD9r+3Q0iGQDYEwQ2gW8PE3jZIsAZvBUE7w9BzkFEf8Uq181/XIyA2f6PB7AQ/cOajwvxXTmXyGWXDuMB0JyAwMZ5AgiHgs3cLfizgJREoMDz9hd6knDcrIY2D3zpCl2E6zUq4g/oYsJiHtHQJmjWCsB6JBnvEXzeRwAKUsCp+ZgIZVruAQ4QQVYhOVBdPhwNDjAE/B4A14ICQtAwEYhkE7og/gpGfCcmYZjHap7+lKuhX9/muv3HmcfWdscom3O2w9lyY0pSgKj7z5aaGNIbThZQFe5zmCjUfCCrN/quQKX/ppUHi6QCzcsJ/1cgFKyjvznhsHyOGQYNHXYR4r3bXAFlljV4IzqYfUCV//Jq6FfgBjX8QaV/aB2nh2RjhhZml9CirUMPAcTRP+ME6Fa/uVmGAwIyURPqyFxB4zwNmNqUzhYi+iufr9IZJoE+MV2nkAZ0rIRl+1d5BiXQL/7XDPSvGPqxMS65Us3f+g3zpM/Z5IuJpISlhjs8BBBBfxcN6Fa/iPhhDtAVEkUtMWmA4KwpPSUJwDyWSLcBJjAJoOohRLQRtLK9uAf9QCvgxtU/o01a+rTcwpA6B0CI/SqiUBMqyBDi9UMAvgeuVuuH0JcNpapO7Iiz3NAwKHtpQA8IIxqjNpkgEwRWUgzF91OBqiFnmMLxcyDDuyYw2cA8eS7EYyL+wFmp4EJ/0/D/Suh/KAGY7+EMHRSr3xX2NDkAzmovIt/PtueOwvMJQEF/ZW7NW/9xOBN5hweqigO7KKcJvQceDiuuyi9oVOoS/Yk3EED/RvP9Z5ewQq87BMBeVzgT8Mv/i1MR/7mozwyRzgW1Jg0kCUBRw6pUIPNwHxyAeQkuf8yURb7E51ZcUjwJ/bUQ45V9yH/p60FinrgZ1oLC6N/mRQmcrZvcPugQgBv9RbDIp/2UcICyQ+IENFocoOfnbCMAHu1AdTXAzJFypamYj9yMD0waMAG9FdUQ7B+x4gAej53J98MjkqzQK6MEqNor9ZBdPZ8DHk0AgRSRpvV645gV4wCvHKRoQbOYMITM0Z0E0ITszMIwgEmoIliXiz+gQePrBhlX4CF5JnqoQNf9RdBXqAJaXul1wtuooExZoZ7fu0MAqWdLiRBCdgWQSKgnAVsCuDp8605Ao9WwruhxngAK04F0P2Amgs3WgCW+iLKEZKyBjPnNE/AisJ570sKdgSyiiUBEqFFkHxIP19uFNq2Z6CEAcCyI0YAuAfGcHAU9fx5FxD4zoch0AhQmIFgJwQ8wgxn5dCAR3CGrQB8HIhl+4uOXFNzDr33bmFfuUnIUZeaKmGZIHBPdHx7xpxz9vbPdtLoNVwzpNxKA+ZaWx2M5eCmbzU5AdAJEcDd5IpMRtIgAlFPKoz9oO6AWTQMlZDBUn0ljgOEGYmDgXWk/JB9f3H74vSn+gAZpXehvlnd9/Bkw/59DA88igCYXcCkwYaapBDjAzNgRhXsTUhutDiMIq1xjCQGYh2uefNCMCtTm7YDapOyoOdNAm1UNgEmyKV+ZAEI50tMgPnCSnGLFki5u/mOSUNs8+aOw1qOfXb7L/MeTFg57EAE0OVt8iO/N01JGPAeFA0QagJXvP8R3TIIB3FGA0LChkAC8YQBOALHI//VDoBuEYpeJ+T9J2VeM/e4PHriaxLniwzoHYBSSbbTTpxf9m6dzHLlxT4b+xxEAgWDz4dNdgeap7VKYADT80OTUIJMzZjv3+gFK1Ndl+4tOwOwaZxzvjQFgnggUewJ/PngBqphtrICL8qWOSrFJiEV0m9yEp1ld22Ys4kJ/MYCsoH/zlI81YeWA5Gx/FQE0T48HkTxKOMCEfp60A0vch6wFKX6AArhhAkiqQJgHqJPoD6EbxBXKm5Xsf93SXAwyo/8URn33AAo/Shj6Z3SiLDGGiYLvRf8S9m2jTiFPKw54BAE0rQGcspNyDkC0SwRoPEA5GRPQOQNBq9ctJABdBRLRH5ab1WgdgEsCerj+c/tYsXJk0vyfQT+EFFKO/l7z/7oZJi2j22WZBJwYAMECyOa/TgaLOMDE6CsmwnICIPgBmGvxZjygigC2qUC6E1BSAwy//mMqADH95wkBgCGOE0QGdbmSfMPhlXsA0Gz/GBM0q4foo8b9BMCFdYUMdNW+lgOU6CiHbMhOgIL+3gitTgDmnyIBrAsFzzigTdYeaTQxcXhKpv6DuQS0Wv9pe5OITAYaulyk4Q8sb8BM84enkJijf/M0jp4d+oPGTiGYSgPkT92CWM0BCozyyxHDrfzzjGlgtYhouXSgFq0JICpQs2r9xJvycQ7DYmDxUQwv45WRgMoxovnXmXHRj2L7Y1SJrXy4HmiW5o9RSmgTWkZzUoEz9otRKAKTMPUhgAjuN6HJz2wPpo4/wxFXFBeCEKSg/+zoQyeD4CwPZa8ggEwoGCE/YHiZ5svG48Azs324sXi4IdyYToCo/NQii57NOZzD4dzGoD9wqnrfCP1mkfsCYQWCZ447CSAv/ujUIqI/wRrIPoQoBIkgy6O7M46ZqUM6/7n+bFqhgxkKDqP/kAOuYKQsC4yJWBRLAWqe9I+HKz+znQ9DtbOJjVn9PJTatMR/yIq/rsi1UcUZrMqynbfsuQTAQVYkA1FW1hFQ54BaJ0D0A0xXAHJGkOIABQhAdAJAO0N4Q8HNKgYmuD97Jr0SUKOZJIq9ufQtW7paJGdHvuKYWPE7vAtK/GBIJ6bmg0QDCT7hj+oYehsBFOK+qbyLon/TylbFyDCngaalhzYh50f5X0QT9nU3xUsAtaHgJmeCzh45E2s+fqWg+YwzNig/hcjSKtKNzBipIvrr0E+Iqgn9gvQbETD8m9A94vsJQKEBQgb6PgMcACrFKMBqakGQWzsQxIcWEzbRGSG1B2tUIK/tT+b8WhEKQWU25aPZY2Z2/qpyAlp14VgGzfX3kXPADLI/iNmU1GaBXyU932X789OAp1D819UBBMx/BccVkmhWJg/kpCBOGLC0IF0OaqOuQZhrRKYH4IoG36IC6bY/rGJgxT4waQD+VG7FAAw4AS74EMGleeoPwmwBIdjLlR8IHsDHrvSFXJqW9Nloq4nZDCjTfgsT3EAA4divru+LGkIAB2F5A5wGZkxQ5QdwN6UkGOAlAO5UmQaBjv6zSwssDKA3diY4govxG+svtugdNLlk2EhDUcCuM8w5YBanNZlY0f1hLeeCef4ohAoyyGlFCtns54AXxAB0/0B8veGp8ILcqUJ0Aoag/0EJEPyAKiFIDwboG2RUIN0PUDwMcQHbNk8yaVpRq1gxdEUB7zuvKMh5Uz25K4L7gR/O6MTbMQK0Ii+J/rfcsvcRwFLxJwAoXMGH0Mmg+cO510tzeRWKpW8SgMsJSDIBNL9q9qiIDsFst+IrCqt2twkdIDLvc0uHf5sz3bAl0pYyfCD2lAYtJIal+yueRMD2z3d5ehQTPDEGMIOkGCtANipdrkCeBoZOwBC7EcoIygcDMj5BxgkIoL/JsuZDOISJmQSkMMFM/8lo6y2U8FOIKWJnm7DhP7sRmLTW0Q3/mYjkRf+Y4V/C368ngLD5r1OCwgEEaGLBgDbPyAQVc664P/wekz4TYfQ3tRqkxR/iZIhU7UV/TGrBVkhAmBin3jIiAhYt3SloHaCYrTXC4s+VDPT98Om6/mmi//ByRPRXbvQTmODOIDDBfa/go0QLTJRRRKGW6PTQRjFhziIKyM6kIZOlkAgIKxu4nADzvphfNq0WjBsNpgSEeV4/QhUASfOfnIMLg8gZhkliht3X3ZrrNJgS/MwwD6O/qw0c5PIxFxN8FQF4cV/fp2lRujggLAR5aYAHA0QBp2k9JxT5aAamSDgB0CIBSFcCg2ZbgYo51y95364ZQilrE4q4nNcNZsAUpo0rvpvvuMkNJN9/SLqKkV5SM0xoLAPQD2SCTQTQhFxPF7jrYYOAjh8TgmY4bgIoCQlg3s9HPwGdAJaqQEqYgQCKiP7DOwunEKFIQJxazFpT3dCO6f6uvQXg3oRLMuc66wyjKR/7V1J9CB22XLWXyOI6l7e9KaEPjQHoQTxd/DHjAZBdgTbPCCIIDs0PMBEcmhCkhCgUO11HfERrpGf3xWv7Y6QsZVaGcUlAzVoAwMTlsGLgRY22rBwhHPUlL6NrcRg4M0eJB6DDcczD40ywB5N3EICC+yLEK4K1iwO4jNPkTjjNWesLwQ+YEQxokwn+W+4QwJO3E/vAd2s+IU2oBmhaLVgLFYJhFP6F4N0/wfyvGuac6BwgcglfLvh6VjMpr2mZo01YdB7OBhLK/d3PBDfHAESsD0hAcFaiKlGB5q/w0q14Mm+zPYN6IS6fACEnADkVSLmtiu0PZzsg5VkVJSCiNrhejZJG/y6hA/NA6AzKSVNVUfwhMzmb2Dbv7DbDfTil/1hYPkz2j3IClhOAjvuxPYcNfwIrV1YgqAdLyRmiOSw9R/EGQF0BvkPQ9FCOqpkPJqOYjw2/m9dz3i8BtXQFgKICLRKLrxau2EybgH7gDM1yX7NFR5uXjEGw1l00ELsFT2CC3UFg8iQFzH8zDCCihgnZM+QCrdG9gr7CBCYHiL+F3/w3p32DE6DcO8hOAP5t/nuXBW5yFtAQhlqoAiCPnq49NGtp34B9plwIUUVmHCBCPybdfjhL6ZoPqEcV1v1ucQLWEsAK87/JPeN0839mX1+/ISKMVw5yCUFX5nAFAwIegEgAzRMKFj2qMPpj7k8ElgXmi9wSAG255pouw1D5UAIombxPAtwzICZ7ECWgRptGmIIYYbUmR+lFpmVdBSAAACAASURBVLzRCbg/CDxDcFMgVr4MSBMKDZh7blqtb9gPMI8rikjf6gS0fxcDQ7CCMbciZ8+tmP0pvv+brUJ9V4Q7udY/O0TA9uft4YanyptGYJ5FSkAfWpn3i5yAhQRwi/kPp+F//SDSQMAJaKF+bXw2dDnIJIbZrrxUau5NmboM+mMkAWFi188ASHkDG+0RVq7+K6jUtEpXfjgTZ3UOmDFlYFdKYz4T+l2tp/VZNSdTNAL2M8HNQeDhq4tom4ckBzSakG7qQvAk+JPvFUN+huBwBgNmB1Juh/eD1wlQPjehJ+hwKSjloRUlIE4zswzUW+zBJkQ4vesne4eYQsrv2swzI7q/UjnMZ7t52kWUOwGLOGAVAejmfxO6dCkS/xAaXDgF6grMvleAL+8KxOQghQMgBCf0KQVtVoG0E2CiP+bJoLWPNEb6MuaKU3MGhE3cD5j/HGtikK3s1lTSXD6ESQbicvNi5TBoRVjT4sDKHVf8PEQLG3cTgEIDItDPNpt9mf/Q5l0WPr5vtFyAyDjcEjfRn+wQcnMIhS1Q4QS4OCCM/hBqwcTn1hX+jXHMBkuwFUV9Y5ANjzMxWzJs+BjwtqxDD+xjA5eljwoJyGX+c+ivpYElBLDO/OegXw79Jl7DEuKhNfwBzctU+IMjuMsLaUJlwH4nQEd/TBy18HK+LdQHtC1Q/10gxbc0VSCvBNScIV/vIbjsA6vp0ywVOI/+ogSkmAKY1JQoLuaDCMB7s2PmfwkHNFoVbELw7Msh8OkgLiL4ZgKodQIUs92L/jOaIbIMhxh9+wBW7jT/CVqZ0xLDfWjLBgyB2zwfM/WzUbkfQvVADP0zTkCbrFoDq6jtoQRgWu5J89/8U/kAwQMwhRfypQLinBvKCSDMQDO8zjsBzV8S7JWAIAgXbd5IgOM45uLDCvM/gPvKqAr/hvdDjHd+s5qVViRSe7K0IuAEDB+h2fm3BQHhegJoNMFOAfrV5r9u9XO1hyMpLF0+AMT6LeAE4KKQKicA1KtQHgOXBJQBsjYKEhIwIhDMsb4JUnKVKDE7t0VpP2KnT/NXTSgKuyr+OvTDCuMvdQJc9/fj2h8tASkgbv58kflvfgnBAzAN+byeg7QrkNnJUg4A9ZOgxYGRqwUzjc1G+0DMMg7hN/9F5tBfPbOibV01WTmdeDuPkhiyWTegVwCIczu7+wEOWDSKCaDJ1V4t0ebTfOdF0DGxnv85Q3wRf5XJ/DICMFUjVJQEhyUgzG1/ETvM93a1+U9OwIQS3WZvpY2DvO2jZ6vEzPI7h1fX5jVfENYPgCc3dHgXZv6KCP1vygIyycDkhtlO8h+a1g6IaEGiH5BxBTIEED4unNVhsQ/kzzD6k4dH9ACa0DlOwdly819B//Z/LTz/flBgpbCJvxcZ4Fw5h5wwbxtHOD6gxhAoNysDOOjvgf56AmjprP8WVf+roF/EfT4JpougoDD5uWLGDh0XnQAw9z8U6Ie/JiDjBIgc4PUAGq0DmL3/SBQAm+b/uqGjf6PCdCsNJIhERTKIhswxu9cZ9Df/bNZiDLCWHX5HJbCuApk7aXXZPs1q+eBSfkwsdkkr3j2YOE52InIP/x5FQpBCKrMHQLnFTSgFaDSjfAaOuvKTN/9d4k/zN5TOA3cJ9Ouuw7BLRL5rd4YGhve6WesM7yT4fQQwe2ewrOdPBvqHWD9kBcjRYJchn1d1an8IoTgAVg5P03R/ZVcK9EMIA8CfBtpCTSJbbk0oHRQCpBK22YdnpUdKFPRvVss5TPSf2VWY+s91D7FcIPiVH+/qYy9oB92c2Z/mrlaY/5h3+wl7AIoiVIvjYfTXId78X+xqDhFD/+FTpNtZbbQkJObtYjKKTRNChdCszmatZxIr+Gpy9JiLM+aZZOrR9PXloYUBXDQ/Y7IA+pM2Sq6bspsATBp4lPnvMvmHaK6jvI62+iTfQgBNk+9jH1DkBDSrkkBvKxboW9mi7aCb1rWt0cyf1WMGWI0qmea5zfhj6GE0rTnrEPdN6IcnJKDY+NeJCq89WQ79lQTQKnR/8tty8x/zAICI+zHs5jieAXcXVczO30UeWOkENE+D6CaHAUy0+okXjeaTZMQfjvtJT6I516XhmfvN6vDT0tJ/0tJvVqsJE/rJpA0FH9elzW59+ZoBdxIAf4Bg1XY+2fyfGfsi1Lrgu9yuX8E9t3CAYgSgrhi40fY4pkTQNPlefJ8Xmf8BBBdXVNaxm1+1SBIu8Qd+J8D0b9qoGq4JWT0fJ6bPT6ETsKkVBEF2cw+LzP+Wy/nRzXBx0hapOiv2AKGgN0MAraIqWCSAZkn83nfS5RCgKPXTCxOzZEoXuJsJl+IeGm3eycExwHOzCDCE9WRMKmqTwHIhuj6uDsA0/HU+WAH9XpP/CsozpC7H8TCXlBwu7AGscAKapyAAWhxYzAISk1t4h16XBETe8+ZM/WxCwRcs88tUkPiymuLPTXwQU4NEdFI8AFjZPsMzJOsVu7S45mkUWMUHa7OA+DupMEdS+ZmBhQv3Z7icAe7VFv06DsAkk/VjMkW4F4nEhf6YeA/i29KsMuB8c/a2puBLURtcj2iy3wN3ERSjPtAM1SQbkwmu4o8o4xCXxevMmfpee0gWUHtV2ZdOA9Cy/r3ILvLEY9Gf+AFwOgHmTpoQB4ZWD0xem+bJKiHvXnOm/zd/uSm0ylLMe7SZDtD/+kaIGBdDJW7+J2PLZvM+L/STCxzGdZemY7UFoeAlWUCcDEQngO/cPJMq8x9U9mnfMlzXgrkTMINy5TOicWCF+00Ia1QjngFBowsG6G+v4g20RLw3YJN9QFvTBPdmdftJeg8i+Az3Q5yAGfS3SQUcue/9x/DCevNUkrdXZAFxMuAbBIQgJMz/1bKPOXsBp+FFToD+JeQaEf48XB8bV8O164H0NmrKW81Rhm+sv/yxLm+FJWMKU2ZeIl2VIoUFBPp/bsmh3/u+mwsNrdZ/sgSg2O/mz5vW79OE/qvFN/x8o+yTEYVM7nHtM0kAQ440rXidA0wCMD+bXmbs5WyT+iCMmgEEmObnnpXwQKsT/ZucrUhedr37grJzF/IEAsIi9H8cov97iJTDb3r4mcnzwY4sINGaa9UrvbSo+g/a+POxGo5+qsPLzDgKyLUFbenOoLgjBtDkxb6bPxEIE+mfJ/9g3sciPDK93pYuN9aE4oCrA5f3hz7+i1BC05aRUR6Y9rQsoJZQ6hGKAXg5AOlyX6zUfFyQvZo28lvq0I+o/uNF/48/YzEA/v63aHFWi64J9fdPZQXd5LOah/6lLwu/LzMmULJLW6LITu/QlzlKKwoFL+kFxN8xYv5noD+D+zMU3g/TN5JBzPbXOSBMADrNmzQQiAHM0MSV4p1822eEUVVt1BJZQzP4C7hWLpARIbhZTUNbUbeG67Qkzf/yR2gJATRP+v/1v0xbz/shJvt4IRhrhn6UB6K/iOPiB9SVgyHknpp1+S2xFljTcoFmmk+Afrzob85YsxrDLRJ/FFwOyD5V3fm9nlzTQsFtWUD4n/B1zrBe/GGzSjerzH9+2hz0N+OvfojNHOA6nIsD4C8FEN3E2bORibYp4Ft7CAUNmyeyKkKheFxOgVWwLp5P7IfmrjodXvRv/l6wnBuSTLAvC6hZ5Zot1MkrJgEpTACPMu6aNBcZhA99FwEoUK47AXCGAWY0oIBCOO/eZcc1LQe0zaMLHyrQrOhUfD7DXfhnHY9jOKvfFx2LPs6H6DxtVNLlKuxq/mYPphYkHqW9IgvIfG9nL7BpBgYkIFjqv/gcJ818ZYfJA91IAEkmgOYXDu2A2Z9K58h8E4hWHdxz7arluvPHRiDLs62MDyuzdxWsSkC/OWMAGRWovaIXkLl9s8LCHDVQnfhfCJ1JetAdAmWH2whAQXNdHUJuYQA4a8EUvPBijQj04k/apGdDVeKNy4dQoL+le7rlsaiNsqcyId/mWTtMpIESp3M5ATRPQW/Mf+dMACEMEFaBwtpO8pEVhaAMlGcYLswBOvQjVxIsPhvht6tZbSM5K3iteO/isUqv0/DKjia4e0t8C3NVxUFwP9DDJ4z+LZER1BYEhLN1ACYZkC9nNfTwGI+YSEAQKhUI1j/E8J/hfsl5uvawgQCWqkAuSEI6Qiv+vAkL/LrexzA4wqn+Q6uuyIO+bhFX7Uo5kMsOEB+DGLK3XG7owmZwrl/xDnw6fCARAd5s+Ct8YEJ2nr2gFbtltCPkVCB4GsM1KwgsvtiY14K1aGKfSAP8zW/CElpe9G/OcLEJ/YEzLGkT1P6dOPtX85kdMWP4z56EEvM/cDKx4SaAKv1H2W2zAsK6K9C2rOxYLsjwcy4x7df5QFgZBgiY/y0RAGhFLcBiwzQzMx3fml/oN6G/+VN6mieAPPuV3qytsPi2VQQDRF+wXAWqqQMI8IT3CSZkYH6Y0QCEot8VL7OO9ab5X6XwrCM5guBJLWgI8fxDhgMIIpd76M1abNaL/m2S+yiiZB769QCDnh7aJqmxfJ8xwx9zB6gkGGA+e+Yj1O6qA/B62ebt19lliCYKDdxo+yuUYP7XOm9gDwG0ojhwC3UM3Mb0JaBvYmXzy9+x2eBFZ82fCFSeHsrRPw/9oH33wv0EW7Skq6WbQ/wTmA4XGXhJQnyqmlUQMGSIJrR/WAcHJiXo/zXjMxOIk+PPnz+ufXoJwBR/mlAOom82Q4pmqf+xFzL2nrf00oz5ETP8M/9l4k+bN8XL9/PBPCakdGB1Wf3eZ6lWBSpuBieCfsmDOwT3KzZhVCCmSC4PNPyHTCACvYuTvAa+8r/wVHiIzMFtgoCHGs7+bLkKgCbnfb4C+uF3F1xJqE3r2hZjgjaKIpDb3VamhIqgHx7xOgDvI+h6aV3P0wzaPj6bKsrSwRHZ+1+mKBTjJC8rQA5XlBBAy4UBwhzAX/K2rLz23jHDdxOpXZyh437796KMs0PPttEfA3EVSQX9A49cKw0aLSEAnQya3PS/5OkcGsuzzwSnClFedDi8/3X9cvhnIaYPJ8e7H8yVnFYRBmhCl8BMIpDSBk605VfTRmvtv//9b9XLpafw81UK2jzXlh+CTxfpSp1ENmUpefORQEVFmAv09afrH++MiGTQ5GXiW3XgjrBCOVyK5BGw/XWz2ktp4lWUq0OQVZ0qAuDbuJYTmb1XLZr7zzkjiVz/M4T//PkT4ABXS+eZYsb3aYI+d/dnze+qCNUrAaFaBWqexNDZoyg+SJV1AN5feX3zwBN8RT0TMfNPT0ztEVE4TANefI9xALkcUQvS/0QoCEyeKDMAgKibz2kg8Dyb28eKez/Ir6VXHOMLGBDlYIbyWFOT0eYLwJmGP6oLg72PU9P6y9YQgBeOlXdPdAKalsvRtKVUhn+iwvLlrGB+H6YHLw3wC/mZ8JNUkDCJVGeYAHIYoKXFxuYPd9XqP95e+co5E4mci/jibAwXXg8vNPax26vVn8xzJa6M3sizhUrDGl1VVHQ6/375Mdvmk6YSgCnpNK2bfwD6Ay9w0xIJdNnEe3TRA1j3pUID8Iv4MacBCwLCCFUDxO4mJipzk6Xq5un5hcURgvLEzSGMtlG1lHIjPiaWZPIsmqKZBOQiAxH9+cPQPMvIXEG/3gPIv0jJXTWrspe8nCITEMSMOQGKSKJAuetLaOmhhRwAj7fhgn4UNQdNgkJ4uZgYRpec9mbob/PGDF4Vi8zz6tUFTI/NqwKJTsDMIcBlnfrZrF43MB9UiQBabgHIZq3LqH8QiSQv1GT8gFrzP8wN/E+dA8SJhRyxaM4lgJqnKxyoBMRfBvF/25a8zxUc8OfPn977NTKspO5wrGyTzM5M1YKJ+219JpVJSAHXzUT/mS3P/3d4DgUSEFdUG20ApxCJ6+jh/ShAFiASL2h6v/R+M7T9oeldtY6O6BPAkxIKjwcAzf5Q3vlCQHG1c1lR8zUUWNokHm5CP8f92MkHmmAX3qwmR4NF5G2W4k/u0cwDgNxDIisBNW2lPfNmi29dk9M2SgQlEe6TOxn+r8gEVcRQRQNXjA6IQphnBCHhAYT91D3IEkDn2Tvc5IxJE+BKoB/zRM887iuG/1L9B87E0CF246LPfEzdTN4x48Nt0XoApiDTtFwLxRUQTwBCr/8Vr2XGLkaFwlNIDF4HwqQB1wazU0I0GmwSAKot6MKHqir3X8zLvLZ0bvMVj13QD3lxGG+fOz57e24T5MTQNol7uxhxKPG7ikX4KggSAYigz8lAscjKbf91NIAKRcjFBCIxBGx/7068V+qihBmmKzTwHAJo0V5AtUNMGJ3Zoauhv3l6gg4ziIi4tEII0lUg7gGY/5IdKs/MEPQVJvhHmQVu8itvL2EC5QN5lEHDgLWgn6eKAO6LG+S9AR3NXYJPSwQD4MwCarQtRABJ93sPG44rhgEI2orQz12TcOkTbkoEAi2XIx9+bilGffWTDIC+SgAEbb3o3/zhOP4aKxyQ8QbMn2eEoBJYz9OACO7QRKHA/8IqD84QQIYDAiq2+JOh0ccbGs/wN3Zd0EIISnA41g00kMvf5NU6y0eTm8E1WorVJsv4xE4+Cfo2AQwJajY7AQ4QlSUvB3DkdUF/OTHMtrmFBszPRMARr9qcE8zLg+H3A6oIQCmCNd8LAv38m3VjlrTT5HJfF/Rz8gj3zR7C3woyaPNuRbNQCk/Sr+oa+1H5fMOawLOZ8qK/iwPMN1yBb6+QbR49BnyKEMT/rKWN2WdOA0lFCFppmEIA0PqFKGC9qPzq3mEm7SgbwyP4JKG/jbJIRfO/6vbNiKcJmU48Vb9Nlvf5C+jk84rH4x/+MpiuwPXLFRxA7NAhamfEnzD5zWBXYYsYsgdoQHQFdKCvUoQgZPg0v7TYcpGAbdxg5noiKqMr7+zsexf0h0+PHIUzAVbWbXzs+Xp6ivqvr1QMefma2H+5CUAnBu+cNi3Jj8gCcNYD5x8FZT+mB8CZIKzzJP/k52BymMmC3stPEkArCgMU8kTM9w+kaYo0o6C/mTOqQH8b1bXxvP5GuyxAE4JigMhnm5u/eveFD1ue/Gk2vBteQuWCMGbYevboNK063+UBKByQFH9colDzBCQUKJzxTR7ZvbY/ZPFKn17IPkGAALAsF+j6SCtPex6OvRyT/OG1R3/Tci4DVn+bpDnCarksMoHJCvnbMZwubpgPgX62Wn3tCgct3wtoxWhCsgc0OahRVX3FmXPNgStUIhOUWPSxLRVkdzEr5HgArBz/dSpQEsrbJOEvCdkukG00HKqY8KbMzRNDvdCv4L65EkBLB4FFc3aWld9GDRiGqv31y5L16zMjTgCzJFbvQ09eci4HKTi7GvohN8Dg0BmgAWJBI6r5ZFA+xhMQCoNF6M84AYEVzKueLqWESjxWbKmW64EI8YhqT7OKm9pIUic0ACEegKifZ8pf/LgkQjtkAj0RtuWahLd1C8KYM9i04giRDDgNtHmeYisdHOIVDAJVh1w0YAK98kOdnIZcaPpbopTUJo2AoBUYNq0ijL8qLogsQeo26aSGZYMwBH9DeXaQC6Rmyk/A/A/b/opn483Zdf1vxthvQjeItmJN4EIaUN6WGVTNYHSGKSvG8BBNiBYoTKDQQIlAxH8lIjjfzMT9QhUoyQGB51wJiX18P1PbReAOXIjpFgwzW8h77YJ+r8kv0gByCaDh4mdztx9D2UMLrRd/JYMW6isltYIoH2SRaPOgIiYi2sVBPzqH8hgTiDQAv66iSEBIN4TQcZ+fKrT2U4VOgAIBJQ8SAT4ITobrVXV1+JktxTWUR1zBXtBkyivMmSpQCTopqbfPGS1RR0Z+uy8IbPoB3JJqctaNy5JNqkDcD3AxgU4DppJjSkAz/G1WI0/XlJpbwpKAvEygPzD5p1fMhRPTpmfBxjCWmcSASao7JwMFX1zQ3+bp/+aE5EO+yjR2YYQRuclrRuZpIEgAS7WUzGhWPHaFB2ByjHm2jcYnC5Ucrq6IDpPIhSKLuK4oBv1Ni8qYQC+ivzcrlKMeAbgVzgfB+kY73ii4hpG7QD7DmQYanhMRQF3gvq5SN4n4bemi8IVUYdpTCuJjHgBQTFoF8XU/wISe5umArVvxoC3+ITsNLq1f3ExXqCDnBJdwgNL2kjy0XvM/IIF6iwbEfpmzSn5YxU1tvnw5JmvBF+b/LEX8RWje6pYUdUlwfGQXhW/z1WBatCZTj6qBhl5Nkzys/JBDDC1oMglehwChZB6yN3hs/5JpVM4qEwlwcUCgGqukFCsWBguvz64QnqhFiIJPXvnx3p1YeYSLJHTAJREOQgnNEwduk6ivi2D+iV0qHiwNZRAqzAozAB3+mXEIMq6Aor8nbX9OvS6/BH4nwGRWjg4cRl1JbjPon6XcuFIhTEXe/FWjPX9KBB9vAAAek1/xb6pWH4uhf3iV9swJtMJWEBl8r42/8TfqIexy/ZL8yWGdEIa+vSm1t3nzn6TII3KGqGspEB/wA0w4aFqavBke4LkPhAPCr6QYECaNjmdQUij4NK312+yimtD5p1krpJeoPW2UqGouHlDCKxmKsgmgBPpn/2u+q973cym469KQywkQr72EBjjoK56NF+VFCag8EoAFHaG99YyzJ3bWSxI0DZ+fG/yhUaK0uHLVC6EfIaVXr73Ss/K9QEfWCINV0ODK/ymhATcB6E+5EgaI7aqt7/HAcVxnCC/0I2fy6zSAUOqnYvjHOFVkRN3Gr3UCOOyKfYDbJPBr+gTISR/mD03dv40Ki+6y+rnjomj6w548SegX5f5W0a265fJB2xOawbnwCzcFGDioiTEAl/7T5FBwhgY4/cQMfySCK3Aa/ooQ1LSKMDi77lwx2ov+Ygd5WBJQjLpmPzfzO2ccgFKrH54mHBzOFnVVa3LTiEbbqc5AOewHVI1/YrMwe9kWIfgePpg5oWJIk3yvW76F6M/5gNv+CgWGb5kYCYAmBAU4QDxnJTArijbKmiHwLLAeXgrmuoc2X9X2ynkx6Ie2vAERTGqHV74b/jzWxDR8ac2TCKQ/J/94Z62tTAHSDbdFQpC+tLcO+o02r95AAzM89dr1yjZEaDIjAYQGCNCjWv8hqi6JASgLAXIYVVQR8SnlcWBuzs+0oAz0gyZ3KiHTNllJEbtG4Pyv/Lqa1QIdgf5ZOlPiWxeG8ruUIvOSm9zlzRUSKLkRoniFUiHInB+RBhQ5CImeEMnsskAU94MYkCiA4tsr5j+Egi94LH2l03ITUmX48lixvFjvnR3COvnGPLfmr+eK6UKEFf7ZBqymgRZ7dctPNbbOJYc280/THIbfM/j550wRckWAkQgC67IYuczVHGAuiquL/pB1Xsgms+tR1KGHm/+YuC/XGVP6+RDob3U5jots7cAd+bsxzze9KwCAWg8gn3HhPcQQWJP7b1a5vC4T6dA/+xXZXuSD4Sk12rHONORjgV/XbHijwS4C0N/wNs/UNOWgmbCOeRCY04CINdfLUcAXVgWDCehNKJorgfsZ6Jd0ChLndoby/NEqZLihtdH83aFr2kHn57oJzfTNLW9RhBT0N6HfzIpBImuoaXWwM6M+bPXPdjL8ZsZnBO5JsNfkVPMlb7RGVy/7UnKHTLDmcGACTdMKU81osEJUuqpT8paVrA+zYcTyOE3c987tdeMdaaBhQ9XLAUg3flB4pSRiEf7sFYUCIkle8RdjyNdJJnzgdX2qJCDdCTA5AAkViJ8nhMWzlLyUJlczDNkR815yOkQqgn6gUegeSgiUFrdEI6DAUT5Gth30Hl3+lkPsOfmmVWwhGhtQgHKmR8Gf+qlw82x7UQj62D7GAeZ90at2M7UCcPbFJNDZhKQasgG5QFPxd2W+6zhIfk4EH5dvdBcNNH8dQLPSQIf//jyloQMRbwddDsHhzI11MG1edfLEXFa5Cf3EZA5ApCgH6RECgvten0a/rsD9ErtpNjkNtFkJl5AX51KwVcR9CHmcevZnidpTEiQ31bM9NNCK+sEpKhCEEu7ZQf8oWP/xX6KmvBq49++8WaUJK07A6wHEwNG8tJmM4439Nq04bnbtQzIYHvfqRTUt5Wn4zfB8eFD6+j3XsnQ/zOTUwDdiKB6ax+l9ws0vlYtVLBhRounaCMBgLHo3DH1dH3jQHLmhG/2gVhABLlkR+CXBAJEwXPfYNSczPIKVPUnUcy+xueY87AGIl4OQF2XeQS5nt0nvTNMDaJ5CMMUDaFoNKqwFAD4uEzTOod96PYI9i0Vfz3NPtbD4hM86drhK25TYu5nb06JZQH/wpBGIN6DO9CbQtkEBM7GeHFc3mc3P3j/Dsd8qDwBCqbNy5kPeGp6GwkPcFSPEDL9Z49XuyA0lD57yHOrPsMsH8sZy7sIu0ZBSQlzN6m4CoRNPE3o3/Ilh8ToUju0z4wrwCKc3ErDnYfVq5Vf84q8Z6vSuMO6YfvHsoScgZd5owgQE/Wcvnv5BeYyVk2/OFt/QenK4KMGrOoqmSeDZ2xPyVbQ1069VZlgH9/9d+Me/wzyrP+smZRHQK1jjGt7DBaAwxgSK+S+qhyiqWEaocMzcj0uMNo+oyPriU8TPtlnNKlxoaM4q/57zhHJTvNZ9Xt5sco3LA4fo4w6vJU8DV4if4T5oim3BegC1N8mE123PRAD9dQMnHAAQX0Wy80ab07kuUGFQ/SUR3xZTBBOnsVmJg6CSbrP6Jzc5ExRCYrv+oCpt9JULz+eef/yq0bbS+QN558qbR//xjbfwwmzBzQevkyD7+eCAj/EndvElWPxweje/FIUgE6bLJ1DRbRXzXNRtxFPVY79KHBhU8/E6oC4a4yJJxgMw9R/Fj1GiGsopuZ6ogNpTAgjmKylOaVgnMD1d0II+gu9mZdzM/FfylHwEMHv3ks9KOfA9EP3FJz7sRMfeDZfCA031CgtB4rQTDsBcVSdnqOCmeTKgjepaKAsLls4jQhUHfdc8I0RsXt9Xf5712BWcAqByGjoZJ8cQ3D8+cKoYbvZzbEoDzeCvAsfPR/8q/vO+nObo9QAAIABJREFUSBzNTSbg4Sw9lGJGyYY43rQUIB3dXDPMK4maVYSplFPB01jYdf6iHFH+7tzS1bJNmgKtaA9XezkzJ0D3A5LjTxJYW6hB4wq3oOQxSqK/iSleKF86P7oZpes/isc93G3MvjP90czUmZcZ0H/MR0vxBgLpDJknc6h0bXs4lWQBWMLXTngZmuEfmH79c/ZbZf+Zex3PAioXsl1uXe1jx3WDEkhd/c6YCkl4tnXCM0WY2atrvuomKmG7pzib7RZquySq9uHHL5+twB/j8g/6Z1H330kDMxWe/7nhrK5f2gTQ5JoChIJF+q4K1T09wiNeoPIqLn2XahHNBClR6+ea+2zPs8lpQjps+WyYfmGbFwSI0OYKXeovYJWrKt6C5PMWSwwrfB56euC+ET76H+9zoON15iEg99UbgQw4ywpmIeGmrDagwuZ/LLzsAlPyTfNUgSm2SK2PaN5H4pToQCYGhMMWjHkaXiMj/KDqQeOwSCCiZBV8KwmaPKUHniwgL/S7JaCmNd7KPx8lqFrykot+hmkaK+/VivNftzfRfowFhF1ItM38V47S5NI8rJeAzBun/xfZfqnP6hUG9GFK8yVjvx+QfPj/lOydc4P4wQU9SftOpzGXH+BKAVohm5LzX2H+mwmInFOHf5q2IfxSJH8Mki9bedAl8Fbr28eEoBKKLVEyTQta+ROPWTJsW7OK2X/ZvYCuaB574BThYujhKkDD33CvWu06uon4Xv+3UAXa8AAV7lY0/5vVmsbLZC4aECVEAnCuhKvYZAYiwPA4rJvDVEMxZPYZd6O/ebjZMpa3vKF/AocxYXHp4wtPO5rhD3X91Ewsm/0JKnAnXyT9ZcuI0cpm+Qc0wAFkez26o4eX9NMOBABWxGmVlyhwfxcFgX/DcMna+ksdfu9+fukjANJmCLRJlmi+xaZMfOGbs5Ux2QP3BmZbcp4odwtK0L/2NfBGffb4N8MHJgPEAYCGJn9nXv6wrJRU7TeP28WfGyckcOg/5jwOy45JGwrQwmWzdrkEU0pebzMuR8x/CB7AUnWoJBTJNa68q5eEKpdrUpsUVIWe5e95zIkpcfL0oWS86L3PHqLmb5s98RzEM3nWgjCFkx7OoAgYqqBZ7aaxr3wZi6iHxWidCQLTHjNjN79a3gtpVuv82uyXAEfeBU+rmxkohybfbEanzVxrjn/MGWzzbh6NLn33wGH2BhmunLfiOfj4sjwwYObS6Pgugsgs/1WcDV0Iioknj3oOm7M5T9vSUafknbr3QOY2T57J2mdGHP9k3hOyDmrgqtq/W3WTP2enYT4KbdIkffjz68ZeaTgcuih8aLgEhKI+EPtBec80VkFzG7WD1y+TP8y1veRePRSUbOt74b1o3NwNdLgmBibt/fjS2OLhYK3tMDvcxykNz7bN17aeLQNS4jbpNrKu8ygbmyUUfJsWbTkXm5wHIhRHDZ1dyOuT33/VJbei9WSQINR1F57Z543M8ZoYQOEEmU08vMfiecobOrtyCzGfjV4iJYv+UG0NVB79zWCAK/mq6rqeMzLZUN5glauCgZ/eNg/SddAVVRR8fEMQOD+ufOBtAnVNcJodKPPBe1FkP+Y6iNvAQslp+db08/3wtO6Iq4ta9PPc/5C897E8BDAYYQt9mPZKqML7QdxgmG77sT0ufDBsUD6ckNuFzpemqC9Fk5Lc0Nn0mjlOt09U4PLvPf/a7hrhUU8AvzYAtW0eCpePIMj+9vv4y0tVV9RSfN/dfAgK3zj+Kb+ee3ONbznPJ2e+nlEyfnNqzXffvpZegFPcc8kjVH62AwJIwlkJGuppoLPEHuUQfydFuQpXZuoZXzaeo3qREyO5c7PP+Hc66Sxj7bri8c//NXV8skP4k52uJzz8LLqzyTur73ndkgOZn787BrB0Tl07v7Hc8YxvGgG9PtOlip9DVQxA6e2qNOZCdQeLJ4DyvePPQ67/mQuqxWKhOxNAt832o+6yMp+Fa314M7vKx56koN/m0b50EcfanbzYA3ga8b7UEEjmmOZ/ojjRL3KwVpxz7VW7ktMVJyDQ7rdkupI5C7VRwDe++9hAAIEbfEvS4SIn4HVjlhuauS/EGF89UavBN6/JXmd11v/yWro4K2YM36lmrWw63NLcFe5IHlWcm9Un470R+y2eOz2AzLWtmJfCfc4WDHF166y6nHWmKKmm5nBWeBe89sSik9FlIhOvxYuKmSxYZmB5F/n4DUO85BvtxT8POY+lGJHcs25ehaG2tujXWx+wqOwr4Oq9vRBhVqYXmGTvkuUxalnxMLvGtmLvpbQU6879hFHmATytWLTqQgqv7kZFO7mq6ooH4EVqftUlmOCriz/ke1zIgPx8+OeQt2YnTx5mL6brqxhdd9vmK3Lz1f1AFwrd/EQVvl/ieEQQuBaJHggiyRZAgQ9XV8DLAYVI994bF3toyYRftxFp4GODcPr5jBuuRzdX9JvxhGjoBGIM+vJ2Zqdb/qV3LHrGNow/rnN9whlvOIelAYYNH5Zeiwk9sQYVuhYReBTNWEXhpJlkIAo13hNWkJ2b/ErnKL3NFDdN8s+tsrqRa33vcifgLsHH9YL8CR/gxmt72vA+wZvN/5j0tC49dAUnFUZrvQHYkrIP00vQSUKRemaN/7hRb7YsBO1OKP4QmpPqeopcjUUzZLBNTap6s/7U7lQXCtdJ7fcOYtty73hDg+gnTI7rvhPxAbKGXvKelD8YycyfkqzlQAyAP5NKDNxcPMP8HAMKr+Az28C1f2hLJ7le9gwgX7+MrwhW1QxH30+3Fob0Htq1zGSmF9C6xkF911LMfbR2W34tNtfEKtcozsPHJeRNdUXf4LY5Qv4HObdAwg809hVdAbKfDy8BGvSbuhaZ1cLK8NrX6t79/NlwciWXtKLov/AC9fy5/bb/ugQ7kogSm2dT+ocQCQhkT4YfGO7wKZc/03YCNyL8p/LoutIZYgyBCTdAowGlRG726A6lqvx4SN4nuZw/63Z9465KDlpbQfNY0carF3uBXoe/GPo/ISJFAqT8Mvm8ETziOaCxP8nZBqRdF0OAcgOhhFle7Gyi1rkCe1Iwyg/xZ8VOd76T+WNVpT/qT0DGwF9Rz+KVp3VvLID+w8wTAkar3z3FlhQhsstrrolz5b2VSfSvzWmeTZcSCiaWPqfG/ChBgFuwbvjzPxvOLIB34uuxX0HLnNgKXlQaeyl2qCikkg2Gb5ryv0rmiQ5G/Cq8T0XAQdTNf28AwOuBxWIASx9XERYQCgubtn/g7nvJYOau1cJj4Q063UCNvYWdgJhqLxr4yvIgsPRl3aeumnNi+SoZIyQjCDf5nbqNrISFESWtp8UAMh/g5E7zoUXI9tennXgh/KyeMP4UourbJXLC6lWXOYP1Gb67Ovfyk9RtTy5QhK+XHFSMH0KueJi9pcknYQhPumvStaRGWNYr+V/XrYRTBXom+vOXUferqlQg0S/ZBq18V0/0AJSrXUcYGzhAhPvrBoGXSkyliF2Uy1CaQX9AOO5aowsvsuuPx5CWCAe4dG1+5hkJSPEDMhHgwrcvj/5cpcmY5IoQtA2vkuOP67IhpF5seFy2qZP626Wcm2jOX7/XNcTuqdU03yhlfmaip+gXz84cuTrnDA14n+1Oa9PIxUIw2GPnFlaEqgyCFfFhONHfe98zcKFIeS67tvurwER8/hh/xCtcAcSPZcXac/PKOGKaxM/H7vrZRMZCZR9azuLwheFCEHJ6iwtMlcA1LoIS+beHap28OEUi6l6g7HIa7iKsF1+BMPrvB42ARVUIVspu/+TPbGkw9kZnKnmgsHwPZwoEh0uvWuIKtQWwyXUJXG/ptDxVBBozo2PGmqDozyFVpwGXHp0xQpUnZKmBH4sHPAf9FbwqP408Pv+zbiJWdEroG7tBbBv9RzsH/Ls5gfL5f3/+/f7nh3DvipLn7yN0Mfxz+Pnjy58ffv7788vZJHycZDiKDsEF0TkAQmJ78l7oAQDdmDAhuwT0M+gW2E8PjfBLEeaDRRz2p+p4i8Q1fctMPKfwnM0EzYB1z8UE+OXyDKzoM6Z7AJA7CgwRWYl88BkwLWt+AhBUIH6joaUzKs9w3vBfgf7hzcTPcKYAZYLA8Mt0N2Ij336VBxC+KleDNuVX+ePGdsU/QLPoEbWUC2ejj1q/Kc+f4gHolzO0+j+ma+gADQ/nfWG6szWFCXOm8nP9Jq8CifH/nehvglQG/fPYHUPVjIuweWwiAAUWTRiapcfksbtWG3FB/wfcX9GfsEU59POJDT+41+sd/jmjNw7u5vfXGRYvLc8BfZ4PCiErNxkKDvgBVwmIRJVK0D/vB8CZAFqObK6HZ7aZN05eNf6Yp379L3ODPGTsHCXddZRwWddKcL2JMfAYpPz0Oi04qnpJZn+GPygINZtzctUzpIZQDTCLUUOQwsh5BpwAyH6Ay74O4/sG9N8D/duAznsvdHyG7gF0qz9+yXX+9NMV83+d7S86JRhpC0NLFnNhB5aBD1kYqX3a7vIARPFHFII+riUmAUFmWTEYgJEolPcAXPscWhWok4Ceg/64Y4ihlxXH0g/xj7Jrry7fFy9OUjLMBXpIYzUukSuy/nOgn2gjs2co5huVxAA+/sUP5UfPBUJIAgpwgJIXtMIDIHFsjkczB4sH2ANOgPhlEv1XG/6baSZAb+ZZ7YgBLAKv1RxDAgw8Lkpij2YQeDX0fxxCBP2MK8A9JMwN9pn070X/4ZXq4TslEiCif6flWkR/M+9phgy61QCOb7lOAsqjvzJdgaGjrctBuSUM8I8CFjqs5EnCywHh4aIBBQpNrJ8h+wzTF+k8xIkJIL7euELhQh4Hvu5QR3/X0o8i1iiIbypCs4QfHbMIwHEycAUwA3Gpu9B/dRCY7MfFQyUvcnLLSg+gL6s8ckH20mEKJiINKJa+PtV8sz7Pm+TXEoN77jNBS2y9zsxMAvq4okIJCAnzH1rDuBk0E9A3KcEkAzMHYXaNqHMClCyJGRPof5ZDv0gzq2Gn8BD/ZPClcCiNEzJlnItOVRe44TH/TTL435dKDOMaOJ2hoQLlyTgwmRPTFVCYzJSAhr/iF1guAc1iwtCqk7j5Gc5uAk12iqG/7gTMJpwwAWSBZX/+jzf8u0f8Ge7z5kKwn7ig4LvpCnShMkCfXDEODKHWaZ3aM8vO6rT4YAb93nhA4OFTCh0U8efjT1IFBk8VW5gDvGQwE4KQ7k8g/u8M+kX0z8SBzf3AY/jj1ghw+CjKD9fZ/m4C6KNmLEv5ICDWhzUKBbaG/0VUrz5JbC3X9LmGPpyHGT6KCn74znJ1Xsz8GeL+kBvIl+EXz0Q9L/orqG2erfkrUQu6XggWOAG1AQAxBoBlEWCTkEwnID96qB30P+KuSV48lyn4B1yMeq/8bUJYbXEsKmx/RE1+sZX00K4nNji5unVPrZImq2T+KBfY5X5w4nsbFoJELcgLWMpPOO7PPIAk+ouIT3jI6wfoGB3GAW/EqBZ/ZqAfe2d3S0A/OUAPYw7/7JNslqrypRlkiBKQ+Zkf5afK/6H4z4LJQ7wbslefVCqgKPdfuZtd6wl6PQ0T93kTCNdrpvsBor1v0kChiSqGka9/mtq9F/1NxOczrEA/aAxgWwRYfLS887Zu/OPC3wDKV8FHtxqoQcv3SB56Bqlh3NdxVtT0iQBCOgvBUvxXeAAB838I9CSpyXw8TBBRtIhOuwMlnQAXJIWFIILRXCZCwleAPwsIcofaDTEAPVyUeYmUOLP35yoBeOFekX1MH1yvkILgAZTfbN4Sgxi5uuZD4rrwZPIMc2n4fmK4L+oqovmfYZSA3G++M13opAQt4Uf5vkqbDgtBJvR70T8TCQj4AdvCv3Cq/8pTBL+Nkhn/mEC8dO68nZO56ertVxzDNZN4xKkbyjv8roehH5fGmQg1gchsz/fTrY6eEEICvAA4owXBUioyVn/AD8hrQUMIm51SQCkKOAFY1vih1w3laakKBhQGFWa//Se2r+uL6oX7Ljf/wiRbHJocn6SoGRMMaUDX+gNuECYZTd1K7+mJ5MiS9dcIVfdRS7ihrlUSECan5CIAUD8gif4BGMqEiIc0AGcHU4LvfLOlsd8V3gA5lvJ2LHJNujP5J0gAJtb3SdNQjv5daAEPKwKMlRJQQP9RcF+BV6JpcDt3SKImMor4OLsKvn1Mlyd745eTaf8A2QnwSv8ZPyDPB7PNPtCtW23MP36rizyFsV/z8rFsKFHonqj/UuhkBvquC4+3g75+f/08xMdOF/GAJQRByARdeuNBc/+rcB9CWk6fFMF+nJgouIf7gHZnB+mh+T/Tc0xl3ywG1oktyQEuLSjmB4iU4NpsBuVcBRpCrWkd604AZwLMJaBt6r8XfEWJP3bc2DbIt4MmTMCFWu4BYF4xq+NvfqK9jPIR6I7hPgTTlRRSdaEBtSIluYiBTwjfc6d5n9eTjOUF6d6ArueWOAEZIciUdwjWe815yCrN9aDKw9M9HSBECciclqT0D9lEWIr1mZ/X1wEoci0PBsDqlzAjg49rrkoAHeKgmeakZD11IXlxiMVday4Na/lJFAWEFeB2bSym9FTV/VZxgOIKmOjvIgAXGcw2uAK363O3wsUI9RBFWgIqdAhM70rhAEXzEeMoVaOyHfQM6K/EAMtyV9B/3RLBSbDz4gs0zT28dDBBRt1STrZX4jzd5bbPixA/zAFdDgWbQM8JQIQnPSowpAEu6fR5/r7+J5lDgqr8TxOjax8MBZpr/YDkTnphO+iZRDuDZr5N17Lj+64VIr0o77L6Y7gP5/qRw33OYJ3zQSa6q8xhj9brumggHGeOcUDXCoN1g1pxCDjW93lKqHlcCC2DAjQghgpc0I+Nw8sB5mMDZwSYPHKuC3E3gwvwRGYP+s0o7F08REAd/atwfwbKxHbWkVGpqIgp/voLkyz+EisAulAZ3oWkvYAT8PGnKPiYMJ0hAy8HcFbI04BL8eieGuDaMTw3/dEt5CcF6PXDpZrBzRBf8Qkg+wHi3hRKyDOBWNjMJRTx9iiGPyYJ/hxhzV5pGdCsHfmQgPfV8hIA5FYQMQKAs9kn13lm4g8BaPMbFw3AI5rPfrJfAgooP0j3/9FdgTANLGwG1ysWCPOi/4owgIj+HDT1m6cvogva/0Dppya2Bc3b74GeQuJKkPyIZszDxB0Fp3qoJ0TAJDexfsgH5Etu87qYQ6QBfT/6ndomAc2muhC1C3eijCXN4FzI3uUmOSYZoMJWnZn23sZ2gXum1EkN4Tss+3R/W9DZdIlXrRQ3rAjqxu5XJgyAUL4//wb+9FATeV1IXU4DECz37kkJHZ5zofKDO/r/lD/YKgEQ7O5WNFhBbZ1++rwaoK/MB/Xq+5mjdGFtgy4kz+j9IZBYOd3kgy5nNIl7nvEc6YCdXEY07OBXmf/K9hz4OOjritMiGuBcBa20SueSANaJMQBy2q7zUbik05xj1yhuBQFnGk8gDNDvzgctfLzE6KtZOmuiv+lDYEEyJSGDrjWScvX3V6YiyQEBhbcQ/QPhAVHlR8jwr6UBhQkCrkAtE7jwujYAoIOPax6yrSAyNBDY1eoYgFmaUEIJSnM0zgdd63kphpEx8gOqLjZ8I3QNqi9bDACWKdeFUHCPZn+a8QBFwSB4DcG30L+EljCKeT3XkMZmX+qovVT80TnAhXj5907cvqwVRAw3C6sBFln9fZJgE5gfHfdn0Ea6PsDSizCvB+ZtomdX4XraREAv8Qxqc4G8KlDMA5gBq8v8J0CmsIgX8c1jDWmgW9lBLreAEHPSUtHFHziN9+4MABQ+zBECMF/XviUM0P3JoEnGMqHfi/4K7s9kE1HEH/IEqMRkFuLGuM3FAX1xEV/hwpAEfbonDXSFHGSimIL7i2gAVofRrrWtNjG6XAsSWadbCQLJB+/jy56T/uME0OlC8OR97rkwgItRAjYsvx9VJUvD0+OBU7Ojw4wnlKXhw0+qPrdda0D9HPRH1AkoJAAINVziT2JHLKeBbnWBdvEZoQQRzWP6TwCvsSsAECODVZXAeRqY/SopBIWD2N7LNyuTA4vx6qVhcKaTYpm4vxn0r4fr0cjT7E9OAGEJaAUBmFKMCNkraKBbsWiXEyDShn73Z1Z/d0qCOhmEoT+z/cJCMJ0G+A97Lhk0ds5/j/VzuOiEPwpm++U+6slDLtkF/dAWnNnzMOTh/uclVD0GXVuuZPjYXP80IRvOeCz87SJgtSDVjy5S1FAFmulCJrjrpjrB68BjYNIAuSKXe10C/d6RbQXRrQCA8uaX+wEEL/QbEChenR2ue9R/0eSHENrlh87rWjuf1CH0K09sUgJyoT/kYuAMIns9APOISNd/EazXmaALZcA6ahc+kDMaUJ4ZQgaKpEP+y9R8lBkoWBNY/98Aavdoa2jvew6rE7L+PHmzPJWT0f/Uawtcb4iuaAX4YBaI7kLASXly4PQJys1/lEaDYx6AyQcivrvEH8hNimY0EBhYM2L6T8D271bs1/u/xQSQpIq+sjdcAPEVuEQidAyPb6E0AkLaCQjwmffZchFM96wScf2zR+sTqwhAMf8RqgwoJ4APbOV/9lxggOgnik09+9W9lJDhgO4MAIRhfRUB9LqagF5RFIaJZRpo16M0xXQhJjzOhNjEn6wEqdBY7HI2azvbHsgMAfANhh56wAPgqJrxAFDaDVS0+s1tPv6r9oYqXojIH/xsS96ypAJWTwBE0ukVrYF6rihsCKbmBMV6x3tvgNIxtM9DviiK+saeqlsSNwOI30vXCCongBItyJRcAkYxZwVRt4HHIXAxAYSy4bAToNNMv3v5F+W5itFAUALqztUi8zSAtP8xBLVCw3/GGSIfmE4AoQFy8snyrhXo3511HvpDNbsF5m67EElL6j8QJCCTAOBs4FyuCAW+FJnAdYYiGZCNMwBicoBXCNIP4T3DegLoFW39A7tSmKDLZag8Cz6jKnSa1I+EE2CecJXVz/lpxVNI7rjpTVaZBeYGrtf7LQSwgQa8DgHkMmDl/hbywUwOMjmghF0W0UBlIVjsje2JkmDXjCjxUlSb/xz0kRB/ZtCPCsv9uts8svddizZ3mjIQe5dEJuC4/4EjAQloEQHMJKAVNEBQXofjMDiafGC+F10ICQQ+DB+V2X+5DJcyAjBB3/W/PVQSHIB+U0DHYvOfgz60tFER6M3ER+URh1D1rqNwWOfRf3K93qRy2J3pfd3KAYWWDtRDAeFaDlBoAEIkwAT6AGTHhCBTmCJonn8LXNBPQN/7vwsJIOZ69+gy8V3I/CGbdaGB2gbLtCcyf+BsEw1tPUgR+mOPvjmUSq7uz91U1pDw3i/+9ioqEDQPwCUHxWhAQdvZNzHbvwSslbPV76xIb64XIewu606AuZPAbCypA+jOwmBRBYIW37v+pFtd7/uCUOcM7ocHFWvHlGUDzDi2NxCqB8a7J52/j1r4JTV90MYhsWXdujMIDFkO8noAJQTQPflFJuhzxFes76SzwvFd93WGuB8jGP5UwOkEJPG9mAC61hMi+Va75CCC8sM29+Wyj/eBGGJxp6I/2YkL+mO8ldlh91d4ifvsl/UAro9EfmZEkz9MA11uCbeBAMxzIN944b7qnQrvmTABZ4USMtB/1SdibJVOVbYeQIA/Pn4eAIKf7/bQ6jc748dmLYOnw4N614YcTumKSyjZJ7/FJsf06kLfwLV7CaALAYAPJigkAFMFEo1rXRHqWjFwLx21LHK95I/PhS9FnyQIePef9wxW1QF4Lb7uSQHqE7WXC0fcpt6WoDIE9B5aGxLVqfrXSfjvf//7txnqnz9/wigfeLp6RfvxDD10fxjAxHoXAXTaJG6dEyBKQIQGIJjn/RljyARD6M+4Bab+Y0K/ebgYDlTWAVzf2z5PDO3+lFATDa+wOIP+G/0AvnqByRD8++RZdXmFMuWpEGG3VzSUvW7TE02izLcXfj/AJABQseUWAuhy/074Y7/Ded5p+18PSpiAcwOBoOGf16erz0PBfZ5vlqeBf6omcU9h8AduchUIVquc65RtDgZwJtMzecJ+QDmRFPoBCsRjROGuXhGu+9U96j/8YYBCDqgiAGLvQwgIuySgGGoXksT1bD++D/PB8InyOgFJrC8mgIzJ1hMpodB0fwjt53oiXz489PXLuhDy/ZhP75mUqJl/V8sRxb0MPQwX/MKkCGD4PMQ89wwTXDEi5gR4LffA/5o4a4I+x+gAjoexPkwGM6lHlHH0h/bjz5hd33NhgHgdgIjsfU17uCENiIuFmX4AVroCLi1r+BiVZPs8rcvb7FHhf+rPpOuNrUV/yCmhXQ4JJAmga+vMQOvrMERzBeULnxxdXMrQwPAD+f66KwXZt+k/KKwD8KpAvWKRgCsNuJgANAi8Ah+9IQdi2CbPYYXtr4TllYchRle9qG9gHvTDBKAgPmQBJE8AfS7lizTQtwd+Tbh3ORNeGiBvd9IJWIROBQTQtU7Rym97rktot9R/U37pzniAchuUOKpZ5WAeTsHQRcRm3jXvqdY+ivmb2KNBYFgqkEkA+zkAcmPOLoSIAyZ/Uv9RzlY5OqGB2S3G3CEgT5oo7/RcwGAJAXRP7kdABXKdg8sJQFFSkIskxBXkr/v30kwM5sx99stijcNpjz0SRP/BPH5zPVXTGggowia+u6AB0cJgF74rSArNCVC0HYUbYoAeJgwInZRc74vXFZg9JF0IAgcko60E0IWcTvPnXasL6852oV1eP7JHk4JcMx4zvc0l3VeP4fK8JvpzJkAuTainu0RkfiIygU4DiwhAhN0S/vg4FuGGMB+EaWOo3pBtlP8N8L3iCsT0n16xiFhNN1AT5Xs0I8j7AZoE1LW2EF7FppYtNncrmnHPuicEuU4hsy+71j0wTADdGQ/ok/CgaVF6hSAdYRFSh/SNyZksemiVE0O0A6hpwpuMPvttRv8pQYZ/ym+D2B2612UEZeLAPVQeHMN0F+KsyNLqKZpVAAAgAElEQVTJLOry93xcXlcA2bunE5TONIFLHm7Qi4LAXc4Fcn2pAzf8HgABXPKlTkvlfsDw9GagbypCGb53KT99Zf/nMgLodYu894qMIAWMUOQELPIA1pn8eaM+gMJ9nqwpeofkJ7MLJBUAsZuSUYEgmIQf+OJVfrAxRAyP2rPH8J8hPmEmUGWmy4EB8QEwv49NTon+A+A/eVj5++Hnv8MvP/5Vvpz9Ofzw8eXws/nnh3jdLmPRszs7aPI2156zaAiDxtDInnuob6J+DoGdBy6Z4zsSTsAMiwMcAKcHAGfIgYDyjU4ArGpeCFmkOgeYlDB7BcjTUoL7f8e+LKDZz7unRWi/oyygCy05TUy/bklKmbqzOQQ5dInx1UNBfnJ1ovlPEFlxGjDqFp7nPK8Z2OexQVhxYDjLtVyYW8UBnUZ6Z9+vgHsI9WgiDZALGeo5ovmfdALKaaAyBtD9qwUoZABPghASMWFUK0Jd663mAuv9i7N7776O/uaT07U00GSrCWWuwugPqgJ1oRogwAH7CcDrFhQ+dfwos7Ny0cD1h0ib/z3R3aFwJhc2g+vCEjH9GWUB4W5xyTthSvN9Wc1U5ua6oLZbWbld6P3HV4XrzmxgrFGButwW1JSAFA7YTwCune9UgQgrDL+H1vIzb27HlB+RDEpooDgNNObX9+pQcE8nhiIqB5UA7tPQv086vunYjbk/p9AMaGNwF/f00uhClRPQrcYyLvNcxFxzM/3QHOsJQC+VfaBV9nZZf4vdfRSFf3td+v/fkQoCf7yEs3gv/KFg+CPA0ILDYkx4+A3m4VnvjC2NJ5dTUfk+iTDaPbUXna7aAU9Prp6I+OmgEOMAr0+wkwCgtVsoFIICsg9oNBjz9s7dyufxCkGiE7BNBdrRC0j5+QOdAK8cpINX13rTxzo864Ce7IMdMP+7vAho97ST+ztXw1spzja0rKEY+rs4AOudAIKkAfNfN9sXaT7QZJ+ZidCFxb8Wmf9djj8tUoGKC8Egi8J9ZYe47okE9MkyvDwg3P3RYCXN/+NilfhwbNGuIbt0T7+Hqufk4wOJCnQaVFceldg70/1yP7QSoS4HAxTkhT96HHAOxKNw4E7ivv6/MyYY/olJbKAW+r0oX4v4CwnAdAW6JyDchb7wyDkBGQ/AFVTMB3sDjeRMrBxuI55kj9brijQg7jDwq5klZfpDedsftEWMSw4ywR1aVdQKAphNe14F4jsp8QBMUShz34dw32ngd5HhX0wAvSIUTH67yAnIFAkrcooLX54wRDx1QTNCXT+HbsGQ0vp8+eifS+h0qzCtayWg+Q9dyweFMz5pcgBkuxue7CDIbodOPzE/YPi9gvso7frHH7DYK98XhH//NwqCwB8IGKsKRrRCWP+AdJHwx/XyWK5eP/xBME/I/OFvBd+SXB1/jvVX6wqm/A3sNBgYmBCXJdi1xaTM35oG/pMJIGn7X+97Fe53q1PQBvO/763+/TnWrgj2ZCeAWP3dExUAjaaS/yKT410qsuQR4RM+XNdUXw5a+cY8n+FVX52JjzlU9LcNNDB8+Xc6AQ8hgJIx44MZzQ//nNFA8o6TPzPm/yIaqA8Cm3yg/Dsjg14XCSBY74oKeG+eTorhot9k54PZjVMKfcU7rhC5eUrQGkJ0OQtImeEw6IO2Bgo4AV0I8wbQ2YX+Ch8sghdOBkNwh5ze8wTzfxHiLyeA/qrSsBIPQMTunl72Sx/epBd+m1zmf5hmMK87U8z/Pm8O0a0sIELtXMKKoT9ucgJEiaaWAFY7ASUeQAn0z970mPnfl+n+qwigyy0cRPN/iE1JJ6A8L4jcPBdirlgAoPxWurQd3fz3TkX/d5h3uGf8uzhAtKq6VQpQ+MHlBJhkUKUCeQmgywVrH/MZUHtme5jhPnaJ/thb9lUIFEskoL64NCyP/oWNIqCVXw3N2F7XWCLzTHRPR34sMP/5be00X+vqAZiN58g92ob+qHACFAIQty9B/xgZmE+L7gQouL8I+hHK+OT0UPiOz8Z/yvco5v+guj/Ex8vPP/AEIfNPTLKASM5PTy8so0x7hjlmlKaXIHRhPSx+XGipO0OLcvZ6Q5aMOdBUfYBVETakhBInIEMAEMrKsEwOMrmB31DzKepCf9DZ/YJH8+l+3X+pCnRbEFj5efdEAj7+7HIukLdUWAFTXdZfEQDgd0HZss8bOHeavGReSK+uJe5WK2mFiQM0mUR/TBQeCNUDOqYj6jQE0L/LqxTE5l9UhBSLoafr+2aP07vMf2xrBdETiSIEhnooMIB/lwhBDgl4wWIIjrymKTPzisrkvVkmMQx/2KPJP31e1TWcsY9n4zqfwxtt3q9ZxNhr4IvoD2pU9tJIgAjl5QRQ4grA8tIQFf27v+i316n/OoyU08AqDwA0k0dxBZY6Ad2zgIyCQT9vjwm7sXLi2NNATqbLxdJVZrvoAnp9RPEZ0Oeta1VveQkIQle4nyAVEHYwkZi6HJWFxzOAEHxG1Bsgv3KpPWGrf5H53y2ldJH5jxUxAExUfvjjAbFIQKA8+O8HXicsFvfqhJFEVb2eQO9iXRVLUIwd02jq8zbuQ6w0XXuslIBilLDUCYClGiGaFzSkDQgegPfoXVgAoGvhorzVj1vN/xVjRxbQOiegb8kNdQHE7Kr/wqvX6u+eFnIrcklNRyHzbECw5ZWJ/dheWUgy8LIl0V9xArqcMtSLIgGoEH9EvulWx83ZtJuswLUg0wMo5IAZ3POHqgvx3hWssFACMpmAY32Xw8h9WW5oDPo/sDhcTTZkiO7X9E00d22g7Fa5mxkhqNPFxYYb5N+ictsfWv4PckIQEk5AGP1dHgBCfoD4/Qroh1+uyZj/S72B/6zbNRF54GwPh6gE9IGhem4oz/scKkguHEdFDuhwn8puk4BYjqHdaio3FB84HGyTgEpAJOwEEBgdTl3MdQh8adLV7EtyCzrtCUi+n82q6FeZj1O39E/+XN1l/mO1BwDNCehregRlDP9OK7/IBcJj+5uVR0PQ76N0lysxZJ6Y7in+6nLyj/6o9MkKMOYT5ZWAXLNUiP4QtB3Mqwc6je4qxrvCAQGsFy191NWpXXlOh35UaD6iBCRyw07zHxuygPif3Skl9/XxAA7NgbsSyM4skX1EGtjQgqLLlQSZx4A/eyVvVJd7AaHCCei0X01M2OG0oaCq8g1ktQoeP2Ao+3AtaDhpyTsFvwTkeqh20sBCCQge/QelqwXALwRd9R+S/POx5+H16oXEpm6TgcufO1e87OGfBEBN59fUOk1Td4YvoIW+ynulv2NDKaBQUO40EtC1FqEBAphNoGiDi3wgEhW59QTc9S/DKpAX9N9i/uPeIPAiJ6AnqsNc+PgXYfu/C446bSbanVUFP49CdguPSMX/t9cV6173WWX+kz8x0u6IoKS/b4USUB/lqyjSM4d7VFSHmeShfyOe5GwePqaIXIhIAzFXgFg5nAmUhxn3mf9Y7QFgjRMA/8JhEMoCuNXvumSzrZCy/81Lg1VpIxnzv8/zXmbmv/he8R16p6jqAxKRgHIC4GgbMP8hh6Ax9wPE23H1/4bcELtH0LI8dcP/IeY/bg8Cx5yA6297Ohqch0VzLYFOQ7vDg7oE+kz6/HWzXt20B56+TOQl4U0gcOkDIUbyxTsSQ3ZUOAEQIgHIeQA6+utw7xKsXKc08yE6rQvzfgh4Ay574kbzHxs8AGhOACqSQRFKDI3J/R/nrKj/Sdtf7zzKH7Kw2ct37jL/XWcSM/+vJ0lUBXLQK6DAoyx7qWKDChRA23L071pMGJYfMNOCiDSU0f1N+z3sBNxi/m8igDD0r0B/UfYhQGzy3PWHZD9hoUk/GeW/dCz2nkmnOf6dNn8egu8Qi7uQnT2kk+S1uKICJlWIQvkQ0XQnQP8JuSP5PyELQeZdG3pLELqPoMLwFyUg3VjZSQNbCQB7q8My6E8SK6/nbH6G1pBH7MI/oxD90anq7JZ56PMhhyEKiKrx7LfcJ8igvw46ihOAee4/JwAdjnWHAFoNsMvYd13RdUKu3DBki4zh75WAHmj+7yMA+MO/yElAM/Q3CUDBR9JR7vqZ6DlX7J4V9854hcO6KXmbUTKTokQuUVTy65bX91x5VbpVYQshFDwDmiT6m0Y9qBVMwJGjakCQgRYPKEF/RdRSiJ/cbpHOw4p/wB7S3dZvIAAsSATyov8QfE0FZgjQejNRVOg84tPAXavAzhVDXn/ExcsZgjJ5M2cbd9pLJ3MXym1/bHECrtzmJYAZ5obJAFqfOwghAVM6M82dmPijP06mJ+F9319JAKuZYPYlN/9NlAxA/xDx9WDDkLSGf5ooiai+xIHbRF4TLl0PeqfNNWslIB0vsKbLWLfaw+lWs6IIwXIshhOFnCtgHj1JA4SkYxygMIHIE/fi/t/xz86D9VxKaNeazPANSAvM/u+KIdLCoU0WFOuj9E2ehtjoSmE6p3485UqjzZ5I9Oxyiyfzt+IL0OjCL8pz0v2pUK4o4k70v+JILQEEggHKZ1HkcXkDhK2H7ulMHQqLP+HNTFr6NgIIwEcX1n3t8x5k3SpzNefaLCMAXWDy4yjKoa/t3vbbBbFb2XOlA12rWL7e4g+SICCen0nFusx/4Kg3QzrRmnbB8Tb0jxGAAqNmVCDAAQrcx2IAm8d/9h9yRUoo5kLQTO0Ru/rA2U0IVucfcbc8qrwinNDlYkj9uVfeotlOhtKzeWl8/14JaIZ65ehvEgC3ZAnClhPAcNK8ZIBSP+B6SpxKAxygM4GJ+M8x/3GXBwCPHNTriodnp9EnlbfeNqKK8jPbPkal3Ur3JKJT4ewV3pHZW9EmHafFs6p6zUQQhyb1zH6VUYF0zcQFxH3eJy6D+NB0Ho7+fdL8p2t9NZTbpBgfCmE8BPf/jv/cctQNDYJmTgCEVVNcbUSvH4bGPk/3VOLJfCYz2JoHaNfOFSlDPCJRgT+2ueJChgDy6A+hYREsm9flBMCZEQQ5Lyhj77vkfi8NwEqyCnCASD8KJeCm1M/7CQCLa4M5AZi0FOaAWa4OwXSlkoBQi861GZ72EkbXsoP4HmZg7X3bRd6qkoBK0B85JwCCLW/iOPx5QbACyAH0V2jAfCrIPsVn+PvEn/+N2ySgv9fsigYnj6WjXo+uKfaxk5/fdCvqq+QUzfaPeRA1o/mQ32b0H674zTbuudSjqjdNl/KTH0QnQKeNTDAA/oSiDPq7LhmCEa1HEThqux4SxZe9S/z53/jPjcf2OgEIRX1hxVT1k4HmAfzc+VDGEbFSb/12pYfazkLiK+F6UU1snfnp0KqFiX79WPSH3OqHoJWolngJQKcQEd8V9Ofnj5GY0+eFAl75aPhgB5yAJ8cAbvYAECoOmFmdCkSSuGgT2kpjXg2AeQLoLNmf5I92qxZhOF1khvuCZV6q7j7Jjp3dEf4sdU8v6MDrFwsnemkg4wSI0BnwADAJpVSZ/C70nwE0ua0mag8tjy/D/b/jP/cePm/+86gvhCad4U6imMcbZhcIZwsdWCmq5Psw3CvSf8w77vP6ZBKe1U08WCow5int3quA3wkwsfv6pR75DBjIIgHEpKQk6HtpIMkB5sb60/6K2O9TCABRIYgrP0OcNZWfsBw03L+4vZL2o8d+l9r43ZPzYD7rXSgC4G8mZAnoSgMmuCfRH3WhYGgqUIwAhjMZJoAb0V+hQ/7QemMJ+Aon4CkE4GUCl+Gvo7/uAQyhWRT9zcqv2ZdiIbGO5uZ/ZeJgGZrhkN21WjY98GuGN9ehPwRfQYdjyGpJMho8vDuL0N/EXEXPMQ0F87ffhPsPIgD4k0GJ/OI9qNlIjvyp0E9AltEDG7Ntkn4AF9mR03/IdXEL3WWgDZEd83RP88yJLrwC/b0EcN2VN44qQjZCKtAiGsDcFeBc5QJ0Xah5l/jzXALgmIuJ4Q9ZnNHRn8cAeG9OLvoPeYsnFGWAu5ADFEoQX5WPAMAVo02s5xKQ4kwM9+l9z8tjAF1uC6FrQbDSga5sF5CSUO0H6HitmPZECyLPD/HMkHACnjAeQQBIKz/Qgqte9J+dEtd8uAyl1PdyIO5W+7PYM2c2EA3cVhcxDKGE0Aw5ye4v/SWOAj+lTrNH4AwGmLYtJ4BulQVwAvBGAjBXz1Bn7OsXHlDDXAxdK/48gQ/uTwP9Oxdmjc8Vp5q1BtY1pZL3DTX/63p6/d+5m8NET71pD0khNX+LXM3XzvurE0wP9Qwf/jBz8grTDLe/UQXSCWBGe7oIjnnJxTr0169d/4lCGLMnxCX6nxjAFNl15QfU8M8oP5iL/rMzmf2cXAtodRinN1MgMmnDu59YAECBOaL/kLdLCdXqHkCAEtahv6m5w6OBiNvwUDCskLIoIpWgv6L5KBsP7ynXjlyTj+eJ/s8lgELox4KF5nm/NrPCAFpS0CyPiF8j5OKAAMzBkxKXedaTJlL+1VLiw9wwXMEESDsBJnZjrgW5uMcbDc6jf9faQihIbdI85J4/5p/PoYFnEQD8or+CiRkOME8DmuHPoT9wIXl8v/cuX1OATAYKxABMiIcVJ+B+xlL0X0cASsDcG38eTtEG9Bct7sDGOuK/Ufx5DQGQbB9zP6jwABQSIvzBQXyYRTrDNU4Pz3zCMI+OgoYQOTHMTHUSB1ZMNv2KsN72D6hASQLIC0Eif8Tg3hXUXcEB+CLx56EEAKfhT/yAPAe4NKiZeS7+kF8RYTjz8l27rX1YddvH3DJg/gfUfyVmEIgAI60CwSPFQIuIIpoSCmfGvYjjYfQXQRxRLWj4EMas/hMDiBCAF/pRtLaMiP5K/NY8W97HYrifmP7DS44VZSZzZxHVfwJ8o6M8+UbxMNahP6JtcPSUGFgJnV4CAC27LYF77+W7OMB0AmZ3By90Ah5KABn0d8E9aOwXtKuPK4wMGmBwlTHP9qkjfh5DZy+ACd9EsBIN9sA2RMfXvYR8DAAeqQEeFUiBsD6vb+IaDiryQQvhXsnSQUKr0R/4F2n9LyOAWcGtiXF5wx/zZnPQ0kZnF4Ko/d6sVQ1ij9pwh1VehUIGM1QKxHJ1g7pk6H4Aoua/GQ2O2bAcMZWMIDg7UnShtM0L9F6rf3YvMn6D1+o/MYAgAQSgH2nxx4v+BKyJHBRQfgL9jgKU4wLBFfvpQoGluR9vDKBPxuxYSfTXwUu0xFEnBF3nBJofAK1Guhb9zYAwBJcr4xDod/8QgI8AoGW4i4b/OvRXEv9nMYYZOs/EE7OwAH73Agv0yit6DsUuL6yHGWUG7qYQNPuVjv7Imf8IVTl1oZ4AWmkYnOlAoJXGMaAX0b8L3dzMFAPznrq0/idrQY+OAcBZ4pvnABf66+czZDhT2CGqURutCcyPGKOHwtFzCaBdaPFGoL+QYERY0TGIo08+EpAhgNnNglMVUZyAWvTX5zwp2rzO6n8HAZiwVQL6sIrOIGeg8pZwHO4/zPAhYZjYrUC/yDSFWM8d6is6E92Ww+Lml3BREBiaoRoOBSMXEPaqQJgwfRXEd6syWZ9ShTjJA/Au6f/RBABL0wjo/siJP/pulaivnt3ENaJA8k9JFXHAoB62/u+0w0TslLw5RTNqUWIA2BgGgEf3CEQCQLM5P6bUqwUFgskKuIfRX1T59efnvU7AQwnAhLww6K9A/9m5ceiHHPV1JX2Gkb32qVXEGZMPvCHc2LmZhDFzU7aFAYb6iQjlCi7r2B0A3z6vGwjDur6ZOL3mD2ufwEMAcSbIm/9e3DfRPxD1VRL/Xda6N10q8+CKfYrCWAx/FyByOSRhlJv5M5bqNHPfRP8YAczQahEBYGK5I1QToP+qEPf1SABhAjKBw1/hVeb/awhAwVkkJKAA+s+QVxFedOhX1H+9J4SSPhSjAdfGinYPfzKP+JIXjvIwgBenulaUO0Mx12bQOkN0oU0Q1lv9pjkvykHhgPBbvIE3EQBkYzyj15scwOkEVsUvgWBeQuyaolr3gj/r5pczHN/wwMSOopyejv7ICUFKKFiBPwVV4UkKCoDyftxX3DXvBJrP1Yu0oHcTAHLmv7cpNEFMk2lIH2nlMjnQB5qkDp9X14M7S+ef5efMDu2KFnhfOe/eRI0oFgSG3/zv89ppyG15TGR3beaN5eIOe9+VHUueHP5qvFH0fzcBFHJALNhrZk+2+TpinEXIIgRIizbPXEIg9irqbywXkQj0E27wKk6LhKC8CN61XjrQggFJ4K7Ceh39XXLQHkXxEECWA5TvTScAc7PaDPYS2Ye3tciLP0kPJn87XFUICuKb2wSCt31UYxVOGDURP0YAeiAhnwlDCAByTW8YoNfhvuISici+ObB0CKCSAxSkdjX3h5xjOgz86sgeOLQyV7e7AkpyPSyPm2+54UXNSP8IuQIQQsG1BNCtFhHm0Vfjewb9va5AF9p/HgK4kwOSTZvz6D9LKjVb2pF1CF50O7pWAua9udejdKHu15U2OjsKGcOTCbgCMSaYgbiCiZDTgWZb5kPBD0F/rysg3txDAPcQQAb6Icg+yv4hpP3AmdBZshpBOKcoBtNhNC/MoluX/5NB/BgTFBKAWFIwI4DrLFVJQHehf0xwCzPHIYA7OcBVNwC56xzpJgSt2YMZ+92J19uGbqeXvFpc9PdCv47+7yIA+DOCsMUJyGw2e+TCmP41NPBuAhA5IFPci1BakbiegR77rTL/OaomWScDoCVcwnF/dg76yZBdJckgQwA6/noBUU8cul3YUXJ+dFdAf5jfrgW9ngDgTM4xo8cl6K9kcO7UagLgvs5dEMO2xD8QI8nKC5mvXHPxQV4XwsSKD1RCIaoCKVrQkzkA0W5O4g06BHAzB8SCvWKSvtlHOoD+HHPzsY11Ex7YRnxVSOHY8M8VpTpmkmjGG4jlBcHZGkiUO/hvIbSIiIF+7U+S6C/OM5nPQwA3c4AXFsUFXqDpLQEFn8cnEE39hJ9XSsbH+1DbeE78eYldpuhCARekNjFUIQAF0yEUBmOxEJTfOIP+SSHoEMBTCACJkC+ECG0M/V2BX8it/2MFayLUki/XQeoM2gI/T6J/bJtFkeGdBACrLgxaNBi3ijxJ9A/Q9iGAp3BAoeYDOflHWeJxuAe9jSg8i2WGrfvyZWSSFKL83CXRrEP/WwgAFRVhIgFg7gTEzuEWoV9Hf/NJeFelznD8CgKAHPJVfqKk/cDT8iFQdpC8ZJTqP31NZ0Sy7nHmxErOVtzziwgAQl0YtEjAag64Bf2/VRr6cgKAZv4jLf4k0d+UcVyuQB7ck3KQ6THo70+4VXUf9dEkeZ+uZFDx+20SkEID8KSEBpwABdbzQF8I9wr6fz0NfC0BiB9QIf6UoH/gAvm1u3aeRPxZSQHZeMXLQ3JG+cbh6l/+Xw8hAPidAH0zV2cI3KfsJ9H/W6PBX0UAcK6BJYo/kBcQhkdDN4UdhMSf8EJd8Jvb/K0YpgAtDeR6k468VOSVj8oJoFs98pQuCyhyAqBli+IxHIAQ+pu39dXjOwkAoYzP4Wai+AMtKqu3hkZC/DHTijJ/eiF455sTeFfXoT/WE8C1KgI5FQgJJ0APBeNWfT+G/scDeMfQV26BP/wLS/zhe1b0H6VwbHiswMK/SfPfdTvCb1HmrLZ1m8AdBBCIBsMjc38UwYlOAI8Sw4Pddwk+vwf98X0EACsjnv+pN5Xzru8YQ//kejXDx9c7FV4oTxYAb4Ps2l3tIQBEawLgcQJg9YYzd6goUas5AAf9hfFLCcDEXHjEH9yN/qT9XNL8937/cT4BODZN/ny6TmC8ggDgkV8gOwGYB0v0o9xl4x/05+MLCWAIvgr2BWK/Ckqa6O/N/jQRU68orsV9svFOLL7loPsJgBwxmQsEoUnccA9KMAAbs/gP+pvj+wlAgb/wgl/moXln5kAGKoT+z+JZmd+TmfRuVo7FmXrd8EG9G2wmgK415oQWVFC6A8Fpie+U9Q/6K+NXEwAqzH+yf1e2aBX6B7rFmXOi7+pq9QdSP1EUSPidEhBoHmfYCcDzOADLQP+XoD++mwA4oGRWExM9gOR6L+af5s9NjEZFmOS6/c/T2JmKk086ih0XiwkAHpsdiQCAkutpbolQURgeA/q/B/3xewjAi2jPR39X338Tu8u7yP398xb1f/+hVxAAQniNaJgUcjTYe6qBuoQ9od1fjv74nQSAosWEzd3qjeeQQH9T/MmUCCh8wLc5BKD8WesNhNETcqTX3MBb+YUHgP5vQ3/8WgJA1PyHs+IXCVwOrCYmLiRgnoBr3j7+t1CHSe7qmwgAnpBABkNnu1VahKKoxBd3gP4vRH/8ZgKAM/d/CEl6xS+cHfy9dQnwq0D8BOAhBiVmm3/BDgFcP3tLiBdxAKx4clgFwrIwAH49+uOXEwAozuqrx3z8EJ546fW3cKYAKbZ/VQyAk8T1y0DBcBiCk9sn95YkACzGfUStYEXDUTZGKDS91Mw/6I9DAPCrN4qOry/x6BWClMW5Aja+Pj/wYLe3+pe4MocAsN0J+NitWRj8sfHsrJa26zl9nl3jEMAn7ojCPeYhXFOTCaj/V0wXE5NcCo8X6zkn7Q//rrPpVhAAtAwc5HAfFRxgtpdQto8lpx70XzoOAXxiWaaBhBI2ID/nH8RmQcmjBHY1fP/1hP3kqr/eQ8dGCQFgb1SgUAgaXoXOGeLPD/rvH4cA/gVDisxCDH9otQIloF+L/uJ5mluW35GHvKvhdQWWOgGogHuk/QDznMUSYiyW+I/ofx2HAP4FN942D6gWf6Cxgtn8p9DAF4PJsRWDZ7fAhNcVlMPHG50AVIdGRRVIj+7iPho4A4cACAAFqr1E/kjqP95WdChCc2+9gj7n5vdPeGmf7wSg2iEYnkksEiDuYZGZf9B/Ng4BfIJOAFi9i8OgzhWYISaK0D8D7nwGvOPnqxtebCA59jsBWFYwHNPHzWZzZHto6UCoNvMP+pNxCMDGJnFJd1H8QZ3+gxDTIIf+egjanGFXKDhsgJunVNhhVHQC8MyoVa4AAAfaSURBVFQOQDQllFxdYGUYLIhkHPQfjkMADKGG/2VyANln3t5P+hkoQv/83IqL23zAinKDAqe0nwNclOBqwYZdHGBetXhKG+z9g/6zcQjAAVth8x8VNAC5Gtm1qxj6824ZZszW9ac4XC95stZsAwfcGByG3w+AzAHK6pKxM9RXTTjj7zgE4MOLmSCDtPgDZ2tSjmj5ODA83MObQGzI2MnnIAXwgmx5ezAAdYHi2YV4C4mhLTuDnJyFI/p7xiEAN8ToreLIz2dfFuo/WIz+ZiD6f69feF3iwK2p2nKdK/B9HKAkAkHoVn1kn1vGIQA30KyGfkSLDHAT+mcWoUwGGPKLFfPhbUEh/tftWhDqOEC/WH3FAtQ5AWfwcQgggjjhtB9EXQG9xAyJlB79Mzm6vk1y4d/V6O86me/gADjx1BsJIBwALQyAI/qXjkMAvhE2/+GHYLPLED/iahowq5Fn8zD8xgXTe6B/CGGxzZZyAO6Afsh4Le6T9Bc6hv+6cQjAPUrSfuDPsl+h/6AuAGDOGPnm4ejvApeMZvIcDoBfBdIXDTb3fwz/beMQgHsklR/kUoD4WWGl7KPsTWnaE84Bjbka5vYrVhqoqghDuj4A1XxALircYYLnAuGg/7JxCCAyYsY4QirQalcDOSfg+tmcN/KrQHWY6wTMjQsrwrClMBgLyoYh9O/84Hul15trko/ss2ccAogM0WgtT7DZQwOoloDESVuXBRTb+bqCALzZFZidVUD3n212iry2jUMA8REWZBANAJinsQ7xkWgCqmC91/bfGQnYkwiE51UJQC6q8io5rtk4hv+6cQigcqwIAJAi2xLFJvPZNSH6N3gM9HOE8m5WUh6MZ7sCJgfAuZCkcplnhMchgOJRZWK7aqyWony4O3QM/b87CIyQ4Y8nuQLitdeuxHLQf9E4BLBklKgrrqx/LKABONvPkS+Thn/tmpQPDAKjmgY21JG5LsGF4Cso5IzhOASwasSQN99iIUwJKGUL8qVu9Rfi/l1BYL5BHvSRxnrkVKBh+z9FxvFOyEH/FeMQwNqxusHONs3H9V+Zb/j3yv/GtiRjc5torMwTXa0CfbSHC8dveRThjKpxCGD5cFnZSfEHd8D9NujfjPvXcW9iKIpwH3uDAXDieKxu4IzYOASwaWzor3kL3Jf4AbHvY5vNtl8RCoYzDICbkoIQgv7hkg/ehm5n3DsOAewbJqqG26ttE3Zchv9bAr+z8eSA8IquQaj2ACA4AdecZlJUfEb5OASwe+gLrP/ccri4SjKEi4Rpv98P0DcIbGmOVwSE7xKIfk642PkZB9mfMQ4B3DMy6j/SmTx4G/Tfrv7/HO+NBKCaBvjV8eV/h3/OWgydsWgcArhtiOo/WVx3p6BfIvisKPpNSv/XcXtdGPamh6IibCDOwAkDPA6FzhTcfANKY794D/Q/Vvq/joe0CMUjaYBfZqCvw7Cw4IxF43gANw+u/s/ejeufK7D+OdB/JCDXN1WZQqjzAJQdnnED/pwpuP8e5JZWX4H1K5gAayQglKpAm5NBIUtAqMZ9FLECJt0J4XECzrhrHA/g/qGo/9gF7nucABwJSPt+tflf++eK+TxjLficKbj/HiTW113ECqjI9kEd9P9mCQhFDkFVazloNHBNCT15/Q8cxwN4xPip/s9ep1v+xK0m/6+VgPBOh6Bqus7YNg4BPGKsNv+xwMZfhPtHAlK+X437qGCCWV3YGc8ZhwBeMJ4P9KtT/r9PAsKW4gBsJ4YzXoYtZwpec6u+DvfvAv39EhCiZPB2JjhOwMPH8QBeNjYEbx8u+r9dAsKzQwJIM8EZb8KTMwWvvG3rcR+76rxeJP78HLfY/igy/7GLCU5Z79OR5EzBu+/fs3F/KeiXdwH6OfanA+EOIQjL3Igz3gEgZwq+4S7el8q5Tfx5iCuwoS80FjABtsQJzngfdJwp+J57ucv8x3rlB7sQf1Z4IY5b1gmYfb/TUTjQ/yWgcabg2+7os0WepzV/VsYTGkTjwQLRGS+GizMF33lfF0P8b1N+ruMVWhAW08MZrweKMwVffoPvYAI8MudnaRAYT8oLwsH9M8SX4kzBr7jNt8Z4k6C/P/Gfjz2dIfj/3hUlPuPbkOFMwe+632/Q+reFf3/++fBQMG6NDZzxtYBwpuA33vW9iT37s/4X+QHlJcHY4gEg4QSc8eVQcKbgV9/+O0D/dZoPH9sUoc1kcMavQIAzBWe4QPxGxL8lB/R/45bCYCxOEMKB/vPunyk44/8/DY/RfN7iBOzsE4eVTsAZv/SVP1NwxvjJ+Jaob5IebswHxRZF6Ixf/ZqfKTjDeESqEf94AOFtCvngjDNwCOAMx7Py2jT/MEPE0PPJhQJnnPGvV+NMwRmR52bx4o6/1gPAAifgjDOm786ZgjNSD9Abqnw3ewB4hhNwxhn2q3Gm4Iyyh+mOdM8vqwMQNzugf0bNO3um4IxVz9ab1f+f4/mRgDPOCL6kZwrO2PGcPb7UKzPuKhM744zsi3mm4IwbHruX2P4/xxP8gDPOKH4TzxSc8YgH8Z22/8+xyA8444yF792ZgjOe+3Q+w/b/OTb4AWecse8VO1Nwxpue12pwTy4KPxwH7s94zQt1puCML3mUn7om8BlnPPetOVNwxjc/3/elgZ5xxhlnnHHGGWecccYZZ5xxxhlnnHHGGWfcPv4fgpSc7L7JrjoAAAAASUVORK5CYII=","AdditiveBlending","ignoreClickEffect","setStyle","Sprite","glowEffect","model3D","enableScaling","MapObjectUtils","flash3d","faceTo","binded","stopAnimation","fadeOut","delete","mark","wrap","prev","next","modelStore","model","ESInfo","MODEL3D_LOADING","abrupt","return","loop","AnimationMixer","clipAction","clampWhenFinished","repetitions","toLocaleLowerCase","info"," :  ","MODEL3D_ACTION_ERR","animations","previousAction","LoopOnce","stopLastAction","reset","setEffectiveTimeScale","setEffectiveWeight","setDuration","play","watching","getDelta","removeEventListener","finished","bindedFinished","apply","LoopRepeat","LoopPingPong","crossFadeTo","match","restoreColor","changeColor","resumeMovePath","movePathingTween","resume","movePathController","followPosition","maxDistance","minDistance","pauseMovePath","pause","tileService","enableTileBaseMap","faded","applyMatrix4","rotated","paused","clock","getElapsedTime","rotateMap","isStaping","movePath","from","viewTiltAngle","path","startPathIndex","_coordMapSceneToThree","elevation","target","followTilt","rotateOnStart","rotateSmooth","followAngleRotate","followSmooth","toAngle","fromAngle","index","_clockMovePath","tileBaseFrozen","disableTileBaseMap","updateTileView","followTargetOffset","getAzimuthalAngle","fp_","maxViewDistance","minViewDistance","complete","onStart","FloorNum","getFloorHeight","speed","time is NaN!","then","loopReverse","reverse","toggle","status","filter","close","open","getChildPosition","scene","sceneX_","sceneZ_","getChildObject","getChildByName","_enableLod","_lod","lod","gltfObj","Box3","getCenter","replaceAll","loadingList","preFetchModel3D","setFromObject","addTestCube","BoxBufferGeometry","testMap","raycastMoveTo","raycastTime","debug","raycast","depth","typeID","modelinfo","box3","max","min","intersectByCoord","point","atan","rayPointer","rayPoint","ignoredUuids","end","explode","_explodeProcessed","distanceToCenter","originalPosition","explodeCenter","normalize","targetPosition","getTileById","showLevel","overideCoord","Height","cross","useGlobalStore","updateImage","glowPlane","stopGlowPlane","fadeIn","setScale","setSize","setColor","alwaysShow","updateTextStyle","updateImageStyle","flow","forceVisible_","onVisibilityChanged","scaleRatio","width_","height_","image","text","_animateState","bid_","isCityMode","collidePass","eventId","setHeight","clearByUUID","getPolarAngle","tiltAngle","moveTo","fade","float","stopFloat","ESNode","canvas","getContext","#000","ideographic","auto","fontSize","sent","getTextStyle","getPlatform","lineHeight","font",'px "Microsoft Yahei",å¾®è½¯éé»,Tahoma,Arial',"textBaseline","fillStyle","strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeWidth","fillText","save","arc","clip","drawImage","beginPath","stroke","fillcolor","strokecolor","toLowerCase","convertColor","offsetX","space","#FFF","squared","canvasPadding","letterSpacing","measureText","top","bottom","left","middle","textAlign","right","LinearFilter","anisotropy","renderer","generateMipmaps","ResourcePool","FetchImgByUrl","Texture","capabilities","getMaxAnisotropy","toDecimal5","round","isString","_switch","_eventMap","handler","context","_wrapOnceHandler","Z__","listens","isNil","copyEventListeners","_eventParent","_fire","_clearAllListeners","domEvent","stopPropagation","getBuildingOptions","data/","dataUrlPrefix","scalerBgColor","scalerColor","dynamicLoadModels","mergeModelLines","mergeModels","modelSelectedEffect","defaultView","model3DSelectedEffect","viewMode","shadowEnabled","compassPointerUrl","compassBackgroundUrl","compassPosition","cameraMode","ESCameraMode","NORMAL","shadowSize","shadowAlpha","defaultAngle","defaultTiltAngle","perspective","viewModeAnimateTime","moveToAnimateTime","compassOffset","compassSize","hoverMode","hoverTypes","minScaleLevel","maxScaleLevel","defaultScaleLevel","naviLineAnimation","showBase","loadModel3D","loadPoi","loadLabel","hideRoomLogoMeshes","lineSelectedEffect","enableZBufferFixing","closeComposer","mapAudioSrc","mergeModel3D","compressionModel3D","devMode","quality","useBuildingCache","compatibleMode","minZoomLevel","maxZoomLevel","modelImageAlphaTest","rightClick","debugTip","clickHold","isShow404Img","isLimitFrame","frameLimit","isPC","scalerWidth","Building","initBuildingOptions","buildingFoucsMode","buildingFocusMode","initCityOptions","DefaultBuildingOptions","DefaultCityOptions","lodSources","meshHandler","_loadcount","service","layerManager","lineLevel2","lineLevel3","lineLevel1","roadLoaded","tileLoadComplete_","loader","checkLod","currentShows","tempDatas","loadBuildings","hideRoads","modelStatic","roomModelsCount","modelLoadCount","handleModels","handlePolygons","Labels","ESLayer","ESLayerType","MODEL_LABEL","boxCollision_","ESMapBoxCollision","MODEL_POI","vBoundary","pointInArea","ipos","other1","_id","Sid","poiStyles","labelStyle_","ESLabel","tileId","onBeforeAdd","data_","scaleOffset","bType","DEFAULT_COORDSYSTEM","modelViewMatrix","multiplyMatrices","currentCamera","matrixWorldInverse","matrixWorld","vmupdated","addObject","poiScale","Typeid","mapTheme_","getPoiAssetUrl","Tid","ESFacility","type_","POI","ShowLevel","deleteRoadById","watchingList","loadRoadsFromData","transformCoordArray","RoomLogo","roomtexture","RoomLogoSize","ESLineMarker","oid","drawLineMark","navData","handleLine","addLayer","getOrCreateLayerByName","getLayersByTypes","getLayersByNames","drawRoad","loadRoads","åæ ç¹æè¯¯: ","linewidth","animationspeed","roadStyle","_isDoubleDirect","direction","_styleTypeId","LINE","rank","outline","dir","toggleDirectRoads","navSingleDirectRoadMat","navDoubleDirectRoadMat","roadStyles","progressHandler","tileScene_","nodes","lastSelectNode","isClickSelected","getTransformMatrix","compose","getObjectTransformMatrix","getParentList","calpos","mergePromise","done","_meshName","pos","translation","applyMatrix","fromArray","updateMatrix","geometries","showModel3DErrorMsg","checkGeoIsHaveUv","mergeGeometry","buffers","uri","mergeTranformGroup","alphaMode","OPAQUE","DoubleSide","cloned","selectedColor","emissive","intensity","objName","material name:"," can not find matching geometry or duplicate name","bclick","PropertyBinding","sanitizeNodeName","objVisible","mergeUserData","hasChild","_skipProcessChild","groupData","Anchor","selectModelMat","emissiveIntensity","locationModelMesh","warn"," data error !! Erro Code: 2501; object:","checkValueIsNormalize","getAttribute","uv2","getX","computeVertexNormals","mergeBufferAttributes","array","BufferGeometryUtils","addAttribute","BufferAttribute","setIndex","selectModel","locked","error data , code 983253","setTargetModelSelected","_settedAlpha","matRecord","groups","clearGroups","materialIndex","islocked","toColor","flashAnimate","flashColor","unSelectLast","lastSelectMatIndex","mesh","getMatIndexByFaceIndex","setTargetMeshVisible","splitGroup","visibleStates","_hidden","clearCacheData","setModelVisible","isModelVisible","sort","tagName","isElement","element","attr","addEvent","decrypt","QRSTUVWXYZabcdef","ghijklmnopqrstuv","ABCDEFGHIJKLMNOP","wxyz0123456789+/","charAt","fill","this is null or not defined","colorStr","buildingColor","computeTopFaceAttr","brothers","sideRange","createMaterial","topTexture","sideTexture","isTopTex","topTex","isSideTex","sideTex","#include <uv_pars_vertex>","\n                #include <uv_pars_vertex>\n\n                attribute float topFaceFlags;\n                attribute float isHideFlags;\n                uniform mat3 topTexMat;\n                uniform mat3 sideTexMat;\n\n                varying float flag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                varying float hideFlag;\n                ","\n                #include <uv_vertex>\n\n                tvUV = ( topTexMat * vec3( uv, 1 ) ).xy;\n                svUV = ( sideTexMat * vec3( uv, 1 ) ).xy;\n\n                flag = topFaceFlags;\n                hideFlag = isHideFlags;\n                ","\n                uniform float opacity;\n                uniform float isTopTex;\n                uniform float isSideTex;\n                uniform sampler2D topTex;\n                uniform sampler2D sideTex;\n\n                varying float flag;\n                varying float hideFlag;\n                varying vec2 tvUV;\n                varying vec2 svUV;\n                ","vec4 diffuseColor = vec4( diffuse, opacity );","   \n                    vec4 topTexColor = texture2D(topTex, tvUV);\n                    topTexColor.a *= opacity;\n                    vec4 sideTexColor = texture2D(sideTex, svUV);\n                    sideTexColor.a *= opacity;\n\n                    vec4 dColor = vec4( diffuse, opacity );\n\n                    vec4 resultColor = mix(mix(dColor, sideTexColor, isSideTex), mix(dColor, topTexColor, isTopTex), flag);\n\n                    // resultColor = mix(vec4(1.0, 0.0, 0.0, 1.0), vec4(0.0, 1.0, 0.0, 1.0), flag); // flag == 1 is top\n                    if(hideFlag > 0.0){\n                        discard;\n                    }\n\n                    vec4 diffuseColor = resultColor;\n                    ","shader","_completeCallbacks","_responseData","_status","success","_successCallbacks","_isComplete","isArrayBuffer","async","getJSON","jsonæ°æ®è§£æéè¯¯ï¼è¯·æ£æ¥æ°æ®æ ¼å¼æ¯å¦æ­£ç¡®: ","_errorCallback","POST","_httpStatus","Callbacks","_initHttpServer","_httpServer","onreadystatechange","_httpStateChange","GET","responseType","X-Requested-With","XMLHttpRequest","setRequestHeader","Content-type","application/x-www-form-urlencoded","Connection","ActiveXObject","Platform does not support HTTPï¼","readyState","judgeStatus","_successCallback","file:","protocol",".loc","response","responseText","_errorCallbacks","isShowBackground","bgColor","curTexture","nextTexture","texture1","texture2","\n                ","#define IS_BG","\n\n\t\t\t\tuniform float opacity;\n                uniform float transFactor;\n                uniform float texLightFactor;\n                uniform sampler2D texture1;\n                uniform sampler2D texture2;\n                uniform vec3 bgColor;\n                \n                varying vec2 vUV;\n                ","\n                vec4 resultColor = vec4(outgoingLight, opacity);\n                vec4 curTexColor = texture2D(texture1, vUV);\n                vec4 nextTexColor = texture2D(texture2, vUV);\n\n                #ifdef IS_BG\n                    curTexColor.rgb = mix(bgColor, curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(bgColor, nextTexColor.rgb, nextTexColor.a);\n                    resultColor.rgb = mix(curTexColor.rgb, nextTexColor.rgb, transFactor);\n                    resultColor.a = 1.0;\n                #else\n                    curTexColor.rgb = mix(vec3(texLightFactor), curTexColor.rgb, curTexColor.a);\n                    nextTexColor.rgb = mix(vec3(texLightFactor), nextTexColor.rgb, nextTexColor.a);\n                    resultColor = mix(curTexColor, nextTexColor, transFactor);\n                #endif\n\n                gl_FragColor = vec4( resultColor );\n                ","animate","transFactor","CSSFILTER","TRANSITION","TRANSFORMORIGIN","TRANSFORM","createEl","createElOn","removeDomEvent","listensDomEvent","preventDefault","preventSelection","offsetDom","computeDomPosition","getEventContainerPoint","hasClass","addClass","setClass","setOpacity","setTransform","setTransformMatrix","isHTML","measureDom","documentElement","transform","WebkitTransform","OTransform","MozTransform","msTransform","transformOrigin","WebkitTransformOrigin","OTransformOrigin","MozTransformOrigin","msTransformOrigin","transition","MozTransition","WebkitFilter","OFilter","MozFilter","msFilter","ielt9","ie9","removeChild","event","mousewheel","gecko","DOMMouseScroll","src","returnValue","onselectstart","ondragstart","unselectable","padding-top","getBoundingClientRect","__position","clientLeft","cssText","classList","contains","(\\s|$)","splitWords","className","baseVal","any3d","px,","translate(","px)","matrix(","clientHeight","position:absolute;left:-10000px;top:-10000px;","userAgent","webkit","phantom","search","chrome","opera","PointerEvent","MSPointerEvent","WebKitCSSMatrix","m11","MozPerspective","OTransition","ontouchstart","DocumentTouch","webgl","experimental-webgl","android","devicePixelRatio","logicalXDPI","browserLanguage","language","documentMode",'Class instance is being created without "new" operator.',"callInitHooks","setOptions","config","enable","onConfig","_visitInitHooks","_initHooksCalled","_initHooks","addInitHook","include","extend","mergeOptions","Raycaster","testMat","meshList","updateWatchingList","intersectByStartEnd","sub","ray","far","configs","$ESMapPlane","clearSkyBox","obb","excludeNodeTypes","inverse","intersectObjects","_NORAY","dXNlckNvbXBhbnk=","dXNlckxvZ29CYXNlNjQ=","ZGF0YTppbWFnZS9wbmc7YmFzZTY0LA==","options_","sprite_","sceneOrtho_","margin_verti","updateHUD","margin_horiz","visible_","updateHUD2","sprite_2","initUserLogo","img","SpriteMaterial","container","clientWidth","offsetLeft","offsetTop","isInitSprite","_ul","initWaterMark","ZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFRQUFBQUJEQ0FZQUFBQnp5ZHNRQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzTUFBQTdEQWNkdnFHUUFBQjd1U1VSQlZIaGU3WjBKbkJURjljZmZxNWxkWUVFVUx3UVZVYndTNzBTak1ScGpFczhZRXhNMWgwWWp3bklZUktNU0ZSRHd4SWdnS0lKQU5BWnpLSjk0eFR0LzhZZ2EwY1NRdnlmZUJzL0VLQUt5N001MHZmL3Y5ZFN3TTlQVmMrek9yditZL3NLYjd1cTdxK3U5ZW5VdUpTUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNUODU4TnVXUi8rSW9PSXM3c1o1bTBRMmlEY0p2UnZtekl2VVN2L25mYm1kOE50Q1FrSi95L29wQUVRbk05Q3o5Z051Y1hlaHF0OWlaaWoxNVR3eDJMNUpGYm5VNnU1aWZZenE4SjlDUWtKbnhnZE13Qkw3RVprNkdpMjlpUW85SjJVU2syRkhSaklnZHlBdmZ2bERpcUQwRHZDTW83MlN2MGFCaU0wRHdrSkNkMVBiUWJnRWJzZUc1a0paVDhlcHphNHJVQ1FzNXRodEp5Zk5ZT0NjU0kwRWZ0N3VaM3hpTndtcWRUSXBHaVFrUERKVUpNQjRFZUQ2N0Q0Y1M1VWlyU3lwY20yVitweWFtdmJrVzJZdSsvaWRzWWo4cDZRbkVEN3BmK0lPM3p5M29DZ1dQTjNPWmlDN1B2VWxIN1J0Tmp2V0RiUDA3OW9FKzRuUjFJV3h3U1FqRnZtdzZYcnV0K0Z4YmZQdW1XQVQxQjZqZnkxTFQxTGM4MHNyRlZtdFBTaGpPd0x6K3p6T0c4d3RxeVArRGU1blhWQzVHR2FiNjV5b1dKT2xBMG9MWU5jcUppK2tYVDJQczB3YjduMWpqUEtia2x0MU0rRnl0TktyOUFONW1NWFNuQlVid0NXMnQ2ODBpS241ajV1aXgrUkpaTEpEcVdteHRjNEUxeUlSSGdxemttN3ZURkFSVVJtU1VOcVBPMXJXdHpHVHdZUlEwdURVOG1hVjBuNE1XWTdVY2crUk8rbDd1VGVjZ3Yxb01OQ0pjMHI3Ym9sb3JJbzNMNHVrV05MbHdWR29IREpjZ3BkWmE3R1dqd2paREJaT1FkcjMwZGM5ODF0N0NwUWJKdG5Mbk9CWW9iYnNiai9GUzVVekhhdzY0VXB3TXF0ZEVicUtCZnFHS2ZiWHZReHZZeElHdWkybEFFK3FkQjJNRjZ2dUEwSmp1cHppQS8veFdHdVZVbUU5K1owK2lscXM2UGt2ZlE1RXNoQjJQNENCWEkzUHNLbFdMOE1DZUIreU5xQzgxYWhDQ0dVV2JNQlBkaTJQejhRWE1RUFpPL2xCNE5uc0lRRTkvRGk0R0s2diszTDlJdzA0b3l1QXhwUHU2ZG1rUTFXR1JNTWsvVjRITFp0eUFOa2tqVHdkMm1Od0ZQcERxU1ZldkxOTGhCbEVnelZjRHNhYWZ0NVBGOXoxeXMvc1BRbnQrWmpKN2VNb3FsTWZidThNRzJOMzg3eE1RMkxLTC9leHl1OGtocjRQYXdsbEZDOUJ3Q2doTC9BQnh6cWdwVVJlVXlzK1RHdDRGZnBXTlo4clowSDdMWXNkaVk4N2lmeGNXYkRsVHNFdW5jZTdyS2RPOEtQeU12Q1pqeDlsUmNoMFhkZGtlSHY5a2lHOFpKR2N3YTFCVDlsa3AzRXBvZlNLNUxtaldETTBuUkFKQmN2emNIZGVvYzhnRUFlUU83L1ZheEZVZVYvVzJiZy9lRmRkUmZ5TWFWNU03cWFWN3NOeFRUYkovRHQ5bktoZGpUbjN3YWZxVENsV1ZsSnEwMC9tZ0pqMnhIT3NMMXBKYjJFOXgvZ3R1U3VyOHJ1UlY2a09id2pEdXE2OVBJZlNteVUrWkRWWmd3UzZHOG9LemFYU0N1STVYM2hOaXlsdnNGb3VrWUtLZzNCZ2VabDJSUnVZRlplNEJiN0o3YXlFT1hoN2J6WEtSVEwyMEl4YitUN3NyK0RNVWhoUy8xNUtuc2VjcnYrTUY0VHVNMHVJRFlmU28vVUJFNEY5OVAyOUgzNXdCd0JnL1dZTzdwcllOSVdGVC92eUduZHEveEE2QTJhalh6WFJ6TytyY1I0QVBrdmxNLzlWZFJiYVpMTmRIT0hXRWtuRlNsL0hqVUNmbmtCUDRueWU2akpBTkNSdkVZT05zZUxsY05oeGQ4b2NPSExDRGV4OEN3ZUZDeW1PMFE3Q0NFUkNOUGQyV040ZWZBMDl2MFd4WVlkL09mR3lvdENxZWwwbnh4QTk5cTlzYVd1aEpGaUxWTWpWc09DRC81bnNDNHdmN3FkcUVYVzhLSFVTbi9WUSt1UHJJWXh2TWtGaWhsaFA0dm5tT3BDM2NsVFVEcS9FakZ0anQrZXVVQUphZ0NLdjExT0pLaGNRZXpqZU9UK1RCTmNxSjNRMVk4UnB1ZndtK0JCbzZjMk5CRWMxbkF2Y3NTZGtTUFBnTFFWNWRBK0NUODY3OGNjTEtVNzdVaW9UUnJiTnNXMkFkN2o0eVdEODJhS1hxdE52c2RaK1NQa1lickxua2szMWM4YnNKOUxuNDlFczRvRHUwamFXczVtNGtGczdlMWlVMGV3NGFONHUyQVpmWXMvbGxWOEdKN29hWGRhL1dCNjBPOXF3M0JhbW9KdlVPeE5lWkUyR05wL1FwWkQzdWkwRUQyVXU2NkhBSVk5cnNWQnYwcGg3cDhYU24xR2YydW1GM0ovNHY0dTFFNU8wZjFpRWdNUWgwWlA1N2pWN2dHbG1BOFA2L051UzNuQ2p5K0xKVEFuVXc5SlFZSGg2dkkrc1U4aUtFRXpMUlRtUjJFd2xpRmRyMlJPYXhQanp1NkkvRFh2RWpJbndrdDVQOXpXV1piYVExamtTR2xiZlI0MTlENldtZmVYRmY4WXl1c1Bta3hzdDVUZDA4ZUh4dkJLdXhIQzN3elBVVU9uaGtvUkkrc01sNUxmVnk2c2ZTVTFiSkRiWG02ZUNiY1hNdExDYU5KeXhGZVppbEQ1RzM0bTBScGFURTNjUmgrR1YrNDhpL1E2TVI1QXN4MkRmZjdteWcxd3lvWnV2UkNScSttYzFDa3VWQjNOMG9UenRPd2ZyZm52QVlsTFExbmFBd1oxcVFzbEZOQjVBNkRjSkkxUTVqRlFtTW00WlBsbXduWElSeWhLbkVVZnBSYlNSaktPcll6SHVTVUpXMTZTbEdtbWIvS0RZUTdmS0Q5aGtrdHduTCtUa2NnTGtqRzcwYkZJK1BWaXBCMEtkOXpmdnAyV20ybU8rVjhYNm5xR1cyM3ErNjBMUlJGNWpscm9DOTNlM2ozY1hvUG5hbmFoWWphRUFWamZyUmVpbFp3VFV2NUt6amlhTFF3R1Ivc2hhQ3IyRjBDQVpHZ0RwTWtwZFV3VG55THFZd0R5M0NLRFdld2M1R09ISUVGVXZuWXU1NzRYM2tBenBhUS9sUHQ2blBjWkpPUldQTnBzNVAwVDZIdW1SWldmamRWOXg4VStzY2dLc2NHUmRFeGp1YWFxMnNpMU5YK0FaL0VucjU2eUM4M3k1TlJkeFhBN0RYRndoZ3RGWWZraFhXUGlEVVNYZ0dKSnN6eUNtKy9yTmhUVHoyYW9yNi9JSXE5VG14bFNkVXVBZG5US0l2Y25qbFllR2loNXo3aGlFYzY1Z25mUXlIRWJFZ3FvcndIUXlyMWJhU3ZLeUQ3d2p1RVM4aVp1VHdYZ0RRaWZTbXZwOTl4THhvdmhXK2k3NWttM2sraEdlelJLbUl0Y3lJdVFQWnVPU1YvcWd2Vmh0T3dIOXpIR29NaGJOTTlzNFFMZFE3TzlEWEY2cEFzVkV4cE4ycHJtbTNkeUc3cUpTWkttdHhFWHpKdTZMZTJJV05wVTdxRmVmTGpiVW9Dc3BneHZUbFBNU3JlaFBOcm5nWG0yQ3hVZ1FnMTBEL1hndzl5R1lrVHVwQm5tQ0JlS01zbytoTUpOTFgwb0JGcVR3YTgyMkg0SWVSWGhWOG5BUzYyMm1ORnN2NHpmYzNPQm10RDdxbmVueGR4L1FKNkd4L2R3Wnp5KytoaUFCNUFJM3MwZXltUlFCS0RkSUZkQmlXZkRyWitJZGVUYVhGVUZIYnlIcyt3UDB0TmNjQjM4VzgzOTZRUVhqQ0tBY0s4WFVwZDB1RzNaeDBnN2hTeWY1MExGc055QTNQWkhMdFE5Tk51SGNlUDlYYWdFV1lVa3VUbGQyODJqTE1ONmlaaE9OZ0lsMzV3bVU1b2kzMVMvR2Q1bE81cFlSZSs4RTZVbmlwZ3Y0dmd0M1paQy9rcE5kZ2taTTlxRlM1RExhTG9aNXdMRm5HSTNnaEdxVDUyUll1UlJwTlBSRll1RkkremhjSnp1ZEtIT29YSE1OSlBTUERXMmowWVphbThGS0VUTDVUZll3L2d0K3dSYmN6c1N3dWNoYWNocG5JVlpDSGlSTUI5RUZtNVl2c0tyak9ENE0vVjZlS2xpdzJUeGlwN2pjNEtFRk5Bc3VKTnplWHY3SVAwcWV4S3UxSG5EcHM5ZytSc3VGQ1ZOOWZtQXRhRzVmQnhOY0lPSHVQWHVRL2l6YmkwSzA5dll2eVNzaGl3VkpBd3NkOGRhWlJwRmUvMUZsVitOQ01zNWxESTdhVWRTcnhEOVBUeldTeFZqVldyQjhwZVFGaCtCVWR6SGJmR3pscC9DczZzSDBYbFk2OXg0UEx6dVIrR3gxdHkzb21NR1FQdkwvOG9leXEzMlVaU3M3c0xIM0FNdkg3YVlGOGdXOEFCdTV3eVBra3ptQ0JpQlMwcTYvMFpGdUQvT3VaTVh5Z0s2VG5JVGlnQ3g5Zzd2OGFyOHd0UGdiVnlDSXNkOWVJYjltWGtCTFpUT2Q1SVpUUnNnY2UzcVFpWGdQUUphN0FMZGg4RFZqQVZlRnRzNWRJbFVOemltWGxpSk53Q2l6VzlyWHNVeDJoZGZ3OFZpYlh6MzRUeGE5bzkzbHgrakQvZ2hYR3c3S0lJcVE3SG9YYmlNQVFpazh2MXJodGREMnZ3OW5XWFhjeHVpWE0vdjRyazh4WmxPd0x3cmpNQjlMcjZxcG5ZRGNHM2Ivbnk5ZlF5S2VoY0Z2SGQ3VHV3Uk5RcUJITVBTOElSaytUV3gyWDBSZnR6bDJ2SG5XQnFLbjJmb2wvWmdmRU9tNDFPTGNNNk54Y2ZxTlhpcVpIZzZ0NGJLLzduY2RqWWN3TzI3MW5iU3VzdUJ1TFcvWW9ucEpacHIvdWxDM1FmVDQyN05UOGJzUTJ2c2MzUnhkaUpkWkEraTgrMXVkSUVkUWhmYUFRaHZRdE5rWTdvWWJ1OGt1eUZObGZWUmZ1OURNMjJQTUk0N1RudHpiSlRuYUVydnQvRTlQd3B2VVNxazNYTXJrSlVUa2JpanZmNlFDK0g4eVRTRWVpTVZEMERjYVB5VVNnczFjUHlvUTZFZDNGcWQ0WUY0NDVoUnM0N2VkQTRlNFBiY2U5UUpIWDJia1pvNmlXazBWWTJabnoxZFV2eHpuRlpoZEY4TUlvL0M4eHVGTFAzTFRId3hIcmg4NVl1RUEybXZoVGQrQmkzbkZob3NQNEhod1huVUErZWZidzB0Z0xMZmordEVQNlRBRHpqWnhOY2JWR0trblF1ak1zS0ZpakV5SFFiZ0RCb081VXFGdmQwN1J4dXRRdG45YlJlSzUyVGJIL2Q3SGZFZjIrZ1ZQczNtU0ZOZTB5NkYvbE1XY2FSOUxGcHd2WlhJcFplakhQMGtqdmt6cmFVSGFxaWNXNEw0LzRJTEZaTnZsVGhQSGtUb2dOekdBZ1RsOXd0NFR4ZUtrbXYzZjlsdkFPZ2htc2Rmb1RQdGx5akZqN2h0SmNnYmRLblJvZEYrUnRyZklTWml2RHd2MmpOVVBkT05ZY0FxMUd2aG5lZVpBMTNBajQ3cGVJZU94RHYrQ05kRkVTZW1NNVdFM2VnM1F6eEVLMXBMRVZrRG96ZUVycTV1am8zcURjQzh6Q0hNNXE3WWg2d0thUkhPZm9tRzlmZ2J6VjZ6SlRmMjBEYmRJeXBlVStRTnVQa24wekJlVEF2Z3RsbDdJS1hOcmRvVDBLdjhpc2h5MmNCc0hSbUVWQTNIU0lvMmxMZndrYU05enBTMGZCMEo1Mmw0SEhEbGNyNW01NUNKU0N3WHVrQjV5clc1NTlGT01mM2pqRUFWaU1BZzhFV1U1ZWswaGVQTHFtUGdQYlNHRllDK2xuNllHZG1CRnBnWGFZS2RqV2YyVk5MSktoZ0FuQnZid2NqZjdxL0R4eGtHNVJyektJMnp3L0dlODl5T1lvVHVnUUh3dHc1MEdMZ3VKeUtHbStSb3BJRVpDRzdzZGhRajhnOWF3ZHZRb2c2a1B5KzQ3ekFVdDFnOUIvb0I0alArNjRyOGpPWWJaTlNWcVQ2SldIT1J3TDNXUExuandzK0h5cStjMHJSY2hwbHZpelhmeGI1M29zY1dpT1d0NEFyZVMzUGtTbXFrMTZnNWZTVmxhQXkyNytBOVhzWFNScmhxeDNMblRXVUlQbTVNRTZhc2htSThET1hmdnk3S3I4MTNHYnJHaFNyRFBCNG52ZWxDZnJTcThKOTROTVJEbU5mWEtnTFBqT2xTU3R2TEVZcW5CWEVrMHR1Rml0SGE2VjZrWFlqMW1zOUNHYkd0VkZCZW5pUyszRDNYQjBQQ3hPN2pBYnFHYzRPeG1ENGJwbUtmcE9oNS9OWVpHS3ZyZVMzTk1UZmdIdHJLNWNkUVB6eFozYnFuaC9kZFlKNmwrYXplUXZ4OUZhYXFPMWhwTkZWbXR0MFNPWUxPTkJOTkxMVklJSU1LSy9lUW1JVkc4SzI0OWs3WU53K1M5WjRYQ2x3dW9WTm9sY0I3c0x0U0puTzkvemduT203Z2c1aWNwUklaUkdDY2hXVmFBdGN6ZytWQmJrdm5ZTHFmcmpQL2NxSEt6T1AzOFg2SFFudHl5aFhIV3NpN01BTGEveTJpZUZVSzBVK2dvRjhKMTN5a2FXdkVVNXlSZlpObXVkNTNBa1gwWFY4bHk5dmpOOHBxbEtHWmRaQlJDVER2b29PQjNMYzF0Q2ZpVU9NeEtrUmQzRW1MMi91cWxKS3I5b3h5a2QyWnBnYlRhVnIyT0pyMFlic3VWQTNlKzBPZUJnTzd6RzJJSWpBOVZWS2RBY2pTTnJrS3RrNktoYnUweWo1RU0wdkdEWXptRCttVUZNcmJmQUNNd0hQZWM5dmxBemhncjVFMEhPbloxeTZXWHFYSlVPV09jYkJiUm1HNmx3NkFaeUYwaU52U09aaDBtclhhMEp3Z3hYc2dFY3lEeEhjQzBiZC9ENXJ3RVNRWEp6VUtqQ0JiZnh1NllzdE1Bc0wwWW1qZ2xZQmVRckZOWjMxQzRpeVJRS0lWZ1RyZW4ySnlPWFhyNS9NVDRib09RMVlQUUIweG4xQ21hL3YvVzRtdmk5Rk9Rcm1VWEV5ai9RbzE4dWxrNEVHczMvY1Z1dHpXUGpQU290Q3cvaVlYOE1CeDNtc1VqYVhLWEdtL2lJOWR2L0h2SXNoQldhZTZPby9HbGxRMmFhMjBFQktkbkl0amlpTllaQW1KUWU1SDMwYkNYSUQ5OFM2VzJEUHB0SFI1RjlhSFZzeThLeXRDOTdRVTdkbVdwajNnK241SURmUTY3bCtkQVkxRDVIMWNZMkRvVVhTVVVkSVB4U04xK2JTU1RaVkpYV3F0WEczQzE5VzQxQnphaEthK0NhSXgyaENHRzZyNy9IWUZyZUl0NkhKUGI3UGhkaGFlZjR3TEZTTXlGZVhRbkF1djdud1BlUnZIK25LODZYU0pLZTdlSE4vckw0QlIycHNXY0c0WTlybDJBTjdqRFJ6cjYycmNDaStpSDgyb01NV2M5dmNZTGRwaXRCZlMrT2FJci82NDVnQXNOYWJLZjErbXpmQTgydkhOZ3p4QjgweDBxUHBsd2RWa2VKUUw2ZjJ6U0d2SDBWbkdQL3c3am1IMldGem5SaGNxUnZWcnZxbHE1cXdxUFFDVTNkVTlMOHhoT3lNV0h5eWdzYmptOHpUREZsZlNqRFd0ZEpxNWdDU3pPL1kvVkhEZVk1UTJYeWNiSEFUbC9nV3VrU3JZVnlMeUFnVVY1dEtMNDUreWoxZjVGYWIzNldwK21ocHBYeVM2emltL3dyU3dVOHF2eklIM05OLzhIbklxNUdEa2pydmltb05wSVBlbkFWQzRGWGlYRmR3YnhhSGU5Q2JrWmNqempQSTF0b3ZzallRK0JUblorMWdpNFhqRWNsL3F3eHRoTFFxWDhRQzBtMm9lVlVMaDEzRXR2VjZ4QktIUmFrZDcvZVVxdXFJSTNiRk8rUldkL05RZ0xlRXlFU0Y2aS9weWZNY3BOZlNqN0Rkb3BHaGw3bElLZUFHZWNRcE9IbzNuT2dycmgwRU9LU3V4eWgvaTczOWdVV1FwOUxKRWkxQXlOMnlpclkzNGRNTzh4cTFWcExwRWZEcXZnRUxkVXZUZzlaQUEvekw4RHR5Z2JXbHF5WXl5cC9kY1JsdVlyMUZnaCtIWWV5aEZoOUVhMlErUnZoQmlJdGZLU3lDcnFTMTdOSjNSd2NsRkxYM2RyVVZoV296STFjYXp4NkU4MytxMEJGUmR6WDlONFBuMEdiVkx0SXJXUXZ0a0NxK21LZVlKTENmam5mZER2TFVVeFdOZUpJeHJ2MHNwY1UxbzhPMUxLK0FzUFZsa1dQSkNLRjRXOXZ4c2xLRjRoK2dZQzgzVlRFbUhvRlNaQ2tEdG54L2JMUnozZTArbUlmNy9nRlVZc2JDOFVGOE1pajJsNUdaTzJyRW9ma1BoZm9qL0U3RldQVXp4VFlJaVZVK3pYLzJMLzl3T3djTnIyY3MzdXJ0MmhKRzd5ekZrZ2wySWtZT0ZMZGc4a1hyUm5OQUxLT1ZTZXlCZTdDNThxL2h5VjlnMWxJZlJ6OHkxYmt1TklHR01rS2V3OEhkUlRlRWp6VEcvY3FGUEYrUHQ0NGc3Lyt4S0ZzV2VpMHNHdXBRZkE1Q2hCdDZ3cUcvNldYWXN2bTkwMW1DaGo2aFYrdE9WK09hNUVYL0xjSnh2cHQ5RjhHeU9kZXM1SmdiVEtZM3l0QThyTTJsSzZqUVhLZ0RmZUtSY2dHY2Y3elowRFVhK1JuTk5jVzlSemVURXZvcDRqaFpkcmZ5QnprMzVCM3I1R0c2dnduWDg4eW5vQUtqNVpRWkFGYUMyc2pyR21WY1FhUWREYVpmRGNqcFh1d09TaFpJR01wOWFuajBZNXVkUWxPbnZ4blUzZ1BSQlFwdEJxK1ZKdWdqS1Bra2F3N0VHazJ4ZnV0aWVpblB1d2pFOXZkZk1pNlZyTzY3OFlBemNNQ0gvVERXc1EwN2hnbjRhQ2NjOXdQVzJ5SkpMSmJDV2dwWVAzSkh0MkpqYWU0WHB6Y2pBRk9GbmNSKzlWN0dRckEvVG4zTi9NL0lqdi9LajdKK1NTUzdRanRFS1FDeTlndnY1YUpiOWtWYmltaGZyZzlZVkdZb09jZ3BrYXp5WXRtYmhtQktwWlVTaTlsTWgrbG91NENYWDFGNEYxUnNBNVJ5VXYxcFg3b29JdkFvdmt5bFN2cXBFV3BHb3hsS3JHVTNtTStjaS9FdVV2UnFManJHOEN5SmpNYVh0bS9TQ1hZWVAveTYyejhSeDVaVS9rS1c0YnVmR0FBUW8yeE5yTnhvZnkyZ0d5dHVmUnM1RzR0TjU4MzBKVXlmZ3BsNGZoV3ZGVkJnRFVJTFc5NmluN3hORHU0ZTkvdUNINUE2TzhEdDRYdEUyZlVPNytaVWZsb1U5VFlBNXhkR0tTMys2MTNOMWJnSFdDa3Q1czZ5UXhEZmRNcTJocTAyMG1WWXpsNGo3djA2cTcxcStzV3lQZTVTYlBmdHV0NnhJYlFaQW1kSnZCVTAwWXhDSiswQ1ovK0o1RWI4RThtL2M3Z2o2d0N3Z3RyOUFMRTJDc3NlWDVTMXZnc1NCWWdmMzh1OHZGRmxCV1Q0R1piNnFLeis4MkRMTmYwTDNhOHB5b1U4WElrZkRFMnRDbkNNT0l2SW1YY3BSQXlBU1B3YUFLWnI3OXVWM3d1OVVhbUJ5c2hPdXAzMytmZTMrTFpUeERNaytXL3BSaXZxSFNoc1ZpK2VPbHNFM0ZpM2lST3N0MVBSb3o4a0JNby9XUjdyN2dBZEJCcGNWb3ArRzUvcmdtSGtpcldqbWhxVkhXS3J2c3hEUUdUZ2hwZ1VNeHF0bjlaUFYxbTRBOGt3d1Q5Rm1abDk4UExqblNDRDZKNjVpQlFraXhYdkIvWCtLK2hCY2VYT0MvN2lPQ0o1QSsreFBNUys3SitzNFFybTUvWHlrcUp2K0lFZzNNODVDK2ZoeXA0aFJzZlF3ZnFNd2ZjNnQrWWdxZ0ZiSUNid29YK0xYWWNFY08rTHZScnFPbzZNZ2U4Z09NQmpzRkw1WWRNS01LWjV4L2tLSDQ0RGNFWXF1YllhWFZHbEUycHpNSTBOajU2czBMUlZUMG5wUmpEOHRXbmdBaFhGYktGbXBibXE1NFZhYmUrTUhHZ25kRk5hblZFbDdaSFNHYyszbXVKSk9Ddm50WXZjS3JwZzIzYlRSY2RRWWx2UCtnUDExSG9JcHMraENNOVlGT3M0cGRudktoUFBIZStJRTc1Rkc0aEVkT05NRldGejNHcFByM05KZDZFdysvNllqb0VqejhjcGxtcURrTUpwbTduR0JIT0VZQU8zbUd6TldncERRNXpIaXNvU3g5bHFjYzVJTHRhTk56RzJlSG9XQzNKOTVSMXhMWjc4cDV2enNVR293OENROVdGbE00MVBSTW5LenhYdHdyZ09YZnVXQjBEeWRYVktOVUZhbTBvUlU5WFVESSt6L3dIRDZ5K0ZHVHFlNXByakNVK3RacGxqdEN4RWRzNitEM2d4L2hzNHpVYStsa09IMmMzaHVmWWVZVmhsWmd6U3E0eS9LZHhVdm9ENEdRTkVYbkNDSElETG40TEtERWRacFBDNmxsM2tpYlMyZlJ3NTZKN2JYMnRaWkFYbWNHdmtBV1B2T1QvZzRTcHJoVFZUZko3K2VHUGsxRXN6eExoUmxwTjBCSHpaKzFGd3RhUFVVMFNEOGZnK3U3ODVJZUdYU2dMeEZmZkF0U3djRWpiR2IwRnJTeE94VDJ0V0l4NEhlbVlsT3RlcTZlbVlIZ25qekxMbUc1cG1STGxETUJjRTBhb2laSDFIb2FqckhsTlNRSTMyT2tLVlk1SW9BMmlWcFU5dzQ3NFZrNVJIS21BTWo3K3BENnhMNnlTdDRsNjNjbG1JYTVHQ2FiWW85UmkyeTlOQmlzQ2UrdFRlbmp2U0xLOElPdGVzaEF4cUo5OUlwNGVQLzZyYVY4Nkg4MGNyU010VFBBT1RSTWVaclpTS3UvQXhONVJ0b25HaFh4NFY0Y0MxcDFROUJaREx2Q1pmdGRiZWxjNHl3dHlGeFZOOE1VMDk4VFVhRlZKb010RmJVQkdoVlo2VUNvTWg0dXNKYzdFTHROTnN2SXVuNGU0YUt2RW9EZVRza1psV3JZa2JidzFFVTlNK2tsQit6a0VkenN6VGM3RGxtdWR0U3pFWEJRNVJtblZzdmlrQlp6allseGh3R29GbmRiTjQ1VFBWRGNETjkvN3dCeUJtQjVTaE9hcjNXZXpCaUxYZ0dQUTFGek5MajRNK3VwUkg0SnI0ZWlBRTFVSDhZQUNoN0FlUGI5cU5VZzM5K3lZQStvdmRrcGd2bFlHMFdENXZjZGJUcjNoWDFSK1FKbFAyL1hJdjdyOVRmQUJSeWxqMENFWFlMSGo2YVUzUUdrVFk4K2JjaXJtbEh5YzMrK3hhaW8zdG4wd2xCb2h2QTI1VE5lWWJiQnhDSDhZTnlha0dyanJTVGFLVXZyNHFjcGwyOVhZQkgySk9oR0F0Y3FBUzVHN20yWnhKUU1OcHVpL3N1dzd0RVRZLzJheXMwQUN4WG9samtiOVhSRGpYYjJOZmh2ZmovTW5DV3ZrRG5Ga3dxbTJlRXZRUFAvUTNTa1FaYkZ1VCtlZEhXcEhBZGtiTnV1eDVYR0hhaWFxYkxDUEl1dnVkVytKN0ZYdW01OERCTmpJZXBBN2VxbTMzQmo0aG1ndnRTQnlhRXJaUUhkSTdYK1c1RTBraVU4ZDRQSTdjdW9sMlNlVXpkbEY5cDA3bnBQZ25sQjRadUxxdjhtdGh6dVVEblVJWFhLNm1vb3BVbTZFSUp3Z0ZHUC9RcXZ4TDNkd0FWWHhOZ25peS9qZjF0M25zV0dpU2RqNkNOTG5DaEtJT2xMK0p0NC9DY1V0RXhBSzJlRm9BY3Q0Vy9UWVdXcG9Ob2xoYmVyd1NtZHlQS0g2Si8wZzMzOVVubFFrY1o1R1Y0UWwvcmlQSXJYV3NBdExaMGh2a0ZYdkN6c0tRM2hNcnIrL2pWaW5ienRYUUNYY0grQ1NBNlNsQ20rYStyWVY3bzF1TFF5VFk2M3Z0U3Y3QW1WczMxZFIzcHJheFkwVTQvMzZHWlpnbVdjWlNiYmkzZUFNeERHZGZxU0U2c2wwb3hDOG9Pa1c2bEljajlHNHNVZjUyd3RxZjdaOGZ0b3lQb1pGbGRVcjNleTMrZHA5eXlHQnNPTmlwT3ozbnBpQUhRT2phUjIyRHM5cUk1bmxhU0t1bGFBNURuU256TW1lWkgrTkJmUnpucmhXaXVYbzNJbitHSzdZWHIxUDhQWHdoOTE2MTFMNHpFT0tkZ2NJc1BrVUZJMUhHZGsveG80bFJYWDNON1hXcllsL0NLUkVmYXlVMDRaMWQ4ci91d0pRYnR1VU43NU5hOWxQOWJpVG9OV0RrRG9KV0kyUXAvL0xRbjdSaW1YSjh3dlI3clVhbEhrK0xERWUrZGJ6SldRb09UVzEySDhUUUI2bC9HRnQ0K1Y1VHdTTTBHUUpiaXZ0K0dRVDJLcnVjVmJtT0h3TjI3R1hWcEcrVUVLTFZPRWJVYkVuZE1od2FRKzJNWFM1Q0laOUpWZkFzZXR6Q3AxSWVmeXNhMFdyUkN5MTlQa1p2cnVLdVlqWEx1RExmdXA5bCtFd3BTL3BoY3dxL3RhektTbmRBS0xGL0JVaWNidlRXMndxMlFrK3dtaUtsbmNaN2V0Umh0OUdXVWZ6V25qMk80UFIzbnh2ZkQxeHI4K2NiL3R4anluSitkU0wzWTA4OGZNRjlIWjVvelhjalBKR21pM25JeURONjM4Q3hiNGd1dmgvVFloS1hPODhBb1lyb09ha2h1ZVFPWnJ3elV6Q2kvTGR6dXR1VXhkQlROTmZlNlVJNHpaVE1rM1gvZzJhS1ZoaFk1K1VwOGg5eVZTdEU3YU8ySWVqVDRUdndFcm5NSHpUTi8wWjMxb1BzTlFKN2NoSWhiUUxrUFJTVHNqdGNmaUtmUm9hQmE3dFNFcURuanZUU1g0UXAyY1E4OGZaWTRKbnMvVEgzSVQ1aFJrVERYclRNZGpWTThpODZKRjRkT2wxVU9iVUpyQ24wVFA0TlIrbzhkeGVmUVRHUkE2TnY0eUphdFUvR2hPZlRiZUtZK2VMZlZ6TFFtSnI2YkN1SXNyb0N5Q2EySlBQK1paVnBOeUQ0SGc3TW4rV2F2NmlzQ0Y5L1NQUFVSdWtZSFBqa0RrSkR3MzhKUDdWQVllMytuSlpHYmFicjVaSXFnSUQ3blMwaElxQTg2ZFZxK3lGQXE0aGszMFkwa0JpQWhvYXZSU1RwOXlxOFNsR2sxNlFZU0E1Q1EwTlhvWUNjdHdmdWtYTE5wTjVBWWdJU0VydVIwdXlFVXZYOUU4VldzVGdoSzhkTjdkd09KQVVoSTZFb3l0QzNsL2hKeXNldXZJdlJLclgzMzYwMWlBQklTdXBKc21WbUFQdUVLUUNVeEFBa0pYVWs0MjFHNGpJcnRpajlkVmh0SlA0Q0VoSzVraEIwTFpZK1paWnJtMHh4VHZ6KzRrNUNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa0pDUWtKQ1FrSkNRa1BCZkROSC9BWStPMnp6bTh4RWxBQUFBQUVsRlRrU3VRbUND","opts_","setZ","ESFloorManager","_editmode_","stopMoveTo","lastSelectModelStore","normalizeUv","showChild","findChildById","range","hiddenChilds","hideChild","setArray","getChildIndex","offsetZ","genGeo","subarray","deleteChild","getDis","Shape","normalizeSide","lineTo","ExtrudeBufferGeometry","computeBoundingBox","boundingBox","Vector2","error face","addChilds","holes","mergeBufferGeometries","addChild","getChildList","getChildByRange","BufferGeometry","loadImageLogo","tasks","unloadRoomLogo","isPowerOfTwo","NearestFilter","mipmaps","matindex","getBuilding","theme","roomImageStyle","data","noDepth","roomstyle","typeid","RoomStyle","logoRenderOrder","MeshBasicMaterial","\n                   #include <uv_pars_vertex>\n   \n                   attribute float isHideFlags;\n   \n                   varying float hideFlag;\n                   ","\n                   #include <uv_vertex>\n   \n                   hideFlag = isHideFlags;\n                   ","\n                   uniform float opacity; \n                   varying float hideFlag;\n                   ","\n                   vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                   if(hideFlag > 0.0){\n                       discard;\n                   }\n                   gl_FragColor = resultColor;\n                   ","imgStyle","imgdata","jpg","alphaTest","focusFloorNum","focusAlphaMode","focusAlpha","roomid","misStore","added","getTask","setData","setGeoData","nor","groupsCopy","isHideFlags","groupInfo","MODEL_IMAGE","modelImage","DEG2RAD","XZY","checkTasks","datas","handleTask","modelImageTexturePool","points_","holes_","parseBoundary","GLEN1","Circle(((","CLEN","hasHoles","MULTIPOLYGON(((","GData","InjectProto","vkeys","_ms","retrieve","_gd","Reader","Writer","util","roots","ESCityLicSet","ltime","nameEn","adcode","AngleX","AngleY","AngleZ","minX","Long","fromBits","minY","offsetbid","offsetroad","modnums","Remark","styleid","cids","logotoken","tiletoken","uint32","int32","mtime","Hash","double","int64","maxX","maxY","tileurl","bidnums","other2","alist","eid","bidlist","encodeDelimited","skipType","comparehs","decodeDelimited","object expected","v: integer expected","mtime: integer expected","ltime: string expected","Hash: string expected","isInteger","_id: integer expected","name: string expected","nameEn: string expected","adcode: string expected","AngleY: number expected","AngleZ: number expected","x: number expected","y: number expected","low","high","minX: integer|Long expected","minY: integer|Long expected","maxY: integer|Long expected","offsetbid: string expected","offsetroad: string expected","tileurl: string expected","bidnums: integer expected","Remark: string expected","styleid: string expected","token: string expected","cids: string expected","logotoken: string expected","o1: integer expected","ul: integer expected","other1: string expected","other2: string expected","l1: integer expected","l2: integer expected","l4: integer expected","alist: string expected","eid: string expected","bidlist: string expected","fs: integer expected","fromObject","fromValue","unsigned","LongBits","toNumber","toObject","longs","constructor","toJSONOptions","getTypeUrl","type.googleapis.com","/ESCityLicSet","THREE_","THREE","webgl2","Promise","callbacks","ESMapConfiguration","ESHeatMap","ESappendMapPoi__","loadTexture","none","floorBase","facility","label","modelBase","externalModel","lineMarker","textMarker","cardMarker","mapRoad","ShowBuildingMode","near","ESElementType","poi","Please provide the corresponding token!","Token is not correct","Error version","Maximum es3dMarker limited","Cannot get audio token","Invalid source type.Please add the server configuration file extension .esmap with the type application/octet-stream.","Your license has expired","License data error","current is online licensce , please contact esmap to get offline license","full","doubleDotDash","triDotDash","esarrow","ESViewMode","EScontrolSize","small","ESControlPositon","ESBuildingFocusMode","onerror","ESMapError","noWebGL","Evento","ESMapTheme","dynamicBufferGeometry","ESMapScene","ESMapCoord","ESMapGestureController","ESElement","ESLocationMarker","ESPolygonMarker","ESModelImage","ESImageMarker","ESTextMarker","ESGlobalLayer","ESLayerManager","ESControlOptions","ESControlOffset","ESNavigation","ESNaviResult","ESWall","ES3DMarker","ESMapScaler","ESPopMarker","ESBuilding","ESRoomTexture","esmap.ESWebViewMarker å·²å¼ç¨","ESLine","ESNaviMap","ESMapNavLineGeometry","ESCardMarker","ESMultiViews","ThirdPersonControls","hexToRgb","checkFunLevel","colorRGB2Hex","containPolygons","containPolygon","toRgba","rgba(",",1)","color format error","getMapScene","firstPersonControls","toFixed","getNearestAngle","setControlsInfo","Android","iPhone","Windows Phone","iPad","iPod","getTileNumsByPolygon","getPolygonBounds","camera","zoom","[object Array]","computeCameraStateByBounds","sin","fov","getOrthoCameraSizeByPerspectiveCamera","aspect","tan","getDatasByAlias","getFloor","modellayers","models","OCenY","bids","MODEL","setFloorAlpha","isCloneMat","noOcclusion","hideOnComplete","lastAlpha","tileList","restoreFloorAlpha","o3dFloors_","modelTypesCount","getModelsCount","getVersion","CITY","searchModel","key","buildingList","_ignoreAlpha","_noOcclusion","changeModelAlphaById","effect_track_line"," is not support ignore alpha!","bidList","cenx","ceny","delegateYield","createIndex","continue","keyword","types","locationMarker","polygonMarker","classID","all","floorNums","polygon","ALL","radius","buildingBounds","MapUtil","getMapCoordDistance","node","getRoomDirection","dis","TEXTURE_LOADER","computeExtentByPoints","getCenterByExtent","buildBezierCurvePoints","getPoints","interpolatePoints","equals","segments","buildCurvePoints","RAD2DEG","deviceYDPI","GCJ02","GCJ02ToWGS84","ESTileMap","+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","exp","fixScale4490","transMc4490To3857","computeScaleToFix4490","transformCGCS2000ToMap","this page must require: esplugin-tile-3.0.min.js","BD09","transformGCJ02ToMap","transformMapToWGS84","asin","cos","timestampToTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","intersectsPolygonAndPolygonNew","çæ¬éè¯¯","skéªè¯éè¯¯","ä¸ç»´åºæ¯${1} æªæ¾è´­ä¹°å½ååå:${2}ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°ï¼#${3}","è¯·æä¾ä¸ç»´åºæ¯:${1}çtoken #${2}","ä¸ç»´åºæ¯ ${1} tokenéªè¯éè¯¯ #${2}","ä¸ç»´åºæ¯ ${1} å·²è¿æï¼è¯·éæ°ä¸è½½ææ°çæ°æ®æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} Liscense æä»¶éè¯¯, æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯ãè¯·æ£æ¥åæ°æèèç³»ESMapåå¡! #${2}","ä¸ç»´åºæ¯ ${1} è¯·æ±å¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºæ¯å¦å­å¨ æèä¸ç»´åºæ¯ç±»å mode æ¯å¦éç½®éè¯¯! #${2}","ä¸ç»´åºæ¯ ${1} æ¥¼å±æ°æ®ä¸ºç©ºï¼è¯·æ£æ¥ä¸ç»´åºæ¯æ°æ®æ¯å¦æè¯¯! #${2}","ä¸ç»´åºæ¯ ${1} ç ${2} ååå·²è¿æï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½è´­ä¹°! #${3}","åè´¹åºæ¯ ${1} æå¼æ¬¡æ°è¶è¿éå¶ï¼è¯·èç³»ææ¯åå¡æèææ¯å®ç½!","ä¸ç»´åºæ¯ ${1} éç½®å·²æ´æ°ï¼è¯·èç³»ä½èéæ°åäº«! #${3}","_tweens","_tweensAddedDuringUpdate","getId","now","_nextId","fadeTo","hrtime","performance","_isPaused","_pauseStart","_valuesStart","_valuesEnd","_valuesStartRepeat","_duration","_repeat","_repeatDelayTime","_yoyo","_isPlaying","_delayTime","_startTime","_easingFunction","_interpolationFunction","_chainedTweens","_onUpdateCallback","_onRepeatCallback","_onStopCallback","_group","nextId","_onStartCallbackFired","_object","stopChainedTweens","_onStartCallback","updateCountDown_","_reversed","_onCompleteCallback","Interpolation","Utils","Bernstein","Factorial","vUv = uv;","uniform sampler2D tDiffuse;","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","EffectComposer","RGBAFormat","getSize","_pixelRatio","WebGLRenderTarget","_width","texture","EffectComposer.rt1","_height","renderTarget1","renderTarget2","writeBuffer","readBuffer","renderToScreen","THREE.EffectComposer relies on THREE.CopyShader","ShaderPass","THREE.EffectComposer relies on THREE.ShaderPass","copyPass","getDrawingBufferSize","passes","enabled","render","needsSwap","stencilFunc","NOTEQUAL","swapBuffers","MaskPass","ClearMaskPass","setRenderTarget","getPixelRatio","Pass","THREE.Pass: .render() must be implemented in derived pass.","FullScreenQuad","OrthographicCamera","PlaneBufferGeometry","_mesh","state","setMask","setLocked","stencil","setOp","REPLACE","setFunc","ALWAYS","clear","EQUAL","KEEP","RenderPass","overrideMaterial","clearColor","clearAlpha","clearDepth","autoClear","getClearColor","getHex","getClearAlpha","setClearColor","autoClearColor","autoClearDepth","autoClearStencil","textureID","tDiffuse","ShaderMaterial","UniformsUtils","defines","fsQuad","CSS2DObject","CSS2DRenderer","overflow","relative","setFromMatrixPosition","-100%","computedScale",") translate(","px) scale(","oTransform","objects","insertBefore","createEvent","HTMLEvents","initEvent","targetELement","distanceToSquared","distanceToCameraSquared","zIndex","updateMatrixWorld","projectionMatrix","DRACOLoader","timeLoaded","manager","DefaultLoadingManager","attributeOptions","TrianglesDrawMode","nativeAttributeMap","POSITION","COLOR","TEX_COORD","arraybuffer","decodeDracoFile","getAttributeOptions","skipDequantization","getDecoderModule","decodeDracoFileInternal","decoder","DecoderBuffer","Init","byteLength","Decoder","GetEncodedGeometryType","TRIANGULAR_MESH","verbosity","Loaded a mesh.","POINT_CLOUD","Loaded a point cloud.","THREE.DRACOLoader: Unknown geometry type.","convertDracoGeometryTo3JS","THREE.DRACOLoader: No attribute ","num_points","Float32BufferAttribute","GetAttributeInt8ForAllPoints","Int8BufferAttribute","GetAttributeInt16ForAllPoints","Int16BufferAttribute","DracoInt32Array","GetAttributeInt32ForAllPoints","Int32BufferAttribute","DracoUInt8Array","GetAttributeUInt8ForAllPoints","Uint8BufferAttribute","DracoUInt16Array","GetAttributeUInt16ForAllPoints","GetAttributeUInt32ForAllPoints","THREE.DRACOLoader: Unexpected attribute type.","GetValue","SkipAttributeTransform","DecodeBufferToMesh","THREE.DRACOLoader: Decoding failed: ","error_msg","destroy","num_faces","Number of faces loaded: ","num_attributes","Number of points loaded: ","GetAttribute","GetAttributeByUniqueId","addAttributeToGeometry","GetAttributeId","Loaded "," attribute.","TriangleStripDrawMode","indices","GetFaceFromMesh","Uint32BufferAttribute","AttributeQuantizationTransform","InitFromAttribute","maxRange","numQuantizationBits","quantization_bits","minValues","min_value","decode_time","import_time","Import time: ","isVersionSupported","decoderPath","decoderModulePromise","setDecoderPath","setDecoderConfig","wasmBinary","decoderConfig","releaseDecoderModule","wasmBinaryFile","esmap_decoder.wasm","_loadScript","_loadArrayBuffer","decoder_script","getElementsByTagName","head","script","text/javascript","setResponseType","ESGLTFLoader","dracoLoader","anonymous","resourcePath","LoaderUtils","extractUrlBase","itemStart","itemError","itemEnd","crossOrigin","decodeText","KHR_BINARY_GLTF","content","trim",".action","asset","ESMAPEDITOR","gltf version>=2.1 supported!","hash","MODEL3D_ERROR","ESMAPOK","scenes","accessors","bufferViews","textures","images","samplers","ESMAP","ESMAPBID",",è¯·ä¸è¦ä¿®æ¹ä¸ºå¶ä»mapId: ",";æ´æ°æ¶é´:","extensionsUsed","extensionsRequired","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_UNLIT","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","MSFT_TEXTURE_DDS","KHR_TEXTURE_TRANSFORM",'GLTFLoader: Unknown extension "',"URL","ESCache","KHR_binary_glTF","KHR_lights_punctual","KHR_materials_unlit","KHR_texture_transform","MSFT_texture_dds","ddsLoader","DDSLoader","extensions","lightDefs","lights","loadLight","directional","DirectionalLight","PointLight","SpotLight","spot","innerConeAngle","outerConeAngle","penumbra",'GLTFLoader: Unexpected light type, "',"decay","light_","getMaterialType","extendParams","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","binary_glTF","glTF","header","getUint32","GLTFLoader: Unsupported glTF-Binary header.","BIN","GLTFLoader: JSON content not found.","GLTFLoader: No DRACOLoader instance provided.","KHR_DRACO_MESH_COMPRESSION","decodePrimitive","bufferView","componentType","getDependency","normalized","extendTexture","texCoord","lightMap","lightMapIntensity","aoMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","alphaMap","envMap","refractionRatio","ShaderLib","standard","#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif","\tuniform sampler2D glossinessMap;","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularColor = specularFactor.rgb;","#include <roughnessmap_pars_fragment>","#include <metalnessmap_pars_fragment>","#include <roughnessmap_fragment>","#include <metalnessmap_fragment>","#include <lights_physical_fragment>","roughness","roughnessMap","setHex","glossiness","glossinessMap","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","isGLTFSpecularGlossinessMaterial","aoMapIntensity","emissiveMap","normalScale","envMapIntensity","specularGlossinessParams","diffuse","matrixAutoUpdate","uvTransform","isCubeTexture","reflectivity","maxMipLevel","properties","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","Interpolant","copySampleValue_","resultBuffer","sampleValues","valueSize","interpolate_","LinearMipMapNearestFilter","NearestMipMapLinearFilter","LinearMipMapLinearFilter","ClampToEdgeWrapping","MirroredRepeatWrapping","BackSide","FrontSide","EqualDepth","GreaterEqualDepth","AddEquation","ReverseSubtractEquation","OneFactor","SrcColorFactor","DstAlphaFactor","SrcAlphaSaturateFactor","skinIndex","InterpolateSmooth","InterpolateLinear","InterpolateDiscrete","CULL_FACE","SCISSOR_TEST","POLYGON_OFFSET_FILL","SAMPLE_ALPHA_TO_COVERAGE","BLEND","RGBFormat","gltfExtensions","extras","GLTFLoader: Ignoring primitive type .extras, ","accessor","getY","getZ","setXYZ","morphAttributes","updateMorphTargets","weights","morphTargetInfluences","targetNames","morphTargetDictionary","GLTFLoader: Invalid extras.targetNames length. Ignoring names.","primitive","promise","baseGeometry","primitives","isInterleavedBufferAttribute","itemSize","getW","cache","multiplePrimitivesCache","textureLoader","setCrossOrigin","fileLoader","FileLoader","removeAll","markDefs","getMultiDependencies","animation","cameras","catch","isBone","meshUses","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadMaterial","loadSkin","loadCamera","light","getDependencies","timeMap","GLTFLoader: "," buffer type is not supported.","buffer","byteOffset","sparse","BYTES_PER_ELEMENT","InterleavedBuffer:","InterleavedBuffer","InterleavedBufferAttribute","setX","setY","setW","webkitURL","source","mimeType","createObjectURL","Loader","Handlers","revokeObjectURL","sampler","magFilter","wrapS","wrapT","metallicFactor","roughnessFactor","metalnessMap","metallicRoughnessTexture","MASK","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","sRGBEncoding","encoding","targets","loadGeometries","primitiveCache","multiPassGeometryCache","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","isSkinnedMesh","normalizeSkinWeights","LINES","LineSegments","Line","LINE_LOOP","LineLoop","POINTS","Points","GLTFLoader: Primitive mode unsupported: ","mesh_","isPoints","PointsMaterial:","PointsMaterial","Material","isLine","LineBasicMaterial:","LineBasicMaterial","ClonedMaterial:","specular-glossiness:","vertex-colors:","morph-normals:","cloneMaterial","skinning","vertexColors","flatShading","morphTargets","onBeforeRender","yfov","aspectRatio","znear","zfar","orthographic","xmag","ymag","skins","joints","inverseBindMatrices","loadAnimation","channels","parameters","input","output","NumberKeyframeTrack","QuaternionKeyframeTrack","VectorKeyframeTrack","interpolation","isMesh","AnimationUtils","arraySlice","getValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","animation_","AnimationClip","meshReferences","Bone","_instance_","skin","isGroup",'GLTFLoader: Joint "%s" could not be found.',"Skeleton","Scene","dist","widthScale","lerpPathPoints","lerpVectors","PathPointList: points length less than 2.","_start","_corner","_end","_getByIndex","crossVectors","QuadraticBezierCurve3","_getCornerBezierCurve","_hardCorner","subVectors","addVectors","dot","acos","_drawing","_includeDrawingPoint","_points","_lastPoint","_lastFixedPoint","fixRadius","_cornerRadius","_cornerSplit","_pathPointList","cornerRadius","cornerSplit","_dirty","getPathPointList","confirm","_getLastFixedPoint","setUsage","DynamicDrawUsage","setDynamic","drawRange","usage","_resizeAttribute","updateRange","radialSegments","startRad","applyAxisAngle","getIndex","_resizeIndex","Path3D","SelectionBox","Frustum","startPoint","collection","watchlist","focusTileId","select","endPoint","updateFrustum","searchWatchlist","updateProjectionMatrix","isPerspectiveCamera","unproject","deep","planes","setFromCoplanarPoints","WARNING: SelectionBox.js encountered an unknown camera type.","preWatchs","boxSelectPoints","containsPoint","intersectsBox","pickType","isVisible","intersectPolygons","mapExtends","clonedMats","searchChildInFrustum","ESMapSceneUtil","SelectionHelper","pointerEvents","1px solid #55aaff","rgba(75, 160, 255, 0.3)","fixed","pointTopLeft","pointBottomRight","selectionBox","pointerdown","isDown","onSelectStart","pointermove","onSelectMove","pointerup","parentElement","clientY","clientX","onSelectOver","FirstPersonControls","movementSpeed","lookSpeed","lookVertical","autoForward","activeLook","heightSpeed","heightMin","heightMax","maxHigh","minHigh","constrainVertical","verticalMin","mouseX","lon","phi","theta","moveForward","moveBackward","moveRight","mouseClickMoving","mouseDragOn","viewHalfY","stopAsap2","lookAtTarget","cruisingAngle","rotating","userIntersecting","handleResize","viewHalfX","innerWidth","onMouseDown","focus","button","stopAsap","pageX","pageY","clearTimer","mouseLastPos","onKeyDown","moveLeft","moveUp","moveDown","onKeyUp","autoSpeedFactor","heightCoef","nextPos","translateZ","translateX","translateY","clamp","verticalMax","cruisingMode","mouseY","lat","mouseMoveOn","mousedown","onMouseUp","contextmenu","mousemove","keydown","map_","getDeviceWH","floorEdges","getPixXY","mapOpacity","maxSize","gendatas","gradient","rgb(0,0,255)","rgb(255,0,0)","ctx","ctxCopy","renderShadow","rgba(255, 255, 255, ","rgba(0, 0, 0, ","colorize","getPalette","canvasCopy","HeatMapMaterials","renderToFloor","matTool","å±ç­åå¾éè¯¯ï¼è¯·åæ§è¡setFloorNum","_hasHeatMap","mat","heatmap","originalUv","floorUvs","originalMainMat","getObjectsByAlias","originalStatus","originalColor","antitrans_","disposeHeatMap","createLinearGradient","addColorStop","fillRect","getImageData","cachePoint","addPoint","clearRect","getHeatMapTextures","copyCanvas","addPoints","lastSelectStore","updateTile","3.0","zoomToCursor","baseDistance","mapPickHighLight","_ztl_","sceneOrtho","controlsChange_","viewMode_","deltaVec3","scaler_","flyController","hideRecord","crs","EPSG4490","fixTileMapScale","_buildingAnimating","timer","timerImmediate","_selectModelAlpha","matList","animatque","tileConfigs","focusBuilding","instanceCount","MAP_INSTANCE_REPEAT","resize","MapInited","localScaleLevel","_maploader","MapLoader","FirstPersonControls_2","firstPersonAnimating","FreeFlyControls","_fullscreen","FullScreen","updateLts","focusFloorNumChanged","viewModeChanged","gestureController_","cityModelLoadedAllSign","cityModelLoadSign","isUsedOpenBuildingSign","__viewModeAnimating","ESMapInited","updateCssScene","stopCruising","lastCruAngle","toClearId","needAnimate","beforeCruiseState","originalRotateAngle","originalTiltAngle","scaleLevelTo","originalControlState","getModelInfo","modelInfos","action","afterEnd","easeOut","getControlsInfo","easeIn","tileMode","pointToPointAnimate","beforeStart","noFly","unshift","openBuildingById","continueOpenBuilding","tl_","TOO_FAST","IsMapLoading","preLoadBuildingId","openBuilding","buildingOpenAnimation","changeFocusFloor","animate_target","animate_camera","moveByDirection","åæ°ç±»åéè¯¯","negate","PerspectiveCamera","cameraFlyToHelper","setScaleLevelByHeight","disposeBuilding","meshLoader","toHandle","modelLayers","lineLayer","modelImageDatas","modelTextureDatas","modelLineLayers","modelTextureMeshs","cleared","dynamicShows","queue","isLoadedAll","logomatlist_","_clearEventsFrom","openMapById","openMap","resetAll","showProgressBar","#2BDE73","createProgress","ESMapResolveReady","inited","openBuildingMap","openCityMap","/esaudio-1.2-",".mp3","ESAudioTool","AUDIO_ERR","modelBasicMat","cacheBuildings","shell","GLTFMergeTool","shellMap","openAnimate","isAutoOpenBuildingSign","buildingScene_","buildingLoadComplete","modelLoadedAll","tileid","hideFloorBase","checkToLoadedBuildings","toLoadedBuildings","clearLineMarkById","lineManager","clearAllLineMark","onUpdating","originHeight","smooth","_analyseRawPoints","ç»çº¿ç¹éæ°æ®éè¯¯","lineType","nobuildCurveZ","curvature","-&-","crossFnums","DistanceofTwoPtsZ","originalLength","screenshot.png","ULTRA_HD_ERROR","updateSize","cameraOrtho","toDataURL","image/png","download","click","newTab","title","document","screenshotPlus","screenshot","compass","cameraTop","widthDistance","coordScreenToMap","coordScreenToScene","ð ~ hightGap:","%cå®æ´ç»å¸åè¾¨çï¼","color: #6677FF","%cå®ææææªå¾! ","å·¦ä¸è§åæ ä¸ºï¼","å·¦ä¸è§ç»çº¬åº¦ä¸ºï¼","å³ä¸è§ç»çº¬åº¦ä¸ºï¼","å¾çåè¾¨çæ¯å¼ï¼","åºåé¿å®½æ¯å¼ï¼","selectModelNull","mapmodel3ds","flashTime","layers","_type_","MODEL_BASE","merged","alias","es3dmarker","changeTileBuildingStyle","tileStyles","filltype","buildingsColor","topTexIndex","ESEffectTool","buildings","_getEditBtColor","_getEditBt","styleIndex","computeTopFaceAttrForEdit","changeBuildingColor","buildingColorStaged","highLightColor","changeModelColorById","highLightFlags","addBuildingColorStaged","changeModelColor","isFlash","colorMap","createFlashLightMaterial_","flashSpeed","flashShader_","pointInBuildingFloor","getFloorBounds","pointInBuildingRoom","delta","getRoomLogoInfo","AUTHO_REQUIRED","floorAlias","IDä¸è½ä¸ºç©º! index:","findRoomById","æªæ¾å°","æ¿é´! index:","originalTexture","toSceneCoord","targetAndBuildingList","raycastByCoord","targetName","startCoord","endCoord","cubeTip","green","globalAlpha","closePath","MODE_2D","cameraFlyTo does not support in 2D view.","æ­¤æ¹æ³å·²å¼ç¨,è¯·ä½¿ç¨ map.getViewCenter()","warning","getViewCenter","getCenterLonLat","control","directionAngle","once","scaleLevels_","initDistance_","getDistanceByZoomLevel","getDistance","pitchAngle","flyFocusTo","highlightBuildingById","selectNull","tapTip","getElementById","spanId","popDiv_","storeSelect","tiltTo","emitError","æªæ¾å°scaleLevelä¸º","çç¼©æ¾çº§å«","setScaleLevelValue","setScaleLevelLimit","minScaleLevel_","initScaleLevel","scaleLevelIn","scaleLevelOut","clearTrans_","setBackgroundColor","setModelSelectColor","isSelectFlags","selectMat","slots","POLYGON_MARKER","polygonSelectColor_","LINE_MARKER","selectedLineColor","toggleTileBuildings","_disableTileUpdate","userTiles","cachedTiles","addToCache","unloadTile","unsetArea","change3dOpacity","userScene","storeModelSelected","isMergedWall","originEMS","_noCopy","toJSON","naviMap","lastColor","isSelected","line","_originalWidth","setRadius","_originalRadius","_originalAlpha","setBuildingTip","customClass","setTapTip","defaultTemplate","hideTip","setModelAlpha","originalOp","setCompassPointerUrl","setPointer","setCompassBgUrl","setBg","getNavData","getO3dScene","getTileFromCache","setUserNavLangLib","langLib","navLib","generalLib","building do not exist","isLazyLoadModel3D","preCloseBuilding","shellId","sourceData","buildingCache","keys","loaded","break","closeBuilding","closeAllBuildings","isCoordInView","closeBuildingById","selectLineNull","storeSelectLine","multipleSelect","originalMat","stopAllAnimate","getUserScene","EPSG:4490","flipX","checkMcIs4490","loadComplete_","_gld","__mbs","preLoadComplete","queryTiles","checkTileView","tileShowLevel","skNl","_sdu","WELL","ABC","_em","share","_cdu","currentView","toAddQueue","TILE","maximumTiles","checkBuildingHide","tileDisabled","handling","solvingList","loadTile","checkPanLimit","panLimit","panLimitCenter","_lastValidCoord","lastTarget","lastCameraPosition","requireUpdateCollide_","updateText","autoOpenBuilding","controlUpdated","getScaleRate","scaleLevelChanged","å°å¾ç¸å³å¯¹è±¡è¢«vueååç»å®,è¯·æ£æ¥ä»£ç ï¼å¦åä¼å½±åæ§è½ï¼","box3_","floors","Elevation","floorCenter_","maxScaleLevel_","initTop_","defaultControlsPose","addLocationMarker","baseScene","getModelByName","getScreenCenter","plane_","setFromCamera","coordMapToScreen","project","w_2_","h_2_","project_","getPopMarkerById","popGroup","clearPopMarkerById","clearAllPopMarker","ESTapTip","stopRender","reRender","tileGrids","queryTilesByNum","tileUpdated","secondViews","tileLoadComplete","onProgress","_rotateToID","firstPersonMode","targettocamera","firstPersonMode2","freeFlyMode","unlock","buildingService","fullScreenAvaliable","available","activated","request","visibleBuildings","navigateStyle_","dash","gap","minX_","maxX_","minY_","maxY_","getCurrentScaleLevel","localCenter","viewCenter","watchingOpens","maxPolarAngle","_setMaxPolarAngle","toUpperCase","viewMode must be 2D or 3D","force2D","tileMapInited","lastTiltAngle","__lastPhi","viewModeAnimateMode","minPolarAngle","themeName","themeName_","sceneId_","themeID_","themeDataSrc","updateBuildingTheme","endTime","showScaler","zoomLevelInt","shadowLight","castShadow","mapName","NameEn","mapNameEn","renderSort","sortObjects","isTileBuilding","maindeltaTime","_clock","_frameTime","_tempTimeStamp","renderID","DISABLE_RENDER","MapOptions","MapControls","mouseButtons","MOUSE","RIGHT","LEFT","cameraPenetration","registerEvents","cancelAnimationFrame","dumpScene","COLOR_BUFFER_BIT","Cache","dumpTileScene","updateTileSceneCenter","Tools","_updateTileMapCenter","resetControls","registerMapControllerEvents","change","controls_","MIDDLE","pageVisibility","screenX","moz","hidden","visibilityState","visibilitychange","controlstart","controlend","updateDirection","intersectObject","spriteBg_","spritePt_","showCompass","webglcontextlost","webglcontextrestored","_minResolution","_maxResolution","showMultiView","multipleViews","_resolution","_glLostHistory","powerPreference","effects","WebGLRenderer","highp","zBufferSupport","setPixelRatio","shadowMap","innerHeight","vFOV","cam2control","vFovHeight","XYZ","rotationAutoUpdate","setClearAlpha","WEBGL_CONTEXT_LOST","custom","lost","RESTORED","WEBGL_CONTEXT_RESTORED","color: #2BDE73;font-weight: bold;font-size: 12px;","restored","clearColor_","composer","AmbientLight","ambientLight","mainLight","secondLight","initCss2dScene","mapViewInited","visibility","setOrthoZoomLevel","getOrthoZoomLevel","resolution2Level","distance2Resolution","getZoomLevelByDistance","level2Resolution","LOG2E","calResolution","getLocalCenter","onWindowResize","cssCamera","getWebGLInfo","getExtension","WEBGL_debug_renderer_info","getParameter","UNMASKED_RENDERER_WEBGL","thickness","align","updateView","setOriginCameraPosition","Firstscale","tileZoomLevel","resolution","MODE_3D","getWorldDirection","class","mousePos","raycaster","compassRaycaster","propogation","isPicked","boxPickedObjects","tapcount","debugPick","logModelInfo","hoverList","intersects","lastHoverTarget","hoverUserObject","cachePicks","showBox","isPc","frustum","lastClickTimeStamp","debugPickLog","keepClickMousePos","keepPressLock","startPos","disablePicks","enablePicks","mouseup","touchend","BoxPicker","ESSelectBox","onmousedown","touchmove","hightLightObject","unhightLightObject","findAndDelete","hovered","$originalEmissive","lineGroup","$originalColor","buildingModel","mouse","setFromMatrix","disableOutdoorClick","model3DHoverEffect","getFaceIndexToGroup","faceIndex","noPickEffect","gid","getStyle","FLOOR","IMAGE_MARKER","TEXT_MARKER","FACILITY","hover","onOver","hoverObject","onLeave","changedTouches","mouseScreenPos","enableBoxPick","startClientX","startClientY","mousemoved_","keepPress_","traverseAncestors","clickCompass","compassClick","onmousemove","touches","BoxPickerHelper","block","getPick","checkHover","endClientX","endClientY","offsetY","centerTile","indx","indy","pickedObjects","getMouseScreenPos","ebp_","stringWidth","getFontHeight","splitContent","replaceVariable","getAlignPoint","_default_","getDomRuler","removeDomNode","textFont","textStyle","textWeight","px ","textFaceName","_enabled","removeHooks","disable","materialBg_","materialPt_","onload","compassBg","compassPointer","lw_","lh_","contentRect","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAA9RWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzggNzkuMTU5ODI0LCAyMDE2LzA5LzE0LTAxOjA5OjAxICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgICAgICAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyI+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE4LTA0LTEzVDE3OjUxOjE3KzA4OjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTgtMDQtMTNUMTg6MjY6NTkrMDg6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjE3YzU2N2NiLWM4YzMtNTM0My05OTQ0LTVmMGVkY2NmMzI4ZTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwNTNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4MzwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDozNjU5NDIwMjNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDozNjU5NDIwMzNGMDAxMUU4OEQ0N0UwNDZGQzdDODc4Mzwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD54bXAuZGlkOjM2NTk0MjA1M0YwMDExRTg4RDQ3RTA0NkZDN0M4NzgzPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDpiZGY3MGExNy1hNWVkLWVmNDEtYmY3MS0yYzc5OTFmNmE3MDQ8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTgtMDQtMTNUMTc6NTM6MTgrMDg6MDA8L3N0RXZ0OndoZW4+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpzb2Z0d2FyZUFnZW50PkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6MTdjNTY3Y2ItYzhjMy01MzQzLTk5NDQtNWYwZWRjY2YzMjhlPC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE4LTA0LTEzVDE4OjI2OjU5KzA4OjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNyAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHBob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4KICAgICAgICAgICAgPHJkZjpCYWc+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0MTNiNGUwNS04ZDAyLThiNGEtYWE4Zi1hYWVhMTJjOWI1MzE8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3PC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGk+eG1wLmRpZDo0QzQ2QTgyQTNDQjMxMUU4OEQ1NDgwMUYxQUY4RkNDNzwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpPnhtcC5kaWQ6OTQyMUI4QjMzQ0IzMTFFODkzRjZGRjlGM0U3ODBDM0M8L3JkZjpsaT4KICAgICAgICAgICAgICAgPHJkZjpsaT54bXAuZGlkOkMwMEIwRTdDM0NCMzExRTg5QTVFQUM0Njc0OUYzMkMwPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOkJhZz4KICAgICAgICAgPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOllSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpSZXNvbHV0aW9uVW5pdD4yPC90aWZmOlJlc29sdXRpb25Vbml0PgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjY1NTM1PC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj42NDwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAo8P3hwYWNrZXQgZW5kPSJ3Ij8+WZs/LgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6QAAdTAAAOpgAAA6mAAAF2+SX8VGAAAEvklEQVR42uSbzWsbRxjGn9ldaWVbyKsqq9YfmEaOVFNyyakXmxwLRddCIaeAwX+SS0tL/wcdSiklPtnQs/thR05aE7cJsuMPrWNJq5m3B72rDpGcW2fL7IKRpRlrPb993nned3ZWEBGyfHj/5ZcLIfS3DgCdNgFAdDOY+Lu5Qs4OAG8N3uVXCUABoFarZbcCEiHw4HMA8gBiAANWAGUBgH6uOb76V6yEMre9TguAY+g8xAqY5UEXWRV1APfSVIBjaPDEAy4CqAAoAcgrpeoMIRMhQAB8HnwPwLkQos4hYT0A0ibDGQ6DMyLKDADdCgv8e4mIGuwK1gNwNQB5VkHgOM5qlhQgOBQ8AHO1Wm1FCBFw23tpWaHpSdBjBcyura1VtLZ7xZn8z+OOBusTxyCAROo+gJnFxcWVpCGO449YIdYmQpIH6PCrF4bh0rhRykZaabHJTFBqV1lUKpVw/E84Tt12BQjtXC4AUS6X72gAVm2vBfSqkACI+fn58tgjXTc1ACZdwOUJMFetVgu+7xe0hZNy+/mfFQCnNidCM2yBfqPRCN/uUJwrNmwHMMvrAd7KykppSp/GB9XKrq15QB7/rgi5CwsL5WkA0nACx7ACCgDcarUaTHTwvFQWRhxD58jxTwGAU6lUJgGMnMBaBeR58B4ANwiCCQCe59UM27KxSdDVLNAJw3BGt0AtGQq+/+HHOwBe2gjA1yywfFvHu7XVxlq99tImF0iyvwJDEMvLy8GtV8NzjVeFjiGVeQwhv7S0dCsA3/frNgJIQsAFIMIwLEkpsbOzg+3tbTz64nN8/dWXGA6HcB3XuBWaCIHkPB4AGYZhaW9vD1EUYWtrC5ubm/j911/w3bffIJfP32VQVilA8FqABCCCIAj29/fRbDZRKpVQLBbRbDbx5MlP8H3/Q9sUQBjdCE2Ww9z48WOBKJrs2e3i5rNPAcOrxCYAxADeJAq4ILr8uNNBq9VCFEWIogitVgsbSmFI9Mw0ABN5gALQZwh0qtTVJycn1d3dXWwfHCDneVhXCo9GAI5szAQVq+AaQK9DdHmfCBvHx9g4Psb6gwfjjj2iNgwvjpq6O9znuSD+S6mLd/Q9fL6+DhsBSA6B/sm7ARzYGAIEYMhh0G9LeX5bx2spn9paDscY7QkYdJSKekT9KRPFBVJYEzQVAgrADUOgC6LLCQBE7Uouh0ouZ6UCJE+EEYDBqVJXUxRwpGD+XrlnEECPIfQ7UxRARMbj3yQA4hDo3maFjhCHaQAwFQKKneANgN6L6VZ4aLMCFCdCPQA3R1JO7AZ5HcfjNHjBQgD6PBB3lIr6RD1fiALHx/n9vb0zPV5sCwFdBX0A8oLoXLPAp0hpg4RnGECyUWp4SXT6PqtdCNF+9fBhGuM3fiNimCRG50SvtM9TsUDTCtDrgsGpUidaDtDOAoAk0ZMABn8r9UfS4KaUA6ShAMkT4fVvUr7QPs+EApKiqA/g6pmUJzSqABVSfGAiLQV0AXTV6MoPkeJheq+w4mSoy5Vhm6FkBgBxPRBj9NzQYZYAJBYYMYxrMfJ/ygoA8JXv8qD7NAoBlSUFJPcHFIB4kGINkCYApVniGVI+0kiFJf4HT4yOZ+asPz3uIOPHPwMAX8PDjLFTmrgAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjRCMjc1MTQ0M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjRCMjc1MTQ1M0NCMzExRTg4NzZCRDZBQ0I1QjlCOTk3Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NEIyNzUxNDIzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NEIyNzUxNDMzQ0IzMTFFODg3NkJENkFDQjVCOUI5OTciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Bj/RUAAATkElEQVR42pRbT2xex3Gf/fiJ/yKKlEhbov5YduvGdgoURe1DhSY9G+3Bl7aH/IFdo4kLBIiLJI2AXpL0UrR2CiSXQmgQJSjqQ3Qo2qBteisQ2G6BKocAjmPFbizHEmWLIk3RIinK30xmdmdmZ9/7KMkf8fje27dv3+7s7sxvfjubfvBvPwBKAAmI/+TMN/wjItDLnCoPk93zNSWCRPoMLK+/kEtL5b1jnPEUnx/h5w/zex/l1COcZZ6PuZyLYJMzbvDlFc5zgfP+jK9f5VJf5jyXktYnn5PViGtMep30ebJva53kGZUM3pxEEH9DAsylkjYME5kIytessZKCoY1UPkGcmFKyG3v+KB+fZCH8Aac/TF4RynkoCCrfJ5gTYfCD45zwmKVrYT/jq//g8wsIdF4yJxVwrUfJS9YIvbc6Nv9NalqHYS1A5UredyU9QSgIXKr1PlnDpTef4es/5cSPQeiFIsQUGlX7KEGT3Py0Dg/zWYT4Rb79Kaec5fMZvt/0V+q/0D9VzLX8IHj9+gBBe4XKWe6JyGVG/qwUKqMAqX6TUxaQ6Kuc500eDc9x1o8VIaNLPN8jad+g/4fQ5vJ5anox/8morH3IZdNzXNSbfP9VTl+wukH4lrchlkkUxo2NRIIB5AaVB6hCMIHEwmWogzZMC+CBQE/x+eec8DVEOOQfaRqdL0rZWKSHWK5xVA4pmxC98bXyWL6X82taqY1862vl2/QUl5hQOw+BfJTrXelYKVO+Ecvhi0GdS1Z5lX0jwXCNuWIPcoE/4sLO8rEkhZp0iWqD5Q8JvGEYe5yPG1s38mEVovweeuPzGWMdSBvgxxKfzvLxI37w666HYv5Oe6qAizCGRJ2J1/1RUP8l6x/z+dt8c6B5s1cMNY3tZ2PVv7mZr2ZnZ6tC2PPNoFL6Vf49Pn7MT/6Mj3PRGsUyZDykTqUH1JFWK73aq6Kr+fw8H9/n4wBBJ5/n3yO99wzg/fffz8cd37u740CuG4DUMXWf90dGOYZA0QZU5dT5TfIj0b6f7Ak29bt4jEIvtrpTuDTeMQeMswDjy7r9iIUv8TvL/I5Yo907VXeIjiayXhv3uUk+/pWPx3sVTKoTYexI7c2k9p5ga2urDE1ULBFAFZF1yZjSvJppbNOodNQhPp6IQhgnjDoCaGzVJc93uo3vZv/QvcQ/abw03K6zHgi4YW9R7vW8l/dxrftnbvdGHQFdhVd+f8PHp+486nr4Iuq0zk07/O16ZmZmXLY9vpb2+FDvW1L3S3yc3qsstwIZOTVTgP6Ix/jpfo0q7KwYvFMRClq3gZK1/Bs3blQB8PXS0qIOeYgOh/op4TsByHRhuYtFoZ9i2q9w3v/jl89VWJ9aHZCiH4C5Zb/GKd92zRlgZLnEgL0NsKTOlDBBYRlUuSWkgm4FsMXXeTZwud4JJlOx+wqj3UHTshzGk2lZqyYFc5oT/5HrcZ5v/r84UeQO4DADi1SkRgWzS47v8dW8VSYrx1w51Xnq2KSufVbpotYkFeOpTlSpqJQ54hzb29suALkmHBWvzfwEF0QBP+6daF2Ko4bVxIgE5X2k6MCaNp3nenyPE36fzK3EMtoGBkPRbTE+yfcfL4gLFfcX1IQRq1OBtKhQuiA4yorNkBYSVuSmcFbStre2XQGaFdja3nE8UASIjtYolG9p0OAWbPIY7DUorvX4OCc/RY4HSvl5BPhwI1jg09+1/lTHFbQp0czVOL2p43U1U9q1ft8q3IDp6ameIdhLz1fdNT4zxbpVbPq3XIV/4Vffs7QBWk8VqTzLArkHK+ZXJ4XqNVAYDYrNod6j4/gWt9sokVET57/9JK2+g+03Qhk9fwApjEAM76KmhzIJ7+HrZ33Uiy9QtF+Wzn6e/19IhE4plAlfFFCZz8khZRWuskUihFT4BASdpxCBkipRfh7nf6MHzON0pwWcpSKlpEjNT3LdlUJvp8bd9X7XeqljxG2Evxc+QYb8ENHHyJ9zjkN1SKXArtRh14CeVCEeNewMjXWOsqw5/87OzlgBjEYYTN0Yt4raM0Ur0DhRfe8pPJE2PsPn5yVxqCZMRPs5CPa8mKsKjCjqBVUYpJrezVKEo/5qavgZafxoNBoDlYtgpqemgxEtTFIKzaumPzWCjw6rI4Ae/tC6JHiGn35DbgoOIDrFN7/ROCVOJqJ/wGm91h4WXNBRgAZeSEcJ0giuXbsGG+9twF4u+FtvvQXz8/OwuLgEE4OBu68GqLJJdSlQoOZSwAOVAiOdmgV/qKkv/suDfHWKR9tLBQeIj9/1XJTHc4k6cUoNAVxJ1YD6GvBNsL6+Du+++y588MEHwTtMsG/fvmwCZUTYCJBjdXUVDh8+DAcPHgSqkKqn7aMwvP2V3dWGp9ayVGL3T/ibLw2xgInHtavqUHJXzyGZo7+CRYJuSO1sNbFJ2SuXV7IAssnhXj3EjTqwMM9DfQYGKkl5f5tN48bGdc67Brdu3YK33347W4ajR5e5ToNCqaWWtk+xcRGE2SShODKoQavS5pR1ANJxvnnY+pCC9gRHXZXWSnWA9Hxd6tjgy5cve+P3798Px44dg+FwH0CgR62w6enpfCwuHoJLly5lB2ltbS3X5+jRoz6tovNGHcPfVYI9pUgNyHiITyfEGfrdyMOaqcpNTVTNmgowTAql0ccwGPxbX1vPcz6r3UOHYHl5ucxjxKq1MDonRRATEwM4ceIErKysZAFIGVNTU1wGT4cwrFPDoZkW9BZAMIhhEaXqDXXgTrEZxN8ey8YnwwfQ8vuN+TMlV5WmICGZ0ytXVnLvSc/LfCanojtkPVGnJ0uBhw8fgd2bN2GTR8KVK1dg7sAcK8aJihF6/jfu2fe9xZGKJH9rwD3ySFaEaLTxCEZjMXiL9x35BcRmfsBVVmIyj+W3fGTZ8T42KE7yjhoUF6lrkf6R5fKulHX13dU+O4yG/UcBbUbUiH6mMaiSv/uITIGTpMs9iSrN1cgwBdbINWtfyiLUmzd3YI2HrTRYtPjEcKKsAzSjhcYDqTCEy3SYyGZRpsHa2jWYm5vj6TAJaZDG4P86betUT77AssfvpOCA5Tx8DGb6FEhhaUnnnWGArOEpN1YQ3M4Wn3e2swmLXt78gfnSU6nqlg7/3RCy0ECeorhFAFevXuVv3YQLF17LlkSU5cwMH9MzMDM7m3VEqquktTT7XjDn0C6gLYkOmIPQuz24qdc7XAFprB3dxvbIRP7oJPeWLXC44kxhEdUUSopLYuBr1ELQSOOc2tapZHR6/JZQavHIQqk2PV9jWHZTWe0XKDzXMCy5Z29mlzU2+I4LKF0qeXKyVJjMXmDD5HSX3mMfNFMOylTY3d297ffuJJRZHSmgI7vwAmmuOEOpIKekbm1BZlgUlx4fVgBSho+QFJ0zAzB1NAQWLAM4Ra8+h5uy7vKXe9zqnombkdPv1CFFN/k8VypSumZqeio7JfPzB32xJMPU7S0eGXc3KqTHnO8naOCs6YQyJlNQtKmjFwr6lLJu963Y29LTZQpMs75I1WxawzEGfsAmI0HcJAlOiH6/m3Xz+CCzNTM8hBYWDqrZ5amyU5Tglhw6ZWJFheycyXx/J3KD2mWM1CBQCISnuMlbjfdojbWGyiFKUeBytCpSBmpjk1FnyjkGjuL94YhohfMcjSExjqLUUzYy0t1j/cYkS3mSP77A5q66tNvwi1+8mXvtGiO5o1zB1CHsu8sPvmiZKDgy5Y1ralJFp9z/wAOs+afLFOogz7p8H2BxSlWvp04bykurAoQulvmFSiRiS3bqvVNPHb1g5Gcug++nRCDzC7nXxAPcvblbwRK2lFchY/WbUIGLlSdIUMqQssQcZs4QrF41XwVjem+oExWcAfp3UYWlwOyicIKvOqKzF3LmkSKuwAn21uc5bUQBNVK+X1xazENV3N+LF9/MCkjSMSO/Us7IGjtSwXIjR1KOBkzIO/KulCFlLS0u5fqNsHJ/GOthHaV1HoW6RxRalKF3xKuyPP4Tb7iFmDjZiF4ghrPR3YhB6qFHxaFZZg9O0sUbFKIjC8EgKEbIq+VZz2QLQvzOL/nd93IZ4hJPDAe1F53IRR8J5BrfRmMZCaVuoMLAQvbmUZLz/WTIPfNydek6oQkYfH1fRCXX2NQLjKtLU4vsAUoAxDX2C955551sRU6ePJlJkEhcdS3ErQ92uecvwsbGRi51cXGRPcFFh9MBkzdcY5eRpw5fHheAQ6DY/wgU/iWnvMbj7CGIjIotQYUwtNTxvVPE3QHjkCrO+44fz0N69dpqHgnXr1+He5aW4CD7/LMzH2kWv2+wFVlbX4PVq6uu9aXx97FrXFzoAGRTYRMy4ZGCi9tA4MobOiuZmuX2CwnTW0qKwg+5JQ/1V57pdvRCu+ZP0HF1y+++k/fB7EdmM8MjXt1l9vPlEEwvo0GmhaRHMzgcDuE4C2+JhVXjjmgMr9HS86T+O411hHuBGP9JBQjll87x+88SmJmoPJdzfU4sVo7eHI+UbCG0jpTYW8LyLLAWF40uptGY4S47XBihRbj33nsz/M09n2qcYYrMrq9HgENtc+CcAIXqa3i9bF0B4FyJD8DsGLzE77/Ow+nBilCDnya0GLasX/EgjdIK/GGuCFT+0Lg87vHDR47AARbEK6+8MhbR3X//AxngJFVeHlaji58tx4PNqgV1o0ahAiLAGiKr64nc1vSSCGmoml+Sz/D/5yIeqYzreO6/tyBBFOjoqkFtjT/jhKkp9+rir7i5U2p+U89/6HJ9qRuTHNYtE3SCPiA1Cp1TzkgUFZYRgKY+zrCk/4ofHnTiA6vDlgg6DaeOU5faFalUR1EK8cGitGSod9cHJY0MfaqCc//AqXmtaYKKTktUIjQRxL34IooIe52vzpCyP0PyENLEThF+U6I+e8tjYQkqjWHkxvdSVI6pIeQFv1uMoP1yiAxioEdIBddRZA1XWUcDNgHSNDa8Sn2Rb3HBmzYthmZilJT4Jnfk5znhnvGBioUh7i7f1VWXMaYyLrGr2ZyVxnYENjszC0gUBKwhO2ncEmMM544hL3SbuKX87yr/+5ZCmVz20HCzDrT3+PI0V+47JpQm/ohU+TiTU2OLCDq9RZXpSTHWAMSbm+0JQCiugt6Sx/igj4KwaEP1uxCDut0atXHjiRrYdZrv14wDlc8MSAlQg4sMK7/L6S9ChLvBiXHWFQx6gq/FV3gMGuGhON1cy+xzIUzPFLrKfAq5FifKWWGPMYhlWKQ6tbjfYhIgOEWogdotZH6R6/dd1LLs/WF1I8MWBKIn+fp8ktia3kRIzZJ0/ynUcHvqAhBq5rwpQrkuMqI6z2mcLqE9eP7OuqEh1Pq5Da7XkxTX1TVvP1i6lPUGv/BZPn/ftW3cfZC6Tn1kdDsmdI/IP7H3JgC59pCXEA5Xl75bNreuUneneFjRaxvFbUlv9OJ1Ug6RoYY7KyMin8/J5oQSkBQWLQBrMBN1Q1W0DPO/LdS9WQwp19brbgHUU3Qa3nZmWKQIwZ2DspEqF1Dr/DyfzlUvVM9a/6Ht5Ehh2FQDgqczW5TSp5IrKGi8Mgoh7mUd0Xwp9GUuY2JCOF/m9FsTqK5xhNhQ9xilGOqSKh70dYBUPVbSD3HqP7NAvpLCXick8gDPjANiEEII/zQqTEp8mjMvcsLjBMEr0zGYQgV8ATLFzQnBtVCFJZeTjPoE/UlFJoX7B2wWMAt4s6ajeuEah6Sd1tpcTUO1BkQ/REpPlwKxQmqqgErSB+XFsJXEFFGNudvluyf4+gWP4rPdHDodsl5FbFkj3y1CDYNj21eSor88FYxNAtPeRphAiE2ESmeZcHuEjDNTL/D1E5ywC7Yw01iYSsx4kFT1mUk/EBcQJOScPs3nFe7JL1lvxICLqksxIDLsBDZT4f1VCU2z7XfSMg86dD/AoTbV6C8nOtWM9YOjMwL8Br/yl7Jnoi6IYd2r5qG7paxsBlPTkKRmKMw90LhlSl/mq//ldIkjPuBNJuoHIoFpbzJdVoOrsyBIA6LqpgOKC6eUgo6p0QvZMdXQXne8SmOu8/+8ZcYaSimEy0DHPJZoC5kCtg2OfIjZEhnZ5iedGoUPZD8a6VHO9SI1GhrrBiXdKRaDG6EJrCy4aHq6cPql7Br2hmgbnSrHhxpJErf1oQZb8N+LnPY7IJYLwxY9MucqLN9rKC6qtRpQ2C2W6em8o436zAuYacqQ8XV+7xN8+TSbvtXa7MjSajlEvoENw7Y6OctS99TUvqKAA4okMJI2TK1AbFqcsvD6LLynOekTfH4DjdCFsEfI4pxDGrg5h7JtDiniavSGdLefxY2pmuFsDq9D+jonrtkHzM76tjWEpjwLZOhHidQgZxM8Omtc0SV/j/E8/TXKtwHP5lKJoN23WPc9YrASXpaO8onHHnvsDquMd9wPI2Gf/83HP3BWcTROVG/yrsu429+rGswt22D+S7/94TdahQxDWzOzLu7G+rWx+1U5Wcha2NW9yZfP5xBUSI/yk8/wkz/k+we97MDytFsRO/uQ23jQ1znl3/ninzjhfEVTnTJTDO6kdm9z4GwgjOa8aYoqDdNwbJXoDP45prqTPAY3UbOiKM/Py05vTvkLTj/Giaf42W/yKw/x449yRY7wFJBV1lnOe0u2EHL6On9znc8XWFu/xuW/wj7By/zsEvkGjO4O8OoQxH0M7j5TCkE3VHkjC5jg618JMAD1kaihzbRwnwAAAABJRU5ErkJggg==","autonavi","PLANISH","image/light2.png","zoomToCursorPolarLimit","canUseZoomToCursor","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","enableIncline","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotateSpeed","orthoLimitSize","keys2","target0","zoom0","updateCameraByDistanceIn2D","saveState","position0","NONE","setFromUnitVectors","setFromVector3","autoRotate","lerp","isOrthographicCamera","forceTheta","forcePhi","minAzimuthAngle","makeSafe","setFromSpherical","wheel","Spherical","setFromMatrixColumn","minZoom","maxZoom","WARNING: MapControls.js encountered an unknown camera type - dolly/zoom disabled.","rotateSpeed","WARNING: OrbitControls.js encountered an unknown camera type.","deltaY","BOTTOM","ROTATE","ROTATE_UP","ROTATE_LEFT","DOLLY","PAN","DOLLY_ROTATE","EventDispatcher","THREE.MapControls: .center has been renamed to .target","THREE.MapControls: .noZoom has been deprecated. Use .enableZoom instead.","THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead.","THREE.MapControls: .noPan has been deprecated. Use .enablePan instead.","enableKeys","THREE.MapControls: .staticMoving has been deprecated. Use .enableDamping instead.","THREE.MapControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.","view","flyTo","moveSpeed","ESDirection","_cameraSphericalRadius","NORTH","SOUTH","WAST","NORTH_EAST","NORTH_WEST","SOUTH_EAST","SOUTH_WEST","p2pFlyFocusTo","cameraPosition","targetPos","toggleControlsLock","rotateAround","checkScaleLevel","BuildingService","TileService","singleMeshData","ESResourcePool","modelLoadingList","modelInited","modelLoadings","singleMesheDatas","filterSingleMesh","ModelLod","pendingBuildingId","setState","_isBuildingLoading","addToSingleMeshData","RMS","RMR","CenX","CenY","RMO","rotate","opc","queryData","DefaultFnum","firstFloorNum","undergroundOffset","queryBuildingTheme","themeLoaded","setBuildingThemeData","Type","DefaultCenX","DefaultCenY","_analyseLoad","_convertIndoorFullData","focusFloor","visibleFloors","focusMode","floornum","visibleFloorNums","asyncLoadFloors","loadComplete","ESMapLogo","pending","startTime","expiresIn","IDBTryInit","ESCACHEV2","clearAll","IDBåå§åå¤±è´¥,ä¸ä½¿ç¨ç¼å­","tryClearOldVersions","tryClearOutdated","useCache","updateCacheMap","setCacheObject","transaction","cacheObjects","readwrite","objectStore","put","save cacheObjects error","onsuccess","result","canUseCache","updatetime","indexedDB","deleteDatabase","ESCACHE","inActiveCacheMaps","mapIdx","openCursor","only","cacheMaps","active","clearOutDated","Error deleting database ESCACHEV2","ESBIM","reInit","onupgradeneeded","objectStoreNames","deleteObjectStore","createObjectStore","mapid","errorCode","IDBInit Error","roomTexturePool","imgs","loadRecords","parseFromString","svg404","text/xml","data:image/svg+xml;base64,","img404","failed","prefetchTexture","syncGetTextureByUrl",'<svg t="1715340874151" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="34248" width="32" height="32"><path d="M423.128 711.528v-53.8H313.704v-44.864l115.992-169.792h43.04v169.608h33.192v45.048h-33.192v53.8h-49.608z m0-98.84V521.32l-61.456 91.368h61.456zM616.992 443.08c25.888 0 46.144 9.24 60.728 27.72 17.384 21.88 26.08 58.176 26.08 108.88 0 50.576-8.752 86.928-26.256 109.056-14.472 18.232-34.656 27.36-60.544 27.36-26.024 0-46.992-10-62.92-30s-23.888-55.656-23.888-106.96c0-50.336 8.76-86.568 26.264-108.696 14.448-18.24 34.64-27.36 60.536-27.36z m0 42.496c-6.2 0-11.736 1.976-16.6 5.928-4.856 3.952-8.632 11.032-11.304 21.248-3.528 13.256-5.288 35.56-5.288 66.936 0 31.368 1.576 52.912 4.744 64.648s7.144 19.544 11.944 23.44 10.304 5.832 16.504 5.832a25.6 25.6 0 0 0 16.592-5.928c4.856-3.952 8.632-11.032 11.304-21.248 3.52-13.128 5.288-35.376 5.288-66.744 0-31.376-1.576-52.92-4.744-64.656-3.168-11.736-7.144-19.576-11.944-23.528a25.232 25.232 0 0 0-16.496-5.928zM838.568 711.528v-53.8H729.152v-44.864l115.992-169.792h43.04v169.608h33.184v45.048h-33.184v53.8h-49.616z m0-98.84V521.32l-61.464 91.368h61.464z" p-id="34249" fill="#dbdbdb"></path><path d="M893.84 198.04H135.936v624.808h216.776v-46.952H183.904V245h661.984v103.808h47.952V198.04z" p-id="34250" fill="#dbdbdb"></path></svg>',"X2BBXGk=","dropList","areas","needNewTileByRoutes","counters","roadGrids","navLoaded","buildingIDs","buildingLoadingCount","initialViewLen","initialTiles","_isrd","bXRpbWU=","SGFzaA==","bzE=","bzI=","dWw=","dG9rZW4=","dGlsZXRva2Vu","buildingReady","showBuildingMode","setPlanish","SINGLE","enter","maximumBuildings","%clocation marker inside this building:","color:rgb(255,180,0);","exit","debugTileBounds","-BOUNDS","planishValue","plannished","SETCOORDSYSTEM","_gp","getBuildingColorStaged","convertGeo2Geometry_","modelManagerStarted","forceLoadSecond","Ajax","lic","timestamp","queryLic","INVALID_TYPE","%cThe "," map uses the WGS84 coordinate system. ",",updated on ","color: #3399FF;font-weight: bold;font-size: 14px;","INVALID_OFFLICENSE","env","development","_o1","_mo","_isemv","_isemvmn","ESRemark","TOKEN_MISS","ESTileurl","__maptk","userCenter","updateCityScene","initTapTip","effectId","vhosts","isInitTileMap","<div> <span id=",">esmap</span> </div>","4px 11px","borderRadius","4px","span","es-control-popmarker-top","absolute","9px","#52564b",") transparent transparent","-16px","all 0.2s ease","userSelect","mapClickNode","showTapTip","group","RoomElevation","RoomHigh","queryNavs","ESTileMapNavSet","Lines","bstair","Nodes","transformTileNavdata","routeDataLoaded","failedTiles","tilePreLoad","ESTileMapSet","setMapTheme","queryTileTheme","ä¸»é¢æä»¶è¯·æ±éè¯¯: ","getNearestValidTile","getContainerExtent","tileSize","showBounds","mypoly","addMarker","getTileNumbers","isValidTile","ESTileToken","0,0,0","__ro","__trl","invalid tileType","ESBuildingType","queryTileScene","__bo","getTileScene","checkInitials","Rooms","buildingScale","counter","topTextureType","sideTextureType","scaleheight","Outline","__singlemesh","RLSize","Fnum","GID","åå«singleMeshï¼ä½æ¯qualityæ²¡æè®¾ç½®ä¸ºlow","RModel","roadDatas","maxV","transformNavData","getQueryUrl","/eslic/lic!getlic.action?cids=","&v=","getTileThemeUrl","setBidList","tryFetchBoundary","/boundary.json","_originBidList","grids1","grids2","citycode","tileMapView","tileLayer","frozen","æªç»å®","beforeOpenBuilding","buildingThemeId","buildingsFirstFloorNum","dataCenter","buildingLoading","preLoadBuilding","loadBuilding","BUILDING","navs","buildingRouteDataLoaded","originHeight_","loadedList","toggleTilesLayer","toggleTileLayer","visibleBuildingsChanged","tilesHidden","failedNavs","tileUrl","tileInitComplete","routeLoaded","tileInited","NCISKQ","toLoadedCount","autoLoad","concurrencyLimit","mergeQueue","mergeQueueWaiting","requisitesQueue","mapModelLoadStatus","userModelLoadStatus","lasViewCenter","hiddenFactor","maxShowModels","mapDispose","mapModelsCount","modelPrefetched","checkMergeQueByShowLevel","setDRACOLoader","setFrustum","addMapModel","__nomerge","rankRequisites","addUserModel","checkO1","ES3DMARKERNUM_ERR","userMergeQueue","layerid","applyToMap","applyRequisitToMap","startLoadModelsByShowLevel","iswall","disableIndoorClick","toLoaded","modelLoadComplete","startLoadModelsByFLoor","loadExist","invisibleMergeModels","marker3d","sizeInfo","applyMergeToMap","loadUserMergeModel","checkIfNeedLoad","queueRanked","modelrank","keepalive","scaleLevel_","ind","rankAllModels","rankSingModel","ignoreKeyNameList","animNames","SkinnedMesh","_ef_$floor","floorObj","__ignore_box","_ef_$fl-id-","floorLabel","_ef_$fl-group","marker","callbackparams","isWall","traverseTarget","lod.gltf","wallModelPrefetch","brief","find","èªå®ä¹å¨ç» "," ä¸å­å¨","setAlpha2","wallmodel_prefetch","ignoreModelList","__singlemesh.gltf","model3DsRGBCity","isMaterial","$basic","LinearEncoding","needDepth","checkLoadedAllByList","modelPrefetchFailed","æ¨¡åå è½½å¤±è´¥:","buffererror","setMatAlpha","cityModelLoadFlag","baseLayers","_lodRecords","modelImageLoader","appendAttribute","planeData","isPickable","tileMaterial","water","selectMatIndex","TextureType","loadTiles","layerType","pointGeometrys","modelLayer","model3data","model3DData","255,255,255","borderwidth","lineTheme","groupIndex","lineIndex","handlePlanes","lastGeoCount","usedRoomStyles","vertices","normals","topFaceFlags","buildingsHeight","buildingsRandomFactor","buildingsColorAttr","highLightColorAttr","rUvs","rUv","randomFactor","sideTexIndex","defaultMaterial","prodMatIdx","modelImagesData","modelImageGroupsCopy","modelImageIndex","modelImagePos","modelImageUv","modelImageHideFlags","setParent","modelImageGroups","loadModelandImage","loadModel","viewRank","viewrank","disposeInvisible","rmodellayer","roomdata","MODEL_LINE","modelLines","strokewidth","cname","emptyObject","encode","fork","RoomSet","ldelim","len","skip","POISet","verify","cname: string expected","Type: integer expected","maxX: number expected","maxY: number expected","Rooms: object expected","key32Re","Rooms: integer key{k:int32} expected","Labels: object expected","Labels: integer key{k:int32} expected","t1: string expected",".ESTileMap.ESTileMapSet.Rooms: object expected",".ESTileMap.ESTileMapSet.Labels: object expected","defaults","PID","bidox","bidor","bidstyle","bidrids","bidpids","layer","bidoy","bidoz","Did","NA: string expected","NE: string expected","MC: integer expected","Tid: integer expected","RLSize: string expected","BC: integer expected","FH: number expected","RM: string expected","RMS: string expected","RMR: string expected","RMO: string expected","RS: integer expected","CenY: number expected","PID: integer expected","GID: integer expected","bids: string expected","bidox: number expected","bidoy: number expected","bidor: number expected","bidstyle: string expected","bidrids: string expected","bidpids: string expected","Did: string expected","FSId","MT: integer expected","ST: integer expected","X: number expected","Y: number expected","SL: integer expected","SH: number expected","image: string expected","ipos: integer expected","layer: integer expected","Sid: integer expected","NavNodeSet","NavLineSet","Nodes: object expected","Nodes: integer key{k:int32} expected","Nodes.","Lines: integer key{k:int32} expected","Lines.","o2: integer expected",".ESTileMap.ESTileMapNavSet.Nodes: object expected",".ESTileMap.ESTileMapNavSet.Lines: object expected","sid","H: number expected","sid: integer expected","gid: integer expected","na: string expected","eid: integer expected","outline: string expected","rank: integer expected","dir: string expected","bstair: integer expected","style: integer expected","buildingOffsets","mapOptions","buildingFilters","ESMapSet","b3RoZXIx","nKST","checkBuildingFilter","strategy","getOutLineList","tempFlipX_","queryFloor","_convertFloorFromSourceData","minV","convertShowLevel","_initDistance","_buildingCoordToThree","_buildingCoordToMap","_convertToSceneFloor","convertIndoorGeo2Geometry_","_allRoomList","isTube","RColor","originalPoints","originalHoles","FsId","getLangItemFromJson","Brief","imagelogo","texturekey","randomTexture","textureInfo","noTexture","/imagelabel/","imagealign","Facility","imageAlign","Lifts","parseIndoorGeo","_box3","_scaleLevels","ScaleLevel","defaultFloornum","VIEW_MODE2D_ALLFNUM","mapFloorSpan","floornumtext","HeightSpan","FloorHigh",".json",".theme","jsonLib","oab","oac","_oav","VERS_ERR","EXPIRED","_cl","logo","_uo","o_d","o_t",", version: ","o_dm","navBrand","ROOMLOGO","FLOORBASE","address","BuildingHigh","Tel","FirstRotateAngleX","FirstRotateAngleZ","DefaultCenZ","panos","maptime","FirstRotateAngleY","FloorBarName","FloorSet","PicSet","NavSet","version: integer expected","maptime: integer expected","Brief: string expected","AS: number expected","BuildingHigh: number expected","FirstRotateAngleX: number expected","FirstRotateAngleZ: number expected","Firstscale: number expected","DefaultFnum: integer expected","DefaultCenY: number expected","z: number expected","minX: number expected","minY: number expected","FloorBarName: string expected","FloorHigh: integer expected","floors.","navs: array expected","panos: array expected","panos.","bid: string expected",".ESMap.ESMapSet.navs: array expected",".ESMap.ESMapSet.panos: array expected",".ESMap.ESMapSet.panos: object expected","arrays","imagesize","Alias","LiftSet","floornum: integer expected","floornumtext: integer expected","NameEn: string expected","Height: integer expected","Outline: string expected","Facility: object expected","Facility: integer key{k:int32} expected","Labels.","Lifts: integer key{k:int32} expected","Lifts.","imagesize: string expected",".ESMap.FloorSet.Rooms: object expected",".ESMap.FloorSet.Facility: object expected",".ESMap.FloorSet.Labels: object expected",".ESMap.FloorSet.Lifts: object expected","PointID","ShopID","RL: string expected","CenX: number expected","PointID: integer expected","ShopID: integer expected","FS: integer expected","FC: string expected","w: number expected","h: number expected","FSId: integer expected","F1: integer expected","F2: integer expected","LT: integer expected","LM: string expected","LS: string expected","LR: string expected","X1: number expected","Y1: number expected","Y2: number expected","Lines: object expected",".ESMap.NavSet.Nodes: object expected",".ESMap.NavSet.Lines: object expected","rid","tid: integer expected","rid: integer expected","efnum","efnum: integer expected","length: number expected","direction: string expected","bstair: string expected","Infos","serverurl","bgaudioplay","picscale","msgscale","bgaudio","PicClickSet","PicNodeSet","serverurl: string expected","bgaudio: string expected","picscale: string expected","msgscale: string expected","Infos: object expected","Infos: integer key{k:int32} expected","Infos.",".ESMap.PicSet.Nodes: object expected",".ESMap.PicSet.Infos: object expected","base","idlist1","emptyArray","idlist2","url: string expected","base: integer expected","idlist1: array expected","idlist1: integer[] expected","idlist2: array expected",".ESMap.PicNodeSet.idlist1: array expected",".ESMap.PicNodeSet.idlist2: array expected","aurl","msgc","curl","csize","purl","msgt","purl: string expected","aurl: string expected","msgt: string expected","msgc: string expected","curl: string expected","csize: string expected","ESMAP()*&<GoodWork","keyBytes","å¯¼èªç»æ","å³å°å°è¾¾ç®çå°","å³åè½¬","å·¦åè½¬","å³åæ¹ç´è¡","å°è¾¾ç®çå°","å·²éæ°è§åè·¯çº¿","å³è½¬åå·¦è½¬","å·¦è½¬åå·¦è½¬","æ­¥è¡å¯¼èªå¼å§","è¿å¥å®¤å¤","ç®çå°å¨éè·¯å·¦ä¾§","ç®çå°å¨éè·¯å³ä¾§","è¯·åé","stringtoChar","applyToNavLib","applyToGeneralLib","queryJsonData",".ESLang.json","getWordFromJsonLib","caches","waitings","distanceToPoint","targetLod","applyLod","1.0","sound","configStrLength","canInterrupt","isLoaded","isPlaying","playIndex","playLength","sprite","spriteArray","loadFile","loadSoundArrayBuffer","dataBytes","getExtentUint8Array","ab2str","audioGroupMapData","extentIndex","Howl","loaderror","playSoundByName","startNaving","playAudioByText","startCarNaving","è½¦å½¢å¯¼èªå¼å§","deviationNaving","æ¨å¯è½å·²ç»åç¦»å¯¼èªè·¯çº¿","_testEachKey","absoulte","margin","distory","unload","playSprites","rate","num2text","decodeUnicode","audioGroupSound","endHandler","100","audio load error","loadProgress","progressComplete","isShowSingleBasement","init_","Unknown Object,skipping","clickOpenBuildings","bimLoader","bimInfoLib","getInfo","infoList","diableClickEffect","isBim","%clogModelInfo:","pickLineWidth","pickAlpha","LABEL","toFixedNumXYZ","hitCoord","pickerNone_","worldCoord","mapKeepPress","ZXNtYXBzem5vbG9nbw==","c3p5ag==","_fxl","_cm","updateBuildingScene","updateBuildingView","buildingUpdated","themeLoadError","_sccd","unsetScaleLevel","finish","composerOrtho","originSize","addPass","CopyShader","renderOrtho","reSize","themeList","materialList","defaultTheme_","modelOpacity_","floorOpacity_","model3DsRGB","defaultLabelStyle","rgba(0, 0, 0, 1.0)","selectedLabelStyle","12.0","fontStyleThemeDic","textureList","lineTexture","userBgImg","MeshLambertMaterial","selectedColor_","createMaterial_","#00BFFF","#777777","#888888","#000000","removeLight","light "," not exist","createLight","setLights","setLightProperties","updateThemeStyle","initPoiMateriaByData","existflooridmap","updateTileStylesByData","maptheme","sideimage","ä¸»é¢æä»¶éè¯¯,è´´å¾æ ·å¼","è³å°åå«ä¸ç§çº¹çå¾ç!","/building/","topimagerepeat","topimage","topimagetype","/upload/building/","sideimagetype","roomTex","initPoiStylesByData","cloneByPropertiesMap","fontsize","imageShadowBlur","assignExceptUndefined","initTileStylesByData","bordercolor","sideimagerepeat","tileTextures","tileTexturesReady","texSide","matIndex","basic","tileStylesMap","setNavDirectRoadStyle","singleStyle","createRoadStyle","doubleStyle","singleStyle & doubleStyle must be set","initRoadStylesByData","customImage","/line/","/upload/","layerstyle","clearcolor","Poi","Light","Effect","isUseEffectLights","_useThemeLight","setThemeList","ALIASED_LINE_WIDTH_RANGE","poiStyle","mapstyle","cleartransparent","fontStyle","defaultFontStyle","color_","strokeColor_","roomStyle","floorstyle","floorColor_","floorStyleBase",".png","fontstyle","imageScale","selected","fixAlpha","\n                #include <uv_vertex>\n\n                hideFlag = isHideFlags;\n                ","emissivecolor","iTime","targetCol","\n                uniform float opacity;\n                uniform float iTime;\n                uniform bool isFlash;\n                uniform vec3 targetCol;\n                ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(isFlash) {\n                    resultColor.rgb = mix(resultColor.rgb, targetCol, (0.5 + sin(iTime) * 0.5));\n                }\n                gl_FragColor = resultColor;\n                ","getModelTheme","getFontTheme","getModelMaterial","/buildingImagelabel/","/EsmapTileOffData/","/EsmapTileData/","buildings/","themeChanged","model3DSelectedColor_","rects_","collision_","flashDelayId","flashId","flashId1","flashId2","enabledUpdateSize","originPosition","showLevel_","_lastScale","spritify_","Label Error","meterperpixel","notAddImageHeight","UserPOI","Model3D","UserLabel","unspritify_","getPerspectiveScale","originalY","_checkMarker","_rotateID","_isFading","_fadeID","out","NEAR","scaleRatio_","meterperpixel_","oriEmissive","oriEmissiveIntensity","oriColor","changedColors","asyncWaitTime","modelLoader","initBase","o3dScene_","tiles","calcInitCamera","labelCollideScale","requireCollide_","updateCollide","getBuildingScene","collideLabel_","mapplane","updateScene","disableViewCenter","controlsReseted","_vk","expireTime","dom","defaultLight","defaultLightConfig","udoffset","Outdoor","meta_","modelWorker","floorEdge","offsets","modelbaselayer","addTask","handleFloors","floorBaseLayers","esWorker","modelImages","model3Ds","workers","workerStatus","postCount","receiveCount","hardwareConcurrency","createWorker","message","bimMerged","onMessage","isTile","loadFloors","checkTstank","checkWorker","tsTank","postMessage","closeAll","calcSceneBox3","POSITIVE_INFINITY","NEGATIVE_INFINITY","mapPicker_","enableMapPan_","enableMapRotate_","enableMapIncline_","enableMapPinch_","enableMapSingleTap_","enableCompassTap_","enableMapRotate","enableGestureRotate","enableCompassTap","enableMapTilt","enableMapSingleTap","Error","translate","ELEMENT","o3d","params","normalMaterial","useFadeIn","updateEventId","fixedSizeUpdated","_firstInited","_configs","glowConifg","isGlow","createGlowMaskTexture","ActiveSprite","activeSprite_","glowPlaneObj","createPlaneMaterial","getDefault","_os","setSizeAnimId","_oc","disposeCtx","activeColor","aoTexture","isOnlyGlow","\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                ","gl_Position = projectionMatrix * mvPosition;","\n                gl_Position = projectionMatrix * mvPosition;\n\n                nvUv = uv;\n                ","\n                    #include <uv_vertex>\n                    nvUv = uv;\n                    ","\n                uniform float opacity;\n                uniform float iTime;\n                uniform vec3 activeColor;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                ","\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                float x = (0.5 - nvUv.x);\n                float y = (0.5 - nvUv.y);\n                vec2 cUv = vec2(x, y);\n                vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                vec3 col = vec3(0);\n                float d = 1.0 - (dot(cUv, cUv));\n                d += iTime / 3.;\n                d *= 3.;\n                vec3 colors = activeColor;\n                resultColor.a *= aoTexColor.a;\n                float m = fract(d);\n                m = 2.0 * (m - 0.5);\n                m = 1.0 - abs(m);\n                m = smoothstep(0.0, 1.0, m);\n                resultColor.a *= m;\n                col += (colors * m);\n                col.rgb *= 1.5;\n                vec4 rCol = vec4( col.rgb,  resultColor.a );\n                gl_FragColor = rCol;\n\n                ","createSprite","sizeAttenuation","createRadialGradient","CanvasTexture","imagespace","/buildingImagelabel","/imagelabel","LOCATION_MARKER","../image/user.png","size_","spritify","fixedAngle_","arrowSize_","arrowSize","arrowColor_","arrowColor","#50C1E9","arrowOffset_","arrowOffset","seeThrough_","clip_","arrow_","mapLoaded","_update_","_update","showBound","initRadius","FULL","zOffset","_cityLocMarkers","_insureUserCoordInbounds","getPosition","setUrl","fixedAngle","initArrow","isNumber","createArrow","arrowGroup","rectangle","FontSide","onError","createPlaneGeometry","lineStyle","_createLine","setImage","createBox","imageRepeat","imageAngle","getExtentByPoints","processsedUv","å¤è¾¹å½¢çæéè¯¯ï¼è¯·æ£æ¥æ°æ®","faceVertexUvs","groupsNeedUpdate","initHeatMap","getMaterial","originalMaterial","randomHeatPoints","randomPoints","clearHeatPoints","clearPoints","clearHeatMap","updateHeatMap","addHeatPoints","addHeatPoint","updateLine","_createPoints","_normalizePoints","rotateX","updatePoints","polygonMarker: points length must be greater than 3","polygonMarker: error","isClockwise","contain","matInfos","heatMapTool","interpolateColor","getIntensityFromColor","useGradientAlpha","rgb(0,255,255)","rgb(0,255,0)","yellow","putImageData","heatMapMaterial","getTexture","imageMarker","_size","ESImageMarker: angleå·²åºå¼ãè¯·ä½¿ç¨å¡çæ æ³¨ESCardMarker","viewRadius","onLevel","hooks","imageStyle","imageSize","opacityFix","toggleLayers","toggleFloorBase","getFirstLayer","removeLayer","removeLayersByTypes","removeLayersByNames","applyHeatMap","removeHeatMap","offsetAnimation","Quartic","floorDesc","floorHeight","floorName","isInit","spanScale","CARD_MARKER","card","removeMarker","toggleMarkerByFloors","setMarkerVisible","toggleMarker","checkMarkerVisible","getFloorState","floorSpanOffset","_originFloorHeight","_floorState","allFloorHeightChangeComplete","Only ESLayer acceptable!","storeImage","STORE_IMAGE","modelLine","webViewMarker","BOARD_MARKER","traverse_","FLOOR_BASE","setRenderOrder","checkType","loadManger","load3dmarker","è¯·æ·»å å¾å±å¯¹åºçmarker!","_init_","loadMergeModels","clickable","checkViewRadius","setViewRadius","è¯·ä½¿ç¨å¾å±ç±»åå¯¹åºçæ æ³¨ï¼","loadqueue","Map_CONTROL_NORMAL","Map_CONTROL_SMALL","allLayer","imgURL","expandSpan","_fControlInstance","timer2","tapedPos","isTapping","tapCount","triggerSkip","updated","#252c41","#1F6ED4","scrollMode","showBtnCount","disposed","expanded","expandIcon","shrinkIcon","inline-block","showshowBtnCount","buttonSize","unset"," .floor-scroller.smooth{\n                        -webkit-transition: -webkit-transform .5s ease;\n                        transition: -webkit-transform .5s ease;\n                        transition: transform .5s ease;\n                        transition: transform .5s ease,-webkit-transform .5s ease;\n                    }\n                    "," .layersToggle , ."," .viewModeToggle , ."," .controlWrapper{\n                        background-color: ",";\n                        border-radius:","textColor","\n                     .",";\n                    }\n                    ","toggleColor"," .layer , ."," .layers, ."," .view2d, ."," .view3d, ."," .exit{\n                        fill: ",";\n                    }","focusBgColor","focusTextColor","\n                    ."," .floor-item.active .floor-item-devide{\n                        background-color: ",";\n                        color:","marginBottom","px;\n                    }\n                    ","textSize","styleHash","styleSheet","deleteRule","updateBtnCount","$controlWrapper","$box","createExpandBtn","$expands","8px","isLayoutRow","cursor","pointer","layersToggle","flexDirection","column","view2d","iconShrink","view3d","toggleExpanded","$expandToggle","beforeToggleExpand","updateFloorSpan","icon2d",'<svg t="1635142140694" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5371" width="100%" height="100%"><path d="M342.7 536.6c-30.6 21.9-50.1 42.6-58.3 62.1-8.5 17.4-13 36.6-13.6 57.7h201v-50.8H343.7c3.6-6.1 8.1-11.4 13.5-16 5.3-4.6 15.2-12 29.7-22.3l23.1-16.4c19.5-13.8 33.5-26.2 42-37.4 13-16.9 19.5-36.2 19.5-57.9 0-28.3-9.2-51.1-27.6-68.3-18.4-17.2-43.1-25.8-74.2-25.8-39.3 0-66.7 14.6-82.1 43.9-8.1 15.4-12.6 35.6-13.6 60.5h56.1c0.7-16.5 2.8-28.5 6.5-36 6.3-13.1 18.3-19.6 35.8-19.6 12.8 0 22.7 4.1 29.6 12.3 6.9 8.2 10.3 18.6 10.3 31 0 15.2-6 29.3-18 42.1-7.8 8.2-25 21.8-51.6 40.9zM343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7zM695.4 399.8c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.5 118h-0.2c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5372"></path></svg>','<svg t="1635142241861" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5764" width="100%" height="100%"><path d="M343.5 863.4c-121.6-57.7-208.9-176-222.1-316H65.5c19 229.4 210.8 409.6 445 409.6 8.4 0 16.4-0.7 24.6-1.3l-141.9-142-49.7 49.7z m33.1-243c-7.1 0-13.6-0.9-19.6-3.2-5.8-2-10.8-5-14.9-8.8-4.1-3.7-7.3-8.4-9.5-13.6-2.2-5.4-3.4-11.2-3.4-17.5h-48.4c0 13.4 2.6 25.1 7.8 35.4 5.2 10.2 12.1 18.8 20.9 25.5 8.8 6.9 18.8 11.9 30.3 15.5 11.5 3.7 23.5 5.4 36.1 5.4 13.8 0 26.6-1.9 38.5-5.6 11.9-3.7 22.2-9.3 30.9-16.6 8.8-7.3 15.5-16.2 20.5-26.8 4.8-10.6 7.4-22.7 7.4-36.3 0-7.3-0.9-14.2-2.6-20.9-1.9-6.7-4.7-13-8.4-19-3.9-6-8.9-11.2-15.1-16-6.9-5-14.5-9-22.5-11.7 7.4-3.4 14-7.4 19.6-12.3 5.6-4.8 10.2-10.1 14-15.5 3.7-5.6 6.5-11.2 8.4-17.1 1.9-6 2.8-11.9 2.8-17.7 0-13.6-2.2-25.5-6.7-35.7-4.5-10.2-10.8-18.8-19-25.7-8.2-6.9-17.9-12.1-29.4-15.6-12.4-3.7-25.4-5.6-38.4-5.4-13.4 0-25.9 2-37.2 6-11.4 3.9-21 9.5-29.2 16.6-8.2 7.1-14.5 15.5-19.2 25.1-4.7 9.7-6.9 20.3-6.9 31.7h48.4c0-6.3 1.1-11.9 3.4-16.8 2.2-5 5.4-9.3 9.3-12.7 3.9-3.5 8.8-6.3 14.2-8.2 5.4-1.9 11.4-3 17.7-3 14.9 0 25.9 3.9 33.1 11.5 7.3 7.6 10.8 18.4 10.8 32.2 0 6.7-0.9 12.7-3 18.1-2 5.4-5 10.1-9.1 14-4.1 3.9-9.3 6.9-15.3 9.1-6.1 2.2-13.4 3.4-21.6 3.4h-28.7v38.2h28.7c8.2 0 15.6 0.9 22.2 2.8s12.1 4.7 16.8 8.8c4.7 3.9 8.2 8.9 10.8 14.9 2.4 6 3.7 13 3.7 21.2 0 15.1-4.3 26.6-13 34.6-8.4 7.8-20.1 11.7-35.2 11.7z m318.8-220.6c-11.9-12.4-26.3-22.1-42.3-28.5-16.6-6.7-34.6-10.1-54.6-10.1h-88.1v297.9H596c20.7 0 39.3-3.4 56.2-10.1 16.9-6.7 31.3-16.2 43.2-28.5 11.9-12.3 21.2-27.2 27.6-44.5 6.5-17.3 9.7-36.9 9.7-58.5v-14.7c0-21.6-3.4-41-9.9-58.5-6.6-17.4-15.7-32.3-27.4-44.5z m-14.7 118c0 15.5-1.7 29.6-5.4 41.9-3.5 12.5-8.8 22.9-15.8 31.5-7.1 8.6-15.8 15.1-26.4 19.7-10.6 4.5-22.9 6.9-37.1 6.9h-33.7V402.9h36.3c26.8 0 47.1 8.6 61.3 25.5 14 17.1 21 41.7 21 74.1v15.3h-0.2zM510.5 63.3c-8.4 0-16.4 0.7-24.6 1.3l141.9 142.1 49.5-49.5C799.1 214.7 886.4 333 899.6 473h55.9c-19-229.5-210.8-409.7-445-409.7z" p-id="5765"></path></svg>',"iconLayer",'<svg t="1635142718292" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21259" width="100%" height="100%"><path d="M1024 512c0-23.68-13.44-43.52-32.64-54.4l0.64-0.64-448-256-0.64 0.64C533.76 195.84 523.52 192 512 192s-21.76 3.84-31.36 9.6l-0.64-1.28-448 256 0.64 0.64C13.44 468.48 0 488.32 0 512s13.44 43.52 32.64 54.4l-0.64 0.64 448 256 0.64-0.64c9.6 5.76 19.84 9.6 31.36 9.6s21.76-3.84 31.36-9.6l0.64 0.64 448-256-0.64-0.64c19.2-10.88 32.64-30.72 32.64-54.4z" p-id="21260" ></path></svg>','<svg t="1635143998255" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21667" width="100%" height="100%"><path d="M954.66666687 368l-426.66666656 170.66666625c-10.66666687 5.33333344-26.66666625 5.33333344-37.33333406 0L69.33333313 368C37.33333344 351.99999969 37.33333344 303.99999969 69.33333313 288.00000031l421.33333312-176.00000062c10.66666687-5.33333344 26.66666625-5.33333344 37.33333406 0l421.33333313 176.00000062c37.33333312 16.00000031 37.33333312 64.00000031 5.33333343 79.99999969zM938.66666656 730.66666625l-410.66666625 176.00000063s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-176.00000063c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 816.00000031l405.33333375-170.66666719s10.66666687-5.33333344 15.99999937-5.33333343c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21668"></path><path d="M938.66666656 560l-410.66666625 175.99999969s-10.66666687 5.33333344-16.00000031 5.33333343-16.00000031-5.33333344-16.00000031-5.33333343l-426.66666657-175.99999969c-16.00000031-5.33333344-26.66666625-21.33333375-26.66666624-42.66666656 0-26.66666625 21.33333375-48 48-48 5.33333344 0 16.00000031 5.33333344 15.99999937 5.33333344L512 645.33333312l405.33333375-170.66666624s10.66666687-5.33333344 15.99999937-5.33333344c26.66666625 0 48 21.33333375 48 48-5.33333344 21.33333375-16.00000031 31.99999969-42.66666656 42.66666656z" p-id="21669"></path></svg>',"iconArrow",'<svg t="1639103281020" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="21930" width="32" height="32"><path d="M127.4 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l315-315L80.1 195.5c-16.8-16.8-23.4-41.3-17.2-64.3 6.2-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L535.7 463c26 26 26 68.1 0 94.1L174.1 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21931"></path><path d="M527.7 938.7c-17.3 0-34-6.7-47.4-19.3-12.5-12.5-19.5-29.4-19.5-47s7-34.6 19.5-47l314.9-314.9-314.8-315c-16.8-16.8-23.4-41.3-17.2-64.3 6.1-23 24.1-40.9 47-47 23-6.2 47.4 0.4 64.3 17.2L936 463c26 26 26 68.1 0 94.1L574.4 918.7c-12.7 13.3-29.3 20-46.7 20z m0 0" p-id="21932"></path></svg>','<svg t="1655692108337" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2145" width="100%" height="100%"><path d="M1024 0 1024 384 885.728 245.728 673.728 457.728 566.272 350.272 778.272 138.272 640 0ZM245.728 138.272 457.728 350.272 350.272 457.728 138.272 245.728 0 384 0 0 384 0ZM885.728 778.272 1024 640 1024 1024 640 1024 778.272 885.728 566.272 673.728 673.728 566.272ZM457.728 673.728 245.728 885.728 384 1024 0 1024 0 640 138.272 778.272 350.272 566.272Z" p-id="2146"></path></svg>','<svg t="1655692195637" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3054" width="100%" height="100%"><path d="M576 448l416 0-160-160 192-192-96-96-192 192-160-160z" p-id="3055"></path><path d="M576 576l0 416 160-160 192 192 96-96-192-192 160-160z" p-id="3056"></path><path d="M448 576l-416 0 160 160-192 192 96 96 192-192 160 160z" p-id="3057"></path><path d="M448 448l0-416-160 160-192-192-96 96 192 192-160 160z" p-id="3058"></path></svg>',"iconExit",'<svg t="1657681674199" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9284" width="100%" height="100%"><path d="M768 640l0-128-320 0 0-128 320 0 0-128 192 192zM704 576l0 256-320 0 0 192-384-192 0-832 704 0 0 320-64 0 0-256-512 0 256 128 0 576 256 0 0-192z" p-id="9285"></path></svg>',"text/css","\n        ."," .controlWrapper{\n            background-color: ","px;\n            box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n        }\n        ."," .floor-item .floor-item-devide{\n            color:"," .exit{\n            fill: ",";\n        }\n        ."," .floor-item.active .floor-item-devide{\n            background-color: ",";\n            color:"," .viewModeToggle{\n            margin-bottom:","px;\n        }\n        ."," .arrows {\n            fill:",";\n        }\n    ","querySelector","scale(","allFloorsState","iconLayers","$layersToggle","layersImage","layerImage","setAllFloorState","viewModeState","viewModeToggle","icon3d","toggleViewModeState","touchstart","viewModeBtn","fnumToggleBtn","expandBtn","exitBtn","createExitBtn","controlWrapper","alignItems","1111.11rem","-webkit-perspective","-webkit-tap-highlight-color","rgba(0,0,0,0)","tap-highlight-color","-webkit-box-align","$scroller","2px 0","transform-style","-webkit-transform-style","preserve-3d","angleStep","arrows","-webkit-transform","deg) translateZ(","rotateX(","-webkit-backface-visibility","rotate(90deg)","childNodes","40%","setTransformAngle","toggleTargetClass","currentTarget"," æ¾ä¸å°æ¥¼å±: ","floor-item","backfaceVisibility","-moz-backface-visibility","-ms-backface-visibility"," active","innerText","fontWeight","bolder","80%","whiteSpace","pre-wrap","-webkit-transition","floor-item-devide","rotate(-90deg)","$maxAngle","onmousewheel","onScroll","getElementsByClassName","toggleTargetClassByFnum","ontouchmove","ontouchend","reComputeHeight","onUpdated",".active","$exitBtn","setViewModeState","setMapViewMode","SINGLE_FLOOR","wheelDelta","taped","onmouseup","getActiveAngle","deg)","getCurrentAngle","tapedAngle","limitValue","checkPos","disableScrollFloorControl","scrollFloorNumChanged","_checkBuildingIsHaveLocMarker","padding_","positon_","top_","left_","defaultShadow_","defaultRadius_","2px","zoom-wrap","zoomin.png","zoom-out-btn","imgURL_","zoomout.png","hrEl","setPosition_","controlPositionListener",".zoom-wrap","container_","right_","1px","1px solid rgba(153, 153, 153, 0.45)","60%","0 20%","alpha(opacity=100, finishopacity=0, style=3)","scalelevel","down","keepRight","arriving","navidistance","navLayer","navMarker","navPic","image/start.png","image/end.png","_naviResult","locMoveTimer","navMode","timerDelta","naviDescriptions","allowPlayDis","crossedFnum","_isEnd_","moveTimer","lastNavCode","filterList","analysedData","curPathInfos","_toRot","_allLen","_preGid","_changeFnumIng","_animID","_animateFun","_rotateId","_crossBid","_crossFnum","_walkingCrossTime","routePlanner","appKey","setPreferCrosses","_createMarker","clearNaviLines","noMarker","setView","zoomLevelTo","toggleFollowMaxDistance","_originMaxDistance","setStartPoint","setEndPoint","reRoute","pointList","outcome","_getFloorsPoints","_naviDescriptions","drawNaviLine","_groupsPoints","_getCrossPoints","getNavNodeById","ladderType","getRouteResult","linkStartEnd","linkMinDistance","costDistance","getTransformedStartEnd","getAMapResult","driving","useAMap","AMAP","rawPointList","outDoorNaviDescriptions","combinePoints","navLine","lineObj","æ æ³å°è¾¾!è¯·éæ°éç¹","_trs","naviDescriptionsData","_transformResults","removeLocationMarker","clearMarkers","removeEndMarker","clearLocationMarker","_drawlineByResults","yScale","billboard","autoClearNaviLine","_drawLines","_linesVisible","isMultiPointsNav","_locMarkerToStartPoint","_moveTo","playAudio","audioPlay","_setNavCode","navCodeChanged","_computeCameraStateByDistance","fitView","fitViewStage1","fitviewStage1","constraint","computedRawLevel","fitViewStage2","fitViewStage3","maxEnd","getDesFromNavLib","audioPlayed","tipEnded","manModeTipStarted","tipDistance","manWalkedCount","carModeTipStarted","carModeTipEnded","endDirection","tipSlowDowned","carWalkedCount","over","navTip","routeCore","dataList","lineList","has","calcProjPoint","_walkingfunction","isCrossingFuti","crossFutiTime","ladderLen","_checkDeviated","deviateCount","reRouteLimit","reRouting","surDistance","remain","backcount","_gps","arrivalCount","parkDir","_updateLinePass","_broadcast","descriptionIndex","distanceToNext","segindex","å·²å°è¾¾ç®çå°éè¿","restoreState","instruction","bestView","bestViewMinDistance","isSimulating","_viewID","_scaleLevelToID","__moveToId","_preBid","_groupPointsIndex","_toPos","isNaving","clearInterval","realNaviClock","dis2next","audioCountDown","blockList","lastAngle","crossBuilding","passed","_onstartNavi","showMultiFloor","_finalVisibleFloors","_analyse","inTime","_needDrawLines_","isMultiFloors","startNavPrepare","_earthZoom","flyToFocus","lockViewMove","simulate","_anim","walkTo","_naviConstraint","naviinfoindex","nexfnum","disToNexBid","disToNexFnum","crossing","totalDisntance","balanceValue","toSubDis","distonex","nexbid","_getTransformByLength","_index","_getLadderType","curLadder","crossSchemes","carModeScheme","allLineMap","relAngle","combineAsset","relField","_boo","_tailLen"," å åå¾","crossBid","relDesc","absDesc","ç»§ç»­ç´è¡","å·¦åæ¹ç´è¡","è¿å¥ ","isNaviAnimating","changeTiltAngle","crossFloor","rotateTimer","followGap","endFloor","getLineInfo","_updateTileNavData","preprocessTileNav","updateNavData","æºæ°æ®ä¸å­å¨: ","startData","endData","naviTip","locationMarkerOptions","locationMarkerUrl","image/pointer.png","locationMarkerSize","locationMarkerSpritify","analyticRouteData","steps","splitLLStrToPoints","polyline","posList","computeDistance","requestAMapData","errcode","bicycling","route","checkStatus","transLLPointsToWorldPosPoints","getMapTypeData","walking","https://restapi.amap.com/v4/direction/bicycling","getNaviResult","getPointById","setSourceData","getNaviResultBetbuildings","preferCrosses","roomNodeMap","roomPolygons","nodeLinkMap","linkPointsId","preprocessMain","tileRouteDataLoaded","preprocess","computeCityLinePoints","allPointMap","nearbyLine","checkLinks","linkPoints","findIndex","queryRooms","isReload","assignToRoom","_getNearestGate","entry warning "," fnum:"," pid:","man mode schemes error","pointids","lineids","fnumPoints","crosses","manModeScheme","manModeAllScheme","preprocessComplete","getSource","å¯¼èªæ°æ®ä¸å­å¨","startFloorNum","getNearestNode","è¯·éæ°éç¹","queryRoutes","noEntryPoint","baseSceneId","getShortestPath","manhattenCost","hold","walkPath","isMulti","multiLinesUsed","walkLines","entries","èµ·ç¹ä¸ç»ç¹ä¸è½ç¸å","JudgeCostDistance","_compare","updateNewShortestPathList","isBuildingAccessable","deepClone","error!id: 9920587","getAllGates","getFloorNum","getLength","getPointList","_modelObj","walls","http","asyncGetWallModel","updateByPoints","useCrst","thickset","repeatset","computeCenters","æ°æ®éè¯¯ï¼è¯·æ£æ¥æ¯å¦æéå¤ç¹ id:","_oriModelObj","clickAnimation","ESModel3D","box","11px","Arial,sans-serif","rgb(0, 0, 0) -1px -1px 0px, rgb(0, 0, 0) -1px 0px 6px, rgb(0, 0, 0) 0px 0px 2px, rgb(0, 0, 0) 0px 1px 4px","textBox","#fff","-1px","7px","3px","6px","barBox","&nbsp;ç±³","&nbsp;å¬é","barBoxer","hideOnCreated","2px 2px 3px rgba(0,0,0, 0.3)","screenCoord_","screenCoord","updateAlign","bindMarker","mapCoord_","transformOrigin_","center bottom","translateStyle_","translateStyle","-50%, -100%","new esmap.ESPopMarker: idéå¤: ","IsScreenCoord","content_","borderStyle","1px solid rgba(0,0,0,.2)","borderColor","rgba(0,0,0,.2)","maxScale","updateSize_","_tryInit","drop","<div style='height:","px;'>","</div>","es-control-popmarker","defaultPadding_","border","borderStyle_","es-control-popmarker-bot","borderWidth","solid dashed dashed"," transparent transparent","-40px","-39px","10px","background","0 0 #eee","24px","webkitAppearance","onclick","bindCloseClick_","_inFloor","cssObject","inLevel","setVisible","bindchange","onVisibleCallBack","insertAdjacentHTML","beforeend","popMakerCreated","cssOnUpdate","getMapCoord_Z","closed","zonTempObj","focusFnum_","visibleFloorNums_","loadedFloorNums","floors_","thicks","animating_","originFloorHeights","entered","getFloorNumByName","listFloors","æªæ¾å°æ¥¼å±: ","floorBaseDatas","asyncLoadRoads","MAP_ROAD","isSelect","isHide","hideGroup","animatingId_","getO3dFloor","enteredStyle","buildingEnter","buildingExit","focusAnimateMode","putFloor","floorTempData","focusFloor_","focusAnimateTime","notMove","Circular","baseHigh","loadFloorBase","asyncBuidExtents","loadFloor","modelsCount","forEachFloor","theme_","addModel","updateFactor","loadRoad","asyncBuildPOIs","asyncBuildLabels","floorBases","poilayers","pois","loadLayerComplete","checkLoadedAll","labels","fontstyleid","callbackByFloor","floorLoaded","mapModelsLoadedAll","toggleModel3D","isMapLayer","floorNames","updateScrollFloorsControl","blured","buildingMergeModel3D","wasm"];!function(x,_){!function(_){for(;--_;)x.push(x.shift())}(++_)}(_0x291d,434);var _0x4962=function(x,_){return _0x291d[x-=0]};!function(x){function _(_){for(var t,n,r=_[0],s=_[1],o=_[2],l=0,f=[];l<r[_0x4962("0x0")];l++)n=r[l],i[n]&&f.push(i[n][0]),i[n]=0;for(t in s)Object[_0x4962("0x1")][_0x4962("0x2")].call(s,t)&&(x[t]=s[t]);for(c&&c(_);f[_0x4962("0x0")];)f.shift()();return a[_0x4962("0x3")].apply(a,o||[]),e()}function e(){for(var x,_=0;_<a[_0x4962("0x0")];_++){for(var e=a[_],t=!0,r=1;r<e[_0x4962("0x0")];r++){var s=e[r];0!==i[s]&&(t=!1)}t&&(a[_0x4962("0x4")](_--,1),x=n(n.s=e[0]))}return x}var t={},i={2:0},a=[];function n(_){if(t[_])return t[_][_0x4962("0x5")];var e=t[_]={i:_,l:!1,exports:{}};return x[_].call(e[_0x4962("0x5")],e,e[_0x4962("0x5")],n),e.l=!0,e.exports}n.m=x,n.c=t,n.d=function(x,_,e){n.o(x,_)||Object[_0x4962("0x6")](x,_,{enumerable:!0,get:e})},n.r=function(x){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object[_0x4962("0x6")](x,Symbol[_0x4962("0x7")],{value:_0x4962("0x8")}),Object[_0x4962("0x6")](x,"__esModule",{value:!0})},n.t=function(x,_){if(1&_&&(x=n(x)),8&_)return x;if(4&_&&typeof x===_0x4962("0x9")&&x&&x[_0x4962("0xa")])return x;var e=Object[_0x4962("0xb")](null);if(n.r(e),Object[_0x4962("0x6")](e,_0x4962("0xc"),{enumerable:!0,value:x}),2&_&&typeof x!=_0x4962("0xd"))for(var t in x)n.d(e,t,function(_){return x[_]}[_0x4962("0xe")](null,t));return e},n.n=function(x){var _=x&&x[_0x4962("0xa")]?function(){return x[_0x4962("0xc")]}:function(){return x};return n.d(_,"a",_),_},n.o=function(x,_){return Object[_0x4962("0x1")][_0x4962("0x2")][_0x4962("0xf")](x,_)},n.p=_0x4962("0x10");var r=window.ESJsonpModules=window[_0x4962("0x11")]||[],s=r.push.bind(r);r[_0x4962("0x3")]=_,r=r.slice();for(var o=0;o<r[_0x4962("0x0")];o++)_(r[o]);var c=s;a.push([159,1,4,0]),e()}(Array(19)[_0x4962("0x12")]([function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=r(e(6)),i=r(e(14)),a=r(e(33)),n=r(e(38));function r(x){return x&&x.__esModule?x:{default:x}}_[_0x4962("0x13")]=function(x,_,e){return x&&x[_0x4962("0x2")](_)?x[_]:e},_[_0x4962("0x14")]=function(x,_,e){for(var t,i=1;i<arguments[_0x4962("0x0")]-1;i++)if(void 0!==(t=x[arguments[i]]))return t;return arguments[arguments[_0x4962("0x0")]-1]},_[_0x4962("0x15")]=function(x){return(0,n[_0x4962("0xc")])(new(a[_0x4962("0xc")])(x))},_[_0x4962("0x16")]=function(x){var _=0;for(var e in x)x[_0x4962("0x2")](e)&&_++;return _},_[_0x4962("0x17")]=function(x){var _=this;(0,i[_0x4962("0xc")])(x)[_0x4962("0x20")]((function(e){null==_[e]&&(_[e]=x[e])}))},_[_0x4962("0x18")]=function(x,_){for(var e=0;e<x.length;e++)if(x[e]==_)return!0;return!1},_[_0x4962("0x19")]=function(x){var _=void 0===x?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x);return null!=x&&(_==_0x4962("0x9")||"function"==_)},_[_0x4962("0x1a")]=function(x,_){if(!x)return;for(var e in x){if(!1===_(x[e],e,x))break}},_[_0x4962("0x1b")]=function(x){if(!x)return x;var _={};for(var e in x)_[e]=x[e];return _},_[_0x4962("0x1c")]=function(){var x=new Array;if(null!=window[_0x4962("0x22")][_0x4962("0x23")])x[0]=window[_0x4962("0x22")][_0x4962("0x23")],x[1]=window[_0x4962("0x22")].deviceYDPI;else{var _=document[_0x4962("0x24")]("DIV");_[_0x4962("0x25")].cssText=_0x4962("0x26"),document[_0x4962("0x27")][_0x4962("0x28")](_),x[0]=parseInt(_[_0x4962("0x29")]),x[1]=parseInt(_[_0x4962("0x2a")]),_[_0x4962("0x2b")].removeChild(_)}return x},_[_0x4962("0x1d")]=function(x,_){return new RegExp("^"+_)[_0x4962("0x2c")](x)},_[_0x4962("0x1e")]=function(x){for(var _=x[_0x4962("0x2d")](_0x4962("0x2e")),e=_[0][_0x4962("0x2d")](":")[1],t=window[_0x4962("0x2f")](_[1]),i=t[_0x4962("0x0")],a=new Uint8Array(i),n=0;n<i;++n)a[n]=t[_0x4962("0x30")](n);return new Blob([a],{type:e})},_[_0x4962("0x1f")]=function(x){return(0,n.default)(Array(Number(x)||24),(function(){return Math[_0x4962("0x31")](36*Math.random()).toString(36)}))[_0x4962("0x32")]("")}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0}),_.MessagePoster=void 0;var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){(0,t[_0x4962("0xc")])(this,x)}return(0,i.default)(x,null,[{key:"post",value:function(x){esmap[_0x4962("0x33")].instance[_0x4962("0x34")].meshHandler.modelWorker.msg({messageType:3,msg:x[_0x4962("0x35")],level:x[_0x4962("0x36")]})}}]),x}();_[_0x4962("0x37")]=n},,,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=s(e(0)),i=s(e(1)),a=e(43),n=e(34),r=e(27);function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(){function x(){(0,t.default)(this,x),this[_0x4962("0x38")]={},window.addEventListener("ESMapResolveReady",this.init[_0x4962("0xe")](this))}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x39"),value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=_[_0x4962("0x3b")],t=e.s&&e.k,i=e[_0x4962("0x3c")];if(this[_0x4962("0x3d")]=x[_0x4962("0x3e")].id,this.map=_,this[_0x4962("0x3f")]=t,this.mapMode=i,i==esmap[_0x4962("0x40")][_0x4962("0x41")]?this.initCityPaths():this[_0x4962("0x42")](),1==window.EPATHDEBUG){var a=new CustomEvent(_0x4962("0x43"),{});window.EPathManager=this,window[_0x4962("0x44")](a)}}},{key:_0x4962("0x45"),value:function(){var x=this.mapId,_=this.map[_0x4962("0x3b")],e=_.tid,t=_.s,i=_[_0x4962("0x46")];if(1==e){var r=(0,a[_0x4962("0x47")])(t);this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x49")]=3==t?r:n[_0x4962("0x4a")][_0x4962("0x4b")](r)}else this[_0x4962("0x48")].options[_0x4962("0x49")]=i+x;var s=this[_0x4962("0x4c")]();this.setPath("lic",(function(){return{url:s[_0x4962("0x4d")],timestamp:s.timestamp}})),this.setPath(_0x4962("0x4e"),this.getCityTilePath.bind(this)),this[_0x4962("0x4f")](_0x4962("0x50"),this.getRemoteNotifyUrl(s[_0x4962("0x51")])),this.setPath(_0x4962("0x52"),this[_0x4962("0x53")][_0x4962("0xe")](this)),this.setPath("searchJson",this[_0x4962("0x54")].bind(this)),this[_0x4962("0x4f")](_0x4962("0x55"),this[_0x4962("0x56")][_0x4962("0xe")](this)),this[_0x4962("0x4f")](_0x4962("0x57"),this[_0x4962("0x58")].bind(this)),this[_0x4962("0x4f")](_0x4962("0x59"),this[_0x4962("0x5a")][_0x4962("0xe")](this)),this[_0x4962("0x4f")](_0x4962("0x5b"),this[_0x4962("0x5c")][_0x4962("0xe")](this)),this.setPath(_0x4962("0x5d"),this[_0x4962("0x5e")][_0x4962("0xe")](this)),this.setPath("buildingModel",this[_0x4962("0x5f")].bind(this)),this[_0x4962("0x4f")](_0x4962("0x60"),this[_0x4962("0x61")][_0x4962("0xe")](this))}},{key:_0x4962("0x42"),value:function(){var x=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x46")],_="";if(x.includes(_0x4962("0x62"))||x[_0x4962("0x63")](_0x4962("0x64"))){this.map.options[_0x4962("0x49")]=x;var e=x.split("//")[1].split("/")[0];_=x[_0x4962("0x2d")]("//")[0]+"//"+e}else _=this[_0x4962("0x3f")]?"/":x;this.map[_0x4962("0x3b")][_0x4962("0x49")]=_,this.setPath(_0x4962("0x52"),this[_0x4962("0x65")][_0x4962("0xe")](this)),this[_0x4962("0x4f")](_0x4962("0x5b"),this[_0x4962("0x66")].bind(this)),this[_0x4962("0x4f")](_0x4962("0x5d"),this[_0x4962("0x67")].bind(this)),this[_0x4962("0x4f")]("buildingModel",this[_0x4962("0x68")][_0x4962("0xe")](this)),this[_0x4962("0x4f")](_0x4962("0x69"),this.getIndoorSearchJsonPath.bind(this))}},{key:_0x4962("0x4f"),value:function(x,_){this.paths[x]=_}},{key:_0x4962("0x6a"),value:function(x,_){var e=this[_0x4962("0x38")][x];return"string"==typeof e?e:e(_)}},{key:_0x4962("0x65"),value:function(x){var _=this[_0x4962("0x3d")],e=this[_0x4962("0x48")][_0x4962("0x3b")],t=e[_0x4962("0x46")],i=e.s,a=e.k,n=e[_0x4962("0x6b")],r=e.isRandom,s=t+_+"/"+_+_0x4962("0x6c"),o=!1;if(this[_0x4962("0x3f")]){o=!0;var c=_0x4962("0x6d");n&&(c="mapoff/mapoffdata!getmap.action?bids="),s=i+c+_+_0x4962("0x6e")+a+_0x4962("0x6f")+x.t}else r&&(s+=_0x4962("0x70")+Date[_0x4962("0x71")](new Date));return{url:s,skMode:o}}},{key:_0x4962("0x66"),value:function(x){var _=x[_0x4962("0x72")],e=x[_0x4962("0x73")],t=this[_0x4962("0x3d")],i=this[_0x4962("0x48")][_0x4962("0x3b")],a=i[_0x4962("0x46")],n=i[_0x4962("0x74")],r=i[_0x4962("0x75")],s=void 0;return s=r?""+r+_+"/"+e:""+a+t+_0x4962("0x76")+_+"/"+e,n&&(s=s+_0x4962("0x70")+Date[_0x4962("0x71")](new Date)),s}},{key:_0x4962("0x77"),value:function(x){var _=x.themeID,e=x.ext,t=this.mapId,i=this.map.options,a=i.mapDataSrc,n=i.isRandom,r=i.mapThemeSrc,s=void 0;return s=r?""+r+_+"/"+_+"."+e:""+a+t+_0x4962("0x76")+_+"/"+_+"."+e,n&&(s=s+_0x4962("0x70")+Date[_0x4962("0x71")](new Date)),s}},{key:_0x4962("0x67"),value:function(x){var _=x.filename,e=x.type,t=x.isBim,i=this[_0x4962("0x48")].options,a=i[_0x4962("0x78")],n=i.mapDataSrc,r=this[_0x4962("0x3d")];if(t&&!n.startsWith("http"))if(n.startsWith("/"))n=window[_0x4962("0x79")][_0x4962("0x7a")]+n;else{var s=window[_0x4962("0x79")][_0x4962("0x7b")],o=s[_0x4962("0x7c")]("/");s=s[_0x4962("0x7d")](0,o),n=window[_0x4962("0x79")][_0x4962("0x7a")]+s+"/"+n}return n+r+"/"+(e?e+(a?String(a):"")+"/":"")+_}},{key:_0x4962("0x7e"),value:function(x){var _=x.filename,e=this[_0x4962("0x48")][_0x4962("0x3b")],t=e.s,i=e.k,a=(e[_0x4962("0x46")],this.map[_0x4962("0x7f")][_0x4962("0x80")]("t")),n=this.mapId;return t+_0x4962("0x81")+n+_0x4962("0x82")+_+_0x4962("0x6e")+i+_0x4962("0x6f")+a}},{key:"getIndoorBuildingModelsPath",value:function(x){var _=x[_0x4962("0x73")],e=this.map[_0x4962("0x3b")],t=e.mapDataSrc,i=e.s,a=e.k,n=this.mapId,r=this[_0x4962("0x3f")],s=this.map[_0x4962("0x7f")][_0x4962("0x80")]("t"),o=void 0;r?o=i+_0x4962("0x81")+n+_0x4962("0x82")+_+_0x4962("0x6e")+a+"&t="+s:o=t+n+_0x4962("0x83")+_+_0x4962("0x84");return o}},{key:_0x4962("0x85"),value:function(){var x=this.map.options[_0x4962("0x46")],_=this[_0x4962("0x48")].options[_0x4962("0x74")]?"?t="+(new Date)[_0x4962("0x86")]():"";return x+this[_0x4962("0x48")].id+_0x4962("0x87")+_}},{key:_0x4962("0x4c"),value:function(){var x,_=this[_0x4962("0x48")][_0x4962("0x3b")],e=this.mapId,t=_.version,i=_.s,r=_[_0x4962("0x88")],s=window[_0x4962("0x79")].href,o=parseInt((new Date)[_0x4962("0x86")]()/1e3);x=_.s&&_.k?_.k:esmap.ESMapUtil[_0x4962("0x89")](_[_0x4962("0x8a")]+_0x4962("0x8b")+o);var c=esmap[_0x4962("0x8c")].encode64(r+"&"+e+"&"+i+"&"+x+"&"+o+"&"+s+"&"+t),l=n.Base64[_0x4962("0x4b")]((0,a[_0x4962("0x8d")])(i)),f=void 0;if(3==r)f=_[_0x4962("0x49")]+"/"+e+_0x4962("0x8e"),_[_0x4962("0x74")]&&(f=f+_0x4962("0x70")+Date[_0x4962("0x71")](new Date));else{var d=(0,a[_0x4962("0x47")])(i);f=(3==i?d:n[_0x4962("0x4a")][_0x4962("0x4b")](d))+"/"+l+"/eslic/lic!getlic.action?cids="+e+_0x4962("0x8f")+_.s+_0x4962("0x90")+x+_0x4962("0x6f")+o+_0x4962("0x91")+encodeURIComponent(s)+_0x4962("0x92")+c+"&v="+t+_0x4962("0x93")+r}return{url:f,query_sign:c,timestamp:o}}},{key:_0x4962("0x94"),value:function(x){var _=this[_0x4962("0x3d")],e=this.map.options,t=e.s,i=e.k,s=document[r._dm_],o=parseInt((new Date)[_0x4962("0x86")]()/1e3);return n[_0x4962("0x4a")].decode(a.PRIVITES[2803])+(_0x4962("0x95")+_+"&s=")+t+_0x4962("0x90")+i+_0x4962("0x6f")+o+_0x4962("0x91")+s+_0x4962("0x92")+x+_0x4962("0x96")}},{key:"getCitySearchJsonPath",value:function(){var x=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x49")],_=this[_0x4962("0x48")][_0x4962("0x3b")].isRandom?"?t="+(new Date)[_0x4962("0x86")]():"";return x+_0x4962("0x87")+_}},{key:_0x4962("0x56"),value:function(x){var _=x[_0x4962("0x97")],e=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x49")],t=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x74")]?"?t="+(new Date)[_0x4962("0x86")]():"";return e+_0x4962("0x98")+_+_0x4962("0x87")+t}},{key:"getCityBuildingPath",value:function(x){var _=this[_0x4962("0x48")][_0x4962("0x3b")],e=_[_0x4962("0x88")],t=_.serverUrl,i=_.k,a=_[_0x4962("0x74")],n=_.s,r=x[_0x4962("0x97")],s=x.t,o=void 0,c=!1;if(1!=e)o=t+_0x4962("0x98")+r+"/"+r+_0x4962("0x6c"),a&&(o+=_0x4962("0x70")+Date.parse(new Date));else{c=!0;var l=i[_0x4962("0x2d")]("&"),f=esmap.ESMapUtil[_0x4962("0x89")](esmap[_0x4962("0x8c")][_0x4962("0x89")](r+_0x4962("0x99")+2+"#"+l[0])+_0x4962("0x8b"));o=t+_0x4962(3==n?"0x9a":"0x9b")+r+_0x4962("0x9c")+i+"&p=2"+_0x4962("0x6e")+f+_0x4962("0x93")+e+_0x4962("0x6f")+s}return{url:o,skMode:c}}},{key:_0x4962("0x5a"),value:function(x){var _=x.filename,e=x[_0x4962("0x9d")],t=this[_0x4962("0x3d")];return this[_0x4962("0x48")].options[_0x4962("0x46")]+t+"/"+e+"/"+_}},{key:_0x4962("0x58"),value:function(x){var _=x[_0x4962("0x9e")],e=x.themeID,t=this[_0x4962("0x3d")],i=this[_0x4962("0x48")][_0x4962("0x3b")],a=i[_0x4962("0x74")],n=i[_0x4962("0x46")]+t+_0x4962("0x9f")+e+"/"+e+"."+_;return a&&(n+=_0x4962("0x70")+Date.parse(new Date)),n}},{key:_0x4962("0x5c"),value:function(x){var _=x[_0x4962("0x73")],e=x[_0x4962("0x72")],t=x.buildingId,i=this[_0x4962("0x48")][_0x4962("0x3b")],a=i.tid,n=i[_0x4962("0x49")],r=i.s,s="";1==a?s=n+(3==r?_0x4962("0xa0"):"/EsmapJsonData/")+t+"/":s=n+_0x4962("0x98")+t+"/";return s+_0x4962("0xa1")+e+"/"+_}},{key:_0x4962("0xa2"),value:function(x){var _=x[_0x4962("0x9e")],e=x[_0x4962("0x72")],t=x[_0x4962("0x97")],i=this[_0x4962("0x48")][_0x4962("0x3b")],a=i[_0x4962("0x88")],n=i.s,r=i[_0x4962("0x49")],s="";1==a?s=r+_0x4962(3==n?"0xa0":"0xa3")+t+"/":s=r+"/buildings/"+t+"/";return s+_0x4962("0xa1")+e+"/"+e+"."+_}},{key:_0x4962("0x5e"),value:function(x){var _=x.filename,e=x[_0x4962("0x9d")],t=x[_0x4962("0x97")],i=this[_0x4962("0x48")][_0x4962("0x3b")],a=i[_0x4962("0x88")],n=i.s,r=i[_0x4962("0x49")],s=i[_0x4962("0x78")],o="";1==a?o=r+(3==n?"/EsmapOffJsonData/":_0x4962("0xa3"))+t+"/":o=r+_0x4962("0x98")+t+"/";return o+e+((s?String(s):"")+"/")+_}},{key:_0x4962("0xa4"),value:function(x){var _=x.tileId,e=x.typeId,t=this[_0x4962("0x3d")],i=this[_0x4962("0x48")][_0x4962("0x3b")],r=i[_0x4962("0x88")],s=i.s,o=i.k,c=i.serverUrl,l=i[_0x4962("0x8a")],f=i[_0x4962("0xa5")],d=i[_0x4962("0x46")],u=i.isRandom,h=_[_0x4962("0x2d")]("_"),g=h[0],b=h[1],v=o,p="";if(1!=r)p=d+t+"/15/"+g+"_"+b+"/"+g+"_"+b+_0x4962("0xa6")+(1==e?"":_0x4962("0xa7"))+_0x4962("0x6c"),u&&(p+="?t="+Date.parse(new Date));else{2==r&&(v=esmap[_0x4962("0x8c")][_0x4962("0x89")](l+_0x4962("0x8b")));var m=esmap[_0x4962("0x8c")][_0x4962("0x89")](r+"&"+t+"&"+s+"&"+v+"&"+f+"&"+e+"&"+g+"&"+b);p=c+"/"+n[_0x4962("0x4a")][_0x4962("0x4b")]((0,a[_0x4962("0x8d")])(s))+_0x4962("0xa8")+t+_0x4962("0x90")+v+_0x4962("0x8f")+s+_0x4962("0xa9")+e+"&x="+g+_0x4962("0xaa")+b+"&sign="+m+_0x4962("0xab")+f+"&tid="+r,u&&(p+=_0x4962("0x6f")+Date[_0x4962("0x71")](new Date))}return p}},{key:"getCityModelLibPath",value:function(x){var _=x.filename,e=(x[_0x4962("0xac")],this[_0x4962("0x48")][_0x4962("0x3b")]),t=e.s,i=(e.k,e[_0x4962("0x49")]),r=this.mapId,s=this[_0x4962("0x48")][_0x4962("0xad")],o=n.Base64[_0x4962("0x4b")]((0,a[_0x4962("0x8d")])(t));url=i+"/"+o+"/map/mapmodel!getmodel.action?cids="+r+_0x4962("0x82")+_+_0x4962("0xae")+s}},{key:"getCityBuildingModelsPath",value:function(x){var _=x[_0x4962("0x73")],e=x[_0x4962("0x97")],t=x[_0x4962("0xac")],i=this[_0x4962("0x48")][_0x4962("0x3b")],r=i[_0x4962("0x88")],s=i.serverUrl,o=i.s,c=void 0;if(this[_0x4962("0x3f")]){var l=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x80")]("t");c=s+"/"+n.Base64[_0x4962("0x4b")]((0,a[_0x4962("0x8d")])(o,!0))+_0x4962("0x81")+e+"&name="+_+".gltf&token="+t+_0x4962("0x93")+r+_0x4962("0x6f")+l}else c=s+_0x4962("0x98")+e+"/model/"+_+_0x4962("0x84");return c}},{key:"getCityTileModelPath",value:function(x){var _=x.filename,e=x.modeltoken,t=this[_0x4962("0x48")][_0x4962("0x3b")],i=t[_0x4962("0x88")],r=t[_0x4962("0x49")],s=t.s,o=this.mapId,c="";if(1!=i){var l="";_[_0x4962("0xaf")]("/")>-1&&(l=_[_0x4962("0x2d")]("/")[0],_=_[_0x4962("0x2d")]("/")[1]),c=r+_0x4962("0xb0")+l+"/"+_+"/"+_+".gltf"}else{var f=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x80")]("t");c=r+"/"+n[_0x4962("0x4a")][_0x4962("0x4b")]((0,a[_0x4962("0x8d")])(s))+_0x4962("0xb1")+o+_0x4962("0x82")+_+_0x4962("0x6e")+e+"&tid="+i+_0x4962("0x6f")+f}return c}}]),x}();_.default=new o},,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0}),_._wle_=_[_0x4962("0xb2")]=_[_0x4962("0xb3")]=_._dusc_=_[_0x4962("0xb4")]=_[_0x4962("0xb5")]=_[_0x4962("0xb6")]=_[_0x4962("0xb7")]=_._dt_=_[_0x4962("0xb8")]=_[_0x4962("0xb9")]=_._emvs_=_[_0x4962("0xba")]=_._ztl_=_[_0x4962("0xbb")]=_[_0x4962("0xbc")]=_[_0x4962("0xbd")]=_[_0x4962("0xbe")]=_[_0x4962("0xbf")]=_[_0x4962("0xc0")]=_[_0x4962("0xc1")]=void 0;var t=e(34),i=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xc2")),a=t[_0x4962("0x4a")][_0x4962("0x4b")]("dG9rZW4="),n=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xc3")),r=t[_0x4962("0x4a")][_0x4962("0x4b")]("UmVtYXJr"),s=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xc4")),o=t.Base64[_0x4962("0x4b")](_0x4962("0xc5")),c=t[_0x4962("0x4a")].decode("SGFzaA=="),l=t[_0x4962("0x4a")].decode(_0x4962("0xc6")),f=t.Base64[_0x4962("0x4b")]("em9uVGVtcE9iag=="),d=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xc7")),u=t.Base64[_0x4962("0x4b")]("ZXNtYXB2"),h=t[_0x4962("0x4a")][_0x4962("0x4b")]("RVNNYXBW"),g=t.Base64.decode(_0x4962("0xc8")),b=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xc9")),v=[t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xca")),t[_0x4962("0x4a")].decode(_0x4962("0xcb")),t[_0x4962("0x4a")][_0x4962("0x4b")]("MTAwMDAwMA==")],p=t.Base64[_0x4962("0x4b")]("ZW5jb2RlNjQ="),m=t[_0x4962("0x4a")].decode(_0x4962("0xcc")),A=t[_0x4962("0x4a")].decode(_0x4962("0xcd")),y=t[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0xce")),C=t.Base64[_0x4962("0x4b")](_0x4962("0xcf")),I=t.Base64.decode(_0x4962("0xd0"));_[_0x4962("0xc1")]=i,_[_0x4962("0xc0")]=a,_[_0x4962("0xbf")]=n,_[_0x4962("0xbe")]=r,_[_0x4962("0xbd")]=s,_[_0x4962("0xbc")]=c,_[_0x4962("0xbb")]=l,_._ztl_=f,_[_0x4962("0xba")]=d,_[_0x4962("0xd1")]=u,_[_0x4962("0xb9")]=h,_[_0x4962("0xb8")]=o,_[_0x4962("0xd2")]=g,_[_0x4962("0xb7")]=b,_._dtns_=v,_[_0x4962("0xb5")]=p,_[_0x4962("0xb4")]=m,_[_0x4962("0xd3")]=A,_[_0x4962("0xb3")]=y,_[_0x4962("0xb2")]=C,_[_0x4962("0xd4")]=I},,,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=r(e(33)),i=r(e(64)),a=r(e(0)),n=r(e(1));function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(){function x(_){(0,a[_0x4962("0xc")])(this,x),this.id=_,this[_0x4962("0xd5")]=0,this[_0x4962("0xd6")]=new(i[_0x4962("0xc")]),this[_0x4962("0xd7")]=new(i[_0x4962("0xc")]),this[_0x4962("0xd7")][_0x4962("0xd8")](_0x4962("0xc"),new(t[_0x4962("0xc")])),this[_0x4962("0xd9")]=new i.default}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0xda"),value:function(x){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_0x4962("0xc"),e=this.blockMap[_0x4962("0xdb")](_);e||(e=new(t[_0x4962("0xc")]),this[_0x4962("0xd7")][_0x4962("0xd8")](_,e)),e[_0x4962("0xda")](String(x)),this.blockIdNameMap.set(String(x),_)}},{key:_0x4962("0xdc"),value:function(){var x=this;this[_0x4962("0xd7")].forEach((function(_,e){x.total+=_.size,x[_0x4962("0xd6")][_0x4962("0xd8")](e,_[_0x4962("0xdd")])}))}},{key:_0x4962("0xde"),value:function(x){var _=this;x[_0x4962("0x20")]((function(x){_.pop(x)}))}},{key:_0x4962("0xdf"),value:function(x){var _=this[_0x4962("0xd9")][_0x4962("0xdb")](String(x)),e=this[_0x4962("0xd7")][_0x4962("0xdb")](_);if(e){if(e.delete(String(x))){var t=this[_0x4962("0xe2")],i=t[_0x4962("0xe3")],a=t[_0x4962("0xe4")];this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xe6"),{id:x,value:i,from:this.id,name:_,values:a})}}else console[_0x4962("0xe0")](_0x4962("0xe1"))}},{key:"reset",value:function(){this[_0x4962("0xd7")]=new(i[_0x4962("0xc")]),this[_0x4962("0xd7")][_0x4962("0xd8")](_0x4962("0xc"),new(t[_0x4962("0xc")])),this[_0x4962("0xd5")]=0}},{key:_0x4962("0x48"),get:function(){return window[_0x4962("0xe7")][_0x4962("0x33")][_0x4962("0x3a")]}},{key:_0x4962("0xe8"),get:function(){var x=this,_={};return this[_0x4962("0xd7")][_0x4962("0x20")]((function(e,t){_[t]=e[_0x4962("0xdd")]/x[_0x4962("0xd5")]})),_}},{key:_0x4962("0xe2"),get:function(){var x=this;if(0==this[_0x4962("0xd5")])return{value:0,groups:{}};var _=0,e={};return this[_0x4962("0xd7")].forEach((function(t,i){_+=t.size;var a=x[_0x4962("0xd6")][_0x4962("0xdb")](i);e[i]=(a-t[_0x4962("0xdd")])/a})),{value:(this.total-_)/this[_0x4962("0xd5")],values:e}}}]),x}(),o=function(){function x(){(0,a.default)(this,x),this.hanlders=new(i[_0x4962("0xc")])}return(0,n.default)(x,[{key:_0x4962("0xe9"),value:function(x){var _=new s(x);this[_0x4962("0xea")].set(x,_)}},{key:"get",value:function(x){return this.hanlders.get(x)}}]),x}();_.default=new o},,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0xeb")]=function x(_){if(null!==_){_.datas_&&_[_0x4962("0xf1")].o3d_&&(_[_0x4962("0xf1")][_0x4962("0xf2")]=void 0,_[_0x4962("0xf1")]=void 0);for(var e=0;e<_.children.length;e++)x(_[_0x4962("0xf3")][e]);_[_0x4962("0xf4")]&&(_.geometry[_0x4962("0xf5")](),_[_0x4962("0xf4")]=void 0),_.material&&(_[_0x4962("0xf6")]instanceof Array?_[_0x4962("0xf6")][_0x4962("0x20")]((function(x){x.map&&(x[_0x4962("0x48")][_0x4962("0xf5")](),x.map=void 0),x[_0x4962("0xf5")](),x=void 0})):(_[_0x4962("0xf6")][_0x4962("0xf5")](),_[_0x4962("0xf6")]=void 0))}_=void 0},_[_0x4962("0xec")]=function(x,_,e,a){var n=i/Math[_0x4962("0xf7")](2,e),r={minx:256*x*n-t,miny:256*_*n-t,maxx:256*(x+1)*n-t,maxy:256*(_+1)*n-t};if(a){var s=esmap.ESMapUtil[_0x4962("0xf8")](r[_0x4962("0xf9")],r[_0x4962("0xfa")]),o=esmap[_0x4962("0x8c")][_0x4962("0xfb")](s),c=esmap[_0x4962("0x8c")][_0x4962("0xfc")](o[0],o[1]),l=esmap.ESMapUtil[_0x4962("0xf8")](r[_0x4962("0xfd")],r[_0x4962("0xfe")]),f=esmap[_0x4962("0x8c")][_0x4962("0xfb")](l),d=esmap[_0x4962("0x8c")].lonLat2Mercator(f[0],f[1]);r.minx=d[0],r[_0x4962("0xfe")]=d[1],r[_0x4962("0xf9")]=c[0],r.maxy=c[1]}return r},_[_0x4962("0xed")]=function(x,_,e){var a=i/Math.pow(2,e),n={},r=(x+t)/a,s=(_+t)/a;return n.x=Math[_0x4962("0xff")](r/256)-1,n.y=Math[_0x4962("0xff")](s/256)-1,n},_[_0x4962("0xee")]=function(x){var _=x[_0x4962("0x100")].json[_0x4962("0x101")][_0x4962("0x0")],e=x.parser[_0x4962("0x102")][_0x4962("0x103")][_0x4962("0x0")],t=0;return x.scene[_0x4962("0x104")]((function(x){if(x.geometry){var _=x[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x106")].count;t+=_}})),{materials:_,meshes:e,vertexes:t}},_[_0x4962("0xef")]=function(x){return function x(_,e){if(!_)return null;if(_[_0x4962("0x107")]==_0x4962("0x108"))return _;var t=x(_.parent,!1);return t||void 0}(x)},_[_0x4962("0xf0")]=function(x,_){for(var e=3*x,t=0;t<_[_0x4962("0x0")];t++){var i=_[t];if(e>=i[_0x4962("0x109")][0]&&e<i[_0x4962("0x109")][1])return t}return-1};var t=20037508.342789244,i=156543.03392804062},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x10a")]=void 0,_.decode=function(x,_,e){for(var t="",a=i(_+e),n=i(x),r=0;r<n.length;r++){for(var s=0;s<a.length;s++)n[r]=n[r]^a[s];t+=String[_0x4962("0x10f")](n[r])}return t},_[_0x4962("0x10b")]=function(x,_){for(var e=i(x),t=0;t<16;t++)for(var a=0;a<e[_0x4962("0x0")];a++)_[t]=_[t]^e[a]},_.gdbs=function(x){if(1==x)return window[_0x4962("0x79")][_0x4962("0x116")].indexOf("test127")>-1?a[2807]:a[2803];if(2==x)return a[2804];if(3==x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3b")][_0x4962("0x46")];return _[_0x4962("0xaf")]("http")>-1?_+_0x4962("0x117"):""}return null},_[_0x4962("0x8d")]=function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(1==x||2==x)return _?a[2809]:a[2805];if(3==x)return _?a[2808]:a[2806];return x},_[_0x4962("0x10c")]=function(x){if(1==x||2==x)return a[2805];if(3==x)return a[2806];return null},_._isemv=function(){return typeof window[t[_0x4962("0xd1")]]!==_0x4962("0x21")&&!(!window[t[_0x4962("0xd1")]][[t._emv_]]||!window[t[_0x4962("0xd1")]][[t._emv_]][_0x4962("0x118")])},_[_0x4962("0x10d")]=function(x){return typeof window[t[_0x4962("0xd1")]]!==_0x4962("0x21")&&(window[t[_0x4962("0xd1")]]&&window[t[_0x4962("0xd1")]][t[_0x4962("0xb9")]]&&window[t[_0x4962("0xd1")]][t[_0x4962("0xb9")]][_0x4962("0x119")]()===esmap.ESMapUtil[_0x4962("0x89")](t[_0x4962("0xbd")]+window[t[_0x4962("0xd1")]][t[_0x4962("0xb9")]][_0x4962("0x118")]()+window[t[_0x4962("0xd1")]][t[_0x4962("0xb9")]][_0x4962("0x11a")]().id+x+_0x4962("0x11b")))},_[_0x4962("0x10e")]=function(x){return typeof window[t[_0x4962("0xd1")]]!==_0x4962("0x21")&&(window[t[_0x4962("0xd1")]]&&window[t[_0x4962("0xd1")]][t._emv_]&&window[t[_0x4962("0xd1")]][t._emv_][_0x4962("0x11c")]()===esmap[_0x4962("0x8c")][_0x4962("0x89")](t[_0x4962("0xc1")]+window[t._emvs_][t[_0x4962("0xb9")]]._sh()+window[t[_0x4962("0xd1")]][t._emv_][_0x4962("0x11a")]().id+x+"es2"))},_._isemvmn=function(){return window[t[_0x4962("0xd1")]][t[_0x4962("0xb9")]]._mod(window[t[_0x4962("0xd1")]][t._emv_]._sh())};var t=e(27);function i(x){for(var _=[],e=0;e<x.length;e++)_[e]=x[_0x4962("0x30")](e);return _}var a=_[_0x4962("0x10a")]={2803:_0x4962("0x110"),2804:_0x4962("0x111"),2805:"ZXN3b3JsZG1hcA==",2806:_0x4962("0x112"),2807:_0x4962("0x113"),2808:_0x4962("0x114"),2809:_0x4962("0x115")}},,,,,,,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=a(e(14)),i=a(e(6));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function n(x){var _=typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,i.default)(x);return null!=x&&(_==_0x4962("0x9")||_==_0x4962("0x121"))}function r(x){if(x[_0x4962("0x125")])return 1==x[_0x4962("0x125")]}_[_0x4962("0x11d")]=function(x,_){return Math[_0x4962("0x120")]((x.x-_.x)*(x.x-_.x)+(x.y-_.y)*(x.y-_.y))},_.merge=function x(_){for(var e=arguments[_0x4962("0x0")],a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return a[_0x4962("0x122")]((function(_,e){return(0,t.default)(e)[_0x4962("0x122")]((function(_,t){var a=e[t];return Array[_0x4962("0x123")](a)?_[t]=a[_0x4962("0x48")]((function(e,i){if(n(e)){var a=_[t]?_[t]:[];return x(a[i]?a[i]:{},e)}return e})):n(a)?r(a)?_[t]=a:_[t]=x(_[t]?_[t]:{},a):(typeof _===_0x4962("0x21")?"undefined":(0,i.default)(_))==_0x4962("0x124")?(_={})[t]=a:void 0!==a&&(_[t]=a),_}),_)}),_)},_[_0x4962("0x11e")]=r,_[_0x4962("0x11f")]=function(x,_){for(var e in x)if(x[e]!=_[e])return!0;return!1}},,,,,,,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=c(e(2)),i=c(e(5)),a=c(e(0)),n=c(e(1)),r=c(e(10)),s=c(e(11)),o=e(51);function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function l(x){if(x){if(x.datas_&&x.datas_.o3d_&&(x[_0x4962("0xf1")][_0x4962("0xf2")]=void 0,x[_0x4962("0xf1")]=void 0),x.children)for(var _=0;_<x[_0x4962("0xf3")].length;_++)l(x[_0x4962("0xf3")][_]);x.geometry&&(x.geometry.dispose(),x.geometry=void 0),x[_0x4962("0xf6")]&&(x[_0x4962("0xf6")]instanceof Array?x[_0x4962("0xf6")][_0x4962("0x20")]((function(x){x&&(x.map&&(x[_0x4962("0x48")][_0x4962("0xf5")](),x[_0x4962("0x48")]=void 0),x[_0x4962("0xf5")](),x=void 0)})):(x[_0x4962("0xf6")][_0x4962("0xf5")](),x.material=void 0))}x=void 0}var f=function(x){function _(x,e,t,n){(0,a[_0x4962("0xc")])(this,_);var s={lineWidth:6,lineWidthMeter:!1,color:_0x4962("0x128"),lineType:esmap[_0x4962("0x129")][_0x4962("0x12a")],offsetHeight:0,fixedWidth:!1,pickLineWidth:5,closed:!1,hiddenByFloor:!0,blend:!1,metalness:.01,roughness:.9,light:!1,reverseAnimate:0,lineMode:_0x4962("0x12b"),repeat:1,imgOffsetX:0,imgOffsetY:0,animateSpeed:1,isMapRoad:!1,transparent:!0,opacity:1,arrow:!1,seeThrough:!1,up:new(THREE[_0x4962("0x12c")])(0,1,0),matSide:1,noAnimate:!1,cross:!1,textureOffset:0};(0,o[_0x4962("0x12d")])(s,e),s.hasOwnProperty(_0x4962("0x12e"))&&(s.opacity=s.alpha);var c=(0,r[_0x4962("0xc")])(this,(_.__proto__||(0,i[_0x4962("0xc")])(_))[_0x4962("0xf")](this));c[_0x4962("0x12f")]=t||!1,c.style=s;var l=esmap.ESMap[_0x4962("0x3a")];c[_0x4962("0x130")]=x[0][_0x4962("0x130")]||l.id;var f=function(x){for(var _=0,e=x[0][_0x4962("0x126")](),t=1;t<x[_0x4962("0x0")];t++)_+=x[t].distanceTo(x[t-1]),e.add(x[t]);return{length:_,center:e[_0x4962("0x127")](x[_0x4962("0x0")])}}(x);return c.points=x,c[_0x4962("0x0")]=f[_0x4962("0x0")],c[_0x4962("0x131")]=f[_0x4962("0x131")],c[_0x4962("0x132")]=x[0][_0x4962("0x132")],n&&(c.customMat=n),c.type_=_0x4962("0x133"),c[_0x4962("0x125")]=esmap[_0x4962("0x134")].LINE,c[_0x4962("0x135")]=[],c.init(),c}return(0,s[_0x4962("0xc")])(_,x),(0,n.default)(_,[{key:_0x4962("0x39"),value:function(){var x=this,_=esmap.ESMap[_0x4962("0x3a")],e=this,t=this;e[_0x4962("0x48")]=_;var i,a=new(THREE[_0x4962("0x136")]),n=null;this[_0x4962("0x25")][_0x4962("0x137")]&&(_.getBuildingById(this[_0x4962("0x130")]).visibleFloorNums[_0x4962("0xaf")](this[_0x4962("0x132")])<0&&(this.visible=!1));if(this[_0x4962("0x12f")]){var r=this[_0x4962("0x138")][0][_0x4962("0x130")],s=this[_0x4962("0x138")][1][_0x4962("0x130")],o=this[_0x4962("0x48")].getBuildingById(r),c=this[_0x4962("0x48")][_0x4962("0x139")](s);if(o){var l=function(_){var e=_.fnum,t=_[_0x4962("0xe3")];e==x[_0x4962("0x138")][0][_0x4962("0x132")]&&(x[_0x4962("0x138")][0].y=t),x[_0x4962("0x13a")](x[_0x4962("0x138")])};o.on(_0x4962("0x13b"),l),this[_0x4962("0x135")][_0x4962("0x3")]((function(){o.off(_0x4962("0x13b"),l)}))}if(c){var f=function(_){var e=_[_0x4962("0x132")],t=_[_0x4962("0xe3")];e==x.points[1][_0x4962("0x132")]&&(x.points[1].y=t),x.updateGeometry(x[_0x4962("0x138")])};c.on(_0x4962("0x13b"),f),this[_0x4962("0x135")][_0x4962("0x3")]((function(){c[_0x4962("0x6b")](_0x4962("0x13b"),f)}))}}else{var d=_[_0x4962("0x139")](this[_0x4962("0x130")]);if(d){var u=function(_){for(var e=_[_0x4962("0x132")],t=_[_0x4962("0xe3")],i=0;i<x[_0x4962("0x138")][_0x4962("0x0")];i++)x.points[i][_0x4962("0x132")]&&e==x[_0x4962("0x138")][i][_0x4962("0x132")]&&(x[_0x4962("0x138")][i].y=t);x.updateGeometry(x.points)};d.on(_0x4962("0x13b"),u),this[_0x4962("0x135")][_0x4962("0x3")]((function(){d[_0x4962("0x6b")]("floorHeightChanged",u)}))}}if(e[_0x4962("0x25")][_0x4962("0x13c")])n=e[_0x4962("0x25")][_0x4962("0x13d")]>=20?_[_0x4962("0x13e")][_0x4962("0x13f")][_0x4962("0x140")][_0x4962("0x126")]():_[_0x4962("0x13e")][_0x4962("0x13f")][_0x4962("0x141")][_0x4962("0x126")]();else if(n=this[_0x4962("0x142")]?this[_0x4962("0x142")]:e.style.light?new(THREE[_0x4962("0x143")])({transparent:this[_0x4962("0x25")][_0x4962("0x144")],opacity:this.style[_0x4962("0x145")],color:16777215,wireframe:!1,metalness:this[_0x4962("0x25")][_0x4962("0x146")],roughness:this[_0x4962("0x25")].roughness}):new THREE.MeshBasicMaterial({transparent:this.style[_0x4962("0x144")],opacity:this.style[_0x4962("0x145")],color:16777215}),this[_0x4962("0x142")]||(n[_0x4962("0x147")]=new THREE.Color(this[_0x4962("0x25")][_0x4962("0x147")]),n[_0x4962("0x148")]=function(x){x[_0x4962("0x149")].passPercent={value:0},x[_0x4962("0x149")][_0x4962("0x14a")]={value:i[_0x4962("0x14b")]},x[_0x4962("0x14c")]=x[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x14e"),_0x4962("0x14f")),x.vertexShader=x.vertexShader[_0x4962("0x14d")](_0x4962("0x150"),_0x4962("0x151")),x[_0x4962("0x152")]=x[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x153"),_0x4962("0x154")),x[_0x4962("0x152")]=x[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x155"),_0x4962("0x156")),t[_0x4962("0x157")]=x}),this.style[_0x4962("0x158")]=[2,0],this[_0x4962("0x159")]=this[_0x4962("0x25")][_0x4962("0x158")].reduce((function(x,_){return x+_})),!this.customMat){var h=this[_0x4962("0x15a")]();h[_0x4962("0x15b")].x=this[_0x4962("0x25")][_0x4962("0x15b")],h.offset.x=this[_0x4962("0x25")].imgOffsetX,h[_0x4962("0x15c")].y=this.style[_0x4962("0x15d")],n[_0x4962("0x48")]=h,n[_0x4962("0x144")]=this[_0x4962("0x25")][_0x4962("0x144")],n[_0x4962("0x15e")]=THREE.DoubleSide,2==e[_0x4962("0x25")].matSide&&(n[_0x4962("0x15e")]=THREE.DoubleSide)}if("circle"==this[_0x4962("0x25")][_0x4962("0x15f")]){var g=this[_0x4962("0x25")][_0x4962("0x160")]/8;if(this[_0x4962("0x25")][_0x4962("0x161")]&&(g=this[_0x4962("0x25")][_0x4962("0x160")]),this[_0x4962("0x162")]=a,this[_0x4962("0x162")].set(this[_0x4962("0x138")],g,0,void 0,!1),i=new(THREE[_0x4962("0x163")]),this[_0x4962("0x25")][_0x4962("0x164")]){var b=esmap.ESMapUtil.getSpriteScale(_,this);i[_0x4962("0x165")](this[_0x4962("0x162")],{radius:g/2*b*10,radialSegments:20,startRad:0}),i[_0x4962("0x166")].trueRadius=g/2*b*10}else i.update(this[_0x4962("0x162")],{radius:g/2,radialSegments:20,startRad:0}),i.userData[_0x4962("0x167")]=g/2}else{var v=this[_0x4962("0x25")][_0x4962("0x160")]/8;this.style.lineWidthMeter&&(v=this[_0x4962("0x25")].lineWidth),this[_0x4962("0x168")]=1,i=new THREE.PathGeometry,this.pathPointList=a;var p=!1,m=this[_0x4962("0x138")][_0x4962("0x0")]-1;if(this[_0x4962("0x138")][0].x==this.points[m].x&&this.points[0].z==this[_0x4962("0x138")][m].z&&(p=!0),this[_0x4962("0x162")][_0x4962("0xd8")](this[_0x4962("0x138")],0,0,this[_0x4962("0x25")].up,p),this[_0x4962("0x25")][_0x4962("0x164")]){var A=esmap[_0x4962("0x8c")][_0x4962("0x169")](_,this);i[_0x4962("0x165")](this[_0x4962("0x162")],{width:v*A*18,side:"both",arrow:this[_0x4962("0x25")].arrow}),i.userData.trueRadius=v*A*18}else i.update(this[_0x4962("0x162")],{width:v,side:"both",arrow:this.style[_0x4962("0x16a")]}),i[_0x4962("0x166")].trueRadius=v}i[_0x4962("0xe2")]=1,i[_0x4962("0x16b")](),e[_0x4962("0x25")][_0x4962("0x16c")]&&(n[_0x4962("0x16d")]=!1),e.style[_0x4962("0x16e")]&&(n[_0x4962("0x16f")]=!1,n.blending=THREE.AdditiveBlending),this[_0x4962("0xf6")]=n,this[_0x4962("0xf4")]=i,this[_0x4962("0x160")]=this[_0x4962("0x25")][_0x4962("0x160")],this[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x172")],this._onUpdate=this[_0x4962("0x173")].bind(this),this[_0x4962("0x174")]=this[_0x4962("0x175")].bind(this),this[_0x4962("0x176")]=this[_0x4962("0x177")].bind(this),this[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x178")]||(_.on("update",this._onUpdate),_.on(_0x4962("0x179"),this[_0x4962("0x174")]),this[_0x4962("0xf6")].userData[_0x4962("0x178")]=!0),this.style[_0x4962("0x137")]&&_.on("visibleFloorNumsChanged",this[_0x4962("0x176")]),t[_0x4962("0x25")][_0x4962("0x164")]&&t[_0x4962("0x17a")]()}},{key:"onUpdate",value:function(x){this.parent&&this[_0x4962("0x17b")][_0x4962("0x17c")]&&!this[_0x4962("0x25")][_0x4962("0x17d")]&&this[_0x4962("0x17e")](x)}},{key:_0x4962("0x175"),value:function(){this[_0x4962("0x17b")]&&this[_0x4962("0x17b")][_0x4962("0x17c")]&&this[_0x4962("0x25")][_0x4962("0x164")]&&this[_0x4962("0x17a")]()}},{key:_0x4962("0x13a"),value:function(x){var _=this[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x167")];this[_0x4962("0x138")]=x;var e=!1,t=this[_0x4962("0x138")][_0x4962("0x0")]-1;this.points[0].x==this[_0x4962("0x138")][t].x&&this[_0x4962("0x138")][0].z==this[_0x4962("0x138")][t].z&&(e=!0),this.style[_0x4962("0x15f")]==_0x4962("0x17f")?(this.pathPointList.set(x,_,0,void 0,!1),this[_0x4962("0xf4")][_0x4962("0x165")](this[_0x4962("0x162")],{radius:_,radialSegments:20,startRad:0})):(this[_0x4962("0x162")][_0x4962("0xd8")](this[_0x4962("0x138")],0,0,this[_0x4962("0x25")].up,e),this[_0x4962("0xf4")][_0x4962("0x165")](this.pathPointList,{width:_,side:_0x4962("0x180"),arrow:this.style[_0x4962("0x16a")]})),this.geometry.clearGroups(),this[_0x4962("0xf4")][_0x4962("0x181")](0,this[_0x4962("0xf4")].attributes[_0x4962("0x106")][_0x4962("0x182")],0)}},{key:"updateLineWidth",value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=esmap[_0x4962("0x8c")][_0x4962("0x169")](_),t=this[_0x4962("0x25")][_0x4962("0x161")]?this[_0x4962("0x160")]:this[_0x4962("0x160")]/8;this[_0x4962("0x25")][_0x4962("0x15f")]==_0x4962("0x12b")?this[_0x4962("0xf4")].update(this[_0x4962("0x162")],{width:t*e*18,side:_0x4962("0x180"),arrow:this[_0x4962("0x25")].arrow,progress:this[_0x4962("0xf4")][_0x4962("0xe2")]}):x?this[_0x4962("0xf4")][_0x4962("0x165")](this[_0x4962("0x162")],{radius:t/2,radialSegments:20,startRad:0,progress:this[_0x4962("0xf4")][_0x4962("0xe2")]}):this[_0x4962("0xf4")][_0x4962("0x165")](this.pathPointList,{radius:t*e*10,radialSegments:20,startRad:0,progress:this[_0x4962("0xf4")].progress})}},{key:"updateLineTextureOffset",value:function(x){if(this[_0x4962("0xf6")]&&this[_0x4962("0xf6")][_0x4962("0x48")]&&!this[_0x4962("0x25")].noAnimate){if(this[_0x4962("0x25")][_0x4962("0x183")]?this[_0x4962("0xf6")].map[_0x4962("0x15c")].x+=.5*x*this.style[_0x4962("0x184")]:this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15c")].x-=.5*x*this[_0x4962("0x25")][_0x4962("0x184")],this[_0x4962("0x157")]&&this[_0x4962("0x0")]>0){this[_0x4962("0x185")]=this.passDistance||0;var _=this[_0x4962("0x185")]/this[_0x4962("0x0")];this[_0x4962("0x157")][_0x4962("0x149")][_0x4962("0x186")][_0x4962("0xe3")]=_}this[_0x4962("0xf6")][_0x4962("0x187")]=!0}}},{key:"updateColor",value:function(x){this[_0x4962("0xf6")][_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(this[_0x4962("0x189")](x))}},{key:"_colorToStr",value:function(x){if(_0x4962("0x18a")==typeof x){for(var _=x[_0x4962("0x18b")](16);_[_0x4962("0x0")]<6;)_="0"+_;return"#"+_}return x}},{key:_0x4962("0x15a"),value:function(){var x=(new(THREE[_0x4962("0x18c")]))[_0x4962("0x18d")](this.style[_0x4962("0x4d")],(function(x){x[_0x4962("0x187")]=!0}));return x.anisotropy=4,x.repeat.y=1,x[_0x4962("0x15c")].y=0,x[_0x4962("0x18e")]=THREE.LinearMipMapLinearFilter,x.wrapS=THREE[_0x4962("0x18f")],x.wrapT=THREE.RepeatWrapping,x}},{key:_0x4962("0x190"),value:function(x){x[_0x4962("0x147")]&&"number"==typeof x[_0x4962("0x147")]&&(x[_0x4962("0x147")]=this[_0x4962("0x189")](x[_0x4962("0x147")])),(0,t[_0x4962("0xc")])(this[_0x4962("0x25")],x),x.lineType&&!x.dashArray&&(this[_0x4962("0x25")][_0x4962("0x158")]=[2,0]),x[_0x4962("0x160")]&&(this[_0x4962("0x160")]=x[_0x4962("0x160")],this[_0x4962("0x17a")](this.lineWidth));var _=this[_0x4962("0x15a")]();_.repeat.x=this[_0x4962("0x25")][_0x4962("0x15b")],this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0xf5")](),this.material[_0x4962("0x48")]=_,this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x187")]=!0,this[_0x4962("0xf6")].needsUpdate=!0}},{key:_0x4962("0x177"),value:function(x){if(x.bid==this[_0x4962("0x130")]){var _=x[_0x4962("0x191")],e=this[_0x4962("0x132")],t=!0;_0x4962("0x18a")==typeof e?-1==_[_0x4962("0xaf")](e)&&(t=!1):e instanceof Array&&e[_0x4962("0x20")]((function(x){-1==_[_0x4962("0xaf")](x)&&(t=!1)})),this.visible=t}}},{key:_0x4962("0xf5"),value:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];x[_0x4962("0x6b")](_0x4962("0x165"),this[_0x4962("0x192")]),x[_0x4962("0x6b")](_0x4962("0x193"),this[_0x4962("0x174")]),x.off(_0x4962("0x177"),this[_0x4962("0x176")]),this[_0x4962("0x135")][_0x4962("0x20")]((function(x){x()})),this.visible=!1;var _=this[_0x4962("0x17b")];x[_0x4962("0x194")].clearByUUID(this[_0x4962("0x195")]);var e=x[_0x4962("0x196")].indexOf(this.o3d_);return e>-1&&x[_0x4962("0x196")][_0x4962("0x4")](e,1),_?(_[_0x4962("0x197")](this),l(this),!0):void 0}}]),_}(THREE[_0x4962("0x198")]);_[_0x4962("0xc")]=f},,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x199")]=function(x){x[_0x4962("0x19d")]&&x[_0x4962("0x19d")].stop(),x[_0x4962("0xf2")][_0x4962("0x106")].y=x[_0x4962("0x19e")],x._isAnimating=!1},_[_0x4962("0x19a")]=function(x,_){var e=x;_=_||{};var i=x[_0x4962("0xf2")],a=e[_0x4962("0x106")].y;e[_0x4962("0x19f")]&&!_[_0x4962("0x1a0")]||(e[_0x4962("0x19f")]=!0,_.times=(0,t.getValues)(_,"times",1),0==_[_0x4962("0x1a1")]&&(_[_0x4962("0x1a1")]=Number[_0x4962("0x1a2")]),_[_0x4962("0x1a3")]=(0,t[_0x4962("0x14")])(_,_0x4962("0x1a3"),0),_[_0x4962("0x1a4")]=(0,t[_0x4962("0x14")])(_,"height",18),_.duration=(0,t.getValues)(_,_0x4962("0x1a5"),"duration",1),e[_0x4962("0x19d")]&&e[_0x4962("0x19d")].stop(),e[_0x4962("0x19d")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(i[_0x4962("0x106")]).to({y:a+_[_0x4962("0x1a4")]},.2*_[_0x4962("0x1a8")]*1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")]).onComplete((function(){})),e[_0x4962("0x1ad")]=new(esmap[_0x4962("0x1a6")].Tween)(i[_0x4962("0x106")]).to({y:a},.8*_.duration*1e3).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ae")][_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){_[_0x4962("0x1a1")]--,_[_0x4962("0x1a1")]>0?e[_0x4962("0x19f")]&&(_[_0x4962("0x1a0")]=!0,e[_0x4962("0x19d")][_0x4962("0x1a3")](1e3*_.delay)[_0x4962("0x1b1")]()):(e[_0x4962("0x19f")]=!1,e[_0x4962("0x19d")][_0x4962("0x1b2")](),_[_0x4962("0x1b3")]&&_.callback())})),e[_0x4962("0x19d")][_0x4962("0x1b4")](e[_0x4962("0x1ad")])[_0x4962("0x1b1")]());return _},_[_0x4962("0x19b")]=function(x){var _=x[_0x4962("0x1b5")],e=esmap.ESMap.instance,t=(0,i[_0x4962("0xed")])(_.x,_.y,15),a=[t.x+"_"+t.y],n=(0,i.getTileBound)(t.x,t.y,e.options[_0x4962("0x1b6")],!0),r={x:(n[_0x4962("0xf9")]-n[_0x4962("0xfd")])/2+n[_0x4962("0xfd")],y:(n[_0x4962("0xfa")]-n.miny)/2+n[_0x4962("0xfe")]},s=e[_0x4962("0x1b7")]({from:e[_0x4962("0x1b8")],to:_0x4962("0x1b9"),coord:{x:r.x,y:r.y}});r=s,_.x>r.x&&_.y>r.y?(a.push(t.x+"_"+(t.y+1)),a.push(t.x+1+"_"+(t.y+1)),a[_0x4962("0x3")](t.x+1+"_"+t.y)):_.x>r.x&&_.y<r.y?(a[_0x4962("0x3")](t.x+1+"_"+t.y),a[_0x4962("0x3")](t.x+1+"_"+(t.y-1)),a[_0x4962("0x3")](t.x+"_"+(t.y-1))):_.x<r.x&&_.y>r.y?(a[_0x4962("0x3")](t.x-1+"_"+t.y),a.push(t.x-1+"_"+(t.y+1)),a[_0x4962("0x3")](t.x+"_"+(t.y+1))):_.x<r.x&&_.y<r.y&&(a.push(t.x+"_"+(t.y-1)),a[_0x4962("0x3")](t.x-1+"_"+(t.y-1)),a[_0x4962("0x3")](t.x-1+"_"+t.y));return a},_.doDispose=function x(_){var e=!(arguments[_0x4962("0x0")]>1&&void 0!==arguments[1])||arguments[1];if(_){if(_[_0x4962("0xf1")]&&_.datas_[_0x4962("0xf2")]&&(_.datas_[_0x4962("0xf2")]=void 0,_.datas_=void 0),_.children)for(var t=0;t<_[_0x4962("0xf3")][_0x4962("0x0")];t++)x(_[_0x4962("0xf3")][t],e);if(_[_0x4962("0xf4")]&&(_[_0x4962("0xf4")][_0x4962("0xf5")](),_[_0x4962("0xf4")]=null),_[_0x4962("0xf6")])if(_[_0x4962("0xf6")]instanceof Array)for(var i=0;i<_.material[_0x4962("0x0")];i++){var a=_[_0x4962("0xf6")][i];a&&(e&&a.map&&(a[_0x4962("0x48")][_0x4962("0xf5")](),a[_0x4962("0x48")]=null),a[_0x4962("0xf5")](),a=null)}else e&&_.material[_0x4962("0x48")]&&(_[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0xf5")](),_[_0x4962("0xf6")][_0x4962("0x48")]=null),_[_0x4962("0xf6")][_0x4962("0xf5")](),_[_0x4962("0xf6")]=null}_=null},_[_0x4962("0x19c")]=function(x){var _=window[_0x4962("0xe7")][_0x4962("0x33")].instance;_[_0x4962("0x3b")][_0x4962("0x1ba")]!=_[_0x4962("0x1b8")]&&(x=_[_0x4962("0x1b7")]({from:_[_0x4962("0x3b")][_0x4962("0x1ba")],to:_.coordSystem,coord:x}));return _._coordMapSceneToThree(x)};var t=e(4),i=e(42)},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=[_0x4962("0x1bb"),_0x4962("0x1bc"),"TjEySDU2TS4xSDk4",_0x4962("0x1bd"),"TjEySDU2TS4xSDUyTQ==","TjEySDU2TS4xSDUx",_0x4962("0x1be"),_0x4962("0x1bf"),_0x4962("0x1c0"),_0x4962("0x1c1"),_0x4962("0x1c2")];_[_0x4962("0x1c3")]=t},,,,,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x1c4")]=void 0;var t=r(e(0)),i=r(e(1)),a=e(262),n=e(20);function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}_[_0x4962("0x1c4")]=function(){function x(){(0,t[_0x4962("0xc")])(this,x)}return(0,i[_0x4962("0xc")])(x,null,[{key:_0x4962("0x1c5"),value:function(x){var _=esmap.ESMap[_0x4962("0x3a")],e=_[_0x4962("0x1c6")][_0x4962("0x1c7")][_0x4962("0x1c8")],t=void 0,i="";"[object Object]"===Object[_0x4962("0x1")][_0x4962("0x18b")][_0x4962("0xf")](x)?(t=x[_0x4962("0x1c9")],i=function(x,_){if(_&&_.length)for(var e=0;e<_[_0x4962("0x0")];e++)x=x[_0x4962("0x14d")]("${"+(e+1)+"}",_[e]);return x}(a[_0x4962("0x1ca")][t],x[_0x4962("0x1cb")])):i=a.ERRORS[t],i||(i=_0x4962("0x1cc"));var r=document[_0x4962("0x24")](_0x4962("0x1cd"));r[_0x4962("0x25")][_0x4962("0x1ce")]=_0x4962("0x1cf"),r[_0x4962("0x25")].height=_0x4962("0x1cf"),r[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),r[_0x4962("0x25")][_0x4962("0x1d2")]=_0x4962("0x131"),r[_0x4962("0x25")].alignItems=_0x4962("0x131"),r[_0x4962("0x25")][_0x4962("0x1d3")]="rgba(0,0,0,0.8)",r[_0x4962("0x25")][_0x4962("0x147")]=_0x4962("0x1d4"),r[_0x4962("0x25")][_0x4962("0x1d5")]=_0x4962("0x1d6"),r[_0x4962("0x25")][_0x4962("0x1d7")]=_0x4962("0x1d8"),r[_0x4962("0x1d9")]=i,r[_0x4962("0x1da")]("class",_0x4962("0x1db")),e[_0x4962("0x1d9")]="",e.appendChild(r),n[_0x4962("0x37")][_0x4962("0x1dc")]({msg:""+i,level:"error"}),_.fire("error",{code:t,message:i});var s=new CustomEvent("ESMapError",{detail:{code:t,message:i}});window[_0x4962("0x44")](s)}}]),x}()},function(x,_,e){"use strict";(function(x){Object[_0x4962("0x6")](_,"__esModule",{value:!0});_[_0x4962("0x1dd")]=Object[_0x4962("0x1")].toString[_0x4962("0xf")](typeof x!==_0x4962("0x21")?x:0)===_0x4962("0x1de")&&!x[_0x4962("0x1df")][_0x4962("0x1e0")]}).call(this,e(62))},,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t,i=A(e(23)),a=A(e(7)),n=A(e(8)),r=A(e(9)),s=A(e(6)),o=A(e(2)),c=A(e(5)),l=A(e(0)),f=A(e(1)),d=A(e(10)),u=A(e(314)),h=A(e(11)),g=A(e(150)),b=e(65),v=e(4),p=e(51),m=A(e(146));function A(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var y=null,C=null,I=function(x){function _(x){(0,l[_0x4962("0xc")])(this,_);var e=new(THREE[_0x4962("0x1e1")]),t=(0,d.default)(this,(_[_0x4962("0x1e2")]||(0,c[_0x4962("0xc")])(_)).call(this,esmap.ESNodeType[_0x4962("0x1e3")],{},e));em.Evento[_0x4962("0x1e4")](t),t[_0x4962("0x48")]=t[_0x4962("0x34")][_0x4962("0x48")];var i=t[_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")].Building?23:12;return t[_0x4962("0x1e5")]={showLevel:x.showLevel||i,minShowLevel:null,maxShowLevel:null,visibleLock:!1},(0,o[_0x4962("0xc")])(t,{diableClickEffect:!1,ID:Math[_0x4962("0x1e6")]()[_0x4962("0x18b")](36)[_0x4962("0x1e7")](-8),name:"model",model:"",alias:_0x4962("0x1e8"),bid:0,top:1,gid:0,mapId:null,animations:[],callbackparams:null,fnum:null,url:null,isChildNode:!1,configs:!1,clickAnimation:!0,status:0,pickable:!0,callback:null},x),t.glowing=!1,t[_0x4962("0x1e9")]=0,t._clockMovePath=new(THREE[_0x4962("0x1ea")]),t[_0x4962("0x1eb")]=[],t[_0x4962("0x1ec")]=0,t._directionVolume=0,t[_0x4962("0x1ed")]=0,t[_0x4962("0x1ee")]=null,t[_0x4962("0x1ef")]=!1,t[_0x4962("0x1f0")]=t.map[_0x4962("0x7f")].modelLod,t.overideCoord=null,t[_0x4962("0x1f1")]=!0,t[_0x4962("0x1f2")]=[],t[_0x4962("0x1f3")]=x[_0x4962("0x1f3")],t}var e;return(0,h[_0x4962("0xc")])(_,x),(0,f[_0x4962("0xc")])(_,[{key:"addMarker",value:function(x){this[_0x4962("0xf2")][_0x4962("0xda")](x[_0x4962("0xf2")]),x[_0x4962("0xf2")][_0x4962("0x106")].x=0,x[_0x4962("0xf2")][_0x4962("0x106")].z=0,x[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f4")]=this[_0x4962("0xf2")].position[_0x4962("0x126")](),this.markers[_0x4962("0x3")](x)}},{key:_0x4962("0x39"),value:function(){this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]||this.onZoomed(this[_0x4962("0x34")][_0x4962("0x48")][_0x4962("0x1f6")]),this[_0x4962("0xf2")].name=this[_0x4962("0x1f7")]?"":_0x4962("0x108"),this.o3d_[_0x4962("0x166")][_0x4962("0x1f8")]={},this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]=[],this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1fa")]=null,this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x9d")]=_0x4962("0x1fb"),this[_0x4962("0x1fc")].renderOrder=esmap[_0x4962("0x171")].model3D,this.o3d_.add(this[_0x4962("0x1fc")]),this.o3d_[_0x4962("0x1fd")]=this[_0x4962("0x1fd")];var x=this.scale;this[_0x4962("0xf2")][_0x4962("0x1fe")].set(x.x,x.y,x.z);var _=this.rotation||new(THREE[_0x4962("0x12c")])(0,0,0);this.o3d_[_0x4962("0x1ff")]=(new(THREE[_0x4962("0x200")]))[_0x4962("0x201")](new THREE.Euler(_.x,_.y,_.z,_0x4962("0x202")));var e=new(THREE[_0x4962("0x200")]),t=new(THREE[_0x4962("0x200")]),i=new THREE.Quaternion;e[_0x4962("0x203")](new THREE.Vector3(1,0,0),_.x),t[_0x4962("0x203")](new(THREE[_0x4962("0x12c")])(0,1,0),_.y),i[_0x4962("0x203")](new THREE.Vector3(0,0,1),_.z);var a=new THREE.Quaternion;a.multiply(e).multiply(t)[_0x4962("0x204")](i),this[_0x4962("0xf2")][_0x4962("0x205")][_0x4962("0x206")](a);var n=this.position;this[_0x4962("0xf2")][_0x4962("0x106")].x=n.x,this[_0x4962("0xf2")][_0x4962("0x106")].y=n.y,this[_0x4962("0xf2")][_0x4962("0x106")].z=n.z,this[_0x4962("0x207")]=this.map[_0x4962("0x208")](this.o3d_[_0x4962("0x106")]),this[_0x4962("0x209")][_0x4962("0xda")](this[_0x4962("0xf2")]),this[_0x4962("0x31")]&&(this[_0x4962("0x132")]=this.floor.FloorNum),this[_0x4962("0x20a")](),this[_0x4962("0x1ef")]=!0,this._skipProcessChild||this.map[_0x4962("0x3b")][_0x4962("0x1f5")]||this.preprocessChilds()}},{key:_0x4962("0x20b"),value:function(){var x=new(THREE[_0x4962("0x20c")]);return x[_0x4962("0x20d")](this[_0x4962("0xf2")][_0x4962("0x1ff")]),{x:THREE[_0x4962("0x20e")][_0x4962("0x20f")](x[_0x4962("0x210")].x),y:THREE.Math[_0x4962("0x20f")](x[_0x4962("0x210")].y),z:THREE[_0x4962("0x20e")][_0x4962("0x20f")](x[_0x4962("0x210")].z)}}},{key:_0x4962("0x211"),value:function(){var x=this,e=this[_0x4962("0x48")],t=this[_0x4962("0x130")],i=e[_0x4962("0x139")](this[_0x4962("0x130")]);i||(i=e.getTileById(this[_0x4962("0x130")]));var a=this.model,n=!1,r=function x(_){return _[_0x4962("0x17b")]?_.parent[_0x4962("0xf1")]?_[_0x4962("0x17b")]:x(_[_0x4962("0x17b")]):null};this[_0x4962("0x1fc")][_0x4962("0x104")]((function(s){var o=s[_0x4962("0x166")];if(o[_0x4962("0x107")]&&!s.datas_){var c=r(s),l=new _({diableClickEffect:!1,name:o[_0x4962("0x107")],fnum:c[_0x4962("0xf1")].fnum,ID:o.id,url:"",gid:null,mapId:e.id,bid:t,dataID:o[_0x4962("0x212")]||x[_0x4962("0x212")],bType:i[_0x4962("0x213")],model:a,callback:null,top:1,rotation:{},position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:s,addTo:s[_0x4962("0x17b")],isChildNode:!1,animations:[]});l[_0x4962("0xf2")]=s,s[_0x4962("0x214")]=function(){if(!s[_0x4962("0x166")][_0x4962("0x215")]){var x=s[_0x4962("0x216")](new(THREE[_0x4962("0x12c")]));l[_0x4962("0x217")]=e[_0x4962("0x208")](x),s.userData[_0x4962("0x215")]=!0}},s[_0x4962("0xf1")]=l,n||(n=!0)}})),this.hasChild=n}},{key:_0x4962("0x218"),value:function(x){var _=this._props,e=_[_0x4962("0x219")],t=_[_0x4962("0x21a")],i=_[_0x4962("0x21b")];if(null!==this.showLevel&&!i){var a=this.mapScene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x21c")];if(this[_0x4962("0x34")][_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x41")]||!a)if(null!=e&&null!=t){if(x<e||x>t)return this[_0x4962("0xf2")][_0x4962("0x17c")]=!1,void(this[_0x4962("0xf2")].userData[_0x4962("0x21d")]=!0);this[_0x4962("0xf2")][_0x4962("0x17c")]=!0,this.o3d_[_0x4962("0x166")].outoflevel=!1}else null!=t&&null===e&&(x<t?(this[_0x4962("0xf2")].visible=!1,this[_0x4962("0xf2")][_0x4962("0x166")].outoflevel=!0):(this[_0x4962("0xf2")][_0x4962("0x17c")]=!0,this.o3d_[_0x4962("0x166")][_0x4962("0x21d")]=!1));else{if(x=this[_0x4962("0x34")].map[_0x4962("0x21e")],null!=e&&x<e)return this[_0x4962("0xf2")][_0x4962("0x17c")]=!1,void(this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x21d")]=!0);x>t?(this[_0x4962("0xf2")][_0x4962("0x17c")]=!1,this.o3d_[_0x4962("0x166")][_0x4962("0x21d")]=!0):(this.o3d_.visible=!0,this[_0x4962("0xf2")].userData[_0x4962("0x21d")]=!1)}}}},{key:_0x4962("0x21f"),value:function(x){var _=this.map,e=_0x4962("0x220")+x,t=this[_0x4962("0x1fc")][_0x4962("0x221")](e);if(t){console[_0x4962("0x223")]("ACHOR: "+x,t);var i=t[_0x4962("0x216")](new(THREE[_0x4962("0x12c")]));return _[_0x4962("0x208")](i)}console[_0x4962("0xe0")](_0x4962("0x222")+e)}},{key:_0x4962("0x20a"),value:function(){var x=this,_=x[_0x4962("0x34")][_0x4962("0x48")],e=x.onUpdate.bind(x);_.on(_0x4962("0x165"),e);var t=x[_0x4962("0x218")].bind(this);_[_0x4962("0x3b")][_0x4962("0x1f5")]||_.on(_0x4962("0x179"),t),this.o3d_.addEventListener("removed",(function(){for(;x[_0x4962("0x1eb")][_0x4962("0x0")]>0;){var i=x[_0x4962("0x1eb")][_0x4962("0x224")]();i._bindupates&&(_[_0x4962("0x6b")](_0x4962("0x165"),i[_0x4962("0x225")]),i.dispose())}_[_0x4962("0x6b")]("update",e),_[_0x4962("0x3b")][_0x4962("0x1f5")]||_[_0x4962("0x6b")](_0x4962("0x179"),t),x[_0x4962("0x226")](),x[_0x4962("0x227")](_0x4962("0x228"))}))}},{key:_0x4962("0x173"),value:function(){var x=this,_=x.mapScene.map;if(x.o3d_){var e=x.o3d_.userData.toRot,t=x[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x229")];if(e&&(x[_0x4962("0xf2")][_0x4962("0x205")][_0x4962("0x22a")](e,.08),t)){var i=new(THREE[_0x4962("0x12c")])(1,0,0),a=i.clone(),n=x[_0x4962("0xf2")][_0x4962("0x22b")][_0x4962("0x126")]();n[_0x4962("0x22c")](new THREE.Vector3),a.applyMatrix4(n);var r=(r=a[_0x4962("0x126")]().cross(i)).y<0?-1:1,s=i[_0x4962("0x22d")](a),o=THREE[_0x4962("0x20e")].radToDeg(s*r);_[_0x4962("0x194")][_0x4962("0x22e")]?x.needRotate=!0:x[_0x4962("0x22f")]?(o<0&&(o=360+o),_[_0x4962("0x230")]>o?_.rotateAngle-=1:_[_0x4962("0x230")]+=1,Math[_0x4962("0x231")](_[_0x4962("0x230")]-o)<=3&&(x[_0x4962("0x22f")]=!1)):_[_0x4962("0x230")]=o}x[_0x4962("0x232")]()}}},{key:"moveTo",value:function(x){var _=x,e=this,t=(0,v.getValues)(_,_0x4962("0x1a5"),"duration",1),i=esmap[_0x4962("0x33")].instance[_0x4962("0x34")];e[_0x4962("0x19f")]=!0,e._moveToID&&e[_0x4962("0x233")][_0x4962("0x1b2")]();var a=this,n=i.map,r=a[_0x4962("0xf2")].position[_0x4962("0x126")](),s=_[_0x4962("0x2")](_0x4962("0x234"))?_[_0x4962("0x234")]:0,o=_[_0x4962("0x2")]("z")?_.z:a.o3d_[_0x4962("0x106")].y,c=_[_0x4962("0x2")](_0x4962("0x235"))?_[_0x4962("0x235")]:null,l=n[_0x4962("0x236")](r,!0);_[_0x4962("0x2")]("x")||(_.x=l.x),_.hasOwnProperty("y")||(_.y=l.y);var f=n[_0x4962("0x237")]({x:_.x,y:_.y,z:o},!0),d=esmap[_0x4962("0x8c")][_0x4962("0x238")]({x:r.x,y:r.z},{x:f.x,y:f.z}),u=!1;if((_[_0x4962("0x2")](_0x4962("0x239"))&&(u=_.orientToPath),u&&null!=c&&null!=this[_0x4962("0xf2")][_0x4962("0x166")].lastWalkAngle)&&f[_0x4962("0x23a")](r)<=c[_0x4962("0x23b")]){var h=Math[_0x4962("0x231")](d-this[_0x4962("0xf2")][_0x4962("0x166")].lastWalkAngle);h>360&&(h-=360),h>=c[_0x4962("0x23c")][0]&&h<=c[_0x4962("0x23c")][1]||h>=c.backward[0]&&h<=c[_0x4962("0x23d")][1]&&(s=180)}if(null==this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x23e")]||u){var g=d+s;this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x23e")]=g>360?g-360:g}if(u){var b=new(THREE[_0x4962("0x23f")]);if(r.x!=f.x||r.z!=f.z){b[_0x4962("0x240")](f,r,this[_0x4962("0xf2")].up),b[_0x4962("0x204")]((new(THREE[_0x4962("0x23f")])).makeRotationFromEuler(new(THREE[_0x4962("0x241")])(0,THREE[_0x4962("0x20e")][_0x4962("0x242")](s),0)));var p=(new(THREE[_0x4962("0x200")])).setFromRotationMatrix(b);a[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x243")]&&a[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x243")][_0x4962("0x1b2")]();var m=(new THREE.Quaternion)[_0x4962("0x206")](a[_0x4962("0xf2")].quaternion),A=new(THREE[_0x4962("0x200")]),y={value:0};a[_0x4962("0xf2")].userData[_0x4962("0x243")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(y).to({value:1},500).easing(esmap[_0x4962("0x1a6")].Easing[_0x4962("0x244")].None)[_0x4962("0x173")]((function(x,_){THREE[_0x4962("0x200")][_0x4962("0x22a")](m,p,A,y[_0x4962("0xe3")]),a[_0x4962("0xf2")][_0x4962("0x205")][_0x4962("0xd8")](A.x,A.y,A.z,A.w)}))[_0x4962("0x1b0")]((function(){})).start()}}e[_0x4962("0x233")]=new esmap.TWEEN.Tween(this[_0x4962("0xf2")][_0x4962("0x106")]).to(f,1e3*t)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x173")]((function(x,e){if(_[_0x4962("0x246")]){var t=n[_0x4962("0x208")](x);_[_0x4962("0x246")]({position:{x:t.x,y:t.y},progress:e,angle:d})}a[_0x4962("0x247")]&&a[_0x4962("0x247")]._checkMarker(a)}))[_0x4962("0x1b0")]((function(){a[_0x4962("0x19f")]=!1,_.callback&&_.callback(a)})).start()}},{key:_0x4962("0xda"),value:function(x){this[_0x4962("0xf2")].add(x)}},{key:_0x4962("0x248"),value:function(x){this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x249")]||(0,b[_0x4962("0x19a")])(this,x)}},{key:_0x4962("0x24a"),value:function(){(0,b[_0x4962("0x199")])(this)}},{key:_0x4962("0x24b"),value:function(){}},{key:_0x4962("0x24c"),value:function(){}},{key:_0x4962("0x232"),value:function(){}},{key:"restoreScale",value:function(){var x=this[_0x4962("0xf2")];x.userData[_0x4962("0x24d")]&&(x[_0x4962("0x1fe")][_0x4962("0x206")](x[_0x4962("0x166")][_0x4962("0x24d")]),x[_0x4962("0x166")][_0x4962("0x24d")]=null)}},{key:_0x4962("0x24e"),value:function(){this[_0x4962("0x17c")]=!0}},{key:_0x4962("0x24f"),value:function(){this[_0x4962("0x17c")]=!1}},{key:"setScale",value:function(x){var _=this[_0x4962("0xf2")];_[_0x4962("0x166")].originalScale||(_[_0x4962("0x166")][_0x4962("0x24d")]=_.scale[_0x4962("0x126")]()),_[_0x4962("0x1fe")][_0x4962("0x250")](x)}},{key:_0x4962("0x251"),value:function(x){var _=this.o3d_;if(isNaN(x)||(x={angle:x}),x.debug&&!this[_0x4962("0x252")]){var e=new(THREE[_0x4962("0x253")])(x.debug);this.o3d_.add(e),this[_0x4962("0x252")]=!0}var t=(0,o[_0x4962("0xc")])({time:1,angle:0,onComplete:null},x),i={x:0,y:0,z:0};if((0,s[_0x4962("0xc")])(t[_0x4962("0x234")])===_0x4962("0x9")){if((0,o[_0x4962("0xc")])(i,t[_0x4962("0x234")]),0===x[_0x4962("0x1a5")]){var a=new(THREE[_0x4962("0x200")]),n=new(THREE[_0x4962("0x200")]),r=new(THREE[_0x4962("0x200")]);a[_0x4962("0x203")](new THREE.Vector3(1,0,0),THREE[_0x4962("0x20e")].degToRad(i.x)),n[_0x4962("0x203")](new(THREE[_0x4962("0x12c")])(0,1,0),THREE.Math[_0x4962("0x242")](i.y)),r[_0x4962("0x203")](new(THREE[_0x4962("0x12c")])(0,0,1),THREE[_0x4962("0x20e")][_0x4962("0x242")](i.z));var c=new(THREE[_0x4962("0x200")]);return c.multiply(a)[_0x4962("0x204")](n).multiply(r),void _[_0x4962("0x205")].copy(c)}}else i.z=1*t[_0x4962("0x234")];var l=(new THREE.Quaternion)[_0x4962("0x201")](new(THREE[_0x4962("0x241")])(THREE[_0x4962("0x20e")][_0x4962("0x242")](i.x),THREE[_0x4962("0x20e")][_0x4962("0x242")](i.z),THREE[_0x4962("0x20e")][_0x4962("0x242")](i.y),_0x4962("0x202"))),f={value:0},d=(new(THREE[_0x4962("0x200")]))[_0x4962("0x206")](_[_0x4962("0x205")]),u=new THREE.Quaternion;_.userData[_0x4962("0x254")]&&_[_0x4962("0x166")][_0x4962("0x254")][_0x4962("0x1b2")]();var h=new esmap.TWEEN.Tween(f).to({value:1},1e3*t[_0x4962("0x1a5")])[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x244")].None)[_0x4962("0x173")]((function(x){THREE[_0x4962("0x200")][_0x4962("0x22a")](d,l,u,f[_0x4962("0xe3")]),_[_0x4962("0x205")][_0x4962("0xd8")](u.x,u.y,u.z,u.w)}))[_0x4962("0x1b0")](t[_0x4962("0x1b0")])[_0x4962("0x1b1")]();_[_0x4962("0x166")].rotateAnimate=h}},{key:_0x4962("0x255"),value:function(){var x=esmap[_0x4962("0x33")].instance;this[_0x4962("0x256")]=!1,x[_0x4962("0x257")][_0x4962("0x258")]=!0,this.o3d_.userData[_0x4962("0x229")]=!1}},{key:_0x4962("0x259"),value:function(x){var _=this;x=x||{};var e=esmap[_0x4962("0x33")][_0x4962("0x3a")];e[_0x4962("0x25a")]({x:this[_0x4962("0x217")].x,y:this[_0x4962("0x217")].y,z:this[_0x4962("0x217")].z,directionAngle:e[_0x4962("0x230")],pitchAngle:60,radius:10});var i=null!=x[_0x4962("0x25b")],a=!1,n=!1,r=!1,s=!1;_[_0x4962("0x256")]=!0,_[_0x4962("0xf2")][_0x4962("0x166")].needRotateCamera=i;e[_0x4962("0x257")].enableMapPan=!1;var o=_.o3d_.position.y;_[_0x4962("0x25d")]||(document[_0x4962("0x25e")]("keydown",(function(x){switch(x[_0x4962("0x25c")]){case 38:case 87:a=!0;break;case 37:case 65:n=!0;break;case 40:case 83:s=!0;break;case 39:case 68:r=!0}}),!1),document.addEventListener(_0x4962("0x25f"),(function(x){switch(x.keyCode){case 38:case 87:a=!1;break;case 37:case 65:n=!1;break;case 40:case 83:s=!1;break;case 39:case 68:r=!1}}),!1),_[_0x4962("0x25d")]=!0,e.on(_0x4962("0x165"),(function(){if(_[_0x4962("0x256")])if(a||n||r||s){var x=e[_0x4962("0x260")].target.clone();x.y=o,e[_0x4962("0x257")][_0x4962("0x258")]=!0;var i=0;n?i=90:r?i=-90:s&&(i=180),_.animations[_0x4962("0x63")](_0x4962("0x261"))&&!_[_0x4962("0x262")]&&_[_0x4962("0x263")]({name:_0x4962("0x261")});var c=e.currentCamera[_0x4962("0x106")][_0x4962("0x126")]();c.y=o,t||(t=setTimeout((function(){_[_0x4962("0x264")]&&(_[_0x4962("0x34")][_0x4962("0x48")][_0x4962("0x265")]=!0,_.modelLoadManager.queueRanked=!1,_[_0x4962("0x264")][_0x4962("0x266")]=!1,window[_0x4962("0x267")](t),t=null)}),800)),_[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0x206")](x);var l=new THREE.Matrix4;l[_0x4962("0x240")](x,c,_[_0x4962("0xf2")].up),l[_0x4962("0x204")]((new(THREE[_0x4962("0x23f")]))[_0x4962("0x268")](new THREE.Euler(0,THREE[_0x4962("0x20e")][_0x4962("0x242")](i),0))),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=(new(THREE[_0x4962("0x200")]))[_0x4962("0x26a")](l)}else e.gestureController[_0x4962("0x258")]&&(e[_0x4962("0x257")][_0x4962("0x258")]=!1)})))}},{key:_0x4962("0x26b"),value:function(x){x=x||1,this[_0x4962("0xf2")][_0x4962("0x104")]((function(x){x.material&&x[_0x4962("0xf6")][_0x4962("0x166")].hasOwnProperty(_0x4962("0x26c"))&&(x[_0x4962("0xf6")][_0x4962("0x144")]=x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x26c")],x[_0x4962("0xf6")][_0x4962("0x145")]=x.material.userData[_0x4962("0x145")],delete x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x26c")],delete x[_0x4962("0xf6")][_0x4962("0x166")].opacity)}))}},{key:_0x4962("0x26d"),value:function(x){var _,e,t;"number"==typeof x?(_=x,e=1,t=!1):!1===x?(e=1,_=!1,t=!1):(_=x[_0x4962("0x12e")],e=null==x[_0x4962("0x1a5")]?1:x[_0x4962("0x1a5")],t=null!=x[_0x4962("0x26e")]&&x[_0x4962("0x26e")]),esmap[_0x4962("0x8c")][_0x4962("0x26d")]({target:this[_0x4962("0xf2")],alpha:_,time:e,clonemat:t})}},{key:_0x4962("0x26f"),value:function(){this.glowSprite&&(this[_0x4962("0x270")][_0x4962("0x17c")]=!1,this[_0x4962("0x270")].scale[_0x4962("0xd8")](.01,.01,1),esmap.MapObjectUtils[_0x4962("0x24c")][_0x4962("0xf")](this[_0x4962("0x270")]),this[_0x4962("0x270")][_0x4962("0x19f")]=!1,this[_0x4962("0x271")]=!1)}},{key:_0x4962("0x272"),value:function(x){var _=this,e=x||{};if(e[_0x4962("0x147")]=null==e[_0x4962("0x147")]?"#FF0000":e[_0x4962("0x147")],e[_0x4962("0x1a4")]=null==e.height?0:e[_0x4962("0x1a4")],e[_0x4962("0x273")]=null==e[_0x4962("0x273")]||e.fixedSize,e[_0x4962("0x16c")]=null==e[_0x4962("0x16c")]||e.seeThrough,null==e[_0x4962("0x1fe")]&&(e[_0x4962("0x1fe")]=1),e.scale=.1*e[_0x4962("0x1fe")],!this.glowSprite){var t=_0x4962("0x274"),i=(new(THREE[_0x4962("0x18c")]))[_0x4962("0x18d")](t),a=new THREE.SpriteMaterial({map:i,depthWrite:!0,transparent:!0,blending:THREE[_0x4962("0x275")],sizeAttenuation:!e[_0x4962("0x273")]});a[_0x4962("0x276")]=!0,e[_0x4962("0x16c")]&&(a[_0x4962("0x16d")]=!1),a[_0x4962("0x147")]=(new THREE.Color)[_0x4962("0x277")](e[_0x4962("0x147")]||_0x4962("0x128"));var n=new(THREE[_0x4962("0x278")])(a);n[_0x4962("0x1fe")].set(.001,.001,1),n[_0x4962("0x107")]=_0x4962("0x279"),n[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x27a")],n.userData[_0x4962("0x27b")]=!0,n[_0x4962("0x166")][_0x4962("0x1a1")]=1e3,_[_0x4962("0xf2")][_0x4962("0xda")](n),_[_0x4962("0x270")]=n}this[_0x4962("0x26f")](),_[_0x4962("0x270")][_0x4962("0x1fe")][_0x4962("0xd8")](x[_0x4962("0x1fe")],x[_0x4962("0x1fe")],1),x.color&&_[_0x4962("0x270")].material[_0x4962("0x147")].set(x[_0x4962("0x147")]),this.glowSprite[_0x4962("0x17c")]=!0,e[_0x4962("0x1a1")]=null==e[_0x4962("0x1a1")]?0:e.times,_[_0x4962("0x270")][_0x4962("0x106")].y=e[_0x4962("0x1a4")],esmap[_0x4962("0x27c")][_0x4962("0x27d")].call(_.glowSprite,e),_.glowing=!0}},{key:_0x4962("0x27e"),value:function(x,_,e){var t=new(THREE[_0x4962("0x12c")])(this[_0x4962("0x48")][_0x4962("0x3b")].center[0]-x,this[_0x4962("0xf2")].position.y,_-this[_0x4962("0x48")][_0x4962("0x3b")].center[1]),i=new(THREE[_0x4962("0x23f")]),a=this;i[_0x4962("0x240")](this[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0x126")](),t,this[_0x4962("0xf2")].up),i[_0x4962("0x204")]((new THREE.Matrix4)[_0x4962("0x268")](new(THREE[_0x4962("0x241")])(0,THREE[_0x4962("0x20e")][_0x4962("0x242")](e||0),0))),this[_0x4962("0xf2")].userData[_0x4962("0x269")]=(new THREE.Quaternion).setFromRotationMatrix(i),this[_0x4962("0xf2")].position.x=t.x,this[_0x4962("0xf2")][_0x4962("0x106")].z=t.z,this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x27f")]||(this.o3d_[_0x4962("0x166")][_0x4962("0x27f")]=!0,this[_0x4962("0x48")].on(_0x4962("0x165"),(function(){var x=a[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")];x&&a[_0x4962("0xf2")][_0x4962("0x205")][_0x4962("0x22a")](x,.1)})))}},{key:_0x4962("0x280"),value:function(x){if(x&&x[_0x4962("0x1a8")])for(var _ in this[_0x4962("0xf2")].userData[_0x4962("0x1f8")])this[_0x4962("0xf2")].userData.actions[_][_0x4962("0x281")](x[_0x4962("0x1a8")]);else for(var e in this[_0x4962("0xf2")][_0x4962("0x166")].actions)this.o3d_[_0x4962("0x166")][_0x4962("0x1f8")][e][_0x4962("0x1b2")]();this[_0x4962("0x262")]=!1}},{key:_0x4962("0x282"),value:function(){this[_0x4962("0xf5")]()}},{key:_0x4962("0x263"),value:function(x){var _,e=this,t={name:"",repeat:1,stopAllActions:!1,clampWhenFinished:!1,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,delay:0};return new r.default((_=(0,n.default)(a[_0x4962("0xc")][_0x4962("0x283")]((function _(i){var n,s,c,l,f,d,u,h,g,b,v,p,m,A;return a[_0x4962("0xc")][_0x4962("0x284")]((function(_){for(;;)switch(_[_0x4962("0x285")]=_[_0x4962("0x286")]){case 0:if(typeof x===_0x4962("0xd")?t[_0x4962("0x107")]=x:(0,o[_0x4962("0xc")])(t,x),n=e[_0x4962("0x4d")],s=e,c=n.lastIndexOf("/"),n[_0x4962("0x7d")](c),l=e[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f8")],f=e[_0x4962("0xf2")][_0x4962("0xf3")][0],d=e[_0x4962("0x34")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x287")][s[_0x4962("0x288")]]){_[_0x4962("0x286")]=11;break}return console.info(esmap[_0x4962("0x289")][_0x4962("0x28a")]),_[_0x4962("0x28b")](_0x4962("0x28c"));case 11:return u=e[_0x4962("0x34")][_0x4962("0x48")],h=s[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1fa")],t[_0x4962("0x28d")]&&(t[_0x4962("0x15b")]=1/0),h||(h=new(THREE[_0x4962("0x28e")])(f),d.animations[_0x4962("0x20")]((function(x){var _=h[_0x4962("0x28f")](x);_[_0x4962("0x290")]=!0,_[_0x4962("0x291")]=t.repeat,l[x[_0x4962("0x107")][_0x4962("0x292")]()]=_})),e.o3d_[_0x4962("0x166")][_0x4962("0x1fa")]=h),_[_0x4962("0x286")]=17,new(r[_0x4962("0xc")])((function(x){setTimeout(x,1e3*t[_0x4962("0x1a3")])}));case 17:if(g=l[t[_0x4962("0x107")]]){_[_0x4962("0x286")]=22;break}return console[_0x4962("0x293")](t[_0x4962("0x107")]+_0x4962("0x294")+esmap.ESInfo[_0x4962("0x295")]),console[_0x4962("0x293")](e[_0x4962("0x296")]),_[_0x4962("0x28b")](_0x4962("0x28c"));case 22:if(b=e[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x297")],t.loop?g[_0x4962("0x28d")]=THREE.LoopRepeat:1===t[_0x4962("0x15b")]?g[_0x4962("0x28d")]=THREE[_0x4962("0x298")]:g[_0x4962("0x28d")]=THREE.LoopRepeat,g[_0x4962("0x291")]=t[_0x4962("0x15b")],g[_0x4962("0x290")]=t[_0x4962("0x290")],t.stopAllActions)for(v in l)l[v][_0x4962("0x281")](t[_0x4962("0x1a5")]);else t[_0x4962("0x299")]&&b&&b[_0x4962("0x281")](t[_0x4962("0x1a5")]);g[_0x4962("0x29a")]()[_0x4962("0x29b")](1)[_0x4962("0x29c")](1)[_0x4962("0x29d")](t.time)[_0x4962("0x29e")](),h[_0x4962("0x29f")]||(h[_0x4962("0x29f")]=!0,p=new(THREE[_0x4962("0x1ea")]),m=function(){h[_0x4962("0x165")](p[_0x4962("0x2a0")]())},u.on(_0x4962("0x165"),m),h[_0x4962("0x178")]=m),s[_0x4962("0x262")]=!0,s.o3d_[_0x4962("0x166")].previousAction=g,t[_0x4962("0x28d")]?i():(A=function x(_){t.callback&&t.callback(s),s[_0x4962("0x262")]=!1,h[_0x4962("0x2a1")](_0x4962("0x2a2"),x),h[_0x4962("0x2a3")]=null,i()},h[_0x4962("0x25e")](_0x4962("0x2a2"),A),h[_0x4962("0x2a3")]=A,0==t[_0x4962("0x1a5")]&&t[_0x4962("0x1b3")]&&t[_0x4962("0x1b3")](s));case 32:case"end":return _[_0x4962("0x1b2")]()}}),_,e)}))),function(x){return _[_0x4962("0x2a4")](this,arguments)}))}},{key:"playAnimationPre",value:function(x){var _={name:"",repeat:1,clampWhenFinished:!0,crossFadeTime:.5,time:1,loop:!1,stopLastAction:!0,callback:null,loopReverse:!1};typeof x===_0x4962("0xd")?_[_0x4962("0x107")]=x:(0,o[_0x4962("0xc")])(_,x);var e=this.url,t=this,i=e[_0x4962("0x7c")]("/"),a=(e[_0x4962("0x7d")](i),this.o3d_[_0x4962("0x166")].actions),n=this.o3d_[_0x4962("0xf3")][0],r=this[_0x4962("0x264")][_0x4962("0x287")][t[_0x4962("0x288")]];if(r){var s=this.mapScene[_0x4962("0x48")],c=this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1fa")];_.loop&&(_[_0x4962("0x15b")]=1/0),c||(c=new THREE.AnimationMixer(n),r[_0x4962("0x296")][_0x4962("0x20")]((function(x){var e=c[_0x4962("0x28f")](x);e[_0x4962("0x290")]=!0,e[_0x4962("0x291")]=_[_0x4962("0x15b")],a[x[_0x4962("0x107")][_0x4962("0x292")]()]=e})),this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1fa")]=c);var l=a[_[_0x4962("0x107")]];if(l){var f=this.o3d_.userData[_0x4962("0x297")];if(f||(this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x297")]=l,f=l),_[_0x4962("0x28d")]?(l[_0x4962("0x28d")]=THREE[_0x4962("0x2a5")],_.loopReverse&&(l[_0x4962("0x28d")]=THREE[_0x4962("0x2a6")])):l.loop=THREE.LoopOnce,l.repetitions=_.repeat,l[_0x4962("0x290")]=_[_0x4962("0x290")],_[_0x4962("0x299")])f!=l?(l[_0x4962("0x29a")]()[_0x4962("0x29d")](_.time)[_0x4962("0x29e")](),f[_0x4962("0x2a7")](l,0)):l[_0x4962("0x29a")]()[_0x4962("0x29b")](1)[_0x4962("0x29c")](1)[_0x4962("0x29d")](_[_0x4962("0x1a5")])[_0x4962("0x29e")]();else{var d=_.name.match(/^[A-Za-z0-9]+\-/);if(d){var u=d[0];for(var h in a)h[_0x4962("0x2a8")](/^[A-Za-z0-9]+\-/)[0]==u&&a[h].stop()[_0x4962("0x29a")]()}l[_0x4962("0x29e")]()}if(!c[_0x4962("0x29f")]){c.watching=!0;var g=new(THREE[_0x4962("0x1ea")]);s.on("update",(function(){c[_0x4962("0x165")](g[_0x4962("0x2a0")]())}))}t[_0x4962("0x262")]=!0,t.o3d_[_0x4962("0x166")].previousAction=l;c[_0x4962("0x25e")](_0x4962("0x2a2"),(function x(e){_[_0x4962("0x1b3")]&&_[_0x4962("0x1b3")](),t[_0x4962("0x262")]=!1,c[_0x4962("0x2a1")](_0x4962("0x2a2"),x)}))}else console[_0x4962("0x293")](esmap[_0x4962("0x289")][_0x4962("0x295")])}else console.info(esmap[_0x4962("0x289")][_0x4962("0x28a")])}},{key:_0x4962("0x2a9"),value:function(){this[_0x4962("0x2aa")](!1)}},{key:_0x4962("0x2aa"),value:function(x){var _=this[_0x4962("0xf2")];esmap[_0x4962("0x27c")][_0x4962("0x2aa")](_,x)}},{key:_0x4962("0x2ab"),value:function(){var x=this[_0x4962("0x34")][_0x4962("0x48")],_=this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2ac")];_&&(_[_0x4962("0x2ad")](),this[_0x4962("0x2ae")]&&this[_0x4962("0x2ae")][_0x4962("0x2af")]&&(null==y&&(y=x[_0x4962("0x260")][_0x4962("0x2b0")]),null==C&&(C=x[_0x4962("0x260")].minDistance),x.controls.maxDistance=this[_0x4962("0x2ae")].maxViewDistance,x[_0x4962("0x260")][_0x4962("0x2b1")]=this[_0x4962("0x2ae")].minViewDistance,x.gestureController.enableMapPan=!1))}},{key:_0x4962("0x2b2"),value:function(){var x=this.mapScene[_0x4962("0x48")],_=this.o3d_[_0x4962("0x166")][_0x4962("0x2ac")];_&&(_[_0x4962("0x2b3")](),this[_0x4962("0x2ae")]&&this.movePathController[_0x4962("0x2af")]&&(y&&(x[_0x4962("0x260")][_0x4962("0x2b0")]=y,y=null),C&&(x[_0x4962("0x260")][_0x4962("0x2b1")]=C,C=null),x.gestureController[_0x4962("0x258")]||(x.gestureController[_0x4962("0x258")]=!0),this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x229")]=!1))}},{key:"stopMoving",value:function(){var x=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],_=this;if(_[_0x4962("0x233")]&&_[_0x4962("0x233")].stop(),x&&(_[_0x4962("0x1e9")]=0),_[_0x4962("0xf2")]){var e=_[_0x4962("0x34")].map;this[_0x4962("0x2ae")]&&this[_0x4962("0x2ae")][_0x4962("0x2af")]&&(y&&(e[_0x4962("0x260")][_0x4962("0x2b0")]=y,y=null),C&&(e[_0x4962("0x260")][_0x4962("0x2b1")]=C,C=null),e[_0x4962("0x257")][_0x4962("0x258")]||(e[_0x4962("0x257")][_0x4962("0x258")]=!0),_[_0x4962("0xf2")].userData[_0x4962("0x229")]=!1),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=null,this[_0x4962("0xf2")].userData[_0x4962("0x249")]=!1,_[_0x4962("0xf2")][_0x4962("0x166")].lastRotateAction&&(_.o3d_[_0x4962("0x166")][_0x4962("0x243")].stop(),_.o3d_.userData[_0x4962("0x243")]=null),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]&&_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")].forEach((function(x){x.stop()})),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2ac")]&&(_.o3d_.userData[_0x4962("0x2ac")][_0x4962("0x1b2")](),_[_0x4962("0xf2")].userData[_0x4962("0x2ac")]=null),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]=[],e[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0x2b5")]()}}},{key:"fadeIn",value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},_=this[_0x4962("0xf2")],e=null==x[_0x4962("0x1a5")]?1:x[_0x4962("0x1a5")];_.traverse((function(x){if(x[_0x4962("0xf6")]){var _=x[_0x4962("0xf6")];if(_ instanceof Array&&(_=x[_0x4962("0xf6")][0]),_[_0x4962("0x166")].faded){_[_0x4962("0x166")][_0x4962("0x2b6")]=!1;var t=_[_0x4962("0x166")][_0x4962("0x145")];new(esmap.TWEEN[_0x4962("0x1a7")])(_).to({opacity:t},1e3*e).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")]).onComplete((function(){_[_0x4962("0x144")]=_[_0x4962("0x166")][_0x4962("0x26c")]}))[_0x4962("0x1b1")]()}}}))}},{key:_0x4962("0x281"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{time:1},_=this[_0x4962("0xf2")],e=x[_0x4962("0x1a5")];_[_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")]){var _=x[_0x4962("0xf6")];_ instanceof Array&&(_=x[_0x4962("0xf6")][0]),_.userData[_0x4962("0x2b6")]||(_[_0x4962("0x166")].faded=!0,!_.userData.hasOwnProperty(_0x4962("0x145"))&&(_[_0x4962("0x166")][_0x4962("0x145")]=_[_0x4962("0x145")]),!_[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x26c"))&&(_.userData[_0x4962("0x26c")]=_[_0x4962("0x144")]),_[_0x4962("0x144")]=!0,new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(_).to({opacity:0},1e3*e)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Linear.None)[_0x4962("0x1b0")]((function(){}))[_0x4962("0x1b1")]())}}))}},{key:"rotateModel",value:function(x){var _=this,e=_.mapScene[_0x4962("0x48")],t=new(THREE[_0x4962("0x12c")])(0,1,0),i=t.clone(),a=_.o3d_[_0x4962("0x22b")][_0x4962("0x126")]();a[_0x4962("0x22c")](new(THREE[_0x4962("0x12c")])),i[_0x4962("0x2b7")](a);i[_0x4962("0x126")]().cross(t).y,t[_0x4962("0x22d")](i);_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2b8")]||(_.o3d_[_0x4962("0x166")][_0x4962("0x2b8")]=!0);Math.PI;e[_0x4962("0x194")][_0x4962("0x22e")]?(_[_0x4962("0x2b9")]=!0,this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2ba")][_0x4962("0x1b1")]()):_[_0x4962("0x2b9")]&&this[_0x4962("0xf2")].userData[_0x4962("0x2ba")][_0x4962("0x2bb")]()>3&&(this.o3d_[_0x4962("0x166")][_0x4962("0x2ba")][_0x4962("0x1b2")](),_[_0x4962("0x2b9")]=!1)}},{key:_0x4962("0x2bc"),value:function(x){var _=this[_0x4962("0x34")][_0x4962("0x48")];_[_0x4962("0x194")][_0x4962("0x2bd")]||_.rotateTo(x)}},{key:_0x4962("0x2be"),value:function(x,_){var e,i=this,s=(e=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _;return a[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:_=u.startPathIndex;case 1:if(!(_<E.length)){x.next=9;break}return new(THREE[_0x4962("0x12c")])(-E[_].from.x,E[_][_0x4962("0x2bf")].offset||0,E[_][_0x4962("0x2bf")].y).y+=3,x[_0x4962("0x286")]=6,h(E[_],_,_==E[_0x4962("0x0")]-1);case 6:_++,x[_0x4962("0x286")]=1;break;case 9:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)});x[_0x4962("0x25b")]||(x.followAngleRotate=!1);var c=this;if(x.followPosition&&null!=x[_0x4962("0x2c0")]&&(c[_0x4962("0x48")].tiltAngle=x[_0x4962("0x2c0")]),c[_0x4962("0x247")]&&c[_0x4962("0x247")].spanScale)for(var l=0,f=x[_0x4962("0x2c1")].length;l<f;l++)if(x[_0x4962("0x2c1")][l].offset){var d=c[_0x4962("0x247")].checkHeightInFloor(x.path[l][_0x4962("0x15c")],c._originFloorHeight);x[_0x4962("0x2c1")][l][_0x4962("0x15c")]+=c._globalLayer.spanScale*(d-1)}var u,h=function(x,_,e){return new(r[_0x4962("0xc")])((function(a){var n=u[_0x4962("0x2a")];if(_==u[_0x4962("0x2c2")]){var r=g[_0x4962("0x2c3")](x[_0x4962("0x2bf")],!0);c[_0x4962("0xf2")].position.x=r.x,c[_0x4962("0xf2")].position.z=r.z,c[_0x4962("0xf2")][_0x4962("0x106")].y=(x[_0x4962("0x2bf")][_0x4962("0x2c4")]||0)+n,u[_0x4962("0x2af")]&&(g[_0x4962("0x3c")]==esmap[_0x4962("0x40")].City&&g[_0x4962("0x2b4")].disableTileBaseMap(),g.controls[_0x4962("0x2c5")].copy(c.o3d_[_0x4962("0x216")](new(THREE[_0x4962("0x12c")]))))}var s=(x.to[_0x4962("0x2c4")]||0)+n,o=c[_0x4962("0xf2")].position[_0x4962("0x126")](),l=g[_0x4962("0x2c3")](x.to,!0);l.y=s;var f=esmap.ESMapUtil.getRouteAngle(x[_0x4962("0x2bf")],x.to);if(u.orientToPath){u[_0x4962("0x2c6")]||(l.y=o.y);var d=new(THREE[_0x4962("0x23f")]);if(o.x!=l.x||o.z!=l.z){d[_0x4962("0x240")](l,o,i[_0x4962("0xf2")].up),d[_0x4962("0x204")]((new(THREE[_0x4962("0x23f")]))[_0x4962("0x268")](new(THREE[_0x4962("0x241")])(0,THREE[_0x4962("0x20e")][_0x4962("0x242")](u[_0x4962("0x234")]),0)));var h=(new(THREE[_0x4962("0x200")]))[_0x4962("0x26a")](d);c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x243")]&&c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x243")][_0x4962("0x1b2")]();var v=(new(THREE[_0x4962("0x200")])).copy(c[_0x4962("0xf2")].quaternion),m=new(THREE[_0x4962("0x200")]),A={value:0},y=void 0;if(y=x[_0x4962("0x1a5")]<.2?1e3*x[_0x4962("0x1a5")]:x.time<.5?200:x[_0x4962("0x1a5")]<.8?500:800,u[_0x4962("0x2c7")]&&0==_&&(y=0),c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x243")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(A).to({value:1},y*u[_0x4962("0x2c8")])[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x173")]((function(x,_){THREE[_0x4962("0x200")].slerp(v,h,m,A[_0x4962("0xe3")]),c[_0x4962("0xf2")][_0x4962("0x205")][_0x4962("0xd8")](m.x,m.y,m.z,m.w)}))[_0x4962("0x1b0")]((function(){})).start(),u[_0x4962("0x25b")]&&!u[_0x4962("0x2c9")]){var C=y/1e3*u[_0x4962("0x2ca")];c[_0x4962("0x2bc")]({angle:f,time:C})}}}else if(null!=x[_0x4962("0x2cb")]&&null!=x[_0x4962("0x2cc")])if(o.y!=l.y){var I=new(THREE[_0x4962("0x23f")]);I.lookAt(l,o,i[_0x4962("0xf2")].up),I[_0x4962("0x204")]((new(THREE[_0x4962("0x23f")]))[_0x4962("0x268")](new(THREE[_0x4962("0x241")])(0,THREE.Math[_0x4962("0x242")](0),0))),c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=(new THREE.Quaternion).setFromRotationMatrix(I)}else c[_0x4962("0x251")]({angle:x[_0x4962("0x2cb")],time:1e3*x[_0x4962("0x1a5")]});g.controls.target[_0x4962("0x126")]();var E=g._coordMapSceneToThree(x.to,!0),k=new(esmap[_0x4962("0x1a6")].Tween)(c[_0x4962("0xf2")][_0x4962("0x106")]).to({x:E.x,z:E.z,y:s},1e3*x.time)[_0x4962("0x1a9")](esmap.TWEEN.Easing[_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x173")]((function(x,e,i){var a=c[_0x4962("0xf2")].getWorldPosition(new(THREE[_0x4962("0x12c")]));if(u.followPosition){if(b&&(b.clone(),b=null),c.map[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")]){var r=c[_0x4962("0x2ce")].getElapsedTime(),s=c[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0x2cf")];r>=3&&s&&c[_0x4962("0x48")].tileService[_0x4962("0x2b5")](),r>=4&&!s&&(c._clockMovePath[_0x4962("0x1b1")](),c.map[_0x4962("0x2b4")][_0x4962("0x2d0")]()),g[_0x4962("0x2d1")]()}u.followTargetOffset&&(a.x+=-u[_0x4962("0x2d2")].x,a.y+=u[_0x4962("0x2d2")].z,a.z+=u[_0x4962("0x2d2")].y),g[_0x4962("0x260")][_0x4962("0x2c5")].copy(a),u[_0x4962("0x25b")]&&u[_0x4962("0x2c9")]?g[_0x4962("0x260")][_0x4962("0x165")]():g[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:g[_0x4962("0x260")][_0x4962("0x2d3")](),forcePhi:g.controls.getPolarAngle()})}var o={x:c[_0x4962("0xf2")].position.x,y:c[_0x4962("0xf2")][_0x4962("0x106")].z},l=g._coordThreeToMapScene({x:o.x,z:o.y,y:0}),f=function(x,_){for(var e=x.index,t=0,i=p[_0x4962("0x0")]-1;i>e;i--)if(i-1>e){var a=p[i],r=p[i-1],s=a[_0x4962("0x15c")]||0,o=r[_0x4962("0x15c")]||0,c=g[_0x4962("0x2c3")]({x:a.x,y:a.y,z:s+n}),l=g._coordMapSceneToThree({x:r.x,y:r.y,z:o+n});t+=c[_0x4962("0x23a")](l)}var f=p[x[_0x4962("0x2cd")]+1],d=f[_0x4962("0x15c")]||0,u=g[_0x4962("0x2c3")]({x:f.x,y:f.y,z:d+n});return t+_[_0x4962("0x23a")](u)}({x:l.x,y:l.y,index:_},x[_0x4962("0x126")]()),d=g.coordThreeToMap({x:o.x,z:o.y,y:0}),h={x:d.x,y:d.y,z:c[_0x4962("0xf2")][_0x4962("0x106")].y,index:_},v=(w-f)/w;u[_0x4962("0x246")]&&u[_0x4962("0x246")]({position:h,progress:v,angle:u.angle,loopDirection:T}),t||(t=setTimeout((function(){c[_0x4962("0x264")]&&(c[_0x4962("0x34")].map[_0x4962("0x265")]=!0,c[_0x4962("0x264")].queueRanked=!1,c[_0x4962("0x264")][_0x4962("0x266")]=!1,window[_0x4962("0x267")](t),t=null)}),800)),c[_0x4962("0x247")]&&c._globalLayer._checkMarker(c)}))[_0x4962("0x1b0")]((function(){e&&u[_0x4962("0x28d")]&&u.complete&&u.complete(c),a()})).start();c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]&&c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")][_0x4962("0x3")](k),c[_0x4962("0xf2")].userData[_0x4962("0x2ac")]=k}))};c[_0x4962("0x226")](!1);var g=c[_0x4962("0x34")][_0x4962("0x48")];if(_)(u=x).startPathIndex=0;else{var b=null;(u={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,rotateOnStart:!1,offsetHeight:0,speed:null,path:[]})[_0x4962("0x2d4")]=!1,Object.defineProperty(u,_0x4962("0x2af"),{get:function(){return this[_0x4962("0x2d4")]},set:function(x){if(c.o3d_[_0x4962("0x166")].movePathing){var _=c[_0x4962("0xf2")][_0x4962("0x216")](new(THREE[_0x4962("0x12c")]));g[_0x4962("0x260")][_0x4962("0x2c5")].copy(_),b=g[_0x4962("0x260")].target[_0x4962("0x126")]()}x?(null==y&&(y=g[_0x4962("0x260")][_0x4962("0x2b0")]),null==C&&(C=g[_0x4962("0x260")].minDistance),g[_0x4962("0x260")][_0x4962("0x2b0")]=u[_0x4962("0x2d5")],g[_0x4962("0x260")].minDistance=u[_0x4962("0x2d6")],g[_0x4962("0x257")][_0x4962("0x258")]=!1):this[_0x4962("0x2d4")]&&(y&&(g.controls[_0x4962("0x2b0")]=y,y=null),C&&(g.controls.minDistance=C,C=null),g[_0x4962("0x257")][_0x4962("0x258")]||(g[_0x4962("0x257")][_0x4962("0x258")]=!0)),this[_0x4962("0x2d4")]=x}}),(0,o[_0x4962("0xc")])(u,{followPosition:!1},x)}var v=u[_0x4962("0x2c1")],p=[];if(0!=v[_0x4962("0x0")]){for(var m=0;m<v.length;m++){var A=v[m],I=g[_0x4962("0x1b7")]({from:g.options[_0x4962("0x1ba")],to:g[_0x4962("0x1b8")],coord:A});p[m]=I}if(1!=p[_0x4962("0x0")]){var E=[],w=0,T=c[_0x4962("0x1e9")]%2;c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=null,u[_0x4962("0x2af")]&&(null==y&&(y=g[_0x4962("0x260")].maxDistance),null==C&&(C=g[_0x4962("0x260")].minDistance),g[_0x4962("0x260")][_0x4962("0x2b0")]=u[_0x4962("0x2d5")],g.controls[_0x4962("0x2b1")]=u.minViewDistance,g.gestureController[_0x4962("0x258")]=!1),u[_0x4962("0x2d8")]&&u[_0x4962("0x2d8")]();for(var k=0;k<p[_0x4962("0x0")];k++){var M=p[k];if(M[_0x4962("0x130")]||(M[_0x4962("0x130")]=g.id),p[k][_0x4962("0x15c")]=1*p[k][_0x4962("0x15c")]||0,p[k].elevation=p[k][_0x4962("0x15c")],this.FloorNum&&M[_0x4962("0x130")]&&M[_0x4962("0x132")]&&g[_0x4962("0x139")](M[_0x4962("0x130")])&&this[_0x4962("0x2d9")]!=M[_0x4962("0x132")]){var S=g.getBuildingById(M[_0x4962("0x130")])[_0x4962("0x2da")](this[_0x4962("0x2d9")]),R=g[_0x4962("0x139")](M[_0x4962("0x130")]).getFloorHeight(M[_0x4962("0x132")]);p[k].elevation+=R-S}}for(var L=0;L<p.length-1;L++)if(p[L+1]){var H=g[_0x4962("0x237")](p[L]),D=g[_0x4962("0x237")](p[L+1]),O=H.distanceTo(D);w+=O,p[L]&&E[_0x4962("0x3")]({distance:O,fnum:p[L].fnum||1,from:p[L],fromAngle:p[L].hasOwnProperty(_0x4962("0x234"))?p[L].angle:null,to:p[L+1],toAngle:p[L+1][_0x4962("0x2")](_0x4962("0x234"))?p[L+1][_0x4962("0x234")]:null})}if(u[_0x4962("0x2db")]&&(u.time=w/(1.62*u[_0x4962("0x2db")])),!isNaN(u[_0x4962("0x1a5")]))return E[_0x4962("0x20")]((function(x){x[_0x4962("0x1a5")]=0==x[_0x4962("0x23b")]?0:x.distance/w*u[_0x4962("0x1a5")]})),c[_0x4962("0xf2")][_0x4962("0x166")].movePathing=!0,c[_0x4962("0x2ae")]=u,s()[_0x4962("0x2dd")]((function(){u[_0x4962("0x28d")]?(u.startPathIndex=0,u[_0x4962("0x2de")]&&(c.movePathLoopCount++,u.path[_0x4962("0x2df")]()),c[_0x4962("0x2be")](u,!0)):(c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x249")]=!1,c[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=null,c.o3d_[_0x4962("0x166")][_0x4962("0x229")]=!1,g[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0x2b5")](),u.complete&&u.complete(c),y&&(g[_0x4962("0x260")][_0x4962("0x2b0")]=y,y=null),C&&(g[_0x4962("0x260")].minDistance=C,C=null),g[_0x4962("0x257")][_0x4962("0x258")]||(g[_0x4962("0x257")].enableMapPan=!0))})),u;_0x4962("0x2dc")}else{var P=g[_0x4962("0x2c3")](p[0],!0);if(c[_0x4962("0xf2")][_0x4962("0x106")].x=P.x,c.o3d_[_0x4962("0x106")].z=P.z,c.o3d_.position.y=(1*p[0][_0x4962("0x15c")]||0)+u.offsetHeight,u[_0x4962("0x246")]){var N={x:c[_0x4962("0xf2")].position.x,y:c[_0x4962("0xf2")].position.z},F=g[_0x4962("0x208")]({x:N.x,z:N.y,y:0}),B={x:F.x,y:F.y,index:0};u[_0x4962("0x246")]({position:B,progress:1,angle:0,loopDirection:0})}u[_0x4962("0x2d7")]&&u[_0x4962("0x2d7")](this)}}}},{key:_0x4962("0x2e0"),value:function(){var x=this;if(!this.animating){var _,e=this[_0x4962("0x296")];this[_0x4962("0x2e1")]?(_=e[_0x4962("0x2e2")]((function(x){return x.indexOf(_0x4962("0x2e3"))>-1}))).length>0&&this.playAnimation({name:_[0],stopLastAction:!0,callback:function(){x[_0x4962("0x2e1")]=0}}):(_=e[_0x4962("0x2e2")]((function(x){return x[_0x4962("0xaf")](_0x4962("0x2e4"))>-1})))[_0x4962("0x0")]>0&&this[_0x4962("0x263")]({name:_[0],stopLastAction:!0,callback:function(){x[_0x4962("0x2e1")]=1}})}}},{key:_0x4962("0x2e5"),value:function(x,_){var e=this;setTimeout((function(){var t=e.o3d_[_0x4962("0x221")](x);if(t){var i=t[_0x4962("0x216")](new THREE.Vector3);i={x:-e[_0x4962("0x2e6")][_0x4962("0x2e7")]-i.x,y:i.z+e[_0x4962("0x2e6")][_0x4962("0x2e8")]},_&&_(i)}else _&&_(null)}),10)}},{key:_0x4962("0x2e9"),value:function(x){return this[_0x4962("0xf2")][_0x4962("0x2ea")](x)}},{key:_0x4962("0x2eb"),value:function(){this[_0x4962("0x1f0")][_0x4962("0xda")](this)}},{key:_0x4962("0x2ec"),value:function(x){var _=this;if(!(x<0||x>2)&&x!==this._lodLevel){0==x&&(x="");var e=this[_0x4962("0x1ee")]+_0x4962("0x2ed")+x+_0x4962("0x84"),t=this.map[_0x4962("0x7f")][_0x4962("0x287")][e];if(t){this[_0x4962("0x1fc")][_0x4962("0x17b")][_0x4962("0x197")](this[_0x4962("0x1fc")]);var i=t[_0x4962("0x2ee")][_0x4962("0x2e6")][_0x4962("0x126")](!0);(new(THREE[_0x4962("0x2ef")])).setFromObject(i)[_0x4962("0x2f0")](i[_0x4962("0x106")]),i[_0x4962("0x106")][_0x4962("0x250")](-1),this[_0x4962("0x1fc")]=i,this[_0x4962("0xf2")][_0x4962("0xda")](i),this._lodLevel=x}else{var a=this[_0x4962("0x288")][_0x4962("0x14d")](".gltf",""),n=this[_0x4962("0x1ee")]+_0x4962("0x2ed")+x,r=this[_0x4962("0x4d")][_0x4962("0x2f1")](a,n);this[_0x4962("0x264")][_0x4962("0x2f2")][e]||this[_0x4962("0x264")][_0x4962("0x2f3")](e,r,(function(e){_[_0x4962("0x1fc")][_0x4962("0x17b")][_0x4962("0x197")](_[_0x4962("0x1fc")]),_.child=null;var t=e[_0x4962("0x2e6")].clone(!0);(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](t)[_0x4962("0x2f0")](t.position),t.position.multiplyScalar(-1),_.child=t,_[_0x4962("0xf2")][_0x4962("0xda")](t),_[_0x4962("0x1ed")]=x}))}}}},{key:_0x4962("0x2f5"),value:function(x,_){var e=arguments[_0x4962("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0,t=esmap[_0x4962("0x33")][_0x4962("0x3a")],i=new(THREE[_0x4962("0x2f6")])(.5,.5,.5),a=_0x4962("0x2f7")+_;this[a]||(this[a]=new THREE.MeshBasicMaterial({color:_}));var n=new(THREE[_0x4962("0x198")])(i,this[a]),r=x[_0x4962("0x126")]();r.y+=e,n[_0x4962("0x106")][_0x4962("0x206")](r),t[_0x4962("0x1c6")].scene[_0x4962("0xda")](n)}},{key:_0x4962("0x2f8"),value:(e=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,i,n,s,o,c,l,f,d,u,h,g,b,v,A,y,C,I,E,w,T,k,M,S,R,L,H,D=this;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(e=this,t=esmap[_0x4962("0x33")][_0x4962("0x3a")],i=this.o3d_,n=t[_0x4962("0x237")]({x:_.x,y:_.y}),s={x:n.x,z:n.z},o={x:i.position.x,z:i.position.z},c=null==_[_0x4962("0x1a5")]?1:_.time,_[_0x4962("0x239")]=null==_[_0x4962("0x239")]||_[_0x4962("0x239")],l=null==_.raycastTime?0:_[_0x4962("0x2f9")],f=_[_0x4962("0x15c")]||0,d=_.complete,u=_[_0x4962("0x2fa")],h=!_[_0x4962("0x2")](_0x4962("0x2fb"))||_[_0x4962("0x2fb")],g=_[_0x4962("0x234")]||0,b=_.onMoving,v=_[_0x4962("0x2fc")]||100,A=_[_0x4962("0x2fd")]||null,y=_[_0x4962("0x212")]||null,C=null,I=[],E=(i[_0x4962("0x166")][_0x4962("0x2fe")][_0x4962("0x2ff")][_0x4962("0x300")].y-i[_0x4962("0x166")].modelinfo.box3[_0x4962("0x301")].y)/2+f,w=function(){return new r.default((function(x){var _=void 0;0==l?(I[_0x4962("0x3")](i[_0x4962("0x106")].clone()),(_=T[_0x4962("0x302")](s)[0][_0x4962("0x303")])||(_=new(THREE[_0x4962("0x12c")])(s.x,i.position.y-E,s.z)),_.y+=E,I[_0x4962("0x3")](_[_0x4962("0x126")]()),x()):new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(o).to(s,1e3*l)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x244")].None).onUpdate((function(x,e,t){if((_=T[_0x4962("0x302")](x)[0][_0x4962("0x303")])||(_=new(THREE[_0x4962("0x12c")])(x.x,i[_0x4962("0x106")].y-E,x.z)),C){var a=(0,p.DistanceofTwoPts)({x:C.x,y:C.z},{x:_.x,y:_.z}),n=_.y-C.y>0?1:-1;Math[_0x4962("0x304")](Math[_0x4962("0x231")](_.y-C.y)/a)>Math.PI/6&&(_.y=n*Math.tan(Math.PI/6)*a+C.y)}C=_[_0x4962("0x126")](),_.y+=E,I.push(_.clone())}))[_0x4962("0x1b0")](x).start()}))},this[_0x4962("0x305")]||(this.rayPoint=new(m[_0x4962("0xc")])({depth:v,inverse:!1,typeID:A,dataID:y,debug:u}),this[_0x4962("0xf2")].traverse((function(x){x[_0x4962("0x9d")]==_0x4962("0x198")&&(D[_0x4962("0x306")][_0x4962("0x307")][x[_0x4962("0x195")]]=!0)})),this[_0x4962("0x306")][_0x4962("0x307")][this.o3d_.uuid]=!0),T=this.rayPoint,!h){x[_0x4962("0x286")]=29;break}return x[_0x4962("0x286")]=27,w();case 27:x[_0x4962("0x286")]=32;break;case 29:I[_0x4962("0x3")](i[_0x4962("0x106")][_0x4962("0x126")]()),n.y=i[_0x4962("0x106")].y,I.push(n.clone());case 32:for(k=I,M=[],S=0,R=0;R<k[_0x4962("0x0")];R++)0==R||R==k[_0x4962("0x0")]-1?(u&&e[_0x4962("0x2f5")](k[R],65280,0),L=t[_0x4962("0x208")](k[R]),M[_0x4962("0x3")]({x:L.x,y:L.y,offset:k[R].y})):S>-1?(u&&e[_0x4962("0x2f5")](k[R],65280,0),H=t[_0x4962("0x208")](k[R]),M[_0x4962("0x3")]({x:H.x,y:H.y,offset:k[R].y}),S=0):S++;this[_0x4962("0x2be")]({followPosition:_.followPosition||!1,path:M,time:c-l,maxViewDistance:_.maxViewDistance||200,minViewDistance:_[_0x4962("0x2d6")]||10,angle:g,orientToPath:_[_0x4962("0x239")],followTilt:_[_0x4962("0x2c6")],complete:d,onMoving:b});case 38:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x309"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},_=this[_0x4962("0xf2")];if(!1===x&&(x={threshold:0}),x=(0,o[_0x4962("0xc")])({threshold:1,x:!0,y:!0,z:!0,time:1},x),!this[_0x4962("0x30a")]){var e=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](_)[_0x4962("0x2f0")](new(THREE[_0x4962("0x12c")]));_[_0x4962("0x104")]((function(x){x[_0x4962("0x9d")]==_0x4962("0x198")&&(x[_0x4962("0x166")][_0x4962("0x30b")]||(x[_0x4962("0x166")][_0x4962("0x30b")]=x[_0x4962("0x106")][_0x4962("0x23a")](e),x[_0x4962("0x166")][_0x4962("0x30c")]=x[_0x4962("0x106")][_0x4962("0x126")]()))})),this[_0x4962("0x30a")]=!0,this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x30d")]=e}this._explodeTweens[_0x4962("0x20")]((function(x){return x[_0x4962("0x1b2")]()})),this._explodeTweens=[];var t=[],i=this.o3d_[_0x4962("0x166")][_0x4962("0x30d")];this.o3d_[_0x4962("0x104")]((function(_){if(_.type==_0x4962("0x198")){var e=_.userData[_0x4962("0x30c")][_0x4962("0x126")]().sub(i)[_0x4962("0x30e")]();x.x||(e.x=0),x.y||(e.z=0),x.z||(e.y=0);var a=e[_0x4962("0x250")](_[_0x4962("0x166")].distanceToCenter*x.threshold),n=_.userData[_0x4962("0x30c")][_0x4962("0x126")]()[_0x4962("0xda")](a);t.push({object:_,targetPosition:n})}}));for(var a=0;a<t.length;a++){var n=t[a],r=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(n[_0x4962("0x9")][_0x4962("0x106")]).to(n[_0x4962("0x30f")],1e3*x.time)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")]).start();this[_0x4962("0x1f2")][_0x4962("0x3")](r)}}},{key:"modelLoadManager",get:function(){var x=this[_0x4962("0x34")][_0x4962("0x48")],_=x[_0x4962("0x139")](this.bid);return _||(_=x[_0x4962("0x310")](this.bid)),_&&_[_0x4962("0x264")]}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0x1fc")]?this[_0x4962("0x1fc")][_0x4962("0x17c")]=x:(this[_0x4962("0xf2")][_0x4962("0x17c")]=x,this[_0x4962("0x1e5")][_0x4962("0x21b")]=!x)},get:function(){return this[_0x4962("0x1fc")]?this[_0x4962("0x1fc")][_0x4962("0x17c")]:this.o3d_[_0x4962("0x17c")]}},{key:_0x4962("0x311"),set:function(x){null!==x&&(this[_0x4962("0x1e5")][_0x4962("0x311")]=x,Array[_0x4962("0x123")](x)?(this[_0x4962("0x1e5")][_0x4962("0x219")]=Math[_0x4962("0x301")][_0x4962("0x2a4")](Math,(0,i.default)(x)),this[_0x4962("0x1e5")][_0x4962("0x21a")]=Math.max[_0x4962("0x2a4")](Math,(0,i[_0x4962("0xc")])(x))):this[_0x4962("0x1e5")][_0x4962("0x21a")]=x)},get:function(){return this[_0x4962("0x1e5")][_0x4962("0x311")]}},{key:"mapCoord",set:function(x){this[_0x4962("0x312")]=x},get:function(){return this.overideCoord?this[_0x4962("0x312")]:(0,u[_0x4962("0xc")])(_[_0x4962("0x1")][_0x4962("0x1e2")]||(0,c.default)(_[_0x4962("0x1")]),_0x4962("0x217"),this)}},{key:_0x4962("0x313"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x106")].y}},{key:_0x4962("0x234"),get:function(){var x=new THREE.Vector3(1,0,0),_=x[_0x4962("0x126")](),e=this[_0x4962("0xf2")][_0x4962("0x22b")].clone();e[_0x4962("0x22c")](new(THREE[_0x4962("0x12c")])),_[_0x4962("0x2b7")](e);var t=(t=_[_0x4962("0x126")]()[_0x4962("0x314")](x)).y<0?-1:1,i=x[_0x4962("0x22d")](_),a=THREE[_0x4962("0x20e")].radToDeg(i*t);return a=a>0?360-a:-a}},{key:_0x4962("0x170"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x170")]},set:function(x){this[_0x4962("0xf2")][_0x4962("0x170")]=x,this[_0x4962("0xf2")][_0x4962("0x166")].renderOrder=x,this[_0x4962("0xf2")][_0x4962("0x104")]((function(_){_.hasOwnProperty(_0x4962("0x170"))&&(_[_0x4962("0x170")]=x)}))}}]),_}(g[_0x4962("0xc")]);_.default=I},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x315")]=void 0;var t,i=e(33);var a={opc:new(((t=i)&&t[_0x4962("0xa")]?t:{default:t})[_0x4962("0xc")]),sl:!0};_[_0x4962("0x315")]=function(){return{state:a}}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=f(e(7)),i=f(e(8)),a=f(e(5)),n=f(e(0)),r=f(e(1)),s=f(e(10)),o=f(e(11)),c=f(e(82)),l=f(e(346));function f(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var d=function(x){function _(x,e){(0,n[_0x4962("0xc")])(this,_);var t=new(l[_0x4962("0xc")]);return(0,s[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,a[_0x4962("0xc")])(_))[_0x4962("0xf")](this,x,e,t))}var e,c,f;return(0,o[_0x4962("0xc")])(_,x),(0,r[_0x4962("0xc")])(_,[{key:"updateImage",value:(f=(0,i.default)(t.default[_0x4962("0x283")]((function x(_){return t[_0x4962("0xc")].wrap((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:return x[_0x4962("0x286")]=2,this.o3d_[_0x4962("0x316")](_);case 2:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return f[_0x4962("0x2a4")](this,arguments)})},{key:"glow",value:function(x){this.o3d_.glow(x)}},{key:_0x4962("0x26f"),value:function(){this[_0x4962("0xf2")][_0x4962("0x26f")]()}},{key:"glowPlane",value:function(x){this.o3d_[_0x4962("0x317")](x)}},{key:_0x4962("0x318"),value:function(){this.o3d_.stopGlowPlane()}},{key:"jump",value:function(x){this[_0x4962("0xf2")][_0x4962("0x248")](x)}},{key:_0x4962("0x24b"),value:function(x){this[_0x4962("0xf2")].flash(x)}},{key:_0x4962("0x24c"),value:function(){this[_0x4962("0xf2")][_0x4962("0x24c")]()}},{key:"stopJump",value:function(){this[_0x4962("0xf2")].stopJump()}},{key:_0x4962("0x319"),value:function(x){this[_0x4962("0xf2")].fadeIn(x)}},{key:_0x4962("0x31a"),value:function(x){this.o3d_.setScale(x)}},{key:"setSize",value:function(x){this[_0x4962("0xf2")][_0x4962("0x31b")](x)}},{key:"setColor",value:function(x){this.o3d_[_0x4962("0x31c")](x)}},{key:_0x4962("0x31d"),value:function(x){}},{key:_0x4962("0x31e"),value:(c=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")][_0x4962("0x283")]((function x(_){return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return x.next=2,this.o3d_[_0x4962("0x31e")](_);case 2:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return c.apply(this,arguments)})},{key:_0x4962("0x31f"),value:(e=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")][_0x4962("0x283")]((function x(_){return t[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return x[_0x4962("0x286")]=2,this[_0x4962("0xf2")][_0x4962("0x31f")](_);case 2:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x320"),value:function(){this[_0x4962("0xf2")][_0x4962("0x320")]()}},{key:_0x4962("0xf5"),value:function(){this[_0x4962("0xf2")].dispose()}},{key:"visible",set:function(x){this[_0x4962("0xf2")][_0x4962("0x321")]=x,x?this[_0x4962("0x1e5")].visibleLock=!1:this[_0x4962("0x1e5")][_0x4962("0x21b")]=!0,this[_0x4962("0xf2")].visible=x,this[_0x4962("0xf2")].dispatchEvent({type:_0x4962("0x322")})},get:function(){return this[_0x4962("0xf2")][_0x4962("0x17c")]}},{key:_0x4962("0x1fe"),set:function(x){this[_0x4962("0x31a")](x)},get:function(){return this[_0x4962("0xf2")][_0x4962("0x323")]}},{key:_0x4962("0xdd"),get:function(){return{w:this.o3d_[_0x4962("0x324")],h:this[_0x4962("0xf2")][_0x4962("0x325")]}},set:function(x){this.setSize(x)}},{key:"image",set:function(x){this[_0x4962("0xf2")].image=x},get:function(){return this[_0x4962("0xf2")][_0x4962("0x326")]}},{key:_0x4962("0x4d"),set:function(x){this.o3d_[_0x4962("0x326")]=x},get:function(){return this[_0x4962("0xf2")][_0x4962("0x326")]}},{key:_0x4962("0x327"),set:function(x){this[_0x4962("0xf2")][_0x4962("0x327")]=x},get:function(){return this[_0x4962("0xf2")].text}},{key:_0x4962("0x16c"),set:function(x){this[_0x4962("0xf2")][_0x4962("0xf6")].depthTest=!x}}]),_}(c[_0x4962("0xc")]);_[_0x4962("0xc")]=d},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=g(e(23)),i=g(e(2)),a=g(e(7)),n=g(e(8)),r=g(e(9)),s=g(e(5)),o=g(e(0)),c=g(e(1)),l=g(e(10)),f=g(e(11)),d=e(4),u=e(65),h=e(19);function g(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var b=null,v=null,p=function(x){function _(){(0,o.default)(this,_);var x=(0,l[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,s[_0x4962("0xc")])(_))[_0x4962("0x2a4")](this,arguments));return x[_0x4962("0x1e9")]=0,x[_0x4962("0x328")]={},x[_0x4962("0x1e5")]={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,h[_0x4962("0x1f")])(8)},x[_0x4962("0x2ce")]=new(THREE[_0x4962("0x1ea")]),x[_0x4962("0x329")]=null,x[_0x4962("0x20a")](),x}return(0,f.default)(_,x),(0,c.default)(_,[{key:_0x4962("0x20a"),value:function(){var x=this;this[_0x4962("0x1e5")][_0x4962("0x32a")]=this[_0x4962("0x48")][_0x4962("0x3c")]===esmap.MapMode[_0x4962("0x41")];var _=function(_){var e=_,t=x[_0x4962("0x1e5")],i=t[_0x4962("0x219")],a=t.maxShowLevel,n=t.isCityMode,r=t.visibleLock;if(null!==x[_0x4962("0x311")]&&!r){var s=x[_0x4962("0xf2")],o="Sprite"==x[_0x4962("0xf2")][_0x4962("0x9d")],c=x[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x21c")];if(n||!c)if(null!=i&&null!=a){if(e<i||e>a)return s[_0x4962("0x17c")]=!1,void(s.userData[_0x4962("0x21d")]=!0);o?s.userData.collidePass&&(s.visible=!0):s.visible=!0,s[_0x4962("0x166")][_0x4962("0x21d")]=!1}else null!=a&&null===i&&(e<a?(s[_0x4962("0x17c")]=!1,s[_0x4962("0x166")][_0x4962("0x21d")]=!0):(o?s[_0x4962("0x166")][_0x4962("0x32b")]&&(s[_0x4962("0x17c")]=!0):s[_0x4962("0x17c")]=!0,s[_0x4962("0x166")][_0x4962("0x21d")]=!1));else{if(e=x.map.scaleLevel,null!=i&&e<i)return s[_0x4962("0x17c")]=!1,void(s.userData[_0x4962("0x21d")]=!0);e>a?(s[_0x4962("0x17c")]=!1,s.userData[_0x4962("0x21d")]=!0):(o?s[_0x4962("0x166")][_0x4962("0x32b")]&&(s[_0x4962("0x17c")]=!0):s[_0x4962("0x17c")]=!0,s[_0x4962("0x166")][_0x4962("0x21d")]=!1)}}};this[_0x4962("0x48")].on(_0x4962("0x179"),_,null,this[_0x4962("0x1e5")][_0x4962("0x32c")]),this[_0x4962("0xf2")].addEventListener("onBeforeAdd",(function(){_(x[_0x4962("0x48")][_0x4962("0x1f6")])})),this[_0x4962("0xf2")][_0x4962("0x25e")](_0x4962("0x322"),(function(){_(x[_0x4962("0x48")][_0x4962("0x1f6")])}))}},{key:_0x4962("0x32d"),value:function(x){this[_0x4962("0xf2")][_0x4962("0x106")].y=x}},{key:_0x4962("0xf5"),value:function(){this[_0x4962("0x48")].mapPicker[_0x4962("0x32e")](this[_0x4962("0xf2")][_0x4962("0x195")]),this[_0x4962("0x48")]._clearEventsFrom(this[_0x4962("0x1e5")][_0x4962("0x32c")]),this[_0x4962("0xf2")][_0x4962("0x104")]((function(x){x[_0x4962("0xf6")]&&x.material.dispose(),x[_0x4962("0xf4")]&&x.geometry.dispose()})),this[_0x4962("0xf2")][_0x4962("0x17b")].remove(this[_0x4962("0xf2")])}},{key:_0x4962("0x26d"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(x)||(x={value:x}),esmap[_0x4962("0x8c")][_0x4962("0x26d")]({target:this.o3d_,alpha:x.value||x[_0x4962("0x12e")],time:x[_0x4962("0x1a5")]})}},{key:"movePath",value:function(x,_){var e,t,s=(e=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _;return a[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:_=t[_0x4962("0x2c2")];case 1:if(!(_<m.length)){x[_0x4962("0x286")]=9;break}return new(THREE[_0x4962("0x12c")])(-m[_].from.x,m[_][_0x4962("0x2bf")][_0x4962("0x15c")]||0,m[_].from.y).y+=3,x.next=6,c(m[_],_,_==m[_0x4962("0x0")]-1);case 6:_++,x[_0x4962("0x286")]=1;break;case 9:case"end":return x.stop()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)}),o=this,c=function(x,_,e){return new(r[_0x4962("0xc")])((function(i){var a=t[_0x4962("0x2a")];if(_==t[_0x4962("0x2c2")]){var n=l[_0x4962("0x2c3")](x[_0x4962("0x2bf")],!0);o[_0x4962("0xf2")][_0x4962("0x106")].x=n.x,o.o3d_.position.z=n.z,o.o3d_[_0x4962("0x106")].y=(x[_0x4962("0x2bf")][_0x4962("0x2c4")]||0)+a,t[_0x4962("0x2af")]&&(l[_0x4962("0x3c")]==esmap[_0x4962("0x40")].City&&l.tileService[_0x4962("0x2d0")](),l[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x206")](o[_0x4962("0xf2")][_0x4962("0x216")](new(THREE[_0x4962("0x12c")]))))}var r=(x.to.elevation||0)+a,s=o.o3d_[_0x4962("0x106")][_0x4962("0x126")](),c=l._coordMapSceneToThree(x.to,!0);c.y=r;var d,h,g=esmap[_0x4962("0x8c")][_0x4962("0x238")](x[_0x4962("0x2bf")],x.to);if(t[_0x4962("0x239")]&&(t[_0x4962("0x2c6")]||(c.y=s.y),s.x!=c.x||s.z!=c.z)){var b=void 0;if(b=x[_0x4962("0x1a5")]<.2?1e3*x[_0x4962("0x1a5")]:x[_0x4962("0x1a5")]<.5?200:x[_0x4962("0x1a5")]<.8?500:800,t.followAngle){var v=b/1e3*t[_0x4962("0x2ca")];d={angle:g,time:v},(h=window[_0x4962("0xe7")][_0x4962("0x33")][_0x4962("0x3a")]).mapPicker[_0x4962("0x2bd")]||h.rotateTo(d)}}l.controls[_0x4962("0x2c5")][_0x4962("0x126")]();var p=l._coordMapSceneToThree(x.to,!0),m=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(o[_0x4962("0xf2")].position).to({x:p.x,z:p.z,y:r},1e3*x.time).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x173")]((function(x,e,i){var n=o[_0x4962("0xf2")][_0x4962("0x216")](new(THREE[_0x4962("0x12c")]));if(t.followPosition){if(f&&(f.clone(),f=null),o[_0x4962("0x48")].mode==esmap[_0x4962("0x40")][_0x4962("0x41")]){var r=o[_0x4962("0x2ce")][_0x4962("0x2bb")](),s=o[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0x2cf")];r>=3&&s&&o[_0x4962("0x48")][_0x4962("0x2b4")].enableTileBaseMap(),r>=4&&!s&&(o[_0x4962("0x2ce")][_0x4962("0x1b1")](),o[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0x2d0")]()),l[_0x4962("0x2d1")]()}l.controls.target.copy(n),t[_0x4962("0x25b")]&&t[_0x4962("0x2c9")]||l.controls[_0x4962("0x165")]({forceTheta:l[_0x4962("0x260")][_0x4962("0x2d3")](),forcePhi:l[_0x4962("0x260")][_0x4962("0x32f")]()})}var c={x:o.o3d_[_0x4962("0x106")].x,y:o[_0x4962("0xf2")][_0x4962("0x106")].z},d=l[_0x4962("0x236")]({x:c.x,z:c.y,y:0}),h=function(x,_){for(var e=x.index,t=0,i=u[_0x4962("0x0")]-1;i>e;i--)if(i-1>e){var n=u[i],r=u[i-1],s=n[_0x4962("0x15c")]||0,o=r[_0x4962("0x15c")]||0,c=l[_0x4962("0x2c3")]({x:n.x,y:n.y,z:s+a}),f=l[_0x4962("0x2c3")]({x:r.x,y:r.y,z:o+a});t+=c[_0x4962("0x23a")](f)}var d=u[x[_0x4962("0x2cd")]+1],h=d[_0x4962("0x15c")]||0,g=l[_0x4962("0x2c3")]({x:d.x,y:d.y,z:h+a});return t+_[_0x4962("0x23a")](g)}({x:d.x,y:d.y,index:_},x[_0x4962("0x126")]()),g=l.coordThreeToMap({x:c.x,z:c.y,y:0}),b={x:g.x,y:g.y,z:o.o3d_[_0x4962("0x106")].y,index:_},v=(A-h)/A;t[_0x4962("0x246")]&&t[_0x4962("0x246")]({position:b,progress:v,angle:t[_0x4962("0x234")],loopDirection:y})})).onComplete((function(){e&&t[_0x4962("0x28d")]&&t[_0x4962("0x2d7")]&&t.complete(o),i()}))[_0x4962("0x1b1")]();o[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]&&o[_0x4962("0xf2")].userData[_0x4962("0x1f9")][_0x4962("0x3")](m),o.o3d_[_0x4962("0x166")].movePathingTween=m}))};o[_0x4962("0x226")](!1);var l=o.mapScene[_0x4962("0x48")];if(_)(t=x)[_0x4962("0x2c2")]=0;else{var f=null;(t={time:1,loop:!1,loopReverse:!1,complete:null,orientToPath:!0,angle:0,followTilt:!0,followAngleRotate:!0,followAngle:!1,followSmooth:1,rotateSmooth:1,viewTiltAngle:null,startPathIndex:0,onMoving:null,maxViewDistance:300,minViewDistance:10,offsetHeight:0,speed:null,path:[]}).fp_=!1,Object[_0x4962("0x6")](t,_0x4962("0x2af"),{get:function(){return this[_0x4962("0x2d4")]},set:function(x){if(o[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x249")]){var _=o[_0x4962("0xf2")][_0x4962("0x216")](new(THREE[_0x4962("0x12c")]));l[_0x4962("0x260")].target.copy(_),f=l[_0x4962("0x260")].target[_0x4962("0x126")]()}x?(null==b&&(b=l[_0x4962("0x260")][_0x4962("0x2b0")]),null==v&&(v=l[_0x4962("0x260")][_0x4962("0x2b1")]),l.controls[_0x4962("0x2b0")]=t[_0x4962("0x2d5")],l[_0x4962("0x260")][_0x4962("0x2b1")]=t[_0x4962("0x2d6")],l.gestureController.enableMapPan=!1):this.fp_&&(b&&(l.controls[_0x4962("0x2b0")]=b,b=null),v&&(l[_0x4962("0x260")][_0x4962("0x2b1")]=v,v=null),l[_0x4962("0x257")][_0x4962("0x258")]||(l[_0x4962("0x257")][_0x4962("0x258")]=!0)),this[_0x4962("0x2d4")]=x}}),(0,i.default)(t,{followPosition:!1},x)}var d=t[_0x4962("0x2c1")],u=[];if(0!=d[_0x4962("0x0")]){for(var h=0;h<d[_0x4962("0x0")];h++){var g=d[h],p=l[_0x4962("0x1b7")]({from:l.options[_0x4962("0x1ba")],to:l[_0x4962("0x1b8")],coord:g});u[h]=p}if(1!=u[_0x4962("0x0")]){var m=[],A=0,y=o[_0x4962("0x1e9")]%2;o[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=null,t[_0x4962("0x2af")]&&(null==b&&(b=l.controls[_0x4962("0x2b0")]),null==v&&(v=l.controls.minDistance),l[_0x4962("0x260")][_0x4962("0x2b0")]=t.maxViewDistance,l.controls[_0x4962("0x2b1")]=t[_0x4962("0x2d6")],l[_0x4962("0x257")].enableMapPan=!1),t.onStart&&t[_0x4962("0x2d8")]();for(var C=0;C<u[_0x4962("0x0")];C++){var I=u[C];if(I[_0x4962("0x130")]||(I[_0x4962("0x130")]=l.id),u[C][_0x4962("0x15c")]=1*u[C].offset||0,u[C][_0x4962("0x2c4")]=u[C][_0x4962("0x15c")],this[_0x4962("0x2d9")]&&I[_0x4962("0x130")]&&I[_0x4962("0x132")]&&l[_0x4962("0x139")](I[_0x4962("0x130")])&&this[_0x4962("0x2d9")]!=I[_0x4962("0x132")]){var E=l[_0x4962("0x139")](I[_0x4962("0x130")])[_0x4962("0x2da")](this[_0x4962("0x2d9")]),w=l[_0x4962("0x139")](I[_0x4962("0x130")])[_0x4962("0x2da")](I[_0x4962("0x132")]);u[C][_0x4962("0x2c4")]+=w-E}}for(var T=0;T<u[_0x4962("0x0")]-1;T++)if(u[T+1]){var k=l[_0x4962("0x237")](u[T]),M=l[_0x4962("0x237")](u[T+1]),S=k[_0x4962("0x23a")](M);A+=S,u[T]&&m.push({distance:S,fnum:u[T][_0x4962("0x132")]||1,from:u[T],fromAngle:u[T][_0x4962("0x2")]("angle")?u[T][_0x4962("0x234")]:null,to:u[T+1],toAngle:u[T+1][_0x4962("0x2")](_0x4962("0x234"))?u[T+1][_0x4962("0x234")]:null})}if(t.speed&&(t[_0x4962("0x1a5")]=A/(1.62*t[_0x4962("0x2db")])),!isNaN(t[_0x4962("0x1a5")]))return m.forEach((function(x){x.time=0==x[_0x4962("0x23b")]?0:x[_0x4962("0x23b")]/A*t[_0x4962("0x1a5")]})),o[_0x4962("0xf2")][_0x4962("0x166")].movePathing=!0,t[_0x4962("0x2af")]&&null!=t[_0x4962("0x2c0")]&&(l[_0x4962("0x330")]=t[_0x4962("0x2c0")]),o[_0x4962("0x2ae")]=t,s()[_0x4962("0x2dd")]((function(){t[_0x4962("0x28d")]?(t[_0x4962("0x2c2")]=0,t[_0x4962("0x2de")]&&(o[_0x4962("0x1e9")]++,t[_0x4962("0x2c1")][_0x4962("0x2df")]()),o[_0x4962("0x2be")](t,!0)):(o.o3d_[_0x4962("0x166")].movePathing=!1,o[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x269")]=null,o[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x229")]=!1,l[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0x2b5")](),t[_0x4962("0x2d7")]&&t[_0x4962("0x2d7")](),b&&(l[_0x4962("0x260")].maxDistance=b,b=null),v&&(l.controls[_0x4962("0x2b1")]=v,v=null),l.gestureController[_0x4962("0x258")]||(l[_0x4962("0x257")][_0x4962("0x258")]=!0))})),t;console[_0x4962("0xe0")](_0x4962("0x2dc"))}else{var R=l[_0x4962("0x2c3")](u[0],!0);if(o[_0x4962("0xf2")][_0x4962("0x106")].x=R.x,o[_0x4962("0xf2")][_0x4962("0x106")].z=R.z,o[_0x4962("0xf2")].position.y=(1*u[0][_0x4962("0x15c")]||0)+t[_0x4962("0x2a")],t[_0x4962("0x246")]){var L={x:o[_0x4962("0xf2")][_0x4962("0x106")].x,y:o[_0x4962("0xf2")][_0x4962("0x106")].z},H=l[_0x4962("0x208")]({x:L.x,z:L.y,y:0}),D={x:H.x,y:H.y,index:0};t[_0x4962("0x246")]({position:D,progress:1,angle:0,loopDirection:0})}t[_0x4962("0x2d7")]&&t[_0x4962("0x2d7")]()}}}},{key:_0x4962("0x331"),value:function(x){var _=this._animateState[_0x4962("0x331")];x=(0,i.default)({},x);var e={x:(0,d[_0x4962("0x13")])(x,"x",this[_0x4962("0x217")].x),y:(0,d[_0x4962("0x13")])(x,"y",this[_0x4962("0x217")].y),z:(0,d[_0x4962("0x13")])(x,"z",this.mapCoord.z)};_&&_.stop();var t=(0,u.userCoordToThree)(e);x.x=t.x,x.y=t.y,x.z=t.z;var a=esmap[_0x4962("0x27c")][_0x4962("0x331")][_0x4962("0xf")](this[_0x4962("0xf2")],x);a&&(this[_0x4962("0x328")][_0x4962("0x331")]=a)}},{key:_0x4962("0x332"),value:function(x){esmap.MapObjectUtils[_0x4962("0x332")][_0x4962("0xf")](this[_0x4962("0xf2")],x)}},{key:"float",value:function(x){x=(0,i[_0x4962("0xc")])({height:5,delay:0,time:2},x),this[_0x4962("0x328")][_0x4962("0x333")]&&this[_0x4962("0x334")]();var _=this[_0x4962("0xf2")][_0x4962("0x106")].y,e=this[_0x4962("0xf2")],t=e[_0x4962("0x106")].y,a=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(e[_0x4962("0x106")]).to({y:t+x.height},1e3*x[_0x4962("0x1a5")])[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")]),n=new(esmap.TWEEN[_0x4962("0x1a7")])(e[_0x4962("0x106")]).to({y:t},1e3*x[_0x4962("0x1a5")])[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")]);a[_0x4962("0x1b4")](n),n.chain(a),setTimeout((function(){a[_0x4962("0x1b1")]()}),1e3*x.delay),this[_0x4962("0x328")][_0x4962("0x333")]={position:{y:_},tweens:[a,n]}}},{key:_0x4962("0x334"),value:function(){var x=this[_0x4962("0x328")][_0x4962("0x333")];x&&(x[_0x4962("0x1f9")].forEach((function(x){x[_0x4962("0x1b2")]()})),esmap.MapObjectUtils[_0x4962("0x331")][_0x4962("0xf")](this[_0x4962("0xf2")],x[_0x4962("0x106")]),this._animateState[_0x4962("0x333")]=null)}},{key:_0x4962("0x226"),value:function(){var x=!(arguments[_0x4962("0x0")]>0&&void 0!==arguments[0])||arguments[0],_=this;if(this[_0x4962("0x328")][_0x4962("0x331")]&&this[_0x4962("0x328")][_0x4962("0x331")][_0x4962("0x1b2")](),x&&(_[_0x4962("0x1e9")]=0),_[_0x4962("0xf2")]&&this[_0x4962("0x2ae")]){var e=this[_0x4962("0x48")];this.movePathController&&this[_0x4962("0x2ae")][_0x4962("0x2af")]&&(b&&(e[_0x4962("0x260")][_0x4962("0x2b0")]=b,b=null),v&&(e[_0x4962("0x260")][_0x4962("0x2b1")]=v,v=null),e[_0x4962("0x257")][_0x4962("0x258")]||(e[_0x4962("0x257")].enableMapPan=!0),_[_0x4962("0xf2")].userData.needRotateCamera=!1),this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x249")]=!1,_[_0x4962("0xf2")].userData[_0x4962("0x243")]&&(_.o3d_[_0x4962("0x166")][_0x4962("0x243")][_0x4962("0x1b2")](),_[_0x4962("0xf2")].userData[_0x4962("0x243")]=null),_.o3d_.userData[_0x4962("0x1f9")]&&_[_0x4962("0xf2")].userData[_0x4962("0x1f9")][_0x4962("0x20")]((function(x){x[_0x4962("0x1b2")]()})),_[_0x4962("0xf2")][_0x4962("0x166")].movePathingTween&&(_.o3d_.userData.movePathingTween[_0x4962("0x1b2")](),_[_0x4962("0xf2")].userData.movePathingTween=null),_[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x1f9")]=[]}}},{key:_0x4962("0x2ab"),value:function(){var x=this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2ac")];x&&x[_0x4962("0x2ad")]()}},{key:_0x4962("0x2b2"),value:function(){var x=this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x2ac")];x&&x[_0x4962("0x2b3")]()}},{key:_0x4962("0x130"),set:function(x){this[_0x4962("0x329")]=x,this[_0x4962("0x247")]&&this._globalLayer._checkMarker(this)},get:function(){return this[_0x4962("0x329")]}},{key:"renderOrder",get:function(){return this[_0x4962("0xf2")][_0x4962("0x170")]},set:function(x){this[_0x4962("0xf2")][_0x4962("0x170")]=x,this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x170")]=x}},{key:_0x4962("0x311"),set:function(x){null!==x&&(this[_0x4962("0x1e5")][_0x4962("0x311")]=x,Array[_0x4962("0x123")](x)?(this[_0x4962("0x1e5")][_0x4962("0x219")]=Math[_0x4962("0x301")][_0x4962("0x2a4")](Math,(0,t.default)(x)),this._props[_0x4962("0x21a")]=Math.max[_0x4962("0x2a4")](Math,(0,t[_0x4962("0xc")])(x))):this[_0x4962("0x1e5")][_0x4962("0x21a")]=x)},get:function(){return this[_0x4962("0x1e5")][_0x4962("0x311")]}},{key:_0x4962("0x48"),get:function(){return window.esmap[_0x4962("0x33")].instance}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0xf2")].visible=x,this[_0x4962("0x1e5")].visibleLock=!x},get:function(){return this[_0x4962("0xf2")][_0x4962("0x17c")]}}]),_}(esmap[_0x4962("0x335")]);_[_0x4962("0xc")]=p},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0}),_.createTexture=void 0;var t,i=d(e(6)),a=d(e(9)),n=d(e(7)),r=d(e(2)),s=d(e(8)),o=d(e(157)),c=d(e(158)),l=d(e(23));_.createTexture=(t=(0,s[_0x4962("0xc")])(n[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,i,a,s,o,c,l,f,d,u,g,b;return n[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(e=h(),_=(0,r[_0x4962("0xc")])({squared:!1,canvasPadding:0,text:"",textStyle:{},image:"",imageStyle:{}},_),i=(t=_).text,a=t.textStyle,s=t[_0x4962("0x326")],o=t.imageStyle,c=document[_0x4962("0x24")](_0x4962("0x336")),l=c[_0x4962("0x337")]("2d"),f={fontSize:24,fillStyle:_0x4962("0x128"),letterSpacing:0,lineHeight:null,strokeWidth:3,strokeStyle:_0x4962("0x338"),shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.5)",shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x4962("0x339"),padding:2,offsetY:0,offsetX:0},d={align:"center",scale:1,size:_0x4962("0x33a"),space:5,shadowBlur:5,shadowColor:"rgba(0, 0, 0, 0.5)"},u=(0,r[_0x4962("0xc")])({},f,a),typeof(g=(0,r[_0x4962("0xc")])({},d,o)).size==_0x4962("0x18a")&&(g.size={w:g.size,h:g.size}),u[_0x4962("0x33b")]=Math[_0x4962("0xff")](e?u.fontSize*=2.1:2*u.fontSize),b=null,s){x.next=16;break}b=p(l,c,i,u),x.next=19;break;case 16:return x[_0x4962("0x286")]=18,v(l,c,i,u,s,g,_);case 18:b=x[_0x4962("0x33c")];case 19:return x[_0x4962("0x28b")](_0x4962("0x28c"),{texture:b,ctx:l,canvas:c,width:c.width,height:c[_0x4962("0x1a4")]});case 20:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return t.apply(this,arguments)});_[_0x4962("0x33d")]=function(x){var _={fontSize:[],fillStyle:[_0x4962("0x351")],strokeWidth:[],strokeStyle:[_0x4962("0x352")],shadowColor:[],shadowBlur:[],shadowOffsetX:[],shadowOffsetY:[],padding:[],offsetY:[],offsetX:[]},e={},t=function(t){var i=_[t],a=[][_0x4962("0x12")]((0,l[_0x4962("0xc")])(i[_0x4962("0x48")]((function(x){return x[_0x4962("0x353")]()}))),[t[_0x4962("0x353")]()]);(0,c[_0x4962("0xc")])(x)[_0x4962("0x20")]((function(x){var _=(0,o[_0x4962("0xc")])(x,2),i=_[0],n=_[1],r=i[_0x4962("0x353")]();a.includes(r)&&(t!=_0x4962("0x343")&&t!=_0x4962("0x344")||(n=(0,f[_0x4962("0x354")])(n)),e[t]=n)}))};for(var i in _)t(i);return e};var f=e(4);function d(x){return x&&x.__esModule?x:{default:x}}var u=null;function h(){return null===u&&(u=esmap[_0x4962("0x8c")][_0x4962("0x33e")]().isPC),u}function g(x,_,e,t,i){var a=_[_0x4962("0x2d")]("\n"),n=0;a[_0x4962("0x20")]((function(_){!function(x,_,e,t,i){x[_0x4962("0x340")]=i[_0x4962("0x33b")]+_0x4962("0x341"),x.textAlign=i.textAlign,x[_0x4962("0x342")]=i.textBaseline,x[_0x4962("0x343")]=i.fillStyle,x.strokeStyle=i[_0x4962("0x344")],x.shadowBlur=i[_0x4962("0x345")],x.shadowColor=i[_0x4962("0x346")],x[_0x4962("0x347")]=i.shadowOffsetX,x[_0x4962("0x348")]=i.shadowOffsetY,i[_0x4962("0x349")]&&(x.lineWidth=i[_0x4962("0x349")],x.strokeText(_,e,t));x[_0x4962("0x34a")](_,e,t)}(x,_,e,t+n,i),n+=i[_0x4962("0x33f")]+i.padding}))}function b(x,_,e,t,i){var a=i[_0x4962("0x1fe")];x[_0x4962("0x34b")](),x[_0x4962("0x345")]=i[_0x4962("0x345")],x[_0x4962("0x346")]=i[_0x4962("0x346")];var n=i[_0x4962("0xdd")]!=_0x4962("0x33a")?i[_0x4962("0xdd")].w:_[_0x4962("0x1ce")]*a,r=i[_0x4962("0xdd")]!=_0x4962("0x33a")?i.size.h:_[_0x4962("0x1a4")]*a;i[_0x4962("0x34d")]?function(x,_,e,t,i,a){x[_0x4962("0x34b")]();var n=2*i,r=e+i,s=t+i;x[_0x4962("0x34c")](r,s,i,0,2*Math.PI),x[_0x4962("0x34d")](),x[_0x4962("0x34e")](_,e,t,n,n),x[_0x4962("0x34f")](),x[_0x4962("0x34c")](r,s,i-a[_0x4962("0x349")],0,2*Math.PI),x[_0x4962("0x344")]=a[_0x4962("0x344")],x[_0x4962("0x160")]=a[_0x4962("0x349")],x[_0x4962("0x350")](),x.restore()}(x,_,e,t,n/2,i.clip):x.drawImage(_,e,t,n,r),x.restore()}function v(x,_,e,t,n,r,s){return new(a[_0x4962("0xc")])((function(a){var o=esmap[_0x4962("0x33")][_0x4962("0x3a")],c=t[_0x4962("0x1d5")],f=t[_0x4962("0x355")],d=t.offsetY,u=r[_0x4962("0x356")],h=r[_0x4962("0x34d")];h&&(typeof h==_0x4962("0xd")?h={type:h,strokeStyle:_0x4962("0x357"),strokeWidth:1}:"object"==(typeof h===_0x4962("0x21")?_0x4962("0x21"):(0,i.default)(h))&&(h.strokeStyle=h[_0x4962("0x344")]||h.strokeColor||"#FFF",h.strokeWidth=h.hasOwnProperty(_0x4962("0x349"))?h.strokeWidth:1),r[_0x4962("0x34d")]=h);var v=s[_0x4962("0x358")],p=s[_0x4962("0x359")],m=!0;""==e&&(c=0,u=0,m=!1),_[_0x4962("0x25")][_0x4962("0x35a")]=t.letterSpacing+"px";var A=r.align;o[_0x4962("0x7f")][_0x4962("0x366")][_0x4962("0x367")](n,(function(i){!function(i){var n=r[_0x4962("0x1fe")];x[_0x4962("0x340")]=t[_0x4962("0x33b")]+_0x4962("0x341");var s=e[_0x4962("0x2d")]("\n"),o=t.lineHeight||t[_0x4962("0x33b")];t.lineHeight=o;var h=Math[_0x4962("0x300")][_0x4962("0x2a4")](Math,(0,l[_0x4962("0xc")])(s[_0x4962("0x48")]((function(_){return x[_0x4962("0x35b")](_)[_0x4962("0x1ce")]}))))+2*c,y=o*s.length+2*c;""==e&&(h=0,y=0);var C=void 0,I=void 0,E=void 0,w=void 0;switch(r[_0x4962("0xdd")]!=_0x4962("0x33a")?(E=r.size.w,w=r[_0x4962("0xdd")].h):(E=i[_0x4962("0x1ce")]*n,w=i[_0x4962("0x1a4")]*n),A){case _0x4962("0x35c"):case _0x4962("0x35d"):C=Math[_0x4962("0x300")](E,h),I=w+y+u;break;case _0x4962("0x35e"):case"right":C=E+h+u,I=Math[_0x4962("0x300")](w,y);break;case _0x4962("0x131"):C=Math[_0x4962("0x300")](E,h+0),I=Math[_0x4962("0x300")](w,y+0),d&&d>w/2-y/2&&(I+=2*(y/2+d-w/2)),f&&f>E/2-h/2&&(C+=2*(h/2+f-E/2))}var T=C,k=I,M=0,S=0;v&&(C=I=Math[_0x4962("0x300")](C,I),S=(I-k)/2,M=(C-T)/2);var R=0,L=0;switch(p&&(C+=2*(R=C*p),I+=2*(L=I*p),S+=L,M+=R),_.width=C,_[_0x4962("0x1a4")]=I,A){case _0x4962("0x35c"):t[_0x4962("0x342")]=_0x4962("0x35f"),t[_0x4962("0x360")]=_0x4962("0x131"),b(x,i,(C-E)/2,0+S,r),m&&g(x,e,C/2,w+S+u+t[_0x4962("0x33b")]/2+c,t);break;case _0x4962("0x35d"):t[_0x4962("0x342")]=_0x4962("0x35f"),t[_0x4962("0x360")]=_0x4962("0x131"),b(x,i,(C-E)/2,y+u+S,r),m&&g(x,e,C/2,c+t[_0x4962("0x33b")]/2+S,t);break;case _0x4962("0x35e"):t[_0x4962("0x342")]=_0x4962("0x35f"),t.textAlign="start",b(x,i,M,(I-w)/2,r),m&&g(x,e,M+E+u+c,I/2,t);break;case _0x4962("0x361"):t[_0x4962("0x342")]=_0x4962("0x35f"),t[_0x4962("0x360")]=_0x4962("0x1b1"),b(x,i,h+u+M,(I-w)/2,r),m&&g(x,e,c+M,I/2,t);break;case _0x4962("0x131"):t[_0x4962("0x342")]=_0x4962("0x35f"),t.textAlign=_0x4962("0x131"),b(x,i,(C-E)/2,(I-w)/2,r);var H=I/2+c-o*(s[_0x4962("0x0")]-1)/2-d;m&&g(x,e,C/2+f,H,t)}var D=new THREE.Texture(_);D.minFilter=THREE[_0x4962("0x362")],D[_0x4962("0x363")]=esmap[_0x4962("0x33")].instance[_0x4962("0x1c6")][_0x4962("0x364")].capabilities.getMaxAnisotropy(),D[_0x4962("0x365")]=!1,D.needsUpdate=!0,a(D)}(i)}))}))}function p(x,_,e,t){var i=t[_0x4962("0x1d5")];x.font=t[_0x4962("0x33b")]+_0x4962("0x341");var a=e.split("\n");t[_0x4962("0x360")]=_0x4962("0x131");var n=t[_0x4962("0x33f")]||t[_0x4962("0x33b")];t[_0x4962("0x33f")]=n,t[_0x4962("0x342")]="middle";var r,s;r=Math[_0x4962("0x300")][_0x4962("0x2a4")](Math,(0,l[_0x4962("0xc")])(a[_0x4962("0x48")]((function(_){return x[_0x4962("0x35b")](_)[_0x4962("0x1ce")]}))))+2*i+2*i,s=n*a.length+i*a[_0x4962("0x0")]+2*i,_[_0x4962("0x1ce")]=r,_[_0x4962("0x1a4")]=s,g(x,e,r/2,2*i+n/2,t);var o=new(THREE[_0x4962("0x368")])(_);return o[_0x4962("0x18e")]=THREE[_0x4962("0x362")],o.anisotropy=esmap.ESMap[_0x4962("0x3a")][_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x369")][_0x4962("0x36a")](),o[_0x4962("0x365")]=!1,o[_0x4962("0x187")]=!0,o}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x11d")]=function(x,_){return Math[_0x4962("0x120")]((x.x-_.x)*(x.x-_.x)+(x.y-_.y)*(x.y-_.y))},_.calcProjPoint=function(x,_,e,a){var n=_.x,r=_.y,s=e.x,o=e.y,c=x.x,l=x.y,f=s-n,d=o-r,u=Math[_0x4962("0x120")](f*f+d*d),h=c-n,g=l-r,b=Math.sqrt(h*h+g*g);if(i(u))return i(b)?(a.x=_.x,a.y=_.y,0):(a.x=_.x,a.y=_.y,b);var v=f/u,p=d/u,m=v*h+p*g;if(A=m,!(A>t))return a.x=_.x,a.y=_.y,b;var A;if(E=m-u,!(E<-t)){var y=c-s,C=l-o,I=Math[_0x4962("0x120")](y*y+C*C);return a.x=e.x,a.y=e.y,I}var E;var w=n+m*v,T=r+m*p,k=c-w,M=l-T,S=Math.sqrt(k*k+M*M);return a.x=w,a.y=T,S},_[_0x4962("0x36b")]=function(x){var _=parseFloat(x);if(isNaN(_))return;return _=Math[_0x4962("0x36c")](1e5*x)/1e5};var t=1e-5;function i(x){return x<t&&x>-t}},,,,,,,,,,,,,,,,,,,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=l(e(23)),i=l(e(5)),a=l(e(0)),n=l(e(1)),r=l(e(10)),s=l(e(11)),o=e(4),c=e(143);function l(x){return x&&x[_0x4962("0xa")]?x:{default:x}}_[_0x4962("0xc")]=function(x){return function(x){function _(){return(0,a[_0x4962("0xc")])(this,_),(0,r[_0x4962("0xc")])(this,(_.__proto__||(0,i[_0x4962("0xc")])(_))[_0x4962("0x2a4")](this,arguments))}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:"on",value:function(x,_,e){var t=arguments[_0x4962("0x0")]>3&&void 0!==arguments[3]?arguments[3]:null;if(!x||!_)return this;if(!(0,o[_0x4962("0x36d")])(x))return this[_0x4962("0x36e")]("on",x,_);this[_0x4962("0x36f")]||(this[_0x4962("0x36f")]={});var i=x.toLowerCase()[_0x4962("0x2d")](" "),a=void 0;e||(e=this);for(var n=void 0,r=0,s=i[_0x4962("0x0")];r<s;r++){a=i[r],(n=this[_0x4962("0x36f")][a])||(n=[],this[_0x4962("0x36f")][a]=n);var c=n.length;if(c>0)for(var l=0;l<c;l++)if(_===n[l][_0x4962("0x370")]&&n[l][_0x4962("0x371")]===e)return this;n[_0x4962("0x3")]({handler:_,context:e,from:t})}return this}},{key:"addEventListener",value:function(){return this.on.apply(this,arguments)}},{key:"once",value:function(x,_,e){if(!(0,o[_0x4962("0x36d")])(x)){var t={};for(var i in x)x[_0x4962("0x2")](i)&&(t[i]=this[_0x4962("0x372")](i,x[i],e));return this[_0x4962("0x36e")]("on",t)}for(var a=x.split(" "),n=0,r=a[_0x4962("0x0")];n<r;n++)this.on(a[n],this[_0x4962("0x372")](a[n],_,e));return this}},{key:_0x4962("0x6b"),value:function(x,_,e){if(!x||!this[_0x4962("0x36f")]||!_)return this;if(!(0,o.isString)(x))return this[_0x4962("0x36e")](_0x4962("0x6b"),x,_);var t=x[_0x4962("0x2d")](" "),i=void 0,a=void 0,n=void 0;e||(e=this);for(var r=0,s=t[_0x4962("0x0")];r<s;r++){if(i=t[r][_0x4962("0x353")](),n=_0x4962("0x373")+i,!(a=this._eventMap[i]))return this;for(var c=a.length-1;c>=0;c--){var l=a[c];_!==l[_0x4962("0x370")]&&_!==l[_0x4962("0x370")][n]||l[_0x4962("0x371")]!==e||(delete l[_0x4962("0x370")][n],a.splice(c,1))}}return this}},{key:_0x4962("0x2a1"),value:function(){return this[_0x4962("0x6b")][_0x4962("0x2a4")](this,arguments)}},{key:_0x4962("0x374"),value:function(x,_,e){if(!this[_0x4962("0x36f")]||!(0,o[_0x4962("0x36d")])(x))return 0;var t=this[_0x4962("0x36f")][x.toLowerCase()];if(!t||!t[_0x4962("0x0")])return 0;for(var i=0,a=0,n=t[_0x4962("0x0")];a<n;a++)if(_){if(_===t[a][_0x4962("0x370")]&&((0,o[_0x4962("0x375")])(e)||t[a][_0x4962("0x371")]===e))return 1}else i++;return i}},{key:_0x4962("0x376"),value:function(x){var _=x[_0x4962("0x36f")];if(!_)return this;var e=void 0;for(var t in _)for(var i=0,a=(e=_[t])[_0x4962("0x0")];i<a;i++)this.on(t,e[i][_0x4962("0x370")],e[i].context);return this}},{key:_0x4962("0xe5"),value:function(){return this[_0x4962("0x377")]?this[_0x4962("0x377")][_0x4962("0xe5")][_0x4962("0x2a4")](this[_0x4962("0x377")],arguments):this[_0x4962("0x378")].apply(this,arguments)}},{key:"_wrapOnceHandler",value:function(x,_,e){var t=this,i=_0x4962("0x373")+x,a=!1,n=function r(){a||(delete n[i],a=!0,e?_[_0x4962("0x2a4")](e,arguments):_.apply(this,arguments),t[_0x4962("0x6b")](x,r,this))};return n[i]=_,n}},{key:"_switch",value:function(x,_,e){for(var t in _)_[_0x4962("0x2")](t)&&this[x](t,_[t],e);return this}},{key:"_clearEventsFrom",value:function(x){if(x&&this._eventMap)for(var _ in this._eventMap){var e=this._eventMap[_];if(e)for(var t=0;t<e[_0x4962("0x0")];t++)e[t][_0x4962("0x2bf")]===x&&(e[_0x4962("0x4")](t,1),t--)}}},{key:"_clearListeners",value:function(x){this._eventMap&&(0,o[_0x4962("0x36d")])(x)&&(this[_0x4962("0x36f")][x[_0x4962("0x353")]()]&&(this._eventMap[x]=null))}},{key:_0x4962("0x379"),value:function(){this[_0x4962("0x36f")]=null}},{key:"_setEventParent",value:function(x){return this._eventParent=x,this}},{key:_0x4962("0x378"),value:function(x,_){if(!this[_0x4962("0x36f")])return this;var e=this._eventMap[x[_0x4962("0x353")]()];if(!e)return this;_||(_={});var i=Array[_0x4962("0x1")].slice.call(arguments);i=i.slice(1);for(var a=e.slice(0),n=void 0,r=void 0,s=0,o=a[_0x4962("0x0")];s<o;s++)if(a[s]){var l,f;if(r=!0,_,n=a[s][_0x4962("0x371")])r=(l=a[s].handler)[_0x4962("0xf")][_0x4962("0x2a4")](l,[n][_0x4962("0x12")]((0,t[_0x4962("0xc")])(i)));else r=(f=a[s]).handler[_0x4962("0x2a4")](f,(0,t[_0x4962("0xc")])(i));!1===r&&_[_0x4962("0x37a")]&&(0,c[_0x4962("0x37b")])(_.domEvent)}return this}}]),_}(x)}},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x37c")]=_.MapOptions=void 0;var t=s(e(0)),i=s(e(1)),a=e(294),n=e(295),r=e(51);function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o={dataUrlPrefix:_0x4962("0x37d"),themeUrlPrefix:null},c=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x3c")]=esmap[_0x4962("0x40")].Building,this[_0x4962("0x46")]=o[_0x4962("0x37e")],this[_0x4962("0x75")]=o.themeUrlPrefix,this.mouseReverse=!1,this.scalerOffet=[10,20],this.scalerWidth=60,this.useScaleLevel=!0,this[_0x4962("0x37f")]="firebrick",this[_0x4962("0x380")]="#fff",this[_0x4962("0x381")]=!1,this[_0x4962("0x1ba")]="WGS84",this[_0x4962("0xa5")]=1,this[_0x4962("0x382")]=!0,this[_0x4962("0x383")]=!0,this[_0x4962("0x384")]=!0,this[_0x4962("0x385")]=null,this[_0x4962("0x386")]=!0,this.container=document[_0x4962("0x27")],this.center=null,this.minViewDistance=20,this[_0x4962("0x387")]="3D",this[_0x4962("0x388")]=!1,this[_0x4962("0x389")]=null,this[_0x4962("0x38a")]=null,this[_0x4962("0x38b")]=null,this[_0x4962("0x38c")]=esmap[_0x4962("0x38d")][_0x4962("0x38e")],this[_0x4962("0x38f")]=2048,this[_0x4962("0x390")]=.6,this.defaultControlsPose=null,this.panLimit=null,this[_0x4962("0x391")]=null,this[_0x4962("0x392")]=null,this[_0x4962("0x393")]=!1,this.viewModeAnimateMode=!0,this[_0x4962("0x394")]=.3,this.moveToAnimateMode=!0,this[_0x4962("0x395")]=.3,this[_0x4962("0x396")]=[10,20],this[_0x4962("0x397")]=64,this.compassAngle=0,this[_0x4962("0x398")]=!1,this[_0x4962("0x399")]="all",this.powerPreference=_0x4962("0xc"),this[_0x4962("0x39a")]=0,this[_0x4962("0x39b")]=null,this[_0x4962("0x39c")]=null,this.randomTexture=!0,this[_0x4962("0x39d")]=!0,this[_0x4962("0x1f6")]=null,this[_0x4962("0x72")]=null,this[_0x4962("0x39e")]=0,this[_0x4962("0x39f")]=1,this[_0x4962("0x3a0")]=1,this[_0x4962("0x3a1")]=1,this[_0x4962("0x3a2")]=!0,this[_0x4962("0x3a3")]=!0,this[_0x4962("0x3a4")]=!0,this[_0x4962("0x1f5")]=!1,this[_0x4962("0x3a5")]=!1,this[_0x4962("0x74")]=!0,this.effects=null,this[_0x4962("0x3a6")]="./",this[_0x4962("0x3a7")]=!0,this[_0x4962("0x3a8")]=!1,this[_0x4962("0x3a9")]=!1,this[_0x4962("0x3aa")]=_0x4962("0x141"),this.useCache=!0,this[_0x4962("0x3ab")]=!1,this[_0x4962("0x3ac")]=!1,this[_0x4962("0x78")]=0,this[_0x4962("0x3ad")]=null,this[_0x4962("0x3ae")]=null,this[_0x4962("0x3af")]=0,this[_0x4962("0x3b0")]=!1,this[_0x4962("0x3b1")]=!1,this[_0x4962("0x3b2")]=!1,this[_0x4962("0x3b3")]=!0,this[_0x4962("0x3b4")]=!1,this[_0x4962("0x3b5")]=30;var e=esmap[_0x4962("0x8c")].getPlatform()[_0x4962("0x3b6")];this[_0x4962("0x3b7")]=e?this[_0x4962("0x3b7")]:"50",this[_0x4962("0x74")]&&(THREE[_0x4962("0x74")]=!0),_.mapDataSrc&&"/"!==_[_0x4962("0x46")][_0x4962("0x7d")](_[_0x4962("0x46")][_0x4962("0x0")]-1)&&(_[_0x4962("0x46")]+="/"),_[_0x4962("0x75")]&&"/"!==_.mapThemeSrc.substring(_[_0x4962("0x75")][_0x4962("0x0")]-1)&&(_[_0x4962("0x75")]+="/"),_[_0x4962("0x3c")]||(_[_0x4962("0x3c")]=esmap.MapMode[_0x4962("0x3b8")]),_[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?this[_0x4962("0x3b9")](_):(_[_0x4962("0x3ba")]&&(_[_0x4962("0x3bb")]=_[_0x4962("0x3ba")]),this[_0x4962("0x3bc")](_))}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x3b9"),value:function(x){(0,r[_0x4962("0x12d")])(this,n[_0x4962("0x3bd")]),(0,r[_0x4962("0x12d")])(this,x)}},{key:_0x4962("0x3bc"),value:function(x){(0,r[_0x4962("0x12d")])(this,a[_0x4962("0x3be")]),(0,r[_0x4962("0x12d")])(this,x)}}]),x}();_.MapOptions=c,_[_0x4962("0x37c")]=function(x){var _=(0,r[_0x4962("0x12d")])({},n[_0x4962("0x3bd")]);for(var e in _)x[_0x4962("0x2")](e)&&void 0!==x[e]&&(_[e]=x[e]);return _}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=f(e(2)),i=f(e(0)),a=f(e(1)),n=f(e(311)),r=f(e(63)),s=(e(32),e(20)),o=f(e(35)),c=f(e(318)),l=f(e(24));function f(x){return x&&x.__esModule?x:{default:x}}var d=function(){function x(_){var e=this;(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0x3bf")]={},this.id=_.id,this[_0x4962("0x48")]=_[_0x4962("0x48")],this[_0x4962("0xf2")]=new THREE.Object3D,this.meshHandler=this[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0x3c0")],this[_0x4962("0xf2")][_0x4962("0xf1")]=this,this[_0x4962("0x3c1")]=0,this[_0x4962("0x3b")]={mergeModels:!0},this[_0x4962("0x3c2")]=this.map[_0x4962("0x2b4")],this[_0x4962("0x3c3")]=new esmap.ESLayerManager(this[_0x4962("0xf2")]),this[_0x4962("0x213")]=1,this[_0x4962("0x264")]=new n.default(this),this.lineLevel1=new THREE.Object3D,this[_0x4962("0x3c4")]=new(THREE[_0x4962("0x20c")]),this[_0x4962("0x3c5")]=new(THREE[_0x4962("0x20c")]),this[_0x4962("0xf2")].add(this[_0x4962("0x3c6")]),this[_0x4962("0xf2")][_0x4962("0xda")](this[_0x4962("0x3c4")]),this[_0x4962("0xf2")].add(this[_0x4962("0x3c5")]),this[_0x4962("0x3c7")]=!1;var t=this,a=t.map[_0x4962("0x1c6")].zoomLevel;a<16.5||(a<15?this[_0x4962("0x3c4")][_0x4962("0x17c")]=!1:a<14&&(this[_0x4962("0x3c5")][_0x4962("0x17c")]=!1)),this[_0x4962("0x48")].on("controlUpdated",(function(){t.checkLod()})),o[_0x4962("0xc")][_0x4962("0xe9")](this.id),this[_0x4962("0x48")].on(_0x4962("0xe6"),(function(x){x[_0x4962("0x2bf")]===e.id&&1===x[_0x4962("0xe3")]&&e[_0x4962("0x3c2")][_0x4962("0x3c8")](e)})),this[_0x4962("0x3c9")]=new(c[_0x4962("0xc")])(this)}return(0,a.default)(x,[{key:_0x4962("0x3ca"),value:function(){var x=this,_=x.map[_0x4962("0x1c6")].zoomLevel,e=x.map[_0x4962("0x2b4")][_0x4962("0x3cb")];x[_0x4962("0x3cc")]&&(_>=16.5?e[_0x4962("0xaf")](x.id)>-1&&(x[_0x4962("0x3cc")][2]&&x.loadBuildings(2),x[_0x4962("0x3cc")][3]&&x[_0x4962("0x3cd")](3)):_>=14.5&&e[_0x4962("0xaf")](x.id)>-1&&x[_0x4962("0x3cc")][2]&&x[_0x4962("0x3cd")](2)),x[_0x4962("0x48")].options.showRoads?(_<15?x[_0x4962("0x3c4")].visible&&(x[_0x4962("0x3c4")][_0x4962("0x17c")]=!1):x.lineLevel2[_0x4962("0x17c")]||(x[_0x4962("0x3c4")].visible=!0),_<14?x[_0x4962("0x3c5")].visible&&(x[_0x4962("0x3c5")][_0x4962("0x17c")]=!1):x[_0x4962("0x3c5")][_0x4962("0x17c")]||(x[_0x4962("0x3c5")][_0x4962("0x17c")]=!0)):(x.lineLevel2.visible&&(x[_0x4962("0x3c4")][_0x4962("0x17c")]=!1),x[_0x4962("0x3c5")][_0x4962("0x17c")]&&(x.lineLevel3[_0x4962("0x17c")]=!1))}},{key:_0x4962("0x3ce"),value:function(){this.lineLevel1[_0x4962("0x17c")]=!1}},{key:"showRoads",value:function(){this.lineLevel1[_0x4962("0x17c")]=!0}},{key:"loadBuildings",value:function(x){var _=this[_0x4962("0x3cc")][x];this[_0x4962("0x264")][_0x4962("0x3cf")][_0x4962("0x3d0")]=_.roomModelsCount,this.map[_0x4962("0x7f")][_0x4962("0x3d1")]+=_[_0x4962("0x3d0")],_[_0x4962("0x2ed")]=x,this[_0x4962("0x3c0")][_0x4962("0x3d2")](_,1,this,!0),this.meshHandler[_0x4962("0x3d3")](_,1,this,!0),this[_0x4962("0x3cc")][x]=null}},{key:"loadPois",value:function(){var x=this.progressHandler,_=this.sourceData;if(_){var e=_[_0x4962("0x3d4")],t=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0x3d7")]);this.o3d_[_0x4962("0xda")](t[_0x4962("0xf2")]),t[_0x4962("0xf2")][_0x4962("0x3d8")]=new(esmap[_0x4962("0x3d9")]);var i=this[_0x4962("0x48")].id,a=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0x3da")]);this[_0x4962("0xf2")].add(a[_0x4962("0xf2")]),a.o3d_[_0x4962("0x3d8")]=new(esmap[_0x4962("0x3d9")]);var n=this[_0x4962("0x48")].mapScene,r=this;for(var s in this[_0x4962("0x48")].on("zoomed",(function(){r[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x1f6")]<=10?(t.visible&&(t[_0x4962("0x17c")]=!1),a.visible&&(a.visible=!1)):(!t[_0x4962("0x17c")]&&(t[_0x4962("0x17c")]=!0),!a[_0x4962("0x17c")]&&(a[_0x4962("0x17c")]=!0))})),e){var o=e[s];if(this.map[_0x4962("0x3b")][_0x4962("0x3db")])if(!esmap.ESMapUtil[_0x4962("0x3dc")]({x:o.X,y:o.Y},this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3db")]))continue;var c=Math[_0x4962("0x31")](o[_0x4962("0x3dd")]/100),l={},f=o[_0x4962("0x3de")].split(",");l[_0x4962("0x326")]=f[0],l.w=1*f[1],l.h=1*f[2];var d=_0x4962("0x35e");switch(1*f[3]){case 0:d=_0x4962("0x35e");break;case 1:d=_0x4962("0x35c");break;case 2:d=_0x4962("0x361");break;case 3:d=_0x4962("0x35d")}if(l.imagealign=d,f[4]&&f[5]&&(l.center={x:1*f[4],y:1*f[5]}),2==c||3==c||4==c){var u=o.SH||2.5,h={isTile:!0,oid:o[_0x4962("0x3df")],Typeid:o.Tid,name:o.NA||"",dataID:o.NE,fontstyleid:o[_0x4962("0x3e0")],Height:o.SH,X:o.X,Y:o.Y,imagealign:l.imagealign,image:o[_0x4962("0x326")],w:o.w?o.w:32,h:o.h?o.h:32,ShowLevel:o.SL,texture:null,center:l.center},g=this[_0x4962("0x48")].mapTheme[_0x4962("0x3e1")][h.fontstyleid]||this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0x3e1")][0]||this[_0x4962("0x48")].mapTheme[_0x4962("0x3e2")];h.bid=this[_0x4962("0x48")].id;var b=new(esmap[_0x4962("0x3e3")])(h,g);b[_0x4962("0x311")]=h.ShowLevel;var v=b[_0x4962("0xf2")];b[_0x4962("0x3e4")]=this.id,v[_0x4962("0x44")]({type:_0x4962("0x3e5")}),t[_0x4962("0xf2")].add(v),v[_0x4962("0x3e6")][_0x4962("0x3e7")]=0,b[_0x4962("0x3e8")]=1;var p=this[_0x4962("0x48")][_0x4962("0x1b7")]({from:this[_0x4962("0x48")][_0x4962("0x3e9")],to:this[_0x4962("0x48")][_0x4962("0x1b8")],coord:{x:o.X,y:o.Y}}),m=this[_0x4962("0x48")]._coordMapSceneToThree(p);v[_0x4962("0x106")][_0x4962("0xd8")](m.x,u,m.z),v[_0x4962("0x131")].set(.5,0),v[_0x4962("0x3ea")][_0x4962("0x3eb")](this.map[_0x4962("0x3ec")][_0x4962("0x3ed")],v[_0x4962("0x3ee")]),v[_0x4962("0x166")][_0x4962("0x3ef")]=!0,this.map[_0x4962("0x194")][_0x4962("0x3f0")](v,i),x[_0x4962("0xdf")](o[_0x4962("0x3df")]),this.map[_0x4962("0x3b")].poiScale&&typeof this.map.options[_0x4962("0x3f1")]===_0x4962("0x18a")&&(b[_0x4962("0x1fe")]=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3f1")])}else if(11==c){var A=o[_0x4962("0x3f2")];o.image&&""!=o[_0x4962("0x326")]&&(A=o[_0x4962("0x326")]);var y=n[_0x4962("0x3f3")][_0x4962("0x3f4")](this[_0x4962("0x48")].options[_0x4962("0x72")],A,i,1),C={oid:o[_0x4962("0x3df")],Typeid:o[_0x4962("0x3f5")],name:o.NA||"",dataID:o.NE,Height:o.SH,w:o.w?o.w:32,h:o.h?o.h:32,ShowLevel:o.SL,url:y},I=new(esmap[_0x4962("0x3f6")])(C),E=I[_0x4962("0xf2")];E[_0x4962("0x44")]({type:_0x4962("0x3e5")}),a[_0x4962("0xf2")][_0x4962("0xda")](E),E.data_.scaleOffset=1;var w=o.SH||3,T=this.map[_0x4962("0x1b7")]({from:this[_0x4962("0x48")][_0x4962("0x3e9")],to:this[_0x4962("0x48")][_0x4962("0x1b8")],coord:{x:o.X,y:o.Y}}),k=this[_0x4962("0x48")][_0x4962("0x2c3")](T);E.position.set(k.x,w,k.z),E[_0x4962("0x3f7")]=_0x4962("0x3f8"),E[_0x4962("0xf1")][_0x4962("0x3e8")]=1,E[_0x4962("0xf1")][_0x4962("0x311")]=o.SL,E[_0x4962("0xf1")][_0x4962("0x3e4")]=this.id,E.data_[_0x4962("0x3f9")]=o.SL,E.modelViewMatrix[_0x4962("0x3eb")](this[_0x4962("0x48")][_0x4962("0x3ec")].matrixWorldInverse,E.matrixWorld),E[_0x4962("0x166")].vmupdated=!0,E[_0x4962("0x131")].set(.5,0),this.map[_0x4962("0x194")][_0x4962("0x3f0")](E,this.id),x[_0x4962("0xdf")](o[_0x4962("0x3df")]),this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3f1")]&&typeof this.map[_0x4962("0x3b")][_0x4962("0x3f1")]===_0x4962("0x18a")&&(I.scale=this[_0x4962("0x48")].options.poiScale)}}}}},{key:_0x4962("0x3fa"),value:function(x){for(var _=this[_0x4962("0x3c6")][_0x4962("0xf3")],e=this[_0x4962("0x48")].mapPicker[_0x4962("0x3fb")][this.id],t=0;t<_.length;t++)if(_[t][_0x4962("0xf1")].ID==x){var i=_[t],a=e[_0x4962("0xaf")](i);a>-1&&e[_0x4962("0x4")](a,1),i[_0x4962("0xf4")][_0x4962("0xf5")](),i.material=null,this[_0x4962("0x3c6")][_0x4962("0x197")](i)}}},{key:_0x4962("0x3fc"),value:function(){var x=this.tempDatas[1].roadDatas;if(x.length>0)for(var _=0;_<x[_0x4962("0x0")];_++){var e=x[_];e[_0x4962("0x138")][0]=this[_0x4962("0x48")][_0x4962("0x3fd")]({from:this.map[_0x4962("0x1b8")],to:this.map.DEFAULT_COORDSYSTEM,coords:e[_0x4962("0x138")][0],flipX:!0});for(var t=0,i=e[_0x4962("0x138")][0][_0x4962("0x0")];t<i;t++)e.points[0][t].x=-e.points[0][t].x;var a=l[_0x4962("0xc")].getPath(_0x4962("0x59"),{filename:e[_0x4962("0x3fe")],type:_0x4962("0x3ff")}),n={lineType:esmap.ESLineType[_0x4962("0x12a")],lineWidth:5,noAnimate:!0,color:_0x4962("0x128"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(n[_0x4962("0x4d")]=a,e[_0x4962("0x400")]){var r=e[_0x4962("0x400")][_0x4962("0x2d")](",");1*r[1]?(n[_0x4962("0x160")]=1*r[1],n.up=new(THREE[_0x4962("0x12c")])(0,1,0)):(n[_0x4962("0x160")]=1*r[0],n.up=new(THREE[_0x4962("0x12c")])(1,0,0)),e.offset?n[_0x4962("0x2a")]=e[_0x4962("0x15c")].split(",")[1]:n.offsetHeight=0;var s=new(esmap[_0x4962("0x401")])({id:e[_0x4962("0x402")],points:e[_0x4962("0x138")][0],style:n});s[_0x4962("0x3e6")]=e,this.map[_0x4962("0x3b")].editMode?this[_0x4962("0x48")][_0x4962("0x403")](s):this[_0x4962("0x48")][_0x4962("0x403")](s,null,!0,!0)}}}},{key:"loadRoads",value:function(){if(!this[_0x4962("0x3c7")]){var x=this,_=x.map.tileService[_0x4962("0x404")][x.id];if(_){var e=_.Lines;for(var t in e)x[_0x4962("0x405")](e[t]);this[_0x4962("0x3c7")]=!0}}}},{key:_0x4962("0x406"),value:function(x){this[_0x4962("0x3c3")][_0x4962("0x406")](x)}},{key:_0x4962("0x407"),value:function(x,_){return this[_0x4962("0x3c3")].getOrCreateLayerByName(x,_)}},{key:_0x4962("0x408"),value:function(x,_){return this[_0x4962("0x3c3")][_0x4962("0x408")](x,_)}},{key:_0x4962("0x409"),value:function(x,_){return this[_0x4962("0x3c3")][_0x4962("0x409")](x,_)}},{key:_0x4962("0x40a"),value:function(x){if(this[_0x4962("0x48")].options[_0x4962("0x40b")]){var _=(0,t[_0x4962("0xc")])({style:0,points:[],id:0,name:"",rank:10},x),e=this,i=(e.id,_[_0x4962("0x25")]||0),a=e[_0x4962("0x48")][_0x4962("0x13e")].roadStyles[i];a||(a=e[_0x4962("0x48")][_0x4962("0x13e")].roadStyles[0]);for(var n=e[_0x4962("0x48")],o=n.id,c=e.id,l=[],f=0;f<_.points[_0x4962("0x0")];f++){var d=_[_0x4962("0x138")][f];if(isNaN(d.x)||isNaN(d.y))return s[_0x4962("0x37")].post({msg:"å°å¾"+o+"ç¦ç"+c+"éè·¯"+_.id+_0x4962("0x40c")+d.x+", "+d.y,level:_0x4962("0xe0")}),!1;var u=n[_0x4962("0x1b7")]({from:n.DEFAULT_COORDSYSTEM,to:n[_0x4962("0x1b8")],coord:{x:d.x,y:d.y}}),h=n[_0x4962("0x2c3")](u);h.bid=0,h[_0x4962("0x132")]=1,h.y+=d.offset||0,l[_0x4962("0x3")](h)}var g=new r.default(l,{lineWidthMeter:!0,repeat:a[_0x4962("0x15b")]||0,lineWidth:a[_0x4962("0x40d")],noAnimate:0==a[_0x4962("0x40e")],randomOffset:!0,customMat:a[_0x4962("0xf6")],animateSpeed:a[_0x4962("0x40e")]/100,offsetHeight:.1*Math.random()+a[_0x4962("0x1a4")],url:n.options[_0x4962("0x40f")][_0x4962("0x4d")]},!1,a[_0x4962("0xf6")]);return g[_0x4962("0x410")]="0"===x[_0x4962("0x411")],g[_0x4962("0x412")]=i,void 0!==a[_0x4962("0x1a4")]&&(g[_0x4962("0x106")].y=.1*Math.random()+a[_0x4962("0x1a4")]),g[_0x4962("0x107")]=_[_0x4962("0x107")],g[_0x4962("0xf1")]={ID:_.id,nodeType:esmap[_0x4962("0x134")][_0x4962("0x413")],name:_[_0x4962("0x107")],o3d_:g,roadType:_[_0x4962("0x414")],points:_.points,bid:o,tileId:c,bType:1},e[_0x4962("0x3c6")][_0x4962("0xda")](g),n[_0x4962("0x194")][_0x4962("0x3f0")](g,e.id),g}}},{key:_0x4962("0x405"),value:function(x){var _=x.na,e=x[_0x4962("0x415")].substring(2,x[_0x4962("0x415")][_0x4962("0x0")]-2)[_0x4962("0x2d")](/,/),t={x:0,y:0},i=this.map.__ro[_0x4962("0x2d")](","),a=1*i[0],n=1*i[1],r=1*i[2];if(0!=e[_0x4962("0x0")]){for(var s=[],o=0;o<e[_0x4962("0x0")];o++){var c=e[o][_0x4962("0x2d")](" "),l=1*c[2]||0;s[_0x4962("0x3")]({x:1*c[0]+t.x+a,y:1*c[1]+t.y+n,offset:l+r}),0==o&&(t.x=1*c[0],t.y=1*c[1])}this[_0x4962("0x40a")]({id:x[_0x4962("0x3df")],name:_,rank:x[_0x4962("0x414")],points:s,direction:x[_0x4962("0x411")]||x[_0x4962("0x416")],style:x.style||0})}}},{key:_0x4962("0x417"),value:function(x,_,e){var t=this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0x418")],i=this[_0x4962("0x48")].mapTheme[_0x4962("0x419")];if(this[_0x4962("0x3c6")][_0x4962("0xf3")].length>0&&t&&i)for(var a=0,n=this[_0x4962("0x3c6")].children[_0x4962("0x0")];a<n;a++){var r=this[_0x4962("0x3c6")][_0x4962("0xf3")][a];x?r._isDoubleDirect?(r[_0x4962("0xf6")]=i,e&&(1*e[_0x4962("0x40e")]==0&&(r[_0x4962("0x25")][_0x4962("0x17d")]=!0),1*e.animationspeed>0&&(r[_0x4962("0x25")][_0x4962("0x184")]=1*e[_0x4962("0x40e")]))):(r[_0x4962("0xf6")]=t,_&&(1*_[_0x4962("0x40e")]==0&&(r[_0x4962("0x25")][_0x4962("0x17d")]=!0),1*_[_0x4962("0x40e")]>0&&(r[_0x4962("0x25")].animateSpeed=1*_.animationspeed))):r[_0x4962("0xf6")]=this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0x41a")][r[_0x4962("0x412")]][_0x4962("0xf6")]}}},{key:_0x4962("0x41b"),get:function(){return o.default[_0x4962("0xdb")](this.id)}},{key:_0x4962("0x17c"),get:function(){return this.o3d_[_0x4962("0x17c")]},set:function(x){this[_0x4962("0xf2")][_0x4962("0x17c")]=x}},{key:"inView",get:function(){for(var x=this[_0x4962("0x48")].mapScene[_0x4962("0x41c")][_0x4962("0xf3")],_=this.id,e=0;e<x[_0x4962("0x0")];e++)if(x[e][_0x4962("0xf1")].id==_)return!0;return!1}}]),x}();_[_0x4962("0xc")]=d},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=l(e(2)),i=l(e(14)),a=l(e(9)),n=l(e(15)),r=l(e(0)),s=l(e(1)),o=e(32),c=l(e(79));function l(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var f=function(){function x(){(0,r[_0x4962("0xc")])(this,x),this[_0x4962("0x101")]=[],this[_0x4962("0x41d")]=[],this[_0x4962("0x41e")]=null,this[_0x4962("0x41f")]=!1}return(0,s[_0x4962("0xc")])(x,[{key:_0x4962("0x420"),value:function(x,_,e){var t=new(THREE[_0x4962("0x241")])(_.x,_.y,_.z,"XYZ"),i=(new(THREE[_0x4962("0x200")]))[_0x4962("0x201")](t),a=new(THREE[_0x4962("0x12c")])(x.x,x.y,x.z),n=new(THREE[_0x4962("0x12c")])(e.x,e.y,e.z);return(new(THREE[_0x4962("0x23f")]))[_0x4962("0x421")](a,i,n)}},{key:_0x4962("0x422"),value:function(x,_,e){var t=new(THREE[_0x4962("0x20c")]);return t[_0x4962("0x106")].fromArray(x||[0,0,0]),t[_0x4962("0x205")].fromArray(_||[0,0,0,1]),t[_0x4962("0x1fe")].fromArray(e||[1,1,1]),t.updateMatrix(),t[_0x4962("0x22b")][_0x4962("0x126")]()}},{key:_0x4962("0x423"),value:function(x){var _=this,e=[],t=new(THREE[_0x4962("0x12c")]);return function x(i){if(i[_0x4962("0x17b")]&&"Scene"!=i[_0x4962("0x17b")][_0x4962("0x9d")]){t.x+=i.parent[_0x4962("0x106")].x,t.y+=i[_0x4962("0x17b")].position.y,t.z+=i[_0x4962("0x17b")][_0x4962("0x106")].z;var a=!0,r=!1,s=void 0;try{for(var o,c=(0,n[_0x4962("0xc")])(_[_0x4962("0x41d")]);!(a=(o=c[_0x4962("0x286")]()).done);a=!0){var l=o[_0x4962("0xe3")];if(l.name==i[_0x4962("0x17b")][_0x4962("0x107")]){l[_0x4962("0x424")]=t,e[_0x4962("0x3")](l);break}}}catch(x){r=!0,s=x}finally{try{!a&&c[_0x4962("0x28c")]&&c[_0x4962("0x28c")]()}finally{if(r)throw s}}x(i[_0x4962("0x17b")])}}(x),e}},{key:_0x4962("0x425"),value:function(x,_){var e=this,t=this,i=new(THREE[_0x4962("0x20c")]);if(this.materials=x[_0x4962("0x100")][_0x4962("0x102")][_0x4962("0x101")],this[_0x4962("0x41d")]=x[_0x4962("0x100")].json[_0x4962("0x41d")],!this.materials)return!1;if(this[_0x4962("0x101")]instanceof Array&&0==this[_0x4962("0x101")].length)return!1;var r=!0,s=!1,o=void 0;try{for(var c,l=(0,n[_0x4962("0xc")])(this[_0x4962("0x101")]);!(r=(c=l[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var f=c[_0x4962("0xe3")];f.geometries=[],f[_0x4962("0xf6")]=null}}catch(x){s=!0,o=x}finally{try{!r&&l.return&&l.return()}finally{if(s)throw o}}var d=x.scene[_0x4962("0x106")][_0x4962("0x126")]();(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](x.scene)[_0x4962("0x2f0")](d),d[_0x4962("0x250")](-1);var u=[d.x,d.y,d.z];return new(a[_0x4962("0xc")])((function(a){x[_0x4962("0x2e6")][_0x4962("0x104")]((function(x){if(x instanceof THREE[_0x4962("0x198")]){var _=t[_0x4962("0x423")](x),e=!0,i=!1,a=void 0;try{for(var r,s=(0,n.default)(t[_0x4962("0x101")]);!(e=(r=s.next())[_0x4962("0x426")]);e=!0){var o=r[_0x4962("0xe3")];if(x[_0x4962("0xf6")][_0x4962("0x107")]==o.name){var c=x[_0x4962("0xf4")][_0x4962("0x126")]();c[_0x4962("0x427")]=x[_0x4962("0x107")],c[_0x4962("0x166")][_0x4962("0x428")]=x[_0x4962("0x106")][_0x4962("0x126")]();var l=void 0,f=!0,d=!1,h=void 0;try{for(var g,b=(0,n[_0x4962("0xc")])(t[_0x4962("0x41d")]);!(f=(g=b[_0x4962("0x286")]())[_0x4962("0x426")]);f=!0){var v=g[_0x4962("0xe3")];v[_0x4962("0x107")]==x[_0x4962("0x107")]?(l=t[_0x4962("0x422")](v[_0x4962("0x429")],v[_0x4962("0x210")],v[_0x4962("0x1fe")]),c[_0x4962("0x42a")](l)):x[_0x4962("0x17b")][_0x4962("0x107")]==v.name&&v}}catch(x){d=!0,h=x}finally{try{!f&&b[_0x4962("0x28c")]&&b.return()}finally{if(d)throw h}}if(_[_0x4962("0x0")]>0)for(var p in _){var m=_[p],A=t[_0x4962("0x422")](m[_0x4962("0x429")],m[_0x4962("0x210")],m[_0x4962("0x1fe")]);c[_0x4962("0x42a")](A)}var y=new THREE.Object3D;y.position[_0x4962("0x42b")](u),y[_0x4962("0x42c")](),c[_0x4962("0x42a")](y[_0x4962("0x22b")].clone()),o[_0x4962("0x42d")][_0x4962("0x3")](c),o.material=x[_0x4962("0xf6")],o.objName=x[_0x4962("0x107")];break}}}catch(x){i=!0,a=x}finally{try{!e&&s[_0x4962("0x28c")]&&s[_0x4962("0x28c")]()}finally{if(i)throw a}}}}));var r=esmap[_0x4962("0x33")][_0x4962("0x3a")],s=!0,o=!1,c=void 0;try{for(var l,f=(0,n[_0x4962("0xc")])(e.materials);!(s=(l=f[_0x4962("0x286")]()).done);s=!0){var d=l[_0x4962("0xe3")];if(d[_0x4962("0x42d")][_0x4962("0x0")]>0){d[_0x4962("0xf6")][_0x4962("0x48")]&&r.options[_0x4962("0x42e")]&&e[_0x4962("0x42f")](d[_0x4962("0x42d")],_[0][_0x4962("0x288")]);var h=e[_0x4962("0x430")](d[_0x4962("0x42d")],!1,x[_0x4962("0x100")][_0x4962("0x102")][_0x4962("0x431")][0][_0x4962("0x432")]),g=e[_0x4962("0x433")](h,_),b=e[_0x4962("0x430")](g,!0,x[_0x4962("0x100")][_0x4962("0x102")].buffers[0][_0x4962("0x432")]);d[_0x4962("0x434")]==_0x4962("0x435")&&(d.material[_0x4962("0x15e")]=THREE[_0x4962("0x436")]),d[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x437")]=!0;var v=d[_0x4962("0xf6")][_0x4962("0x126")]();r[_0x4962("0x3b")][_0x4962("0x438")]&&r.options[_0x4962("0x438")].model3d?(r[_0x4962("0x3b")].selectedColor[_0x4962("0x1e8")][_0x4962("0x147")]?v[_0x4962("0x147")]=(new THREE.Color)[_0x4962("0x277")](r.options[_0x4962("0x438")].model3d[_0x4962("0x147")]):v[_0x4962("0x147")]=r[_0x4962("0x13e")].selectModelMat.color.clone(),v[_0x4962("0x439")]=v[_0x4962("0x147")][_0x4962("0x126")](),v.emissiveIntensity=null==r[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")][_0x4962("0x43a")]?.3:r[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")][_0x4962("0x43a")]):(v[_0x4962("0x439")]=r[_0x4962("0x13e")].selectModelMat[_0x4962("0x147")][_0x4962("0x126")](),v.emissiveIntensity=.3);var p=d.material.clone();p.visible=!1;var m=new THREE.Mesh(b,[d[_0x4962("0xf6")],v,p]);m[_0x4962("0x107")]=d[_0x4962("0x43b")],m[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x27a")],i.add(m)}else r[_0x4962("0x3b")].debugTip&&(_0x4962("0x43c"),d.name,_0x4962("0x43d"))}}catch(x){o=!0,c=x}finally{try{!s&&f[_0x4962("0x28c")]&&f.return()}finally{if(o)throw c}}a(i)}))}},{key:_0x4962("0x12d"),value:function(x,_){var e=this,a=new(THREE[_0x4962("0x20c")]);this[_0x4962("0x101")]=x.parser[_0x4962("0x102")][_0x4962("0x101")],this[_0x4962("0x41d")]=x[_0x4962("0x100")][_0x4962("0x102")].nodes;var r=_[0][_0x4962("0x288")],s=_[0].bid,o=_[0][_0x4962("0x43e")],l=_[0][_0x4962("0x3e4")],f=esmap[_0x4962("0x33")][_0x4962("0x3a")];if(!this[_0x4962("0x101")])return!1;if(this[_0x4962("0x101")]instanceof Array&&0==this[_0x4962("0x101")][_0x4962("0x0")])return!1;var d=!0,u=!1,h=void 0;try{for(var g,b=(0,n.default)(this[_0x4962("0x101")]);!(d=(g=b.next())[_0x4962("0x426")]);d=!0){var v=g[_0x4962("0xe3")];v.geometries=[],v[_0x4962("0xf6")]=null}}catch(x){u=!0,h=x}finally{try{!d&&b.return&&b.return()}finally{if(u)throw h}}var p=x.scene.position[_0x4962("0x126")]();(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](x[_0x4962("0x2e6")])[_0x4962("0x2f0")](p),p[_0x4962("0x250")](-1);var m=[p.x,p.y,p.z],A=[];x[_0x4962("0x2e6")][_0x4962("0x104")]((function(x){if(x instanceof THREE[_0x4962("0x198")]){var a=e[_0x4962("0x423")](x);if(x[_0x4962("0x166")].name){if(a.length>0)for(var r in a){var s=a[r],o=e[_0x4962("0x422")](s[_0x4962("0x429")],s[_0x4962("0x210")],s.scale);x[_0x4962("0x42a")](o)}var c=new THREE.Object3D;c[_0x4962("0x106")][_0x4962("0x42b")](m),c[_0x4962("0x42c")](),x[_0x4962("0x42a")](c[_0x4962("0x22b")][_0x4962("0x126")]());var l=_[0],f=e[_0x4962("0x420")]({x:l[_0x4962("0x106")].x,y:l[_0x4962("0x106")].y,z:l[_0x4962("0x106")].z},{x:l[_0x4962("0x210")].x,y:l[_0x4962("0x210")].y,z:l[_0x4962("0x210")].z},{x:l[_0x4962("0x1fe")].x,y:l[_0x4962("0x1fe")].y,z:l[_0x4962("0x1fe")].z});return x.applyMatrix(f),void A[_0x4962("0x3")](x)}var d=!0,u=!1,h=void 0;try{for(var g,b=(0,n[_0x4962("0xc")])(e[_0x4962("0x101")]);!(d=(g=b.next())[_0x4962("0x426")]);d=!0){var v=g[_0x4962("0xe3")];if(x[_0x4962("0xf6")][_0x4962("0x107")]==v[_0x4962("0x107")]){var p=x.geometry[_0x4962("0x126")]();p[_0x4962("0x427")]=x.name,p.userData[_0x4962("0x428")]=x[_0x4962("0x106")][_0x4962("0x126")]();var y=void 0,C=!0,I=!1,E=void 0;try{for(var w,T=(0,n[_0x4962("0xc")])(e[_0x4962("0x41d")]);!(C=(w=T[_0x4962("0x286")]()).done);C=!0){var k=w.value;k.name=THREE[_0x4962("0x43f")][_0x4962("0x440")](k[_0x4962("0x107")]),k.name==x[_0x4962("0x107")]?(y=e[_0x4962("0x422")](k[_0x4962("0x429")],k.rotation,k.scale),p[_0x4962("0x42a")](y)):x[_0x4962("0x17b")][_0x4962("0x107")]==k[_0x4962("0x107")]&&k}}catch(x){I=!0,E=x}finally{try{!C&&T[_0x4962("0x28c")]&&T[_0x4962("0x28c")]()}finally{if(I)throw E}}if(a.length>0)for(var M in a){var S=a[M],R=e[_0x4962("0x422")](S[_0x4962("0x429")],S[_0x4962("0x210")],S[_0x4962("0x1fe")]);p[_0x4962("0x42a")](R)}var L=new(THREE[_0x4962("0x20c")]);L.position.fromArray(m),L[_0x4962("0x42c")](),p[_0x4962("0x42a")](L[_0x4962("0x22b")][_0x4962("0x126")]()),v.geometries.push(p),v[_0x4962("0xf6")]=x[_0x4962("0xf6")],v[_0x4962("0x43b")]=x.name,v[_0x4962("0x441")]=x.visible,v[_0x4962("0x442")]={},(0,i.default)(x[_0x4962("0x166")])[_0x4962("0x0")]>0&&(0,t.default)(v[_0x4962("0x442")],x[_0x4962("0x166")]);break}}}catch(x){u=!0,h=x}finally{try{!d&&b[_0x4962("0x28c")]&&b[_0x4962("0x28c")]()}finally{if(u)throw h}}}}));var y=function(x){var _=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](x),e=[_[_0x4962("0x300")].x-_[_0x4962("0x301")].x,_.max.z-_[_0x4962("0x301")].z,_[_0x4962("0x300")].y-_[_0x4962("0x301")].y],t=new(THREE[_0x4962("0x12c")])(_.min.x+e[1]/2,_.min.y+e[1]/2,_[_0x4962("0x301")].z+e[1]/2);x[_0x4962("0xf1")].mapCoord=f[_0x4962("0x208")](t),e.sort(),x[_0x4962("0x166")][_0x4962("0x2fe")]={box3:_,sizeInfo:e[1]*e[2]}},C={};f[_0x4962("0x3b")][_0x4962("0x1f5")]||A[_0x4962("0x20")]((function(x){a.userData[_0x4962("0x443")]||(a[_0x4962("0x166")][_0x4962("0x443")]=!0);var _=x.userData,e=f.getBuildingById(s);l&&(e=f.getTileById(l));var t="HASH_"+_[_0x4962("0x107")]+"_"+_.id;if(C[t])return C[t][_0x4962("0xf2")][_0x4962("0xda")](x),void y(C[t].o3d_);var i=new c.default({diableClickEffect:!1,name:_[_0x4962("0x107")],fnum:1,ID:_.id,url:"",gid:null,mapId:f.id,bid:s,dataID:_[_0x4962("0x212")]||null,bType:e[_0x4962("0x213")],model:r,callback:null,top:1,rotation:null,position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},scaleRate:1,child:x,addTo:a,isChildNode:!1,animations:[]});1===e[_0x4962("0x213")]&&(i.tileId=e.id),i.isWall=!1,i[_0x4962("0x444")]=!0,i[_0x4962("0x39")](),_[_0x4962("0x107")]&&_.id&&(C[t]=i);var n=i[_0x4962("0xf2")];y(n),x.geometry[_0x4962("0x166")][_0x4962("0x445")]=[],x[_0x4962("0x166")].hasOwnProperty(_0x4962("0x17c"))?(x[_0x4962("0x166")][_0x4962("0x17c")]||(i.visible=!1),f.mapService._invisibles[_0x4962("0x3")](i)):o&&f[_0x4962("0x194")][_0x4962("0x3f0")](n,e.id)}));var I=!0,E=!1,w=void 0;try{for(var T,k=(0,n[_0x4962("0xc")])(this.materials);!(I=(T=k[_0x4962("0x286")]()).done);I=!0){var M=T[_0x4962("0xe3")];if(M.geometries.length>0){if(M[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x446")])continue;M.material[_0x4962("0x48")]&&f.options.showModel3DErrorMsg&&this[_0x4962("0x42f")](M[_0x4962("0x42d")],_[0][_0x4962("0x288")]);var S=this[_0x4962("0x430")](M[_0x4962("0x42d")],!1,x.parser[_0x4962("0x102")][_0x4962("0x431")][0][_0x4962("0x432")]),R=this[_0x4962("0x433")](S,_),L=this.mergeGeometry(R,!0,x.parser.json[_0x4962("0x431")][0][_0x4962("0x432")]);M[_0x4962("0x434")]==_0x4962("0x435")&&(M[_0x4962("0xf6")][_0x4962("0x15e")]=THREE[_0x4962("0x436")]),M.material[_0x4962("0x166")][_0x4962("0x437")]=!0;var H=M.material[_0x4962("0x126")]();f[_0x4962("0x3b")][_0x4962("0x438")]&&f[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")]?(f[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")][_0x4962("0x147")]?H[_0x4962("0x147")]=(new(THREE[_0x4962("0x188")])).setStyle(f[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")][_0x4962("0x147")]):H[_0x4962("0x147")]=f[_0x4962("0x13e")].selectModelMat[_0x4962("0x147")][_0x4962("0x126")](),H[_0x4962("0x439")]=H[_0x4962("0x147")][_0x4962("0x126")](),H.emissiveIntensity=null==f[_0x4962("0x3b")].selectedColor[_0x4962("0x1e8")].intensity?.3:f[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x1e8")][_0x4962("0x43a")]):(H[_0x4962("0x439")]=f[_0x4962("0x13e")][_0x4962("0x447")].color[_0x4962("0x126")](),H[_0x4962("0x448")]=.3);var D=M[_0x4962("0xf6")].clone();D[_0x4962("0x17c")]=!1;var O=new THREE.Mesh(L,[M[_0x4962("0xf6")],H,D]);O[_0x4962("0x107")]=M[_0x4962("0x43b")],O[_0x4962("0x17c")]=M[_0x4962("0x441")],(0,t.default)(O[_0x4962("0x166")],M.mergeUserData),O[_0x4962("0x166")][_0x4962("0x79")]&&(O._bid=s,f[_0x4962("0x194")][_0x4962("0x449")][_0x4962("0x3")](O)),O.renderOrder=esmap[_0x4962("0x171")][_0x4962("0x27a")],a[_0x4962("0xda")](O)}else f[_0x4962("0x3b")][_0x4962("0x3b1")]&&console[_0x4962("0x44a")](_0x4962("0x43c")+M.name+_0x4962("0x43d"))}}catch(x){E=!0,w=x}finally{try{!I&&k.return&&k[_0x4962("0x28c")]()}finally{if(E)throw w}}return a}},{key:"checkGeoIsHaveUv",value:function(x,_){var e=[],t=!0,i=!1,a=void 0;try{for(var r,s=(0,n[_0x4962("0xc")])(x);!(t=(r=s.next())[_0x4962("0x426")]);t=!0){var o=r.value;o[_0x4962("0x105")].uv||e[_0x4962("0x3")](o._meshName)}}catch(x){i=!0,a=x}finally{try{!t&&s[_0x4962("0x28c")]&&s[_0x4962("0x28c")]()}finally{if(i)throw a}}e[_0x4962("0x0")]>0&&console[_0x4962("0x293")](_+_0x4962("0x44b"),e)}},{key:_0x4962("0x44c"),value:function(x,_){return!(Math[_0x4962("0x231")](x.x)>_||Math[_0x4962("0x231")](x.y)>_||Math[_0x4962("0x231")](x.z)>_)}},{key:_0x4962("0x433"),value:function(x,_){var e=[],t=!0,i=!1,a=void 0;try{for(var r,s=(0,n[_0x4962("0xc")])(_);!(t=(r=s[_0x4962("0x286")]())[_0x4962("0x426")]);t=!0){var o=r[_0x4962("0xe3")];o[_0x4962("0x210")]||(o.rotation={x:0,y:0,z:0});var c=this.getTransformMatrix({x:o[_0x4962("0x106")].x,y:o[_0x4962("0x106")].y,z:o[_0x4962("0x106")].z},{x:o.rotation.x,y:o[_0x4962("0x210")].y,z:o[_0x4962("0x210")].z},{x:o[_0x4962("0x1fe")].x,y:o[_0x4962("0x1fe")].y,z:o.scale.z}),l=x[_0x4962("0x126")]();l.name=o.id,l[_0x4962("0x42a")](c),e[_0x4962("0x3")](l)}}catch(x){i=!0,a=x}finally{try{!t&&s[_0x4962("0x28c")]&&s.return()}finally{if(i)throw a}}return x.dispose(),x=null,e}},{key:_0x4962("0x430"),value:function(x,_,e,t){var i=new THREE.BufferGeometry,a=[],r=[],s=[],c=[],l=[],f=[],d=0,u=[],h=!1,g=!1,b=!1,v=!1,p=0,m=!0,A=!1,y=void 0;try{for(var C,I=(0,n[_0x4962("0xc")])(x);!(m=(C=I.next()).done);m=!0){var E=C.value,w=E[_0x4962("0x166")][_0x4962("0x428")];w&&(0!=w.x||0!=w.y||w.z);var T=E[_0x4962("0x44d")]("uv"),k=E.getAttribute(_0x4962("0x44e")),M=E.getAttribute(_0x4962("0x147")),S=E[_0x4962("0x2cd")]?E[_0x4962("0x2cd")]:null;if(T&&(a[_0x4962("0x3")](T),h=!0),k&&(c[_0x4962("0x3")](k),g=!0),M&&(l[_0x4962("0x3")](M),b=!0),S){for(var R=0;R<S[_0x4962("0x182")];++R)f.push(S[_0x4962("0x44f")](R)+p);v=!0}r[_0x4962("0x3")](E.getAttribute(_0x4962("0x106"))),E.getAttribute(_0x4962("0x141"))||E[_0x4962("0x450")](),s[_0x4962("0x3")](E[_0x4962("0x44d")]("normal"));var L=E[_0x4962("0x105")].position[_0x4962("0x182")],H=void 0;S&&(H=S.count),_&&u.push({id:E[_0x4962("0x107")],start:d,count:S?H:L,materialIndex:0}),d+=H,p+=L}}catch(x){A=!0,y=x}finally{try{!m&&I[_0x4962("0x28c")]&&I[_0x4962("0x28c")]()}finally{if(A)throw y}}var D=new Float32Array,O=new Float32Array,P=new Float32Array,N=new Float32Array,F=new Float32Array;new Uint16Array;h&&(D=o.BufferGeometryUtils[_0x4962("0x451")](a)[_0x4962("0x452")]),g&&(O=o.BufferGeometryUtils[_0x4962("0x451")](c).array),b&&(F=o[_0x4962("0x453")][_0x4962("0x451")](l).array),P=o[_0x4962("0x453")][_0x4962("0x451")](r)[_0x4962("0x452")],N=o.BufferGeometryUtils[_0x4962("0x451")](s)[_0x4962("0x452")],i[_0x4962("0x454")](_0x4962("0x106"),new THREE.BufferAttribute(P,3)),i[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(N,3)),h&&i[_0x4962("0x454")]("uv",new THREE.BufferAttribute(D,2)),g&&i[_0x4962("0x454")](_0x4962("0x44e"),new THREE.BufferAttribute(O,2)),b&&i[_0x4962("0x454")]("color",new THREE.BufferAttribute(F,3)),v?(i[_0x4962("0x456")](f),i[_0x4962("0x181")](0,i[_0x4962("0x2cd")][_0x4962("0x182")],0)):i.addGroup(0,i.attributes[_0x4962("0x106")][_0x4962("0x182")],0),_&&(i[_0x4962("0x166")][_0x4962("0x445")]=u);var B=!0,z=!1,U=void 0;try{for(var V,j=(0,n[_0x4962("0xc")])(x);!(B=(V=j[_0x4962("0x286")]()).done);B=!0){var Y=V[_0x4962("0xe3")];Y[_0x4962("0xf5")](),Y=null}}catch(x){z=!0,U=x}finally{try{!B&&j[_0x4962("0x28c")]&&j.return()}finally{if(z)throw U}}return x.length=0,a[_0x4962("0x0")]=0,r.length=0,s[_0x4962("0x0")]=0,c.length=0,l[_0x4962("0x0")]=0,f[_0x4962("0x0")]=0,i}},{key:_0x4962("0x457"),value:function(x,_,e){if(_.geometry[_0x4962("0x166")][_0x4962("0x445")]){if(_[_0x4962("0x17b")][_0x4962("0x166")][_0x4962("0x458")])return;var t=this.getFaceIndexToGroup(x,_[_0x4962("0xf4")].userData[_0x4962("0x445")],_[_0x4962("0xf4")][_0x4962("0x2cd")]);t||console.info(_0x4962("0x459")),this[_0x4962("0x45a")](_,t.id,!0),this[_0x4962("0x41e")]={mesh:_,id:t.id,lastSelectMatIndex:e}}}},{key:"changeModelAlphaById",value:function(x,_,e,t,i){var a=_,r=[],s=function(x){if(!x[_0x4962("0x166")][_0x4962("0x45b")]){var _=e;!1===e?(_=x.userData.opacity,x[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x26c"))&&(x[_0x4962("0x144")]=x[_0x4962("0x166")][_0x4962("0x26c")])):(x[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x26c"))||(x[_0x4962("0x166")].istransparent=x.transparent,x[_0x4962("0x166")].opacity=x[_0x4962("0x145")]),x[_0x4962("0x144")]=!0),x[_0x4962("0x166")]._settedAlpha=!0,r[_0x4962("0x3")](x),x[_0x4962("0x145")]=_}};if(a&&a[_0x4962("0xf3")][_0x4962("0x0")]>0){var o=!0,c=!1,l=void 0;try{for(var f,d=(0,n[_0x4962("0xc")])(a.children);!(o=(f=d[_0x4962("0x286")]()).done);o=!0){var u=f[_0x4962("0xe3")],h=!0,g=!1,b=void 0;try{for(var v,p=(0,n[_0x4962("0xc")])(u.geometry.userData[_0x4962("0x445")]);!(h=(v=p[_0x4962("0x286")]())[_0x4962("0x426")]);h=!0){var m=v[_0x4962("0xe3")];if(x===m.id){var A=0;if(0!=e){var y=u.material[0][_0x4962("0x126")]();y[_0x4962("0x17c")]||(y[_0x4962("0x17c")]=!0),u[_0x4962("0xf6")][_0x4962("0x3")](y),A=u[_0x4962("0xf6")][_0x4962("0x0")]-1,u.geometry[_0x4962("0x166")][_0x4962("0x45c")]||(u.geometry[_0x4962("0x166")][_0x4962("0x45c")]={}),u[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x45c")][x]=A,s(y)}else{if(u.geometry[_0x4962("0x166")].matRecord){var C=u[_0x4962("0xf4")][_0x4962("0x166")].matRecord[x];null!=C&&u.material[C]&&(u.material[C][_0x4962("0xf5")](),u[_0x4962("0xf6")][C]=null)}A=0}var I=u.geometry[_0x4962("0x45d")],E=this.splitGroup(m.start,m[_0x4962("0x1b1")]+m[_0x4962("0x182")],A,I);u[_0x4962("0xf4")][_0x4962("0x45e")]();var w=!0,T=!1,k=void 0;try{for(var M,S=(0,n[_0x4962("0xc")])(E);!(w=(M=S[_0x4962("0x286")]())[_0x4962("0x426")]);w=!0){var R=M.value;u[_0x4962("0xf4")][_0x4962("0x181")](R[_0x4962("0x1b1")],R[_0x4962("0x182")],R[_0x4962("0x45f")])}}catch(x){T=!0,k=x}finally{try{!w&&S[_0x4962("0x28c")]&&S[_0x4962("0x28c")]()}finally{if(T)throw k}}break}}}catch(x){g=!0,b=x}finally{try{!h&&p[_0x4962("0x28c")]&&p[_0x4962("0x28c")]()}finally{if(g)throw b}}}}catch(x){c=!0,l=x}finally{try{!o&&d.return&&d[_0x4962("0x28c")]()}finally{if(c)throw l}}}for(var L in r){r[L][_0x4962("0x166")][_0x4962("0x45b")]=!1}_[_0x4962("0x166")][_0x4962("0x460")]=!1}},{key:"changeModelColorById",value:function(x,_,e,t,i){var a=_;if(a&&a.children[_0x4962("0x0")]>0){var r=!0,s=!1,o=void 0;try{for(var c,l=(0,n[_0x4962("0xc")])(a[_0x4962("0xf3")]);!(r=(c=l[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var f=c[_0x4962("0xe3")],d=!0,u=!1,h=void 0;try{for(var g,b=(0,n.default)(f[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x445")]);!(d=(g=b[_0x4962("0x286")]())[_0x4962("0x426")]);d=!0){var v=g[_0x4962("0xe3")];if(x===v.id){var p=0;if(e){var m=f[_0x4962("0xf6")][0].clone();m[_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(esmap[_0x4962("0x8c")][_0x4962("0x461")](e)),m[_0x4962("0x439")]=m[_0x4962("0x147")][_0x4962("0x126")](),m[_0x4962("0x448")]=t,f[_0x4962("0xf6")][_0x4962("0x3")](m),p=f.material[_0x4962("0x0")]-1,i&&this.flashColor(f.material[0],m,i)}else{var A=!0,y=!1,C=void 0;try{for(var I,E=(0,n.default)(f[_0x4962("0xf6")]);!(A=(I=E[_0x4962("0x286")]())[_0x4962("0x426")]);A=!0){var w=I[_0x4962("0xe3")];if(w[_0x4962("0x462")]){this[_0x4962("0x463")](f[_0x4962("0xf6")][0],w,!1);break}}}catch(x){y=!0,C=x}finally{try{!A&&E.return&&E.return()}finally{if(y)throw C}}p=0,f[_0x4962("0xf6")]=f.material.slice(0,3)}var T=f[_0x4962("0xf4")][_0x4962("0x45d")],k=this.splitGroup(v[_0x4962("0x1b1")],v[_0x4962("0x1b1")]+v[_0x4962("0x182")],p,T);f[_0x4962("0xf4")].clearGroups();var M=!0,S=!1,R=void 0;try{for(var L,H=(0,n[_0x4962("0xc")])(k);!(M=(L=H[_0x4962("0x286")]()).done);M=!0){var D=L[_0x4962("0xe3")];f.geometry.addGroup(D[_0x4962("0x1b1")],D[_0x4962("0x182")],D[_0x4962("0x45f")])}}catch(x){S=!0,R=x}finally{try{!M&&H.return&&H[_0x4962("0x28c")]()}finally{if(S)throw R}}break}}}catch(x){u=!0,h=x}finally{try{!d&&b.return&&b.return()}finally{if(u)throw h}}}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4962("0x28c")]&&l.return()}finally{if(s)throw o}}}}},{key:_0x4962("0x463"),value:function(x,_,e){if(!1===e&&_[_0x4962("0x462")])return _[_0x4962("0x462")].stop(),void(_[_0x4962("0x462")]=null);_[_0x4962("0x462")]&&_.flashAnimate[_0x4962("0x1b2")]();var t=e||.5,i=(new(THREE[_0x4962("0x188")]))[_0x4962("0x206")](_[_0x4962("0x147")]),a=!1;_[_0x4962("0x462")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({intensity:0}).to({intensity:1},1e3*t)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x1ab")].InOut).repeat(1/0).yoyo(!0).onUpdate((function(e){e[_0x4962("0x43a")]>=1?a=!0:e[_0x4962("0x43a")]<=0&&(a=!1),_[_0x4962("0x147")].lerp(a?x.color:i,e[_0x4962("0x43a")])})).start()}},{key:_0x4962("0x464"),value:function(){this[_0x4962("0x41e")]&&(2==this.lastSelectNode[_0x4962("0x465")]&&(this.lastSelectNode.lastSelectMatIndex=0),this.setTargetModelSelected(this.lastSelectNode[_0x4962("0x466")],this[_0x4962("0x41e")].id,!1,this[_0x4962("0x41e")][_0x4962("0x465")]),this[_0x4962("0x41e")]=null)}},{key:_0x4962("0x467"),value:function(x,_){var e=!0,t=!1,i=void 0;try{for(var a,r=(0,n[_0x4962("0xc")])(_);!(e=(a=r[_0x4962("0x286")]())[_0x4962("0x426")]);e=!0){var s=a.value;if(x>=s[_0x4962("0x1b1")]&&x<s[_0x4962("0x1b1")]+s[_0x4962("0x182")])return s[_0x4962("0x45f")]}}catch(x){t=!0,i=x}finally{try{!e&&r[_0x4962("0x28c")]&&r[_0x4962("0x28c")]()}finally{if(t)throw i}}return 0}},{key:_0x4962("0x468"),value:function(x,_,e){var t=!!x[_0x4962("0xf4")][_0x4962("0x2cd")],i=!0,a=!1,r=void 0;try{for(var s,o=(0,n.default)(x.geometry[_0x4962("0x166")].groupData);!(i=(s=o.next())[_0x4962("0x426")]);i=!0){var c=s[_0x4962("0xe3")];if(_===c.id){var l=0;l=t?x[_0x4962("0xf4")].index[_0x4962("0x182")]:x[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x106")].count;var f=x[_0x4962("0xf4")][_0x4962("0x45d")];0==f.length&&(f=[{start:0,count:l,materialIndex:2}]);var d=this[_0x4962("0x469")](c[_0x4962("0x1b1")],c[_0x4962("0x1b1")]+c[_0x4962("0x182")],e?0:2,f);x[_0x4962("0xf4")][_0x4962("0x45e")]();var u=!0,h=!1,g=void 0;try{for(var b,v=(0,n[_0x4962("0xc")])(d);!(u=(b=v[_0x4962("0x286")]())[_0x4962("0x426")]);u=!0){var p=b.value;x[_0x4962("0xf4")][_0x4962("0x181")](p[_0x4962("0x1b1")],p.count,p[_0x4962("0x45f")])}}catch(x){h=!0,g=x}finally{try{!u&&v[_0x4962("0x28c")]&&v[_0x4962("0x28c")]()}finally{if(h)throw g}}break}}}catch(x){a=!0,r=x}finally{try{!i&&o[_0x4962("0x28c")]&&o[_0x4962("0x28c")]()}finally{if(a)throw r}}x.geometry[_0x4962("0x166")][_0x4962("0x46a")]||(x[_0x4962("0xf4")].userData[_0x4962("0x46a")]={}),x[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x46a")][_]=e}},{key:_0x4962("0x45a"),value:function(x,_,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=x[_0x4962("0x17b")];if(i&&i.children.length>0){var a=!0,r=!1,s=void 0;try{for(var o,c=(0,n[_0x4962("0xc")])(i[_0x4962("0xf3")]);!(a=(o=c[_0x4962("0x286")]()).done);a=!0){var l=o.value;if("Mesh"==l[_0x4962("0x9d")]){var f=!!l[_0x4962("0xf4")].index;if(!(l.name[_0x4962("0xaf")](_0x4962("0x46b"))>-1)){var d=!0,u=!1,h=void 0;try{for(var g,b=(0,n.default)(l[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x445")]);!(d=(g=b[_0x4962("0x286")]())[_0x4962("0x426")]);d=!0){var v=g[_0x4962("0xe3")];if(_===v.id){f?l[_0x4962("0xf4")].index.count:l[_0x4962("0xf4")].attributes[_0x4962("0x106")][_0x4962("0x182")];var p=this[_0x4962("0x469")](v[_0x4962("0x1b1")],v[_0x4962("0x1b1")]+v[_0x4962("0x182")],e?1:t,l.geometry[_0x4962("0x45d")]);l[_0x4962("0xf4")][_0x4962("0x45e")]();var m=!0,A=!1,y=void 0;try{for(var C,I=(0,n.default)(p);!(m=(C=I[_0x4962("0x286")]()).done);m=!0){var E=C[_0x4962("0xe3")];l[_0x4962("0xf4")][_0x4962("0x181")](E[_0x4962("0x1b1")],E[_0x4962("0x182")],E[_0x4962("0x45f")])}}catch(x){A=!0,y=x}finally{try{!m&&I[_0x4962("0x28c")]&&I[_0x4962("0x28c")]()}finally{if(A)throw y}}break}}}catch(x){u=!0,h=x}finally{try{!d&&b.return&&b[_0x4962("0x28c")]()}finally{if(u)throw h}}}}}}catch(x){r=!0,s=x}finally{try{!a&&c[_0x4962("0x28c")]&&c[_0x4962("0x28c")]()}finally{if(r)throw s}}}}},{key:"getFaceIndexToGroup",value:function(x,_){var e=!0,t=!1,i=void 0;try{for(var a,r=(0,n[_0x4962("0xc")])(_);!(e=(a=r[_0x4962("0x286")]())[_0x4962("0x426")]);e=!0){var s=a[_0x4962("0xe3")],o=3*x;if(o>=s[_0x4962("0x1b1")]&&o<s[_0x4962("0x1b1")]+s[_0x4962("0x182")])return s}}catch(x){t=!0,i=x}finally{try{!e&&r[_0x4962("0x28c")]&&r[_0x4962("0x28c")]()}finally{if(t)throw i}}}},{key:_0x4962("0x46c"),value:function(){this[_0x4962("0x101")][_0x4962("0x0")]=0,this[_0x4962("0x41d")][_0x4962("0x0")]=0}},{key:_0x4962("0x46d"),value:function(x,_,e){if(x&&x[_0x4962("0xf3")].length>0){var t=!0,i=!1,a=void 0;try{for(var r,s=(0,n[_0x4962("0xc")])(x[_0x4962("0xf3")]);!(t=(r=s[_0x4962("0x286")]())[_0x4962("0x426")]);t=!0){var o=r[_0x4962("0xe3")];if(!o[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x445")])return!1;var c=!0,l=!1,f=void 0;try{for(var d,u=(0,n.default)(o[_0x4962("0xf4")].userData[_0x4962("0x445")]);!(c=(d=u[_0x4962("0x286")]())[_0x4962("0x426")]);c=!0){var h=d.value,g=!0,b=!1,v=void 0;try{for(var p,m=(0,n[_0x4962("0xc")])(_);!(g=(p=m[_0x4962("0x286")]()).done);g=!0){if(p[_0x4962("0xe3")]===h.id){var A=this[_0x4962("0x469")](h.start,h[_0x4962("0x1b1")]+h[_0x4962("0x182")],e?0:2,o.geometry.groups);o[_0x4962("0xf4")][_0x4962("0x45e")]();var y=!0,C=!1,I=void 0;try{for(var E,w=(0,n[_0x4962("0xc")])(A);!(y=(E=w[_0x4962("0x286")]())[_0x4962("0x426")]);y=!0){var T=E[_0x4962("0xe3")];o.geometry[_0x4962("0x181")](T.start,T[_0x4962("0x182")],T[_0x4962("0x45f")])}}catch(x){C=!0,I=x}finally{try{!y&&w[_0x4962("0x28c")]&&w[_0x4962("0x28c")]()}finally{if(C)throw I}}}}}catch(x){b=!0,v=x}finally{try{!g&&m.return&&m[_0x4962("0x28c")]()}finally{if(b)throw v}}}}catch(x){l=!0,f=x}finally{try{!c&&u.return&&u.return()}finally{if(l)throw f}}}}catch(x){i=!0,a=x}finally{try{!t&&s.return&&s[_0x4962("0x28c")]()}finally{if(i)throw a}}}}},{key:_0x4962("0x46e"),value:function(x,_){if(x&&x[_0x4962("0xf3")][_0x4962("0x0")]>0){var e=!0,t=!1,i=void 0;try{for(var a,r=(0,n[_0x4962("0xc")])(x.children);!(e=(a=r[_0x4962("0x286")]())[_0x4962("0x426")]);e=!0){var s=a[_0x4962("0xe3")];if(!s[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x445")])return!1;var o=!0,c=!1,l=void 0;try{for(var f,d=(0,n.default)(s.geometry[_0x4962("0x166")][_0x4962("0x445")]);!(o=(f=d[_0x4962("0x286")]())[_0x4962("0x426")]);o=!0){var u=f[_0x4962("0xe3")];if(_===u.id)for(var h=u[_0x4962("0x1b1")],g=0;g<s[_0x4962("0xf4")][_0x4962("0x45d")].length;g++)if(s[_0x4962("0xf4")][_0x4962("0x45d")][g][_0x4962("0x1b1")]+s[_0x4962("0xf4")].groups[g].count>h)return 0==s[_0x4962("0xf4")][_0x4962("0x45d")][g].materialIndex}}catch(x){c=!0,l=x}finally{try{!o&&d[_0x4962("0x28c")]&&d.return()}finally{if(c)throw l}}}}catch(x){t=!0,i=x}finally{try{!e&&r.return&&r[_0x4962("0x28c")]()}finally{if(t)throw i}}}}},{key:_0x4962("0x469"),value:function(x,_,e,t,i){var a=this,n=[];t.forEach((function(x){n.push({start:x.start,count:x[_0x4962("0x182")],materialIndex:x[_0x4962("0x45f")]}),i&&a.lastSelectMathInfo.push({start:x.start,end:x.start+x[_0x4962("0x182")],materialIndex:x[_0x4962("0x45f")]})}));for(var r,s=[],o=0;o<n[_0x4962("0x0")];o++){var c=n[o],l=c[_0x4962("0x1b1")]+c[_0x4962("0x182")],f=x>=c[_0x4962("0x1b1")]&&x<l,d=_<=l&&_>c[_0x4962("0x1b1")];(f||d)&&c[_0x4962("0x45f")]!=e?f&&d?(i&&(a.lastSelectMatIndex=c[_0x4962("0x45f")]),x>c.start&&s.push({start:c.start,count:x-c[_0x4962("0x1b1")],materialIndex:c[_0x4962("0x45f")]}),s[_0x4962("0x3")]({start:x,count:_-x,materialIndex:e}),_<l&&s[_0x4962("0x3")]({start:_,count:l-_,materialIndex:c.materialIndex})):f?(i&&(a[_0x4962("0x465")]=c.materialIndex),x>c[_0x4962("0x1b1")]&&s[_0x4962("0x3")]({start:c[_0x4962("0x1b1")],count:x-c[_0x4962("0x1b1")],materialIndex:c[_0x4962("0x45f")]}),s[_0x4962("0x3")]({start:x,count:l-x,materialIndex:e})):d&&(_<l&&s[_0x4962("0x3")]({start:_,count:l-_,materialIndex:c[_0x4962("0x45f")]}),s[_0x4962("0x3")]({start:c[_0x4962("0x1b1")],count:_-c[_0x4962("0x1b1")],materialIndex:e})):(x<=c.start&&c[_0x4962("0x1b1")]+c[_0x4962("0x182")]<=_&&(c[_0x4962("0x45f")]=e),s[_0x4962("0x3")](c))}s[_0x4962("0x46f")]((r="start",function(x,_){return x[r]-_[r]}));for(var u=0;u<s.length-1;u++)s[u][_0x4962("0x45f")]==s[u+1].materialIndex&&(s[u][_0x4962("0x182")]+=s[u+1][_0x4962("0x182")],s[_0x4962("0x4")](u+1,1),u--);return s}}]),x}();_[_0x4962("0xc")]=f},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1));_[_0x4962("0xc")]=function(x,_,e){return new r(x,_,e)};var a=e(4);function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_,e,i,a){if((0,t[_0x4962("0xc")])(this,x),x[_0x4962("0x471")](_))this[_0x4962("0x472")]=_;else{if(_ instanceof x)return _;this.element=document[_0x4962("0x24")](_)}this[_0x4962("0x473")](e),this[_0x4962("0x25")](i),this[_0x4962("0x474")](a)}return(0,i[_0x4962("0xc")])(x,null,[{key:"isElement",value:function(x){return!(!x||1!==x[_0x4962("0x125")]||void 0===x[_0x4962("0x470")])}}]),(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x25"),value:function(x,_){var e=this;return x?typeof x===_0x4962("0xd")&&void 0===_?this[_0x4962("0x472")][_0x4962("0x25")][x]:((0,a[_0x4962("0x19")])(x)?(0,a[_0x4962("0x1a")])(x,(function(x,_){e[_0x4962("0x472")][_0x4962("0x25")][_]=x})):this[_0x4962("0x472")][_0x4962("0x25")][x]=_,this):this}},{key:_0x4962("0x473"),value:function(x,_){var e=this;return x?"string"==typeof x&&void 0===_?this[_0x4962("0x472")][_0x4962("0x44d")](x):((0,a.isObject)(x)?(0,a[_0x4962("0x1a")])(x,(function(x,_){e[_0x4962("0x472")][_0x4962("0x1da")](_,x)})):this[_0x4962("0x472")].setAttribute(x,_),this):this}},{key:_0x4962("0x474"),value:function(x,_){var e=this;if(!x)return this;function t(x){return(0,a[_0x4962("0x1d")])(x,"on")?x:"on"+x}return(0,a[_0x4962("0x19")])(x)?(0,a[_0x4962("0x1a")])(x,(function(x,_){e.element[t(_)]=x})):this.element[t(x)]=_,this}}]),x}()},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x475")]=function(x){var _,e,t,i,a,n=_0x4962("0x476")+_0x4962("0x477")+_0x4962("0x478")+_0x4962("0x479")+"=",r="",s="",o="",c=0;do{t=(_=x[_0x4962("0x30")](c++))>>4,i=(3&_)<<4|(e=x[_0x4962("0x30")](c++))>>4,a=(15&e)<<2|(s=x[_0x4962("0x30")](c++))>>6,o=63&s,isNaN(e)?a=o=64:isNaN(s)&&(o=64),r=r+n[_0x4962("0x47a")](t)+n[_0x4962("0x47a")](i)+n[_0x4962("0x47a")](a)+n[_0x4962("0x47a")](o),_=e=s="",t=i=a=o=""}while(c<x[_0x4962("0x0")]);return r},_[_0x4962("0x10b")]=function(x,_){for(var e=t(x),i=0;i<16;i++)for(var a=0;a<e[_0x4962("0x0")];a++)_[i]=_[i]^e[a]};var t=function(x){for(var _=[],e=0;e<x[_0x4962("0x0")];e++)_[e]=x[_0x4962("0x30")](e);return _}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x.__esModule?x:{default:x}}Array[_0x4962("0x1")][_0x4962("0x47b")]||Object[_0x4962("0x6")](Array.prototype,"fill",{value:function(x){if(null==this)throw new TypeError(_0x4962("0x47c"));for(var _=Object(this),e=_.length>>>0,t=arguments[1]>>0,i=t<0?Math.max(e+t,0):Math[_0x4962("0x301")](t,e),a=arguments[2],n=void 0===a?e:a>>0,r=n<0?Math[_0x4962("0x300")](e+n,0):Math.min(n,e);i<r;)_[i]=x,i++;return _}});var n=function(){function x(_){var e=_[_0x4962("0x47d")],i=void 0===e?"#FFFFFF":e;(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x47e")]=(new THREE.Color)[_0x4962("0x277")](i),this[_0x4962("0xf6")]=null}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x47f"),value:function(x){var _=x.datas_[_0x4962("0x480")][_0x4962("0x0")];if(_>0){for(var e=x[_0x4962("0xf4")][_0x4962("0x44d")](_0x4962("0x106")),t=new Array(e[_0x4962("0x182")]),i=0;i<_;i++){var a=x[_0x4962("0xf1")][_0x4962("0x480")][i][_0x4962("0x109")][0],n=x.datas_.brothers[i][_0x4962("0x481")][0],r=x[_0x4962("0xf1")].brothers[i].faceRange[1];t[_0x4962("0x47b")](1,a,n),t[_0x4962("0x47b")](0,n,r)}x[_0x4962("0xf4")].addAttribute("topFaceFlags",new(THREE[_0x4962("0x455")])(new Float32Array(t),1))}}},{key:_0x4962("0x482"),value:function(x){var _=x[_0x4962("0x483")],e=x[_0x4962("0x484")];_&&_[_0x4962("0x42c")](),e&&e.updateMatrix(),this.material=new THREE.MeshLambertMaterial({color:this[_0x4962("0x47e")]}),this[_0x4962("0xf6")][_0x4962("0x107")]="roomTextureMaterial";var t=this;return this[_0x4962("0xf6")][_0x4962("0x148")]=function(x){x[_0x4962("0x149")][_0x4962("0x485")]={value:0},_&&(x[_0x4962("0x149")][_0x4962("0x485")][_0x4962("0xe3")]=1,x.uniforms[_0x4962("0x486")]={value:_},x[_0x4962("0x149")].topTexMat={value:_.matrix}),x.uniforms.isSideTex={value:0},e&&(x[_0x4962("0x149")][_0x4962("0x487")].value=1,x[_0x4962("0x149")][_0x4962("0x488")]={value:e},x.uniforms.sideTexMat={value:e[_0x4962("0x22b")]}),x[_0x4962("0x14c")]=x[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x489"),_0x4962("0x48a")),x.vertexShader=x[_0x4962("0x14c")].replace("#include <uv_vertex>",_0x4962("0x48b")),x[_0x4962("0x152")]=x[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x153"),_0x4962("0x48c")),x.fragmentShader=x[_0x4962("0x152")].replace(_0x4962("0x48d"),_0x4962("0x48e")),t[_0x4962("0x48f")]=x,t.material[_0x4962("0x48f")]=x},this.material}}]),x}();_[_0x4962("0xc")]=n},,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=n(e(0)),i=n(e(1)),a=e(4);function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x4d")]=_[_0x4962("0x4d")];var e=this[_0x4962("0x4d")],i=_.data;this[_0x4962("0x9d")]=_[_0x4962("0x9d")]||(i?_0x4962("0x49b"):"GET");var n=this[_0x4962("0x9d")],r=null==_.async||_[_0x4962("0x497")];this[_0x4962("0x496")]=_.isArrayBuffer||!1,this[_0x4962("0x495")]=!1,this[_0x4962("0x492")],this[_0x4962("0x491")],this[_0x4962("0x49c")],this._completeCallbacks=new a.Callbacks,this._successCallbacks=new(a[_0x4962("0x49d")]),this._errorCallbacks=new a.Callbacks,this._httpServer,this[_0x4962("0x49e")](),this._httpServer[_0x4962("0x2e4")](n,e,r),this[_0x4962("0x49f")][_0x4962("0x4a0")]=this[_0x4962("0x4a1")][_0x4962("0xe")](this),n==_0x4962("0x4a2")&&(this.isArrayBuffer||this[_0x4962("0x4d")][_0x4962("0xaf")](".loc")>0)&&this[_0x4962("0x496")]&&(this[_0x4962("0x49f")][_0x4962("0x4a3")]="arraybuffer"),n===_0x4962("0x49b")&&(this[_0x4962("0x49f")].setRequestHeader(_0x4962("0x4a4"),_0x4962("0x4a5")),this[_0x4962("0x49f")][_0x4962("0x4a6")](_0x4962("0x4a7"),_0x4962("0x4a8")),this[_0x4962("0x49f")].setRequestHeader(_0x4962("0x4a9"),_0x4962("0x2e3")));try{this._httpServer.send(i)}catch(x){console[_0x4962("0x223")](x)}}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x2d7"),value:function(x){return this[_0x4962("0x490")][_0x4962("0xda")](x),this._isComplete&&this[_0x4962("0x490")].fire(this[_0x4962("0x491")],this[_0x4962("0x492")]),this}},{key:_0x4962("0x493"),value:function(x){return this[_0x4962("0x494")][_0x4962("0xda")](x),this._isComplete&&this[_0x4962("0x492")]===_0x4962("0x493")&&this[_0x4962("0x494")][_0x4962("0xe5")](this._responseData),this}},{key:"error",value:function(x){return this._errorCallbacks.add(x),this[_0x4962("0x495")]&&"error"===this[_0x4962("0x492")]&&this._errorCallbacks.fire(this._responseData),this}}],[{key:_0x4962("0xdb"),value:function(_){return new x({url:_.url,isArrayBuffer:_[_0x4962("0x496")],async:_[_0x4962("0x497")]})}},{key:_0x4962("0x498"),value:function(_){var e=new x({url:_[_0x4962("0x4d")],async:_[_0x4962("0x497")]});return e[_0x4962("0x493")](function(x){var _;try{_=JSON.parse(x)}catch(x){console[_0x4962("0x223")](x),_0x4962("0x499"),this.url,e[_0x4962("0x49a")]()}return[_]}[_0x4962("0xe")](e)),e}},{key:"post",value:function(_,e){return new x({url:_,data:e})}}]),(0,i.default)(x,[{key:"_initHttpServer",value:function(){window[_0x4962("0x4aa")]?this[_0x4962("0x49f")]=new ActiveXObject("Microsoft.XMLHTTP"):window[_0x4962("0x4a5")]?this._httpServer=new XMLHttpRequest:console[_0x4962("0xe0")](_0x4962("0x4ab"))}},{key:_0x4962("0x4a1"),value:function(){4===this[_0x4962("0x49f")][_0x4962("0x4ac")]&&(this[_0x4962("0x495")]=!0,this[_0x4962("0x4ad")]())}},{key:_0x4962("0x4ae"),value:function(){this[_0x4962("0x490")].fire(this._responseData,this[_0x4962("0x492")]),this[_0x4962("0x494")].fire(this[_0x4962("0x491")])}},{key:_0x4962("0x4ad"),value:function(){200==this[_0x4962("0x49f")][_0x4962("0x2e1")]||0==this[_0x4962("0x49f")][_0x4962("0x2e1")]&&_0x4962("0x4af")==window[_0x4962("0x79")][_0x4962("0x4b0")]?(this[_0x4962("0x492")]=_0x4962("0x493"),"GET"==this[_0x4962("0x9d")]&&(this.isArrayBuffer||this[_0x4962("0x4d")][_0x4962("0xaf")](_0x4962("0x4b1"))>0)?this[_0x4962("0x491")]=this[_0x4962("0x49f")][_0x4962("0x4b2")]:this._responseData=this[_0x4962("0x49f")][_0x4962("0x4b3")],this[_0x4962("0x4ae")]()):(this[_0x4962("0x492")]=_0x4962("0xe0"),this[_0x4962("0x491")]=this[_0x4962("0x49f")].response,this[_0x4962("0x49c")]=this[_0x4962("0x49f")][_0x4962("0x2e1")],this[_0x4962("0x49a")]())}},{key:_0x4962("0x49a"),value:function(){this._completeCallbacks[_0x4962("0xe5")](this._responseData,this[_0x4962("0x492")]),this[_0x4962("0x4b4")][_0x4962("0xe5")](this[_0x4962("0x491")])}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=n(e(9)),i=n(e(0)),a=n(e(1));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){var e=_[_0x4962("0x47d")],t=void 0===e?_0x4962("0x128"):e,a=_[_0x4962("0x4b5")],n=void 0===a||a,r=_[_0x4962("0x1a8")],s=void 0===r?1:r;(0,i.default)(this,x),this[_0x4962("0x4b6")]=new(THREE[_0x4962("0x188")])(t),this.isShowBackground=n,this[_0x4962("0x1a8")]=s,this[_0x4962("0x48f")]=null,this[_0x4962("0x4b7")]=null,this[_0x4962("0x4b8")]=null}return(0,a.default)(x,[{key:_0x4962("0x482"),value:function(x,_){this.curTexture=x,this[_0x4962("0x4b8")]=_;var e=this,t=new THREE.MeshBasicMaterial({color:16777215,transparent:!0});return t[_0x4962("0x148")]=function(t){t[_0x4962("0x149")].transFactor={value:0},t[_0x4962("0x149")].texLightFactor={value:.8},t[_0x4962("0x149")][_0x4962("0x4b9")]={value:x},t.uniforms[_0x4962("0x4ba")]={value:_},t[_0x4962("0x149")][_0x4962("0x4b6")]={value:e[_0x4962("0x4b6")]},t[_0x4962("0x14c")]=t.vertexShader.replace(_0x4962("0x489"),"\n                #include <uv_pars_vertex>\n                varying vec2 vUV;\n\t\t\t\t"),t.vertexShader=t[_0x4962("0x14c")].replace(_0x4962("0x150"),"\n\t\t\t\t#include <uv_vertex>\n                vUV = uv;\n\t\t\t\t"),t.fragmentShader=t.fragmentShader[_0x4962("0x14d")](_0x4962("0x153"),_0x4962("0x4bb")+(e[_0x4962("0x4b5")]?_0x4962("0x4bc"):"")+_0x4962("0x4bd")),t.fragmentShader=t[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x155"),_0x4962("0x4be")),e[_0x4962("0x48f")]=t},t}},{key:_0x4962("0x165"),value:function(x){var _=this,e=this;return new t.default((function(t){x?(x[_0x4962("0x187")]=!0,e[_0x4962("0x48f")]?(_.shader[_0x4962("0x149")].texture2[_0x4962("0xe3")]=x,e[_0x4962("0x4bf")]&&e[_0x4962("0x4bf")][_0x4962("0x1b2")](),e[_0x4962("0x4bf")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({x:0}).to({x:1},1e3*e[_0x4962("0x1a8")])[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x173")]((function(x){e[_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x4c0")].value=x.x}))[_0x4962("0x1b0")]((function(){_[_0x4962("0x48f")].uniforms[_0x4962("0x4b9")].value=x}))[_0x4962("0x1b1")]()):t()):t()}))}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_.off=_.on=_[_0x4962("0x4c1")]=_[_0x4962("0x4c2")]=_[_0x4962("0x4c3")]=_[_0x4962("0x4c4")]=void 0,_[_0x4962("0x4c5")]=l,_[_0x4962("0x4c6")]=function(x,_,e){var t=l(x);_&&b(t,_);e&&e[_0x4962("0x28")](t);return t},_.removeDomNode=f,_.addDomEvent=d,_[_0x4962("0x4c7")]=u,_[_0x4962("0x4c8")]=h,_[_0x4962("0x4c9")]=function(x){x[_0x4962("0x4c9")]?x[_0x4962("0x4c9")]():x[_0x4962("0x4ef")]=!1;return this},_[_0x4962("0x37b")]=function(x){x[_0x4962("0x37b")]?x[_0x4962("0x37b")]():x.cancelBubble=!0;return this},_[_0x4962("0x4ca")]=function(x){return x[_0x4962("0x4f0")]=function(){return!1},x[_0x4962("0x4f1")]=function(){return!1},x[_0x4962("0x1da")](_0x4962("0x4f2"),"on"),this},_[_0x4962("0x4cb")]=function(x,_){if(!x)return null;a[_0x4962("0xc")].any3d?A(x,_):(x.style[_0x4962("0x35e")]=_.x+"px",x.style[_0x4962("0x35c")]=_.y+"px");return _},_[_0x4962("0x4cc")]=g,_[_0x4962("0x4cd")]=function(x,_){x||(x=window[_0x4962("0x4ea")]);var e=_[_0x4962("0x4f5")];e||(e=g(_));return new Point(x.clientX/e[2]-e[0]-_[_0x4962("0x4f6")],x.clientY/e[3]-e[1]-_.clientTop)},_[_0x4962("0x277")]=b,_[_0x4962("0x4ce")]=v,_[_0x4962("0x4cf")]=function(x,_){if(void 0===x.classList||v(x,_)){var e=m(x);p(x,(e?e+" ":"")+_)}else for(var t=(0,s[_0x4962("0x4fb")])(_),i=0,a=t[_0x4962("0x0")];i<a;i++)x[_0x4962("0x4f8")][_0x4962("0xda")](t[i]);return this},_[_0x4962("0x4d0")]=p,_.getClass=m,_[_0x4962("0x4d1")]=function(x,_){return x[_0x4962("0x25")].opacity=_,this},_[_0x4962("0x4d2")]=A,_[_0x4962("0x4d3")]=function(x,_){var e=_0x4962("0x502")+((0,r[_0x4962("0x36d")])(_)?_:_[_0x4962("0x32")]())+")";x.style[c]!==e&&(x[_0x4962("0x25")][c]=e);return this},_.removeTransform=function(x){x.style[c]&&(x[_0x4962("0x25")][c]="");return this},_[_0x4962("0x4d4")]=function(x){return/<[a-z\][\s\S]*>/i[_0x4962("0x2c")](x)},_[_0x4962("0x4d5")]=function(x,_){var e=y(x);(0,r[_0x4962("0x36d")])(_)?e[_0x4962("0x1d9")]=_:e[_0x4962("0x28")](_);var t=new Size(e.clientWidth,e[_0x4962("0x503")]);return f(e),t},_.getDomRuler=y;var t,i=e(144),a=(t=i)&&t[_0x4962("0xa")]?t:{default:t},n=e(77),r=e(4),s=e(289);var o=n[_0x4962("0x1dd")]?function(x){return x[0]}:function(x){for(var _=document[_0x4962("0x4d6")][_0x4962("0x25")],e=0;e<x[_0x4962("0x0")];e++)if(x[e]in _)return x[e];return!1},c=_[_0x4962("0x4c4")]=o([_0x4962("0x4d7"),_0x4962("0x4d8"),_0x4962("0x4d9"),_0x4962("0x4da"),_0x4962("0x4db")]);_.TRANSFORMORIGIN=o([_0x4962("0x4dc"),_0x4962("0x4dd"),_0x4962("0x4de"),_0x4962("0x4df"),_0x4962("0x4e0")]),_.TRANSITION=o([_0x4962("0x4e1"),"WebkitTransition","OTransition",_0x4962("0x4e2"),"msTransition"]),_.CSSFILTER=o(["filter",_0x4962("0x4e3"),_0x4962("0x4e4"),_0x4962("0x4e5"),_0x4962("0x4e6")]);function l(x,_){var e=document[_0x4962("0x24")](x);return _&&p(e,_),e}function f(x){if(!x)return this;if(a[_0x4962("0xc")][_0x4962("0x4e7")]||a.default[_0x4962("0x4e8")]){var _=l(_0x4962("0x1cd"));_[_0x4962("0x28")](x),_.innerHTML="",_=null}else x.parentNode&&x[_0x4962("0x2b")][_0x4962("0x4e9")](x);return this}function d(x,_,e,t){if(!(x&&x.addEventListener&&_&&e))return this;for(var i=function(_){_||(_=window[_0x4962("0x4ea")]),e[_0x4962("0xf")](t||x,_)},n=_[_0x4962("0x2d")](" "),r=n[_0x4962("0x0")]-1;r>=0;r--){var s=n[r];if(s)x[_0x4962("0x373")+s]||(x[_0x4962("0x373")+s]=[]),h(x,s,e)>=0&&u(x,s,e),x[_0x4962("0x373")+s][_0x4962("0x3")]({callback:i,src:e}),s===_0x4962("0x4eb")&&a[_0x4962("0xc")][_0x4962("0x4ec")]&&(s=_0x4962("0x4ed")),x[_0x4962("0x25e")](s,i,!1)}return this}function u(x,_,e){function t(_,e){_===_0x4962("0x4eb")&&a.default.gecko&&(_=_0x4962("0x4ed")),x[_0x4962("0x2a1")](_,e,!1)}if(!x||!x[_0x4962("0x2a1")]||!_)return this;for(var i=_[_0x4962("0x2d")](" "),n=i.length-1;n>=0;n--){var r=i[n];if(r){if(!e&&x["Z__"+r]){for(var s=x[_0x4962("0x373")+r],o=0,c=s.length;o<c;o++)t(s[o][_0x4962("0x1b3")]);return delete x[_0x4962("0x373")+r],this}var l=h(x,r,e);if(l<0)return this;t(r,x["Z__"+r][l][_0x4962("0x1b3")]),x[_0x4962("0x373")+r][_0x4962("0x4")](l,1)}}return this}function h(x,_,e){if(!x||!x[_0x4962("0x373")+_]||!e)return-1;for(var t=x["Z__"+_],i=0,a=t[_0x4962("0x0")];i<a;i++)if(t[i][_0x4962("0x4ee")]===e)return i;return-1}function g(x){var _=window.getComputedStyle(x),e=[parseInt(_["padding-left"]),parseInt(_[_0x4962("0x4f3")])],t=x[_0x4962("0x4f4")](),i=x[_0x4962("0x29")],a=x[_0x4962("0x2a")],n=i?t[_0x4962("0x1ce")]/i:1,r=a?t.height/a:1;return x.__position=[t.left+e[0],t[_0x4962("0x35c")]+e[1],n,r],x[_0x4962("0x4f5")]}function b(x,_){var e,t,i,a=x[_0x4962("0x25")][_0x4962("0x4f7")];return t=";",(i=(e=a)[_0x4962("0x0")]-t[_0x4962("0x0")])>=0&&e[_0x4962("0xaf")](t,i)===i||(a+=";"),x[_0x4962("0x25")][_0x4962("0x4f7")]=a+_,this}function v(x,_){if(void 0!==x[_0x4962("0x4f8")])return x[_0x4962("0x4f8")][_0x4962("0x4f9")](_);var e=m(x);return e.length>0&&new RegExp("(^|\\s)"+_+_0x4962("0x4fa")).test(e)}function p(x,_){return(0,r[_0x4962("0x375")])(x[_0x4962("0x4fc")][_0x4962("0x4fd")])?x.className=_:x[_0x4962("0x4fc")][_0x4962("0x4fd")]=_,this}function m(x){return(0,r[_0x4962("0x375")])(x[_0x4962("0x4fc")].baseVal)?x[_0x4962("0x4fc")]:x.className[_0x4962("0x4fd")]}function A(x,_){var e=_||new Point(0,0);return x.style[c]=a[_0x4962("0xc")][_0x4962("0x4fe")]?"translate3d("+e.x+_0x4962("0x4ff")+e.y+"px,0px)":_0x4962("0x500")+e.x+_0x4962("0x4ff")+e.y+_0x4962("0x501"),this}function y(x){var _=document[_0x4962("0x24")](x);return _[_0x4962("0x25")][_0x4962("0x4f7")]=_0x4962("0x504"),document[_0x4962("0x27")][_0x4962("0x28")](_),_}_.on=d,_[_0x4962("0x6b")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t={};if(!e(77)[_0x4962("0x1dd")]){var i=navigator[_0x4962("0x505")][_0x4962("0x353")](),a=document.documentElement,n=_0x4962("0x4aa")in window,r=-1!==i[_0x4962("0xaf")](_0x4962("0x506")),s=-1!==i.indexOf(_0x4962("0x507")),o=-1!==i[_0x4962("0x508")]("android [23]"),c=-1!==i[_0x4962("0xaf")](_0x4962("0x509")),l=-1!==i[_0x4962("0xaf")]("gecko")&&!r&&!window[_0x4962("0x50a")]&&!n,f=typeof orientation!==_0x4962("0x21")||-1!==i[_0x4962("0xaf")]("mobile"),d=!window[_0x4962("0x50b")]&&window[_0x4962("0x50c")],u=window.PointerEvent&&navigator.pointerEnabled||d,h=n&&_0x4962("0x4e1")in a[_0x4962("0x25")],g=_0x4962("0x50d")in window&&_0x4962("0x50e")in new(window[_0x4962("0x50d")])&&!o,b=_0x4962("0x50f")in a[_0x4962("0x25")],v=_0x4962("0x510")in a[_0x4962("0x25")],p=(h||g||b)&&!v&&!s,m=0;c&&(m=i[_0x4962("0x2a8")](/chrome\/([\d.]+)/)[1]);var A=!s&&(u||_0x4962("0x511")in window||window[_0x4962("0x512")]&&document instanceof window[_0x4962("0x512")]),y=void 0;try{var C=document.createElement("canvas"),I=C.getContext(_0x4962("0x513"))||C.getContext(_0x4962("0x514"));y=I&&I instanceof WebGLRenderingContext}catch(x){y=!1}t={ie:n,ielt9:n&&!document[_0x4962("0x25e")],edge:"msLaunchUri"in navigator&&!("documentMode"in document),webkit:r,gecko:l,android:-1!==i[_0x4962("0xaf")](_0x4962("0x515")),android23:o,chrome:c,chromeVersion:m,safari:!c&&-1!==i[_0x4962("0xaf")]("safari"),phantomjs:s,ie3d:h,webkit3d:g,gecko3d:b,opera12:v,any3d:p,mobile:f,mobileWebkit:f&&r,mobileWebkit3d:f&&g,mobileOpera:f&&window[_0x4962("0x50a")],mobileGecko:f&&l,touch:!!A,msPointer:!!d,pointer:!!u,retina:(window[_0x4962("0x516")]||window.screen[_0x4962("0x23")]/window[_0x4962("0x22")][_0x4962("0x517")])>1,language:navigator[_0x4962("0x518")]?navigator[_0x4962("0x518")]:navigator[_0x4962("0x519")],ie9:n&&9===document.documentMode,ie10:n&&10===document[_0x4962("0x51a")],webgl:y}}_[_0x4962("0xc")]=t},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(22)),i=o(e(5)),a=o(e(0)),n=o(e(1)),r=e(4),s=o(e(290));function o(x){return x&&x.__esModule?x:{default:x}}var c=function(){function x(_){if((0,a[_0x4962("0xc")])(this,x),!this||!this.setOptions)throw new Error(_0x4962("0x51b"));this.setOptions(_),this[_0x4962("0x51c")]()}return(0,n.default)(x,[{key:_0x4962("0x51c"),value:function(){var x=(0,i[_0x4962("0xc")])(this);return this._visitInitHooks(x),this}},{key:_0x4962("0x51d"),value:function(x){if(this[_0x4962("0x2")](_0x4962("0x3b"))||(this[_0x4962("0x3b")]=this.options?(0,t[_0x4962("0xc")])(this[_0x4962("0x3b")]):{}),!x)return this;for(var _ in x)this[_0x4962("0x3b")][_]=x[_];return this}},{key:_0x4962("0x51e"),value:function(x){if(!x){var _={};for(var e in this[_0x4962("0x3b")])this[_0x4962("0x3b")][_0x4962("0x2")](e)&&(_[e]=this.options[e]);return _}if(2===arguments[_0x4962("0x0")]){var t={};t[x]=arguments[1],x=t}for(var i in x)this[_0x4962("0x3b")][i]=x[i],this[i]&&this[i]instanceof s[_0x4962("0xc")]&&(x[i]?this[i][_0x4962("0x51f")]():this[i].disable());return this[_0x4962("0x520")](x),this}},{key:_0x4962("0x520"),value:function(){}},{key:_0x4962("0x521"),value:function(x){if(!this[_0x4962("0x522")]){var _=(0,i[_0x4962("0xc")])(x);_[_0x4962("0x521")]&&_[_0x4962("0x521")].call(this,_),this._initHooksCalled=!0;var e=x[_0x4962("0x523")];if(e&&e!==_[_0x4962("0x523")])for(var t=0;t<e[_0x4962("0x0")];t++)e[t][_0x4962("0xf")](this)}}}],[{key:_0x4962("0x524"),value:function(x){for(var _=arguments[_0x4962("0x0")],e=Array(_>1?_-1:0),t=1;t<_;t++)e[t-1]=arguments[t];var a=typeof x===_0x4962("0x121")?x:function(){this[x].apply(this,e)},n=this[_0x4962("0x1")],r=(0,i[_0x4962("0xc")])(n);return n[_0x4962("0x523")]&&n._initHooks!==r[_0x4962("0x523")]||(n[_0x4962("0x523")]=[]),n[_0x4962("0x523")].push(a),this}},{key:_0x4962("0x525"),value:function(){for(var x=arguments[_0x4962("0x0")],_=Array(x),e=0;e<x;e++)_[e]=arguments[e];for(var t=0;t<_[_0x4962("0x0")];t++)(0,r[_0x4962("0x526")])(this[_0x4962("0x1")],_[t]);return this}},{key:_0x4962("0x527"),value:function(x){var _=this.prototype,e=(0,i[_0x4962("0xc")])(_);return _[_0x4962("0x3b")]&&_[_0x4962("0x3b")]!==e[_0x4962("0x3b")]||(_[_0x4962("0x3b")]=_[_0x4962("0x3b")]?(0,t[_0x4962("0xc")])(_.options):{}),(0,r[_0x4962("0x526")])(_[_0x4962("0x3b")],x),this}}]),x}();_[_0x4962("0xc")]=c},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){var _=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{depth:100,inverse:!1,typeID:null,excludeNodeTypes:excludeNodeTypes};(0,t[_0x4962("0xc")])(this,x),this.configs=_;var e=esmap[_0x4962("0x33")][_0x4962("0x3a")];this.ray=new(THREE[_0x4962("0x528")]),this[_0x4962("0x3fb")]=[],this[_0x4962("0x529")]=new THREE.MeshBasicMaterial({color:16711680}),this[_0x4962("0x48")]=e,this[_0x4962("0x307")]={},this[_0x4962("0x52a")]=null,this[_0x4962("0x52b")]()}return(0,i.default)(x,[{key:_0x4962("0x52c"),value:function(x,_){var e=_[_0x4962("0x126")]()[_0x4962("0x52d")](x.clone())[_0x4962("0x30e")]();this[_0x4962("0x52e")][_0x4962("0xd8")](x,e);var t=x[_0x4962("0x23a")](_);this[_0x4962("0x52e")][_0x4962("0x52f")]=t;var i=[];if(!this.meshList){var a=[],n=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x2e6")],r=this[_0x4962("0x48")].plane_[_0x4962("0x195")];n[_0x4962("0x104")]((function(x){x.type==_0x4962("0x198")&&x[_0x4962("0x195")]!=r&&a.push(x)})),this[_0x4962("0x52a")]=a}for(var s=0;s<this[_0x4962("0x52a")].length;s++){var o=this[_0x4962("0x52a")][s];this[_0x4962("0x307")][o[_0x4962("0x195")]]||i[_0x4962("0x3")](o)}var c=this[_0x4962("0x52e")].intersectObjects(i,!0);return c[_0x4962("0x0")]>0?c[0]:null}},{key:"updateWatchingList",value:function(){var x=this;if(this[_0x4962("0x3fb")]){var _=this[_0x4962("0x48")][_0x4962("0x194")];this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x2e6")].traverse((function(e){if((e[_0x4962("0x9d")]==_0x4962("0x198")||e.name==_0x4962("0x108")&&e[_0x4962("0xf1")])&&e[_0x4962("0x107")]!=_0x4962("0x531")&&e[_0x4962("0x107")]!=_0x4962("0x532")&&!e[_0x4962("0x533")]){if(x[_0x4962("0x307")][e[_0x4962("0x195")]])return;var t=_.isVisible(e),i=function(_){var e=x[_0x4962("0x530")][_0x4962("0x2fd")];if(null!=e){if(_.datas_){var t=_.datas_;if(t[_0x4962("0x480")]){if(t[_0x4962("0x480")][_0x4962("0x2e2")]((function(x){return x[_0x4962("0x2fd")]==e}))[_0x4962("0x0")]>0)return!0}else if(t[_0x4962("0x2fd")]==e)return!0}return!1}return!0}(e),a=!0,n=function(_){var e=x[_0x4962("0x530")][_0x4962("0x212")];if(null!=e){if(_.datas_){var t=_[_0x4962("0xf1")];if(t[_0x4962("0x480")]){if(t.brothers.filter((function(x){return x[_0x4962("0x212")]==e}))[_0x4962("0x0")]>0)return!0}else if(t.dataID==e)return!0}return!1}return!0}(e);if(x[_0x4962("0x530")][_0x4962("0x534")]&&(e.datas_&&e.datas_[_0x4962("0x125")]||e[_0x4962("0x125")])){var r=e.datas_?e[_0x4962("0xf1")][_0x4962("0x125")]:e[_0x4962("0x125")];x.configs[_0x4962("0x534")][_0x4962("0xaf")](r)>-1&&(a=!1)}t&&a&&i&&n&&x[_0x4962("0x3fb")][_0x4962("0x3")](e)}}))}}},{key:_0x4962("0x302"),value:function(x){var _,e=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]?arguments[1]:_0x4962("0x1a4"),t=arguments[2],i=this[_0x4962("0x530")].inverse?1:-1,a=new(THREE[_0x4962("0x12c")])(x.x,this[_0x4962("0x530")][_0x4962("0x2fc")],x.z),n=new(THREE[_0x4962("0x12c")])(x.x,-this[_0x4962("0x530")][_0x4962("0x2fc")],x.z),r=new(THREE[_0x4962("0x12c")])(0,i,0),s=a[_0x4962("0x23a")](n);if(this[_0x4962("0x52e")][_0x4962("0xd8")](this.configs[_0x4962("0x535")]?n:a,r),this[_0x4962("0x52e")][_0x4962("0x52f")]=s,_0x4962("0x1a4"),t){if(this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x449")][_0x4962("0x0")]>0){for(var o=0;o<this[_0x4962("0x48")][_0x4962("0x194")].locationModelMesh[_0x4962("0x0")];o++){this[_0x4962("0x48")].mapPicker[_0x4962("0x449")][o][_0x4962("0xf4")]||(this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x449")][_0x4962("0x4")](o,1),o--)}_=this[_0x4962("0x52e")][_0x4962("0x536")](this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x449")],!0)}}else _=this[_0x4962("0x52e")][_0x4962("0x536")](this[_0x4962("0x3fb")],!0);return _&&_[_0x4962("0x0")]>0?typeof _[0][_0x4962("0x9")].name==_0x4962("0xd")&&_[0].object.name[_0x4962("0xaf")](_0x4962("0x537"))>-1&&(_[_0x4962("0x224")](),0==_.length)?null:e==_0x4962("0x1a4")?(this[_0x4962("0x530")].debug&&console.info(_[0][_0x4962("0x9")][_0x4962("0x107")]),_):_[0]:null}}]),x}();_.default=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(2)),i=o(e(0)),a=o(e(1)),n=o(e(148)),r=e(34),s=e(20);function o(x){return x&&x.__esModule?x:{default:x}}var c=r.Base64[_0x4962("0x4b")](_0x4962("0x538")),l=r[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0x539")),f=r[_0x4962("0x4a")][_0x4962("0x4b")]("dXNlckxvZ29Db25maWc="),d=r[_0x4962("0x4a")][_0x4962("0x4b")](_0x4962("0x53a")),u=function(){function x(_,e,t){(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0x53b")]=t,this[_0x4962("0x53c")]=null,this.visible_=!1,this[_0x4962("0x53d")]=e,this.w_,this.h_,this.margin_horiz=8,this[_0x4962("0x53e")]=15}return(0,a[_0x4962("0xc")])(x,[{key:"sl",value:function(x){for(var _=x[_0x4962("0x0")],e=0,t=0;t<_;t++)e+=x[t][_0x4962("0x30")]();return parseInt(e,16)}},{key:_0x4962("0x53f"),value:function(x,_){if(esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x7f")][_0x4962("0x80")]("logo")||(this[_0x4962("0x53c")].visible=!1,this[_0x4962("0x53c")][_0x4962("0x166")].visible=!1),null!=this[_0x4962("0x53c")]){var e=x/2,t=_/2;this[_0x4962("0x53c")][_0x4962("0x106")][_0x4962("0xd8")](e-this.w_/2-this[_0x4962("0x540")],-t+this.h_/2+this[_0x4962("0x53e")],1),this[_0x4962("0x53c")][_0x4962("0x166")].visible?this[_0x4962("0x53c")][_0x4962("0x17c")]=!0:this[_0x4962("0x53c")][_0x4962("0x17c")]=!1}this[_0x4962("0x541")]&&null==this[_0x4962("0x53c")]&&(this[_0x4962("0x39")](),this[_0x4962("0x53c")].visible=!0)}},{key:_0x4962("0x542"),value:function(x,_,e,t){if(null!=this[_0x4962("0x543")]){var i=x/2,a=_/2;this[_0x4962("0x543")].position.set(i-this.w_/2-this.margin_horiz+e,-a+this.h_/2+this[_0x4962("0x53e")]+t,1)}this[_0x4962("0x541")]&&null==this[_0x4962("0x543")]&&(this[_0x4962("0x544")](),this[_0x4962("0x543")][_0x4962("0x17c")]=!0)}},{key:_0x4962("0x39"),value:function(){if(null==this[_0x4962("0x53c")]){var x=document.createElement(_0x4962("0x545"));14296!==n[_0x4962("0xc")][_0x4962("0x0")]&&s[_0x4962("0x37")][_0x4962("0x1dc")]({msg:"Error",level:_0x4962("0xe0")}),x[_0x4962("0x4ee")]=r[_0x4962("0x4a")][_0x4962("0x4b")](n.default);var _=new(THREE[_0x4962("0x368")])(x),e=esmap[_0x4962("0x8c")][_0x4962("0x33e")]()[_0x4962("0x3b6")];this.w_=e?96:60,this.h_=e?25:15,_[_0x4962("0x18e")]=THREE[_0x4962("0x362")],_[_0x4962("0x187")]=!0,this[_0x4962("0x53c")]=new(THREE[_0x4962("0x278")])(new(THREE[_0x4962("0x546")])({map:_})),this[_0x4962("0x53c")].userData[_0x4962("0x17c")]=!1,this.sprite_.scale.set(this.w_,this.h_,1),this[_0x4962("0x53d")][_0x4962("0xda")](this[_0x4962("0x53c")]);var t=this[_0x4962("0x53b")][_0x4962("0x547")],i=t[_0x4962("0x548")]-t[_0x4962("0x549")],a=t[_0x4962("0x503")]+t[_0x4962("0x54a")];this[_0x4962("0x53f")](i,a),this.sprite_[_0x4962("0x54b")]=!0}}},{key:_0x4962("0x544"),value:function(){var x=1&esmap[_0x4962("0x33")].instance.mapService[_0x4962("0x54c")];if(window[c]&&window[l]&&x){var _=document.createElement(_0x4962("0x545")),e=window[l][_0x4962("0x2d")](","),i=this.sl(e[2]),a=e[0];if(1==a)if(esmap[_0x4962("0x8c")][_0x4962("0x89")](a+i+window[c]+_0x4962("0xe7"))!=e[1])return;_[_0x4962("0x4ee")]=d+e[2];var n=new(THREE[_0x4962("0x368")])(_),r=esmap[_0x4962("0x8c")][_0x4962("0x33e")]()[_0x4962("0x3b6")],s={w_:this.w_,h_:this.h_,x:0,y:0};window[f]&&(0,t[_0x4962("0xc")])(s,window[f]),window[f]&&(s.w_=r?s.w_:.7*s.w_,s.h_=r?s.h_:.7*s.h_,s.x=r?s.x:.7*s.x,s.y=r?s.y:.7*s.y),n.minFilter=THREE[_0x4962("0x362")],n[_0x4962("0x187")]=!0,this.sprite_2=new(THREE[_0x4962("0x278")])(new(THREE[_0x4962("0x546")])({map:n})),this.sprite_2[_0x4962("0x1fe")][_0x4962("0xd8")](s.w_,s.h_,1),this[_0x4962("0x53d")].add(this[_0x4962("0x543")]);var o=this.options_[_0x4962("0x547")],u=o.clientWidth,h=o[_0x4962("0x503")]+20;this.updateHUD2(r?u-180:u-120,h-25,s.x,s.y)}}},{key:_0x4962("0x54d"),value:function(){}},{key:_0x4962("0x17c"),set:function(x){x!=this[_0x4962("0x541")]&&(this.visible_=x,x?(this[_0x4962("0x39")](),this[_0x4962("0x53c")].visible=!0):null!=this.sprite_&&(this[_0x4962("0x53c")].visible=!1))},get:function(){return this[_0x4962("0x541")]}}]),x}();_[_0x4962("0xc")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=_0x4962("0x54e");_[_0x4962("0xc")]=t},,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=n(e(60)),i=n(e(0)),a=n(e(1));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function r(x){if(x){if(x[_0x4962("0xf1")]&&x[_0x4962("0xf1")][_0x4962("0xf2")]&&(x[_0x4962("0xf1")].o3d_=void 0,x[_0x4962("0xf1")]=void 0),x[_0x4962("0xf3")])for(var _=0;_<x.children.length;_++)r(x[_0x4962("0xf3")][_]);x[_0x4962("0xf4")]&&x[_0x4962("0xf4")][_0x4962("0xf5")](),x.material&&(x[_0x4962("0xf6")]instanceof Array?x[_0x4962("0xf6")].forEach((function(x){x&&x[_0x4962("0xf5")]()})):x.material.dispose())}}var s=function(){function x(_,e,a,n){(0,i[_0x4962("0xc")])(this,x),a.datas_=this,a[_0x4962("0x3e6")]=e,(0,t.default)(this,{nodeType:{enumerable:!0,get:function(){return _}},mapScene:{get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")].mapScene},set:function(x){}},o3d_:{get:function(){return a},set:function(x){a=x},configurable:!0,enumerable:!1}}),window[_0x4962("0xe7")][_0x4962("0x552")]&&(0,t[_0x4962("0xc")])(this,{data_:{enumerable:!0,get:function(){return e}}})}return(0,a[_0x4962("0xc")])(x,[{key:"x",get:function(){var x=0;return x=0===this.o3d_[_0x4962("0x106")].x&&0===this[_0x4962("0xf2")][_0x4962("0x106")].y&&0===this[_0x4962("0xf2")][_0x4962("0x106")].z&&this.opts_?this[_0x4962("0x54f")].x:-this.o3d_[_0x4962("0x106")].x-this[_0x4962("0x34")][_0x4962("0x2e7")],this[_0x4962("0x34")]?x:0},set:function(x){this[_0x4962("0x34")]?this.o3d_[_0x4962("0x106")].setX(-x-this.mapScene[_0x4962("0x2e7")]):(this.opts_=this.opts_||{},this.opts_.x=x)}},{key:"y",get:function(){var x=0;return x=0===this.o3d_.position.x&&0===this[_0x4962("0xf2")][_0x4962("0x106")].y&&0===this[_0x4962("0xf2")][_0x4962("0x106")].z&&this.opts_?this[_0x4962("0x54f")].y:this[_0x4962("0xf2")].position.z+this[_0x4962("0x34")][_0x4962("0x2e8")],this[_0x4962("0x34")]?x:0},set:function(x){this[_0x4962("0x34")]?this[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0x550")](x-this.mapScene.sceneZ_):(this[_0x4962("0x54f")]=this[_0x4962("0x54f")]||{},this.opts_.y=x)}},{key:"z",get:function(){var x=0;return x=0===this[_0x4962("0xf2")][_0x4962("0x106")].x&&0===this.o3d_[_0x4962("0x106")].y&&0===this.o3d_[_0x4962("0x106")].z&&this[_0x4962("0x54f")]?this.opts_[_0x4962("0x1a4")]||0:this.o3d_[_0x4962("0x106")].y,this.mapScene?x:0},set:function(x){}},{key:_0x4962("0x217"),get:function(){var x=esmap.ESMap[_0x4962("0x3a")],_=new esmap.ESMapCoord(this.x,this.y,this.z),e=x[_0x4962("0x1b7")]({from:x[_0x4962("0x1b8")],to:x[_0x4962("0x3b")].userCrs,coord:{x:_.x,y:_.y}});return e.z=this.z,e}},{key:_0x4962("0x17b"),get:function(){return this.o3d_[_0x4962("0x17b")]?this[_0x4962("0xf2")].parent[_0x4962("0xf1")]:null}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0xf2")][_0x4962("0x17c")]=x},get:function(){return this[_0x4962("0xf2")].visible}},{key:_0x4962("0x31"),get:function(){if(this instanceof esmap[_0x4962("0x551")])return this;var x=this[_0x4962("0x17b")];if(x){if(x instanceof esmap[_0x4962("0x551")])return x;var _=x[_0x4962("0x17b")];if(_&&_ instanceof esmap[_0x4962("0x551")])return _}return null}},{key:_0x4962("0x2d9"),get:function(){return this[_0x4962("0x31")]?this[_0x4962("0x31")].FloorNum:null}}]),(0,a[_0x4962("0xc")])(x,[{key:_0x4962("0xf5"),value:function(){if(this[_0x4962("0xf2")]){this.o3d_[_0x4962("0x17c")]=!1,this[_0x4962("0xf2")][_0x4962("0x553")]&&this[_0x4962("0xf2")][_0x4962("0x553")]();var x=this[_0x4962("0xf2")][_0x4962("0x17b")],_=this[_0x4962("0x34")].map[_0x4962("0x194")][_0x4962("0x3fb")];for(var e in _){var t=_[e],i=t[_0x4962("0xaf")](this[_0x4962("0xf2")]);if(i>-1){t[_0x4962("0x4")](i,1);break}}var a=this[_0x4962("0x34")][_0x4962("0x48")][_0x4962("0x554")][_0x4962("0xaf")](this[_0x4962("0xf2")]);return a>-1&&this[_0x4962("0x34")][_0x4962("0x48")].lastSelectModelStore[_0x4962("0x4")](a,1),x?(x.remove(this[_0x4962("0xf2")]),r(this.o3d_),!0):void 0}}}]),x}();_[_0x4962("0xc")]=s},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_.dynamicBufferGeometry=void 0;var t=c(e(38)),i=c(e(5)),a=c(e(0)),n=c(e(1)),r=c(e(10)),s=c(e(11)),o=e(32);function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var l=function(x){function _(){(0,a.default)(this,_);var x=(0,r.default)(this,(_.__proto__||(0,i.default)(_))[_0x4962("0xf")](this));return x[_0x4962("0x480")]=[],x[_0x4962("0x454")](_0x4962("0x106"),new THREE.BufferAttribute(new Float32Array([]),3)),x[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(new Float32Array([]),3)),x[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(new Float32Array([]),2)),x.addAttribute(_0x4962("0x555"),new THREE.BufferAttribute(new Float32Array([]),2)),x.hiddenChilds={},x}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:_0x4962("0x556"),value:function(x){var _=this[_0x4962("0x557")](x)[_0x4962("0x558")],e=3*_[0],t=3*_[1],i=this[_0x4962("0x105")][_0x4962("0x106")].array;if(this[_0x4962("0x559")][x]){for(var a=0;a<i.length;a++)a>=e&&a<t&&(i[a]=this[_0x4962("0x559")][x][a]);this[_0x4962("0x559")][x]=null,this[_0x4962("0x44d")]("position")[_0x4962("0x187")]=!0}}},{key:_0x4962("0x55a"),value:function(x){var _=this[_0x4962("0x557")](x)[_0x4962("0x558")],e=3*_[0],t=3*_[1],i=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")];if(!this[_0x4962("0x559")][x]){this.hiddenChilds[x]=[];for(var a=0;a<i[_0x4962("0x0")];a++)if(a>=e&&a<t){var n=i[a];this[_0x4962("0x559")][x][a]=n,i[a]=.01}this[_0x4962("0x44d")]("position")[_0x4962("0x187")]=!0}}},{key:"clearAll",value:function(){for(var x in this[_0x4962("0x480")]=[],this[_0x4962("0xf5")](),this[_0x4962("0x105")])this.attributes[x][_0x4962("0x55b")](new Float32Array([]));this[_0x4962("0x45e")](),this.addGroup(0,0,0)}},{key:_0x4962("0x557"),value:function(x){return this.brothers[_0x4962("0x2e2")]((function(_){return _.ID==x}))[0]}},{key:_0x4962("0x55c"),value:function(x){for(var _=0;_<this[_0x4962("0x480")][_0x4962("0x0")];_++)if(this[_0x4962("0x480")][_].ID==x)return _}},{key:"updateChildByData",value:function(x,_){var e=x.ID,t=x[_0x4962("0x1a4")],i=x[_0x4962("0x55d")],a=x[_0x4962("0x138")],n=x.holes,r=this[_0x4962("0x557")](e)[_0x4962("0x558")],s=r[0],o=r[1],c=r[1]-r[0],l=this.getChildIndex(e),f=this[_0x4962("0x55e")](a,n,t,i,_),d=f[_0x4962("0x105")][_0x4962("0x106")].array,u=f[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x452")],h=f.attributes.uv[_0x4962("0x452")],g=f.attributes[_0x4962("0x106")].count,b=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")],v=this[_0x4962("0x105")][_0x4962("0x141")].array,p=this[_0x4962("0x105")].uv[_0x4962("0x452")],m=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],A=m-c+g,y=b[_0x4962("0x55f")](0,3*s),C=b[_0x4962("0x55f")](3*o,3*m),I=new Float32Array(y[_0x4962("0x0")]+C[_0x4962("0x0")]+d[_0x4962("0x0")]);I[_0x4962("0xd8")](y),I[_0x4962("0xd8")](d,y[_0x4962("0x0")]),I.set(C,y[_0x4962("0x0")]+d.lenth),this.attributes.position[_0x4962("0x452")]=I,this[_0x4962("0x105")][_0x4962("0x106")].count=A;var E=v[_0x4962("0x55f")](0,2*s),w=v[_0x4962("0x55f")](2*o,2*m),T=new Float32Array(E[_0x4962("0x0")]+u.length+w.length);T.set(E),T[_0x4962("0xd8")](u,E[_0x4962("0x0")]),T[_0x4962("0xd8")](w,E[_0x4962("0x0")]+u[_0x4962("0x0")]),this[_0x4962("0x105")].normal.array=T,this[_0x4962("0x105")].normal[_0x4962("0x182")]=A;var k=p[_0x4962("0x55f")](0,2*s),M=p[_0x4962("0x55f")](2*o,2*m),S=new Float32Array(k[_0x4962("0x0")]+h[_0x4962("0x0")]+M[_0x4962("0x0")]);S[_0x4962("0xd8")](k),S.set(h,k[_0x4962("0x0")]),S[_0x4962("0xd8")](M,k.length+h[_0x4962("0x0")]),this[_0x4962("0x105")].uv.array=S,this[_0x4962("0x105")].uv[_0x4962("0x182")]=A;var R=g-c;this.brothers[l][_0x4962("0x558")][1]+=R;for(var L=0;L<this.brothers.length;L++)L>l&&(this.brothers[L][_0x4962("0x558")][0]+=R,this[_0x4962("0x480")][L][_0x4962("0x558")][1]+=R);this.getAttribute("position")[_0x4962("0x187")]=!0,this[_0x4962("0x44d")]("normal").needsUpdate=!0,this[_0x4962("0x44d")]("uv")[_0x4962("0x187")]=!0}},{key:_0x4962("0x560"),value:function(x){for(var _=!1,e=void 0,t=0;t<this[_0x4962("0x480")][_0x4962("0x0")];t++)if(this[_0x4962("0x480")][t].ID==x){_=!0;var i=this[_0x4962("0x480")][t][_0x4962("0x558")];e=i[1]-i[0];var a=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")][_0x4962("0x55f")](0,3*i[0]),n=this[_0x4962("0x105")].position[_0x4962("0x452")].subarray(3*i[1],3*this.attributes[_0x4962("0x106")][_0x4962("0x182")]),r=new Float32Array(a[_0x4962("0x0")]+n.length);r[_0x4962("0xd8")](a),r.set(n,a[_0x4962("0x0")]),this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")]=r,this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")]-=e;var s=this[_0x4962("0x105")].normal[_0x4962("0x452")][_0x4962("0x55f")](0,3*i[0]),o=this.attributes.normal[_0x4962("0x452")].subarray(3*i[1],3*this[_0x4962("0x105")].normal[_0x4962("0x182")]),c=new Float32Array(s[_0x4962("0x0")]+o[_0x4962("0x0")]);c.set(s),c[_0x4962("0xd8")](o,s.length),this.attributes[_0x4962("0x141")][_0x4962("0x452")]=c,this[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x182")]-=e;var l=this[_0x4962("0x105")].uv[_0x4962("0x452")][_0x4962("0x55f")](0,2*i[0]),f=this[_0x4962("0x105")].uv[_0x4962("0x452")][_0x4962("0x55f")](2*i[1],2*this[_0x4962("0x105")].uv[_0x4962("0x182")]),d=new Float32Array(l[_0x4962("0x0")]+f.length);d[_0x4962("0xd8")](l),d.set(f,l[_0x4962("0x0")]),this.attributes.uv.array=d,this[_0x4962("0x105")].uv.count-=e,this[_0x4962("0x480")][_0x4962("0x4")](t,1),t--}else _&&(this.brothers[t][_0x4962("0x558")][0]-=e,this[_0x4962("0x480")][t][_0x4962("0x558")][1]-=e,this[_0x4962("0x480")][t][_0x4962("0x481")][0]-=e,this[_0x4962("0x480")][t].sideRange[1]-=e,this[_0x4962("0x480")][t][_0x4962("0x2d")]-=e);this[_0x4962("0x44d")](_0x4962("0x106"))[_0x4962("0x187")]=!0,this[_0x4962("0x44d")](_0x4962("0x141"))[_0x4962("0x187")]=!0,this[_0x4962("0x44d")]("uv")[_0x4962("0x187")]=!0}},{key:_0x4962("0x561"),value:function(x,_){return Math.abs(Math[_0x4962("0x120")](Math[_0x4962("0xf7")](x.x-_.x,2)+Math[_0x4962("0xf7")](x.y-_.y,2)))}},{key:_0x4962("0x55e"),value:function(x,_,e,i,a){for(var n=this,r=esmap[_0x4962("0x33")].instance,s=r[_0x4962("0x34")][_0x4962("0x2e7")],o=r[_0x4962("0x34")][_0x4962("0x2e8")],c=new(THREE[_0x4962("0x562")]),l=e+i,f=a[_0x4962("0x563")],d=a.normalizeTop,u=0;u<x.length;u++){var h=x[u];0==u?c[_0x4962("0x331")](h.x-s,h.y-o):c[_0x4962("0x564")](h.x-s,h.y-o)}for(var g in _){var b=_[g],v=new THREE.Path;for(var p in b){var m=b[p];0==p?v[_0x4962("0x331")](m.x,m.y):v.lineTo(m.x,m.y)}c.holes[_0x4962("0x3")](v)}var A=new(THREE[_0x4962("0x565")])(c,{depth:e,bevelEnabled:!1,material:0,extrudeMaterial:0}),y=A.getAttribute(_0x4962("0x106")).count,C=A[_0x4962("0x44d")]("position").array,I=[],E=[],w=[],T=A.getAttribute(_0x4962("0x141"))[_0x4962("0x452")],k=A[_0x4962("0x44d")]("uv")[_0x4962("0x452")],M=(0,t.default)(k);A[_0x4962("0x566")]();var S=A[_0x4962("0x567")][_0x4962("0x300")],R=A[_0x4962("0x567")][_0x4962("0x301")],L=new(THREE[_0x4962("0x568")])(0-R.x,0-R.y),H=new(THREE[_0x4962("0x568")])(S.x-R.x,S.y-R.y),D=H.x/1,O=H.y/1,P=1,N=1;d&&(P=D,N=O);for(var F=A.groups[0][_0x4962("0x182")]/3,B=0;B<F;B++)k[6*B]=(C[9*B]+L.x)/P,k[6*B+1]=(C[9*B+1]+L.y)/N,k[6*B+2]=(C[9*B+3]+L.x)/P,k[6*B+3]=(C[9*B+4]+L.y)/N,k[6*B+4]=(C[9*B+6]+L.x)/P,k[6*B+5]=(C[9*B+7]+L.y)/N,M[6*B]=(C[9*B]+L.x)/D,M[6*B+1]=(C[9*B+1]+L.y)/O,M[6*B+2]=(C[9*B+3]+L.x)/D,M[6*B+3]=(C[9*B+4]+L.y)/O,M[6*B+4]=(C[9*B+6]+L.x)/D,M[6*B+5]=(C[9*B+7]+L.y)/O;for(var z,U,V,j,Y=A[_0x4962("0x45d")][1][_0x4962("0x182")]/6,Z=F/2,W=0;W<Y;W++,Z++){var G=(U=void 0,V=void 0,j=void 0,U={x:C[9*(z=2*Z)],y:C[9*z+1]},V={x:C[9*z+3],y:C[9*z+4]},j={x:C[9*z+6],y:C[9*z+7]},T[9*z+2]==T[9*z+5]?n.getDis(U,V):T[9*z+2]==T[9*z+8]?n[_0x4962("0x561")](U,j):T[9*z+5]==T[9*z+8]?n[_0x4962("0x561")](V,j):void _0x4962("0x569"));G<1&&(G=1),f?(k[12*Z]=1,k[12*Z+1]=1,k[12*Z+2]=0,k[12*Z+3]=1,k[12*Z+4]=1,k[12*Z+5]=0,k[12*Z+6]=0,k[12*Z+7]=1,k[12*Z+8]=0,k[12*Z+9]=0,k[12*Z+10]=1,k[12*Z+11]=0):(k[12*Z]=G,k[12*Z+1]=e,k[12*Z+2]=0,k[12*Z+3]=e,k[12*Z+4]=G,k[12*Z+5]=0,k[12*Z+6]=0,k[12*Z+7]=e,k[12*Z+8]=0,k[12*Z+9]=0,k[12*Z+10]=G,k[12*Z+11]=0),M[12*Z]=1,M[12*Z+1]=1,M[12*Z+2]=0,M[12*Z+3]=1,M[12*Z+4]=1,M[12*Z+5]=0,M[12*Z+6]=0,M[12*Z+7]=1,M[12*Z+8]=0,M[12*Z+9]=0,M[12*Z+10]=1,M[12*Z+11]=0}for(var X=C[2],Q=M,J=[],K=0,q=0;q<y;q++)C[3*q+2]==X||0!=K&&q>K?(E.push(C[3*q],C[3*q+1],C[3*q+2]-l),I.push(T[3*q],T[3*q+1],T[3*q+2]),w[_0x4962("0x3")](k[2*q],k[2*q+1]),J[_0x4962("0x3")](Q[2*q],Q[2*q+1])):0==K&&(K=2*q);return A[_0x4962("0x454")](_0x4962("0x106"),new(THREE[_0x4962("0x455")])(new Float32Array(E),3)),A[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(new Float32Array(I),3)),A.addAttribute("uv",new THREE.BufferAttribute(new Float32Array(w),2)),A.addAttribute(_0x4962("0x555"),new(THREE[_0x4962("0x455")])(new Float32Array(J),2)),A[_0x4962("0x45d")][0][_0x4962("0x182")]-=K/2,A[_0x4962("0x45d")][1][_0x4962("0x1b1")]-=K/2,A}},{key:_0x4962("0x56a"),value:function(x){for(var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},e=esmap[_0x4962("0x33")][_0x4962("0x3a")],t=[],i=[],a=0;a<x[_0x4962("0x0")];a++){var n=x[a];n[_0x4962("0x138")]=e[_0x4962("0x3fd")]({from:e[_0x4962("0x3e9")],to:e[_0x4962("0x1b8")],coords:n.points,flipX:!0});var r=n[_0x4962("0x56b")];r[_0x4962("0x0")]>0&&(r[0]instanceof Array&&(r=r[0]),r=e.transformCoordArray({from:e[_0x4962("0x3e9")],to:e[_0x4962("0x1b8")],coords:r,flipX:!0}));var s=this[_0x4962("0x55e")](n.points,r,n[_0x4962("0x1a4")],n[_0x4962("0x55d")],_);t[_0x4962("0x3")](s),i[_0x4962("0x3")](s[_0x4962("0x45d")])}var c=this.brothers[_0x4962("0x0")],l=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],f=o[_0x4962("0x453")][_0x4962("0x56c")](t,!0),d=f[_0x4962("0x45d")],u=f.attributes[_0x4962("0x106")][_0x4962("0x452")],h=f[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x452")],g=f[_0x4962("0x105")].uv[_0x4962("0x452")],b=f[_0x4962("0x105")].normalizeUv.array,v=this[_0x4962("0x105")][_0x4962("0x106")].array.length,p=new Float32Array(v+u.length);p.set(this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")]),p[_0x4962("0xd8")](u,v),this.attributes.position[_0x4962("0x182")]+=f[_0x4962("0x105")][_0x4962("0x106")].count,this[_0x4962("0x105")][_0x4962("0x106")].array=p;var m=this[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x452")][_0x4962("0x0")],A=new Float32Array(m+h.length);A.set(this.attributes[_0x4962("0x141")].array),A[_0x4962("0xd8")](h,m),this.attributes[_0x4962("0x141")].count+=f.attributes.normal[_0x4962("0x182")],this[_0x4962("0x105")].normal.array=A;var y=this[_0x4962("0x105")].uv[_0x4962("0x452")][_0x4962("0x0")],C=new Float32Array(y+g[_0x4962("0x0")]);C.set(this[_0x4962("0x105")].uv[_0x4962("0x452")]),C[_0x4962("0xd8")](g,y),this.attributes.uv[_0x4962("0x182")]+=f[_0x4962("0x105")].uv[_0x4962("0x182")],this[_0x4962("0x105")].uv[_0x4962("0x452")]=C;var I=new Float32Array(y+g[_0x4962("0x0")]);I.set(this[_0x4962("0x105")][_0x4962("0x555")][_0x4962("0x452")]),I[_0x4962("0xd8")](b,y),this[_0x4962("0x105")].normalizeUv[_0x4962("0x182")]+=f.attributes[_0x4962("0x555")].count,this[_0x4962("0x105")][_0x4962("0x555")].array=I,this[_0x4962("0x44d")](_0x4962("0x106"))[_0x4962("0x187")]=!0,this[_0x4962("0x44d")]("normal").needsUpdate=!0,this[_0x4962("0x44d")]("uv").needsUpdate=!0,this[_0x4962("0x44d")](_0x4962("0x555"))[_0x4962("0x187")]=!0;for(var E=0;E<d[_0x4962("0x0")];E++){var w=x[E].ID,T=[d[E][_0x4962("0x1b1")]+l,d[E][_0x4962("0x1b1")]+l+d[E][_0x4962("0x182")]],k=[T[0]+i[E][1][_0x4962("0x1b1")],T[0]+d[E][_0x4962("0x182")]];this[_0x4962("0x480")][_0x4962("0x3")]({ID:w,range:T,sideRange:k})}return this[_0x4962("0x45e")](),this[_0x4962("0x181")](0,this[_0x4962("0x105")][_0x4962("0x106")].count,0),this[_0x4962("0x480")][_0x4962("0x1e7")](c)}},{key:_0x4962("0x56d"),value:function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{normalizeTop:!1,normalizeSide:!1},e=esmap[_0x4962("0x33")][_0x4962("0x3a")],t=x.ID,i=x[_0x4962("0x1a4")],a=x[_0x4962("0x55d")]||0,n=x.points,r=x[_0x4962("0x56b")]||[];n=e[_0x4962("0x3fd")]({from:e[_0x4962("0x3e9")],to:e[_0x4962("0x1b8")],coords:n,flipX:!0}),r[_0x4962("0x0")]>0&&(r=e.transformCoordArray({from:e[_0x4962("0x3e9")],to:e.coordSystem,coords:r,flipX:!0}));var s=this[_0x4962("0x55e")](n,r,i,a,_),o=s[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")],c=o.length/3,l=s.attributes[_0x4962("0x141")][_0x4962("0x452")],f=s[_0x4962("0x105")].uv[_0x4962("0x452")],d=s[_0x4962("0x105")][_0x4962("0x555")][_0x4962("0x452")],u=this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],h=this.attributes[_0x4962("0x106")][_0x4962("0x452")][_0x4962("0x0")],g=new Float32Array(h+o.length);g[_0x4962("0xd8")](this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x452")]),g.set(o,h),this[_0x4962("0x105")][_0x4962("0x106")].array=g,this[_0x4962("0x105")].position[_0x4962("0x182")]+=c;var b=this.attributes[_0x4962("0x141")].array[_0x4962("0x0")],v=new Float32Array(b+l[_0x4962("0x0")]);v[_0x4962("0xd8")](this.attributes[_0x4962("0x141")][_0x4962("0x452")]),v[_0x4962("0xd8")](l,b),this[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x452")]=v,this[_0x4962("0x105")][_0x4962("0x141")][_0x4962("0x182")]+=c;var p=this.attributes.uv.array[_0x4962("0x0")],m=new Float32Array(p+f[_0x4962("0x0")]);m[_0x4962("0xd8")](this[_0x4962("0x105")].uv[_0x4962("0x452")]),m[_0x4962("0xd8")](f,p),this.attributes.uv[_0x4962("0x452")]=m,this[_0x4962("0x105")].uv[_0x4962("0x182")]+=c;var A=this[_0x4962("0x105")][_0x4962("0x555")].array[_0x4962("0x0")],y=new Float32Array(A+d[_0x4962("0x0")]);y[_0x4962("0xd8")](this[_0x4962("0x105")][_0x4962("0x555")].array),y[_0x4962("0xd8")](d,A),this[_0x4962("0x105")].normalizeUv[_0x4962("0x452")]=y,this.attributes.normalizeUv[_0x4962("0x182")]+=c,this[_0x4962("0x44d")](_0x4962("0x106"))[_0x4962("0x187")]=!0,this[_0x4962("0x44d")](_0x4962("0x141"))[_0x4962("0x187")]=!0,this[_0x4962("0x44d")]("uv")[_0x4962("0x187")]=!0,this[_0x4962("0x44d")](_0x4962("0x555"))[_0x4962("0x187")]=!0;var C=[u,u+c],I=[u+s[_0x4962("0x45d")][1][_0x4962("0x1b1")],u+c];return this[_0x4962("0x480")].push({ID:t,range:C,sideRange:I}),this.clearGroups(),this[_0x4962("0x181")](0,this[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0),{ID:t,range:C,sideRange:I}}},{key:_0x4962("0x56e"),value:function(){}},{key:_0x4962("0x56f"),value:function(){}},{key:"getChildsData",value:function(){}}]),_}(THREE[_0x4962("0x570")]);_.dynamicBufferGeometry=l},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=n(e(0)),i=n(e(1)),a=n(e(35));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(){function x(_){(0,t.default)(this,x),this[_0x4962("0x3c9")]=_,this.context=_[_0x4962("0x52")]||_.tile,this.scene=_.scene,this.tasks={}}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x571"),value:function(x,_){var e=this.scene,t=x.fnum,i=this.context,n=this[_0x4962("0x572")][_],r=n[_0x4962("0x466")],s=2===n[_0x4962("0x3e8")],o=r[_0x4962("0xf6")],c=e[_0x4962("0x48")][_0x4962("0x3b")].editMode,l=e[_0x4962("0x48")].mapService[_0x4962("0x366")].modelImageTexturePool[x[_0x4962("0x3fe")]];e.map[_0x4962("0x3b")][_0x4962("0x573")]&&(l=this.createTexture(l[_0x4962("0x326")][_0x4962("0x1ce")],l[_0x4962("0x326")].height));var f=a[_0x4962("0xc")][_0x4962("0xdb")](i.id),d=e[_0x4962("0x48")][_0x4962("0x7f")];e.map[_0x4962("0x3b")].fixTextures&&(THREE[_0x4962("0x20e")][_0x4962("0x574")](l.image[_0x4962("0x1ce")])&&THREE.Math[_0x4962("0x574")](l[_0x4962("0x326")][_0x4962("0x1a4")])||(l.minFilter=THREE[_0x4962("0x575")],l[_0x4962("0x365")]=!1,l[_0x4962("0x576")][_0x4962("0x0")]=0,l[_0x4962("0x187")]=!0));var u=x[_0x4962("0x577")],h=e[_0x4962("0x48")][_0x4962("0x3b")].modelImageAlphaTest;i[_0x4962("0x3b")].mergeModels||(r[_0x4962("0xf1")][_0x4962("0x217")]={x:x[_0x4962("0x1b5")].x,y:x.coord.y});var g=e[_0x4962("0x48")][_0x4962("0x578")](),b=!0;if(g[_0x4962("0x579")]&&g[_0x4962("0x579")].data[_0x4962("0x57a")]&&g[_0x4962("0x579")][_0x4962("0x57b")][_0x4962("0x57a")][_0x4962("0x0")]>0){var v=g[_0x4962("0x579")].data[_0x4962("0x57a")][_0x4962("0x2e2")]((function(_){return _[_0x4962("0x326")]==x.RoomLogo}));v[_0x4962("0x0")]>0&&(b=!v[0][_0x4962("0x57c")])}if(g[_0x4962("0x579")]&&g[_0x4962("0x579")].data[_0x4962("0x57d")]){var p=g[_0x4962("0x579")][_0x4962("0x57b")].roomstyle[_0x4962("0x2e2")]((function(_){return _[_0x4962("0x57e")]==x[_0x4962("0x57f")]}));p.length>0&&p[0][_0x4962("0x580")]&&(r[_0x4962("0x170")]=1*p[0][_0x4962("0x580")])}if(!o[u]){var m=new(THREE[_0x4962("0x581")])({transparent:!0,side:THREE[_0x4962("0x436")],depthWrite:b,map:l});m[_0x4962("0x148")]=function(x){x[_0x4962("0x14c")]=x[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x489"),_0x4962("0x582")),x[_0x4962("0x14c")]=x.vertexShader[_0x4962("0x14d")]("#include <uv_vertex>",_0x4962("0x583")),x[_0x4962("0x152")]=x[_0x4962("0x152")].replace(_0x4962("0x153"),_0x4962("0x584")),x[_0x4962("0x152")]=x[_0x4962("0x152")].replace(_0x4962("0x155"),_0x4962("0x585"))},m[_0x4962("0x107")]=x[_0x4962("0x3fe")],x[_0x4962("0x586")]={width:l[_0x4962("0x326")][_0x4962("0x1ce")],height:l.image.height},m[_0x4962("0x166")][_0x4962("0x587")]=x,m[_0x4962("0x107")].indexOf(_0x4962("0x588"))>0?m[_0x4962("0x144")]=!1:m[_0x4962("0x589")]=h,s&&i[_0x4962("0x58a")]!=t&&i[_0x4962("0x3b")][_0x4962("0x58b")]&&(m[_0x4962("0x166")][_0x4962("0x26c")]=m[_0x4962("0x144")],m.userData[_0x4962("0x145")]=m[_0x4962("0x145")],m[_0x4962("0x145")]=i[_0x4962("0x3b")][_0x4962("0x58c")]),i[_0x4962("0x3b")][_0x4962("0x383")]&&!c?o[u]=m:(o[_0x4962("0x3")](m),r[_0x4962("0xf1")][_0x4962("0x58d")]=x.id,r[_0x4962("0xf1")][_0x4962("0x3fe")]=x[_0x4962("0x3fe")],d[_0x4962("0x58e")][x.id]=r,r.geometry[_0x4962("0x45d")][_0x4962("0x0")]>1&&(o[u]=m)),f[_0x4962("0xdf")](x.id)}this[_0x4962("0x2e6")].map[_0x4962("0x3b")][_0x4962("0x1f5")]&&!r.userData[_0x4962("0x58f")]&&(r[_0x4962("0x166")][_0x4962("0x58f")]=!0,this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")].addObject(r,this[_0x4962("0x371")].id))}},{key:_0x4962("0x590"),value:function(x){return this[_0x4962("0x572")][x]||(this.tasks[x]={datas:{},geometry:null,mesh:null,parent:null,bid:null,bType:null}),this[_0x4962("0x572")][x]}},{key:"setParent",value:function(x,_,e){var t=this[_0x4962("0x590")](x);t.parent=_,t[_0x4962("0x130")]=e[_0x4962("0x130")],t[_0x4962("0x3e8")]=e[_0x4962("0x3e8")]}},{key:_0x4962("0x591"),value:function(x,_){this[_0x4962("0x590")](x).datas=_}},{key:_0x4962("0x592"),value:function(x,_){var e=this[_0x4962("0x590")](x),t=_[_0x4962("0x2cd")],i=_[_0x4962("0x428")],a=_.uv,n=_[_0x4962("0x593")],r=_[_0x4962("0x45d")],s=_[_0x4962("0x594")],o=_.hideFlags,c=new THREE.BufferGeometry;c[_0x4962("0x454")](_0x4962("0x106"),new THREE.BufferAttribute(i,3)),c.addAttribute("normal",new(THREE[_0x4962("0x455")])(n,3)),c.addAttribute("uv",new THREE.BufferAttribute(a,2)),o&&c.addAttribute(_0x4962("0x595"),new(THREE[_0x4962("0x455")])(o,1)),c[_0x4962("0x456")](new(THREE[_0x4962("0x455")])(t,1)),c[_0x4962("0x166")][_0x4962("0x596")]=s,r[_0x4962("0x0")]>0?r[_0x4962("0x20")]((function(x){c.addGroup(x[_0x4962("0x1b1")],x[_0x4962("0x182")],x[_0x4962("0x45f")])})):c[_0x4962("0x181")](0,t.length,0),e[_0x4962("0xf4")]=c;var l=new(THREE[_0x4962("0x198")])(c,[]);l[_0x4962("0xf1")]={nodeType:esmap[_0x4962("0x134")][_0x4962("0x597")],o3d_:l,bid:e[_0x4962("0x130")],bType:e[_0x4962("0x3e8")]},_[_0x4962("0x132")]&&(l.datas_[_0x4962("0x2d9")]=_[_0x4962("0x132")]),l[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x598")],l[_0x4962("0x210")][_0x4962("0xd8")](-Math.PI/2,Math.PI,Math.PI-0*THREE.Math[_0x4962("0x599")],_0x4962("0x59a")),e.mesh=l,e[_0x4962("0x17b")].add(l)}},{key:_0x4962("0x59b"),value:function(){for(var x in this[_0x4962("0x572")]){0===this[_0x4962("0x572")][x][_0x4962("0x59c")][_0x4962("0x0")]?delete this[_0x4962("0x572")][x]:this[_0x4962("0x59d")](x)}}},{key:_0x4962("0x59d"),value:function(x){for(var _=this[_0x4962("0x590")](x)[_0x4962("0x59c")],e=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x366")][_0x4962("0x59e")],t=0;t<_[_0x4962("0x0")];t++){var i=_[t];e[i[_0x4962("0x3fe")]]?(this[_0x4962("0x571")](i,x),_[_0x4962("0x4")](t,1),t--):null===e[i.RoomLogo]&&(_[_0x4962("0x4")](t,1),t--)}}},{key:_0x4962("0x15a"),value:function(x,_){var e=document[_0x4962("0x24")](_0x4962("0x336"));return e.width=x,e[_0x4962("0x1a4")]=_,new THREE.Texture(e)}}]),x}();_.default=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x59f")],this[_0x4962("0x5a0")]}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x5a1"),value:function(x){if(this.points_=[],this[_0x4962("0x5a0")]=[],x.indexOf("((")>=0)for(var _=x.substring(2,x[_0x4962("0x0")]-2)[_0x4962("0x2d")](/\)\)&&\(\(/),e=0;e<_[_0x4962("0x0")];e++){for(var t=_[e][_0x4962("0x2d")](/,/),i=[],a={},n=0;n<t.length;n++){var r=t[n][_0x4962("0x2d")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1])};0==n&&(a=s),n>0&&(s.x=a.x+s.x,s.y=a.y+s.y),i[_0x4962("0x3")](s)}this[_0x4962("0x59f")][_0x4962("0x3")](i)}return this}},{key:_0x4962("0x71"),value:function(x){if(this[_0x4962("0x59f")]=[],this.holes_=[],x[_0x4962("0xaf")]("((")>=0)for(var _=x[_0x4962("0x7d")](2,x[_0x4962("0x0")]-2)[_0x4962("0x2d")](/\),\(/),e=0;e<_[_0x4962("0x0")];e++){for(var t=_[e].split(/,/),i=[],a={},n=0;n<t[_0x4962("0x0")];n++){var r=t[n][_0x4962("0x2d")](" "),s={x:-parseFloat(r[0]),y:parseFloat(r[1])};0==n&&(a=s),n>0&&(s.x=a.x+s.x,s.y=a.y+s.y),i[_0x4962("0x3")](s)}0==e?this.points_[_0x4962("0x3")](i):this.holes_[_0x4962("0x3")](i)}return this}},{key:"parseIndoorGeo",value:function(x,_,e){if(this[_0x4962("0x59f")]=[],this[_0x4962("0x5a0")]=[],x[_0x4962("0xaf")]("MULTIPOLYGON(((")>=0)for(var t=x[_0x4962("0x7d")](r[_0x4962("0x5a2")],x.length-3)[_0x4962("0x2d")](/\),\(/),i=0;i<t[_0x4962("0x0")];i++){var a=t[i][_0x4962("0x2d")](/,/);if(0==i)for(var n=0;n<a[_0x4962("0x0")];n++){var s=a[n][_0x4962("0x2d")](" "),o={x:-parseFloat(s[0])-_,y:parseFloat(s[1])+e};this[_0x4962("0x59f")][_0x4962("0x3")](o)}else{var c=[];for(n=0;n<a.length;n++){s=a[n].split(" "),o={x:-parseFloat(s[0])-_,y:parseFloat(s[1])+e};c[_0x4962("0x3")](o)}this[_0x4962("0x5a0")][_0x4962("0x3")](c)}}else if(x[_0x4962("0xaf")](_0x4962("0x5a3"))>=0)for(t=x.substring(r[_0x4962("0x5a4")],x[_0x4962("0x0")]-3).split(/\),\(/),i=0;i<t[_0x4962("0x0")];i++){a=t[i][_0x4962("0x2d")](/,/);if(0==i)for(n=0;n<a.length;n++){s=a[n][_0x4962("0x2d")](" "),o={x:-parseFloat(s[0]),y:parseFloat(s[1]),z:parseFloat(s[2])};this[_0x4962("0x59f")][_0x4962("0x3")](o)}else{for(c=[],n=0;n<a[_0x4962("0x0")];n++){s=a[n][_0x4962("0x2d")](" "),o={x:-parseFloat(s[0]),y:parseFloat(s[1]),z:parseFloat(s[2])};c[_0x4962("0x3")](o)}this.holes_[_0x4962("0x3")](c)}}return this}},{key:_0x4962("0x5a5"),value:function(){return null!=this[_0x4962("0x5a0")]&&this[_0x4962("0x5a0")].length>0}}]),x}(),r=function x(){(0,t.default)(this,x)};r[_0x4962("0x5a2")]=_0x4962("0x5a6")[_0x4962("0x0")],r[_0x4962("0x5a4")]=_0x4962("0x5a3")[_0x4962("0x0")],r[_0x4962("0x5a7")]=n,_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0}),_[_0x4962("0x5a8")]=void 0;var t=e(34);_[_0x4962("0x5a8")]=function(x,_){if(!x[_0x4962("0x5a9")]){x[_0x4962("0x5a9")]=_;var e=x[_0x4962("0x4b")][_0x4962("0xe")](x);x[_0x4962("0x4b")]=function(){var x=this;this[_0x4962("0x5aa")]="";var _=e[_0x4962("0x2a4")](void 0,arguments);return this[_0x4962("0x5a9")]&&this[_0x4962("0x5a9")][_0x4962("0x20")]((function(e){x[_0x4962("0x5aa")]+=_[t[_0x4962("0x4a")][_0x4962("0x4b")](e)]})),this.$v=_,_},x[_0x4962("0x5ab")]=function(x){return this.$v[x]},x._cm=function(){var x=this,_="";return this[_0x4962("0x5a9")][_0x4962("0x20")]((function(e){_+=x.$v[t.Base64[_0x4962("0x4b")](e)]})),_===this[_0x4962("0x5aa")]},x[_0x4962("0x5ac")]=function(x){return this.$v[t[_0x4962("0x4a")][_0x4962("0x4b")](x)]}}}},function(x,_,e){"use strict";var t=a(e(6)),i=a(e(14));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=e(75),r=n[_0x4962("0x5ad")],s=n[_0x4962("0x5ae")],o=n[_0x4962("0x5af")],c=n[_0x4962("0x5b0")][_0x4962("0xc")]||(n.roots[_0x4962("0xc")]={});c[_0x4962("0x5b1")]=function(){var x=null,_=null;function e(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return e.prototype.v=0,e[_0x4962("0x1")].mtime=0,e[_0x4962("0x1")][_0x4962("0x5b2")]="",e[_0x4962("0x1")].Hash="",e[_0x4962("0x1")][_0x4962("0x3df")]=0,e[_0x4962("0x1")][_0x4962("0x88")]=0,e[_0x4962("0x1")].name="",e.prototype[_0x4962("0x5b3")]="",e.prototype[_0x4962("0x5b4")]="",e[_0x4962("0x1")].AS=0,e[_0x4962("0x1")][_0x4962("0x5b5")]=0,e[_0x4962("0x1")][_0x4962("0x5b6")]=0,e[_0x4962("0x1")][_0x4962("0x5b7")]=0,e[_0x4962("0x1")].x=0,e[_0x4962("0x1")].y=0,e[_0x4962("0x1")].z=0,e[_0x4962("0x1")][_0x4962("0x5b8")]=o.Long?o[_0x4962("0x5b9")][_0x4962("0x5ba")](0,0,!1):0,e[_0x4962("0x1")][_0x4962("0x5bb")]=o.Long?o[_0x4962("0x5b9")][_0x4962("0x5ba")](0,0,!1):0,e[_0x4962("0x1")].maxX=o[_0x4962("0x5b9")]?o[_0x4962("0x5b9")][_0x4962("0x5ba")](0,0,!1):0,e[_0x4962("0x1")].maxY=o.Long?o[_0x4962("0x5b9")][_0x4962("0x5ba")](0,0,!1):0,e[_0x4962("0x1")][_0x4962("0x5bc")]="",e[_0x4962("0x1")][_0x4962("0x5bd")]="",e[_0x4962("0x1")].tileurl="",e[_0x4962("0x1")].bidnums=0,e[_0x4962("0x1")][_0x4962("0x5be")]=0,e[_0x4962("0x1")][_0x4962("0x5bf")]="",e[_0x4962("0x1")][_0x4962("0x5c0")]="",e[_0x4962("0x1")].token="",e.prototype[_0x4962("0x5c1")]="",e[_0x4962("0x1")][_0x4962("0x5c2")]="",e[_0x4962("0x1")][_0x4962("0x5c3")]="",e[_0x4962("0x1")].o1=0,e.prototype.o2=0,e[_0x4962("0x1")].ul=0,e[_0x4962("0x1")][_0x4962("0x3de")]="",e.prototype.other2="",e.prototype.l1=0,e[_0x4962("0x1")].l2=0,e.prototype.l3=0,e[_0x4962("0x1")].l4=0,e[_0x4962("0x1")].alist="",e[_0x4962("0x1")].eid="",e[_0x4962("0x1")].bidlist="",e.prototype.fs=0,e[_0x4962("0xb")]=function(x){return new e(x)},e.encode=function(x,_){return _||(_=s.create()),null!=x.v&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"v")&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x.v),null!=x[_0x4962("0x5c6")]&&Object[_0x4962("0x2")].call(x,_0x4962("0x5c6"))&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x[_0x4962("0x5c6")]),null!=x[_0x4962("0x5b2")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5b2"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x[_0x4962("0x5b2")]),null!=x.Hash&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5c7"))&&_[_0x4962("0x5c4")](34).string(x[_0x4962("0x5c7")]),null!=x[_0x4962("0x3df")]&&Object[_0x4962("0x2")].call(x,_0x4962("0x3df"))&&_[_0x4962("0x5c4")](40).int32(x._id),null!=x[_0x4962("0x88")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"tid")&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x.tid),null!=x[_0x4962("0x107")]&&Object[_0x4962("0x2")].call(x,_0x4962("0x107"))&&_.uint32(58).string(x[_0x4962("0x107")]),null!=x.nameEn&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5b3"))&&_[_0x4962("0x5c4")](66).string(x[_0x4962("0x5b3")]),null!=x[_0x4962("0x5b4")]&&Object.hasOwnProperty[_0x4962("0xf")](x,_0x4962("0x5b4"))&&_[_0x4962("0x5c4")](74)[_0x4962("0xd")](x[_0x4962("0x5b4")]),null!=x.AS&&Object[_0x4962("0x2")].call(x,"AS")&&_.uint32(81).double(x.AS),null!=x[_0x4962("0x5b5")]&&Object[_0x4962("0x2")].call(x,_0x4962("0x5b5"))&&_[_0x4962("0x5c4")](89)[_0x4962("0x5c8")](x[_0x4962("0x5b5")]),null!=x.AngleY&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5b6"))&&_[_0x4962("0x5c4")](97).double(x[_0x4962("0x5b6")]),null!=x[_0x4962("0x5b7")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5b7"))&&_[_0x4962("0x5c4")](105)[_0x4962("0x5c8")](x.AngleZ),null!=x.x&&Object.hasOwnProperty[_0x4962("0xf")](x,"x")&&_[_0x4962("0x5c4")](113).double(x.x),null!=x.y&&Object.hasOwnProperty[_0x4962("0xf")](x,"y")&&_[_0x4962("0x5c4")](121).double(x.y),null!=x.z&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"z")&&_.uint32(129)[_0x4962("0x5c8")](x.z),null!=x[_0x4962("0x5b8")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"minX")&&_.uint32(136)[_0x4962("0x5c9")](x[_0x4962("0x5b8")]),null!=x[_0x4962("0x5bb")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5bb"))&&_[_0x4962("0x5c4")](144)[_0x4962("0x5c9")](x[_0x4962("0x5bb")]),null!=x[_0x4962("0x5ca")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5ca"))&&_.uint32(152)[_0x4962("0x5c9")](x[_0x4962("0x5ca")]),null!=x[_0x4962("0x5cb")]&&Object[_0x4962("0x2")].call(x,"maxY")&&_[_0x4962("0x5c4")](160)[_0x4962("0x5c9")](x.maxY),null!=x[_0x4962("0x5bc")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5bc"))&&_[_0x4962("0x5c4")](170)[_0x4962("0xd")](x.offsetbid),null!=x[_0x4962("0x5bd")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"offsetroad")&&_.uint32(178)[_0x4962("0xd")](x[_0x4962("0x5bd")]),null!=x[_0x4962("0x5cc")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"tileurl")&&_[_0x4962("0x5c4")](186)[_0x4962("0xd")](x[_0x4962("0x5cc")]),null!=x[_0x4962("0x5cd")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"bidnums")&&_[_0x4962("0x5c4")](192)[_0x4962("0x5c5")](x[_0x4962("0x5cd")]),null!=x.modnums&&Object.hasOwnProperty.call(x,_0x4962("0x5be"))&&_[_0x4962("0x5c4")](200)[_0x4962("0x5c5")](x[_0x4962("0x5be")]),null!=x[_0x4962("0x5bf")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"Remark")&&_[_0x4962("0x5c4")](210)[_0x4962("0xd")](x.Remark),null!=x[_0x4962("0x5c0")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5c0"))&&_.uint32(218)[_0x4962("0xd")](x[_0x4962("0x5c0")]),null!=x.token&&Object.hasOwnProperty.call(x,"token")&&_.uint32(226)[_0x4962("0xd")](x[_0x4962("0x8a")]),null!=x[_0x4962("0x5c1")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"cids")&&_[_0x4962("0x5c4")](234)[_0x4962("0xd")](x[_0x4962("0x5c1")]),null!=x[_0x4962("0x5c2")]&&Object.hasOwnProperty.call(x,_0x4962("0x5c2"))&&_[_0x4962("0x5c4")](242).string(x[_0x4962("0x5c2")]),null!=x.tiletoken&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5c3"))&&_[_0x4962("0x5c4")](250)[_0x4962("0xd")](x[_0x4962("0x5c3")]),null!=x.o1&&Object[_0x4962("0x2")].call(x,"o1")&&_[_0x4962("0x5c4")](256)[_0x4962("0x5c5")](x.o1),null!=x.o2&&Object[_0x4962("0x2")].call(x,"o2")&&_[_0x4962("0x5c4")](264).int32(x.o2),null!=x.ul&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"ul")&&_[_0x4962("0x5c4")](272)[_0x4962("0x5c5")](x.ul),null!=x[_0x4962("0x3de")]&&Object.hasOwnProperty[_0x4962("0xf")](x,_0x4962("0x3de"))&&_[_0x4962("0x5c4")](282)[_0x4962("0xd")](x[_0x4962("0x3de")]),null!=x[_0x4962("0x5ce")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5ce"))&&_[_0x4962("0x5c4")](290).string(x[_0x4962("0x5ce")]),null!=x.l1&&Object.hasOwnProperty[_0x4962("0xf")](x,"l1")&&_.uint32(296).int32(x.l1),null!=x.l2&&Object.hasOwnProperty.call(x,"l2")&&_[_0x4962("0x5c4")](304)[_0x4962("0x5c5")](x.l2),null!=x.l3&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"l3")&&_[_0x4962("0x5c4")](312).int32(x.l3),null!=x.l4&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"l4")&&_[_0x4962("0x5c4")](320)[_0x4962("0x5c5")](x.l4),null!=x[_0x4962("0x5cf")]&&Object[_0x4962("0x2")].call(x,_0x4962("0x5cf"))&&_[_0x4962("0x5c4")](330).string(x[_0x4962("0x5cf")]),null!=x[_0x4962("0x5d0")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,"eid")&&_.uint32(338)[_0x4962("0xd")](x[_0x4962("0x5d0")]),null!=x[_0x4962("0x5d1")]&&Object[_0x4962("0x2")][_0x4962("0xf")](x,_0x4962("0x5d1"))&&_.uint32(346)[_0x4962("0xd")](x[_0x4962("0x5d1")]),null!=x.fs&&Object.hasOwnProperty[_0x4962("0xf")](x,"fs")&&_[_0x4962("0x5c4")](352)[_0x4962("0x5c5")](x.fs),_},e[_0x4962("0x5d2")]=function(x,_){return this.encode(x,_).ldelim()},e.decode=function(e,t){e instanceof r||(e=r.create(e));for(var i=void 0===t?e.len:e[_0x4962("0x428")]+t,a=new(c[_0x4962("0x5b1")]);e.pos<i;){var n=e[_0x4962("0x5c4")]();switch(n>>>3){case 1:a.v=e[_0x4962("0x5c5")]();break;case 2:a.mtime=e.int32();break;case 3:a[_0x4962("0x5b2")]=e[_0x4962("0xd")]();break;case 4:a[_0x4962("0x5c7")]=e.string();break;case 5:a._id=e[_0x4962("0x5c5")]();break;case 6:a[_0x4962("0x88")]=e[_0x4962("0x5c5")]();break;case 7:a[_0x4962("0x107")]=e[_0x4962("0xd")]();break;case 8:a[_0x4962("0x5b3")]=e[_0x4962("0xd")]();break;case 9:a[_0x4962("0x5b4")]=e[_0x4962("0xd")]();break;case 10:a.AS=e[_0x4962("0x5c8")]();break;case 11:a[_0x4962("0x5b5")]=e[_0x4962("0x5c8")]();break;case 12:a[_0x4962("0x5b6")]=e[_0x4962("0x5c8")]();break;case 13:a.AngleZ=e[_0x4962("0x5c8")]();break;case 14:a.x=e.double();break;case 15:a.y=e[_0x4962("0x5c8")]();break;case 16:a.z=e[_0x4962("0x5c8")]();break;case 17:a[_0x4962("0x5b8")]=e.int64();break;case 18:a[_0x4962("0x5bb")]=e[_0x4962("0x5c9")]();break;case 19:a[_0x4962("0x5ca")]=e[_0x4962("0x5c9")]();break;case 20:a.maxY=e.int64();break;case 21:a[_0x4962("0x5bc")]=e[_0x4962("0xd")]();break;case 22:a[_0x4962("0x5bd")]=e[_0x4962("0xd")]();break;case 23:a[_0x4962("0x5cc")]=e[_0x4962("0xd")]();break;case 24:a[_0x4962("0x5cd")]=e.int32();break;case 25:a[_0x4962("0x5be")]=e.int32();break;case 26:a.Remark=e.string();break;case 27:a[_0x4962("0x5c0")]=e[_0x4962("0xd")]();break;case 28:a[_0x4962("0x8a")]=e.string();break;case 29:a[_0x4962("0x5c1")]=e[_0x4962("0xd")]();break;case 30:a[_0x4962("0x5c2")]=e[_0x4962("0xd")]();break;case 31:a.tiletoken=e[_0x4962("0xd")]();break;case 32:a.o1=e[_0x4962("0x5c5")]();break;case 33:a.o2=e.int32();break;case 34:a.ul=e[_0x4962("0x5c5")]();break;case 35:a[_0x4962("0x3de")]=e[_0x4962("0xd")]();break;case 36:a[_0x4962("0x5ce")]=e[_0x4962("0xd")]();break;case 37:a.l1=e.int32();break;case 38:a.l2=e[_0x4962("0x5c5")]();break;case 39:a.l3=e[_0x4962("0x5c5")]();break;case 40:a.l4=e[_0x4962("0x5c5")]();break;case 41:a.alist=e[_0x4962("0xd")]();break;case 42:a[_0x4962("0x5d0")]=e.string();break;case 43:a[_0x4962("0x5d1")]=e[_0x4962("0xd")]();break;case 44:a.fs=e[_0x4962("0x5c5")]();break;default:e[_0x4962("0x5d3")](7&n)}}return _=a.mtime+a[_0x4962("0x5c7")]+a.token+a[_0x4962("0x5c2")]+a.ul+a.o1+a.o2+a[_0x4962("0x5c3")],x=a,a},e[_0x4962("0x5d4")]=function(){var e=x[_0x4962("0x5c6")]+x[_0x4962("0x5c7")]+x[_0x4962("0x8a")]+x[_0x4962("0x5c2")]+x.ul+x.o1+x.o2+x[_0x4962("0x5c3")];return _===e},e[_0x4962("0x5d5")]=function(x){return x instanceof r||(x=new r(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},e.verify=function(x){return(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?_0x4962("0x5d6"):null!=x.v&&x.hasOwnProperty("v")&&!o.isInteger(x.v)?_0x4962("0x5d7"):null!=x[_0x4962("0x5c6")]&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&!o.isInteger(x[_0x4962("0x5c6")])?_0x4962("0x5d8"):null!=x.ltime&&x[_0x4962("0x2")]("ltime")&&!o.isString(x[_0x4962("0x5b2")])?_0x4962("0x5d9"):null!=x[_0x4962("0x5c7")]&&x.hasOwnProperty(_0x4962("0x5c7"))&&!o.isString(x[_0x4962("0x5c7")])?_0x4962("0x5da"):null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!o[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x.tid&&x[_0x4962("0x2")](_0x4962("0x88"))&&!o[_0x4962("0x5db")](x.tid)?"tid: integer expected":null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&!o.isString(x.name)?_0x4962("0x5dd"):null!=x[_0x4962("0x5b3")]&&x[_0x4962("0x2")](_0x4962("0x5b3"))&&!o[_0x4962("0x36d")](x.nameEn)?_0x4962("0x5de"):null!=x[_0x4962("0x5b4")]&&x.hasOwnProperty("adcode")&&!o[_0x4962("0x36d")](x[_0x4962("0x5b4")])?_0x4962("0x5df"):null!=x.AS&&x[_0x4962("0x2")]("AS")&&typeof x.AS!==_0x4962("0x18a")?"AS: number expected":null!=x[_0x4962("0x5b5")]&&x[_0x4962("0x2")](_0x4962("0x5b5"))&&typeof x[_0x4962("0x5b5")]!==_0x4962("0x18a")?"AngleX: number expected":null!=x[_0x4962("0x5b6")]&&x[_0x4962("0x2")](_0x4962("0x5b6"))&&typeof x[_0x4962("0x5b6")]!==_0x4962("0x18a")?_0x4962("0x5e0"):null!=x[_0x4962("0x5b7")]&&x[_0x4962("0x2")](_0x4962("0x5b7"))&&"number"!=typeof x[_0x4962("0x5b7")]?_0x4962("0x5e1"):null!=x.x&&x[_0x4962("0x2")]("x")&&typeof x.x!==_0x4962("0x18a")?_0x4962("0x5e2"):null!=x.y&&x.hasOwnProperty("y")&&"number"!=typeof x.y?_0x4962("0x5e3"):null!=x.z&&x[_0x4962("0x2")]("z")&&typeof x.z!==_0x4962("0x18a")?"z: number expected":null!=x[_0x4962("0x5b8")]&&x[_0x4962("0x2")]("minX")&&!(o[_0x4962("0x5db")](x[_0x4962("0x5b8")])||x[_0x4962("0x5b8")]&&o[_0x4962("0x5db")](x[_0x4962("0x5b8")][_0x4962("0x5e4")])&&o[_0x4962("0x5db")](x[_0x4962("0x5b8")][_0x4962("0x5e5")]))?_0x4962("0x5e6"):null!=x[_0x4962("0x5bb")]&&x[_0x4962("0x2")](_0x4962("0x5bb"))&&!(o[_0x4962("0x5db")](x[_0x4962("0x5bb")])||x.minY&&o.isInteger(x[_0x4962("0x5bb")].low)&&o[_0x4962("0x5db")](x[_0x4962("0x5bb")][_0x4962("0x5e5")]))?_0x4962("0x5e7"):null!=x[_0x4962("0x5ca")]&&x[_0x4962("0x2")](_0x4962("0x5ca"))&&!(o[_0x4962("0x5db")](x[_0x4962("0x5ca")])||x.maxX&&o[_0x4962("0x5db")](x[_0x4962("0x5ca")][_0x4962("0x5e4")])&&o[_0x4962("0x5db")](x[_0x4962("0x5ca")][_0x4962("0x5e5")]))?"maxX: integer|Long expected":null!=x[_0x4962("0x5cb")]&&x.hasOwnProperty("maxY")&&!(o[_0x4962("0x5db")](x[_0x4962("0x5cb")])||x[_0x4962("0x5cb")]&&o[_0x4962("0x5db")](x[_0x4962("0x5cb")][_0x4962("0x5e4")])&&o[_0x4962("0x5db")](x[_0x4962("0x5cb")][_0x4962("0x5e5")]))?_0x4962("0x5e8"):null!=x[_0x4962("0x5bc")]&&x[_0x4962("0x2")](_0x4962("0x5bc"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5bc")])?_0x4962("0x5e9"):null!=x[_0x4962("0x5bd")]&&x[_0x4962("0x2")](_0x4962("0x5bd"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5bd")])?_0x4962("0x5ea"):null!=x.tileurl&&x[_0x4962("0x2")](_0x4962("0x5cc"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5cc")])?_0x4962("0x5eb"):null!=x[_0x4962("0x5cd")]&&x.hasOwnProperty(_0x4962("0x5cd"))&&!o[_0x4962("0x5db")](x[_0x4962("0x5cd")])?_0x4962("0x5ec"):null!=x[_0x4962("0x5be")]&&x[_0x4962("0x2")](_0x4962("0x5be"))&&!o[_0x4962("0x5db")](x.modnums)?"modnums: integer expected":null!=x[_0x4962("0x5bf")]&&x[_0x4962("0x2")](_0x4962("0x5bf"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5bf")])?_0x4962("0x5ed"):null!=x[_0x4962("0x5c0")]&&x[_0x4962("0x2")]("styleid")&&!o[_0x4962("0x36d")](x.styleid)?_0x4962("0x5ee"):null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")]("token")&&!o[_0x4962("0x36d")](x.token)?_0x4962("0x5ef"):null!=x[_0x4962("0x5c1")]&&x[_0x4962("0x2")](_0x4962("0x5c1"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5c1")])?_0x4962("0x5f0"):null!=x[_0x4962("0x5c2")]&&x[_0x4962("0x2")](_0x4962("0x5c2"))&&!o[_0x4962("0x36d")](x.logotoken)?_0x4962("0x5f1"):null!=x.tiletoken&&x.hasOwnProperty(_0x4962("0x5c3"))&&!o[_0x4962("0x36d")](x.tiletoken)?"tiletoken: string expected":null!=x.o1&&x[_0x4962("0x2")]("o1")&&!o[_0x4962("0x5db")](x.o1)?_0x4962("0x5f2"):null!=x.o2&&x.hasOwnProperty("o2")&&!o[_0x4962("0x5db")](x.o2)?"o2: integer expected":null!=x.ul&&x[_0x4962("0x2")]("ul")&&!o[_0x4962("0x5db")](x.ul)?_0x4962("0x5f3"):null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!o.isString(x[_0x4962("0x3de")])?_0x4962("0x5f4"):null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")]("other2")&&!o[_0x4962("0x36d")](x[_0x4962("0x5ce")])?_0x4962("0x5f5"):null!=x.l1&&x[_0x4962("0x2")]("l1")&&!o[_0x4962("0x5db")](x.l1)?_0x4962("0x5f6"):null!=x.l2&&x[_0x4962("0x2")]("l2")&&!o[_0x4962("0x5db")](x.l2)?_0x4962("0x5f7"):null!=x.l3&&x[_0x4962("0x2")]("l3")&&!o.isInteger(x.l3)?"l3: integer expected":null!=x.l4&&x.hasOwnProperty("l4")&&!o[_0x4962("0x5db")](x.l4)?_0x4962("0x5f8"):null!=x.alist&&x[_0x4962("0x2")](_0x4962("0x5cf"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5cf")])?_0x4962("0x5f9"):null!=x.eid&&x[_0x4962("0x2")]("eid")&&!o[_0x4962("0x36d")](x[_0x4962("0x5d0")])?_0x4962("0x5fa"):null!=x[_0x4962("0x5d1")]&&x.hasOwnProperty(_0x4962("0x5d1"))&&!o[_0x4962("0x36d")](x[_0x4962("0x5d1")])?_0x4962("0x5fb"):null!=x.fs&&x[_0x4962("0x2")]("fs")&&!o.isInteger(x.fs)?_0x4962("0x5fc"):null},e[_0x4962("0x5fd")]=function(x){if(x instanceof c[_0x4962("0x5b1")])return x;var _=new(c[_0x4962("0x5b1")]);return null!=x.v&&(_.v=0|x.v),null!=x.mtime&&(_[_0x4962("0x5c6")]=0|x[_0x4962("0x5c6")]),null!=x.ltime&&(_[_0x4962("0x5b2")]=String(x[_0x4962("0x5b2")])),null!=x[_0x4962("0x5c7")]&&(_.Hash=String(x[_0x4962("0x5c7")])),null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x._id),null!=x[_0x4962("0x88")]&&(_.tid=0|x[_0x4962("0x88")]),null!=x[_0x4962("0x107")]&&(_.name=String(x.name)),null!=x[_0x4962("0x5b3")]&&(_.nameEn=String(x[_0x4962("0x5b3")])),null!=x.adcode&&(_[_0x4962("0x5b4")]=String(x[_0x4962("0x5b4")])),null!=x.AS&&(_.AS=Number(x.AS)),null!=x[_0x4962("0x5b5")]&&(_[_0x4962("0x5b5")]=Number(x[_0x4962("0x5b5")])),null!=x[_0x4962("0x5b6")]&&(_[_0x4962("0x5b6")]=Number(x[_0x4962("0x5b6")])),null!=x.AngleZ&&(_[_0x4962("0x5b7")]=Number(x[_0x4962("0x5b7")])),null!=x.x&&(_.x=Number(x.x)),null!=x.y&&(_.y=Number(x.y)),null!=x.z&&(_.z=Number(x.z)),null!=x.minX&&(o[_0x4962("0x5b9")]?(_.minX=o.Long[_0x4962("0x5fe")](x.minX))[_0x4962("0x5ff")]=!1:typeof x.minX===_0x4962("0xd")?_[_0x4962("0x5b8")]=parseInt(x.minX,10):"number"==typeof x[_0x4962("0x5b8")]?_.minX=x[_0x4962("0x5b8")]:(0,t[_0x4962("0xc")])(x[_0x4962("0x5b8")])===_0x4962("0x9")&&(_.minX=new(o[_0x4962("0x600")])(x[_0x4962("0x5b8")].low>>>0,x[_0x4962("0x5b8")].high>>>0)[_0x4962("0x601")]())),null!=x[_0x4962("0x5bb")]&&(o[_0x4962("0x5b9")]?(_[_0x4962("0x5bb")]=o[_0x4962("0x5b9")][_0x4962("0x5fe")](x.minY)).unsigned=!1:typeof x.minY===_0x4962("0xd")?_[_0x4962("0x5bb")]=parseInt(x[_0x4962("0x5bb")],10):"number"==typeof x[_0x4962("0x5bb")]?_[_0x4962("0x5bb")]=x[_0x4962("0x5bb")]:"object"===(0,t.default)(x[_0x4962("0x5bb")])&&(_[_0x4962("0x5bb")]=new(o[_0x4962("0x600")])(x[_0x4962("0x5bb")][_0x4962("0x5e4")]>>>0,x.minY[_0x4962("0x5e5")]>>>0)[_0x4962("0x601")]())),null!=x.maxX&&(o[_0x4962("0x5b9")]?(_[_0x4962("0x5ca")]=o[_0x4962("0x5b9")][_0x4962("0x5fe")](x[_0x4962("0x5ca")]))[_0x4962("0x5ff")]=!1:"string"==typeof x[_0x4962("0x5ca")]?_.maxX=parseInt(x.maxX,10):"number"==typeof x[_0x4962("0x5ca")]?_[_0x4962("0x5ca")]=x[_0x4962("0x5ca")]:(0,t.default)(x[_0x4962("0x5ca")])===_0x4962("0x9")&&(_[_0x4962("0x5ca")]=new(o[_0x4962("0x600")])(x[_0x4962("0x5ca")][_0x4962("0x5e4")]>>>0,x[_0x4962("0x5ca")].high>>>0).toNumber())),null!=x.maxY&&(o[_0x4962("0x5b9")]?(_[_0x4962("0x5cb")]=o[_0x4962("0x5b9")][_0x4962("0x5fe")](x[_0x4962("0x5cb")]))[_0x4962("0x5ff")]=!1:typeof x[_0x4962("0x5cb")]===_0x4962("0xd")?_[_0x4962("0x5cb")]=parseInt(x.maxY,10):"number"==typeof x[_0x4962("0x5cb")]?_[_0x4962("0x5cb")]=x.maxY:(0,t.default)(x[_0x4962("0x5cb")])===_0x4962("0x9")&&(_.maxY=new o.LongBits(x[_0x4962("0x5cb")].low>>>0,x[_0x4962("0x5cb")].high>>>0).toNumber())),null!=x[_0x4962("0x5bc")]&&(_[_0x4962("0x5bc")]=String(x[_0x4962("0x5bc")])),null!=x[_0x4962("0x5bd")]&&(_.offsetroad=String(x[_0x4962("0x5bd")])),null!=x[_0x4962("0x5cc")]&&(_[_0x4962("0x5cc")]=String(x.tileurl)),null!=x[_0x4962("0x5cd")]&&(_[_0x4962("0x5cd")]=0|x[_0x4962("0x5cd")]),null!=x[_0x4962("0x5be")]&&(_[_0x4962("0x5be")]=0|x[_0x4962("0x5be")]),null!=x[_0x4962("0x5bf")]&&(_[_0x4962("0x5bf")]=String(x[_0x4962("0x5bf")])),null!=x[_0x4962("0x5c0")]&&(_[_0x4962("0x5c0")]=String(x[_0x4962("0x5c0")])),null!=x[_0x4962("0x8a")]&&(_.token=String(x[_0x4962("0x8a")])),null!=x[_0x4962("0x5c1")]&&(_[_0x4962("0x5c1")]=String(x[_0x4962("0x5c1")])),null!=x[_0x4962("0x5c2")]&&(_[_0x4962("0x5c2")]=String(x[_0x4962("0x5c2")])),null!=x[_0x4962("0x5c3")]&&(_[_0x4962("0x5c3")]=String(x.tiletoken)),null!=x.o1&&(_.o1=0|x.o1),null!=x.o2&&(_.o2=0|x.o2),null!=x.ul&&(_.ul=0|x.ul),null!=x[_0x4962("0x3de")]&&(_.other1=String(x[_0x4962("0x3de")])),null!=x[_0x4962("0x5ce")]&&(_[_0x4962("0x5ce")]=String(x[_0x4962("0x5ce")])),null!=x.l1&&(_.l1=0|x.l1),null!=x.l2&&(_.l2=0|x.l2),null!=x.l3&&(_.l3=0|x.l3),null!=x.l4&&(_.l4=0|x.l4),null!=x[_0x4962("0x5cf")]&&(_[_0x4962("0x5cf")]=String(x.alist)),null!=x[_0x4962("0x5d0")]&&(_[_0x4962("0x5d0")]=String(x.eid)),null!=x[_0x4962("0x5d1")]&&(_[_0x4962("0x5d1")]=String(x[_0x4962("0x5d1")])),null!=x.fs&&(_.fs=0|x.fs),_},e[_0x4962("0x602")]=function(x,_){_||(_={});var e={};if(_.defaults){if(e.v=0,e[_0x4962("0x5c6")]=0,e[_0x4962("0x5b2")]="",e.Hash="",e._id=0,e.tid=0,e[_0x4962("0x107")]="",e[_0x4962("0x5b3")]="",e.adcode="",e.AS=0,e.AngleX=0,e.AngleY=0,e[_0x4962("0x5b7")]=0,e.x=0,e.y=0,e.z=0,o.Long){var t=new(o[_0x4962("0x5b9")])(0,0,!1);e[_0x4962("0x5b8")]=_[_0x4962("0x603")]===String?t.toString():_[_0x4962("0x603")]===Number?t[_0x4962("0x601")]():t}else e.minX=_[_0x4962("0x603")]===String?"0":0;if(o[_0x4962("0x5b9")]){t=new(o[_0x4962("0x5b9")])(0,0,!1);e[_0x4962("0x5bb")]=_[_0x4962("0x603")]===String?t[_0x4962("0x18b")]():_[_0x4962("0x603")]===Number?t[_0x4962("0x601")]():t}else e[_0x4962("0x5bb")]=_[_0x4962("0x603")]===String?"0":0;if(o[_0x4962("0x5b9")]){t=new(o[_0x4962("0x5b9")])(0,0,!1);e[_0x4962("0x5ca")]=_[_0x4962("0x603")]===String?t[_0x4962("0x18b")]():_[_0x4962("0x603")]===Number?t.toNumber():t}else e.maxX=_[_0x4962("0x603")]===String?"0":0;if(o[_0x4962("0x5b9")]){t=new o.Long(0,0,!1);e.maxY=_[_0x4962("0x603")]===String?t.toString():_.longs===Number?t[_0x4962("0x601")]():t}else e[_0x4962("0x5cb")]=_[_0x4962("0x603")]===String?"0":0;e[_0x4962("0x5bc")]="",e[_0x4962("0x5bd")]="",e[_0x4962("0x5cc")]="",e.bidnums=0,e[_0x4962("0x5be")]=0,e[_0x4962("0x5bf")]="",e[_0x4962("0x5c0")]="",e.token="",e[_0x4962("0x5c1")]="",e[_0x4962("0x5c2")]="",e[_0x4962("0x5c3")]="",e.o1=0,e.o2=0,e.ul=0,e[_0x4962("0x3de")]="",e.other2="",e.l1=0,e.l2=0,e.l3=0,e.l4=0,e[_0x4962("0x5cf")]="",e[_0x4962("0x5d0")]="",e[_0x4962("0x5d1")]="",e.fs=0}return null!=x.v&&x[_0x4962("0x2")]("v")&&(e.v=x.v),null!=x[_0x4962("0x5c6")]&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&(e[_0x4962("0x5c6")]=x.mtime),null!=x[_0x4962("0x5b2")]&&x[_0x4962("0x2")]("ltime")&&(e[_0x4962("0x5b2")]=x[_0x4962("0x5b2")]),null!=x[_0x4962("0x5c7")]&&x.hasOwnProperty(_0x4962("0x5c7"))&&(e[_0x4962("0x5c7")]=x[_0x4962("0x5c7")]),null!=x._id&&x.hasOwnProperty(_0x4962("0x3df"))&&(e._id=x[_0x4962("0x3df")]),null!=x.tid&&x.hasOwnProperty("tid")&&(e[_0x4962("0x88")]=x[_0x4962("0x88")]),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&(e[_0x4962("0x107")]=x.name),null!=x[_0x4962("0x5b3")]&&x[_0x4962("0x2")](_0x4962("0x5b3"))&&(e.nameEn=x.nameEn),null!=x[_0x4962("0x5b4")]&&x[_0x4962("0x2")](_0x4962("0x5b4"))&&(e[_0x4962("0x5b4")]=x[_0x4962("0x5b4")]),null!=x.AS&&x[_0x4962("0x2")]("AS")&&(e.AS=_[_0x4962("0x102")]&&!isFinite(x.AS)?String(x.AS):x.AS),null!=x[_0x4962("0x5b5")]&&x.hasOwnProperty(_0x4962("0x5b5"))&&(e[_0x4962("0x5b5")]=_[_0x4962("0x102")]&&!isFinite(x.AngleX)?String(x.AngleX):x[_0x4962("0x5b5")]),null!=x[_0x4962("0x5b6")]&&x[_0x4962("0x2")](_0x4962("0x5b6"))&&(e[_0x4962("0x5b6")]=_[_0x4962("0x102")]&&!isFinite(x[_0x4962("0x5b6")])?String(x[_0x4962("0x5b6")]):x[_0x4962("0x5b6")]),null!=x[_0x4962("0x5b7")]&&x.hasOwnProperty("AngleZ")&&(e[_0x4962("0x5b7")]=_[_0x4962("0x102")]&&!isFinite(x.AngleZ)?String(x[_0x4962("0x5b7")]):x[_0x4962("0x5b7")]),null!=x.x&&x.hasOwnProperty("x")&&(e.x=_[_0x4962("0x102")]&&!isFinite(x.x)?String(x.x):x.x),null!=x.y&&x[_0x4962("0x2")]("y")&&(e.y=_.json&&!isFinite(x.y)?String(x.y):x.y),null!=x.z&&x[_0x4962("0x2")]("z")&&(e.z=_.json&&!isFinite(x.z)?String(x.z):x.z),null!=x[_0x4962("0x5b8")]&&x.hasOwnProperty(_0x4962("0x5b8"))&&(typeof x[_0x4962("0x5b8")]===_0x4962("0x18a")?e[_0x4962("0x5b8")]=_[_0x4962("0x603")]===String?String(x[_0x4962("0x5b8")]):x.minX:e.minX=_[_0x4962("0x603")]===String?o[_0x4962("0x5b9")][_0x4962("0x1")][_0x4962("0x18b")][_0x4962("0xf")](x[_0x4962("0x5b8")]):_[_0x4962("0x603")]===Number?new(o[_0x4962("0x600")])(x.minX[_0x4962("0x5e4")]>>>0,x[_0x4962("0x5b8")][_0x4962("0x5e5")]>>>0)[_0x4962("0x601")]():x[_0x4962("0x5b8")]),null!=x[_0x4962("0x5bb")]&&x.hasOwnProperty(_0x4962("0x5bb"))&&(typeof x[_0x4962("0x5bb")]===_0x4962("0x18a")?e.minY=_.longs===String?String(x[_0x4962("0x5bb")]):x.minY:e.minY=_[_0x4962("0x603")]===String?o.Long[_0x4962("0x1")].toString.call(x[_0x4962("0x5bb")]):_[_0x4962("0x603")]===Number?new(o[_0x4962("0x600")])(x[_0x4962("0x5bb")].low>>>0,x[_0x4962("0x5bb")][_0x4962("0x5e5")]>>>0).toNumber():x[_0x4962("0x5bb")]),null!=x[_0x4962("0x5ca")]&&x[_0x4962("0x2")]("maxX")&&(typeof x[_0x4962("0x5ca")]===_0x4962("0x18a")?e[_0x4962("0x5ca")]=_.longs===String?String(x[_0x4962("0x5ca")]):x[_0x4962("0x5ca")]:e[_0x4962("0x5ca")]=_[_0x4962("0x603")]===String?o[_0x4962("0x5b9")][_0x4962("0x1")][_0x4962("0x18b")].call(x[_0x4962("0x5ca")]):_[_0x4962("0x603")]===Number?new o.LongBits(x.maxX.low>>>0,x[_0x4962("0x5ca")][_0x4962("0x5e5")]>>>0)[_0x4962("0x601")]():x[_0x4962("0x5ca")]),null!=x[_0x4962("0x5cb")]&&x.hasOwnProperty(_0x4962("0x5cb"))&&(typeof x[_0x4962("0x5cb")]===_0x4962("0x18a")?e[_0x4962("0x5cb")]=_[_0x4962("0x603")]===String?String(x[_0x4962("0x5cb")]):x[_0x4962("0x5cb")]:e[_0x4962("0x5cb")]=_.longs===String?o[_0x4962("0x5b9")].prototype[_0x4962("0x18b")][_0x4962("0xf")](x.maxY):_[_0x4962("0x603")]===Number?new(o[_0x4962("0x600")])(x[_0x4962("0x5cb")][_0x4962("0x5e4")]>>>0,x[_0x4962("0x5cb")][_0x4962("0x5e5")]>>>0)[_0x4962("0x601")]():x[_0x4962("0x5cb")]),null!=x[_0x4962("0x5bc")]&&x.hasOwnProperty(_0x4962("0x5bc"))&&(e[_0x4962("0x5bc")]=x[_0x4962("0x5bc")]),null!=x[_0x4962("0x5bd")]&&x[_0x4962("0x2")](_0x4962("0x5bd"))&&(e.offsetroad=x.offsetroad),null!=x[_0x4962("0x5cc")]&&x[_0x4962("0x2")](_0x4962("0x5cc"))&&(e[_0x4962("0x5cc")]=x[_0x4962("0x5cc")]),null!=x[_0x4962("0x5cd")]&&x[_0x4962("0x2")](_0x4962("0x5cd"))&&(e.bidnums=x[_0x4962("0x5cd")]),null!=x.modnums&&x.hasOwnProperty(_0x4962("0x5be"))&&(e[_0x4962("0x5be")]=x[_0x4962("0x5be")]),null!=x.Remark&&x[_0x4962("0x2")](_0x4962("0x5bf"))&&(e.Remark=x.Remark),null!=x[_0x4962("0x5c0")]&&x[_0x4962("0x2")](_0x4962("0x5c0"))&&(e.styleid=x[_0x4962("0x5c0")]),null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")]("token")&&(e[_0x4962("0x8a")]=x[_0x4962("0x8a")]),null!=x[_0x4962("0x5c1")]&&x[_0x4962("0x2")](_0x4962("0x5c1"))&&(e[_0x4962("0x5c1")]=x[_0x4962("0x5c1")]),null!=x[_0x4962("0x5c2")]&&x[_0x4962("0x2")]("logotoken")&&(e.logotoken=x.logotoken),null!=x[_0x4962("0x5c3")]&&x.hasOwnProperty(_0x4962("0x5c3"))&&(e[_0x4962("0x5c3")]=x[_0x4962("0x5c3")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&(e.o1=x.o1),null!=x.o2&&x.hasOwnProperty("o2")&&(e.o2=x.o2),null!=x.ul&&x[_0x4962("0x2")]("ul")&&(e.ul=x.ul),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x[_0x4962("0x3de")]),null!=x.other2&&x.hasOwnProperty("other2")&&(e[_0x4962("0x5ce")]=x[_0x4962("0x5ce")]),null!=x.l1&&x[_0x4962("0x2")]("l1")&&(e.l1=x.l1),null!=x.l2&&x[_0x4962("0x2")]("l2")&&(e.l2=x.l2),null!=x.l3&&x.hasOwnProperty("l3")&&(e.l3=x.l3),null!=x.l4&&x.hasOwnProperty("l4")&&(e.l4=x.l4),null!=x[_0x4962("0x5cf")]&&x[_0x4962("0x2")]("alist")&&(e.alist=x[_0x4962("0x5cf")]),null!=x[_0x4962("0x5d0")]&&x.hasOwnProperty(_0x4962("0x5d0"))&&(e[_0x4962("0x5d0")]=x[_0x4962("0x5d0")]),null!=x.bidlist&&x.hasOwnProperty("bidlist")&&(e[_0x4962("0x5d1")]=x[_0x4962("0x5d1")]),null!=x.fs&&x[_0x4962("0x2")]("fs")&&(e.fs=x.fs),e},e[_0x4962("0x1")].toJSON=function(){return this[_0x4962("0x604")].toObject(this,n[_0x4962("0x5af")][_0x4962("0x605")])},e[_0x4962("0x606")]=function(x){return void 0===x&&(x=_0x4962("0x607")),x+_0x4962("0x608")},e}(),x.exports=c},,,,function(x,_,e){"use strict";var t=c(e(115)),i=function(x){if(x&&x.__esModule)return x;var _={};if(null!=x)for(var e in x)Object[_0x4962("0x1")][_0x4962("0x2")].call(x,e)&&(_[e]=x[e]);return _[_0x4962("0xc")]=x,_}(e(166)),a=c(e(257)),n=e(76),r=e(20),s=c(e(141)),o=c(e(263));function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var l=i[_0x4962("0x609")];window[_0x4962("0x60a")]=l;var f=window.em=l;window.esWorker=i.esWorker;var d=window.esmap={version:"1.0.2",minV:1,maxV:2};d[_0x4962("0x60b")]=!1,d.TWEEN=o[_0x4962("0xc")],window[_0x4962("0xe7")].Ajax=s[_0x4962("0xc")],d[_0x4962("0x8c")]=a[_0x4962("0xc")],d[_0x4962("0x1c4")]=n[_0x4962("0x1c4")],d[_0x4962("0x37")]=r[_0x4962("0x37")],e(264),e(265),e(266),e(267),e(268),e(269),e(270),e(271),e(273),e(274),e(275),e(276),l[_0x4962("0x60c")]=function(){this[_0x4962("0x60d")]=[]},l[_0x4962("0x60c")].delay=function(x){var _=new(l[_0x4962("0x60c")]);return setTimeout((function(){_[_0x4962("0xdc")]()}),x),_},l[_0x4962("0x60c")][_0x4962("0x1")]={constructor:l[_0x4962("0x60c")],then:function(x){return this.callbacks[_0x4962("0x3")](x),this},resolve:function(x){var _=this;setTimeout((function(){for(var x=0;x<_.callbacks.length;x++){var e=_[_0x4962("0x60d")][x]();if(e instanceof l[_0x4962("0x60c")])for(x++;x<_[_0x4962("0x60d")][_0x4962("0x0")];x++)e[_0x4962("0x2dd")](_.callbacks[x])}}),0)}},d[_0x4962("0x60e")]={EXTENT_EPSILON_Y:-.01,SCENE_AXIS:!1},d[_0x4962("0x60f")]={create:function(x,_){return new u(x,_)}},d[_0x4962("0x610")]={setUrl:function(x){this[_0x4962("0xf6")][_0x4962("0x48")]&&this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0xf5")](),this[_0x4962("0xf6")][_0x4962("0x48")]=d[_0x4962("0x8c")][_0x4962("0x611")](x),this.material[_0x4962("0x48")][_0x4962("0x187")]=!0}},d.ESDirection={NORTH:"n",SOUTH:"s",WEST:"w",EAST:"e",NORTH_EAST:"ne",NORTH_WEST:"nw",SOUTH_EAST:"se",SOUTH_WEST:"sw"},d.ESLayerType={NONE:_0x4962("0x612"),FLOOR_BASE:_0x4962("0x613"),MODEL:_0x4962("0x288"),MODEL_POI:_0x4962("0x614"),MODEL_LABEL:_0x4962("0x615"),MODEL_LINE:"modelLine",MODEL_IMAGE:"modelImage",MODEL_BASE:_0x4962("0x616"),MODEL3D:"model3d",EXTERANL_MODEL:_0x4962("0x617"),POLYGON_MARKER:"polygonMarker",LOCATION_MARKER:"locationMarker",LINE_MARKER:_0x4962("0x618"),IMAGE_MARKER:"imageMarker",TEXT_MARKER:_0x4962("0x619"),CARD_MARKER:_0x4962("0x61a"),BOARD_MARKER:"boardMarker",MAP_ROAD:_0x4962("0x61b")},d.ESNaviMode={MAN:1,CAR:2},d.MapMode={Building:(0,t.default)(1),City:(0,t.default)(2)},d[_0x4962("0x61c")]={NONE:(0,t[_0x4962("0xc")])(0),SINGLE:(0,t[_0x4962("0xc")])(1),PLANISH:(0,t[_0x4962("0xc")])(2)},d[_0x4962("0x38d")]={NORMAL:"normal",NEAR:_0x4962("0x61d")},d[_0x4962("0x61e")]={NONE:_0x4962("0x612"),MODEL:"model",MODEL_POI:_0x4962("0x61f"),MODEL_LABEL:_0x4962("0x615"),MODEL_IMAGE:_0x4962("0x598"),MODEL_BASE:"modelBase",MODEL3D:_0x4962("0x1e8"),EXTERANL_MODEL:_0x4962("0x617"),POLYGON_MARKER:"polygonMarker"},d[_0x4962("0x171")]={floorBase:10,model:76,polygonMarker:76,externalModel:20,label:77,facility:77,textMarker:77,imageMarker:77,locationMarker:78,cardMarker:77,transparentLine:76,lineObject:76,model3D:76,modelImage:76,tileRouteLine:76},d[_0x4962("0x289")]={EXPIRED:"This map has already expired,please contact esmap to download the latest map!",TOKEN_MISS:_0x4962("0x620"),TOKEN_ERR:_0x4962("0x621"),VERS_ERR:_0x4962("0x622"),ES3DMARKERNUM_ERR:_0x4962("0x623"),AUDIO_TOKEN:_0x4962("0x624"),ARRAY_REQUIRED:"Data type must be an array",VIEW_MODE2D_ALLFNUM:"You cannot display allFloors in viewMode 2d",TOO_FAST:"Your operation frequency is too fast. Please try again later.",INVALID_TYPE:_0x4962("0x625"),AUTH_EXPIRED:_0x4962("0x626"),AUTH_FAILED:_0x4962("0x627"),INVALID_OFFLICENSE:_0x4962("0x628"),AUTHO_REQUIRED:"This feature is not authorized",WEBGL_CONTEXT_LOST:"Webgl Context Lost",WEBGL_CONTEXT_RESTORED:"Webgl Context Restored",MAP_INSTANCE_REPEAT:"Repeated creation of map instances"},d[_0x4962("0x134")]={NONE:0,FLOOR:4,MODEL:5,MODEL3D:6,MODEL_IMAGE:7,FACILITY:11,LABEL:12,LINE:21,IMAGE_MARKER:31,LINE_MARKER:35,TEXT_MARKER:32,LOCATION_MARKER:33,CARD_MARKER:34,POLYGON_MARKER:100,EFFECT_MARKER:200,ALL:65535,ELEMENT:100},d.ESLineMode={PLANE:_0x4962("0x12b"),CIRCLE:_0x4962("0x17f")},d.ESLineType={FULL:_0x4962("0x629"),DOTTED:"dotted",DOT_DASH:"dotDash",CENTER:"center",DASH:"dash",DOUBLE_DOT_DASH:_0x4962("0x62a"),TRI_DOT_DASH:_0x4962("0x62b"),NORMAL:_0x4962("0x141"),ARROW:_0x4962("0x16a"),RAW:"raw",ESARROW:_0x4962("0x62c"),TEXTURE:"texture"},d[_0x4962("0x62d")]={MODE_3D:"3D",MODE_2D:"2D"},d[_0x4962("0x62e")]={Map_CONTROL_SMALL:_0x4962("0x62f"),Map_CONTROL_NORMAL:_0x4962("0x141")},d[_0x4962("0x630")]={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},d.ESBuildingType={TILE:1,BUILDING:2,BASE:3},d[_0x4962("0x631")]={SINGLE_FLOOR:1,MULTI_FLOOR:2},window[_0x4962("0x632")]=function(x){d.ESMap=function(x){var _;_=x&&x[_0x4962("0x547")]?x[_0x4962("0x547")]:document.body,(new(d[_0x4962("0x633")]))[_0x4962("0x634")](_)},window.onerror=null};var u=e(277)[_0x4962("0xc")],h=e(278)[_0x4962("0xc")];d[_0x4962("0x633")]=e(76)[_0x4962("0xc")],f[_0x4962("0x635")]=e(327)[_0x4962("0xc")],d.ESComposerRender=e(328)[_0x4962("0xc")],d[_0x4962("0x636")]=e(329).default,d.ESMapBoxCollision=e(335)[_0x4962("0xc")],d[_0x4962("0x27c")]=e(336)[_0x4962("0xc")],d[_0x4962("0x637")]=e(151)[_0x4962("0x637")],d[_0x4962("0x453")]=e(32)[_0x4962("0x453")],d[_0x4962("0x638")]=e(337).default,d.ESMapSceneUtil=e(340)[_0x4962("0xc")],d[_0x4962("0x639")]=e(341)[_0x4962("0xc")],d[_0x4962("0x63a")]=e(342)[_0x4962("0xc")],d.ESWaterMark=e(343)[_0x4962("0xc")],d[_0x4962("0x335")]=e(150).default,d[_0x4962("0x63b")]=e(344)[_0x4962("0xc")],d[_0x4962("0x3f6")]=e(345)[_0x4962("0xc")],d.ESLabel=e(348)[_0x4962("0xc")],d[_0x4962("0x63c")]=e(349).default,d[_0x4962("0x63d")]=e(351)[_0x4962("0xc")],d[_0x4962("0x63e")]=e(353)[_0x4962("0xc")],d[_0x4962("0x63f")]=e(354)[_0x4962("0xc")],d[_0x4962("0x640")]=e(355)[_0x4962("0xc")],d[_0x4962("0x551")]=e(356)[_0x4962("0xc")],d[_0x4962("0x641")]=e(357)[_0x4962("0xc")],d[_0x4962("0x642")]=e(358)[_0x4962("0xc")],d[_0x4962("0x3d5")]=e(359)[_0x4962("0xc")],d[_0x4962("0x643")]=e(360)[_0x4962("0xc")],d[_0x4962("0x644")]=e(361).default,d.ESScrollFloorsControl=e(362).default,d.ESZoomControl=e(363).default,d[_0x4962("0x645")]=e(364)[_0x4962("0xc")],d[_0x4962("0x646")]=e(369)[_0x4962("0xc")],d[_0x4962("0x647")]=e(370)[_0x4962("0xc")],d[_0x4962("0x648")]=e(371)[_0x4962("0xc")],d[_0x4962("0x649")]=e(372)[_0x4962("0xc")],d[_0x4962("0x64a")]=e(373)[_0x4962("0xc")],d[_0x4962("0x64b")]=e(374)[_0x4962("0xc")],d[_0x4962("0x64c")]=e(114)[_0x4962("0xc")],d.ESWebViewMarker=function(){_0x4962("0x64d")},d.ESTextureLine=e(63)[_0x4962("0xc")],d[_0x4962("0x401")]=e(378)[_0x4962("0xc")],d[_0x4962("0x64e")]=e(379)[_0x4962("0xc")],d[_0x4962("0x64f")]=e(380).default,d[_0x4962("0x650")]=e(381).default,d.ESTile=e(110)[_0x4962("0xc")],d[_0x4962("0x651")]=e(382)[_0x4962("0xc")],d.ESMTT=e(111)[_0x4962("0xc")],d.ESTexture=e(385)[_0x4962("0xc")],d[_0x4962("0x652")]=e(386)[_0x4962("0xc")],d[_0x4962("0x653")]=e(388)[_0x4962("0xc")],d.FirstPersonControls_2=e(389)[_0x4962("0xc")],d.FreeFlyControls=e(390).default,e(391),d[_0x4962("0x33")]=h,window[_0x4962("0x632")]=null},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=A(e(60)),i=A(e(47)),n=A(e(7)),r=A(e(8)),s=A(e(9)),o=A(e(23)),c=A(e(15)),l=A(e(61)),f=A(e(0)),d=A(e(1)),u=A(e(106)),h=A(e(260)),g=(e(4),e(261)),b=e(42),v=e(51),m=A(e(24));function A(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var y=1e-5,C=null,I=function(){function x(){(0,f[_0x4962("0xc")])(this,x)}var _;return(0,d.default)(x,null,[{key:_0x4962("0x461"),value:function(x){var _=x[_0x4962("0x2d")](",");if(_[_0x4962("0x0")]<3&&(_=esmap[_0x4962("0x8c")][_0x4962("0x654")](x)[_0x4962("0x2d")](","))[_0x4962("0x0")]<3)return console[_0x4962("0xe0")]("color format error",x),0;return parseInt(_[0])<<16|parseInt(_[1])<<8|parseInt(_[2])}},{key:_0x4962("0x655"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:0,_=esmap[_0x4962("0x33")][_0x4962("0x3a")];return _[_0x4962("0x3c")]==esmap[_0x4962("0x40")].Building?_.mapService[_0x4962("0x80")]("o2")/Math[_0x4962("0xf7")](10,x)%10:_.mapService[_0x4962("0x80")]("l"+x)}},{key:_0x4962("0x656"),value:function(x){var _=x.split(",");return"#"+((1<<24)+(parseInt(_[0])<<16)+(parseInt(_[1])<<8)+parseInt(_[2]))[_0x4962("0x18b")](16)[_0x4962("0x1e7")](1)}},{key:"hexToRgb",value:function(x){var _=x[_0x4962("0x353")]();if(_&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/[_0x4962("0x2c")](_)){if(4===_[_0x4962("0x0")]){for(var e="#",t=1;t<4;t+=1)e+=_[_0x4962("0x1e7")](t,t+1)[_0x4962("0x12")](_.slice(t,t+1));_=e}var i=[];for(t=1;t<7;t+=2)i[_0x4962("0x3")](parseInt("0x"+_[_0x4962("0x1e7")](t,t+2)));return i[_0x4962("0x32")](",")}return _}},{key:"intersectPolygons",value:function(x,_){return(0,g.intersectsPolygonAndPolygonNew)(x,_)}},{key:_0x4962("0x657"),value:function(x,_){return(0,g[_0x4962("0x658")])(x,_)}},{key:_0x4962("0x659"),value:function(x){var _=x[_0x4962("0x2d")](",");return _.length>=3?_0x4962("0x65a")+parseInt(_[0])+","+parseInt(_[1])+","+parseInt(_[2])+_0x4962("0x65b"):(console[_0x4962("0xe0")](_0x4962("0x65c"),x),0)}},{key:_0x4962("0x65d"),value:function(x){return x&&x instanceof esmap[_0x4962("0x551")]?x[_0x4962("0x34")]:x[_0x4962("0xf2")]&&x[_0x4962("0xf2")][_0x4962("0x17b")]?esmap.ESMapUtil.getMapScene(x.o3d_[_0x4962("0x17b")][_0x4962("0xf1")]):null}},{key:"getAlias",value:function(x){return x._type_||null}},{key:"getControlsInfo",value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")].controls;return x&&(_=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x65e")]),{target:_[_0x4962("0x2c5")].x[_0x4962("0x65f")](3)+","+_[_0x4962("0x2c5")].y[_0x4962("0x65f")](3)+","+_.target.z.toFixed(3),position:_[_0x4962("0x9")][_0x4962("0x106")].x[_0x4962("0x65f")](3)+","+_[_0x4962("0x9")].position.y.toFixed(3)+","+_[_0x4962("0x9")].position.z[_0x4962("0x65f")](3)}}},{key:_0x4962("0x660"),value:function(x,_){var e=_-x;return Math[_0x4962("0x231")](e)>180&&(e=-1*(0,l.default)(e)*360+e),e}},{key:_0x4962("0x661"),value:function(x){var _=esmap.ESMap[_0x4962("0x3a")].controls,e=x[_0x4962("0x2c5")][_0x4962("0x2d")](","),t=x.position[_0x4962("0x2d")](","),i=new(THREE[_0x4962("0x12c")])(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])),a=new(THREE[_0x4962("0x12c")])(parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2]));_[_0x4962("0x2c5")][_0x4962("0x206")](i),_[_0x4962("0x9")][_0x4962("0x106")][_0x4962("0x206")](a),_[_0x4962("0x165")]()}},{key:"getPlatform",value:function(){for(var x=navigator[_0x4962("0x505")],_=new Array(_0x4962("0x662"),_0x4962("0x663"),"SymbianOS",_0x4962("0x664"),_0x4962("0x665"),_0x4962("0x666")),e=!0,t="PC",i=!1,a=0;a<_[_0x4962("0x0")];a++)if(x[_0x4962("0xaf")](_[a])>0){e=!1,t=_[a],x.indexOf("MicroMessenger")>0&&(i=!0);break}return{isPC:e,isWX:i,platform:t}}},{key:_0x4962("0x667"),value:function(x){for(var _=esmap[_0x4962("0x8c")][_0x4962("0x668")](x),e=(0,b.getTileFromMec)(_[_0x4962("0x5ca")],_.maxY,15),t=(0,b[_0x4962("0xed")])(_.minX,_.minY,15),i=t.x,a=e.x,n=t.y,r=e.y,s=[],o=i;o<=a;o++)for(var c=n;c<=r;c++){var l=o+"_"+c;s.push(l)}return s}},{key:_0x4962("0x169"),value:function(x,_){var e=null,t=100;if("3D"==x.viewMode){if(_0x4962("0x18a")==typeof _)t=_;else{var i=null!=_?_[_0x4962("0x216")](new(THREE[_0x4962("0x12c")])):x.controls.target;t=x[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x23a")](i)}e=2*esmap.ESMapUtil.getOrthoCameraSizeByPerspectiveCamera(x[_0x4962("0x1c6")][_0x4962("0x669")],x[_0x4962("0x260")],t).top/x.height}else"2D"==x.viewMode&&(e=2*x[_0x4962("0x260")][_0x4962("0x9")][_0x4962("0x35c")]/x[_0x4962("0x260")].object[_0x4962("0x66a")]/x.height);return e}},{key:"isArray",value:function(x){return Object.prototype[_0x4962("0x18b")][_0x4962("0xf")](x)==_0x4962("0x66b")}},{key:_0x4962("0x66c"),value:function(x){var _={x:(x[_0x4962("0x5ca")]-x[_0x4962("0x5b8")])/2+x[_0x4962("0x5b8")],y:(x[_0x4962("0x5cb")]-x[_0x4962("0x5bb")])/2+x.minY},e=esmap.ESMap[_0x4962("0x3a")];return{target:_,radius:Math[_0x4962("0x300")]((x[_0x4962("0x5ca")]-x[_0x4962("0x5b8")])/2,(x.maxY-x[_0x4962("0x5bb")])/2)/Math[_0x4962("0x66d")](e[_0x4962("0x3ec")][_0x4962("0x66e")]*(Math.PI/180)/2)}}},{key:_0x4962("0x66f"),value:function(x,_,e){x instanceof esmap[_0x4962("0x33")]&&(e=_,_=x[_0x4962("0x260")],x=x[_0x4962("0x1c6")][_0x4962("0x669")]);var t=x[_0x4962("0x66e")],i=x[_0x4962("0x670")],a=null!=e?e:_[_0x4962("0x2c5")].distanceTo(x[_0x4962("0x106")]),n=Math[_0x4962("0x671")](t*THREE[_0x4962("0x20e")][_0x4962("0x599")]/2)*a;return{top:n||1,right:2*n*i/2}}},{key:_0x4962("0x672"),value:function(x,_,e,t,i){function a(x,_){if(t&&t(x)&&(_&&(x.o3d_=_),r.push(x)),i)return i==r[_0x4962("0x0")]}var n,r=[];n=1==x[_0x4962("0x213")]?x[_0x4962("0x3c3")]:x[_0x4962("0x673")]?x.getFloor(_):x;var s=x[_0x4962("0x3cc")];if(s)for(var o in s)if(s[o]){var c=s[o].modelbaselayer[0].modelbases,l=s[o][_0x4962("0x674")][0][_0x4962("0x675")],f=c[_0x4962("0x12")](l);for(var d in f){var u=f[d],h={ID:u[_0x4962("0x402")],name:u[_0x4962("0x107")],mapCoord:{x:u.OCenX,y:u[_0x4962("0x676")]},dataID:u.FC,typeID:u[_0x4962("0x57e")],RoomHigh:u.RoomHigh,RoomStyle:u[_0x4962("0x57f")],buildingFnums:u[_0x4962("0x191")],mapId:u[_0x4962("0x677")],nodeType:esmap[_0x4962("0x134")][_0x4962("0x678")],pending:!0};if(a(h,null))return r}}return n&&n[_0x4962("0x408")](e,(function(x){if(null!=t)for(var _=x[_0x4962("0xf2")][_0x4962("0xf3")][_0x4962("0x0")],e=0;e<_;e++){var i=x.o3d_[_0x4962("0xf3")][e].datas_;if(i){var n=i[_0x4962("0x480")],s=x[_0x4962("0xf2")][_0x4962("0xf3")][e];if(n){for(var o=n[_0x4962("0x0")],c=0;c<o;c++)if(a(n[c],s))return n[c].o3d_=s,r;if(x[_0x4962("0xf2")][_0x4962("0xf3")][e][_0x4962("0x166")][_0x4962("0x443")])for(var l=x[_0x4962("0xf2")][_0x4962("0xf3")][e][_0x4962("0xf3")],f=l[_0x4962("0x0")],d=0;d<f;d++)if(l[d].datas_&&a(l[d][_0x4962("0xf1")],l[d][_0x4962("0xf1")][_0x4962("0xf2")]))return r}else if(i[_0x4962("0x443")])s.traverse((function(x){if(x.datas_&&a(x[_0x4962("0xf1")],x[_0x4962("0xf2")]))return x[_0x4962("0xf1")]}));else if(a(i))return i[_0x4962("0xf2")]=s,r}}else r=x[_0x4962("0xf2")][_0x4962("0xf3")].reduce((function(x,_){return x.push.apply(x,null!=_[_0x4962("0xf1")][_0x4962("0x480")]?_[_0x4962("0xf1")][_0x4962("0x480")]:[_.datas_]),x}),[])})),r}},{key:_0x4962("0x679"),value:function(x){var _=x[_0x4962("0x132")],e=x[_0x4962("0x12e")],t=x[_0x4962("0x130")],i=x[_0x4962("0x1a5")],a=x.callback,n=x[_0x4962("0x67a")],r=x[_0x4962("0x67b")];null==i&&(i=1);var s=[][_0x4962("0x12")](_);t||(t=esmap[_0x4962("0x33")][_0x4962("0x3a")].id);var o=esmap[_0x4962("0x33")][_0x4962("0x3a")].getBuildingById(t);if(o){if(esmap[_0x4962("0x33")][_0x4962("0x3a")].mode===esmap.MapMode.City&&1===o[_0x4962("0x213")]){var l=!0,f=!1,d=void 0;try{for(var u,h=function(){var _=u[_0x4962("0xe3")],t=_[_0x4962("0xf2")];esmap[_0x4962("0x8c")][_0x4962("0x26d")]({target:t,alpha:e,clonemat:n,noOcclusion:r,hideOnComplete:x[_0x4962("0x67c")],onUpdate:function(x){_.o3d_[_0x4962("0x67d")]||(_[_0x4962("0xf2")][_0x4962("0x67d")]={}),_[_0x4962("0xf2")][_0x4962("0x67d")][_0x4962("0x2")](x[_0x4962("0x195")])||(_[_0x4962("0xf2")][_0x4962("0x67d")][x[_0x4962("0x195")]]=x[_0x4962("0x145")])},time:i})},g=(0,c[_0x4962("0xc")])(esmap.ESMap[_0x4962("0x3a")][_0x4962("0x67e")]);!(l=(u=g.next())[_0x4962("0x426")]);l=!0)h()}catch(x){f=!0,d=x}finally{try{!l&&g[_0x4962("0x28c")]&&g[_0x4962("0x28c")]()}finally{if(f)throw d}}}else{var b=function(_){var t=s[_],a=o[_0x4962("0x673")](t);if(a){var c=a[_0x4962("0xf2")];esmap[_0x4962("0x8c")][_0x4962("0x26d")]({target:c,alpha:e,clonemat:n,noOcclusion:r,hideOnComplete:x.hideOnComplete,onUpdate:function(x){a[_0x4962("0xf2")][_0x4962("0x67d")]||(a[_0x4962("0xf2")][_0x4962("0x67d")]={}),a[_0x4962("0xf2")].lastAlpha[_0x4962("0x2")](x[_0x4962("0x195")])||(a.o3d_[_0x4962("0x67d")][x.uuid]=x[_0x4962("0x145")])},time:i})}};for(var v in s)b(v)}setTimeout((function(){a&&a()}),1e3*i)}}},{key:_0x4962("0x67f"),value:function(x){var _=x[_0x4962("0x132")],e=x[_0x4962("0x130")],t=x.time,i=x[_0x4962("0x1b3")],a=x[_0x4962("0x67a")],n=esmap[_0x4962("0x33")][_0x4962("0x3a")];e||(e=n.id);var r=n[_0x4962("0x139")](e),s=(r[_0x4962("0x680")][_],[].concat(_));null==t&&(t=1);var o=function(_){var e=s[_],i=r[_0x4962("0x673")](e);if(i){var n=i[_0x4962("0xf2")];esmap[_0x4962("0x8c")][_0x4962("0x26d")]({target:n,alpha:!1,clonemat:a,hideOnComplete:x.hideOnComplete,onUpdate:function(x){i[_0x4962("0xf2")][_0x4962("0x67d")]||(i.o3d_[_0x4962("0x67d")]={}),i[_0x4962("0xf2")][_0x4962("0x67d")][_0x4962("0x2")](x[_0x4962("0x195")])||(i.o3d_[_0x4962("0x67d")][x[_0x4962("0x195")]]=x[_0x4962("0x145")])},time:t})}};for(var c in s)o(c);setTimeout((function(){i&&i()}),1e3*t)}},{key:"getModelTypesCount",value:function(){var x=esmap.ESMap[_0x4962("0x3a")];if(x[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")])return x.getBuilding()[_0x4962("0x264")].modelStatic[_0x4962("0x681")];var _=0,e=!0,t=!1,i=void 0;try{for(var a,n=(0,c[_0x4962("0xc")])(x[_0x4962("0x67e")]);!(e=(a=n.next())[_0x4962("0x426")]);e=!0){_+=a[_0x4962("0xe3")].modelLoadManager.modelStatic[_0x4962("0x681")]}}catch(x){t=!0,i=x}finally{try{!e&&n[_0x4962("0x28c")]&&n[_0x4962("0x28c")]()}finally{if(t)throw i}}return _}},{key:_0x4962("0x682"),value:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];return x[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?x[_0x4962("0x578")]().modelLoadManager[_0x4962("0x3cf")].roomModelsCount:x[_0x4962("0x7f")][_0x4962("0x3d1")]}},{key:_0x4962("0x683"),value:function(){return _0x4962("0x684")}},{key:_0x4962("0x685"),value:function(x,_){var e,t=[],i=esmap.ESMap[_0x4962("0x3a")],a=(t.length,x[_0x4962("0x686")]||"ID"),n=[][_0x4962("0x12")](x[_0x4962("0x57b")]),r=n.length;return i[_0x4962("0x687")][_0x4962("0x20")]((function(_){e=[].concat((0,o[_0x4962("0xc")])(x.fnum?[x[_0x4962("0x132")]]:_.floorNums));var i=!0,s=!1,l=void 0;try{for(var f,d=(0,c[_0x4962("0xc")])(e);!(i=(f=d[_0x4962("0x286")]())[_0x4962("0x426")]);i=!0){var u=f.value;t.push[_0x4962("0x2a4")](t,esmap[_0x4962("0x8c")][_0x4962("0x672")](_,u,[_0x4962("0x288")],(function(x){return n[_0x4962("0x63")](x[a])}),a==_0x4962("0x107")?void 0:r))}}catch(x){s=!0,l=x}finally{try{!i&&d[_0x4962("0x28c")]&&d[_0x4962("0x28c")]()}finally{if(s)throw l}}})),_&&_(t),t}},{key:"m",value:function(x){return x>y}},{key:"n",value:function(x){return x<-1e-5}},{key:"l",value:function(x){return x<y&&x>-1e-5}},{key:"o",value:function(x,_,e,t){var i=_.x,a=_.y,n=e.x,r=e.y,s=x.x,o=x.y,c=n-i,l=r-a,f=Math.sqrt(c*c+l*l),d=s-i,u=o-a,h=Math[_0x4962("0x120")](d*d+u*u);if(esmap.ESMapUtil.l(f))return esmap[_0x4962("0x8c")].l(h)?(t.x=_.x,t.y=_.y,0):(t.x=_.x,t.y=_.y,h);var g=c/f,b=l/f,v=g*d+b*u;if(!esmap.ESMapUtil.m(v))return t.x=_.x,t.y=_.y,h;if(!esmap[_0x4962("0x8c")].n(v-f)){var p=s-n,m=o-r,A=Math[_0x4962("0x120")](p*p+m*m);return t.x=e.x,t.y=e.y,A}var y=i+v*g,C=a+v*b,I=s-y,E=o-C,w=Math[_0x4962("0x120")](I*I+E*E);return t.x=y,t.y=C,w}},{key:_0x4962("0x26d"),value:function(x){var _,e,t,i=x.onUpdate;return new(s[_0x4962("0xc")])((function(a){if(x.target[_0x4962("0x166")].islocked)a();else{x.target[_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")]&&!x[_0x4962("0xf6")][_0x4962("0x688")])if(x.material instanceof Array)for(var _ in x[_0x4962("0xf6")]){var e=x[_0x4962("0xf6")][_];e[_0x4962("0x166")]&&(e[_0x4962("0x166")]._settedAlpha&&(e[_0x4962("0x166")]._settedAlpha=!1))}else x.material[_0x4962("0x166")][_0x4962("0x45b")]&&(x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x45b")]=!1)})),x[_0x4962("0x2c5")][_0x4962("0x166")].islocked=!0,typeof x==_0x4962("0x18a")?(_=x,e=1,t=!1):(_=x[_0x4962("0x12e")],e=null==x[_0x4962("0x1a5")]?1:x[_0x4962("0x1a5")],t=null!=x[_0x4962("0x26e")]&&x[_0x4962("0x26e")]),x[_0x4962("0x17c")]&&(x[_0x4962("0x2c5")].visible=x[_0x4962("0x17c")]);var n=x[_0x4962("0x67c")],r=[],s=function(t){if(!t._ignoreAlpha)if(t[_0x4962("0x166")][_0x4962("0x45b")])n&&x[_0x4962("0x2c5")][_0x4962("0x17c")]&&(x[_0x4962("0x2c5")].visible=!1);else{var a=_;!1===_?(a=t[_0x4962("0x166")][_0x4962("0x145")],t[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x26c"))&&(t.transparent=t[_0x4962("0x166")][_0x4962("0x26c")],t[_0x4962("0x689")]&&(t[_0x4962("0x16f")]=!0))):(t.userData.hasOwnProperty("istransparent")||(t[_0x4962("0x166")].istransparent=t[_0x4962("0x144")],t[_0x4962("0x166")].opacity=t[_0x4962("0x145")],x.seeThrough&&(t.depthTest=!1)),t[_0x4962("0x144")]=1!==_,x[_0x4962("0x67b")]&&(t[_0x4962("0x16f")]=!1,t[_0x4962("0x689")]=!0)),t.userData[_0x4962("0x45b")]=!0,r[_0x4962("0x3")](t),i&&i(t),new(esmap.TWEEN[_0x4962("0x1a7")])(t).to({opacity:a},1e3*e)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Linear[_0x4962("0x245")])[_0x4962("0x1b0")]((function(){}))[_0x4962("0x1b1")]()}};if(x.id&&x[_0x4962("0x2c5")].datas_&&6==x[_0x4962("0x2c5")][_0x4962("0xf1")][_0x4962("0x125")]&&x[_0x4962("0x2c5")][_0x4962("0xf1")][_0x4962("0x480")]){var o=esmap[_0x4962("0x33")][_0x4962("0x3a")];o[_0x4962("0x139")](o.id)[_0x4962("0x264")].GLTFMergeTool[_0x4962("0x68a")](x.id,x[_0x4962("0x2c5")],_,e,n)}else{x[_0x4962("0x2c5")][_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")]&&!x[_0x4962("0xf6")][_0x4962("0x688")])if(x.material instanceof Array)for(var _ in x[_0x4962("0xf6")]){var e=x[_0x4962("0xf6")][_],i=e.type==_0x4962("0x546");e.userData&&(t&&!i&&(x[_0x4962("0xf6")][_]=e.clone(),e=x[_0x4962("0xf6")][_]),s(e))}else{var a=x[_0x4962("0xf6")][_0x4962("0x9d")]==_0x4962("0x546");t&&!a&&x.material&&(x.material[_0x4962("0x107")]&&x[_0x4962("0xf6")].name==_0x4962("0x68b")||(x[_0x4962("0xf6")]=x[_0x4962("0xf6")][_0x4962("0x126")]())),s(x.material)}}));setTimeout((function(){for(var _ in n&&(x.target[_0x4962("0x17c")]=!1),r){r[_].userData[_0x4962("0x45b")]=!1}x[_0x4962("0x2c5")].userData[_0x4962("0x460")]=!1,a()}),1e3*e+50)}}}))}},{key:"ignoreSetAlpha",value:function(x){x&&x[_0x4962("0xf2")]&&x[_0x4962("0xf2")].traverse?x[_0x4962("0xf2")][_0x4962("0x104")]((function(x){Array[_0x4962("0x123")](x[_0x4962("0xf6")])?x.material[0][_0x4962("0x688")]=!0:x[_0x4962("0xf6")]&&(x[_0x4962("0xf6")][_0x4962("0x688")]=!0)})):console[_0x4962("0xe0")](x,_0x4962("0x68c"))}},{key:"searchJson",value:(_=(0,r[_0x4962("0xc")])(n[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,a,r,s,o,c,l,f,d,u,g,b,v=this;return n[_0x4962("0xc")].wrap((function(x){for(;;)switch(x.prev=x.next){case 0:if(e=esmap.ESMap[_0x4962("0x3a")],t=e.id,C){x[_0x4962("0x286")]=19;break}for(r in(a=[])[_0x4962("0x3")](m[_0x4962("0xc")].getPath(_0x4962("0x69"))),e[_0x4962("0x2b4")][_0x4962("0x68d")])a.push({path:m[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x55"),{buildingId:r}),bid:r});s=[],o=n[_0x4962("0xc")].mark((function x(_){var i,r,o,c,l,f,d,u;return n.default.wrap((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:return i="",r=null,typeof a[_]==_0x4962("0xd")?(i=a[_],r=t):(i=a[_].path,r=a[_][_0x4962("0x130")]),x.next=5,fetch(i);case 5:return o=x[_0x4962("0x33c")],x[_0x4962("0x286")]=8,o[_0x4962("0x102")]();case 8:(c=x[_0x4962("0x33c")])[_0x4962("0x59c")]&&(l={x:0,y:0},f=c.fnums||{},c[_0x4962("0x52")]&&(d=e.tileService.bidList[c[_0x4962("0x52")][_0x4962("0x677")]])&&(l.x=d.x-c.building[_0x4962("0x68e")],l.y=d.y-c[_0x4962("0x52")][_0x4962("0x68f")]),u=c[_0x4962("0x59c")][_0x4962("0x48")]((function(x){var _=null;return 1==x.t?_=5:2==x.t&&(_=11),{name:x.n,bid:r,mapCoord:{x:1*x.x+l.x,y:1*x.y+l.y},FloorNum:x.f||1,FloorName:f[x.f]||"F"+x.f,Height:1*x.h||0,ID:1*x.i,typeID:1*x.c,nodeType:_,angle:x.a||0,dataID:x.d}})),s=s[_0x4962("0x12")](u));case 10:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,v)})),x.t0=n[_0x4962("0xc")].keys(a);case 10:if((x.t1=x.t0())[_0x4962("0x426")]){x[_0x4962("0x286")]=15;break}return c=x.t1[_0x4962("0xe3")],x[_0x4962("0x690")](o(c),"t2",13);case 13:x[_0x4962("0x286")]=10;break;case 15:l={isCaseSensitive:!1,useExtendedSearch:!0,keys:["ID",_0x4962("0x107"),"FloorNum","typeID","bid","nodeType",_0x4962("0x212")]},f=["ID",_0x4962("0x107"),_0x4962("0x2d9"),_0x4962("0x2fd"),_0x4962("0x130"),_0x4962("0x125"),_0x4962("0x212")],d=h[_0x4962("0xc")][_0x4962("0x691")](f,s),C=new h.default(s,l,d);case 19:u=[],g=[],x.t3=n[_0x4962("0xc")].keys(_);case 22:if((x.t4=x.t3()).done){x[_0x4962("0x286")]=35;break}if((b=x.t4[_0x4962("0xe3")])!=_0x4962("0x1b0")){x.next=26;break}return x[_0x4962("0x28b")](_0x4962("0x692"),22);case 26:if(b!=_0x4962("0x693")){x[_0x4962("0x286")]=29;break}return g[_0x4962("0x3")]({name:""+_[b]}),x[_0x4962("0x28b")](_0x4962("0x692"),22);case 29:if(b!=_0x4962("0x132")){x[_0x4962("0x286")]=32;break}return g[_0x4962("0x3")]({FloorNum:""+_[b]}),x[_0x4962("0x28b")]("continue",22);case 32:g[_0x4962("0x3")]((0,i.default)({},b,"="+_[b])),x.next=22;break;case 35:return u=(u=C[_0x4962("0x508")]({$and:g}))[_0x4962("0x48")]((function(x){return x.item})),_[_0x4962("0x1b0")]&&_[_0x4962("0x1b0")](u),x[_0x4962("0x28b")](_0x4962("0x28c"),u);case 39:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return _.apply(this,arguments)})},{key:_0x4962("0x508"),value:function(x,_,e,t){var i,n=[],r=null,s=null,o=[],c=e[_0x4962("0x694")]||[_0x4962("0x288"),"modelBase",_0x4962("0x615"),_0x4962("0x614"),"imageMarker",_0x4962("0x619"),_0x4962("0x695"),_0x4962("0x1e8"),_0x4962("0x696"),"cardMarker"],l=[][_0x4962("0x12")](_);if(e.ID&&(e.ID=[][_0x4962("0x12")](e.ID)),e[_0x4962("0x697")]&&(e[_0x4962("0x697")]=[][_0x4962("0x12")](e[_0x4962("0x697")])),x[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]){var f=x[_0x4962("0x578")]();1==l[_0x4962("0x0")]&&l[0]==_0x4962("0x698")?l=[{bid:x.id,fnum:f[_0x4962("0x699")]}]:typeof l[0]==_0x4962("0x18a")&&(l=[{bid:x.id,fnum:l}])}else if(1==l[_0x4962("0x0")]&&"all"==l[0]){l=x[_0x4962("0x67e")][_0x4962("0x48")]((function(x){return x.id}));var d=x[_0x4962("0x687")][_0x4962("0x48")]((function(x){return x.id}));(l=l.concat(d))[_0x4962("0x3")](0)}return e.polygon&&(e.indoor||(l=esmap.ESMapUtil[_0x4962("0x667")](e[_0x4962("0x69a")]))),l[_0x4962("0x20")]((function(_){var t;if(_ instanceof Object?(_.bid&&(t=x.getBuildingById(_[_0x4962("0x130")])),_[_0x4962("0x132")]&&(i=[].concat(_[_0x4962("0x132")]))):(t=x.getBuildingById(_))?i=t[_0x4962("0x699")]:(t=x[_0x4962("0x310")](_),i=[1]),t){i=i||t.floorNums;for(var l=0;l<i.length;l++){var f=i[l],d=e.ID?e.ID.length:void 0,u=esmap[_0x4962("0x8c")].getDatasByAlias(t,f,c,(function(_){if(e.nodeType&&e.nodeType!=esmap[_0x4962("0x134")][_0x4962("0x69b")])if(Array[_0x4962("0x123")](e[_0x4962("0x125")])){if(e[_0x4962("0x125")].indexOf(_[_0x4962("0x125")])<0)return!1}else if(e[_0x4962("0x125")]!=_[_0x4962("0x125")])return!1;if(e.name){if(!_[_0x4962("0x107")])return!1;if(e[_0x4962("0x107")]instanceof Array){if(e[_0x4962("0x107")][_0x4962("0xaf")](_[_0x4962("0x107")])<0)return!1}else if(e[_0x4962("0x107")]!=_.name)return!1}if(e[_0x4962("0x693")]){if(!_[_0x4962("0x107")])return!1;for(var t=String(e.keyword).split(" "),i=_[_0x4962("0x107")][_0x4962("0x353")](),n=!1,c=0;c<t[_0x4962("0x0")];c++){var l=t[c][_0x4962("0x353")]();if(i[_0x4962("0xaf")](l)>=0){n=!0;break}}if(!n)return!1}if(e.ID&&e.ID.indexOf(_.ID)<0)return!1;if(e[_0x4962("0x2")]("dataID")&&e.dataID!=_[_0x4962("0x212")])return!1;if(e[_0x4962("0x697")]&&e[_0x4962("0x697")][_0x4962("0xaf")](_[_0x4962("0x697")])<0)return!1;if(e[_0x4962("0x2d9")]&&e[_0x4962("0x2d9")]!=_[_0x4962("0x2d9")])return!1;if(e[_0x4962("0x2fd")]&&e[_0x4962("0x2fd")]!=_[_0x4962("0x2fd")])return!1;if(e.mapCoord&&e[_0x4962("0x69c")]){if(_.nodeType==esmap[_0x4962("0x134")][_0x4962("0x1e3")]){if((0,v[_0x4962("0x11d")])(e.mapCoord,_[_0x4962("0x217")])>e.radius)return;o[_0x4962("0x3")]({node:_,distance:r})}if(_[_0x4962("0x125")]==esmap.ESNodeType[_0x4962("0x678")]){var f=x[_0x4962("0x7f")][_0x4962("0x69d")][_.ID][0],d=[];r=null;for(var u=0;u<f[_0x4962("0x0")];u+=2)d[_0x4962("0x3")](new esmap.ESMapCoord(-f[u].x,f[u].y,0));if(d.length<2)r=p(e[_0x4962("0x217")],d[0]);else{var h=new(esmap[_0x4962("0x639")]);for(u=0;u<d[_0x4962("0x0")]-1;u++)s=esmap[_0x4962("0x8c")].o(e[_0x4962("0x217")],d[u],d[u+1],h),(!r||s<r)&&(r=s)}if(r>e.radius)return;o[_0x4962("0x3")]({node:_,distance:r})}if(_[_0x4962("0x125")]==esmap[_0x4962("0x134")].FACILITY){if((r=esmap[_0x4962("0x69e")][_0x4962("0x69f")](a,e.mapCoord,_[_0x4962("0x217")]))>e.radius)return;o[_0x4962("0x3")]({node:_,distance:r})}}return!(e[_0x4962("0x69a")]&&!esmap.ESMapUtil[_0x4962("0x3dc")](_[_0x4962("0x217")],e[_0x4962("0x69a")]))}),d);u&&(n=n.concat(u))}}})),o[_0x4962("0x0")]>0&&(o.sort((function(x,_){return x[_0x4962("0x23b")]-_[_0x4962("0x23b")]})),n=o[_0x4962("0x48")]((function(x){return x[_0x4962("0x6a0")]}))),t&&t(n),n}},{key:_0x4962("0x6a1"),value:function(x){for(var _=x.points[_0x4962("0x48")]((function(x){return{x:-x.x,y:x.y}})),e={dis:0,pa:null,pb:null},t=0;t<_[_0x4962("0x0")]-1;t++){var i=_[t],a=_[t+1],n=(0,v[_0x4962("0x11d")])(i,a);n>e[_0x4962("0x6a2")]&&(e[_0x4962("0x6a2")]=n,e.pa=i,e.pb=a)}return e.pa=new(THREE[_0x4962("0x568")])(e.pa.x,e.pa.y),e.pb=new THREE.Vector2(e.pb.x,e.pb.y),esmap[_0x4962("0x8c")][_0x4962("0x238")](e.pa,e.pb)}},{key:_0x4962("0x611"),value:function(x,_,e,t){return esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x6a3")][_0x4962("0x18d")](x,_,e,t)}},{key:"_setGeneralProperties",value:function(x,_,e,i){_=_||_0x4962("0x106"),e=e||"initY_",(0,t.default)(x,{x:{get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x131")].x-this[_].x},set:function(x){var e=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x131")].x;this[_].x=e-x}},y:{get:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")].center.y;return this[_].z+x},set:function(x){var e=esmap[_0x4962("0x33")].instance.center.y;this[_].z=x-e}},height:i||{get:function(){return this[e]},set:function(x){this[e]=x}}})}},{key:_0x4962("0x3dc"),value:function(x,_){for(var e=!1,t=-1,i=_[_0x4962("0x0")],a=i-1;++t<i;a=t)(_[t].y<=x.y&&x.y<_[a].y||_[a].y<=x.y&&x.y<_[t].y)&&x.x<(Math.abs(_[a].x)-Math[_0x4962("0x231")](_[t].x))*(x.y-_[t].y)/(_[a].y-_[t].y)+Math[_0x4962("0x231")](_[t].x)&&(e=!e);return e}},{key:"getExtentByPoints",value:function(x){return(0,g[_0x4962("0x6a4")])(x)}},{key:_0x4962("0x6a5"),value:function(x){return{x:(x[_0x4962("0x5ca")]+x[_0x4962("0x5b8")])/2,y:(x.maxY+x[_0x4962("0x5bb")])/2}}},{key:_0x4962("0x89"),value:function(x){var _,e,t,i,a,n=_0x4962("0x476")+"ghijklmnopqrstuvABCDEFGHIJKLMNOP"+_0x4962("0x479")+"=",r="",s="",o="",c=0;do{t=(_=x[_0x4962("0x30")](c++))>>4,i=(3&_)<<4|(e=x[_0x4962("0x30")](c++))>>4,a=(15&e)<<2|(s=x[_0x4962("0x30")](c++))>>6,o=63&s,isNaN(e)?a=o=64:isNaN(s)&&(o=64),r=r+n[_0x4962("0x47a")](t)+n[_0x4962("0x47a")](i)+n[_0x4962("0x47a")](a)+n.charAt(o),_=e=s="",t=i=a=o=""}while(c<x[_0x4962("0x0")]);return r}},{key:_0x4962("0x6a6"),value:function(x){var _=x[_0x4962("0x138")],e=void 0===_?[]:_,t=x.segments,i=void 0===t?20:t;if(!(e[_0x4962("0x0")]<3)){var a=new THREE.QuadraticBezierCurve3(new(THREE[_0x4962("0x12c")])(e[0].x,e[0][_0x4962("0x15c")],e[0].y),new THREE.Vector3(e[1].x,e[1][_0x4962("0x15c")],e[1].y),new THREE.Vector3(e[2].x,e[2][_0x4962("0x15c")],e[2].y))[_0x4962("0x6a7")](i),n=[],r=!0,s=!1,o=void 0;try{for(var l,f=(0,c[_0x4962("0xc")])(a);!(r=(l=f[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var d=l[_0x4962("0xe3")];n[_0x4962("0x3")]({x:d.x,y:d.z,offset:d.y})}}catch(x){s=!0,o=x}finally{try{!r&&f.return&&f[_0x4962("0x28c")]()}finally{if(s)throw o}}return n}}},{key:_0x4962("0x6a8"),value:function(x){for(var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]&&arguments[1],e=0;e<x[_0x4962("0x0")];e++){var t=x[e-1],i=x[e+1],a=x[e];if(i&&a){if(a.x==i.x&&a.z==i.z&&a.y==i.y){x[_0x4962("0x4")](e+1,1),e--;continue}if(_&&i[_0x4962("0x23a")](a)<=.1){x.splice(e+1,1),e--;continue}}if(t&&i&&t.y==i.y&&t.y==a.y){var n=new(THREE[_0x4962("0x12c")])(a.x,0,a.z),r=new THREE.Vector3(t.x,0,t.z),s=new(THREE[_0x4962("0x12c")])(i.x,0,i.z),o=r[_0x4962("0x126")]()[_0x4962("0x52d")](n[_0x4962("0x126")]())[_0x4962("0x30e")](),c=s[_0x4962("0x126")]()[_0x4962("0x52d")](n[_0x4962("0x126")]())[_0x4962("0x30e")](),l=o[_0x4962("0x6a9")](c),f=Math[_0x4962("0x231")](o[_0x4962("0x22d")](c))<Math.PI/6;if(l||f){var d=a.clone();d.y+=.01,d[_0x4962("0x132")]=a[_0x4962("0x132")],x[_0x4962("0x4")](e,0,d),e+=1;continue}}}}},{key:"buildCurvePoints",value:function(x){var _=x[_0x4962("0x138")],e=void 0===_?[]:_,t=x.radius,i=void 0===t?.3:t,a=x[_0x4962("0x6aa")],n=void 0===a?8:a,r=esmap.ESMap[_0x4962("0x3a")],s=e[_0x4962("0x48")]((function(x){var _=x.z||x.offset||0,e={x:x.x,y:x.y},t=r[_0x4962("0x237")](e);return t.y=_,t[_0x4962("0x132")]=x[_0x4962("0x132")]||1,t})),o=esmap.ESMapSceneUtil[_0x4962("0x6ab")](s,n,i);return o=o[_0x4962("0x48")]((function(x){var _=r[_0x4962("0x208")](x);return{x:_.x,y:_.y,offset:x.y,fnum:x[_0x4962("0x132")]}}))}},{key:_0x4962("0x238"),value:function(x,_){var e=new THREE.Vector3(0,0,1),t=new(THREE[_0x4962("0x12c")])(x.x,0,x.y),i=new(THREE[_0x4962("0x12c")])(_.x,0,_.y).clone()[_0x4962("0x52d")](t).normalize(),a=i[_0x4962("0x22d")](e)*THREE[_0x4962("0x20e")][_0x4962("0x6ac")];return isNaN(a)&&(a=0),i[_0x4962("0x126")]().cross(e).y>0?360-a:a}},{key:"getDeviceDPI",value:function(){var x=new Array;if(null!=window.screen[_0x4962("0x23")])x[0]=window[_0x4962("0x22")][_0x4962("0x23")],x[1]=window[_0x4962("0x22")][_0x4962("0x6ad")];else{var _=document[_0x4962("0x24")]("DIV");_.style[_0x4962("0x4f7")]=_0x4962("0x26"),document[_0x4962("0x27")].appendChild(_),x[0]=parseInt(_[_0x4962("0x29")]),x[1]=parseInt(_[_0x4962("0x2a")]),_[_0x4962("0x2b")][_0x4962("0x4e9")](_)}return x}},{key:"WGS84ToGCJ02",value:function(x){return u[_0x4962("0xc")][_0x4962("0x4d7")]([x[0],x[1]],u[_0x4962("0xc")][_0x4962("0x1b9")],u[_0x4962("0xc")][_0x4962("0x6ae")])}},{key:_0x4962("0x6af"),value:function(x){return u.default[_0x4962("0x4d7")]([x[0],x[1]],u[_0x4962("0xc")][_0x4962("0x6ae")],u.default[_0x4962("0x1b9")])}},{key:"CGCS2000ToWGS84",value:function(x){if(window[_0x4962("0x6b0")]){Math[_0x4962("0xff")](x[0]/3);var _=_0x4962("0x6b1");return window[_0x4962("0x6b0")].proj4("+proj=longlat +ellps=GRS80 +datum=CGCS2000 +no_defs",_,x)}}},{key:"Mercator2lonLat",value:function(x,_){var e=[],t=x/20037508.342789*180,i=_/20037508.342789*180;return i=180/Math.PI*(2*Math.atan(Math[_0x4962("0x6b2")](i*Math.PI/180))-Math.PI/2),e[_0x4962("0x3")](t),e.push(i),e}},{key:"lonLat2Mercator",value:function(x,_,e){var t=[],i=20037508.342789*x/180,a=Math[_0x4962("0x223")](Math[_0x4962("0x671")]((90+_)*Math.PI/360))/(Math.PI/180);(a=20037508.34789*a/180,esmap.EPSG4490&&!e)&&(a=20037508.342789244*esmap[_0x4962("0x6b3")]/180*(90+_));return t[_0x4962("0x3")](i),t[_0x4962("0x3")](a),t}},{key:_0x4962("0x6b4"),value:function(x,_){var e=esmap[_0x4962("0x8c")][_0x4962("0xf8")](x,_),t=20037508.342789244*esmap[_0x4962("0x6b3")];return e[1]=180*_/t-90,esmap[_0x4962("0x8c")].lonLat2Mercator(e[0],e[1],!0)}},{key:"checkMcIs4490",value:function(x){return x.y>12e6}},{key:_0x4962("0x6b5"),value:function(x){var _=1e4,e=esmap.ESMapUtil[_0x4962("0xf8")](x.x,x.y+5e3),t=esmap.ESMapUtil[_0x4962("0xf8")](x.x,x.y-5e3),i=esmap.ESMapUtil.lonLat2Mercator(e[0],e[1]),a=esmap[_0x4962("0x8c")][_0x4962("0xfc")](t[0],t[1]);return(i[1]-a[1])/_}},{key:"transformWGS84ToMap",value:function(x){var _=x,e=esmap[_0x4962("0x33")][_0x4962("0x3a")];if(!e){var t=esmap[_0x4962("0x8c")][_0x4962("0xfc")](x[0],x[1]);return{x:t[0],y:t[1]}}if(Array[_0x4962("0x123")](x)){var i=esmap[_0x4962("0x8c")][_0x4962("0xfc")](x[0],x[1]);_={x:i[0],y:i[1]}}return e[_0x4962("0x1b7")]({from:_0x4962("0x1b9"),to:e[_0x4962("0x3e9")],coord:_})}},{key:_0x4962("0x6b6"),value:function(x){if(window[_0x4962("0x6b0")]){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=x;if(Array.isArray(x)){var t=esmap.ESMapUtil.CGCS2000ToWGS84(x),i=esmap[_0x4962("0x8c")].lonLat2Mercator(t[0],t[1]);e={x:i[0],y:i[1]}}return _[_0x4962("0x1b7")]({from:"WGS84",to:_[_0x4962("0x3e9")],coord:e})}console[_0x4962("0xe0")](_0x4962("0x6b7"))}},{key:"transformBD09ToMap",value:function(x){var _=esmap.ESMap[_0x4962("0x3a")],e=x;if(Array[_0x4962("0x123")](x)){var t=esmap[_0x4962("0x8c")][_0x4962("0xfc")](x[0],x[1]);e={x:t[0],y:t[1]}}return _.transformCoord({from:_0x4962("0x6b8"),to:_[_0x4962("0x3e9")],coord:e})}},{key:_0x4962("0x6b9"),value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=x;if(Array[_0x4962("0x123")](x)){var t=esmap[_0x4962("0x8c")][_0x4962("0xfc")](x[0],x[1]);e={x:t[0],y:t[1]}}return _[_0x4962("0x1b7")]({from:_0x4962("0x6ae"),to:_[_0x4962("0x3e9")],coord:e})}},{key:_0x4962("0x6ba"),value:function(x){return esmap[_0x4962("0x8c")][_0x4962("0xf8")](x.x,x.y)}},{key:"getDistance",value:function(x,_){function e(x){return x*Math.PI/180}var t=0;if(esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]){var i=esmap[_0x4962("0x8c")].Mercator2lonLat(x.x,x.y),a=esmap[_0x4962("0x8c")][_0x4962("0xf8")](_.x,_.y),n=e(i[1]),r=e(a[1]),s=n-r,o=e(i[0])-e(a[0]);t=6371*(t=2*Math[_0x4962("0x6bb")](Math[_0x4962("0x120")](Math.pow(Math[_0x4962("0x66d")](s/2),2)+Math.cos(n)*Math[_0x4962("0x6bc")](r)*Math.pow(Math[_0x4962("0x66d")](o/2),2))))*1e3}else t=(0,v[_0x4962("0x11d")])(x,_);return t}},{key:_0x4962("0x6bd"),value:function(x){x=x||null;var _=new Date(x);return _[_0x4962("0x6be")]()+"-"+((_[_0x4962("0x6bf")]()+1<10?"0"+(_[_0x4962("0x6bf")]()+1):_[_0x4962("0x6bf")]()+1)+"-")+((_[_0x4962("0x6c0")]()<10?"0"+_[_0x4962("0x6c0")]():_[_0x4962("0x6c0")]())+" ")+((_[_0x4962("0x6c1")]()<10?"0"+_[_0x4962("0x6c1")]():_[_0x4962("0x6c1")]())+":")+((_[_0x4962("0x6c2")]()<10?"0"+_[_0x4962("0x6c2")]():_.getMinutes())+":")+(_[_0x4962("0x6c3")]()<10?"0"+_[_0x4962("0x6c3")]():_[_0x4962("0x6c3")]())}},{key:_0x4962("0x668"),value:function(x){for(var _={maxX:0,minX:1/0,maxY:0,minY:1/0},e=0;e<x.length;e++){var t=x[e];t.y<_[_0x4962("0x5bb")]&&(_[_0x4962("0x5bb")]=t.y),t.y>_.maxY&&(_.maxY=t.y),t.x<_[_0x4962("0x5b8")]&&(_[_0x4962("0x5b8")]=t.x),t.x>_[_0x4962("0x5ca")]&&(_[_0x4962("0x5ca")]=t.x)}return _}}]),x}();_[_0x4962("0xc")]=I},,,,function(x,_,e){"use strict";function t(x,_){for(var e=x.x,t=x.y,i=0,a=0;a<_[_0x4962("0x0")];a++){var n=_[a],r=n.y1<n.y2?n.y2:n.y1;if(t>(n.y1<n.y2?n.y1:n.y2)&&t<r)e<=(n.x1*n.y2-n.x2*n.y1-(n.x1-n.x2)*t)/(n.y2-n.y1)&&i++}return i%2!=0}Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x6c4")]=function(x,_){var e,i=x,a=_;if(0==(e=function(x,_){for(var e,t,i,a,n,r,s,o,c=0;c<x.length;c++){var l=x[c];e=e>l.x?e:l.x,i=i<l.x?i:l.x,t=t>l.y?t:l.y,a=a<l.y?a:l.y}for(c=0;c<_[_0x4962("0x0")];c++){var f=_[c];n=n>f.x?n:f.x,s=s<f.x?s:f.x,r=r>f.y?r:f.y,o=o<f.y?o:f.y}return!(e<=s||n<=i||a>=r||o>=t)}(i,a)))return e;var n=c(i),r=c(a);if(e=function(x,_){for(var e=function(x,_){this.x=x,this.y=_},t=0;t<x[_0x4962("0x0")];t++)for(var i=x[t],a=0;a<_[_0x4962("0x0")];a++){var n=_[a],r=new e(n.x2-n.x1,n.y2-n.y1),s=new e(i.x1-n.x1,i.y1-n.y1),o=new e(i.x2-n.x1,i.y2-n.y1),c=s.x*r.y-r.x*s.y,l=o.x*r.y-r.x*o.y,f=new e(i.x2-i.x1,i.y2-i.y1),d=new e(n.x1-i.x1,n.y1-i.y1),u=new e(n.x2-i.x1,n.y2-i.y1),h=d.x*f.y-f.x*d.y,g=u.x*f.y-f.x*u.y;if(c*l<0&&h*g<0)return!0}return!1;function e(x,_){this.x=x,this.y=_}}(n,r))return e;for(var s=0,o=0;o<i[_0x4962("0x0")]-1;o++){t(i[o],r)&&s++}return e=s==i.length-1;function c(x){for(var _=[],e=0;e<x[_0x4962("0x0")]-1;e++){var t=x[e],i=x[e+1];_[_0x4962("0x3")]({x1:t.x,y1:t.y,x2:i.x,y2:i.y})}return _}},_[_0x4962("0x6a4")]=function(x){for(var _,e,t,i,a=0;a<x[_0x4962("0x0")];a++){var n=x[a];_=_>n.x?_:n.x,t=t<n.x?t:n.x,e=e>n.y?e:n.y,i=i<n.y?i:n.y}return{maxX:_,minX:t,maxY:e,minY:i}},_[_0x4962("0x658")]=function(x,_){for(var e,t,i,a,n,r,s,o,c=0;c<x[_0x4962("0x0")];c++){var l=x[c];e=e>l.x?e:l.x,i=i<l.x?i:l.x,t=t>l.y?t:l.y,a=a<l.y?a:l.y}for(c=0;c<_[_0x4962("0x0")];c++){var f=_[c];n=n>f.x?n:f.x,s=s<f.x?s:f.x,r=r>f.y?r:f.y,o=o<f.y?o:f.y}var d=i<=s,u=t>=r,h=a<=o;return e>=n&&d&&u&&h}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t={1e3:"æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨",2e3:_0x4962("0x6c5"),2001:_0x4962("0x6c6"),2002:_0x4962("0x6c7"),2003:_0x4962("0x6c8"),2004:_0x4962("0x6c9"),2005:_0x4962("0x6ca"),2006:_0x4962("0x6cb"),2007:_0x4962("0x6cc"),2008:"ä¸ç»´åºæ¯ ${1} è§£æå¤±è´¥ï¼è¯·æ£æ¥ä¸ç»´åºæ¯èµæºè¯·æ±ååºç»æ! è·¯å¾: ${2}, #${3}",2009:_0x4962("0x6cd"),2010:_0x4962("0x6ce"),2011:_0x4962("0x6cf"),2012:_0x4962("0x6d0")};_.ERRORS=t},function(x,_,e){"use strict";(function(x){Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(22)),i=a(e(14));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){this[_0x4962("0x6d1")]={},this[_0x4962("0x6d2")]={}};n[_0x4962("0x1")]={getAll:function(){return(0,i[_0x4962("0xc")])(this[_0x4962("0x6d1")]).map(function(x){return this._tweens[x]}[_0x4962("0xe")](this))},removeAll:function(){this._tweens={}},add:function(x){this[_0x4962("0x6d1")][x[_0x4962("0x6d3")]()]=x,this[_0x4962("0x6d2")][x[_0x4962("0x6d3")]()]=x},remove:function(x){delete this[_0x4962("0x6d1")][x[_0x4962("0x6d3")]()],delete this._tweensAddedDuringUpdate[x[_0x4962("0x6d3")]()]},update:function(x,_){var e=(0,i[_0x4962("0xc")])(this[_0x4962("0x6d1")]);if(0===e[_0x4962("0x0")])return!1;for(x=void 0!==x?x:s[_0x4962("0x6d4")]();e.length>0;){this[_0x4962("0x6d2")]={};for(var t=0;t<e.length;t++){var a=this[_0x4962("0x6d1")][e[t]];a&&!1===a[_0x4962("0x165")](x)&&(a._isPlaying=!1,_||delete this[_0x4962("0x6d1")][e[t]])}e=(0,i.default)(this._tweensAddedDuringUpdate)}return!0}};var r,s=new n;s[_0x4962("0x1e1")]=n,s._nextId=0,s.nextId=function(){return s[_0x4962("0x6d5")]++},s[_0x4962("0x6d6")]=function(x,_,e,t){return new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:0}).to({value:1},1e3*x).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Linear.None)[_0x4962("0x173")](_).onComplete(t)[_0x4962("0x1b1")]()},typeof self===_0x4962("0x21")&&typeof x!==_0x4962("0x21")&&x.hrtime?s.now=function(){var _=x[_0x4962("0x6d7")]();return 1e3*_[0]+_[1]/1e6}:typeof self!==_0x4962("0x21")&&void 0!==self[_0x4962("0x6d8")]&&void 0!==self[_0x4962("0x6d8")][_0x4962("0x6d4")]?s[_0x4962("0x6d4")]=self[_0x4962("0x6d8")].now[_0x4962("0xe")](self[_0x4962("0x6d8")]):void 0!==Date.now?s[_0x4962("0x6d4")]=Date[_0x4962("0x6d4")]:s[_0x4962("0x6d4")]=function(){return(new Date)[_0x4962("0x86")]()},s.Tween=function(x,_){this[_0x4962("0x6d9")]=!1,this[_0x4962("0x6da")]=null,this._object=x,this[_0x4962("0x6db")]={},this[_0x4962("0x6dc")]={},this[_0x4962("0x6dd")]={},this[_0x4962("0x6de")]=1e3,this[_0x4962("0x6df")]=0,this[_0x4962("0x6e0")]=void 0,this[_0x4962("0x6e1")]=!1,this[_0x4962("0x6e2")]=!1,this._reversed=!1,this[_0x4962("0x6e3")]=0,this[_0x4962("0x6e4")]=null,this[_0x4962("0x6e5")]=s[_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")],this[_0x4962("0x6e6")]=s.Interpolation[_0x4962("0x244")],this[_0x4962("0x6e7")]=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this[_0x4962("0x6e8")]=null,this[_0x4962("0x6e9")]=null,this._onCompleteCallback=null,this[_0x4962("0x6ea")]=null,this[_0x4962("0x6eb")]=_||s,this._id=s[_0x4962("0x6ec")]()},s[_0x4962("0x1a7")][_0x4962("0x1")]={getId:function(){return this[_0x4962("0x3df")]},isPlaying:function(){return this._isPlaying},isPaused:function(){return this[_0x4962("0x6d9")]},to:function(x,_){return this._valuesEnd=(0,t[_0x4962("0xc")])(x),void 0!==_&&(this[_0x4962("0x6de")]=_),this},duration:function(x){return this[_0x4962("0x6de")]=x,this},start:function(x){for(var _ in this[_0x4962("0x6eb")][_0x4962("0xda")](this),this[_0x4962("0x6e2")]=!0,this[_0x4962("0x6d9")]=!1,this[_0x4962("0x6ed")]=!1,this[_0x4962("0x6e4")]=void 0!==x?"string"==typeof x?s[_0x4962("0x6d4")]()+parseFloat(x):x:s[_0x4962("0x6d4")](),this[_0x4962("0x6e4")]+=this[_0x4962("0x6e3")],this[_0x4962("0x6dc")]){if(this._valuesEnd[_]instanceof Array){if(0===this[_0x4962("0x6dc")][_][_0x4962("0x0")])continue;this[_0x4962("0x6dc")][_]=[this[_0x4962("0x6ee")][_]][_0x4962("0x12")](this[_0x4962("0x6dc")][_])}void 0!==this[_0x4962("0x6ee")][_]&&(void 0===this[_0x4962("0x6db")][_]&&(this[_0x4962("0x6db")][_]=this._object[_]),this[_0x4962("0x6db")][_]instanceof Array==!1&&(this[_0x4962("0x6db")][_]*=1),this[_0x4962("0x6dd")][_]=this[_0x4962("0x6db")][_]||0)}return this},stop:function(){return this._isPlaying?(this[_0x4962("0x6eb")][_0x4962("0x197")](this),this[_0x4962("0x6e2")]=!1,this[_0x4962("0x6d9")]=!1,null!==this[_0x4962("0x6ea")]&&this._onStopCallback(this[_0x4962("0x6ee")]),this[_0x4962("0x6ef")](),this):this},end:function(){return this.update(1/0),this},pause:function(x){return this[_0x4962("0x6d9")]||!this[_0x4962("0x6e2")]||(this._isPaused=!0,this[_0x4962("0x6da")]=void 0===x?s[_0x4962("0x6d4")]():x,this[_0x4962("0x6eb")][_0x4962("0x197")](this)),this},resume:function(x){return this[_0x4962("0x6d9")]&&this[_0x4962("0x6e2")]?(this[_0x4962("0x6d9")]=!1,this[_0x4962("0x6e4")]+=(void 0===x?s.now():x)-this[_0x4962("0x6da")],this._pauseStart=0,this._group[_0x4962("0xda")](this),this):this},stopChainedTweens:function(){for(var x=0,_=this._chainedTweens.length;x<_;x++)this._chainedTweens[x][_0x4962("0x1b2")]()},group:function(x){return this[_0x4962("0x6eb")]=x,this},delay:function(x){return this[_0x4962("0x6e3")]=x,this},repeat:function(x){return this._repeat=x,this},repeatDelay:function(x){return this[_0x4962("0x6e0")]=x,this},yoyo:function(x){return this[_0x4962("0x6e1")]=x,this},easing:function(x){return this[_0x4962("0x6e5")]=x,this},interpolation:function(x){return this[_0x4962("0x6e6")]=x,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(x){return this[_0x4962("0x6f0")]=x,this},onUpdate:function(x){return this._onUpdateCallback=x,this},onRepeat:function(x){return this[_0x4962("0x6e9")]=x,this},onComplete:function(x){return this._onCompleteCallback=x,this},onStop:function(x){return this[_0x4962("0x6ea")]=x,this},update:function(x){var _,e,t;if(s[_0x4962("0x48")][_0x4962("0x6f1")]=0,x<this._startTime)return!0;for(_ in!1===this._onStartCallbackFired&&(null!==this[_0x4962("0x6f0")]&&this[_0x4962("0x6f0")](this[_0x4962("0x6ee")]),this._onStartCallbackFired=!0),e=(x-this[_0x4962("0x6e4")])/this[_0x4962("0x6de")],e=0===this._duration||e>1?1:e,t=this[_0x4962("0x6e5")](e),this[_0x4962("0x6dc")])if(void 0!==this[_0x4962("0x6db")][_]){var i=this._valuesStart[_]||0,a=this._valuesEnd[_];a instanceof Array?this[_0x4962("0x6ee")][_]=this[_0x4962("0x6e6")](a,t):(typeof a===_0x4962("0xd")&&(a="+"===a[_0x4962("0x47a")](0)||"-"===a[_0x4962("0x47a")](0)?i+parseFloat(a):parseFloat(a)),typeof a===_0x4962("0x18a")&&(this[_0x4962("0x6ee")][_]=i+(a-i)*t))}if(null!==this[_0x4962("0x6e8")]&&this._onUpdateCallback(this[_0x4962("0x6ee")],e),1===e){if(this._repeat>0){for(_ in isFinite(this[_0x4962("0x6df")])&&this[_0x4962("0x6df")]--,this[_0x4962("0x6dd")]){if("string"==typeof this[_0x4962("0x6dc")][_]&&(this[_0x4962("0x6dd")][_]=this[_0x4962("0x6dd")][_]+parseFloat(this[_0x4962("0x6dc")][_])),this[_0x4962("0x6e1")]){var n=this[_0x4962("0x6dd")][_];this[_0x4962("0x6dd")][_]=this[_0x4962("0x6dc")][_],this[_0x4962("0x6dc")][_]=n}this[_0x4962("0x6db")][_]=this[_0x4962("0x6dd")][_]}return this[_0x4962("0x6e1")]&&(this[_0x4962("0x6f2")]=!this._reversed),void 0!==this[_0x4962("0x6e0")]?this._startTime=x+this[_0x4962("0x6e0")]:this[_0x4962("0x6e4")]=x+this._delayTime,null!==this[_0x4962("0x6e9")]&&this._onRepeatCallback(this[_0x4962("0x6ee")]),!0}null!==this[_0x4962("0x6f3")]&&this._onCompleteCallback(this[_0x4962("0x6ee")]);for(var r=0,o=this[_0x4962("0x6e7")][_0x4962("0x0")];r<o;r++)this[_0x4962("0x6e7")][r][_0x4962("0x1b1")](this._startTime+this[_0x4962("0x6de")]);return!1}return!0}},s[_0x4962("0x1aa")]={Linear:{None:function(x){return x}},Quadratic:{In:function(x){return x*x},Out:function(x){return x*(2-x)},InOut:function(x){return(x*=2)<1?.5*x*x:-.5*(--x*(x-2)-1)}},Cubic:{In:function(x){return x*x*x},Out:function(x){return--x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x:.5*((x-=2)*x*x+2)}},Quartic:{In:function(x){return x*x*x*x},Out:function(x){return 1- --x*x*x*x},InOut:function(x){return(x*=2)<1?.5*x*x*x*x:-.5*((x-=2)*x*x*x-2)}},Quintic:{In:function(x){return x*x*x*x*x},Out:function(x){return--x*x*x*x*x+1},InOut:function(x){return(x*=2)<1?.5*x*x*x*x*x:.5*((x-=2)*x*x*x*x+2)}},Sinusoidal:{In:function(x){return 1-Math[_0x4962("0x6bc")](x*Math.PI/2)},Out:function(x){return Math.sin(x*Math.PI/2)},InOut:function(x){return.5*(1-Math[_0x4962("0x6bc")](Math.PI*x))}},Exponential:{In:function(x){return 0===x?0:Math[_0x4962("0xf7")](1024,x-1)},Out:function(x){return 1===x?1:1-Math.pow(2,-10*x)},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?.5*Math[_0x4962("0xf7")](1024,x-1):.5*(2-Math[_0x4962("0xf7")](2,-10*(x-1)))}},Circular:{In:function(x){return 1-Math[_0x4962("0x120")](1-x*x)},Out:function(x){return Math[_0x4962("0x120")](1- --x*x)},InOut:function(x){return(x*=2)<1?-.5*(Math[_0x4962("0x120")](1-x*x)-1):.5*(Math[_0x4962("0x120")](1-(x-=2)*x)+1)}},Elastic:{In:function(x){return 0===x?0:1===x?1:-Math[_0x4962("0xf7")](2,10*(x-1))*Math[_0x4962("0x66d")](5*(x-1.1)*Math.PI)},Out:function(x){return 0===x?0:1===x?1:Math[_0x4962("0xf7")](2,-10*x)*Math.sin(5*(x-.1)*Math.PI)+1},InOut:function(x){return 0===x?0:1===x?1:(x*=2)<1?-.5*Math[_0x4962("0xf7")](2,10*(x-1))*Math[_0x4962("0x66d")](5*(x-1.1)*Math.PI):.5*Math.pow(2,-10*(x-1))*Math[_0x4962("0x66d")](5*(x-1.1)*Math.PI)+1}},Back:{In:function(x){var _=1.70158;return x*x*(2.70158*x-_)},Out:function(x){var _=1.70158;return--x*x*(2.70158*x+_)+1},InOut:function(x){var _=2.5949095;return(x*=2)<1?x*x*(3.5949095*x-_)*.5:.5*((x-=2)*x*(3.5949095*x+_)+2)}},Bounce:{In:function(x){return 1-s[_0x4962("0x1aa")][_0x4962("0x1ae")][_0x4962("0x1af")](1-x)},Out:function(x){return x<1/2.75?7.5625*x*x:x<2/2.75?7.5625*(x-=1.5/2.75)*x+.75:x<2.5/2.75?7.5625*(x-=2.25/2.75)*x+.9375:7.5625*(x-=2.625/2.75)*x+.984375},InOut:function(x){return x<.5?.5*s[_0x4962("0x1aa")][_0x4962("0x1ae")].In(2*x):.5*s[_0x4962("0x1aa")][_0x4962("0x1ae")][_0x4962("0x1af")](2*x-1)+.5}}},s[_0x4962("0x6f4")]={Linear:function(x,_){var e=x[_0x4962("0x0")]-1,t=e*_,i=Math.floor(t),a=s.Interpolation[_0x4962("0x6f5")].Linear;return _<0?a(x[0],x[1],t):_>1?a(x[e],x[e-1],e-t):a(x[i],x[i+1>e?e:i+1],t-i)},Bezier:function(x,_){for(var e=0,t=x[_0x4962("0x0")]-1,i=Math[_0x4962("0xf7")],a=s[_0x4962("0x6f4")][_0x4962("0x6f5")][_0x4962("0x6f6")],n=0;n<=t;n++)e+=i(1-_,t-n)*i(_,n)*x[n]*a(t,n);return e},CatmullRom:function(x,_){var e=x[_0x4962("0x0")]-1,t=e*_,i=Math[_0x4962("0x31")](t),a=s.Interpolation[_0x4962("0x6f5")].CatmullRom;return x[0]===x[e]?(_<0&&(i=Math.floor(t=e*(1+_))),a(x[(i-1+e)%e],x[i],x[(i+1)%e],x[(i+2)%e],t-i)):_<0?x[0]-(a(x[0],x[0],x[1],x[1],-t)-x[0]):_>1?x[e]-(a(x[e],x[e],x[e-1],x[e-1],t-e)-x[e]):a(x[i?i-1:0],x[i],x[e<i+1?e:i+1],x[e<i+2?e:i+2],t-i)},Utils:{Linear:function(x,_,e){return(_-x)*e+x},Bernstein:function(x,_){var e=s.Interpolation[_0x4962("0x6f5")][_0x4962("0x6f7")];return e(x)/e(_)/e(x-_)},Factorial:(r=[1],function(x){var _=1;if(r[x])return r[x];for(var e=x;e>1;e--)_*=e;return r[x]=_,_}),CatmullRom:function(x,_,e,t,i){var a=.5*(e-x),n=.5*(t-_),r=i*i;return(2*_-2*e+a+n)*(i*r)+(-3*_+3*e-2*a-n)*r+a*i+_}}},_[_0x4962("0xc")]=s})[_0x4962("0xf")](this,e(62))},function(x,_,e){"use strict";THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {",_0x4962("0x6f8"),"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"][_0x4962("0x32")]("\n"),fragmentShader:[_0x4962("0x153"),_0x4962("0x6f9"),"varying vec2 vUv;","void main() {",_0x4962("0x6fa"),_0x4962("0x6fb"),"}"][_0x4962("0x32")]("\n")}},function(x,_,e){"use strict";var t,i,a,n,r=e(2),s=(t=r)&&t.__esModule?t:{default:t};THREE[_0x4962("0x6fc")]=function(x,_){if(this.renderer=x,void 0===_){var e={minFilter:THREE[_0x4962("0x362")],magFilter:THREE[_0x4962("0x362")],format:THREE[_0x4962("0x6fd")],stencilBuffer:!1},t=x[_0x4962("0x6fe")](new(THREE[_0x4962("0x568")]));this[_0x4962("0x6ff")]=x.getPixelRatio(),this._width=t[_0x4962("0x1ce")],this._height=t.height,(_=new(THREE[_0x4962("0x700")])(this[_0x4962("0x701")]*this[_0x4962("0x6ff")],this._height*this[_0x4962("0x6ff")],e))[_0x4962("0x702")][_0x4962("0x107")]=_0x4962("0x703")}else this[_0x4962("0x6ff")]=1,this[_0x4962("0x701")]=_[_0x4962("0x1ce")],this[_0x4962("0x704")]=_[_0x4962("0x1a4")];this[_0x4962("0x705")]=_,this[_0x4962("0x706")]=_[_0x4962("0x126")](),this.renderTarget2[_0x4962("0x702")].name="EffectComposer.rt2",this[_0x4962("0x707")]=this[_0x4962("0x705")],this[_0x4962("0x708")]=this[_0x4962("0x706")],this[_0x4962("0x709")]=!0,this.passes=[],void 0===THREE.CopyShader&&console[_0x4962("0xe0")](_0x4962("0x70a")),void 0===THREE[_0x4962("0x70b")]&&console[_0x4962("0xe0")](_0x4962("0x70c")),this[_0x4962("0x70d")]=new(THREE[_0x4962("0x70b")])(THREE.CopyShader),this[_0x4962("0x2ba")]=new THREE.Clock},(0,s.default)(THREE.EffectComposer[_0x4962("0x1")],{swapBuffers:function(){var x=this[_0x4962("0x708")];this.readBuffer=this[_0x4962("0x707")],this.writeBuffer=x},addPass:function(x){this.passes.push(x);var _=this[_0x4962("0x364")][_0x4962("0x70e")](new(THREE[_0x4962("0x568")]));x.setSize(_.width,_[_0x4962("0x1a4")])},insertPass:function(x,_){this[_0x4962("0x70f")][_0x4962("0x4")](_,0,x)},isLastEnabledPass:function(x){for(var _=x+1;_<this[_0x4962("0x70f")][_0x4962("0x0")];_++)if(this[_0x4962("0x70f")][_][_0x4962("0x710")])return!1;return!0},render:function(x){void 0===x&&(x=this[_0x4962("0x2ba")][_0x4962("0x2a0")]());var _,e,t=this[_0x4962("0x364")].getRenderTarget(),i=!1,a=this[_0x4962("0x70f")][_0x4962("0x0")];for(e=0;e<a;e++)if(!1!==(_=this[_0x4962("0x70f")][e])[_0x4962("0x710")]){if(_[_0x4962("0x709")]=this[_0x4962("0x709")]&&this.isLastEnabledPass(e),_[_0x4962("0x711")](this[_0x4962("0x364")],this.writeBuffer,this[_0x4962("0x708")],x,i),_[_0x4962("0x712")]){if(i){var n=this.renderer[_0x4962("0x371")];n[_0x4962("0x713")](n[_0x4962("0x714")],1,4294967295),this[_0x4962("0x70d")][_0x4962("0x711")](this[_0x4962("0x364")],this[_0x4962("0x707")],this[_0x4962("0x708")],x),n[_0x4962("0x713")](n.EQUAL,1,4294967295)}this[_0x4962("0x715")]()}void 0!==THREE[_0x4962("0x716")]&&(_ instanceof THREE[_0x4962("0x716")]?i=!0:_ instanceof THREE[_0x4962("0x717")]&&(i=!1))}this.renderer[_0x4962("0x718")](t)},reset:function(x){if(void 0===x){var _=this.renderer[_0x4962("0x6fe")](new THREE.Vector2);this[_0x4962("0x6ff")]=this[_0x4962("0x364")][_0x4962("0x719")](),this[_0x4962("0x701")]=_[_0x4962("0x1ce")],this[_0x4962("0x704")]=_[_0x4962("0x1a4")],(x=this[_0x4962("0x705")][_0x4962("0x126")]())[_0x4962("0x31b")](this[_0x4962("0x701")]*this[_0x4962("0x6ff")],this[_0x4962("0x704")]*this[_0x4962("0x6ff")])}this[_0x4962("0x705")].dispose(),this[_0x4962("0x706")][_0x4962("0xf5")](),this[_0x4962("0x705")]=x,this.renderTarget2=x.clone(),this[_0x4962("0x707")]=this.renderTarget1,this[_0x4962("0x708")]=this[_0x4962("0x706")]},setSize:function(x,_){this[_0x4962("0x701")]=x,this[_0x4962("0x704")]=_;var e=this[_0x4962("0x701")]*this[_0x4962("0x6ff")],t=this[_0x4962("0x704")]*this._pixelRatio;this[_0x4962("0x705")].setSize(e,t),this[_0x4962("0x706")][_0x4962("0x31b")](e,t);for(var i=0;i<this.passes[_0x4962("0x0")];i++)this[_0x4962("0x70f")][i].setSize(e,t)},setPixelRatio:function(x){this._pixelRatio=x,this[_0x4962("0x31b")](this._width,this._height)}}),THREE[_0x4962("0x71a")]=function(){this[_0x4962("0x710")]=!0,this.needsSwap=!0,this.clear=!1,this[_0x4962("0x709")]=!1},(0,s[_0x4962("0xc")])(THREE[_0x4962("0x71a")][_0x4962("0x1")],{setSize:function(){},render:function(){_0x4962("0x71b")}}),THREE[_0x4962("0x71a")][_0x4962("0x71c")]=(i=new(THREE[_0x4962("0x71d")])(-1,1,1,-1,0,1),a=new(THREE[_0x4962("0x71e")])(2,2),n=function(x){this[_0x4962("0x71f")]=new THREE.Mesh(a,x)},Object[_0x4962("0x6")](n.prototype,_0x4962("0xf6"),{get:function(){return this[_0x4962("0x71f")].material},set:function(x){this[_0x4962("0x71f")][_0x4962("0xf6")]=x}}),(0,s.default)(n.prototype,{render:function(x){x[_0x4962("0x711")](this._mesh,i)}}),n)},function(x,_,e){"use strict";var t=a(e(22)),i=a(e(2));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0x716")]=function(x,_){THREE[_0x4962("0x71a")].call(this),this[_0x4962("0x2e6")]=x,this[_0x4962("0x669")]=_,this.clear=!0,this[_0x4962("0x712")]=!1,this.inverse=!1},THREE[_0x4962("0x716")][_0x4962("0x1")]=(0,i[_0x4962("0xc")])((0,t[_0x4962("0xc")])(THREE[_0x4962("0x71a")][_0x4962("0x1")]),{constructor:THREE[_0x4962("0x716")],render:function(x,_,e){var t,i,a=x[_0x4962("0x371")],n=x[_0x4962("0x720")];n[_0x4962("0x431")].color[_0x4962("0x721")](!1),n[_0x4962("0x431")][_0x4962("0x2fc")][_0x4962("0x721")](!1),n[_0x4962("0x431")][_0x4962("0x147")][_0x4962("0x722")](!0),n[_0x4962("0x431")][_0x4962("0x2fc")][_0x4962("0x722")](!0),this[_0x4962("0x535")]?(t=0,i=1):(t=1,i=0),n[_0x4962("0x431")][_0x4962("0x723")].setTest(!0),n.buffers.stencil[_0x4962("0x724")](a[_0x4962("0x725")],a[_0x4962("0x725")],a[_0x4962("0x725")]),n[_0x4962("0x431")][_0x4962("0x723")][_0x4962("0x726")](a[_0x4962("0x727")],t,4294967295),n.buffers[_0x4962("0x723")].setClear(i),x[_0x4962("0x718")](e),this[_0x4962("0x728")]&&x.clear(),x.render(this[_0x4962("0x2e6")],this[_0x4962("0x669")]),x[_0x4962("0x718")](_),this[_0x4962("0x728")]&&x[_0x4962("0x728")](),x.render(this[_0x4962("0x2e6")],this.camera),n[_0x4962("0x431")][_0x4962("0x147")][_0x4962("0x722")](!1),n.buffers.depth[_0x4962("0x722")](!1),n[_0x4962("0x431")][_0x4962("0x723")][_0x4962("0x726")](a[_0x4962("0x729")],1,4294967295),n[_0x4962("0x431")][_0x4962("0x723")].setOp(a[_0x4962("0x72a")],a[_0x4962("0x72a")],a.KEEP)}}),THREE.ClearMaskPass=function(){THREE[_0x4962("0x71a")][_0x4962("0xf")](this),this[_0x4962("0x712")]=!1},THREE[_0x4962("0x717")][_0x4962("0x1")]=(0,t.default)(THREE.Pass[_0x4962("0x1")]),(0,i[_0x4962("0xc")])(THREE[_0x4962("0x717")][_0x4962("0x1")],{render:function(x){x[_0x4962("0x720")][_0x4962("0x431")][_0x4962("0x723")].setTest(!1)}})},function(x,_,e){"use strict";var t=a(e(22)),i=a(e(2));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0x72b")]=function(x,_,e,t,i){THREE[_0x4962("0x71a")][_0x4962("0xf")](this),this[_0x4962("0x2e6")]=x,this.camera=_,this[_0x4962("0x72c")]=e,this[_0x4962("0x72d")]=t,this[_0x4962("0x72e")]=void 0!==i?i:0,this[_0x4962("0x728")]=!0,this[_0x4962("0x72f")]=!1,this[_0x4962("0x712")]=!1},THREE[_0x4962("0x72b")][_0x4962("0x1")]=(0,i[_0x4962("0xc")])((0,t.default)(THREE.Pass[_0x4962("0x1")]),{constructor:THREE.RenderPass,render:function(x,_,e){var t,i,a=x[_0x4962("0x730")];x[_0x4962("0x730")]=!1,this[_0x4962("0x2e6")][_0x4962("0x72c")]=this[_0x4962("0x72c")],this[_0x4962("0x72d")]&&(t=x[_0x4962("0x731")]()[_0x4962("0x732")](),i=x[_0x4962("0x733")](),x[_0x4962("0x734")](this[_0x4962("0x72d")],this.clearAlpha)),this[_0x4962("0x72f")]&&x[_0x4962("0x72f")](),x[_0x4962("0x718")](this[_0x4962("0x709")]?null:e),this[_0x4962("0x728")]&&x[_0x4962("0x728")](x[_0x4962("0x735")],x[_0x4962("0x736")],x[_0x4962("0x737")]),x.render(this[_0x4962("0x2e6")],this[_0x4962("0x669")]),this[_0x4962("0x72d")]&&x[_0x4962("0x734")](t,i),this.scene[_0x4962("0x72c")]=null,x[_0x4962("0x730")]=a}})},function(x,_,e){"use strict";var t=a(e(22)),i=a(e(2));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0x70b")]=function(x,_){THREE[_0x4962("0x71a")][_0x4962("0xf")](this),this[_0x4962("0x738")]=void 0!==_?_:_0x4962("0x739"),x instanceof THREE[_0x4962("0x73a")]?(this.uniforms=x.uniforms,this[_0x4962("0xf6")]=x):x&&(this[_0x4962("0x149")]=THREE[_0x4962("0x73b")].clone(x[_0x4962("0x149")]),this[_0x4962("0xf6")]=new(THREE[_0x4962("0x73a")])({defines:(0,i[_0x4962("0xc")])({},x[_0x4962("0x73c")]),uniforms:this.uniforms,vertexShader:x[_0x4962("0x14c")],fragmentShader:x.fragmentShader})),this.fsQuad=new(THREE.Pass[_0x4962("0x71c")])(this.material)},THREE.ShaderPass[_0x4962("0x1")]=(0,i[_0x4962("0xc")])((0,t[_0x4962("0xc")])(THREE[_0x4962("0x71a")][_0x4962("0x1")]),{constructor:THREE[_0x4962("0x70b")],render:function(x,_,e){this.uniforms[this[_0x4962("0x738")]]&&(this[_0x4962("0x149")][this[_0x4962("0x738")]][_0x4962("0xe3")]=e[_0x4962("0x702")]),this.fsQuad[_0x4962("0xf6")]=this[_0x4962("0xf6")],this[_0x4962("0x709")]?(x[_0x4962("0x718")](null),this[_0x4962("0x73d")][_0x4962("0x711")](x)):(x[_0x4962("0x718")](_),this[_0x4962("0x728")]&&x[_0x4962("0x728")](x[_0x4962("0x735")],x[_0x4962("0x736")],x[_0x4962("0x737")]),this[_0x4962("0x73d")].render(x))}})},function(x,_,e){"use strict";var t=a(e(72)),i=a(e(22));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE.CSS2DObject=function(x){THREE[_0x4962("0x20c")][_0x4962("0xf")](this),this[_0x4962("0x472")]=x,this[_0x4962("0x472")].style[_0x4962("0x106")]="absolute",this[_0x4962("0x25e")]("removed",(function(x){null!==this[_0x4962("0x472")][_0x4962("0x2b")]&&this[_0x4962("0x472")][_0x4962("0x2b")][_0x4962("0x4e9")](this[_0x4962("0x472")])}))},THREE[_0x4962("0x73e")].prototype=(0,i.default)(THREE[_0x4962("0x20c")][_0x4962("0x1")]),THREE.CSS2DObject[_0x4962("0x1")][_0x4962("0x604")]=THREE[_0x4962("0x73e")],THREE[_0x4962("0x73f")]=function(){var x,_,e,i,a=new THREE.Vector3,n=new THREE.Matrix4,r=new THREE.Matrix4,s={objects:new t.default},o=document[_0x4962("0x24")](_0x4962("0x1cd"));o.style[_0x4962("0x740")]="hidden",o[_0x4962("0x25")].position=_0x4962("0x741"),this[_0x4962("0x1c8")]=o,this.getSize=function(){return{width:x,height:_}},this.setSize=function(t,a){e=(x=t)/2,i=(_=a)/2,o.style[_0x4962("0x1ce")]=t+"px",o[_0x4962("0x25")][_0x4962("0x1a4")]=a+"px"};var c,l,f=function x(_,t){if(_ instanceof THREE.CSS2DObject){a[_0x4962("0x742")](_[_0x4962("0x3ee")]),a[_0x4962("0x2b7")](r);var n=a.x*e+e,c=-a.y*i+i,l=_0x4962("0x743"),f="-50%",u=_.element;if(_[_0x4962("0x166")].updateAlign){var h=u[_0x4962("0x4f4")]();l=c>h[_0x4962("0x1a4")]?_0x4962("0x743"):0,n<h[_0x4962("0x1ce")]/2?f="0":2*e-n<h[_0x4962("0x1ce")]/2&&(f=_0x4962("0x743"))}var g=_[_0x4962("0x166")][_0x4962("0x744")],b=_0x4962("0x500")+f+", "+l+_0x4962("0x745")+n+"px,"+c+_0x4962("0x746")+g+")";_[_0x4962("0x355")]=n,_.offsetY=c,u[_0x4962("0x25")][_0x4962("0x4d8")]=b,u.style[_0x4962("0x4da")]=b,u.style[_0x4962("0x747")]=b,u[_0x4962("0x25")].transform=b;var v=_[_0x4962("0x17c")]&&a.z>=-1&&a.z<=1?"":"none";u.style[_0x4962("0x1d0")]=v,_[_0x4962("0x44")]({type:_0x4962("0x165"),message:{x:n,y:c,display:v}});var p={distanceToCameraSquared:d(t,_)};if(s[_0x4962("0x748")][_0x4962("0xd8")](_,p),u[_0x4962("0x2b")]!==o){var m=esmap[_0x4962("0x33")][_0x4962("0x3a")].mapView[_0x4962("0x336")];o[_0x4962("0x4f9")](m)?o[_0x4962("0x749")](u,m):o[_0x4962("0x28")](u);var A=document[_0x4962("0x74a")](_0x4962("0x74b"));A[_0x4962("0x74c")]("popMakerCreated",!1,!0),A[_0x4962("0x74d")]=u,document[_0x4962("0x44")](A,{dom:u})}}for(var y=0,C=_[_0x4962("0xf3")][_0x4962("0x0")];y<C;y++)x(_[_0x4962("0xf3")][y],t)},d=(c=new(THREE[_0x4962("0x12c")]),l=new(THREE[_0x4962("0x12c")]),function(x,_){return c[_0x4962("0x742")](x[_0x4962("0x3ee")]),l[_0x4962("0x742")](_[_0x4962("0x3ee")]),c[_0x4962("0x74e")](l)}),u=function(x){for(var _,e,t=(_=x,e=[],_.traverse((function(x){x instanceof THREE[_0x4962("0x73e")]&&e[_0x4962("0x3")](x)})),e).sort((function(x,_){return s[_0x4962("0x748")][_0x4962("0xdb")](x)[_0x4962("0x74f")]-s[_0x4962("0x748")].get(_)[_0x4962("0x74f")]})),i=t.length,a=0,n=t[_0x4962("0x0")];a<n;a++)t[a].element[_0x4962("0x25")][_0x4962("0x750")]=i-a};this[_0x4962("0x711")]=function(x,_){x[_0x4962("0x751")](),null===_.parent&&_[_0x4962("0x751")](),n[_0x4962("0x206")](_[_0x4962("0x3ed")]),r[_0x4962("0x3eb")](_[_0x4962("0x752")],n),f(x,_),u(x)}}},function(x,_,e){"use strict";var t=a(e(6)),i=a(e(9));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0x753")]=function(x){this[_0x4962("0x754")]=0,this[_0x4962("0x755")]=x||THREE[_0x4962("0x756")],this.materials=null,this.verbosity=0,this[_0x4962("0x757")]={},this[_0x4962("0x168")]=THREE[_0x4962("0x758")],this[_0x4962("0x759")]={position:_0x4962("0x75a"),normal:_0x4962("0x38e"),color:_0x4962("0x75b"),uv:_0x4962("0x75c")}},THREE[_0x4962("0x753")][_0x4962("0x1")]={constructor:THREE[_0x4962("0x753")],load:function(x,_,e,t){var i=this,a=new THREE.FileLoader(i[_0x4962("0x755")]);a.setPath(this[_0x4962("0x2c1")]),a.setResponseType(_0x4962("0x75d")),a[_0x4962("0x18d")](x,(function(x){i[_0x4962("0x75e")](x,_)}),e,t)},setPath:function(x){return this[_0x4962("0x2c1")]=x,this},setVerbosity:function(x){return this.verbosity=x,this},setDrawMode:function(x){return this.drawMode=x,this},setSkipDequantization:function(x,_){var e=!0;return typeof _!==_0x4962("0x21")&&(e=_),this[_0x4962("0x75f")](x)[_0x4962("0x760")]=e,this},decodeDracoFile:function(x,_,e,t){var i=this;THREE[_0x4962("0x753")][_0x4962("0x761")]()[_0x4962("0x2dd")]((function(a){i[_0x4962("0x762")](x,a[_0x4962("0x763")],_,e,t)}))},decodeDracoFileInternal:function(x,_,e,t,i){var a=new(_[_0x4962("0x764")]);a[_0x4962("0x765")](new Int8Array(x),x[_0x4962("0x766")]);var n=new(_[_0x4962("0x767")]),r=n[_0x4962("0x768")](a);if(r==_[_0x4962("0x769")])this[_0x4962("0x76a")]>0&&_0x4962("0x76b");else{if(r!=_[_0x4962("0x76c")]){var s=_0x4962("0x76e");throw new Error(s)}this[_0x4962("0x76a")]>0&&_0x4962("0x76d")}e(this[_0x4962("0x76f")](_,n,r,a,t,i))},addAttributeToGeometry:function(x,_,e,t,i,a,n,r){if(0===a.ptr){var s=_0x4962("0x770")+t;throw console[_0x4962("0xe0")](s),new Error(s)}var o,c,l=a.num_components(),f=e[_0x4962("0x771")]()*l;switch(i){case Float32Array:o=new x.DracoFloat32Array,_.GetAttributeFloatForAllPoints(e,a,o),r[t]=new Float32Array(f),c=THREE[_0x4962("0x772")];break;case Int8Array:o=new x.DracoInt8Array,_[_0x4962("0x773")](e,a,o),r[t]=new Int8Array(f),c=THREE[_0x4962("0x774")];break;case Int16Array:o=new x.DracoInt16Array,_[_0x4962("0x775")](e,a,o),r[t]=new Int16Array(f),c=THREE[_0x4962("0x776")];break;case Int32Array:o=new(x[_0x4962("0x777")]),_[_0x4962("0x778")](e,a,o),r[t]=new Int32Array(f),c=THREE[_0x4962("0x779")];break;case Uint8Array:o=new(x[_0x4962("0x77a")]),_[_0x4962("0x77b")](e,a,o),r[t]=new Uint8Array(f),c=THREE[_0x4962("0x77c")];break;case Uint16Array:o=new(x[_0x4962("0x77d")]),_[_0x4962("0x77e")](e,a,o),r[t]=new Uint16Array(f),c=THREE.Uint16BufferAttribute;break;case Uint32Array:o=new x.DracoUInt32Array,_[_0x4962("0x77f")](e,a,o),r[t]=new Uint32Array(f),c=THREE.Uint32BufferAttribute;break;default:s=_0x4962("0x780");throw console[_0x4962("0xe0")](s),new Error(s)}for(var d=0;d<f;d++)r[t][d]=o[_0x4962("0x781")](d);n[_0x4962("0x454")](t,new c(r[t],l)),x.destroy(o)},convertDracoGeometryTo3JS:function(x,_,e,t,i,a){var n,r;!0===this[_0x4962("0x75f")](_0x4962("0x106"))[_0x4962("0x760")]&&_[_0x4962("0x782")](x[_0x4962("0x75a")]);var s=performance[_0x4962("0x6d4")]();if(e===x[_0x4962("0x769")]?(n=new(x[_0x4962("0x198")]),r=_[_0x4962("0x783")](t,n)):(n=new x.PointCloud,r=_.DecodeBufferToPointCloud(t,n)),!r.ok()||0==n.ptr){var o=_0x4962("0x784");throw o+=r[_0x4962("0x785")](),console[_0x4962("0xe0")](o),x.destroy(_),x[_0x4962("0x786")](n),new Error(o)}var c,l=performance[_0x4962("0x6d4")]();x.destroy(t),e==x.TRIANGULAR_MESH?(c=n[_0x4962("0x787")](),this.verbosity>0&&console[_0x4962("0x223")](_0x4962("0x788")+c[_0x4962("0x18b")]())):c=0;var f=n[_0x4962("0x771")](),d=n[_0x4962("0x789")]();this[_0x4962("0x76a")]>0&&(console[_0x4962("0x223")](_0x4962("0x78a")+f[_0x4962("0x18b")]()),console[_0x4962("0x223")]("Number of attributes loaded: "+d.toString()));var u=_.GetAttributeId(n,x[_0x4962("0x75a")]);if(-1==u){o="THREE.DRACOLoader: No position attribute found.";throw console[_0x4962("0xe0")](o),x[_0x4962("0x786")](_),x[_0x4962("0x786")](n),new Error(o)}var h=_[_0x4962("0x78b")](n,u),g={},b=new(THREE[_0x4962("0x570")]);if(i)for(var v in i){var p=a[v],m=i[v],A=_[_0x4962("0x78c")](n,m);this[_0x4962("0x78d")](x,_,n,v,p,A,b,g)}else for(var v in this.nativeAttributeMap){var y=_[_0x4962("0x78e")](n,x[this[_0x4962("0x759")][v]]);if(-1!==y){this[_0x4962("0x76a")]>0&&console[_0x4962("0x223")](_0x4962("0x78f")+v+_0x4962("0x790"));A=_.GetAttribute(n,y);this[_0x4962("0x78d")](x,_,n,v,Float32Array,A,b,g)}}if(e==x.TRIANGULAR_MESH)if(this[_0x4962("0x168")]===THREE[_0x4962("0x791")]){var C=new x.DracoInt32Array;_.GetTriangleStripsFromMesh(n,C);g[_0x4962("0x792")]=new Uint32Array(C[_0x4962("0xdd")]());for(var I=0;I<C[_0x4962("0xdd")]();++I)g[_0x4962("0x792")][I]=C[_0x4962("0x781")](I);x.destroy(C)}else{var E=3*c;g[_0x4962("0x792")]=new Uint32Array(E);var w=new(x[_0x4962("0x777")]);for(I=0;I<c;++I){_[_0x4962("0x793")](n,I,w);var T=3*I;g[_0x4962("0x792")][T]=w[_0x4962("0x781")](0),g[_0x4962("0x792")][T+1]=w[_0x4962("0x781")](1),g[_0x4962("0x792")][T+2]=w[_0x4962("0x781")](2)}x[_0x4962("0x786")](w)}b[_0x4962("0x168")]=this[_0x4962("0x168")],e==x[_0x4962("0x769")]&&b.setIndex(new(g[_0x4962("0x792")][_0x4962("0x0")]>65535?THREE[_0x4962("0x794")]:THREE.Uint16BufferAttribute)(g[_0x4962("0x792")],1));var k=new(x[_0x4962("0x795")]);if(k[_0x4962("0x796")](h)){b[_0x4962("0x105")][_0x4962("0x106")].isQuantized=!0,b[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x797")]=k[_0x4962("0x558")](),b.attributes.position[_0x4962("0x798")]=k[_0x4962("0x799")](),b[_0x4962("0x105")].position[_0x4962("0x79a")]=new Float32Array(3);for(I=0;I<3;++I)b[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x79a")][I]=k[_0x4962("0x79b")](I)}return x[_0x4962("0x786")](k),x.destroy(_),x.destroy(n),this[_0x4962("0x79c")]=l-s,this[_0x4962("0x79d")]=performance[_0x4962("0x6d4")]()-l,this[_0x4962("0x76a")]>0&&(console[_0x4962("0x223")]("Decode time: "+this.decode_time),_0x4962("0x79e"),this[_0x4962("0x79d")]),b},isVersionSupported:function(x,_){THREE[_0x4962("0x753")][_0x4962("0x761")]().then((function(e){_(e[_0x4962("0x763")][_0x4962("0x79f")](x))}))},getAttributeOptions:function(x){return typeof this[_0x4962("0x757")][x]===_0x4962("0x21")&&(this[_0x4962("0x757")][x]={}),this[_0x4962("0x757")][x]}},THREE[_0x4962("0x753")][_0x4962("0x7a0")]="./",THREE.DRACOLoader.decoderConfig={},THREE.DRACOLoader[_0x4962("0x7a1")]=null,THREE[_0x4962("0x753")][_0x4962("0x7a2")]=function(x){THREE[_0x4962("0x753")][_0x4962("0x7a0")]=x},THREE[_0x4962("0x753")][_0x4962("0x7a3")]=function(x){var _=THREE[_0x4962("0x753")].decoderConfig[_0x4962("0x7a4")];THREE[_0x4962("0x753")][_0x4962("0x7a5")]=x||{},THREE[_0x4962("0x753")][_0x4962("0x7a6")](),_&&(THREE[_0x4962("0x753")][_0x4962("0x7a5")].wasmBinary=_)},THREE[_0x4962("0x753")][_0x4962("0x7a6")]=function(){THREE[_0x4962("0x753")][_0x4962("0x7a1")]=null},THREE.DRACOLoader.getDecoderModule=function(){var x=this,_=THREE[_0x4962("0x753")][_0x4962("0x7a0")],e=THREE[_0x4962("0x753")][_0x4962("0x7a5")],a=THREE[_0x4962("0x753")][_0x4962("0x7a1")];return a||("undefined"!=typeof DracoDecoderModule?a=i[_0x4962("0xc")][_0x4962("0xdc")]():(typeof WebAssembly===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(WebAssembly))!==_0x4962("0x9")||"js"===e[_0x4962("0x9d")]?a=THREE.DRACOLoader._loadScript(_+"draco_decoder.js"):(e[_0x4962("0x7a7")]=_+_0x4962("0x7a8"),a=THREE[_0x4962("0x753")][_0x4962("0x7a9")](_+"esmap_wasm.js").then((function(){return THREE[_0x4962("0x753")][_0x4962("0x7aa")](e.wasmBinaryFile)}))[_0x4962("0x2dd")]((function(x){e[_0x4962("0x7a4")]=x}))),a=a[_0x4962("0x2dd")]((function(){return new(i[_0x4962("0xc")])((function(_){e.onModuleLoaded=function(e){x[_0x4962("0x754")]=performance[_0x4962("0x6d4")](),_({decoder:e})},DracoDecoderModule(e)}))})),THREE[_0x4962("0x753")][_0x4962("0x7a1")]=a,a)},THREE[_0x4962("0x753")][_0x4962("0x7a9")]=function(x){var _=document.getElementById(_0x4962("0x7ab"));null!==_&&_.parentNode[_0x4962("0x4e9")](_);var e=document[_0x4962("0x7ac")](_0x4962("0x7ad"))[0],t=document[_0x4962("0x24")](_0x4962("0x7ae"));return t.id=_0x4962("0x7ab"),t[_0x4962("0x9d")]=_0x4962("0x7af"),t[_0x4962("0x4ee")]=x,new(i[_0x4962("0xc")])((function(x){t.onload=x,e[_0x4962("0x28")](t)}))},THREE[_0x4962("0x753")][_0x4962("0x7aa")]=function(x){var _=new THREE.FileLoader;return _[_0x4962("0x7b0")](_0x4962("0x75d")),new(i[_0x4962("0xc")])((function(e,t){_[_0x4962("0x18d")](x,e,void 0,t)}))}},function(x,_,e){"use strict";var t=o(e(14)),i=o(e(6)),a=o(e(22)),n=o(e(9)),r=e(272),s=e(34);function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c=null,l=null,f=null;THREE[_0x4962("0x7b1")]=function(){function x(x){this.manager=void 0!==x?x:THREE[_0x4962("0x756")],this[_0x4962("0x7b2")]=null,f=new _}function _(){var x={};return{get:function(_){return x[_]},add:function(_,e){x[_]=e},remove:function(_){delete x[_]},removeAll:function(){x={}}}}x[_0x4962("0x1")]={constructor:x,crossOrigin:_0x4962("0x7b3"),clearREG:function(){f.removeAll()},load:function(x,_,e,t,i){var a,n=this;i||(i=""),a=void 0!==this[_0x4962("0x7b4")]?this[_0x4962("0x7b4")]:void 0!==this[_0x4962("0x2c1")]?this[_0x4962("0x2c1")]:THREE[_0x4962("0x7b5")][_0x4962("0x7b6")](x),n.manager[_0x4962("0x7b7")](x);var r=function(_){t?t(_):console[_0x4962("0x44a")](_),n[_0x4962("0x755")][_0x4962("0x7b8")](x),n[_0x4962("0x755")][_0x4962("0x7b9")](x)},s=new THREE.FileLoader(n[_0x4962("0x755")]);s[_0x4962("0x4f")](this.path),s[_0x4962("0x7b0")](_0x4962("0x75d")),s.load(x,(function(e){try{n[_0x4962("0x71")](e,a,(function(e){_(e),n[_0x4962("0x755")][_0x4962("0x7b9")](x)}),r,x,i)||t&&t()}catch(x){r(x)}}),e,r)},setCrossOrigin:function(x){return this[_0x4962("0x7ba")]=x,this},setPath:function(x){return this[_0x4962("0x2c1")]=x,this},setResourcePath:function(x){return this[_0x4962("0x7b4")]=x,this},setDRACOLoader:function(x){return this.dracoLoader=x,this},parse:function(x,_,t,i,a,n){var g,b,y={};if(typeof x===_0x4962("0xd"))g=x;else if(THREE[_0x4962("0x7b5")][_0x4962("0x7bb")](new Uint8Array(x,0,4))===h){try{y[e[_0x4962("0x7bc")]]=new v(x)}catch(x){return void(i&&i(x))}g=y[e.KHR_BINARY_GLTF][_0x4962("0x7bd")]}else g=THREE[_0x4962("0x7b5")][_0x4962("0x7bb")](new Uint8Array(x));b=JSON[_0x4962("0x71")](g[_0x4962("0x7be")]());esmap[_0x4962("0x33")][_0x4962("0x3a")];if(b[_0x4962("0xa5")]||a[_0x4962("0xaf")](_0x4962("0x7bf"))>-1){var C=b[_0x4962("0xa5")][_0x4962("0x2d")](".");if(C[0]>1)return;var I=s.Base64[_0x4962("0x4b")](b[_0x4962("0x57b")]);I=I[_0x4962("0x7d")](0,I[_0x4962("0x0")]-10),b[_0x4962("0x7c0")]=JSON[_0x4962("0x71")]((0,r[_0x4962("0x4b")])(I,_0x4962("0x7c1"),C[1]))}if(b[_0x4962("0x7c0")].version<2.1)_0x4962("0x7c2");else if(b[_0x4962("0x7c0")]&&b[_0x4962("0x7c0")][_0x4962("0x7c3")]&&b[_0x4962("0x7c0")][_0x4962("0x57b")]){var E=b[_0x4962("0x7c0")].hash;2.2==b[_0x4962("0x7c0")][_0x4962("0xa5")]&&(b.asset[_0x4962("0x57b")]=s[_0x4962("0x4a")].decode(b.asset[_0x4962("0x57b")]));var w=(0,r[_0x4962("0x4b")])(b[_0x4962("0x7c0")].data,_0x4962("0x7c5"),"GLTF");if(w[_0x4962("0x14d")]('\\"','"'),w=w[_0x4962("0x2d")](",").map((function(x){return 1*x})),b.scenes[0].nodes=w,c=b[_0x4962("0x7c6")][0][_0x4962("0x41d")][0],l=b[_0x4962("0x7c6")][0].nodes[1]){b[_0x4962("0x41d")]||(b[_0x4962("0x41d")]=[]),b.meshes||(b[_0x4962("0x103")]=[]),b[_0x4962("0x7c7")]||(b[_0x4962("0x7c7")]=[]),b[_0x4962("0x7c8")]||(b[_0x4962("0x7c8")]=[]),b[_0x4962("0x431")]||(b[_0x4962("0x431")]=[]),b[_0x4962("0x101")]||(b[_0x4962("0x101")]=[]),b.textures||(b[_0x4962("0x7c9")]=[]),b[_0x4962("0x7ca")]||(b[_0x4962("0x7ca")]=[]),b[_0x4962("0x7cb")]||(b[_0x4962("0x7cb")]=[]);var T=(b.nodes[_0x4962("0x0")]+1)*(b[_0x4962("0x103")].length+1)*(b.accessors[_0x4962("0x0")]+1)*(b.bufferViews[_0x4962("0x0")]+1)*(b[_0x4962("0x431")][_0x4962("0x0")]+1)*(b.materials.length+1)*(b[_0x4962("0x7c9")].length+1)*(b.images[_0x4962("0x0")]+1)*(b.samplers.length+1);if((T%=1e7)==c){var k=esmap.ESMapUtil[_0x4962("0x89")](l+esmap.ESMapUtil[_0x4962("0x89")](c+_0x4962("0x7cc")));if(b[_0x4962("0x7c0")][_0x4962("0x2")]("b")){var M=b[_0x4962("0x7c0")].b,S=b[_0x4962("0x7c0")].mt||"";if(esmap.ESMapUtil[_0x4962("0x89")](_0x4962("0x7cd")+n)!=M)throw a+"æ¨¡åæªç»ææ! å½åç»å®"+b.asset.m+_0x4962("0x7ce")+n+_0x4962("0x7cf")+S;k=esmap[_0x4962("0x8c")][_0x4962("0x89")](k+M)}var R=k==E;if(k==E){if(b[_0x4962("0x7c0")].URL=a,b.extensionsUsed)for(var L=0;L<b[_0x4962("0x7d0")].length&&R;++L){var H=b[_0x4962("0x7d0")][L],O=b[_0x4962("0x7d1")]||[];switch(H){case e[_0x4962("0x7d2")]:y[H]=new d(b);break;case e[_0x4962("0x7d3")]:y[H]=new u(b);break;case e[_0x4962("0x7d4")]:y[H]=new A(b);break;case e.KHR_DRACO_MESH_COMPRESSION:y[H]=new p(b,this.dracoLoader);break;case e[_0x4962("0x7d5")]:y[e[_0x4962("0x7d5")]]=new o(b);break;case e[_0x4962("0x7d6")]:y[e[_0x4962("0x7d6")]]=new m(b);break;default:O[_0x4962("0xaf")](H)>=0&&console[_0x4962("0x44a")](_0x4962("0x7d7")+H+'".')}}if(R&&b.scenes[0][_0x4962("0x41d")][_0x4962("0x4")](0,2),2.2==b[_0x4962("0x7c0")][_0x4962("0xa5")]){var P=l%100,N=l%50;f[_0x4962("0xda")](b.asset[_0x4962("0x7d8")],[P,N])}var F=new U(b,y,{path:_||this.resourcePath||"",crossOrigin:this[_0x4962("0x7ba")],manager:this[_0x4962("0x755")]});if(b.ms&&b.ms[_0x4962("0x7ca")])for(var B=0;B<b.ms[_0x4962("0x7ca")].length;B++){var z=b.ms[_0x4962("0x7ca")][B];THREE[_0x4962("0x7d9")].timeMap[_0x4962("0xd8")](z[_0x4962("0x432")],z.t||0)}return F.parse((function(x,_,e,i,a){var n={scene:x,scenes:_,cameras:e,animations:i,asset:a.asset,parser:F,userData:{}};D(y,n,a),t(n)}),i),!0}}}}else console[_0x4962("0x44a")](esmap[_0x4962("0x289")][_0x4962("0x7c4")]+a)}};var e={KHR_BINARY_GLTF:_0x4962("0x7da"),KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:_0x4962("0x7db"),KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:_0x4962("0x7dc"),KHR_TEXTURE_TRANSFORM:_0x4962("0x7dd"),MSFT_TEXTURE_DDS:_0x4962("0x7de")};function o(){if(!THREE.DDSLoader)throw new Error("GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=e[_0x4962("0x7d5")],this[_0x4962("0x7df")]=new(THREE[_0x4962("0x7e0")])}function d(x){this[_0x4962("0x107")]=e[_0x4962("0x7d2")];var _=x.extensions&&x[_0x4962("0x7e1")][e[_0x4962("0x7d2")]]||{};this[_0x4962("0x7e2")]=_[_0x4962("0x7e3")]||[]}function u(x){this[_0x4962("0x107")]=e[_0x4962("0x7d3")]}d[_0x4962("0x1")][_0x4962("0x7e4")]=function(x){var _,e=this[_0x4962("0x7e2")][x],t=new THREE.Color(16777215);void 0!==e.color&&t[_0x4962("0x42b")](e.color);var i=void 0!==e[_0x4962("0x558")]?e.range:0;switch(e[_0x4962("0x9d")]){case _0x4962("0x7e5"):(_=new(THREE[_0x4962("0x7e6")])(t)).target.position[_0x4962("0xd8")](0,0,-1),_[_0x4962("0xda")](_[_0x4962("0x2c5")]);break;case"point":(_=new(THREE[_0x4962("0x7e7")])(t))[_0x4962("0x23b")]=i;break;case"spot":(_=new(THREE[_0x4962("0x7e8")])(t)).distance=i,e[_0x4962("0x7e9")]=e[_0x4962("0x7e9")]||{},e[_0x4962("0x7e9")][_0x4962("0x7ea")]=void 0!==e[_0x4962("0x7e9")][_0x4962("0x7ea")]?e[_0x4962("0x7e9")][_0x4962("0x7ea")]:0,e[_0x4962("0x7e9")][_0x4962("0x7eb")]=void 0!==e[_0x4962("0x7e9")][_0x4962("0x7eb")]?e[_0x4962("0x7e9")][_0x4962("0x7eb")]:Math.PI/4,_.angle=e.spot[_0x4962("0x7eb")],_[_0x4962("0x7ec")]=1-e[_0x4962("0x7e9")][_0x4962("0x7ea")]/e[_0x4962("0x7e9")][_0x4962("0x7eb")],_[_0x4962("0x2c5")][_0x4962("0x106")][_0x4962("0xd8")](0,0,-1),_[_0x4962("0xda")](_[_0x4962("0x2c5")]);break;default:throw new Error(_0x4962("0x7ed")+e.type+'".')}return _[_0x4962("0x7ee")]=2,void 0!==e.intensity&&(_[_0x4962("0x43a")]=e[_0x4962("0x43a")]),_[_0x4962("0x107")]=e[_0x4962("0x107")]||_0x4962("0x7ef")+x,n.default[_0x4962("0xdc")](_)},u[_0x4962("0x1")][_0x4962("0x7f0")]=function(x){return THREE[_0x4962("0x581")]},u[_0x4962("0x1")][_0x4962("0x7f1")]=function(x,_,e){var t=[];x.color=new THREE.Color(1,1,1),x[_0x4962("0x145")]=1;var i=_[_0x4962("0x7f2")];if(i){if(Array[_0x4962("0x123")](i[_0x4962("0x7f3")])){var a=i[_0x4962("0x7f3")];x.color[_0x4962("0x42b")](a),x[_0x4962("0x145")]=a[3]}void 0!==i[_0x4962("0x7f4")]&&t[_0x4962("0x3")](e[_0x4962("0x7f5")](x,_0x4962("0x48"),i[_0x4962("0x7f4")]))}return n[_0x4962("0xc")][_0x4962("0x698")](t)};_0x4962("0x7f6");var h=_0x4962("0x7f7"),g=12,b={JSON:1313821514,BIN:5130562};function v(x){this.name=e.KHR_BINARY_GLTF,this[_0x4962("0x7bd")]=null,this[_0x4962("0x27")]=null;var _=new DataView(x,0,g);if(this[_0x4962("0x7f8")]={magic:THREE[_0x4962("0x7b5")].decodeText(new Uint8Array(x[_0x4962("0x1e7")](0,4))),version:_[_0x4962("0x7f9")](4,!0),length:_[_0x4962("0x7f9")](8,!0)},this[_0x4962("0x7f8")].magic!==h)throw new Error(_0x4962("0x7fa"));if(this.header.version<2)throw new Error("GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var t=new DataView(x,g),i=0;i<t[_0x4962("0x766")];){var a=t[_0x4962("0x7f9")](i,!0);i+=4;var n=t[_0x4962("0x7f9")](i,!0);if(i+=4,n===b.JSON){var r=new Uint8Array(x,g+i,a);this.content=THREE.LoaderUtils[_0x4962("0x7bb")](r)}else if(n===b[_0x4962("0x7fb")]){var s=g+i;this[_0x4962("0x27")]=x[_0x4962("0x1e7")](s,s+a)}i+=a}if(null===this[_0x4962("0x7bd")])throw new Error(_0x4962("0x7fc"))}function p(x,_){if(!_)throw new Error(_0x4962("0x7fd"));this.name=e[_0x4962("0x7fe")],this[_0x4962("0x102")]=x,this[_0x4962("0x7b2")]=_,THREE[_0x4962("0x753")][_0x4962("0x761")]()}function m(x){this[_0x4962("0x107")]=e[_0x4962("0x7d6")]}function A(){return{name:e[_0x4962("0x7d4")],specularGlossinessParams:[_0x4962("0x147"),"map",_0x4962("0x806"),_0x4962("0x807"),_0x4962("0x808"),"aoMapIntensity",_0x4962("0x439"),_0x4962("0x448"),"emissiveMap",_0x4962("0x809"),_0x4962("0x80a"),_0x4962("0x80b"),_0x4962("0x80c"),_0x4962("0x80d"),_0x4962("0x80e"),_0x4962("0x80f"),_0x4962("0x810"),"glossinessMap","glossiness",_0x4962("0x811"),_0x4962("0x812"),"envMapIntensity",_0x4962("0x813")],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(x,_,e){var t=_[_0x4962("0x7e1")][this[_0x4962("0x107")]],i=THREE[_0x4962("0x814")][_0x4962("0x815")],a=THREE[_0x4962("0x73b")].clone(i[_0x4962("0x149")]),r=[_0x4962("0x816"),_0x4962("0x817"),_0x4962("0x818")].join("\n"),s=["#ifdef USE_GLOSSINESSMAP",_0x4962("0x819"),_0x4962("0x818")][_0x4962("0x32")]("\n"),o=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP",_0x4962("0x81a"),_0x4962("0x81b"),_0x4962("0x81c"),_0x4962("0x81d"),_0x4962("0x818")][_0x4962("0x32")]("\n"),c=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP",_0x4962("0x81e"),"\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),l=[_0x4962("0x81f"),_0x4962("0x820"),"material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );",_0x4962("0x821")][_0x4962("0x32")]("\n"),f=i[_0x4962("0x152")][_0x4962("0x14d")]("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;")[_0x4962("0x14d")](_0x4962("0x822"),r).replace(_0x4962("0x823"),s)[_0x4962("0x14d")](_0x4962("0x824"),o)[_0x4962("0x14d")](_0x4962("0x825"),c)[_0x4962("0x14d")](_0x4962("0x826"),l);delete a[_0x4962("0x827")],delete a[_0x4962("0x146")],delete a[_0x4962("0x828")],delete a.metalnessMap,a.specular={value:(new(THREE[_0x4962("0x188")]))[_0x4962("0x829")](1118481)},a[_0x4962("0x82a")]={value:.5},a[_0x4962("0x80f")]={value:null},a[_0x4962("0x82b")]={value:null},x[_0x4962("0x14c")]=i[_0x4962("0x14c")],x.fragmentShader=f,x[_0x4962("0x149")]=a,x.defines={STANDARD:""},x.color=new(THREE[_0x4962("0x188")])(1,1,1),x[_0x4962("0x145")]=1;var d=[];if(Array[_0x4962("0x123")](t[_0x4962("0x82c")])){var u=t[_0x4962("0x82c")];x[_0x4962("0x147")][_0x4962("0x42b")](u),x.opacity=u[3]}if(void 0!==t[_0x4962("0x82d")]&&d.push(e[_0x4962("0x7f5")](x,_0x4962("0x48"),t[_0x4962("0x82d")])),x[_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(0,0,0),x[_0x4962("0x82a")]=void 0!==t.glossinessFactor?t[_0x4962("0x82e")]:1,x.specular=new THREE.Color(1,1,1),Array[_0x4962("0x123")](t.specularFactor)&&x[_0x4962("0x810")].fromArray(t[_0x4962("0x82f")]),void 0!==t[_0x4962("0x830")]){var h=t[_0x4962("0x830")];d[_0x4962("0x3")](e[_0x4962("0x7f5")](x,_0x4962("0x82b"),h)),d[_0x4962("0x3")](e[_0x4962("0x7f5")](x,"specularMap",h))}return n[_0x4962("0xc")][_0x4962("0x698")](d)},createMaterial:function(x){var _=new THREE.ShaderMaterial({defines:x[_0x4962("0x73c")],vertexShader:x[_0x4962("0x14c")],fragmentShader:x.fragmentShader,uniforms:x.uniforms,fog:!0,lights:!0,opacity:x[_0x4962("0x145")],transparent:x[_0x4962("0x144")]});return _[_0x4962("0x831")]=!0,_[_0x4962("0x147")]=x[_0x4962("0x147")],_[_0x4962("0x48")]=void 0===x[_0x4962("0x48")]?null:x[_0x4962("0x48")],_[_0x4962("0x806")]=null,_.lightMapIntensity=1,_[_0x4962("0x808")]=void 0===x[_0x4962("0x808")]?null:x[_0x4962("0x808")],_[_0x4962("0x832")]=1,_[_0x4962("0x439")]=x[_0x4962("0x439")],_.emissiveIntensity=1,_[_0x4962("0x833")]=void 0===x.emissiveMap?null:x[_0x4962("0x833")],_[_0x4962("0x809")]=void 0===x[_0x4962("0x809")]?null:x[_0x4962("0x809")],_[_0x4962("0x80a")]=1,_.normalMap=void 0===x.normalMap?null:x[_0x4962("0x80b")],x.normalScale&&(_[_0x4962("0x834")]=x.normalScale),_.displacementMap=null,_[_0x4962("0x80d")]=1,_[_0x4962("0x80e")]=0,_.specularMap=void 0===x[_0x4962("0x80f")]?null:x[_0x4962("0x80f")],_[_0x4962("0x810")]=x[_0x4962("0x810")],_[_0x4962("0x82b")]=void 0===x[_0x4962("0x82b")]?null:x[_0x4962("0x82b")],_.glossiness=x[_0x4962("0x82a")],_[_0x4962("0x811")]=null,_[_0x4962("0x812")]=void 0===x.envMap?null:x[_0x4962("0x812")],_[_0x4962("0x835")]=1,_[_0x4962("0x813")]=.98,_[_0x4962("0x7e1")].derivatives=!0,_},cloneMaterial:function(x){var _=x[_0x4962("0x126")]();_[_0x4962("0x831")]=!0;for(var e=this[_0x4962("0x836")],t=0,i=e[_0x4962("0x0")];t<i;t++)_[e[t]]=x[e[t]];return _},refreshUniforms:function(x,_,e,t,i,a){if(!0===i[_0x4962("0x831")]){var n,r=i[_0x4962("0x149")],s=i[_0x4962("0x73c")];r[_0x4962("0x145")].value=i[_0x4962("0x145")],r[_0x4962("0x837")][_0x4962("0xe3")][_0x4962("0x206")](i.color),r[_0x4962("0x439")][_0x4962("0xe3")][_0x4962("0x206")](i.emissive)[_0x4962("0x250")](i[_0x4962("0x448")]),r[_0x4962("0x48")][_0x4962("0xe3")]=i.map,r[_0x4962("0x80f")].value=i[_0x4962("0x80f")],r[_0x4962("0x811")][_0x4962("0xe3")]=i.alphaMap,r[_0x4962("0x806")].value=i[_0x4962("0x806")],r[_0x4962("0x807")].value=i.lightMapIntensity,r.aoMap.value=i[_0x4962("0x808")],r[_0x4962("0x832")][_0x4962("0xe3")]=i.aoMapIntensity,i[_0x4962("0x48")]?n=i[_0x4962("0x48")]:i[_0x4962("0x80f")]?n=i[_0x4962("0x80f")]:i[_0x4962("0x80c")]?n=i.displacementMap:i.normalMap?n=i[_0x4962("0x80b")]:i[_0x4962("0x809")]?n=i[_0x4962("0x809")]:i[_0x4962("0x82b")]?n=i.glossinessMap:i[_0x4962("0x811")]?n=i[_0x4962("0x811")]:i[_0x4962("0x833")]&&(n=i[_0x4962("0x833")]),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n[_0x4962("0x838")]&&n[_0x4962("0x42c")](),r[_0x4962("0x839")].value[_0x4962("0x206")](n[_0x4962("0x22b")])),i[_0x4962("0x812")]&&(r[_0x4962("0x812")][_0x4962("0xe3")]=i[_0x4962("0x812")],r[_0x4962("0x835")].value=i[_0x4962("0x835")],r.flipEnvMap[_0x4962("0xe3")]=i.envMap[_0x4962("0x83a")]?-1:1,r.reflectivity[_0x4962("0xe3")]=i[_0x4962("0x83b")],r[_0x4962("0x813")][_0x4962("0xe3")]=i[_0x4962("0x813")],r[_0x4962("0x83c")][_0x4962("0xe3")]=x[_0x4962("0x83d")].get(i.envMap)[_0x4962("0x83e")]),r[_0x4962("0x810")][_0x4962("0xe3")].copy(i[_0x4962("0x810")]),r.glossiness[_0x4962("0xe3")]=i[_0x4962("0x82a")],r.glossinessMap[_0x4962("0xe3")]=i[_0x4962("0x82b")],r.emissiveMap.value=i[_0x4962("0x833")],r.bumpMap[_0x4962("0xe3")]=i[_0x4962("0x809")],r[_0x4962("0x80b")][_0x4962("0xe3")]=i[_0x4962("0x80b")],r[_0x4962("0x80c")][_0x4962("0xe3")]=i[_0x4962("0x80c")],r.displacementScale[_0x4962("0xe3")]=i[_0x4962("0x80d")],r.displacementBias[_0x4962("0xe3")]=i[_0x4962("0x80e")],null!==r[_0x4962("0x82b")].value&&void 0===s[_0x4962("0x83f")]&&(s[_0x4962("0x83f")]="",s[_0x4962("0x840")]=""),null===r.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP)}}}}function y(x,_,e,t){THREE[_0x4962("0x841")][_0x4962("0xf")](this,x,_,e,t)}p.prototype[_0x4962("0x7ff")]=function(x,_){var e=this[_0x4962("0x102")],t=this[_0x4962("0x7b2")],i=x.extensions[this[_0x4962("0x107")]][_0x4962("0x800")],a=x[_0x4962("0x7e1")][this[_0x4962("0x107")]][_0x4962("0x105")],r={},s={},o={};for(var c in a)c in k&&(r[k[c]]=a[c]);for(c in x[_0x4962("0x105")])if(void 0!==k[c]&&void 0!==a[c]){var l=e[_0x4962("0x7c7")][x[_0x4962("0x105")][c]],f=I[l[_0x4962("0x801")]];o[k[c]]=f,s[k[c]]=!0===l.normalized}return _[_0x4962("0x802")]("bufferView",i)[_0x4962("0x2dd")]((function(x){return new(n[_0x4962("0xc")])((function(_){t[_0x4962("0x75e")](x,(function(x){for(var e in x[_0x4962("0x105")]){var t=x[_0x4962("0x105")][e],i=s[e];void 0!==i&&(t[_0x4962("0x803")]=i)}_(x)}),r,o)}))}))},m[_0x4962("0x1")][_0x4962("0x804")]=function(x,_){return x=x[_0x4962("0x126")](),void 0!==_[_0x4962("0x15c")]&&x[_0x4962("0x15c")].fromArray(_.offset),void 0!==_[_0x4962("0x210")]&&(x[_0x4962("0x210")]=_[_0x4962("0x210")]),void 0!==_[_0x4962("0x1fe")]&&x[_0x4962("0x15b")][_0x4962("0x42b")](_[_0x4962("0x1fe")]),void 0!==_[_0x4962("0x805")]&&console[_0x4962("0x44a")]('GLTFLoader: Custom UV sets in "'+this[_0x4962("0x107")]+'" extension not yet supported.'),x[_0x4962("0x187")]=!0,x},y[_0x4962("0x1")]=(0,a[_0x4962("0xc")])(THREE[_0x4962("0x841")][_0x4962("0x1")]),y.prototype.constructor=y,y[_0x4962("0x1")][_0x4962("0x842")]=function(x){for(var _=this[_0x4962("0x843")],e=this[_0x4962("0x844")],t=this[_0x4962("0x845")],i=x*t*3+t,a=0;a!==t;a++)_[a]=e[i+a];return _},y[_0x4962("0x1")].beforeStart_=y[_0x4962("0x1")].copySampleValue_,y.prototype.afterEnd_=y.prototype[_0x4962("0x842")],y.prototype[_0x4962("0x846")]=function(x,_,e,t){for(var i=this[_0x4962("0x843")],a=this[_0x4962("0x844")],n=this[_0x4962("0x845")],r=2*n,s=3*n,o=t-_,c=(e-_)/o,l=c*c,f=l*c,d=x*s,u=d-s,h=-2*f+3*l,g=f-l,b=1-h,v=g-l+c,p=0;p!==n;p++){var m=a[u+p+n],A=a[u+p+r]*o,y=a[d+p+n],C=a[d+p]*o;i[p]=b*m+v*A+h*y+g*C}return i};var C={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},I=(THREE.Matrix3,THREE[_0x4962("0x23f")],THREE[_0x4962("0x568")],THREE[_0x4962("0x12c")],THREE.Vector4,THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),E={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE[_0x4962("0x847")],9986:THREE[_0x4962("0x848")],9987:THREE[_0x4962("0x849")]},w={33071:THREE[_0x4962("0x84a")],33648:THREE[_0x4962("0x84b")],10497:THREE[_0x4962("0x18f")]},T=(THREE[_0x4962("0x84c")],THREE[_0x4962("0x84d")],THREE.NeverDepth,THREE.LessDepth,THREE[_0x4962("0x84e")],THREE.LessEqualDepth,THREE[_0x4962("0x84f")],THREE.NotEqualDepth,THREE[_0x4962("0x84f")],THREE.AlwaysDepth,THREE[_0x4962("0x850")],THREE.SubtractEquation,THREE[_0x4962("0x851")],THREE.ZeroFactor,THREE[_0x4962("0x852")],THREE[_0x4962("0x853")],THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE[_0x4962("0x854")],THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE[_0x4962("0x855")],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),k={POSITION:_0x4962("0x106"),NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD_1:_0x4962("0x44e"),COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:_0x4962("0x856")},M={scale:_0x4962("0x1fe"),translation:"position",rotation:_0x4962("0x205"),weights:"morphTargetInfluences"},S={CUBICSPLINE:THREE[_0x4962("0x857")],LINEAR:THREE[_0x4962("0x858")],STEP:THREE[_0x4962("0x859")]},R=(_0x4962("0x85a"),_0x4962("0x85b"),_0x4962("0x85c"),_0x4962("0x85d"),{OPAQUE:"OPAQUE",MASK:"MASK",BLEND:_0x4962("0x85e")}),L={"image/png":THREE.RGBAFormat,"image/jpeg":THREE[_0x4962("0x85f")]};function H(x,_){return typeof x!==_0x4962("0xd")||""===x?"":/^(https?:)?\/\//i.test(x)||/^data:.*,.*$/i.test(x)||/^blob:.*$/i[_0x4962("0x2c")](x)?x:_+x}function D(x,_,e){for(var t in e[_0x4962("0x7e1")])void 0===x[t]&&(_.userData[_0x4962("0x860")]=_[_0x4962("0x166")].gltfExtensions||{},_[_0x4962("0x166")][_0x4962("0x860")][t]=e[_0x4962("0x7e1")][t])}function O(x,_){void 0!==_.extras&&((0,i[_0x4962("0xc")])(_[_0x4962("0x861")])===_0x4962("0x9")?x[_0x4962("0x166")]=_[_0x4962("0x861")]:console[_0x4962("0x44a")](_0x4962("0x862")+_[_0x4962("0x861")]))}function P(x,_){if(x[_0x4962("0x868")](),void 0!==_.weights)for(var e=0,t=_[_0x4962("0x869")][_0x4962("0x0")];e<t;e++)x[_0x4962("0x86a")][e]=_[_0x4962("0x869")][e];if(_.extras&&Array[_0x4962("0x123")](_.extras.targetNames)){var i=_[_0x4962("0x861")][_0x4962("0x86b")];if(x.morphTargetInfluences[_0x4962("0x0")]===i[_0x4962("0x0")]){x[_0x4962("0x86c")]={};for(e=0,t=i[_0x4962("0x0")];e<t;e++)x[_0x4962("0x86c")][i[e]]=e}else console[_0x4962("0x44a")](_0x4962("0x86d"))}}function N(x,_){if((0,t[_0x4962("0xc")])(x).length!==(0,t[_0x4962("0xc")])(_)[_0x4962("0x0")])return!1;for(var e in x)if(x[e]!==_[e])return!1;return!0}function F(x,_){if(x[_0x4962("0x0")]!==_[_0x4962("0x0")])return!1;for(var e=0,t=x.length;e<t;e++)if(x[e]!==_[e])return!1;return!0}function B(x,_){for(var t=0,i=x[_0x4962("0x0")];t<i;t++){var a=x[t];if(n=a[_0x4962("0x86e")],r=_,s=void 0,o=void 0,s=n[_0x4962("0x7e1")]?n[_0x4962("0x7e1")][e.KHR_DRACO_MESH_COMPRESSION]:void 0,o=r.extensions?r[_0x4962("0x7e1")][e[_0x4962("0x7fe")]]:void 0,s&&o?s[_0x4962("0x800")]===o[_0x4962("0x800")]&&N(s[_0x4962("0x105")],o[_0x4962("0x105")]):n[_0x4962("0x792")]===r[_0x4962("0x792")]&&N(n[_0x4962("0x105")],r[_0x4962("0x105")]))return a[_0x4962("0x86f")]}var n,r,s,o;return null}function z(x){if(x[_0x4962("0x872")]){for(var _=x[_0x4962("0x182")],e=x[_0x4962("0x873")],t=x.array[_0x4962("0x1e7")](0,_*e),i=0,a=0;i<_;++i)t[a++]=x[_0x4962("0x44f")](i),e>=2&&(t[a++]=x.getY(i)),e>=3&&(t[a++]=x.getZ(i)),e>=4&&(t[a++]=x[_0x4962("0x874")](i));return new(THREE[_0x4962("0x455")])(t,e,x.normalized)}return x.clone()}function U(x,e,t){this[_0x4962("0x102")]=x||{},this.extensions=e||{},this.options=t||{},this[_0x4962("0x875")]=new _,this.primitiveCache=[],this[_0x4962("0x876")]=[],this.multiPassGeometryCache=[],this[_0x4962("0x877")]=new THREE.TextureLoader(this.options.manager),this[_0x4962("0x877")][_0x4962("0x878")](this[_0x4962("0x3b")][_0x4962("0x7ba")]),this[_0x4962("0x879")]=new(THREE[_0x4962("0x87a")])(this[_0x4962("0x3b")][_0x4962("0x755")]),this[_0x4962("0x879")][_0x4962("0x7b0")](_0x4962("0x75d"))}function V(x,_,e){var t=_[_0x4962("0x105")],i=[];function a(_,t){return e.getDependency(_0x4962("0x863"),_)[_0x4962("0x2dd")]((function(_){x[_0x4962("0x454")](t,_)}))}for(var r in t){var s=k[r];s&&(s in x[_0x4962("0x105")]||i[_0x4962("0x3")](a(t[r],s)))}if(void 0!==_[_0x4962("0x792")]&&!x[_0x4962("0x2cd")]){var o=e[_0x4962("0x802")](_0x4962("0x863"),_[_0x4962("0x792")])[_0x4962("0x2dd")]((function(_){x.setIndex(_)}));i[_0x4962("0x3")](o)}return O(x,_),n[_0x4962("0xc")][_0x4962("0x698")](i)[_0x4962("0x2dd")]((function(){return void 0!==_[_0x4962("0x8b2")]?function(x,_,e){for(var t=!1,i=!1,a=0,r=_[_0x4962("0x0")];a<r&&(void 0!==(c=_[a])[_0x4962("0x75a")]&&(t=!0),void 0!==c[_0x4962("0x38e")]&&(i=!0),!t||!i);a++);if(!t&&!i)return n[_0x4962("0xc")][_0x4962("0xdc")](x);var s=[],o=[];for(a=0,r=_[_0x4962("0x0")];a<r;a++){var c=_[a];if(t){var l=void 0!==c.POSITION?e[_0x4962("0x802")](_0x4962("0x863"),c[_0x4962("0x75a")]).then((function(x){return z(x)})):x[_0x4962("0x105")][_0x4962("0x106")];s[_0x4962("0x3")](l)}i&&(l=void 0!==c[_0x4962("0x38e")]?e[_0x4962("0x802")](_0x4962("0x863"),c[_0x4962("0x38e")])[_0x4962("0x2dd")]((function(x){return z(x)})):x[_0x4962("0x105")][_0x4962("0x141")],o[_0x4962("0x3")](l))}return n.default.all([n[_0x4962("0xc")][_0x4962("0x698")](s),n[_0x4962("0xc")][_0x4962("0x698")](o)]).then((function(e){for(var a=e[0],n=e[1],r=0,s=_[_0x4962("0x0")];r<s;r++){var o=_[r],c="morphTarget"+r;if(t&&void 0!==o.POSITION){var l=a[r];l[_0x4962("0x107")]=c;for(var f=x[_0x4962("0x105")].position,d=0,u=l[_0x4962("0x182")];d<u;d++)l.setXYZ(d,l[_0x4962("0x44f")](d)+f[_0x4962("0x44f")](d),l.getY(d)+f[_0x4962("0x864")](d),l.getZ(d)+f[_0x4962("0x865")](d))}if(i&&void 0!==o.NORMAL){var h=n[r];h.name=c;var g=x[_0x4962("0x105")].normal;for(d=0,u=h[_0x4962("0x182")];d<u;d++)h[_0x4962("0x866")](d,h.getX(d)+g[_0x4962("0x44f")](d),h.getY(d)+g.getY(d),h[_0x4962("0x865")](d)+g.getZ(d))}}return t&&(x[_0x4962("0x867")][_0x4962("0x106")]=a),i&&(x[_0x4962("0x867")][_0x4962("0x141")]=n),x}))}(x,_.targets,e):x}))}return U.prototype[_0x4962("0x71")]=function(x,_){var e=this.json;this[_0x4962("0x875")][_0x4962("0x87b")](),this[_0x4962("0x87c")](),this[_0x4962("0x87d")]([_0x4962("0x2e6"),_0x4962("0x87e"),_0x4962("0x669")])[_0x4962("0x2dd")]((function(_){var t=_[_0x4962("0x7c6")]||[],i=t[e[_0x4962("0x2e6")]||0],a=_.animations||[],n=_[_0x4962("0x87f")]||[];x(i,t,n,a,e)}))[_0x4962("0x880")](_)},U[_0x4962("0x1")].markDefs=function(){for(var x=this[_0x4962("0x102")][_0x4962("0x41d")]||[],_=this.json.skins||[],e=this[_0x4962("0x102")][_0x4962("0x103")]||[],t={},i={},a=0,n=_[_0x4962("0x0")];a<n;a++)for(var r=_[a].joints,s=0,o=r[_0x4962("0x0")];s<o;s++)x[r[s]][_0x4962("0x881")]=!0;for(var c=0,l=x[_0x4962("0x0")];c<l;c++){var f=x[c];void 0!==f[_0x4962("0x466")]&&(void 0===t[f[_0x4962("0x466")]]&&(t[f[_0x4962("0x466")]]=i[f[_0x4962("0x466")]]=0),t[f.mesh]++,void 0!==f.skin&&(e[f[_0x4962("0x466")]].isSkinnedMesh=!0))}this.json.meshReferences=t,this[_0x4962("0x102")][_0x4962("0x882")]=i},U.prototype[_0x4962("0x802")]=function(x,_,t,i){var a=x+":"+_,n=this[_0x4962("0x875")][_0x4962("0xdb")](a);if(!n){switch(x){case _0x4962("0x2e6"):n=this[_0x4962("0x883")](_);break;case _0x4962("0x6a0"):n=this[_0x4962("0x884")](_);break;case"mesh":n=this[_0x4962("0x885")](_);break;case"accessor":n=this[_0x4962("0x886")](_);break;case"bufferView":n=this[_0x4962("0x887")](_);break;case"buffer":n=this.loadBuffer(_);break;case"material":n=this[_0x4962("0x888")](_);break;case _0x4962("0x702"):n=this.loadTexture(_);break;case"skin":n=this[_0x4962("0x889")](_);break;case _0x4962("0x87e"):n=this.loadAnimation(_);break;case _0x4962("0x669"):n=this[_0x4962("0x88a")](_);break;case _0x4962("0x88b"):n=this[_0x4962("0x7e1")][e[_0x4962("0x7d2")]][_0x4962("0x7e4")](_);break;default:throw new Error("Unknown type: "+x)}this[_0x4962("0x875")][_0x4962("0xda")](a,n)}return n},U[_0x4962("0x1")].getDependencies=function(x){var _=this[_0x4962("0x875")][_0x4962("0xdb")](x);if(!_){var e=this,t=this[_0x4962("0x102")][x+(x===_0x4962("0x466")?"es":"s")]||[];_=n[_0x4962("0xc")].all(t[_0x4962("0x48")]((function(_,t){return e.getDependency(x,t)}))),this[_0x4962("0x875")][_0x4962("0xda")](x,_)}return _},U[_0x4962("0x1")][_0x4962("0x87d")]=function(x){for(var _={},e=[],t=0,i=x.length;t<i;t++){var a=x[t],r=this[_0x4962("0x88c")](a);r=r[_0x4962("0x2dd")](function(x,e){_[x]=e}[_0x4962("0xe")](this,a+(a===_0x4962("0x466")?"es":"s"))),e[_0x4962("0x3")](r)}return n[_0x4962("0xc")][_0x4962("0x698")](e)[_0x4962("0x2dd")]((function(){return _}))},U[_0x4962("0x1")].loadBuffer=function(x){var _=this[_0x4962("0x102")][_0x4962("0x431")][x],t=H(_[_0x4962("0x432")],this[_0x4962("0x3b")][_0x4962("0x2c1")]);THREE[_0x4962("0x7d9")][_0x4962("0x88d")][_0x4962("0xd8")](t,_.t||0);var i=this.fileLoader;if(_.type&&"arraybuffer"!==_[_0x4962("0x9d")])throw new Error(_0x4962("0x88e")+_[_0x4962("0x9d")]+_0x4962("0x88f"));return void 0===_[_0x4962("0x432")]&&0===x?n.default[_0x4962("0xdc")](this[_0x4962("0x7e1")][e.KHR_BINARY_GLTF].body):new(n[_0x4962("0xc")])((function(x,e){i[_0x4962("0x18d")](t,x,void 0,(function(){e(new Error('GLTFLoader: Failed to load buffer "'+_.uri+'".'))}))}))},U.prototype[_0x4962("0x887")]=function(x){var _=this.json[_0x4962("0x7c8")][x],e=this;return this.getDependency(_0x4962("0x890"),_[_0x4962("0x890")])[_0x4962("0x2dd")]((function(t){e[_0x4962("0x102")][_0x4962("0x7c0")][_0x4962("0x7c3")];var i=f[_0x4962("0xdb")](e[_0x4962("0x102")][_0x4962("0x7c0")][_0x4962("0x7d8")]);if(i)var a=(_[_0x4962("0x766")]-x-1)/(i[1]+1)||0,n=(_[_0x4962("0x891")]-x)/(i[0]+1)||0;else a=_.byteLength||0,n=_.byteOffset||0;return t[_0x4962("0x1e7")](n,n+a)}))},U[_0x4962("0x1")][_0x4962("0x886")]=function(x){var _=this,e=this.json,t=this[_0x4962("0x102")][_0x4962("0x7c7")][x];if(void 0===t[_0x4962("0x800")]&&void 0===t[_0x4962("0x892")])return n[_0x4962("0xc")][_0x4962("0xdc")](null);var i=[];return void 0!==t[_0x4962("0x800")]?i[_0x4962("0x3")](this[_0x4962("0x802")](_0x4962("0x800"),t[_0x4962("0x800")])):i[_0x4962("0x3")](null),void 0!==t[_0x4962("0x892")]&&(i[_0x4962("0x3")](this[_0x4962("0x802")](_0x4962("0x800"),t[_0x4962("0x892")][_0x4962("0x792")].bufferView)),i[_0x4962("0x3")](this[_0x4962("0x802")]("bufferView",t[_0x4962("0x892")][_0x4962("0xe4")][_0x4962("0x800")]))),n[_0x4962("0xc")].all(i)[_0x4962("0x2dd")]((function(x){try{var i,a,n=x[0],r=T[t[_0x4962("0x9d")]],s=I[t[_0x4962("0x801")]],o=s[_0x4962("0x893")],c=o*r,l=t[_0x4962("0x891")]||0,f=void 0!==t[_0x4962("0x800")]?e.bufferViews[t[_0x4962("0x800")]].byteStride:void 0,d=!0===t.normalized;if(f&&f!==c){var u=_0x4962("0x894")+t[_0x4962("0x800")]+":"+t[_0x4962("0x801")],h=_[_0x4962("0x875")][_0x4962("0xdb")](u);h||(i=new s(n),h=new(THREE[_0x4962("0x895")])(i,f/o),_.cache.add(u,h)),a=new(THREE[_0x4962("0x896")])(h,r,l/o,d)}else i=null===n?new s(t[_0x4962("0x182")]*r):new s(n,l,t[_0x4962("0x182")]*r),a=new(THREE[_0x4962("0x455")])(i,r,d);if(void 0!==t.sparse){var g=T.SCALAR,b=I[t[_0x4962("0x892")][_0x4962("0x792")][_0x4962("0x801")]],v=t.sparse[_0x4962("0x792")][_0x4962("0x891")]||0,p=t[_0x4962("0x892")][_0x4962("0xe4")][_0x4962("0x891")]||0,m=new b(x[1],v,t[_0x4962("0x892")].count*g),A=new s(x[2],p,t[_0x4962("0x892")].count*r);null!==n&&a[_0x4962("0x55b")](a[_0x4962("0x452")][_0x4962("0x1e7")]());for(var y=0,C=m[_0x4962("0x0")];y<C;y++){var E=m[y];if(a[_0x4962("0x897")](E,A[y*r]),r>=2&&a[_0x4962("0x898")](E,A[y*r+1]),r>=3&&a.setZ(E,A[y*r+2]),r>=4&&a[_0x4962("0x899")](E,A[y*r+3]),r>=5)throw new Error("GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}catch(x){throw"buffererror"}}))},U[_0x4962("0x1")][_0x4962("0x611")]=function(x){var _,t=this,i=this[_0x4962("0x102")],a=this[_0x4962("0x877")],r=window[_0x4962("0x7d8")]||window[_0x4962("0x89a")],s=i[_0x4962("0x7c9")][x],o=i[_0x4962("0x7ca")][x],c=s[_0x4962("0x7e1")]||{},l=(_=c[e[_0x4962("0x7d5")]]?i[_0x4962("0x7ca")][c[e[_0x4962("0x7d5")]][_0x4962("0x89b")]]:i[_0x4962("0x7ca")][s.source])[_0x4962("0x432")],f=!1,d=H(l,this[_0x4962("0x3b")][_0x4962("0x2c1")]);return o&&THREE.ESCache[_0x4962("0x88d")].set(d,o.t||0),void 0!==_[_0x4962("0x800")]&&(l=t[_0x4962("0x802")](_0x4962("0x800"),_[_0x4962("0x800")])[_0x4962("0x2dd")]((function(x){f=!0;var e=new Blob([x],{type:_[_0x4962("0x89c")]});return l=r[_0x4962("0x89d")](e)}))),n.default.resolve(l).then((function(x){var _=THREE[_0x4962("0x89e")][_0x4962("0x89f")][_0x4962("0xdb")](x);return _||(_=c[e[_0x4962("0x7d5")]]?t[_0x4962("0x7e1")][e.MSFT_TEXTURE_DDS][_0x4962("0x7df")]:a),new(n[_0x4962("0xc")])((function(x,e){_[_0x4962("0x18d")](d,x,void 0,e)}))}))[_0x4962("0x2dd")]((function(x){!0===f&&r[_0x4962("0x8a0")](l),x.flipY=!1,void 0!==s[_0x4962("0x107")]&&(x[_0x4962("0x107")]=s[_0x4962("0x107")]),_[_0x4962("0x89c")]in L&&(x.format=L[_.mimeType]);var e=(i.samplers||{})[s[_0x4962("0x8a1")]]||{};return x[_0x4962("0x8a2")]=E[e.magFilter]||THREE[_0x4962("0x362")],x[_0x4962("0x18e")]=E[e[_0x4962("0x18e")]]||THREE.LinearMipMapLinearFilter,x[_0x4962("0x8a3")]=w[e[_0x4962("0x8a3")]]||THREE[_0x4962("0x18f")],x[_0x4962("0x8a4")]=w[e[_0x4962("0x8a4")]]||THREE[_0x4962("0x18f")],x}))},U.prototype[_0x4962("0x7f5")]=function(x,_,t){var i=this;return this.getDependency(_0x4962("0x702"),t[_0x4962("0x2cd")])[_0x4962("0x2dd")]((function(a){if(i[_0x4962("0x7e1")][e.KHR_TEXTURE_TRANSFORM]){var n=void 0!==t[_0x4962("0x7e1")]?t.extensions[e[_0x4962("0x7d6")]]:void 0;n&&(a=i.extensions[e[_0x4962("0x7d6")]][_0x4962("0x804")](a,n))}x[_]=a}))},U.prototype[_0x4962("0x888")]=function(x){var _,t=this,i=this[_0x4962("0x102")],a=this[_0x4962("0x7e1")],r=i[_0x4962("0x101")][x],s={},o=r[_0x4962("0x7e1")]||{},c=[];if(o[e[_0x4962("0x7d4")]]){var l=a[e[_0x4962("0x7d4")]];_=l[_0x4962("0x7f0")](r),c[_0x4962("0x3")](l.extendParams(s,r,t))}else if(o[e[_0x4962("0x7d3")]]){var f=a[e[_0x4962("0x7d3")]];_=f[_0x4962("0x7f0")](r),c[_0x4962("0x3")](f.extendParams(s,r,t))}else{_=THREE[_0x4962("0x143")];var d=r[_0x4962("0x7f2")]||{};if(s[_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(1,1,1),s.opacity=1,Array[_0x4962("0x123")](d.baseColorFactor)){var u=d[_0x4962("0x7f3")];s[_0x4962("0x147")][_0x4962("0x42b")](u),s[_0x4962("0x145")]=u[3]}void 0!==d[_0x4962("0x7f4")]&&c.push(t.assignTexture(s,_0x4962("0x48"),d[_0x4962("0x7f4")])),s.metalness=void 0!==d.metallicFactor?d[_0x4962("0x8a5")]:1,s[_0x4962("0x827")]=void 0!==d.roughnessFactor?d[_0x4962("0x8a6")]:1,void 0!==d.metallicRoughnessTexture&&(c[_0x4962("0x3")](t[_0x4962("0x7f5")](s,_0x4962("0x8a7"),d.metallicRoughnessTexture)),c[_0x4962("0x3")](t[_0x4962("0x7f5")](s,_0x4962("0x828"),d[_0x4962("0x8a8")])))}!0===r.doubleSided&&(s[_0x4962("0x15e")]=THREE[_0x4962("0x436")]);var h=r.alphaMode||R.OPAQUE;return h===R[_0x4962("0x85e")]?s[_0x4962("0x144")]=!0:(s[_0x4962("0x144")]=!1,h===R[_0x4962("0x8a9")]&&(s[_0x4962("0x589")]=void 0!==r.alphaCutoff?r[_0x4962("0x8aa")]:.5)),void 0!==r[_0x4962("0x8ab")]&&_!==THREE.MeshBasicMaterial&&(c[_0x4962("0x3")](t.assignTexture(s,_0x4962("0x80b"),r.normalTexture)),s[_0x4962("0x834")]=new(THREE[_0x4962("0x568")])(1,1),void 0!==r[_0x4962("0x8ab")].scale&&s[_0x4962("0x834")][_0x4962("0xd8")](r[_0x4962("0x8ab")][_0x4962("0x1fe")],r[_0x4962("0x8ab")].scale)),void 0!==r[_0x4962("0x8ac")]&&_!==THREE[_0x4962("0x581")]&&(c.push(t.assignTexture(s,_0x4962("0x808"),r[_0x4962("0x8ac")])),void 0!==r.occlusionTexture[_0x4962("0x8ad")]&&(s[_0x4962("0x832")]=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&_!==THREE[_0x4962("0x581")]&&(s.emissive=(new(THREE[_0x4962("0x188")])).fromArray(r[_0x4962("0x8ae")])),void 0!==r[_0x4962("0x8af")]&&_!==THREE[_0x4962("0x581")]&&c[_0x4962("0x3")](t.assignTexture(s,_0x4962("0x833"),r[_0x4962("0x8af")])),n[_0x4962("0xc")][_0x4962("0x698")](c)[_0x4962("0x2dd")]((function(){var x;return x=_===THREE[_0x4962("0x73a")]?a[e[_0x4962("0x7d4")]][_0x4962("0x482")](s):new _(s),void 0!==r[_0x4962("0x107")]&&(x[_0x4962("0x107")]=r[_0x4962("0x107")]),x.normalScale&&(x[_0x4962("0x834")].y=-x.normalScale.y),x[_0x4962("0x48")]&&(x[_0x4962("0x48")].encoding=THREE[_0x4962("0x8b0")]),x[_0x4962("0x833")]&&(x[_0x4962("0x833")][_0x4962("0x8b1")]=THREE[_0x4962("0x8b0")]),x[_0x4962("0x80f")]&&(x[_0x4962("0x80f")][_0x4962("0x8b1")]=THREE.sRGBEncoding),O(x,r),r[_0x4962("0x7e1")]&&D(a,x,r),x}))},U[_0x4962("0x1")][_0x4962("0x8b3")]=function(x){var _,t=this,i=this[_0x4962("0x7e1")],a=this[_0x4962("0x8b4")],r=function(x){if(x[_0x4962("0x0")]<2)return!1;var _=x[0],t=_.targets||[];if(void 0===_[_0x4962("0x792")])return!1;for(var i=1,a=x[_0x4962("0x0")];i<a;i++){var n=x[i];if(_[_0x4962("0x3c")]!==n[_0x4962("0x3c")])return!1;if(void 0===n[_0x4962("0x792")])return!1;if(n[_0x4962("0x7e1")]&&n[_0x4962("0x7e1")][e[_0x4962("0x7fe")]])return!1;if(!N(_[_0x4962("0x105")],n[_0x4962("0x105")]))return!1;var r=n.targets||[];if(t.length!==r.length)return!1;for(var s=0,o=t.length;s<o;s++)if(!N(t[s],r[s]))return!1}return!0}(x);function s(x){return i[e[_0x4962("0x7fe")]][_0x4962("0x7ff")](x,t)[_0x4962("0x2dd")]((function(_){return V(_,x,t)}))}r&&(_=x,x=[x[0]]);for(var o=[],c=0,l=x[_0x4962("0x0")];c<l;c++){var f,d=x[c],u=B(a,d);if(u)o[_0x4962("0x3")](u);else f=d.extensions&&d.extensions[e[_0x4962("0x7fe")]]?s(d):V(new THREE.BufferGeometry,d,t),a[_0x4962("0x3")]({primitive:d,promise:f}),o[_0x4962("0x3")](f)}return n[_0x4962("0xc")].all(o).then((function(e){if(r){var i=e[0];if(null!==(d=function(x,_,e){for(var t=0,i=x[_0x4962("0x0")];t<i;t++){var a=x[t];if(_===a[_0x4962("0x870")]&&F(e,a[_0x4962("0x871")]))return a.geometry}return null}(f=t[_0x4962("0x8b5")],i,_)))return[d[_0x4962("0xf4")]];var a=new(THREE[_0x4962("0x570")]);for(var s in a.name=i[_0x4962("0x107")],a[_0x4962("0x166")]=i.userData,i.attributes)a.addAttribute(s,i.attributes[s]);for(var s in i[_0x4962("0x867")])a[_0x4962("0x867")][s]=i[_0x4962("0x867")][s];for(var o=[],c=0,l=_.length;c<l;c++)o[_0x4962("0x3")](t[_0x4962("0x802")]("accessor",_[c][_0x4962("0x792")]));return n[_0x4962("0xc")].all(o)[_0x4962("0x2dd")]((function(x){for(var e=[],t=0,n=0,r=_[_0x4962("0x0")];n<r;n++){for(var s=x[n],o=0,c=s[_0x4962("0x182")];o<c;o++)e.push(s.array[o]);a[_0x4962("0x181")](t,s[_0x4962("0x182")],n),t+=s[_0x4962("0x182")]}return a[_0x4962("0x456")](e),f[_0x4962("0x3")]({geometry:a,baseGeometry:i,primitives:_}),[a]}))}if(e[_0x4962("0x0")]>1&&void 0!==THREE[_0x4962("0x453")]){for(c=1,l=x[_0x4962("0x0")];c<l;c++)if(x[0].mode!==x[c].mode)return e;var f,d;if(d=function(x,_){for(var e=0,t=x[_0x4962("0x0")];e<t;e++){var i=x[e];if(F(_,i.baseGeometries))return i.geometry}return null}(f=t[_0x4962("0x876")],e)){if(null!==d[_0x4962("0xf4")])return[d[_0x4962("0xf4")]]}else{a=THREE[_0x4962("0x453")][_0x4962("0x56c")](e,!0);if(f[_0x4962("0x3")]({geometry:a,baseGeometries:e}),null!==a)return[a]}}return e}))},U[_0x4962("0x1")][_0x4962("0x885")]=function(x){for(var _=this,i=this.json,a=this[_0x4962("0x7e1")],r=i.meshes[x],s=r.primitives,o=[],c=0,l=s[_0x4962("0x0")];c<l;c++){var f=void 0===s[c][_0x4962("0xf6")]?new(THREE[_0x4962("0x143")])({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE[_0x4962("0x84d")]}):this[_0x4962("0x802")](_0x4962("0xf6"),s[c][_0x4962("0xf6")]);o.push(f)}return n[_0x4962("0xc")].all(o)[_0x4962("0x2dd")]((function(i){return _[_0x4962("0x8b3")](s)[_0x4962("0x2dd")]((function(n){for(var o=1===n[_0x4962("0x0")]&&n[0][_0x4962("0x45d")][_0x4962("0x0")]>0,c=[],l=0,f=n[_0x4962("0x0")];l<f;l++){var d,u=n[l],h=s[l],g=o?i:i[l];if(h[_0x4962("0x3c")]===C[_0x4962("0x8b6")]||h[_0x4962("0x3c")]===C[_0x4962("0x8b7")]||h.mode===C[_0x4962("0x8b8")]||void 0===h[_0x4962("0x3c")])!0===(d=!0===r[_0x4962("0x8b9")]?new THREE.SkinnedMesh(u,g):new(THREE[_0x4962("0x198")])(u,g))[_0x4962("0x8b9")]&&d[_0x4962("0x8ba")](),h[_0x4962("0x3c")]===C[_0x4962("0x8b7")]?d[_0x4962("0x168")]=THREE[_0x4962("0x791")]:h.mode===C[_0x4962("0x8b8")]&&(d.drawMode=THREE.TriangleFanDrawMode);else if(h.mode===C[_0x4962("0x8bb")])d=new(THREE[_0x4962("0x8bc")])(u,g);else if(h[_0x4962("0x3c")]===C.LINE_STRIP)d=new(THREE[_0x4962("0x8bd")])(u,g);else if(h[_0x4962("0x3c")]===C[_0x4962("0x8be")])d=new(THREE[_0x4962("0x8bf")])(u,g);else{if(h[_0x4962("0x3c")]!==C[_0x4962("0x8c0")])throw new Error(_0x4962("0x8c2")+h.mode);d=new(THREE[_0x4962("0x8c1")])(u,g)}(0,t[_0x4962("0xc")])(d.geometry[_0x4962("0x867")]).length>0&&P(d,r),d[_0x4962("0x107")]=r[_0x4962("0x107")]||_0x4962("0x8c3")+x,n[_0x4962("0x0")]>1&&(d.name+="_"+l),O(d,r),c[_0x4962("0x3")](d);for(var b=o?d.material:[d[_0x4962("0xf6")]],v=void 0!==u[_0x4962("0x105")][_0x4962("0x147")],p=void 0===u.attributes[_0x4962("0x141")],m=!0===d[_0x4962("0x8b9")],A=(0,t.default)(u[_0x4962("0x867")])[_0x4962("0x0")]>0,y=A&&void 0!==u[_0x4962("0x867")].normal,I=0,E=b[_0x4962("0x0")];I<E;I++){g=b[I];if(d[_0x4962("0x8c4")]){var w=_0x4962("0x8c5")+g[_0x4962("0x195")],T=_.cache[_0x4962("0xdb")](w);T||(T=new(THREE[_0x4962("0x8c6")]),THREE[_0x4962("0x8c7")][_0x4962("0x1")][_0x4962("0x206")][_0x4962("0xf")](T,g),T.color[_0x4962("0x206")](g[_0x4962("0x147")]),T.map=g[_0x4962("0x48")],T[_0x4962("0x7e3")]=!1,_[_0x4962("0x875")][_0x4962("0xda")](w,T)),g=T}else if(d[_0x4962("0x8c8")]){w=_0x4962("0x8c9")+g[_0x4962("0x195")];var k=_[_0x4962("0x875")][_0x4962("0xdb")](w);k||(k=new(THREE[_0x4962("0x8ca")]),THREE[_0x4962("0x8c7")][_0x4962("0x1")][_0x4962("0x206")][_0x4962("0xf")](k,g),k[_0x4962("0x147")][_0x4962("0x206")](g[_0x4962("0x147")]),k[_0x4962("0x7e3")]=!1,_[_0x4962("0x875")][_0x4962("0xda")](w,k)),g=k}if(v||p||m||A){w=_0x4962("0x8cb")+g[_0x4962("0x195")]+":";g[_0x4962("0x831")]&&(w+=_0x4962("0x8cc")),m&&(w+="skinning:"),v&&(w+=_0x4962("0x8cd")),p&&(w+="flat-shading:"),A&&(w+="morph-targets:"),y&&(w+=_0x4962("0x8ce"));var M=_[_0x4962("0x875")][_0x4962("0xdb")](w);M||(M=g[_0x4962("0x831")]?a[e[_0x4962("0x7d4")]][_0x4962("0x8cf")](g):g[_0x4962("0x126")](),m&&(M[_0x4962("0x8d0")]=!0),v&&(M[_0x4962("0x8d1")]=THREE.VertexColors),p&&(M[_0x4962("0x8d2")]=!0),A&&(M[_0x4962("0x8d3")]=!0),y&&(M.morphNormals=!0),_[_0x4962("0x875")][_0x4962("0xda")](w,M)),g=M}b[I]=g,g.aoMap&&void 0===u[_0x4962("0x105")][_0x4962("0x44e")]&&void 0!==u[_0x4962("0x105")].uv&&u[_0x4962("0x454")]("uv2",new THREE.BufferAttribute(u[_0x4962("0x105")].uv[_0x4962("0x452")],2)),g.isGLTFSpecularGlossinessMaterial&&(d[_0x4962("0x8d4")]=a[e[_0x4962("0x7d4")]].refreshUniforms)}d.material=o?b:b[0]}if(1===c[_0x4962("0x0")])return c[0];var S=new(THREE[_0x4962("0x1e1")]);for(l=0,f=c[_0x4962("0x0")];l<f;l++)S[_0x4962("0xda")](c[l]);return S}))}))},U[_0x4962("0x1")].loadCamera=function(x){var _,e=this[_0x4962("0x102")][_0x4962("0x87f")][x],t=e[e[_0x4962("0x9d")]];if(t)return e[_0x4962("0x9d")]===_0x4962("0x393")?_=new THREE.PerspectiveCamera(THREE[_0x4962("0x20e")][_0x4962("0x20f")](t[_0x4962("0x8d5")]),t[_0x4962("0x8d6")]||1,t[_0x4962("0x8d7")]||1,t[_0x4962("0x8d8")]||2e6):e[_0x4962("0x9d")]===_0x4962("0x8d9")&&(_=new(THREE[_0x4962("0x71d")])(t[_0x4962("0x8da")]/-2,t[_0x4962("0x8da")]/2,t.ymag/2,t[_0x4962("0x8db")]/-2,t[_0x4962("0x8d7")],t[_0x4962("0x8d8")])),void 0!==e[_0x4962("0x107")]&&(_[_0x4962("0x107")]=e[_0x4962("0x107")]),O(_,e),n[_0x4962("0xc")].resolve(_);console[_0x4962("0x44a")]("GLTFLoader: Missing camera parameters.")},U[_0x4962("0x1")][_0x4962("0x889")]=function(x){var _=this[_0x4962("0x102")][_0x4962("0x8dc")][x],e={joints:_[_0x4962("0x8dd")]};return void 0===_[_0x4962("0x8de")]?n.default[_0x4962("0xdc")](e):this[_0x4962("0x802")](_0x4962("0x863"),_[_0x4962("0x8de")])[_0x4962("0x2dd")]((function(x){return e[_0x4962("0x8de")]=x,e}))},U[_0x4962("0x1")][_0x4962("0x8df")]=function(x){for(var _=this[_0x4962("0x102")][_0x4962("0x296")][x],e=[],t=[],i=[],a=[],r=[],s=0,o=_.channels[_0x4962("0x0")];s<o;s++){var c=_[_0x4962("0x8e0")][s],l=_[_0x4962("0x7cb")][c[_0x4962("0x8a1")]],f=c[_0x4962("0x2c5")],d=void 0!==f.node?f[_0x4962("0x6a0")]:f.id,u=void 0!==_[_0x4962("0x8e1")]?_[_0x4962("0x8e1")][l[_0x4962("0x8e2")]]:l[_0x4962("0x8e2")],h=void 0!==_[_0x4962("0x8e1")]?_[_0x4962("0x8e1")][l[_0x4962("0x8e3")]]:l.output;e[_0x4962("0x3")](this[_0x4962("0x802")](_0x4962("0x6a0"),d)),t[_0x4962("0x3")](this[_0x4962("0x802")](_0x4962("0x863"),u)),i.push(this[_0x4962("0x802")](_0x4962("0x863"),h)),a[_0x4962("0x3")](l),r[_0x4962("0x3")](f)}return n[_0x4962("0xc")][_0x4962("0x698")]([n[_0x4962("0xc")][_0x4962("0x698")](e),n.default[_0x4962("0x698")](t),n[_0x4962("0xc")].all(i),n.default.all(a),n[_0x4962("0xc")][_0x4962("0x698")](r)])[_0x4962("0x2dd")]((function(e){for(var t=e[0],i=e[1],a=e[2],n=e[3],r=e[4],s=[],o=0,c=t[_0x4962("0x0")];o<c;o++){var l=t[o],f=i[o],d=a[o],u=n[o],h=r[o];if(void 0!==l){var g;switch(l[_0x4962("0x42c")](),l[_0x4962("0x838")]=!0,M[h[_0x4962("0x2c1")]]){case M[_0x4962("0x869")]:g=THREE[_0x4962("0x8e4")];break;case M[_0x4962("0x210")]:g=THREE[_0x4962("0x8e5")];break;case M[_0x4962("0x106")]:case M[_0x4962("0x1fe")]:default:g=THREE[_0x4962("0x8e6")]}var b=l[_0x4962("0x107")]?l[_0x4962("0x107")]:l[_0x4962("0x195")],v=void 0!==u[_0x4962("0x8e7")]?S[u[_0x4962("0x8e7")]]:THREE[_0x4962("0x858")],p=[];M[h[_0x4962("0x2c1")]]===M.weights?l[_0x4962("0x104")]((function(x){!0===x[_0x4962("0x8e8")]&&x.morphTargetInfluences&&p.push(x[_0x4962("0x107")]?x[_0x4962("0x107")]:x[_0x4962("0x195")])})):p[_0x4962("0x3")](b);for(var m=0,A=p[_0x4962("0x0")];m<A;m++){var C=new g(p[m]+"."+M[h[_0x4962("0x2c1")]],THREE[_0x4962("0x8e9")].arraySlice(f[_0x4962("0x452")],0),THREE[_0x4962("0x8e9")][_0x4962("0x8ea")](d[_0x4962("0x452")],0),v);"CUBICSPLINE"===u[_0x4962("0x8e7")]&&(C.createInterpolant=function(x){return new y(this.times,this.values,this[_0x4962("0x8eb")]()/3,x)},C[_0x4962("0x8ec")][_0x4962("0x8ed")]=!0),s[_0x4962("0x3")](C)}}}var I=void 0!==_.name?_[_0x4962("0x107")]:_0x4962("0x8ee")+x;return new(THREE[_0x4962("0x8ef")])(I,void 0,s)}))},U[_0x4962("0x1")][_0x4962("0x884")]=function(x){var _=this[_0x4962("0x102")],t=this[_0x4962("0x7e1")],i=this,a=_[_0x4962("0x8f0")],r=_[_0x4962("0x882")],s=_.nodes[x];return(!0===s[_0x4962("0x881")]?n.default[_0x4962("0xdc")](new(THREE[_0x4962("0x8f1")])):void 0!==s[_0x4962("0x466")]?i[_0x4962("0x802")](_0x4962("0x466"),s[_0x4962("0x466")])[_0x4962("0x2dd")]((function(x){var _;if(a[s[_0x4962("0x466")]]>1){var e=r[s[_0x4962("0x466")]]++;(_=x[_0x4962("0x126")]()).name+="_instance_"+e,_.onBeforeRender=x[_0x4962("0x8d4")];for(var t=0,i=_[_0x4962("0xf3")][_0x4962("0x0")];t<i;t++)_[_0x4962("0xf3")][t][_0x4962("0x107")]+=_0x4962("0x8f2")+e,_[_0x4962("0xf3")][t].onBeforeRender=x[_0x4962("0xf3")][t][_0x4962("0x8d4")]}else _=x;return void 0!==s[_0x4962("0x869")]&&_[_0x4962("0x104")]((function(x){if(x[_0x4962("0x8e8")])for(var _=0,e=s[_0x4962("0x869")][_0x4962("0x0")];_<e;_++)x[_0x4962("0x86a")][_]=s[_0x4962("0x869")][_]})),_})):void 0!==s[_0x4962("0x669")]?i[_0x4962("0x802")](_0x4962("0x669"),s.camera):s.extensions&&s.extensions[e[_0x4962("0x7d2")]]&&void 0!==s[_0x4962("0x7e1")][e[_0x4962("0x7d2")]].light?i.getDependency(_0x4962("0x88b"),s[_0x4962("0x7e1")][e.KHR_LIGHTS_PUNCTUAL][_0x4962("0x88b")]):n[_0x4962("0xc")][_0x4962("0xdc")](new THREE.Object3D)).then((function(x){if(void 0!==s.name&&(x[_0x4962("0x107")]=THREE[_0x4962("0x43f")][_0x4962("0x440")](s[_0x4962("0x107")])),O(x,s),s[_0x4962("0x7e1")]&&D(t,x,s),void 0!==s.matrix){var _=new THREE.Matrix4;_[_0x4962("0x42b")](s[_0x4962("0x22b")]),x.applyMatrix(_)}else void 0!==s.translation&&x[_0x4962("0x106")][_0x4962("0x42b")](s[_0x4962("0x429")]),void 0!==s[_0x4962("0x210")]&&x[_0x4962("0x205")][_0x4962("0x42b")](s[_0x4962("0x210")]),void 0!==s.scale&&x[_0x4962("0x1fe")][_0x4962("0x42b")](s[_0x4962("0x1fe")]);return x}))},U[_0x4962("0x1")][_0x4962("0x883")]=function(){function x(_,e,t,i){var a=t[_0x4962("0x41d")][_];return i[_0x4962("0x802")](_0x4962("0x6a0"),_)[_0x4962("0x2dd")]((function(x){return void 0===a[_0x4962("0x8f3")]?x:i[_0x4962("0x802")](_0x4962("0x8f3"),a[_0x4962("0x8f3")])[_0x4962("0x2dd")]((function(x){for(var e=[],t=0,a=(_=x)[_0x4962("0x8dd")][_0x4962("0x0")];t<a;t++)e[_0x4962("0x3")](i[_0x4962("0x802")](_0x4962("0x6a0"),_.joints[t]));return n[_0x4962("0xc")].all(e)})).then((function(e){for(var t=!0===x[_0x4962("0x8f4")]?x[_0x4962("0xf3")]:[x],i=0,a=t[_0x4962("0x0")];i<a;i++){for(var n=t[i],r=[],s=[],o=0,c=e[_0x4962("0x0")];o<c;o++){var l=e[o];if(l){r[_0x4962("0x3")](l);var f=new(THREE[_0x4962("0x23f")]);void 0!==_[_0x4962("0x8de")]&&f[_0x4962("0x42b")](_.inverseBindMatrices[_0x4962("0x452")],16*o),s.push(f)}else _0x4962("0x8f5"),_[_0x4962("0x8dd")][o]}n[_0x4962("0xe")](new(THREE[_0x4962("0x8f6")])(r,s),n.matrixWorld)}return x}));var _})).then((function(_){e[_0x4962("0xda")](_);var r=[];if(a.children)for(var s=a[_0x4962("0xf3")],o=0,c=s[_0x4962("0x0")];o<c;o++){var l=s[o];r[_0x4962("0x3")](x(l,_,t,i))}return n[_0x4962("0xc")][_0x4962("0x698")](r)}))}return function(_){var e=this[_0x4962("0x102")],t=this[_0x4962("0x7e1")],i=this.json[_0x4962("0x7c6")][_],a=new(THREE[_0x4962("0x8f7")]);void 0!==i.name&&(a[_0x4962("0x107")]=i[_0x4962("0x107")]),O(a,i),i.extensions&&D(t,a,i);for(var r=i[_0x4962("0x41d")]||[],s=[],o=0,c=r.length;o<c;o++)s.push(x(r[o],a,e,this));return n[_0x4962("0xc")][_0x4962("0x698")](s)[_0x4962("0x2dd")]((function(){return a}))}}(),x}()},function(x,_,e){"use strict";function t(x){for(var _=[],e=0;e<x[_0x4962("0x0")];e++)_[e]=x[_0x4962("0x30")](e);return _}Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_.decode=function(x,_,e){for(var i="",a=t(_+e),n=t(x),r=0;r<n[_0x4962("0x0")];r++){for(var s=0;s<a.length;s++)n[r]=n[r]^a[s];i+=String[_0x4962("0x10f")](n[r])}return i}},function(x,_,e){"use strict";var t=n(e(22)),i=n(e(2)),a=n(e(104));function n(x){return x&&x.__esModule?x:{default:x}}var r=function(){this.pos=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x416")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x361")]=new THREE.Vector3,this.up=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x8f8")]=0,this[_0x4962("0x8f9")]=1};r[_0x4962("0x1")][_0x4962("0x8fa")]=function(x,_,e){this[_0x4962("0x428")].lerpVectors(x[_0x4962("0x428")],_.pos,e),this[_0x4962("0x416")][_0x4962("0x8fb")](x[_0x4962("0x416")],_.dir,e),this.up[_0x4962("0x8fb")](x.up,_.up,e),this[_0x4962("0x361")][_0x4962("0x8fb")](x[_0x4962("0x361")],_[_0x4962("0x361")],e),this.dist=(_[_0x4962("0x8f8")]-x[_0x4962("0x8f8")])*e+x[_0x4962("0x8f8")],this[_0x4962("0x8f9")]=(_.widthScale-x.widthScale)*e+x[_0x4962("0x8f9")]},r.prototype[_0x4962("0x206")]=function(x){this[_0x4962("0x428")][_0x4962("0x206")](x.pos),this[_0x4962("0x416")][_0x4962("0x206")](x[_0x4962("0x416")]),this.up[_0x4962("0x206")](x.up),this[_0x4962("0x361")][_0x4962("0x206")](x.right),this.dist=x[_0x4962("0x8f8")],this[_0x4962("0x8f9")]=x.widthScale};var s=function(){this[_0x4962("0x452")]=[],this[_0x4962("0x182")]=0};s[_0x4962("0x1")][_0x4962("0xd8")]=function(x,_,e,t,i){if((x=x.slice(0)).length<2)return this[_0x4962("0x182")]=0,void _0x4962("0x8fc");_=void 0!==_?_:.1,e=void 0!==e?e:10,(i=void 0!==i&&i)&&!x[0][_0x4962("0x6a9")](x[x.length-1])&&x[_0x4962("0x3")]((new THREE.Vector3).copy(x[0]));for(var a=0,n=x[_0x4962("0x0")];a<n;a++)if(0===a)this[_0x4962("0x8fd")](x[a],x[a+1],t);else if(a===n-1)if(i){this[_0x4962("0x8fe")](x[a],x[1],_,e,t);var r=this[_0x4962("0x452")][0][_0x4962("0x8f8")];this.array[0][_0x4962("0x206")](this[_0x4962("0x452")][this.count-1]),this[_0x4962("0x452")][0].dist=r}else this[_0x4962("0x8ff")](x[a]);else this._corner(x[a],x[a+1],_,e,t)},s[_0x4962("0x1")][_0x4962("0x23b")]=function(){return 0==this[_0x4962("0x182")]?0:this[_0x4962("0x452")][this[_0x4962("0x182")]-1][_0x4962("0x8f8")]},s[_0x4962("0x1")][_0x4962("0x8fd")]=function(x,_,e){this.count=0;var t=this[_0x4962("0x900")](this[_0x4962("0x182")]);if(t[_0x4962("0x428")].copy(x),t[_0x4962("0x416")].subVectors(_,x),e)t.up[_0x4962("0x206")](e);else{var i=Number.MAX_VALUE,a=Math[_0x4962("0x231")](t[_0x4962("0x416")].x),n=Math.abs(t[_0x4962("0x416")].y),r=Math.abs(t.dir.z);a<i&&(i=a,t.up[_0x4962("0xd8")](1,0,0)),n<i&&(i=n,t.up[_0x4962("0xd8")](0,1,0)),r<i&&t.up[_0x4962("0xd8")](0,0,1)}t[_0x4962("0x361")][_0x4962("0x901")](t[_0x4962("0x416")],t.up)[_0x4962("0x30e")](),t.up.crossVectors(t[_0x4962("0x361")],t[_0x4962("0x416")])[_0x4962("0x30e")](),t[_0x4962("0x8f8")]=0,t[_0x4962("0x8f9")]=1,t[_0x4962("0x416")].normalize(),this.count++};var o=new(THREE[_0x4962("0x12c")]),c=new THREE.Vector3,l=new(THREE[_0x4962("0x12c")]),f=new(THREE[_0x4962("0x23f")]),d=new(THREE[_0x4962("0x902")]);s[_0x4962("0x1")]._corner=function(x,_,e,t,i){if(e>0&&t>0){for(var a=this[_0x4962("0x452")][this[_0x4962("0x182")]-1],n=this[_0x4962("0x903")](a[_0x4962("0x428")],x,_,e,d)[_0x4962("0x6a7")](t),r=0;r<t;r+=1)this[_0x4962("0x904")](n[r],n[r+1],i);n[t].equals(_)||this[_0x4962("0x904")](n[t],_,i)}else this._hardCorner(x,_,i)},s[_0x4962("0x1")][_0x4962("0x904")]=function(x,_,e){var t=this[_0x4962("0x452")][this[_0x4962("0x182")]-1],i=this._getByIndex(this[_0x4962("0x182")]),n=o[_0x4962("0x905")](x,t[_0x4962("0x428")]),r=c.subVectors(_,x),s=n.length();if(n[_0x4962("0x30e")](),r.normalize(),i[_0x4962("0x428")][_0x4962("0x206")](x),i[_0x4962("0x416")][_0x4962("0x906")](n,r),i.dir.normalize(),e)1===i[_0x4962("0x416")][_0x4962("0x907")](e)?i[_0x4962("0x361")].crossVectors(r,e)[_0x4962("0x30e")]():i[_0x4962("0x361")][_0x4962("0x901")](i.dir,e).normalize(),i.up[_0x4962("0x901")](i.right,i.dir)[_0x4962("0x30e")]();else{i.up[_0x4962("0x206")](t.up);var d=l[_0x4962("0x901")](t[_0x4962("0x416")],i[_0x4962("0x416")]);if(d[_0x4962("0x0")]()>a[_0x4962("0xc")]){d[_0x4962("0x30e")]();var u=Math[_0x4962("0x908")](Math[_0x4962("0x301")](Math.max(t.dir[_0x4962("0x907")](i[_0x4962("0x416")]),-1),1));i.up[_0x4962("0x2b7")](f.makeRotationAxis(d,u))}i.right[_0x4962("0x901")](i[_0x4962("0x416")],i.up)[_0x4962("0x30e")]()}i[_0x4962("0x8f8")]=t.dist+s;var h=n.dot(r);i[_0x4962("0x8f9")]=Math.min(1/Math[_0x4962("0x120")]((1+h)/2),1.414213562373)||1,this[_0x4962("0x182")]++},s[_0x4962("0x1")][_0x4962("0x8ff")]=function(x){var _=this[_0x4962("0x452")][this.count-1],e=this._getByIndex(this[_0x4962("0x182")]);e[_0x4962("0x428")][_0x4962("0x206")](x),e.dir[_0x4962("0x905")](x,_[_0x4962("0x428")]);var t=e[_0x4962("0x416")][_0x4962("0x0")]();e[_0x4962("0x416")][_0x4962("0x30e")](),e.up[_0x4962("0x206")](_.up);var i=o[_0x4962("0x901")](_[_0x4962("0x416")],e[_0x4962("0x416")]);if(i[_0x4962("0x0")]()>a[_0x4962("0xc")]){i.normalize();var n=Math[_0x4962("0x908")](Math[_0x4962("0x301")](Math[_0x4962("0x300")](_.dir[_0x4962("0x907")](e[_0x4962("0x416")]),-1),1));e.up[_0x4962("0x2b7")](f.makeRotationAxis(i,n))}e[_0x4962("0x361")][_0x4962("0x901")](e[_0x4962("0x416")],e.up)[_0x4962("0x30e")](),e[_0x4962("0x8f8")]=_.dist+t,e.widthScale=1,this[_0x4962("0x182")]++},s[_0x4962("0x1")]._getByIndex=function(x){return this[_0x4962("0x452")][x]||(this[_0x4962("0x452")][x]=new r),this.array[x]},s.prototype[_0x4962("0x903")]=function(x,_,e,t,i){var a=o[_0x4962("0x905")](_,x),n=c.subVectors(e,_),r=a[_0x4962("0x0")](),s=n[_0x4962("0x0")]();return a[_0x4962("0x30e")](),n.normalize(),r>t?i.v0[_0x4962("0x206")](_).sub(a[_0x4962("0x250")](t)):i.v0.copy(x),i.v1[_0x4962("0x206")](_),s>t?i.v2[_0x4962("0x206")](_)[_0x4962("0xda")](n[_0x4962("0x250")](t)):i.v2[_0x4962("0x206")](e),i};var u=function(){this[_0x4962("0x909")]=!1,this[_0x4962("0x90a")]=!1,this[_0x4962("0x90b")]=[],this[_0x4962("0x90c")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x90d")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x90e")]=.5,this[_0x4962("0x1a4")]=.1,this[_0x4962("0x90f")]=.2,this[_0x4962("0x910")]=10,this[_0x4962("0x911")]=new s,this._dirty=!0,this.up=new(THREE[_0x4962("0x12c")])(0,1,0)};Object[_0x4962("0x6")](u[_0x4962("0x1")],_0x4962("0x912"),{set:function(x){this[_0x4962("0x90f")]=x,this._dirty=!0},get:function(){return this[_0x4962("0x90f")]}}),Object[_0x4962("0x6")](u[_0x4962("0x1")],_0x4962("0x913"),{set:function(x){this[_0x4962("0x910")]=x,this[_0x4962("0x914")]=!0},get:function(){return this[_0x4962("0x910")]}}),u[_0x4962("0x1")].getPoints=function(){if(this._includeDrawingPoint&&(this._points[_0x4962("0xdf")](),this[_0x4962("0x90a")]=!1),this[_0x4962("0x909")]&&this[_0x4962("0x90b")].length>0){var x=this._getLastFixedPoint();x&&(this[_0x4962("0x90b")].push(x),this[_0x4962("0x90a")]=!0)}return this._points},u[_0x4962("0x1")][_0x4962("0x915")]=function(){return(this[_0x4962("0x909")]||this[_0x4962("0x914")])&&(this._pathPointList[_0x4962("0xd8")](this[_0x4962("0x6a7")](),this[_0x4962("0x90f")],this[_0x4962("0x910")],this.up),this[_0x4962("0x914")]=!1),this[_0x4962("0x911")]},u.prototype[_0x4962("0x165")]=function(x){this[_0x4962("0x90c")].copy(x),this._lastPoint.y+=this[_0x4962("0x1a4")]},u.prototype[_0x4962("0x916")]=function(){this[_0x4962("0x909")]=!0;var x=this[_0x4962("0x917")]();x&&(this._includeDrawingPoint&&(this[_0x4962("0x90b")][_0x4962("0xdf")](),this._includeDrawingPoint=!1),this[_0x4962("0x90b")][_0x4962("0x3")](x[_0x4962("0x126")]())),this[_0x4962("0x914")]=!0},u[_0x4962("0x1")][_0x4962("0x1b1")]=function(){this[_0x4962("0x909")]=!0,this[_0x4962("0x914")]=!0},u[_0x4962("0x1")][_0x4962("0x1b2")]=function(){this[_0x4962("0x909")]=!1,this._dirty=!0},u[_0x4962("0x1")].clear=function(){this[_0x4962("0x909")]=!1,this[_0x4962("0x90a")]=!1,this[_0x4962("0x90b")]=[],this._dirty=!0};var h=new(THREE[_0x4962("0x12c")]),g=new(THREE[_0x4962("0x12c")]),b=new(THREE[_0x4962("0x12c")]);u.prototype[_0x4962("0x917")]=function(){if(this._lastFixedPoint[_0x4962("0x206")](this[_0x4962("0x90c")]),this[_0x4962("0x90b")].length>0){var x=this[_0x4962("0x90a")]?this[_0x4962("0x90b")][this[_0x4962("0x90b")][_0x4962("0x0")]-2]:this[_0x4962("0x90b")][this[_0x4962("0x90b")].length-1];if(function(x,_){return h[_0x4962("0x206")](_).sub(x)[_0x4962("0x0")]()}(x,this[_0x4962("0x90d")])<this[_0x4962("0x90e")]&&(h[_0x4962("0x30e")]()[_0x4962("0x250")](this.fixRadius),this._lastFixedPoint[_0x4962("0x206")](x)[_0x4962("0xda")](h)),this[_0x4962("0x90a")]?this[_0x4962("0x90b")][_0x4962("0x0")]>2:this[_0x4962("0x90b")][_0x4962("0x0")]>1){var _=this[_0x4962("0x90a")]?this[_0x4962("0x90b")][this[_0x4962("0x90b")][_0x4962("0x0")]-3]:this[_0x4962("0x90b")][this._points.length-2];if(g[_0x4962("0x905")](x,_),b.subVectors(this[_0x4962("0x90d")],x),g[_0x4962("0x30e")](),b[_0x4962("0x30e")](),g[_0x4962("0x250")](-1)[_0x4962("0x907")](b)>.99)return null}}return this[_0x4962("0x90d")]};var v=function(x){THREE[_0x4962("0x570")].call(this),x=x||3e3,this.setAttribute?(this[_0x4962("0x1da")](_0x4962("0x106"),new(THREE[_0x4962("0x455")])(new Float32Array(3*x),3)[_0x4962("0x918")](THREE[_0x4962("0x919")])),this[_0x4962("0x1da")]("normal",new(THREE[_0x4962("0x455")])(new Float32Array(3*x),3).setUsage(THREE[_0x4962("0x919")])),this[_0x4962("0x1da")]("uv",new(THREE[_0x4962("0x455")])(new Float32Array(2*x),2)[_0x4962("0x918")](THREE.DynamicDrawUsage))):(this[_0x4962("0x454")]("position",new(THREE[_0x4962("0x455")])(new Float32Array(3*x),3)[_0x4962("0x91a")](!0)),this[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(new Float32Array(3*x),3).setDynamic(!0)),this[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(new Float32Array(2*x),2)[_0x4962("0x91a")](!0))),this.drawRange.start=0,this.drawRange[_0x4962("0x182")]=0};v.prototype=(0,i[_0x4962("0xc")])((0,t[_0x4962("0xc")])(THREE.BufferGeometry[_0x4962("0x1")]),{constructor:v,update:function(x,_){_=_||{};var e=this._updateAttributes(x,_);this[_0x4962("0x91b")][_0x4962("0x182")]=e},_resizeAttribute:function(x,_,e){for(;_[_0x4962("0x452")][_0x4962("0x0")]<e;){var t=_[_0x4962("0x452")][_0x4962("0x0")],i=new(THREE[_0x4962("0x455")])(new Float32Array(2*t),_[_0x4962("0x873")],_[_0x4962("0x803")]);i[_0x4962("0x107")]=_[_0x4962("0x107")],i[_0x4962("0x91c")]=_[_0x4962("0x91c")],this[_0x4962("0x454")]?this[_0x4962("0x454")](x,i):this.addAttribute(x,i),_=i}},_updateAttributes:function(x,_){var e=_[_0x4962("0x1ce")]||.1,t=void 0!==_[_0x4962("0xe2")]?_[_0x4962("0xe2")]:1,i=void 0===_.arrow||_[_0x4962("0x16a")],a=void 0!==_.side?_[_0x4962("0x15e")]:_0x4962("0x180"),n=0,s=[],o=[],c=[],l=new(THREE[_0x4962("0x12c")]),f=new(THREE[_0x4962("0x12c")]);function d(x,_,e){x[_0x4962("0x416")];var t=x.up,i=x.right;_0x4962("0x35e")!==a?l.copy(i)[_0x4962("0x250")](_*x[_0x4962("0x8f9")]):l[_0x4962("0xd8")](0,0,0),_0x4962("0x361")!==a?f[_0x4962("0x206")](i)[_0x4962("0x250")](-_*x.widthScale):f[_0x4962("0xd8")](0,0,0),l.add(x[_0x4962("0x428")]),f[_0x4962("0xda")](x[_0x4962("0x428")]),s[_0x4962("0x3")](f.x,f.y,f.z,l.x,l.y,l.z),o.push(t.x,t.y,t.z,t.x,t.y,t.z),c[_0x4962("0x3")](e,0,e,1),n+=2}var u=new(THREE[_0x4962("0x12c")]),h=x[_0x4962("0x23b")]();if(0==h)return 0;var g,b=t*h;if(b>0)for(var v=0;v<x[_0x4962("0x182")];v++){var p=x[_0x4962("0x452")][v];if(p[_0x4962("0x8f8")]>b){var m=x[_0x4962("0x452")][v-1];g=new r;var A=(b-m[_0x4962("0x8f8")])/(p[_0x4962("0x8f8")]-m[_0x4962("0x8f8")]);g.lerpPathPoints(m,p,A),d(g,e/2,g[_0x4962("0x8f8")]/(_0x4962("0x180")!==a?e/2:e));break}d(p,e/2,p[_0x4962("0x8f8")]/("both"!==a?e/2:e))}else g=x[_0x4962("0x452")][0];i&&function(x,_,e){var t=x[_0x4962("0x416")],i=x.up,r=x[_0x4962("0x361")];_0x4962("0x35e")!==a?l[_0x4962("0x206")](r)[_0x4962("0x250")](2*_):l[_0x4962("0xd8")](0,0,0),_0x4962("0x361")!==a?f[_0x4962("0x206")](r).multiplyScalar(2*-_):f.set(0,0,0),u[_0x4962("0x206")](t).setLength(3*_),l[_0x4962("0xda")](x[_0x4962("0x428")]),f[_0x4962("0xda")](x[_0x4962("0x428")]),u.add(x[_0x4962("0x428")]),s[_0x4962("0x3")](f.x,f.y,f.z,l.x,l.y,l.z,u.x,u.y,u.z),o[_0x4962("0x3")](i.x,i.y,i.z,i.x,i.y,i.z,i.x,i.y,i.z),c.push(e,_0x4962("0x180")!==a?_0x4962("0x361")!==a?-2:0:-.5,e,_0x4962("0x180")!==a?_0x4962("0x35e")!==a?2:0:1.5,e+3*_/("both"!==a?_:2*_),_0x4962("0x180")!==a?0:.5),n+=3}(g=g||x[_0x4962("0x452")][x[_0x4962("0x182")]-1],e/2,g[_0x4962("0x8f8")]/("both"!==a?e/2:e));var y=this[_0x4962("0x44d")](_0x4962("0x106")),C=this[_0x4962("0x44d")](_0x4962("0x141")),I=this[_0x4962("0x44d")]("uv");return this._resizeAttribute(_0x4962("0x106"),y,s[_0x4962("0x0")]),this._resizeAttribute(_0x4962("0x141"),C,o[_0x4962("0x0")]),this[_0x4962("0x91d")]("uv",I,c.length),y=this[_0x4962("0x44d")](_0x4962("0x106")),C=this[_0x4962("0x44d")]("normal"),I=this.getAttribute("uv"),y[_0x4962("0x452")].set(s,0),C[_0x4962("0x452")][_0x4962("0xd8")](o,0),I[_0x4962("0x452")][_0x4962("0xd8")](c,0),y[_0x4962("0x91e")][_0x4962("0x182")]=s.length,C.updateRange.count=o[_0x4962("0x0")],I.updateRange[_0x4962("0x182")]=c.length,y[_0x4962("0x187")]=!0,C.needsUpdate=!0,I[_0x4962("0x187")]=!0,n}});var p=function(x){v[_0x4962("0xf")](this,x||1e3),this[_0x4962("0x456")](new Array(2*(x||1e3))),this[_0x4962("0x14b")]=0};p[_0x4962("0x1")]=(0,i[_0x4962("0xc")])((0,t.default)(v[_0x4962("0x1")]),{constructor:p,_resizeIndex:function(x,_){for(;x[_0x4962("0x452")][_0x4962("0x0")]<_;){var e=x.array[_0x4962("0x0")],t=new(THREE[_0x4962("0x455")])(2*e>65535?new Uint32Array(2*e):new Uint16Array(2*e),1);t[_0x4962("0x107")]=x[_0x4962("0x107")],t[_0x4962("0x91c")]=x[_0x4962("0x91c")],this[_0x4962("0x456")](t),x=t}},_updateAttributes:function(x,_){var e=this,t=_.radius||.1,i=_[_0x4962("0x91f")]||8;i=Math[_0x4962("0x300")](2,i);var a=_[_0x4962("0x920")]||0,n=void 0!==_[_0x4962("0xe2")]?_[_0x4962("0xe2")]:1,s=0,o=[],c=[],l=[],f=[],d=0,u=new(THREE[_0x4962("0x12c")]);function h(x,_,t,i){for(var n=0===o.length,r=0;r<=t;r++){var h=r;h==t&&(h=0);var g=r/t,b=Math[_0x4962("0x300")](i,g);b>e.maxUvVal&&(e[_0x4962("0x14b")]=b),u.copy(x.up)[_0x4962("0x921")](x[_0x4962("0x416")],a+2*Math.PI*h/t)[_0x4962("0x30e")](),o[_0x4962("0x3")](x.pos.x+u.x*_*x[_0x4962("0x8f9")],x[_0x4962("0x428")].y+u.y*_*x[_0x4962("0x8f9")],x[_0x4962("0x428")].z+u.z*_*x[_0x4962("0x8f9")]),c[_0x4962("0x3")](u.x,u.y,u.z),l.push(i,g),d++}if(!n)for(var v=d-2*(t+1),p=d-(t+1),m=0;m<t;m++)f[_0x4962("0x3")](p+m,v+m,v+m+1,p+m,v+m+1,p+m+1),s+=6}var g=n*x[_0x4962("0x23b")]();if(0==g)return 0;if(g>0)for(var b=0;b<x[_0x4962("0x182")];b++){var v=x[_0x4962("0x452")][b];if(v.dist>g){var p=x[_0x4962("0x452")][b-1],m=new r,A=(g-p.dist)/(v[_0x4962("0x8f8")]-p[_0x4962("0x8f8")]);m[_0x4962("0x8fa")](p,v,A),h(m,t,i,m[_0x4962("0x8f8")]/(2*t*Math.PI));break}h(v,t,i,v[_0x4962("0x8f8")]/(2*t*Math.PI))}var y=this.getAttribute("position"),C=this[_0x4962("0x44d")](_0x4962("0x141")),I=this[_0x4962("0x44d")]("uv"),E=this[_0x4962("0x922")]();return this[_0x4962("0x91d")](_0x4962("0x106"),y,o.length),this[_0x4962("0x91d")]("normal",C,c.length),this[_0x4962("0x91d")]("uv",I,l[_0x4962("0x0")]),this[_0x4962("0x923")](E,f[_0x4962("0x0")]),y=this.getAttribute("position"),C=this[_0x4962("0x44d")](_0x4962("0x141")),I=this[_0x4962("0x44d")]("uv"),E=this[_0x4962("0x922")](),y[_0x4962("0x452")][_0x4962("0xd8")](o,0),C[_0x4962("0x452")][_0x4962("0xd8")](c,0),I[_0x4962("0x452")].set(l,0),E[_0x4962("0xd8")](f,0),y[_0x4962("0x91e")].count=o.length,C[_0x4962("0x91e")][_0x4962("0x182")]=c[_0x4962("0x0")],I[_0x4962("0x91e")][_0x4962("0x182")]=l[_0x4962("0x0")],E[_0x4962("0x91e")][_0x4962("0x182")]=f[_0x4962("0x0")],y[_0x4962("0x187")]=!0,C[_0x4962("0x187")]=!0,I[_0x4962("0x187")]=!0,E.needsUpdate=!0,s}}),THREE.PathGeometry=v,THREE[_0x4962("0x163")]=p,THREE[_0x4962("0x136")]=s,THREE[_0x4962("0x924")]=u},function(x,_,e){"use strict";THREE[_0x4962("0x925")]=function(){var x=new(THREE[_0x4962("0x926")]);new(THREE[_0x4962("0x12c")]);function _(x,_,e){this[_0x4962("0x669")]=x,this[_0x4962("0x2e6")]=_,this[_0x4962("0x927")]=new(THREE[_0x4962("0x12c")]),this.endPoint=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x928")]=[],this.deep=e||Number[_0x4962("0x1a2")],this[_0x4962("0x929")]=null,this[_0x4962("0x92a")]=""}return _[_0x4962("0x1")][_0x4962("0x92b")]=function(_,e){return this[_0x4962("0x927")]=_||this[_0x4962("0x927")],this[_0x4962("0x92c")]=e||this.endPoint,this[_0x4962("0x928")]=[],this[_0x4962("0x92d")](this[_0x4962("0x927")],this[_0x4962("0x92c")]),this[_0x4962("0x92e")](x),this.collection},_.prototype[_0x4962("0x92d")]=function(_,e){_=_||this[_0x4962("0x927")],e=e||this[_0x4962("0x92c")];var t=esmap[_0x4962("0x33")][_0x4962("0x3a")];if(this[_0x4962("0x669")]=t[_0x4962("0x3ec")],this[_0x4962("0x669")][_0x4962("0x92f")](),this.camera[_0x4962("0x751")](),this[_0x4962("0x669")][_0x4962("0x930")]){var i=_.clone();i.x=Math[_0x4962("0x301")](_.x,e.x),i.y=Math.max(_.y,e.y),e.x=Math[_0x4962("0x300")](_.x,e.x),e.y=Math[_0x4962("0x301")](_.y,e.y);var a=this.camera[_0x4962("0x106")].clone(),n=i.clone(),r=new THREE.Vector3(e.x,i.y,0),s=e[_0x4962("0x126")](),o=new(THREE[_0x4962("0x12c")])(i.x,e.y,0);n[_0x4962("0x931")](this[_0x4962("0x669")]),r[_0x4962("0x931")](this[_0x4962("0x669")]),s.unproject(this[_0x4962("0x669")]),o[_0x4962("0x931")](this[_0x4962("0x669")]);var c=n[_0x4962("0x126")]().sub(a),l=r[_0x4962("0x126")]().sub(a),f=s.clone()[_0x4962("0x52d")](a);c[_0x4962("0x30e")](),l.normalize(),f[_0x4962("0x30e")](),c[_0x4962("0x250")](this[_0x4962("0x932")]),l[_0x4962("0x250")](this.deep),f[_0x4962("0x250")](this[_0x4962("0x932")]),c[_0x4962("0xda")](a),l[_0x4962("0xda")](a),f.add(a),(b=x[_0x4962("0x933")])[0][_0x4962("0x934")](a,n,r),b[1][_0x4962("0x934")](a,r,s),b[2].setFromCoplanarPoints(s,o,a),b[3][_0x4962("0x934")](o,n,a),b[4][_0x4962("0x934")](r,s,o),b[5][_0x4962("0x934")](f,l,c),b[5].normal.multiplyScalar(-1)}else{if(!this[_0x4962("0x669")].isOrthographicCamera)return console[_0x4962("0x44a")](_0x4962("0x935")),!1;var d=Math.min(_.x,e.x),u=Math[_0x4962("0x300")](_.y,e.y),h=Math[_0x4962("0x300")](_.x,e.x),g=Math.min(_.y,e.y);if(d===h||u===g)return!1;n=new THREE.Vector3(d,u,-1),r=new(THREE[_0x4962("0x12c")])(h,u,-1),s=new THREE.Vector3(h,g,-1),o=new THREE.Vector3(d,g,-1);var b,v=new THREE.Vector3(d,u,1),p=new(THREE[_0x4962("0x12c")])(h,u,1),m=new(THREE[_0x4962("0x12c")])(h,g,1),A=new(THREE[_0x4962("0x12c")])(d,g,1);n[_0x4962("0x931")](this[_0x4962("0x669")]),r[_0x4962("0x931")](this[_0x4962("0x669")]),s.unproject(this[_0x4962("0x669")]),o[_0x4962("0x931")](this[_0x4962("0x669")]),v[_0x4962("0x931")](this[_0x4962("0x669")]),p[_0x4962("0x931")](this[_0x4962("0x669")]),m[_0x4962("0x931")](this.camera),A[_0x4962("0x931")](this[_0x4962("0x669")]),(b=x[_0x4962("0x933")])[0][_0x4962("0x934")](n,v,p),b[1][_0x4962("0x934")](r,p,m),b[2][_0x4962("0x934")](m,A,o),b[3].setFromCoplanarPoints(A,v,n),b[4][_0x4962("0x934")](r,s,o),b[5].setFromCoplanarPoints(m,p,v),b[5][_0x4962("0x141")][_0x4962("0x250")](-1)}return!0},_[_0x4962("0x1")][_0x4962("0x92e")]=function(x){var _=this.watchlist,e=new(THREE[_0x4962("0x12c")]),t=esmap[_0x4962("0x33")].instance,i=t[_0x4962("0x3b")].editMode;if(this[_0x4962("0x936")])for(var a=0;a<this.preWatchs[_0x4962("0x0")];a++){var n=this.preWatchs[a];if(n[_0x4962("0x3f7")]==_0x4962("0x133")){if(!n[_0x4962("0x937")]){for(var r=n[_0x4962("0x138")],s=[],o=0;o<r[_0x4962("0x0")]-1;o++){var c=r[o],l=r[o+1],f=l.x-c.x,d=l.y-c.y,u=l.z-c.z,h=Math.max(Math[_0x4962("0x231")](f),Math[_0x4962("0x231")](d),Math.abs(u));if(0!=h&&h!=1/0)for(var g=f/h,b=d/h,v=u/h,p=0;p<h+1;p++){var m=g*p,A=b*p,y=v*p,C=new THREE.Vector3(c.x+m,c.y+A,c.z+y);s[_0x4962("0x3")](C)}}n.boxSelectPoints=s}for(var I=0;I<n[_0x4962("0x937")][_0x4962("0x0")];I++){var E=n[_0x4962("0x937")][I];if(x[_0x4962("0x938")](E)){this[_0x4962("0x928")][_0x4962("0x3")](n);break}}}else n[_0x4962("0x166")].box3||(n[_0x4962("0x166")][_0x4962("0x2ff")]=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](n)),x[_0x4962("0x939")](n[_0x4962("0x166")].box3)&&this[_0x4962("0x928")].push(n)}for(var w in _)for(var T=_[w],k=0;k<T.length;k++){var M=T[k];if(M[_0x4962("0xf1")]&&M[_0x4962("0xf1")].nodeType){if(this[_0x4962("0x93a")]!=_0x4962("0x698"))if(this[_0x4962("0x93a")]instanceof Array){if(this.pickType[_0x4962("0xaf")](M[_0x4962("0xf1")].nodeType)<0)continue}else if(M[_0x4962("0xf1")][_0x4962("0x125")]!=this[_0x4962("0x93a")])continue;if(t[_0x4962("0x194")][_0x4962("0x93b")](M))switch(M[_0x4962("0xf1")][_0x4962("0x125")]){case esmap[_0x4962("0x134")][_0x4962("0x678")]:if(!i&&999==M[_0x4962("0xf1")][_0x4962("0x57f")])continue;for(var S=M.datas_[_0x4962("0x480")],R=0;R<S[_0x4962("0x0")];R++){var L=[];L=i?Array.isArray(S[R][_0x4962("0x138")][0])?S[R][_0x4962("0x138")][0]:S[R][_0x4962("0x138")]:t[_0x4962("0x7f")][_0x4962("0x69d")][S[R].ID][0];for(var H=[],D=1;D<L[_0x4962("0x0")];D++)H[_0x4962("0x3")]({x:-L[D].x,y:L[D].y});(esmap[_0x4962("0x8c")][_0x4962("0x93c")](H,this[_0x4962("0x93d")])||esmap.ESMapUtil[_0x4962("0x657")](H,this.mapExtends))&&this.collection[_0x4962("0x3")](S[R])}break;case esmap.ESNodeType[_0x4962("0x1e3")]:M[_0x4962("0x166")][_0x4962("0x2ff")]||(M[_0x4962("0x166")][_0x4962("0x2ff")]=(new(THREE[_0x4962("0x2ef")])).setFromObject(M)),M[_0x4962("0x166")][_0x4962("0x93e")]||M[_0x4962("0x104")]((function(x){x[_0x4962("0xf6")]&&(x.material instanceof Array?(x.material[0]=x[_0x4962("0xf6")][0][_0x4962("0x126")](),x[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0x93e")]=!0):(x[_0x4962("0xf6")]=x[_0x4962("0xf6")][_0x4962("0x126")](),x.material[_0x4962("0x166")].clonedMats=!0))})),x[_0x4962("0x939")](M.userData[_0x4962("0x2ff")])&&this[_0x4962("0x928")][_0x4962("0x3")](M[_0x4962("0xf1")]);break;case esmap.ESNodeType[_0x4962("0x413")]:if(!M.boxSelectPoints){for(var O=M[_0x4962("0x138")],P=[],N=0;N<O[_0x4962("0x0")]-1;N++){var F=O[N],B=O[N+1],z=B.x-F.x,U=B.y-F.y,V=B.z-F.z,j=Math.max(Math.abs(z),Math[_0x4962("0x231")](U),Math[_0x4962("0x231")](V));if(0!=j&&j!=1/0)for(var Y=z/j,Z=U/j,W=V/j,G=0;G<j+1;G++){var X=Y*G,Q=Z*G,J=W*G,K=new THREE.Vector3(F.x+X,F.y+Q,F.z+J);P.push(K)}}M[_0x4962("0x937")]=P}for(var q=0;q<M[_0x4962("0x937")][_0x4962("0x0")];q++){var $=M[_0x4962("0x937")][q];if(x[_0x4962("0x938")]($)){this.collection[_0x4962("0x3")](M[_0x4962("0xf1")]);break}}break;default:e=M.getWorldPosition(e),x[_0x4962("0x938")](e)&&this.collection[_0x4962("0x3")](M[_0x4962("0xf1")])}}}},_[_0x4962("0x1")][_0x4962("0x93f")]=function(x,_){if(_[_0x4962("0x8e8")]&&void 0!==_.material)if(_.originalPoints){if(!_.boxSelectPoints){for(var e=_[_0x4962("0x138")],t=[],i=0;i<e[_0x4962("0x0")]-1;i++){var a=e[i],n=e[i+1],r=n.x-a.x,s=n.y-a.y,o=n.z-a.z,c=Math.max(Math.abs(r),Math[_0x4962("0x231")](s),Math[_0x4962("0x231")](o));if(0!=c&&c!=1/0)for(var l=r/c,f=s/c,d=o/c,u=0;u<c+1;u++){var h=l*u,g=f*u,b=d*u,v=new THREE.Vector3(a.x+h,a.y+g,a.z+b);t[_0x4962("0x3")](v)}}_[_0x4962("0x937")]=t}for(var p=0;p<_[_0x4962("0x937")][_0x4962("0x0")];p++){var m=_[_0x4962("0x937")][p];if(x[_0x4962("0x938")](m)){this[_0x4962("0x928")][_0x4962("0x3")](_);break}}}else{null===_[_0x4962("0xf4")][_0x4962("0x567")]&&_[_0x4962("0xf4")].computeBoundingBox();var A=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x206")](_[_0x4962("0xf4")][_0x4962("0x567")])[_0x4962("0x2b7")](_[_0x4962("0x3ee")]);if(x[_0x4962("0x939")](A)){var y=null,C=!1;if(_[_0x4962("0xf1")]?y=_:(y=esmap[_0x4962("0x940")][_0x4962("0xef")](_),C=!0),y&&this.collection[_0x4962("0x3")](y.datas_),y&&C)return!0}}if(_[_0x4962("0xf3")].length>0)for(var I=0;I<_[_0x4962("0xf3")][_0x4962("0x0")];I++){if(this[_0x4962("0x93f")](x,_[_0x4962("0xf3")][I]))break}},_}()},function(x,_,e){"use strict";THREE[_0x4962("0x941")]=function(){function x(x,_,e){this[_0x4962("0x472")]=document[_0x4962("0x24")](_0x4962("0x1cd")),this[_0x4962("0x472")][_0x4962("0x4f8")].add(e),this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x942")]=_0x4962("0x612"),this[_0x4962("0x472")][_0x4962("0x25")].border=_0x4962("0x943"),this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x1d3")]=_0x4962("0x944"),this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0x945"),this[_0x4962("0x364")]={domElement:_},this[_0x4962("0x927")]=new(THREE[_0x4962("0x568")]),this[_0x4962("0x946")]=new(THREE[_0x4962("0x568")]),this[_0x4962("0x947")]=new THREE.Vector2,this[_0x4962("0x948")]=x,this.isDown=!1,this[_0x4962("0x364")][_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x949"),function(x){this[_0x4962("0x948")][_0x4962("0x710")]&&2!=x.button&&(this[_0x4962("0x94a")]=!0,this[_0x4962("0x94b")](x))}[_0x4962("0xe")](this),!1),this[_0x4962("0x364")][_0x4962("0x1c8")].addEventListener(_0x4962("0x94c"),function(x){this[_0x4962("0x94a")]&&this[_0x4962("0x94d")](x)}[_0x4962("0xe")](this),!1),this.renderer[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x94e"),function(x){this.selectionBox.enabled&&(this[_0x4962("0x94a")]=!1,this.onSelectOver(x))}[_0x4962("0xe")](this),!1)}return x[_0x4962("0x1")][_0x4962("0x94b")]=function(x){this.renderer.domElement[_0x4962("0x94f")][_0x4962("0x28")](this[_0x4962("0x472")]),this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x35e")]=x.clientX+"px",this.element[_0x4962("0x25")][_0x4962("0x35c")]=x[_0x4962("0x950")]+"px",this.element[_0x4962("0x25")][_0x4962("0x1ce")]="0px",this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x1a4")]="0px",this[_0x4962("0x472")].style.zIndex=1e3,this[_0x4962("0x927")].x=x.clientX,this[_0x4962("0x927")].y=x[_0x4962("0x950")]},x[_0x4962("0x1")][_0x4962("0x94d")]=function(x){this[_0x4962("0x947")].x=Math[_0x4962("0x300")](this[_0x4962("0x927")].x,x[_0x4962("0x951")]),this[_0x4962("0x947")].y=Math[_0x4962("0x300")](this[_0x4962("0x927")].y,x[_0x4962("0x950")]),this[_0x4962("0x946")].x=Math.min(this[_0x4962("0x927")].x,x[_0x4962("0x951")]),this[_0x4962("0x946")].y=Math.min(this.startPoint.y,x[_0x4962("0x950")]),this[_0x4962("0x472")].style[_0x4962("0x35e")]=this[_0x4962("0x946")].x+"px",this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x35c")]=this.pointTopLeft.y+"px",this[_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x1ce")]=this.pointBottomRight.x-this[_0x4962("0x946")].x+"px",this[_0x4962("0x472")].style[_0x4962("0x1a4")]=this[_0x4962("0x947")].y-this[_0x4962("0x946")].y+"px"},x[_0x4962("0x1")][_0x4962("0x952")]=function(){this[_0x4962("0x472")][_0x4962("0x94f")]&&this[_0x4962("0x472")][_0x4962("0x94f")][_0x4962("0x4e9")](this[_0x4962("0x472")])},x}()},function(x,_,e){"use strict";THREE[_0x4962("0x953")]=function(x,_){function e(x){x[_0x4962("0x4c9")]()}this[_0x4962("0x9")]=x,this[_0x4962("0x2c5")]=new(THREE[_0x4962("0x12c")])(0,0,0),this[_0x4962("0x1c8")]=void 0!==_?_:document,this[_0x4962("0x710")]=!0,this[_0x4962("0x954")]=1,this[_0x4962("0x955")]=.005,this[_0x4962("0x956")]=!0,this[_0x4962("0x957")]=!1,this[_0x4962("0x958")]=!0,this[_0x4962("0x959")]=!1,this.heightCoef=1,this[_0x4962("0x95a")]=0,this[_0x4962("0x95b")]=10,this[_0x4962("0x95c")]=1e3,this[_0x4962("0x95d")]=0,this[_0x4962("0x95e")]=!1,this[_0x4962("0x95f")]=0,this.verticalMax=Math.PI,this.autoSpeedFactor=0,this[_0x4962("0x960")]=0,this.mouseY=0,this.lat=0,this[_0x4962("0x961")]=0,this[_0x4962("0x962")]=0,this[_0x4962("0x963")]=0,this[_0x4962("0x964")]=!1,this[_0x4962("0x965")]=!1,this.moveLeft=!1,this[_0x4962("0x966")]=!1,this[_0x4962("0x967")]=!1,this[_0x4962("0x968")]=!1,this.mouseLastPos={x:0,y:0},this.mouseMoveOn=!1,this.viewHalfX=0,this[_0x4962("0x969")]=0,this.stopAsap=!1,this[_0x4962("0x96a")]=!1,this.cruisingMode=0,this.nextPos=null,this[_0x4962("0x96b")]=null,this[_0x4962("0x96c")]=0,this[_0x4962("0x96d")]=0,this[_0x4962("0x96e")]=0,this[_0x4962("0x1c8")]!==document&&this[_0x4962("0x1c8")][_0x4962("0x1da")]("tabindex",-1),this[_0x4962("0x96f")]=function(){this[_0x4962("0x1c8")]===document?(this[_0x4962("0x970")]=window[_0x4962("0x971")]/2,this[_0x4962("0x969")]=window.innerHeight/2):(this.viewHalfX=this[_0x4962("0x1c8")][_0x4962("0x29")]/2,this.viewHalfY=this.domElement[_0x4962("0x2a")]/2)},this[_0x4962("0x972")]=function(x){if(this[_0x4962("0x710")]){if(this[_0x4962("0x1c8")]!==document&&this[_0x4962("0x1c8")][_0x4962("0x973")](),x[_0x4962("0x4c9")](),0==this.mouseClickMoving&&x[_0x4962("0x37b")](),this[_0x4962("0x958")]&&this[_0x4962("0x967")])switch(x.button){case 0:this[_0x4962("0x964")]=!0;break;case 2:this[_0x4962("0x965")]=!0}this[_0x4962("0x968")]=!0}},this.onMouseUp=function(x){if(this[_0x4962("0x710")]){if(x.preventDefault(),0==this[_0x4962("0x967")]&&x[_0x4962("0x37b")](),this.activeLook)switch(x[_0x4962("0x974")]){case 0:this[_0x4962("0x964")]=!1;break;case 2:this[_0x4962("0x965")]=!1}this[_0x4962("0x968")]=!1}},this.onMouseMove=function(x){if(this[_0x4962("0x975")]=!1,this.enabled){this[_0x4962("0x1c8")]===document?(this[_0x4962("0x960")]=x[_0x4962("0x976")]-this.viewHalfX,this.mouseY=x[_0x4962("0x977")]-this.viewHalfY):(this[_0x4962("0x960")]=x[_0x4962("0x976")]-this[_0x4962("0x1c8")].offsetLeft-this[_0x4962("0x970")],this.mouseY=x[_0x4962("0x977")]-this.domElement[_0x4962("0x54a")]-this[_0x4962("0x969")]),this.mouseMoveOn=!0;var _=this;window[_0x4962("0x267")](_[_0x4962("0x978")]),this[_0x4962("0x978")]=setTimeout((function(){_[_0x4962("0x975")]=!0}),1e3),this[_0x4962("0x979")]={x:this[_0x4962("0x960")],y:this.mouseY}}},this[_0x4962("0x97a")]=function(x){if(this[_0x4962("0x710")])switch(x.preventDefault(),x[_0x4962("0x25c")]){case 38:case 87:this[_0x4962("0x964")]=!0;break;case 37:case 65:this[_0x4962("0x97b")]=!0;break;case 40:case 83:this[_0x4962("0x965")]=!0;break;case 39:case 68:this.moveRight=!0;break;case 82:this[_0x4962("0x97c")]=!0;break;case 70:this[_0x4962("0x97d")]=!0;break;case 18:this[_0x4962("0x96a")]=!0}},this[_0x4962("0x97e")]=function(x){if(this.enabled)switch(x[_0x4962("0x25c")]){case 38:case 87:this[_0x4962("0x964")]=!1;break;case 37:case 65:this.moveLeft=!1;break;case 40:case 83:this[_0x4962("0x965")]=!1;break;case 39:case 68:this[_0x4962("0x966")]=!1;break;case 82:this[_0x4962("0x97c")]=!1;break;case 70:this[_0x4962("0x97d")]=!1;break;case 18:this.stopAsap2=!1}},this[_0x4962("0x165")]=function(x){if(!1!==this[_0x4962("0x710")]){if(this[_0x4962("0x959")]){var _=THREE[_0x4962("0x20e")].clamp(this[_0x4962("0x9")][_0x4962("0x106")].y,this[_0x4962("0x95a")],this[_0x4962("0x95b")])-this[_0x4962("0x95a")];this[_0x4962("0x97f")]=x*(_*this[_0x4962("0x980")])}else this[_0x4962("0x97f")]=0;var e=x*this[_0x4962("0x954")],t=this.object[_0x4962("0x106")].y;this.cruisingMode&&this.nextPos?(this[_0x4962("0x9")].position.x=this[_0x4962("0x981")].x,this.object.position.z=this[_0x4962("0x981")].z,this[_0x4962("0x9")][_0x4962("0x106")].y=this[_0x4962("0x981")].y):((this.moveForward||this[_0x4962("0x957")]&&!this[_0x4962("0x965")])&&this[_0x4962("0x9")][_0x4962("0x982")](-(e+this[_0x4962("0x97f")])),this[_0x4962("0x965")]&&this[_0x4962("0x9")][_0x4962("0x982")](e),this[_0x4962("0x97b")]&&this[_0x4962("0x9")][_0x4962("0x983")](-e),this[_0x4962("0x966")]&&this[_0x4962("0x9")][_0x4962("0x983")](e),this.object[_0x4962("0x106")].y=t,this[_0x4962("0x97c")]&&this[_0x4962("0x9")][_0x4962("0x984")](e),this.moveDown&&this[_0x4962("0x9")][_0x4962("0x984")](-e));var i=THREE[_0x4962("0x20e")][_0x4962("0x985")](this.object[_0x4962("0x106")].y,this[_0x4962("0x95d")],this[_0x4962("0x95c")]);this[_0x4962("0x9")].position.y=i;var a=x*this[_0x4962("0x955")];this[_0x4962("0x958")]||(a=0);var n=1;this[_0x4962("0x95e")]&&(n=Math.PI/(this[_0x4962("0x986")]-this[_0x4962("0x95f")])),this[_0x4962("0x987")]&&!this[_0x4962("0x96e")]&&(this.mouseX=0,this.mouseY=0),(this[_0x4962("0x975")]||this[_0x4962("0x96a")])&&(this[_0x4962("0x960")]=0,this[_0x4962("0x988")]=0),this[_0x4962("0x961")]+=this[_0x4962("0x960")]*a,this[_0x4962("0x956")]&&(this[_0x4962("0x989")]-=this[_0x4962("0x988")]*a*n),this[_0x4962("0x989")]=Math[_0x4962("0x300")](-85,Math[_0x4962("0x301")](85,this[_0x4962("0x989")])),this[_0x4962("0x962")]=THREE.Math[_0x4962("0x242")](90-this[_0x4962("0x989")]),this[_0x4962("0x963")]=THREE.Math.degToRad(this[_0x4962("0x961")])+this[_0x4962("0x96c")],this[_0x4962("0x95e")]&&(this[_0x4962("0x962")]=THREE[_0x4962("0x20e")].mapLinear(this[_0x4962("0x962")],0,Math.PI,this[_0x4962("0x95f")],this[_0x4962("0x986")]));var r=this[_0x4962("0x2c5")],s=this[_0x4962("0x9")].position;r.x=s.x+100*Math[_0x4962("0x66d")](this.phi)*Math[_0x4962("0x6bc")](this[_0x4962("0x963")]),this[_0x4962("0x987")]&&this[_0x4962("0x981")]?r.y=s.y:r.y=s.y+100*Math[_0x4962("0x6bc")](this.phi),r.z=s.z+100*Math.sin(this[_0x4962("0x962")])*Math[_0x4962("0x66d")](this[_0x4962("0x963")]),this[_0x4962("0x987")]&&this.lookAtTarget?this[_0x4962("0x9")][_0x4962("0x240")](this[_0x4962("0x96b")]):this[_0x4962("0x9")][_0x4962("0x240")](r),this[_0x4962("0x98a")]=!1,this[_0x4962("0x975")]=!1}},this[_0x4962("0xf5")]=function(){this[_0x4962("0x1c8")].removeEventListener("contextmenu",e,!1),this.domElement.removeEventListener(_0x4962("0x98b"),i,!1),this[_0x4962("0x1c8")][_0x4962("0x2a1")]("mousemove",t,!1),this.domElement[_0x4962("0x2a1")]("mouseup",a,!1),window[_0x4962("0x2a1")]("keydown",n,!1),window[_0x4962("0x2a1")]("keyup",r,!1)};var t=s(this,this.onMouseMove),i=s(this,this[_0x4962("0x972")]),a=s(this,this[_0x4962("0x98c")]),n=s(this,this[_0x4962("0x97a")]),r=s(this,this[_0x4962("0x97e")]);function s(x,_){return function(){_[_0x4962("0x2a4")](x,arguments)}}this[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x98d"),e,!1),this[_0x4962("0x1c8")].addEventListener(_0x4962("0x98e"),t,!1),this[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x98b"),i,!1),this[_0x4962("0x1c8")][_0x4962("0x25e")]("mouseup",a,!1),window[_0x4962("0x25e")](_0x4962("0x98f"),n,!1),window[_0x4962("0x25e")]("keyup",r,!1),this[_0x4962("0x96f")]()}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=o(e(7)),i=o(e(8)),a=o(e(0)),n=o(e(1)),r=e(19),s=o(e(142));function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c=function(){function x(_,e){(0,a.default)(this,x),this[_0x4962("0x990")]=_,this[_0x4962("0x52")]=_[_0x4962("0x139")](e[_0x4962("0x130")]),this[_0x4962("0x51e")](e),this.matInfos={},this[_0x4962("0x132")]=1,this.HeatMapMaterials={}}var _;return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0x991"),value:function(x,_){var e=this[_0x4962("0x52")][_0x4962("0x992")][_][_0x4962("0xf9")]-this[_0x4962("0x52")][_0x4962("0x992")][_].minx,t=this[_0x4962("0x52")][_0x4962("0x992")][_].maxy-this.building[_0x4962("0x992")][_][_0x4962("0xfe")],i={w:Math[_0x4962("0x36c")](e),h:Math.round(t)},a=(0,r[_0x4962("0x1c")])();i.w=i.w*a[0]/15,i.h=i.h*a[1]/15;var n=1,s=x||8192;return(e>500||t>500)&&s>=8192&&(s=2048),(i.w>=s||i.h>=s)&&(i.w>=i.h?(n=i.h/i.w,i.w=s,i.h=s*n):(n=i.w/i.h,i.h=s,i.w=s*n)),i}},{key:_0x4962("0x993"),value:function(x,_){var e={x:1-(x-this.building[_0x4962("0x992")][this[_0x4962("0x132")]][_0x4962("0xfd")])/(this[_0x4962("0x52")][_0x4962("0x992")][this[_0x4962("0x132")]].maxx-this[_0x4962("0x52")].floorEdges[this[_0x4962("0x132")]].minx),y:1-(_-this[_0x4962("0x52")][_0x4962("0x992")][this[_0x4962("0x132")]][_0x4962("0xfe")])/(this[_0x4962("0x52")][_0x4962("0x992")][this.fnum][_0x4962("0xfa")]-this[_0x4962("0x52")][_0x4962("0x992")][this[_0x4962("0x132")]][_0x4962("0xfe")])};return e.x=e.x*this[_0x4962("0x3b")][_0x4962("0x1ce")],e.y=e.y*this.options[_0x4962("0x1a4")],e}},{key:_0x4962("0x51e"),value:function(x){var _=this;_[_0x4962("0x3b")]={opacity:x[_0x4962("0x2")](_0x4962("0x145"))?x.opacity:1,mapOpacity:x[_0x4962("0x2")](_0x4962("0x994"))?x[_0x4962("0x994")]:1,radius:x[_0x4962("0x69c")]?x.radius:30,bshadow:x.radius?x[_0x4962("0x69c")]/20:1.5,maxSize:x[_0x4962("0x995")]||8192,gendatas:!!x[_0x4962("0x996")],backgroundColor:x[_0x4962("0x1d3")]||_0x4962("0x128"),boundVal:15e3,duration:x[_0x4962("0x1a8")],shadowBlur:15,points:{max:x[_0x4962("0x300")]?x.max:100,data:[]},gradient:x[_0x4962("0x997")]?x[_0x4962("0x997")]:{.45:_0x4962("0x998"),.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:_0x4962("0x999")}};var e=document[_0x4962("0x24")]("canvas"),t=e[_0x4962("0x337")]("2d");_.options[_0x4962("0x99a")]=t,_[_0x4962("0x3b")][_0x4962("0x336")]=e;var i=document.createElement(_0x4962("0x336")),a=i[_0x4962("0x337")]("2d");_[_0x4962("0x3b")][_0x4962("0x99b")]=a,_.options.canvasCopy=i}},{key:_0x4962("0x99c"),value:function(x,_,e,t){var i=this,a=i[_0x4962("0x3b")][_0x4962("0x99a")],n=(i[_0x4962("0x3b")].radius,i.options.boundVal),r=parseFloat(e/i[_0x4962("0x3b")][_0x4962("0x138")][_0x4962("0x300")],10);a[_0x4962("0x346")]=t?_0x4962("0x99d")+h+")":_0x4962("0x99e")+r+")",a[_0x4962("0x347")]=n,a[_0x4962("0x348")]=n,a[_0x4962("0x345")]=i[_0x4962("0x3b")][_0x4962("0x345")],a.beginPath(),a[_0x4962("0x34c")](x-n,_-n,i.options[_0x4962("0x69c")],0,2*Math.PI,!0),a.closePath(),a[_0x4962("0x47b")]()}},{key:_0x4962("0x99f"),value:function(){for(var x=this,_=x[_0x4962("0x3b")][_0x4962("0x1ce")],e=x[_0x4962("0x3b")].height,t=x[_0x4962("0x3b")][_0x4962("0x99a")],i=t.getImageData(0,0,_,e),a=i[_0x4962("0x57b")],n=a[_0x4962("0x0")],r=x[_0x4962("0x9a0")](),s=x[_0x4962("0x3b")][_0x4962("0x145")]?255*x[_0x4962("0x3b")][_0x4962("0x145")]:255,o=3;o<n;o+=4){var c=a[o],l=4*c;if(l){var f=c<s?c:s;a[o-3]=r[l],a[o-2]=r[l+1],a[o-1]=r[l+2],a[o]=f}}i.data[_0x4962("0xd8")](a),t.putImageData(i,0,0)}},{key:"setFloorNum",value:function(x){var _=this;_[_0x4962("0x132")]=x;var e=_[_0x4962("0x3b")],t=_[_0x4962("0x991")](e[_0x4962("0x995")],x),i=t.w,a=t.h;e[_0x4962("0x1ce")]=i,e[_0x4962("0x1a4")]=a,e[_0x4962("0x336")].width=i,e[_0x4962("0x336")][_0x4962("0x1a4")]=a,e[_0x4962("0x9a1")].width=i,e[_0x4962("0x9a1")][_0x4962("0x1a4")]=a,this[_0x4962("0x9a2")][x]||(this[_0x4962("0x9a2")][x]={matTool:new(s[_0x4962("0xc")])({duration:e.hasOwnProperty(_0x4962("0x1a8"))?e[_0x4962("0x1a8")]:1,colorStr:e.backgroundColor})})}},{key:_0x4962("0x9a3"),value:(_=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")].mark((function x(_){var e,i,a,n,r,s,o,c,l,f,d,u,h,g;return t[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(i=(e=this).options[_0x4962("0x336")],a=new(THREE[_0x4962("0x368")])(i),n=e[_0x4962("0x3b")][_0x4962("0x994")],r=e[_0x4962("0x52")][_0x4962("0x673")](_),s=null,a.needsUpdate=!0,e[_0x4962("0x9a2")][_]&&e[_0x4962("0x9a2")][_][_0x4962("0x9a4")]){x[_0x4962("0x286")]=7;break}return console[_0x4962("0xe0")]("åºç¨"+_+_0x4962("0x9a5")),x[_0x4962("0x28b")](_0x4962("0x28c"));case 7:if(!r[_0x4962("0x9a6")]){x[_0x4962("0x286")]=16;break}return s=e[_0x4962("0x9a2")][_][_0x4962("0x9a7")],x[_0x4962("0x286")]=11,e[_0x4962("0x9a2")][_][_0x4962("0x9a4")][_0x4962("0x165")](a);case 11:if(e[_0x4962("0x9a2")][_]&&e[_0x4962("0x9a2")][_][_0x4962("0x9a4")][_0x4962("0x48f")]){x[_0x4962("0x286")]=13;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 13:e.HeatMapMaterials[_].matTool[_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x4b9")][_0x4962("0xe3")][_0x4962("0xf5")](),x[_0x4962("0x286")]=19;break;case 16:(s=e[_0x4962("0x9a2")][_][_0x4962("0x9a4")][_0x4962("0x482")](a,new(THREE[_0x4962("0x368")])))[_0x4962("0x166")][_0x4962("0x107")]=_0x4962("0x9a8"),e.HeatMapMaterials[_].mat=s;case 19:_!=e[_0x4962("0x52")][_0x4962("0x58a")]&&e[_0x4962("0x52")][_0x4962("0x3b")][_0x4962("0x58b")],o=r.getObjectsByAlias(_0x4962("0x613")),c=0;case 23:if(!(c<o.length)){x[_0x4962("0x286")]=36;break}if(l=o[c],(f=l[_0x4962("0xf6")][0])[_0x4962("0x166")][_0x4962("0x107")]!=_0x4962("0x9a8")){x.next=28;break}return x[_0x4962("0x28b")](_0x4962("0x692"),33);case 28:l[_0x4962("0xf4")][_0x4962("0x454")](_0x4962("0x9a9"),l.geometry[_0x4962("0x44d")]("uv")),l[_0x4962("0xf4")][_0x4962("0x454")]("uv",l[_0x4962("0xf4")][_0x4962("0x44d")](_0x4962("0x9aa"))),l.userData[_0x4962("0x9ab")]=f,d=l[_0x4962("0xf6")][1],l[_0x4962("0xf6")]=d?[s,d]:[s];case 33:c++,x[_0x4962("0x286")]=23;break;case 36:u=r[_0x4962("0x9ac")]([_0x4962("0x288"),_0x4962("0x616")]),h=r[_0x4962("0x9ac")]([_0x4962("0x1e8")]),g=function(x){x[_0x4962("0x166")].originalStatus||(x[_0x4962("0x166")][_0x4962("0x9ad")]={transparent:x.transparent,opacity:x[_0x4962("0x145")],depthWrite:x[_0x4962("0x16f")]},x[_0x4962("0x144")]=!0,x[_0x4962("0x145")]=n,x[_0x4962("0x16f")]=!1)},1!=n&&h[_0x4962("0x20")]((function(x){x.renderOrder=0,x[_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")])if(x[_0x4962("0xf6")]instanceof Array)for(var _ in x[_0x4962("0xf6")])x[_0x4962("0xf6")][_]&&g(x[_0x4962("0xf6")][_]);else g(x.material)}))})),u[_0x4962("0x20")]((function(x){var _=x[_0x4962("0xf6")],e=_[0];e[_0x4962("0x166")].cloned||((e=e[_0x4962("0x126")]()).userData.cloned=!0,_[0]=e),e[_0x4962("0x166")][_0x4962("0x2")]("opacity")||(e[_0x4962("0x166")][_0x4962("0x144")]=e[_0x4962("0x144")],e.userData[_0x4962("0x145")]=e.opacity),e[_0x4962("0x144")]=!0,e[_0x4962("0x145")]=n})),r[_0x4962("0x9a6")]=!0;case 42:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x9b0"),value:function(x){var _=this,e=function(x){if(x[_0x4962("0x166")][_0x4962("0x9ad")]){var _=x.userData[_0x4962("0x9ad")];x[_0x4962("0x144")]=_.transparent,x.opacity=_[_0x4962("0x145")],x[_0x4962("0x16f")]=_[_0x4962("0x16f")],x[_0x4962("0x187")]=!0,x[_0x4962("0x48")]&&(x[_0x4962("0x48")][_0x4962("0x187")]=!0),x[_0x4962("0x166")][_0x4962("0x9ad")]=null}};if(x){var t=_.building[_0x4962("0x673")](x);if(!t._hasHeatMap||!this[_0x4962("0x9a2")][x])return;if(1!=_[_0x4962("0x3b")].mapOpacity)t[_0x4962("0x9ac")]([_0x4962("0x1e8")])[_0x4962("0x20")]((function(x){x[_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")])if(x[_0x4962("0xf6")]instanceof Array)for(var _ in x.material)x[_0x4962("0xf6")][_]&&e(x[_0x4962("0xf6")][_]);else e(x.material)}))}));for(var i=t.getObjectsByAlias(_0x4962("0x613")),a=0;a<i.length;a++){var n=i[a];n[_0x4962("0xf4")].addAttribute("uv",n[_0x4962("0xf4")][_0x4962("0x44d")](_0x4962("0x9a9")));var r=n[_0x4962("0xf6")][0];r[_0x4962("0x166")][_0x4962("0x107")]==_0x4962("0x9a8")&&_[_0x4962("0x9a2")][x][_0x4962("0x9a4")].shader&&(_[_0x4962("0x9a2")][x][_0x4962("0x9a4")][_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x4b9")]&&_.HeatMapMaterials[x][_0x4962("0x9a4")].shader[_0x4962("0x149")][_0x4962("0x4b9")][_0x4962("0xe3")][_0x4962("0xf5")](),_[_0x4962("0x9a2")][x][_0x4962("0x9a4")][_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x4ba")]&&_[_0x4962("0x9a2")][x][_0x4962("0x9a4")][_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x4ba")].value.dispose()),r[_0x4962("0xf5")](),r=null;var s=n.material[1],o=n[_0x4962("0x166")][_0x4962("0x9ab")];o[_0x4962("0x48")]&&(o.map[_0x4962("0x187")]=!0),n[_0x4962("0xf6")]=s?[o,s]:[o],t[_0x4962("0x9ac")](["model",_0x4962("0x616")])[_0x4962("0x20")]((function(x){x[_0x4962("0xf6")][0].transparent=x[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0x144")],x[_0x4962("0xf6")][0].opacity=x[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0x145")]}))}this[_0x4962("0x9a2")][x]=null,t[_0x4962("0x9a6")]=!1}}},{key:_0x4962("0x9a0"),value:function(){var x=document[_0x4962("0x24")]("canvas"),_=x.getContext("2d");x[_0x4962("0x1ce")]=1,x[_0x4962("0x1a4")]=256;var e=this[_0x4962("0x3b")][_0x4962("0x997")],t=_[_0x4962("0x9b1")](0,0,1,256);for(var i in e)t[_0x4962("0x9b2")](i,e[i]);return _[_0x4962("0x343")]=t,_[_0x4962("0x9b3")](0,0,1,256),_[_0x4962("0x9b4")](0,0,1,256)[_0x4962("0x57b")]}},{key:_0x4962("0x9b5"),value:function(x,_,e){var t=this[_0x4962("0x3b")][_0x4962("0x138")],i=t[_0x4962("0x57b")];e>t.max&&(t[_0x4962("0x300")]=e),i[_0x4962("0x3")]([x,_,e])}},{key:"clearPoints",value:function(){this[_0x4962("0x3b")].points[_0x4962("0x57b")]=[],this[_0x4962("0x728")]()}},{key:_0x4962("0x9b6"),value:function(x,_,e){if(x&&_&&e){var t=this.getPixXY(x,_);if(t){this.renderShadow(t.x,t.y,e,!1),this[_0x4962("0x99f")]()}}}},{key:_0x4962("0x728"),value:function(){this[_0x4962("0x3b")][_0x4962("0x99a")][_0x4962("0x9b7")](0,0,this[_0x4962("0x3b")][_0x4962("0x1ce")],this[_0x4962("0x3b")][_0x4962("0x1a4")])}},{key:_0x4962("0x9b8"),value:function(){var x=this[_0x4962("0x3b")].canvas,_=this[_0x4962("0x3b")][_0x4962("0x9b9")];return{mainTexture:new(THREE[_0x4962("0x368")])(x),copyTexture:new(THREE[_0x4962("0x368")])(_)}}},{key:_0x4962("0x9ba"),value:function(x){var _=this;_[_0x4962("0x728")]();for(var e=x.length,t=0;t<e;t++){var i=x[t][_0x4962("0xe3")];if(i){var a=this[_0x4962("0x993")](x[t].x,x[t].y);if(!a)return!0;_[_0x4962("0x99c")](a.x,a.y,i,!1)}}_[_0x4962("0x99f")]()}},{key:"randomPoints",value:function(x){var _=this,e=_.options[_0x4962("0x1ce")],t=_[_0x4962("0x3b")].height,i=_.options[_0x4962("0x138")][_0x4962("0x300")],a=_[_0x4962("0x3b")][_0x4962("0x996")];_[_0x4962("0x728")]();for(var n=0;n<x;n++){var r=Math[_0x4962("0x31")](Math[_0x4962("0x1e6")]()*e+1),s=Math.floor(Math[_0x4962("0x1e6")]()*t+1),o=Math[_0x4962("0x31")](Math[_0x4962("0x1e6")]()*i+1);_[_0x4962("0x99c")](r,s,o,!1),a&&_[_0x4962("0x99c")](r,s,o,!0)}_[_0x4962("0x99f")]()}}]),x}();_[_0x4962("0xc")]=c},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=H(e(6)),i=H(e(47)),a=H(e(71)),n=H(e(15)),r=H(e(7)),s=H(e(8)),o=H(e(9)),c=H(e(2)),l=H(e(61)),f=H(e(5)),d=H(e(0)),u=H(e(1)),h=H(e(10)),g=H(e(11)),b=H(e(106)),v=e(4),p=H(e(285)),m=H(e(63)),A=H(e(297)),y=e(19),C=H(e(146)),I=H(e(301)),E=H(e(147)),w=H(e(324)),T=H(e(325)),k=e(20),M=e(4),S=e(326),R=e(43),L=e(27);function H(x){return x&&x.__esModule?x:{default:x}}var D=0,O={},P=void 0,N=null,F=null,B=!1,z=function(x){function _(x){(0,d[_0x4962("0xc")])(this,_);var e=(0,h[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,f[_0x4962("0xc")])(_))[_0x4962("0xf")](this,x));e[_0x4962("0x9bb")]=[],e.lastSelectModelStore=[],e[_0x4962("0x196")]=[],e.__moveToId=null,e[_0x4962("0x6a3")]=new(THREE[_0x4962("0x18c")]),e[_0x4962("0x6a3")][_0x4962("0x7ba")]=_0x4962("0x7b3");var t=e;t[_0x4962("0x9bc")]=!1,t[_0x4962("0xa5")]=_0x4962("0x9bd"),e[_0x4962("0x260")].minPolarAngle=0,(0,M[_0x4962("0x33e")])()[_0x4962("0x3b6")]||(e.controls[_0x4962("0x9be")]=!1),e.controls[_0x4962("0x9bf")]=1,e[_0x4962("0x260")][_0x4962("0x2b0")]=15015.34033758685,e[_0x4962("0x9c0")]=!0,e[_0x4962("0x13e")]=new(esmap[_0x4962("0x636")])(e[_0x4962("0x3b")]),e.mapScene=new esmap.ESMapScene(e,e[_0x4962("0x13e")]),e.mapService=new(I[_0x4962("0xc")])(e),e[L[_0x4962("0x9c1")]]=new(E[_0x4962("0xc")])(!0,e[_0x4962("0x1c6")][_0x4962("0x9c2")],e[_0x4962("0x3b")]),e.controls[_0x4962("0x25e")]("change",e[_0x4962("0x9c3")][_0x4962("0xe")](e)),e[_0x4962("0x9c4")]="3D",e[_0x4962("0x3ec")]=e.mapView[_0x4962("0x669")],e.requireUpdateCollide_=!1,e.firstCameraPos=new(THREE[_0x4962("0x12c")]),e[_0x4962("0x9c5")]=new THREE.Vector3,e[_0x4962("0x9c6")]=new(esmap[_0x4962("0x649")])(e),e[_0x4962("0x9c7")]=new(A[_0x4962("0xc")])(e,e[_0x4962("0x260")]),e[_0x4962("0x9c8")]={},e[_0x4962("0x3e9")]=_0x4962("0x1b9"),"3"===e.options[_0x4962("0x9c9")]&&(esmap[_0x4962("0x9ca")]=!0,esmap[_0x4962("0x6b3")]=1,e[_0x4962("0x3b")][_0x4962("0x9cb")]&&(esmap[_0x4962("0x6b3")]=e[_0x4962("0x3b")][_0x4962("0x9cb")])),e[_0x4962("0x9cc")]=0,(i=e).on("controlend",(function(){i[_0x4962("0x2d1")]()})),e.scaleLevels_=[.025,.03,.045,.055,.07,.085,.09,.1,.12,.14,.18,.25,.3,.4,.5,.65,.72,.81,.89,.95,1.02,1.1,1.2],e[_0x4962("0x9cd")]=new(THREE[_0x4962("0x1ea")]),e[_0x4962("0x9ce")]=new THREE.Clock,e[_0x4962("0x9cf")]=1,e[_0x4962("0x9d0")]={},e[_0x4962("0x9d1")]=[],e[_0x4962("0x265")]=!0,e[_0x4962("0x9d2")]={},e[_0x4962("0x9d3")]=null,e[_0x4962("0x687")]=[],esmap.ESMap[_0x4962("0x3a")]&&(esmap[_0x4962("0x9d4")]++,k[_0x4962("0x37")].post({msg:[esmap.ESInfo[_0x4962("0x9d5")]+": "+esmap.instanceCount],level:"error"})),esmap[_0x4962("0x33")][_0x4962("0x3a")]=e,esmap[_0x4962("0x9d4")]||(esmap.instanceCount=1),e.IsMapLoading=!0;var i=e;e.on(_0x4962("0x9d6"),e.onMapResize),e[L._ztl_][_0x4962("0x39")](),e[_0x4962("0x9d7")]=!1,e[_0x4962("0x9d8")]=16,e[_0x4962("0x1b8")]=_0x4962("0x1b9"),e[_0x4962("0x9d9")]=new(S[_0x4962("0x9da")])(e),esmap.TWEEN.map=e,e.rayPointer=new C.default({coord:null,mode:"height",inverse:!1,startCoord:null,depth:100,endCoord:null,typeID:null,dataID:null,excludeNodeTypes:[],targetName:null}),e[_0x4962("0x9db")]=new(esmap[_0x4962("0x9db")])(e[_0x4962("0x3ec")],e[_0x4962("0x1c6")][_0x4962("0x547")]),e[_0x4962("0x9db")][_0x4962("0x710")]=!1,e.firstPersonControls=new(THREE[_0x4962("0x953")])(e[_0x4962("0x3ec")],e.mapView[_0x4962("0x547")]),e[_0x4962("0x9dc")]=!1,e[_0x4962("0x65e")].enabled=!1,e[_0x4962("0x9dd")]=new esmap.FreeFlyControls(e[_0x4962("0x3ec")],document[_0x4962("0x27")]),e[_0x4962("0x9dd")][_0x4962("0x710")]=!1,e[_0x4962("0x9de")]=v[_0x4962("0x9df")],e.on(_0x4962("0x9e0"),(function(x){i[_0x4962("0x65e")][_0x4962("0x165")](x),i.FirstPersonControls_2[_0x4962("0x165")](),i.FreeFlyControls.update(),esmap[_0x4962("0x1a6")][_0x4962("0x165")]()})),e.on(_0x4962("0x179"),(function(){t[_0x4962("0x9bc")]||(t[_0x4962("0x9bc")]=!0)})),e.on("loadComplete",(function(){e.options[_0x4962("0x398")]&&(e.mapPicker[_0x4962("0x398")]=!0)})),e.on(_0x4962("0x9e1"),(function(){e.options[_0x4962("0x398")]&&(e[_0x4962("0x194")].hoverMode=!0)})),e.on(_0x4962("0x9e2"),(function(){e[_0x4962("0x3b")][_0x4962("0x398")]&&(e.mapPicker[_0x4962("0x398")]=!0)})),e[_0x4962("0x9e3")]=new(esmap[_0x4962("0x63a")])(e[_0x4962("0x194")],e[_0x4962("0x260")]),e.popMarkers_=[],e.localMoveTo=e[_0x4962("0x331")],e._cityLocMarkers=[],e[_0x4962("0x9e4")]=!1,e[_0x4962("0x9e5")]=!1,e.cityModelLoadFlag=!0,e[_0x4962("0x9e6")]=!1,e.__lastPhi=0,e[_0x4962("0x9e7")]=!1,e.locationMarker=null;var a=new CustomEvent(_0x4962("0x9e8"),{});return window[_0x4962("0x44")](a),e}var p,H,z,U,V;return(0,g.default)(_,x),(0,u[_0x4962("0xc")])(_,[{key:_0x4962("0x9e9"),value:function(){this.cssFuncs[_0x4962("0x20")]((function(x){x()}))}},{key:"restoreArea",value:function(x){var _=this.hideRecord[x];for(var e in _){var t=_[e],i=this[_0x4962("0x310")](e);i||(_[e]=null);var a=i[_0x4962("0x3c3")][_0x4962("0x408")](esmap[_0x4962("0x3d6")].MODEL);if(a[0])for(var n=(a=a[0])[_0x4962("0xf2")][_0x4962("0xf3")],r=0;r<n[_0x4962("0x0")];r++)for(var s=n[r],o=s[_0x4962("0xf1")][_0x4962("0x480")],c=s[_0x4962("0xf4")],l=0;l<o.length;l++){var f=o[l],d=t[_0x4962("0xaf")](f.ID);d>-1&&(t.splice(d,1),c[_0x4962("0x556")](f.ID))}}this.hideRecord[x]=null}},{key:_0x4962("0x9ea"),value:function(x){var _=this;if(!_[_0x4962("0x9dc")]){for(var e in _[_0x4962("0x65e")].cruisingMode=!1,_[_0x4962("0x65e")][_0x4962("0x9eb")]=0,_[_0x4962("0x65e")][_0x4962("0x981")]=null,_.firstPersonControls[_0x4962("0x96c")]=0,_[_0x4962("0x9ec")])_[_0x4962("0x9ec")][e]&&_.toClearId[e][_0x4962("0x1b2")]();_[_0x4962("0x9ec")]=[],x.exitModeOnEnd?(x[_0x4962("0x9ed")]&&this[_0x4962("0x251")]({angle:_[_0x4962("0x9ee")][_0x4962("0x9ef")]}),_.firstPersonMode=!1,x[_0x4962("0x9ed")]?new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(_).to({tiltAngle:_.beforeCruiseState[_0x4962("0x9f0")]},1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x244")].None)[_0x4962("0x1b0")]((function(){_[_0x4962("0x9f1")](_[_0x4962("0x9ee")].originalScaleLevel,{callback:function(){esmap.ESMapUtil[_0x4962("0x661")](_[_0x4962("0x9ee")][_0x4962("0x9f2")]),t()}})})).start():t()):t()}function t(){x.callback&&x[_0x4962("0x1b3")]()}}},{key:_0x4962("0x9f3"),value:function(x){for(var _=x.id,e=x.dataID,t=0;t<this.mapScene[_0x4962("0x9f4")].length;t++){var i=this.mapScene[_0x4962("0x9f4")][t];if(i.id===_||i[_0x4962("0x212")]===e)return i}return null}},{key:"cruisingByPoints",value:function(x){var _=null;function e(x,_){var e=new(THREE[_0x4962("0x12c")])(0,0,1),t=new(THREE[_0x4962("0x12c")])(x.x,0,x.y),i=new(THREE[_0x4962("0x12c")])(_.x,0,_.y)[_0x4962("0x126")]()[_0x4962("0x52d")](t).normalize(),a=i[_0x4962("0x22d")](e)*THREE[_0x4962("0x20e")].RAD2DEG;return i.clone()[_0x4962("0x314")](e).y>0?360-a:a}function t(x,n){if(x!=n[_0x4962("0x0")]){var r=(0,v[_0x4962("0x11d")])(n[x-1],n[x])/(n[x-1][_0x4962("0x2db")]||a.speed);!function(){if(0!=i[_0x4962("0x65e")].cruisingMode){var s={x:n[x-1].x,y:n[x-1].y},o={x:n[x].x,y:n[x].y};n[x][_0x4962("0x87e")]&&esmap.ESMapUtil.search(i,_0x4962("0x698"),{nodeType:esmap.ESNodeType.MODEL3D,ID:n[x][_0x4962("0x87e")].id},(function(_){_[_0x4962("0x0")]>0&&_[0][_0x4962("0x263")](n[x][_0x4962("0x87e")][_0x4962("0x9f5")])}));var c=e(s,o),l=!1;null!=_&&Math[_0x4962("0x231")](_-c)>10&&(l=!0),_=c;var f=90-c;l&&i[_0x4962("0x251")]({angle:f,time:a.rotateTime});var d=new esmap.TWEEN.Tween(s).to(o,1e3*r)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x244")].None)[_0x4962("0x173")]((function(_){n[x-1].x,n[x-1].y;var e={x:n[x-1].x+_[_0x4962("0xe3")]*(n[x].x-n[x-1].x),y:n[x-1].y+_.value*(n[x].y-n[x-1].y)};i[_0x4962("0x65e")][_0x4962("0x981")]=e}))[_0x4962("0x1b0")]((function(){t(x+=1,n)}))[_0x4962("0x1b1")]();i.toClearId.push(d)}}()}else i[_0x4962("0x9ea")]({callback:a[_0x4962("0x9f6")],needAnimate:a[_0x4962("0x9f7")]})}var i=this;i.toClearId=[];var a=(0,c.default)({speed:1,lookSpeed:.05,userIntersecting:!1,exitModeOnEnd:!0,beforeStart:null,afterEnd:null,easeIn:!0,easeOut:!0,rotateTime:1.2,lookVertical:!0,fnum:i.focusFloorNum,scaleRate:.025,height:2},x),n=x[_0x4962("0x138")];i[_0x4962("0x9ee")]={originalControlState:esmap[_0x4962("0x8c")][_0x4962("0x9f8")](),originalScaleLevel:map.scaleLevel,originalTiltAngle:map[_0x4962("0x330")],originalRotateAngle:map[_0x4962("0x230")]};var r=e(n[0],n[1]);function s(){a.beforeStart&&a[_0x4962("0x9fc")](),i[_0x4962("0x9dc")]=!1;var x=i[_0x4962("0x260")][_0x4962("0x9")][_0x4962("0x106")].clone();i.controls[_0x4962("0x710")]=!1,i.firstPersonMode=!0,i[_0x4962("0x65e")][_0x4962("0x96e")]=a[_0x4962("0x96e")],i[_0x4962("0x65e")].movementSpeed=1,i.firstPersonControls[_0x4962("0x955")]=a[_0x4962("0x955")],i[_0x4962("0x65e")][_0x4962("0x9fd")]=!1,i[_0x4962("0x65e")][_0x4962("0x956")]=a.lookVertical,i[_0x4962("0x65e")][_0x4962("0x987")]=!0,o[_0x4962("0x9fe")]({x:x.x,y:x.z}),t(1,o)}i[_0x4962("0x9dc")]=!0,a[_0x4962("0x9f9")]?map[_0x4962("0x331")]({time:1,x:n[0].x,y:n[0].y,callback:function(){i.controls[_0x4962("0x2c5")][_0x4962("0x206")](new THREE.Vector3(-n[0].x,a.height,n[0].y)),i[_0x4962("0x260")].update(),map.rotateTo({angle:r,time:.5,onComplete:function(){map[_0x4962("0x3b")][_0x4962("0x9fa")]?map.controls[_0x4962("0x9fb")](19,4e3,(function(){new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(i).to({tiltAngle:89},1e3)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x244")].None)[_0x4962("0x1b0")]((function(){s()}))[_0x4962("0x1b1")]()})):map[_0x4962("0x9f1")](a[_0x4962("0x1fd")],{time:1,rawLevel:!0,callback:function(){new(esmap.TWEEN[_0x4962("0x1a7")])(i).to({tiltAngle:89},1e3).easing(esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x244")][_0x4962("0x245")]).onComplete((function(){s()}))[_0x4962("0x1b1")]()}})}})}}):s();var o=[];n[_0x4962("0x20")]((function(x){o[_0x4962("0x3")]({x:-x.x,y:x.y,speed:x.speed||null,animation:x[_0x4962("0x87e")]||null})}))}},{key:"onMapResize",value:function(x){this[L[_0x4962("0x9c1")]][_0x4962("0x53f")](x.width,x[_0x4962("0x1a4")])}},{key:_0x4962("0x9ff"),value:function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]?arguments[1]:{},e=null;if(0==this[_0x4962("0x9cc")])if(this.getBuildingById(x))console[_0x4962("0x44a")]("å»ºç­å·²å¤äºæå¼ç¶æï¼");else{if(!this[_0x4962("0x3b")][_0x4962("0xa00")]){var t=(new Date)[_0x4962("0x86")]();this[_0x4962("0xa01")]?e=t-this[_0x4962("0xa01")]:this[_0x4962("0xa01")]=t,this[_0x4962("0xa01")]=t,e&&e<=1e3&&console[_0x4962("0x293")](esmap.ESInfo[_0x4962("0xa02")])}esmap.ESMap[_0x4962("0xa03")]?this[_0x4962("0x2b4")][_0x4962("0xa04")]=x:this[_0x4962("0xa05")]({id:x,moveTo:_.moveTo,openAnimate:this[_0x4962("0x3b")][_0x4962("0xa06")]})}}},{key:_0x4962("0x331"),value:function(x){var _,e=this;if(x)return new o.default((_=(0,s[_0x4962("0xc")])(r[_0x4962("0xc")][_0x4962("0x283")]((function _(t){var i,a,n,s,o,c,l,f,d,u;return r[_0x4962("0xc")][_0x4962("0x284")]((function(_){for(;;)switch(_.prev=_[_0x4962("0x286")]){case 0:if(i=e,a=0,!x.fnum||e[_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x3b8")]){_[_0x4962("0x286")]=13;break}if(n=e[_0x4962("0x578")](),x[_0x4962("0x132")]=Number(x[_0x4962("0x132")]),n.focusFloorNum==x.fnum){_.next=11;break}return _[_0x4962("0x286")]=8,n[_0x4962("0xa07")](x.fnum);case 8:return _[_0x4962("0x286")]=10,n[_0x4962("0x2da")](x.fnum);case 10:a=_.sent;case 11:_[_0x4962("0x286")]=14;break;case 13:a=x[_0x4962("0x1a4")];case 14:if(s=e.mapView[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x126")](),o=e[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x126")](),c=e[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x210")][_0x4962("0x126")](),l=e[_0x4962("0x237")]({x:x.x,y:x.y,z:a}),f=l[_0x4962("0x126")]()[_0x4962("0x52d")](s[_0x4962("0x126")]()),d=new(THREE[_0x4962("0x12c")])(o.x+f.x,o.y+f.y,o.z+f.z),u=1,typeof x[_0x4962("0x1a5")]===_0x4962("0x18a")&&(u=x.time),0!==u){_.next=31;break}return i[_0x4962("0x1c6")][_0x4962("0x669")].rotation[_0x4962("0x206")](c),i[_0x4962("0x260")].target.copy(l),i[_0x4962("0x1c6")][_0x4962("0x669")].position[_0x4962("0x206")](d),i[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:i[_0x4962("0x260")][_0x4962("0x2d3")](),forcePhi:i[_0x4962("0x260")][_0x4962("0x32f")]()}),i.updateTileView(),x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")](),t(),_[_0x4962("0x28b")](_0x4962("0x28c"));case 31:e[_0x4962("0xa08")]&&e.animate_target[_0x4962("0x1b2")](),e[_0x4962("0xa08")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(i[_0x4962("0x260")][_0x4962("0x2c5")]).to(l[_0x4962("0x126")](),1e3*u).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")].InOut).onUpdate((function(){i[_0x4962("0x1c6")].camera.rotation[_0x4962("0x206")](c)}))[_0x4962("0x1b0")]((function(){}))[_0x4962("0x1b1")](),e[_0x4962("0xa09")]&&e[_0x4962("0xa09")][_0x4962("0x1b2")](),e[_0x4962("0xa09")]=new(esmap.TWEEN[_0x4962("0x1a7")])(i.mapView[_0x4962("0x669")].position).to(d,1e3*u)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")])[_0x4962("0x173")]((function(){i[_0x4962("0x1c6")][_0x4962("0x669")].rotation[_0x4962("0x206")](c),i[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:i[_0x4962("0x260")][_0x4962("0x2d3")](),forcePhi:i[_0x4962("0x260")][_0x4962("0x32f")]()})})).onComplete((function(){i[_0x4962("0x2d1")](),x.callback&&x[_0x4962("0x1b3")](),t(i.animate_target)}))[_0x4962("0x1b1")]();case 35:case _0x4962("0x308"):return _.stop()}}),_,e)}))),function(x){return _[_0x4962("0x2a4")](this,arguments)}))}},{key:_0x4962("0xa0a"),value:function(x){var _=x[_0x4962("0x411")],e=x[_0x4962("0x23b")],t=x.time,i=x[_0x4962("0x2d7")];if(_&&e)if("string"==typeof _&&"number"==typeof e){var a=this,n=this[_0x4962("0x1c6")].controls[_0x4962("0x2c5")],r=this[_0x4962("0x1c6")][_0x4962("0x669")].position,s=this[_0x4962("0x1c6")].camera[_0x4962("0x210")][_0x4962("0x126")](),o=this[_0x4962("0x1c6")].container,c=new(THREE[_0x4962("0x12c")])(0,0,0),l=new(THREE[_0x4962("0x528")]),f=new(THREE[_0x4962("0x568")]);f.x=o[_0x4962("0x548")]/2/window[_0x4962("0x971")]*2-1,f.y=-.5,l.setFromCamera(f,this[_0x4962("0x3ec")]);var d=l[_0x4962("0x536")](this[_0x4962("0x1c6")].scene[_0x4962("0xf3")],!0);d[_0x4962("0x0")]>0&&((c=d[0][_0x4962("0x303")]).y=0);var u=void 0;switch(u=n.clone()[_0x4962("0x52d")](c[_0x4962("0x126")]())[_0x4962("0x30e")](),_){case _0x4962("0x23c"):break;case"backward":u=u.clone()[_0x4962("0xa0c")]();break;case"left":u=new(THREE[_0x4962("0x12c")])(u.z,0,-u.x);break;case"right":u=new(THREE[_0x4962("0x12c")])(-u.z,0,u.x);break;default:return void console[_0x4962("0xe0")]("æ¹åéè¯¯")}var h=n.clone()[_0x4962("0xda")](u[_0x4962("0x126")]()[_0x4962("0x250")](e)),g=new(THREE[_0x4962("0x12c")])(r.x+u.x*e,r.y+u.y*e,r.z+u.z*e);if("2D"===this[_0x4962("0x387")]){var b=this.coordThreeToMap(g);this[_0x4962("0x331")]({x:b.x,y:b.y,time:t||1,callback:i})}else new(esmap.TWEEN[_0x4962("0x1a7")])(a.controls.target).to(h,1e3*(t||1)).easing(esmap.TWEEN[_0x4962("0x1aa")].Quadratic[_0x4962("0x1ac")])[_0x4962("0x1b1")](),new esmap.TWEEN.Tween(a[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")]).to(g,1e3*(t||1)).easing(esmap[_0x4962("0x1a6")].Easing.Quadratic[_0x4962("0x1ac")])[_0x4962("0x173")]((function(){a[_0x4962("0x1c6")].camera[_0x4962("0x210")].copy(s)}))[_0x4962("0x1b0")]((function(){a[_0x4962("0x2d1")](),i&&i()}))[_0x4962("0x1b1")]();this[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x240")](h),this[_0x4962("0x1c6")][_0x4962("0x260")][_0x4962("0x165")](),this[_0x4962("0x1c6")][_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x206")](h)}else console[_0x4962("0xe0")](_0x4962("0xa0b"));else console[_0x4962("0xe0")]("åæ°éè¯¯")}},{key:"setScaleLevelByWidth",value:function(x){if(this[_0x4962("0x1c6")]){var _=this[_0x4962("0x260")][_0x4962("0x9")],e=x/this[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x670")],t=THREE.Math[_0x4962("0x242")](this.mapView[_0x4962("0x669")].fov),i=e/(2*Math[_0x4962("0x671")](t/2));if(_ instanceof THREE[_0x4962("0xa0d")]){var a=this[_0x4962("0xa0e")]();a.radius=i,a.time=0,this.cameraFlyTo(a)}else _ instanceof THREE.OrthographicCamera&&this.controls.updateCameraByDistanceIn2D(i)}}},{key:_0x4962("0xa0f"),value:function(x){if(this.mapView){var _=this[_0x4962("0x260")].object,e=THREE.Math[_0x4962("0x242")](this[_0x4962("0x1c6")].camera[_0x4962("0x66e")]),t=x/(2*Math[_0x4962("0x671")](e/2));if(_ instanceof THREE.PerspectiveCamera){var i=this[_0x4962("0xa0e")]();i[_0x4962("0x69c")]=t,i.time=0,this.cameraFlyTo(i)}else _ instanceof THREE.OrthographicCamera&&this[_0x4962("0x260")].updateCameraByDistanceIn2D(t)}}},{key:_0x4962("0xa10"),value:function(x){for(var _=this[_0x4962("0x139")](x),e=0;e<this[_0x4962("0x687")][_0x4962("0x0")];e++)if(this.buildingList[e].id==x){this.buildingList[_0x4962("0x4")](e,1);break}var t=_[_0x4962("0xa11")];t[_0x4962("0xa12")]={},t[_0x4962("0xa13")]={},t.baseLayers={},t[_0x4962("0xa14")]={},t[_0x4962("0xa15")]=[],t[_0x4962("0xa16")]=[],t[_0x4962("0xa17")]={},t.modelImageGeos={},t[_0x4962("0xa18")]={},t.modelMats={},t[_0x4962("0xa19")]=!1,t[_0x4962("0xa1a")]={},_.modelLoadManager[_0x4962("0x287")]={},_[_0x4962("0x264")][_0x4962("0xa1b")]=[],_[_0x4962("0x264")].toAddQueue=[],_[_0x4962("0x264")].queueRanked=!1,_[_0x4962("0x264")][_0x4962("0x266")]=!1,t.modelManagerStarted=!1,_[_0x4962("0xa1c")]=!1,this[_0x4962("0x194")][_0x4962("0x3fb")][_.id]&&delete this[_0x4962("0x194")][_0x4962("0x3fb")][_.id],this.mapTheme[_0x4962("0xa1d")]={},this[_0x4962("0xa1e")](_.id),_[_0x4962("0xf2")][_0x4962("0x17b")].remove(_[_0x4962("0xf2")]),this[_0x4962("0x34")][_0x4962("0x728")](_[_0x4962("0xf2")])}},{key:_0x4962("0xa1f"),value:function(x){x=String(x),this[_0x4962("0x7f")][_0x4962("0x875")].mapId=x,this[_0x4962("0xa20")]({id:x})}},{key:_0x4962("0xa21"),value:function(){this.tileService[_0x4962("0x29a")](),this[_0x4962("0x7f")].reset(),this[_0x4962("0x9d7")]=!1}},{key:_0x4962("0xa22"),value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,c[_0x4962("0xc")])({color:_0x4962("0xa23"),thickness:5,opacity:1,align:_0x4962("0x35d")},x),this[_0x4962("0x1c6")][_0x4962("0xa24")](x)}},{key:"openMap",value:(V=(0,s.default)(r.default.mark((function x(_){var e,t,i;return r[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return e=_.id,t=new CustomEvent(_0x4962("0xa25"),{detail:{id:e}}),window[_0x4962("0x44")](t),i=this.options,esmap.ESMap[_0x4962("0xa03")]=!0,x[_0x4962("0x285")]=5,x[_0x4962("0x286")]=8,this[_0x4962("0x7f")].cache[_0x4962("0x165")](e);case 8:x[_0x4962("0x286")]=13;break;case 10:x[_0x4962("0x285")]=10,x.t0=x[_0x4962("0x880")](5),k[_0x4962("0x37")][_0x4962("0x1dc")]({msg:""+x.t0[_0x4962("0x18b")](),level:_0x4962("0xe0")});case 13:if(this[_0x4962("0x34")][_0x4962("0xa26")]||(this.mapScene[_0x4962("0xa26")]=!0,this[_0x4962("0x34")][_0x4962("0x39")](),this[_0x4962("0x9d9")][_0x4962("0x20a")]()),x[_0x4962("0x285")]=14,i.mode!==esmap.MapMode.Building){x[_0x4962("0x286")]=20;break}return x[_0x4962("0x286")]=18,this._maploader[_0x4962("0xa27")](e);case 18:x[_0x4962("0x286")]=22;break;case 20:return x[_0x4962("0x286")]=22,this[_0x4962("0x9d9")][_0x4962("0xa28")](e);case 22:x[_0x4962("0x286")]=28;break;case 24:x[_0x4962("0x285")]=24,x.t1=x[_0x4962("0x880")](14),k.MessagePoster[_0x4962("0x1dc")]({msg:""+x.t1[_0x4962("0x18b")](),level:"error"}),console[_0x4962("0xe0")](x.t1);case 28:case"end":return x.stop()}}),x,this,[[5,10],[14,24]])}))),function(x){return V[_0x4962("0x2a4")](this,arguments)})},{key:"initESAudioTool",value:function(){var x=this;return new(o[_0x4962("0xc")])((function(_,e){var t,i;0==x[_0x4962("0x3b")].lang?O[0]?t=O[0]:(i=x.options[_0x4962("0x3a6")]+"/esaudio-1.2.mp3",(t=new w.default({speed:1,version:x.options.audioVersion}))[_0x4962("0x39")](i,(function(){})),O[0]=t):O[x[_0x4962("0x3b")][_0x4962("0x78")]]?t=O[x[_0x4962("0x3b")][_0x4962("0x78")]]:(i=x[_0x4962("0x3b")][_0x4962("0x3a6")]+_0x4962("0xa29")+x[_0x4962("0x3b")].lang+_0x4962("0xa2a"),(t=new(T[_0x4962("0xc")])({speed:1})).init(i,(function(){})),O[x[_0x4962("0x3b")][_0x4962("0x78")]]=t),x[_0x4962("0xa2b")]=t}))[_0x4962("0x880")]((function(x){console[_0x4962("0x293")](esmap[_0x4962("0x289")][_0x4962("0xa2c")])}))}},{key:"setTilesVisible",value:function(x){this[_0x4962("0x13e")][_0x4962("0xa2d")].forEach((function(_){_[_0x4962("0x17c")]=x}))}},{key:_0x4962("0xa05"),value:function(x){var _=this;if(this[_0x4962("0x2b4")][_0x4962("0xa2e")][x.id]){var e=this[_0x4962("0x2b4")][_0x4962("0xa2e")][x.id],t=e[_0x4962("0xf1")],i=t[_0x4962("0xa2f")];if(i)if(6==i.nodeType)if(i[_0x4962("0xf2")])if(i[_0x4962("0xf2")][_0x4962("0xf1")].brothers&&i[_0x4962("0xf2")][_0x4962("0xf1")].brothers[_0x4962("0x0")]>1){var a=this[_0x4962("0x139")](this.id)[_0x4962("0x264")][_0x4962("0xa30")];if(!i.ID){var r=!0,s=!1,o=void 0;try{for(var c,l=(0,n.default)(i[_0x4962("0x480")]);!(r=(c=l[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var f=c[_0x4962("0xe3")];if(f.mapId===target[_0x4962("0x3d")]){i.ID=f.ID;break}}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4962("0x28c")]&&l[_0x4962("0x28c")]()}finally{if(s)throw o}}}i[_0x4962("0xf2")].children[_0x4962("0x20")]((function(x){a[_0x4962("0x468")](x,i.ID,!1)})),i.o3d_[_0x4962("0x166")][_0x4962("0xa31")]||(i[_0x4962("0xf2")].userData[_0x4962("0xa31")]={}),i[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0xa31")][x.id]||(i[_0x4962("0xf2")].userData[_0x4962("0xa31")][x.id]=i.ID)}else x[_0x4962("0xa32")]?(this[_0x4962("0x9cc")]++,esmap.ESMapUtil[_0x4962("0x26d")]({clonemat:!0,target:i[_0x4962("0xf2")],alpha:.1,hideOnComplete:!0,time:1.5}),setTimeout((function(){_[_0x4962("0x9cc")]--}),1600)):i[_0x4962("0xf2")][_0x4962("0x17c")]=!1;else i[_0x4962("0xf2")].visible=!1;else if(5==i.nodeType){for(var d=i[_0x4962("0xf2")].geometry.attributes[_0x4962("0x595")][_0x4962("0x452")],u=i[_0x4962("0x109")][0],h=i[_0x4962("0x109")][1],g=u;g<h;g+=1)d[g]=1;i.o3d_.geometry.attributes[_0x4962("0x595")].needsUpdate=!0}return this[_0x4962("0xa33")]=!1,this[_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0xda")](e),this[_0x4962("0x687")][_0x4962("0x3")](e[_0x4962("0xf1")]),e[_0x4962("0x17c")]=!0,this[_0x4962("0xe5")]("buildingReady",e[_0x4962("0xf1")]),this[_0x4962("0xe5")](_0x4962("0xa35"),e[_0x4962("0xf1")]),this[_0x4962("0xe5")](_0x4962("0xa36"),{bid:t.id}),void t[_0x4962("0x227")]("modelLoadedAll",{bid:t.id})}var b=x.id,v=x.moveTo,p=void 0===v?!!x[_0x4962("0xa32")]:v,m=x.moveComplete,A=(x.x,x.y,x[_0x4962("0xa37")],x[_0x4962("0xa38")],this[_0x4962("0x2b4")][_0x4962("0x68d")][b]),y=this;if(A){var C={x:A.x,y:A.y};p?(y[_0x4962("0x331")](C),setTimeout((function(){y[_0x4962("0x2d1")](),y[_0x4962("0x2b4")][_0x4962("0xa39")](),m&&m()}),300),y[_0x4962("0x2b4")][_0x4962("0xa3a")][_0x4962("0xaf")](b)<0&&y[_0x4962("0x2b4")].toLoadedBuildings[_0x4962("0x3")](b)):(y[_0x4962("0x2b4")][_0x4962("0xa3a")][_0x4962("0xaf")](b)<0&&y[_0x4962("0x2b4")].toLoadedBuildings.push(b),y[_0x4962("0x2d1")](),y[_0x4962("0x2b4")].checkToLoadedBuildings())}else console[_0x4962("0xe0")]("è¯·ä½¿ç¨ESMapåå¸å°å¾ç¼è¾å¨ç»å®è¯¥å®¤åå°å¾!")}},{key:_0x4962("0xa3b"),value:function(x){for(var _=this[_0x4962("0x34")][_0x4962("0xa3c")],e=_[_0x4962("0xf3")],t=0;t<e[_0x4962("0x0")];t++)if(e[t].datas_){var i=e[t].datas_;if(i.ID&&i.ID==x){for(var a=0;a<e[t].children.length;a++){var n=e[t][_0x4962("0xf3")][a],r=this[_0x4962("0x194")][_0x4962("0x3fb")][_0x4962("0xc")][_0x4962("0xaf")](n);n[_0x4962("0x755")]=null,n[_0x4962("0xf5")](),n[_0x4962("0x48")]=null,n=null,r>-1&&this[_0x4962("0x194")][_0x4962("0x3fb")][_0x4962("0xc")].splice(r,1)}return void _.remove(e[t])}}}},{key:_0x4962("0xa3d"),value:function(){for(var x=this[_0x4962("0x34")][_0x4962("0xa3c")],_=x[_0x4962("0xf3")],e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(_[e][_0x4962("0xf1")]&&35==_[e][_0x4962("0xf1")][_0x4962("0x125")]){for(var i=0;i<t[_0x4962("0xf3")][_0x4962("0x0")];i++){var a=t.children[i];t[_0x4962("0x197")](a),i--}x[_0x4962("0x197")](_[e]),e--}}for(var n=this[_0x4962("0x194")][_0x4962("0x3fb")].default,r=0;r<n[_0x4962("0x0")];r++)21==n[r][_0x4962("0x125")]&&(n[_0x4962("0x4")](r,1),r--)}},{key:_0x4962("0x403"),value:function(x,_){var e=!(arguments[_0x4962("0x0")]>2&&void 0!==arguments[2])||arguments[2];function t(_){x[_0x4962("0xf2")][_0x4962("0xda")](_);i[_0x4962("0x139")](_[_0x4962("0x130")]);_[_0x4962("0xf6")].visible=!0,i[_0x4962("0xa3e")](!0),a[_0x4962("0x1f3")]&&!x[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x58f")]&&(x.o3d_[_0x4962("0x166")][_0x4962("0x58f")]=!0,i[_0x4962("0x194")][_0x4962("0x3f0")](_)),null!=a[_0x4962("0x1a4")]&&(_[_0x4962("0x106")].y+=a[_0x4962("0x1a4")]),a[_0x4962("0x2a")]=(0,v[_0x4962("0x14")])(a,"offsetHeight",0),_[_0x4962("0x106")].y+=a[_0x4962("0x2a")],_[_0x4962("0x166")][_0x4962("0xa3f")]=_.position.y}var i=this,a=x[_0x4962("0x25")]||i[_0x4962("0x13e")].navigateStyle_;a[_0x4962("0xa40")]=null==a[_0x4962("0xa40")]||a.smooth,a[_0x4962("0x6aa")]=a[_0x4962("0x6aa")]||null;var n=i[_0x4962("0xa41")](x.points);if(!n){console[_0x4962("0x293")](_0x4962("0xa42")),i[_0x4962("0x34")][_0x4962("0xa3c")][_0x4962("0xda")](x[_0x4962("0xf2")]);var r=void 0;if(a[_0x4962("0xa43")]==_0x4962("0x702"))r=new(m[_0x4962("0xc")])([],a,!1);else{var s=(0,c.default)({doubleSide:!0},a);r=new(esmap[_0x4962("0x64e")])([],s,{},0)}return t(r),void(_&&_(r))}var o,l=n[0],f=l[_0x4962("0x48")]((function(x){return(0,c[_0x4962("0xc")])(new(THREE[_0x4962("0x12c")]),x)})),d=this[_0x4962("0x34")].lineManager;e&&(x[_0x4962("0xf2")].dispatchEvent({type:"onBeforeAdd"}),d[_0x4962("0xda")](x.o3d_));var u=void 0;u=a[_0x4962("0x2")](_0x4962("0xa44"))?a.nobuildCurveZ:a[_0x4962("0xa43")]!=esmap[_0x4962("0x129")][_0x4962("0x12a")],a[_0x4962("0xa40")]||esmap[_0x4962("0x8c")][_0x4962("0x6a8")](l),o=a[_0x4962("0xa40")]?esmap.ESMapSceneUtil[_0x4962("0x6ab")](l,8,a[_0x4962("0xa45")]||.2,u):l;for(var h=[],g=[],b=0;b<o[_0x4962("0x0")]-1;b++){var p=o[b].bid,A=o[b+1][_0x4962("0x130")],y=h[h[_0x4962("0x0")]-1],C=g[g.length-1];if(p==A)C!=p&&(g[_0x4962("0x3")](p),h.push([]),(y=h[h[_0x4962("0x0")]-1])[_0x4962("0x3")](o[b])),y||(h[_0x4962("0x3")]([]),y=h[h.length-1]),y[_0x4962("0x3")](o[b+1]);else{g[_0x4962("0x3")](p+"-&-"+A);var I=o[b].clone();I[_0x4962("0x132")]=o[b][_0x4962("0x132")],I[_0x4962("0x130")]=o[b][_0x4962("0x130")];var E=o[b+1].clone();E[_0x4962("0x132")]=o[b+1][_0x4962("0x132")],E[_0x4962("0x130")]=o[b+1][_0x4962("0x130")],h[_0x4962("0x3")]([I,E])}}for(var w=0;w<g[_0x4962("0x0")];w++){for(var T=h[w],k=[],M=[],S=0;S<T[_0x4962("0x0")]-1;S++){var R=T[S].fnum,L=T[S+1][_0x4962("0x132")],H=k[k[_0x4962("0x0")]-1],D=M[M[_0x4962("0x0")]-1];R==L?(D!=R&&(M[_0x4962("0x3")](R),k[_0x4962("0x3")]([]),(H=k[k[_0x4962("0x0")]-1])[_0x4962("0x3")](T[S])),H||(k[_0x4962("0x3")]([]),H=k[k[_0x4962("0x0")]-1]),H.push(T[S+1])):(M[_0x4962("0x3")](R+_0x4962("0xa46")+L),k.push([T[S],T[S+1]]))}for(var O=-1,P=0;P<M[_0x4962("0x0")];P++){var N=M[P]+"",F=g[w]+"",B="",z=!1;N[_0x4962("0xaf")](_0x4962("0xa46"))>-1&&F[_0x4962("0xaf")](_0x4962("0xa46"))<0?(z=!0,B=_0x4962("0xa47")+N,!0):F[_0x4962("0xaf")](_0x4962("0xa46"))>-1&&(z=!0,B="crossBuilding"+F);var U=k[P];if(U&&0!=U[_0x4962("0x0")]){O+=1;for(var V,j=0,Y=M[P],Z=!1,W=1;W<f.length;W++){var G=f[W-1],X=f[W];if(G[_0x4962("0x130")]==F&&X[_0x4962("0x130")]==F&&G.fnum==Y&&X[_0x4962("0x132")]==Y)j+=(0,v[_0x4962("0xa48")])(G,X),Z||(Z=!0);else if(Z)break}if(a[_0x4962("0xa43")]==_0x4962("0x702"))(V=new(m[_0x4962("0xc")])(U,a,z))[_0x4962("0x329")]=F;else{var Q=(0,c[_0x4962("0xc")])({doubleSide:!0},a);z?(Q[_0x4962("0x314")]=!0,this.options[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&(Q.lineType=esmap[_0x4962("0x129")].DOTTED),V=new(esmap[_0x4962("0x64e")])(U,Q,{},O)):V=new esmap.ESLine(U,Q,{},O),V.bid_=F}var J=F;F[_0x4962("0xaf")](_0x4962("0xa46"))>-1&&(J=F[_0x4962("0x2d")](_0x4962("0xa46"))[0]);var K=i.getBuildingById(J);K&&!K.o3d_[_0x4962("0x17c")]&&(V[_0x4962("0x17c")]=!1),j&&(V[_0x4962("0xa49")]=j),z?V[_0x4962("0x107")]=B:V.name=g[w]+"",t(V),_&&_(V)}}}}},{key:"screenshot",value:function(x){var _=this,e=(0,c[_0x4962("0xc")])({newTab:!1,filename:x.fileName||_0x4962("0xa4a"),download:!0,width:_.mapView.w_,scale:null,height:_[_0x4962("0x1c6")].h_},x),t=[_.mapView.w_,_[_0x4962("0x1c6")].h_];if((null!==e.scale&&(e[_0x4962("0x1ce")]=_[_0x4962("0x1c6")].w_*e.scale,e[_0x4962("0x1a4")]=_[_0x4962("0x1c6")].h_*e[_0x4962("0x1fe")]),e.width>_[_0x4962("0x1c6")].w_||e.height>_[_0x4962("0x1c6")].h_)&&(this[_0x4962("0x7f")][_0x4962("0x80")]("ul")>>1&1||0)<1)return void console.info(esmap[_0x4962("0x289")][_0x4962("0xa4b")]);_[_0x4962("0x1c6")][_0x4962("0xa4c")](e[_0x4962("0x1ce")],e.height),_.compass.updateHUD(e[_0x4962("0x1ce")],e[_0x4962("0x1a4")]),_[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x728")](),"3D"==_.viewMode_?_[_0x4962("0x1c6")].renderer[_0x4962("0x711")](_.mapView[_0x4962("0x2e6")],_[_0x4962("0x1c6")][_0x4962("0x669")]):_[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x711")](_[_0x4962("0x1c6")][_0x4962("0x2e6")],_[_0x4962("0x1c6")].cameraTop),_[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x72f")](),_.mapView[_0x4962("0x364")][_0x4962("0x711")](_[_0x4962("0x1c6")][_0x4962("0x9c2")],_.mapView[_0x4962("0xa4d")]);var i=_.mapView.renderer[_0x4962("0x1c8")][_0x4962("0xa4e")](_0x4962("0xa4f"),.2);if(_[_0x4962("0x1c6")].updateSize(t[0],t[1]),_.compass[_0x4962("0x53f")](t[0],t[1]),e.download){var a=document[_0x4962("0x24")]("a"),n=(0,y[_0x4962("0x1e")])(i);document.createEvent(_0x4962("0x74b"))[_0x4962("0x74c")]("click",!0,!0),a[_0x4962("0xa50")]=e.filename,a[_0x4962("0x116")]=URL.createObjectURL(n),a[_0x4962("0xa51")]()}if(e[_0x4962("0xa52")]){var r=window.open("","");r.document[_0x4962("0xa53")]="Screenshot";var s=new Image;s[_0x4962("0x4ee")]=i,r[_0x4962("0xa54")].body.appendChild(s)}return i}},{key:_0x4962("0xa55"),value:(U=(0,s[_0x4962("0xc")])(r[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,i,n,c,l,f,d,u,h,g,b,v,p,m,A,C,I,E,w,T,k,M,S,R=(e=(0,s[_0x4962("0xc")])(r[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e,t){return r.default[_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:return x[_0x4962("0x286")]=2,E(1e3);case 2:return i.currentCamera[_0x4962("0x106")].x=_,i[_0x4962("0x3ec")][_0x4962("0x106")].z=e,x[_0x4962("0x286")]=6,E(500);case 6:return i.screenshot({fileName:_0x4962("0xa56")+t+".png",download:!0}),x[_0x4962("0x286")]=9,E(500);case 9:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x,_,t){return e.apply(this,arguments)}),L=(t=(0,s[_0x4962("0xc")])(r.default[_0x4962("0x283")]((function x(_,e){var t,a,n,s,o;return r[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:t=1,a=0;case 2:if(!(a<e)){x.next=34;break}n=0;case 4:if(!(n<_)){x[_0x4962("0x286")]=31;break}if(s=A.x-n*u,o=A.z-a*g,!D){x[_0x4962("0x286")]=25;break}return x[_0x4962("0x286")]=10,E(2e3);case 10:return i[_0x4962("0x3ec")][_0x4962("0x106")].x=s,i[_0x4962("0x3ec")][_0x4962("0x106")].z=o,i[_0x4962("0x1c6")].updateSize(p,m),i[_0x4962("0xa57")].updateHUD(p,m),i[_0x4962("0x1c6")][_0x4962("0x364")].clear(),"3D"==i[_0x4962("0x9c4")]?i.mapView[_0x4962("0x364")][_0x4962("0x711")](i[_0x4962("0x1c6")][_0x4962("0x2e6")],i.mapView[_0x4962("0x669")]):i[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x711")](i[_0x4962("0x1c6")][_0x4962("0x2e6")],i.mapView[_0x4962("0xa58")]),i[_0x4962("0x1c6")][_0x4962("0x364")].clearDepth(),i.mapView.renderer[_0x4962("0x711")](i.mapView[_0x4962("0x9c2")],i[_0x4962("0x1c6")][_0x4962("0xa4d")]),I[_0x4962("0x34e")](i[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x1c8")],n*i[_0x4962("0x1c6")][_0x4962("0x547")].clientWidth,a*i.mapView[_0x4962("0x547")][_0x4962("0x503")]),i[_0x4962("0x1c6")].updateSize(p,m),i[_0x4962("0xa57")][_0x4962("0x53f")](p,m),x[_0x4962("0x286")]=23,E(1e3);case 23:x[_0x4962("0x286")]=27;break;case 25:return x[_0x4962("0x286")]=27,R(s,o,t);case 27:t++;case 28:n++,x[_0x4962("0x286")]=4;break;case 31:a++,x.next=2;break;case 34:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,_){return t[_0x4962("0x2a4")](this,arguments)}),H=_.isMerge,D=void 0!==H&&H,O=(_.waitTime,_[_0x4962("0xa59")]),P=_.heightDistance;return r[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return E=function(x){return new(o[_0x4962("0xc")])((function(_){return setTimeout(_,x)}))},n=(i=this).mapView[_0x4962("0x669")][_0x4962("0x210")].clone(),c=i[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")].clone(),i[_0x4962("0xa57")].visible=!1,this[_0x4962("0x230")]=0,esmap[_0x4962("0x6b0")]&&esmap[_0x4962("0x6b0")][_0x4962("0xa26")]?esmap[_0x4962("0x6b0")][_0x4962("0x9c4")]="2D":this[_0x4962("0x387")]="2D",x.next=9,E(2e3);case 9:return l=this[_0x4962("0xa5a")](0,0),f=this.coordScreenToScene(0,0),d=this[_0x4962("0xa5b")](this[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x548")],0),u=Math.floor(1e6*(f.x-d.x))/1e6,h=this[_0x4962("0xa5b")](this.mapView.container.clientWidth,this[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x503")]),g=Math[_0x4962("0x31")](1e6*(d.z-h.z))/1e6,b=Math[_0x4962("0xff")](O/u),v=Math[_0x4962("0xff")](P/u),console[_0x4962("0x223")]("ð ~ screenDis:",u,g),_0x4962("0xa5c"),p=i.mapView.w_,m=i[_0x4962("0x1c6")].h_,A={x:i[_0x4962("0x260")][_0x4962("0x2c5")].x,z:i[_0x4962("0x260")][_0x4962("0x2c5")].z},C=null,I=null,D&&(C=document[_0x4962("0x24")](_0x4962("0x336")),I=C[_0x4962("0x337")]("2d"),C[_0x4962("0x1ce")]=this[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x548")]*b,C.height=this[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x503")]*v,console[_0x4962("0x293")](_0x4962("0xa5d")+C.width+" "+C[_0x4962("0x1a4")],_0x4962("0xa5e"))),this.controls[_0x4962("0x710")]=!1,x.next=28,E(2e3);case 28:return x[_0x4962("0x286")]=30,E(2e3);case 30:return x[_0x4962("0x286")]=32,L(b,v);case 32:return D&&(w=C[_0x4962("0xa4e")](_0x4962("0xa4f"),1),T=document[_0x4962("0x24")]("a"),k=(0,y[_0x4962("0x1e")])(w),document.createEvent("HTMLEvents")[_0x4962("0x74c")](_0x4962("0xa51"),!0,!0),T.download="screenshot.png",T.href=URL[_0x4962("0x89d")](k),T[_0x4962("0xa51")]()),M=this[_0x4962("0xa5b")](this[_0x4962("0x1c6")].w_,this[_0x4962("0x1c6")].h_),S=this[_0x4962("0x208")](M),x.next=37,E(2e3);case 37:console[_0x4962("0x293")](_0x4962("0xa5f"),"color: #00ff00"),console[_0x4962("0x293")](_0x4962("0xa60"),(0,a[_0x4962("0xc")])({x:l.x[_0x4962("0x65f")](5),y:l.y[_0x4962("0x65f")](5)})),console[_0x4962("0x293")](_0x4962("0xa61"),(0,a[_0x4962("0xc")])(esmap.ESMapUtil[_0x4962("0x6ba")]({x:l.x,y:l.y}))),console[_0x4962("0x293")]("å³ä¸è§åæ ä¸ºï¼",(0,a.default)({x:S.x[_0x4962("0x65f")](5),y:S.y[_0x4962("0x65f")](5)})),console[_0x4962("0x293")](_0x4962("0xa62"),(0,a[_0x4962("0xc")])(esmap[_0x4962("0x8c")][_0x4962("0x6ba")]({x:S.x,y:S.y}))),console.info(_0x4962("0xa63"),this[_0x4962("0x1c6")].w_*b/(this[_0x4962("0x1c6")].w_*v)),console[_0x4962("0x293")](_0x4962("0xa64"),(S.x-l.x)/(l.y-S.y)),this.controls[_0x4962("0x710")]=!0,this[_0x4962("0x3ec")][_0x4962("0x210")][_0x4962("0x206")](n),this[_0x4962("0x3ec")].position[_0x4962("0x206")](c),i.compass[_0x4962("0x17c")]=!0;case 48:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x){return U[_0x4962("0x2a4")](this,arguments)})},{key:"change3dColor",value:function(x){var _,e=null==x[_0x4962("0x43a")]?.3:x[_0x4962("0x43a")],t=_0x4962("0x107"),i=this,a=[][_0x4962("0x12")](x[_0x4962("0x107")]);x[_0x4962("0x107")]||(a=[][_0x4962("0x12")](x.id),t="ID");var n=[];x[_0x4962("0x130")]?[][_0x4962("0x12")](x[_0x4962("0x130")])[_0x4962("0x20")]((function(x){var _=i[_0x4962("0x139")](x);_||(_=i[_0x4962("0x310")](x)),_&&n[_0x4962("0x3")](_)})):n=i.buildingList[_0x4962("0x12")](i[_0x4962("0x67e")]);this[_0x4962("0xa65")]();var r=x.color;i=this;_=x[_0x4962("0x132")]?[][_0x4962("0x12")](x.fnum):null,n.forEach((function(i){if(1==i.buildingType){var n=i.layerManager[_0x4962("0x409")](_0x4962("0xa66"));if(n[0])n[0][_0x4962("0x104")]((function(_){if(_[_0x4962("0x125")]==esmap[_0x4962("0x134")].MODEL3D)if(_[_0x4962("0x480")])for(var n in _[_0x4962("0x480")]){var s=_[_0x4962("0x480")][n];a[_0x4962("0xaf")](s[t])>-1&&(1==_[_0x4962("0x480")][_0x4962("0x0")]?(esmap[_0x4962("0x27c")][_0x4962("0x2aa")](_[_0x4962("0xf2")],r),modelLoadManager[_0x4962("0xa30")][_0x4962("0x41f")]=!!r):(i[_0x4962("0x264")].GLTFMergeTool.changeModelColorById(s.ID,_[_0x4962("0xf2")],r,e,x[_0x4962("0xa67")]),i[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x41f")]=!!r))}else a[_0x4962("0xaf")](_[t])>-1&&(_[_0x4962("0x2aa")](r),i[_0x4962("0x264")].GLTFMergeTool[_0x4962("0x41f")]=!!r)}))}else{var s=_||i[_0x4962("0x699")],o=function(_){var n=i[_0x4962("0x673")](s[_]),o=i[_0x4962("0x264")];if(!n)return"continue";n[_0x4962("0xa68")][_0x4962("0x20")]((function(_){_[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0x1e3")]&&_[_0x4962("0xf2")].children.forEach((function(_){_[_0x4962("0xf1")]&&(_.datas_[_0x4962("0x480")]?_[_0x4962("0xf1")][_0x4962("0x480")][_0x4962("0x20")]((function(i){a.indexOf(i[t])>-1&&(o[_0x4962("0xa30")].changeModelColorById(i.id,_,r,e,x.flashTime),o[_0x4962("0xa30")][_0x4962("0x41f")]=!!r)})):a[_0x4962("0xaf")](_[_0x4962("0xf1")][t])>-1&&(_[_0x4962("0xf1")][_0x4962("0x2aa")](r),o[_0x4962("0xa30")].isClickSelected=!!r))}))}))};for(var c in s)o(c)}}))}},{key:"change3dVisible",value:function(x){function _(x){var _=[];this[_0x4962("0xa68")][_0x4962("0x20")]((function(x){x[_0x4962("0xa69")]!=esmap[_0x4962("0x3d6")][_0x4962("0x678")]&&x[_0x4962("0xa69")]!=esmap[_0x4962("0x3d6")][_0x4962("0xa6a")]&&x[_0x4962("0xa69")]!=esmap.ESLayerType[_0x4962("0x1e3")]&&x._type_!=esmap[_0x4962("0x3d6")][_0x4962("0x3da")]&&x[_0x4962("0xa69")]!=esmap.ESLayerType[_0x4962("0x3d7")]&&x[_0x4962("0xa69")]!=esmap.ESLayerType[_0x4962("0x597")]||(_=_[_0x4962("0x12")](x.o3d_[_0x4962("0xf3")]))}));for(var e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(t[_0x4962("0xf1")][_0x4962("0x480")]){for(var i=t.datas_.brothers,a=0;a<i[_0x4962("0x0")];a++){if(x(i[a],_[e].datas_[_0x4962("0xf2")]))return}if(t.userData[_0x4962("0x443")])t[_0x4962("0xf3")][_0x4962("0x20")]((function(_){if(_[_0x4962("0xf1")]&&x(_[_0x4962("0xf1")],_))return}))}else{if(t[_0x4962("0xf1")][_0x4962("0x443")])t[_0x4962("0x104")]((function(_){if(_[_0x4962("0xf1")]&&x(_[_0x4962("0xf1")],_))return}));else if(x(t[_0x4962("0xf1")],t))return}}}var e=this,t=_0x4962("0x107"),i=[][_0x4962("0x12")](x[_0x4962("0x107")]),a=this[_0x4962("0x139")](this.id),n=[a];x.bid?[][_0x4962("0x12")](x[_0x4962("0x130")])[_0x4962("0x20")]((function(x){var _=e[_0x4962("0x139")](x);_&&(n=[_])})):n=this.mode==esmap[_0x4962("0x40")].Building?[a]:e[_0x4962("0x67e")];x[_0x4962("0x107")]||(i=[][_0x4962("0x12")](x.id),t="ID");var r=x[_0x4962("0xe3")],s=0,o=a[_0x4962("0x264")].GLTFMergeTool;n[_0x4962("0x20")]((function(x){var e=[];if(1==x[_0x4962("0x213")]){e=[x.layerManager];var n=a[_0x4962("0x673")](1);e[_0x4962("0x3")](n[_0x4962("0x3c3")])}else{x[_0x4962("0x699")][_0x4962("0x20")]((function(_){e[_0x4962("0x3")](x[_0x4962("0x673")](_))}))}var c=function(x){var a=e[x];_.call(a,(function(x,_){if(!_)return!1;if(x[t]&&i[_0x4962("0xaf")](x[t])>-1)if(s++,r)if(5==x.nodeType){p=x.faceRange[0],m=x[_0x4962("0x109")][1];for(var e=_[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],n=p;n<m;n++)e[n]=0;if(_[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0,x[_0x4962("0x3fe")]){var c=a.getLayersByTypes(esmap[_0x4962("0x3d6")][_0x4962("0x597")]);if(c[0]&&c[0][_0x4962("0xf2")]&&c[0][_0x4962("0xf2")].children[0])for(var l=c[0][_0x4962("0xf2")].children[0],f=l.geometry[_0x4962("0x2cd")][_0x4962("0x452")],d=l[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x596")],u=l.geometry[_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],h=0;h<d[_0x4962("0x0")];h++)if(d[h].id==x[t]){for(var g=d[h].start,b=d[h][_0x4962("0x1b1")]+d[h][_0x4962("0x182")],v=g;v<b;v++){u[f[v]]=0}l[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0}}}else if(6==x[_0x4962("0x125")]){_[_0x4962("0x166")][_0x4962("0xa6b")]?1==_.datas_.brothers[_0x4962("0x0")]?_[_0x4962("0x17c")]=!0:_[_0x4962("0xf3")][_0x4962("0x20")]((function(_){o[_0x4962("0x468")](_,x.ID||x.id,!0)})):(x.alias&&(x[_0x4962("0xa6c")],_0x4962("0xa6d")),x[_0x4962("0x17c")]=!0)}else x[_0x4962("0x17c")]=!0;else if(5==x[_0x4962("0x125")]){for(var p=x[_0x4962("0x109")][0],m=x.faceRange[1],A=_[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],y=p;y<m;y++)A[y]=1;if(_[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0,x.RoomLogo){var C=a[_0x4962("0x408")](esmap[_0x4962("0x3d6")][_0x4962("0x597")]);if(C[0]&&C[0].o3d_&&C[0][_0x4962("0xf2")][_0x4962("0xf3")][0])for(var I=C[0][_0x4962("0xf2")].children[0],E=I[_0x4962("0xf4")][_0x4962("0x2cd")][_0x4962("0x452")],w=I[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x596")],T=I[_0x4962("0xf4")][_0x4962("0x105")].isHideFlags[_0x4962("0x452")],k=0;k<w[_0x4962("0x0")];k++)if(w[k].id==x[t]){for(var M=w[k][_0x4962("0x1b1")],S=w[k][_0x4962("0x1b1")]+w[k][_0x4962("0x182")],R=M;R<S;R++){T[E[R]]=1}I.geometry[_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0}}}else if(6==x[_0x4962("0x125")]){_[_0x4962("0x166")][_0x4962("0xa6b")]?1==_[_0x4962("0xf1")].brothers[_0x4962("0x0")]?_[_0x4962("0x17c")]=!1:_[_0x4962("0xf3")][_0x4962("0x20")]((function(_){o[_0x4962("0x468")](_,x.ID||x.id,!1)})):x[_0x4962("0xa6c")]&&x[_0x4962("0xa6c")]===_0x4962("0xa6d")?x[_0x4962("0x17c")]=!1:x.visible=!1}else x[_0x4962("0x125")]==esmap[_0x4962("0x134")][_0x4962("0x597")]||(x[_0x4962("0x17c")]=!1);return s==i[_0x4962("0x0")]&&"ID"==t}))};for(var l in e)c(l)}))}},{key:_0x4962("0xa6e"),value:function(x){var _=this[_0x4962("0x13e")][_0x4962("0xa6f")][x.styleIndex];if(_){var e=this,t=e[_0x4962("0x67e")],i=_0x4962("0x107"),a=[][_0x4962("0x12")](x[_0x4962("0x107")]);x[_0x4962("0x107")]||(a=[][_0x4962("0x12")](x.id),i="ID");var n=new(THREE[_0x4962("0x188")]),r=0,s={Color:1,Texture:2};t[_0x4962("0x20")]((function(t){var c=t[_0x4962("0x3c3")];o[_0x4962("0xf")](c,(function(t,o){if(!o)return!1;if(t[i]&&a[_0x4962("0xaf")](t[i])>-1&&(r++,5==t.nodeType)){var c=null,l=t[_0x4962("0x109")][0],f=t.faceRange[1],d=1*_[_0x4962("0xa70")],u=o[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0xa71")][_0x4962("0x452")];d===s[_0x4962("0x188")]&&n[_0x4962("0x277")](esmap[_0x4962("0x8c")].colorRGB2Hex(_[_0x4962("0x147")])),d===s[_0x4962("0x368")]&&n[_0x4962("0x277")](_0x4962("0x128"));var h=1;_[_0x4962("0x145")]&&(h=1*_[_0x4962("0x145")]);for(var g=4*l;g<4*f;g+=4)u[g]=n.r,u[g+1]=n.g,u[g+2]=n.b,u[g+3]=h;for(var b=o.geometry[_0x4962("0x105")][_0x4962("0xa72")][_0x4962("0x452")],v=o[_0x4962("0xf4")][_0x4962("0x105")].sideTexIndex.array,p=l;p<f;p++)b[p]=d===s[_0x4962("0x368")]?1:0,v[p]=d===s[_0x4962("0x368")]?1:0;if(o[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0xa71")][_0x4962("0x187")]=!0,o[_0x4962("0xf4")][_0x4962("0x105")].topTexIndex.needsUpdate=!0,o[_0x4962("0xf4")][_0x4962("0x105")].sideTexIndex[_0x4962("0x187")]=!0,d===s[_0x4962("0x188")])c=esmap[_0x4962("0xa73")][_0x4962("0xa74")][_0x4962("0xa75")]();else c=esmap.ESEffectTool[_0x4962("0xa74")][_0x4962("0xa76")]()[x[_0x4962("0xa77")]];var m=0;if(Array[_0x4962("0x123")](o.material)){var A=o[_0x4962("0xf6")].indexOf(c.material);-1!==A?m=A:(o[_0x4962("0xf6")][_0x4962("0x3")](c[_0x4962("0xf6")]),m=o[_0x4962("0xf6")].length-1)}else{var y=o[_0x4962("0xf6")],C=c[_0x4962("0xf6")];o[_0x4962("0xf6")]=[y,C],m=1}d===s[_0x4962("0x368")]&&c[_0x4962("0xa78")](o,x[_0x4962("0xa77")]);var I=o[_0x4962("0xf4")][_0x4962("0x45d")];o[_0x4962("0xf4")][_0x4962("0x45e")]();l=t[_0x4962("0x109")][0],f=t[_0x4962("0x109")][1];e[_0x4962("0x469")](l,f,m,I,!1).forEach((function(x){o[_0x4962("0xf4")][_0x4962("0x181")](x[_0x4962("0x1b1")],x[_0x4962("0x182")],x[_0x4962("0x45f")])}))}return r==a[_0x4962("0x0")]&&"ID"==i}))}))}function o(x){var _=[];this[_0x4962("0xa68")][_0x4962("0x20")]((function(x){x[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")].MODEL&&(_=_[_0x4962("0x12")](x[_0x4962("0xf2")][_0x4962("0xf3")]))}));for(var e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(t.datas_[_0x4962("0x480")])for(var i=t.datas_[_0x4962("0x480")],a=0;a<i[_0x4962("0x0")];a++){if(x(i[a],_[e][_0x4962("0xf1")].o3d_))return}else if(x(t.datas_,t[_0x4962("0xf2")]))return}}}},{key:_0x4962("0xa79"),value:function(x){function _(x){var _=[];this.layers[_0x4962("0x20")]((function(x){x[_0x4962("0xa69")]!=esmap[_0x4962("0x3d6")][_0x4962("0x678")]&&x[_0x4962("0xa69")]!=esmap[_0x4962("0x3d6")][_0x4962("0xa6a")]&&x._type_!=esmap[_0x4962("0x3d6")][_0x4962("0x1e3")]||(_=_[_0x4962("0x12")](x[_0x4962("0xf2")][_0x4962("0xf3")]))}));for(var e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(t[_0x4962("0xf1")][_0x4962("0x480")])for(var i=t[_0x4962("0xf1")][_0x4962("0x480")],a=0;a<i[_0x4962("0x0")];a++){if(x(i[a],_[e].datas_.o3d_))return}else if(x(t[_0x4962("0xf1")],t[_0x4962("0xf2")]))return}}var e=this,t=_0x4962("0x107"),i=[][_0x4962("0x12")](x[_0x4962("0x107")]),a=[];x[_0x4962("0x130")]?[].concat(x[_0x4962("0x130")])[_0x4962("0x20")]((function(x){var _=e[_0x4962("0x310")](x);_&&a[_0x4962("0x3")](_)})):a=e[_0x4962("0x67e")];x[_0x4962("0x107")]||(i=[][_0x4962("0x12")](x.id),t="ID");var n=x[_0x4962("0x147")],r=n[_0x4962("0x0")],s=x.hasOwnProperty(_0x4962("0x145"))?x[_0x4962("0x145")]:1,o=0,c=!1;if(n){var l=(c=esmap[_0x4962("0x8c")].hexToRgb(n)).split(","),f=[1*l[0]/255,1*l[1]/255,1*l[2]/255,s];c=f}if(!r)for(;this[_0x4962("0x2b4")][_0x4962("0xa7a")][_0x4962("0x0")]>0;){var d=this[_0x4962("0x2b4")][_0x4962("0xa7a")].shift();i[_0x4962("0x3")](d[_0x4962("0xe3")])}var u=i[_0x4962("0x48")]((function(x){return{key:t,value:x,data:c}}));if(a[_0x4962("0x20")]((function(x){var a=x[_0x4962("0x3c3")];_.call(a,(function(_,a){if(!a)return!1;if(_[t]&&i[_0x4962("0xaf")](_[t])>-1){if(o++,r)if(5==_.nodeType){for(var s=_[_0x4962("0x109")][0],l=_.faceRange[1],f=a.geometry.attributes.highLightFlags[_0x4962("0x452")],d=a[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0xa7b")][_0x4962("0x452")],h=s;h<l;h++)f[h]=1;for(var g=4*s;g<4*l;g+=4)d[g]=c[0],d[g+1]=c[1],d[g+2]=c[2],d[g+3]=c[3];a[_0x4962("0xf4")][_0x4962("0x105")].highLightFlags[_0x4962("0x187")]=!0,a[_0x4962("0xf4")].attributes[_0x4962("0xa7b")].needsUpdate=!0,e[_0x4962("0xe5")](_0x4962("0xa79"),{color:n,value:1,startIndex:s,endIndex:l})}else 6==_.nodeType&&(a.userData[_0x4962("0x458")]=!0,_[_0x4962("0x2aa")]?_[_0x4962("0x2aa")](n):x.modelLoadManager[_0x4962("0xa30")][_0x4962("0xa7c")](_.ID,a,n,.3));else if(5==_[_0x4962("0x125")]){s=_[_0x4962("0x109")][0],l=_.faceRange[1],f=a[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0xa7d")][_0x4962("0x452")];for(var b=a.geometry.attributes.highLightColor[_0x4962("0x452")],v=s;v<l;v++)f[v]=0;for(var p=4*s;p<4*l;p+=4)b[p]=1,b[p+1]=1,b[p+2]=1,b[p+3]=1;a[_0x4962("0xf4")][_0x4962("0x105")].highLightFlags[_0x4962("0x187")]=!0,a[_0x4962("0xf4")].attributes.highLightColor.needsUpdate=!0,e[_0x4962("0xe5")](_0x4962("0xa79"),{color:n,value:0,startIndex:s,endIndex:l})}else 6==_[_0x4962("0x125")]&&(a[_0x4962("0x166")][_0x4962("0x458")]=!1,_.changeColor?_.restoreColor():x[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0xa7c")](_.ID,a,n,.3));for(var m=0;m<u[_0x4962("0x0")];m++)if(u[m][_0x4962("0xe3")]==_[t]){u[_0x4962("0x4")](m,1);break}}return o==i[_0x4962("0x0")]&&"ID"==t}))})),r)for(var h=0;h<u[_0x4962("0x0")];h++)this.mapService[_0x4962("0xa7e")](u[h])}},{key:_0x4962("0xa7f"),value:function(x){function _(x){var _=[];this[_0x4962("0xa68")][_0x4962("0x20")]((function(x){x._type_!=esmap[_0x4962("0x3d6")][_0x4962("0x678")]&&x._type_!=esmap[_0x4962("0x3d6")][_0x4962("0xa6a")]||(_=_.concat(x[_0x4962("0xf2")][_0x4962("0xf3")]))}));for(var e=0;e<_[_0x4962("0x0")];e++){var t=_[e][_0x4962("0xf1")].brothers;if(t)for(var i=0;i<t[_0x4962("0x0")];i++){if(x(t[i],_[e][_0x4962("0xf1")].o3d_))return}}}var e,t=this,i=(esmap.ESMapUtil.colorRGB2Hex,x[_0x4962("0x147")]),a=!!i,n=!!x[_0x4962("0xa80")],r=!!x[_0x4962("0x2")](_0x4962("0x145"))&&x[_0x4962("0x145")],s=0!=r,o=_0x4962("0x107"),c=[][_0x4962("0x12")](x[_0x4962("0x107")]),l=[];x.bid?[][_0x4962("0x12")](x[_0x4962("0x130")])[_0x4962("0x20")]((function(x){var _=t[_0x4962("0x139")](x);_&&l[_0x4962("0x3")](_)})):l=t[_0x4962("0x687")];x[_0x4962("0x107")]||(c=[][_0x4962("0x12")](x.id),o="ID");i[_0x4962("0x0")];var f=0;e=x[_0x4962("0x132")]?[][_0x4962("0x12")](x[_0x4962("0x132")]):null,l[_0x4962("0x20")]((function(l){var d=e||l[_0x4962("0x699")];for(var u in d){var h=l[_0x4962("0x673")](d[u]);h&&_[_0x4962("0xf")](h,(function(_,e){var l;if(_[o]&&c.indexOf(_[o])>-1)if(f++,a||s){if(e.userData[_0x4962("0xa81")]||(e[_0x4962("0x166")].colorMap={}),!e[_0x4962("0x166")][_0x4962("0xa81")][i]){var d=e[_0x4962("0xf6")][0].clone();d[_0x4962("0x107")]="changeColor",a&&(t[_0x4962("0x9bb")][_0x4962("0x0")]>0&&t[_0x4962("0x9bb")][0].ID===x.id&&t.selectNull(),void 0!==x[_0x4962("0xa80")]?(t[_0x4962("0x13e")][_0x4962("0xa82")](d,i,n,x[_0x4962("0xa83")]),!1===n&&d[_0x4962("0x147")].setStyle(i)):d[_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(i),h.o3d_[_0x4962("0x67d")]||(h[_0x4962("0xf2")][_0x4962("0x67d")]={}),h[_0x4962("0xf2")].lastAlpha[d.uuid]=h[_0x4962("0xf2")][_0x4962("0x67d")][e[_0x4962("0xf6")][0][_0x4962("0x195")]]),r&&(d[_0x4962("0x145")]=r,d.transparent=1!=r),e[_0x4962("0xf6")][_0x4962("0x3")](d),e[_0x4962("0x166")][_0x4962("0xa81")][i]=e[_0x4962("0xf6")][_0x4962("0x0")]-1}var u=e[_0x4962("0xf4")][_0x4962("0x45d")];e[_0x4962("0xf4")][_0x4962("0x45e")]();var g=_[_0x4962("0x109")][0],b=_[_0x4962("0x109")][1],v=e[_0x4962("0x166")][_0x4962("0xa81")][i];e[_0x4962("0xf6")][v][_0x4962("0xa84")]&&(e[_0x4962("0xf6")][v].flashShader_[_0x4962("0x149")][_0x4962("0xa80")][_0x4962("0xe3")]=n,n?e.material[v].color[_0x4962("0x206")](e.material[0].color):e.material[v][_0x4962("0x147")][_0x4962("0x277")](i)),t[_0x4962("0x469")](g,b,v,u,!1)[_0x4962("0x20")]((function(x){e[_0x4962("0xf4")][_0x4962("0x181")](x[_0x4962("0x1b1")],x[_0x4962("0x182")],x.materialIndex)}))}else{u=e[_0x4962("0xf4")][_0x4962("0x45d")];e[_0x4962("0xf4")][_0x4962("0x45e")]();g=_[_0x4962("0x109")][0],b=_.faceRange[1];for(var p=null,m=0;m<u[_0x4962("0x0")];m++)if(g>=u[m][_0x4962("0x1b1")]&&g<u[m][_0x4962("0x1b1")]+u[m][_0x4962("0x182")]){l=u[m][_0x4962("0x45f")],p=m;break}null!=p&&0!=l&&(u=t[_0x4962("0x469")](g,b,0,u,!1));for(m=0;m<u[_0x4962("0x0")];m++)e[_0x4962("0xf4")][_0x4962("0x181")](u[m][_0x4962("0x1b1")],u[m][_0x4962("0x182")],u[m][_0x4962("0x45f")])}return f==c[_0x4962("0x0")]&&("ID"==o||o==_0x4962("0x107"))}))}d=null}))}},{key:_0x4962("0xa85"),value:function(x){var _=x[_0x4962("0x130")],e=x[_0x4962("0x132")],t=x[_0x4962("0x303")],i=this[_0x4962("0x139")](_);if(i){for(var a=i[_0x4962("0xa86")](e),n=!1,r=0;r<a[_0x4962("0x0")];r++){if(esmap[_0x4962("0x8c")][_0x4962("0x3dc")](t,a[r].points)){n=!0;break}}return n}console[_0x4962("0x44a")](_+" building is not found")}},{key:_0x4962("0xa87"),value:function(x){var _=x[_0x4962("0x130")],e=x.id,t=x.point;function i(x){var _=[];this[_0x4962("0xa68")][_0x4962("0x20")]((function(x){x._type_==esmap[_0x4962("0x3d6")][_0x4962("0x678")]&&(_=_[_0x4962("0x12")](x[_0x4962("0xf2")].children))}));for(var e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(t[_0x4962("0xf1")].brothers){for(var i=t.datas_.brothers,a=0;a<i[_0x4962("0x0")];a++){if(x(i[a],_[e][_0x4962("0xf1")][_0x4962("0xf2")]))return}if(t[_0x4962("0x166")][_0x4962("0x443")])t[_0x4962("0xf3")][_0x4962("0x20")]((function(_){if(_[_0x4962("0xf1")]&&x(_.datas_,_))return}))}else{if(t[_0x4962("0xf1")][_0x4962("0x443")])t[_0x4962("0x104")]((function(_){if(_[_0x4962("0xf1")]&&x(_[_0x4962("0xf1")],_))return}));else if(x(t[_0x4962("0xf1")],t))return}}}var a=this[_0x4962("0x139")](_);if(a){var n=[][_0x4962("0x12")](e),r="ID",s=[];if(1==a[_0x4962("0x213")])s=[a[_0x4962("0x3c3")]];else a[_0x4962("0x699")][_0x4962("0x20")]((function(x){s[_0x4962("0x3")](a[_0x4962("0x673")](x))}));var o=0,c=!1;for(var l in s){var f=s[l];i[_0x4962("0xf")](f,(function(x,_){if(!_)return!1;if(x[r]&&n[_0x4962("0xaf")](x[r])>-1&&(o++,x.nodeType==esmap.ESNodeType[_0x4962("0x678")])){for(var e=[],i=0;i<x[_0x4962("0x138")][_0x4962("0x0")];i++)e.push({x:-x.points[i].x+a[_0x4962("0xa88")].x,y:x[_0x4962("0x138")][i].y+a[_0x4962("0xa88")].y});c=esmap[_0x4962("0x8c")][_0x4962("0x3dc")](t,e)}return o==n[_0x4962("0x0")]}))}return c}}},{key:_0x4962("0xa89"),value:function(x){var _=this[_0x4962("0x578")]()[_0x4962("0x673")](x[_0x4962("0x132")]);if(_)for(var e=_[_0x4962("0x408")](esmap[_0x4962("0x3d6")][_0x4962("0x597")]),t=0;t<e[_0x4962("0x0")];t++){var i=e[t][_0x4962("0xf2")].children[0];if(i)for(var a=i.material,n=0;n<a[_0x4962("0x0")];n++)if(a[n]&&x.id===a[n].userData[_0x4962("0x587")].id)return{id:x.id,imgName:a[n][_0x4962("0x166")].imgdata.RoomLogo,imgWidth:a[n][_0x4962("0x166")][_0x4962("0x587")][_0x4962("0x586")][_0x4962("0x1ce")],imgHeight:a[n].userData[_0x4962("0x587")][_0x4962("0x586")].height}}}},{key:"updateRoomLogos",value:function(x){var _=!1;if(this[_0x4962("0x7f")][_0x4962("0x80")]("sk")||this.options[_0x4962("0x1f5")]||(this[_0x4962("0x7f")][_0x4962("0x80")]("ul")>>1&1||0)<1&&(console.info(esmap[_0x4962("0x289")][_0x4962("0xa8a")]),_=!0),!_){for(var e=this[_0x4962("0x578")](),t={},i={},a={},n={},r={},s=0;s<e[_0x4962("0x699")].length;s++){var o=e.floorNums[s],c=e[_0x4962("0x673")](o);r[o]=c[_0x4962("0xa8b")]}try{for(var l=0;l<x[_0x4962("0x0")];l++){var f=x[l],d=f.id,u=f[_0x4962("0x132")];if(d){if(!u){var h=e[_0x4962("0xa8d")](d);if(!h){_0x4962("0xa8e"),_0x4962("0xa8f");continue}u=h[_0x4962("0x2d9")],n[d]=h}t[d]=l,i[u]||(i[u]=[]),i[u][_0x4962("0x3")](d)}else console[_0x4962("0xe0")](_0x4962("0xa8c")+l)}for(var u in i)for(var g=i[u],b=e[_0x4962("0x673")](u)[_0x4962("0x408")](esmap[_0x4962("0x3d6")][_0x4962("0x597")]),v=0;v<b[_0x4962("0x0")];v++){var p=b[v][_0x4962("0xf2")][_0x4962("0xf3")][0];if(p)for(var m=p.material,A=0;A<m[_0x4962("0x0")];A++){var y=m[A];if(y){var C=y.userData[_0x4962("0x587")];if(g[_0x4962("0xaf")](C.id)>-1){a[t[C.id]]=!0;var I=x[t[C.id]][_0x4962("0x702")];if(I)y.userData[_0x4962("0xa90")]||(y.userData.originalTexture=y.map[_0x4962("0x126")]()),y[_0x4962("0x48")]=I,y[_0x4962("0x48")].anisotropy=map[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x369")][_0x4962("0x36a")](),y[_0x4962("0x48")][_0x4962("0x8a2")]=1006,y[_0x4962("0x48")][_0x4962("0x18e")]=1008;else{if(!y[_0x4962("0x166")][_0x4962("0xa90")]){console[_0x4962("0xe0")]("è´´å¾ä¸è½ä¸ºç©º! ID:"+C.id);continue}y[_0x4962("0x48")]=y[_0x4962("0x166")][_0x4962("0xa90")]}y.map[_0x4962("0x187")]=!0}}}}}catch(x){console[_0x4962("0xe0")](x[_0x4962("0x18b")]())}}}},{key:_0x4962("0xa41"),value:function(x){function _(x,_){var e,t=0,i=x[_0x4962("0x130")];(i||(i=s),x[_0x4962("0x132")]&&i)?t+=(e=r[_0x4962("0x139")](i))?e.getFloorHeight(x[_0x4962("0x132")]):0:t+=(e=r[_0x4962("0x139")](i))[_0x4962("0x2da")](1);var a=r[_0x4962("0x237")]({x:x.x,y:x.y});return a.y=t+Number(x[_0x4962("0x15c")]||x.z||0),a}if(!(x.length<1)){var e,t=[],i=[],a=null,n=null,r=this,s=this.id;return function(x){for(var e=0;e<x[_0x4962("0x0")];e++)a=x[e],(n=_(a)).fnum=a.fnum||1,n[_0x4962("0x130")]=a[_0x4962("0x130")]||s,i[_0x4962("0x3")](n)}(x),(e=i)[_0x4962("0x0")]>1&&t[_0x4962("0x3")](e),t}}},{key:_0x4962("0xa91"),value:function(x,_){var e=null;null==_&&this[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&(_=this.id);var t=this.getBuildingById(_);return x[_0x4962("0x132")]&&(e=t[_0x4962("0x2da")](x[_0x4962("0x132")])),new THREE.Vector3(-this.mapScene[_0x4962("0x2e7")]-x.x,x.z||e||0,x.y-this.mapScene[_0x4962("0x2e8")])}},{key:"getTileBuildingByMapId",value:function(x){return this.tileService[_0x4962("0xa92")][x]||null}},{key:"clearRaycastCache",value:function(){this[_0x4962("0x305")]&&(this.rayPointer[_0x4962("0x3fb")]=null)}},{key:_0x4962("0xa93"),value:function(x){var _=this;x=(0,c[_0x4962("0xc")])({coord:null,mode:_0x4962("0x1a4"),inverse:!1,startCoord:null,depth:100,endCoord:null,typeID:null,dataID:null,excludeNodeTypes:[],targetName:null},x),this[_0x4962("0x305")]||(this[_0x4962("0x305")]=new(C[_0x4962("0xc")])(x)),x[_0x4962("0xa94")]||this.on("modelLoadedAll",(function(){_[_0x4962("0x305")][_0x4962("0x52b")]()})),this.rayPointer[_0x4962("0x530")][_0x4962("0x2fc")]=x.depth;var e=void 0;if(x[_0x4962("0x3c")]==_0x4962("0x1a4")){var t=this[_0x4962("0x237")](x[_0x4962("0x1b5")]);e=this.rayPointer.intersectByCoord(t,x[_0x4962("0x3c")],x[_0x4962("0xa94")])}else{var i=this[_0x4962("0x237")](x[_0x4962("0xa95")]),a=this.coordMapToThree(x[_0x4962("0xa96")]);e=this[_0x4962("0x305")][_0x4962("0x52c")](i,a)}if(x[_0x4962("0x2fa")]&&e){if(!this.rayPointer[_0x4962("0xa97")]){var n=document[_0x4962("0x24")]("canvas");n[_0x4962("0x1ce")]=64,n[_0x4962("0x1a4")]=64;var r=n.getContext("2d");r[_0x4962("0x34f")](),r[_0x4962("0x34c")](32,32,20,0,360,!1),r.fillStyle="red",r[_0x4962("0x47b")](),r[_0x4962("0x160")]=20,r[_0x4962("0x344")]=_0x4962("0xa98"),r[_0x4962("0xa99")]=.2,r.stroke(),r[_0x4962("0xa9a")]();var s=new(THREE[_0x4962("0x368")])(n),o=new(THREE[_0x4962("0x278")]);o[_0x4962("0xf6")]=new(THREE[_0x4962("0x546")])({map:s,depthTest:!1,sizeAttenuation:!1}),o[_0x4962("0x170")]=101,o[_0x4962("0x1fe")][_0x4962("0x250")](.02),o[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x187")]=!0,this[_0x4962("0x305")][_0x4962("0xa97")]=o,this[_0x4962("0x1c6")].scene[_0x4962("0xda")](o)}"height"==x[_0x4962("0x3c")]?this.rayPointer[_0x4962("0xa97")].position[_0x4962("0x206")](e):this[_0x4962("0x305")].cubeTip[_0x4962("0x106")][_0x4962("0x206")](e[_0x4962("0x303")])}var l=[],f=function x(_){return _[_0x4962("0x17b")][_0x4962("0xf1")]?_[_0x4962("0x17b")]:x(_[_0x4962("0x17b")])};if(!(e&&e.length>0))return null;if(x.isTerrainMesh){for(var d=0;d<e.length;d++)if(e[d][_0x4962("0x9")][_0x4962("0x166")][_0x4962("0x79")]===x[_0x4962("0xa94")])return e[d];return null}e.forEach((function(_){var e=f(_[_0x4962("0x9")]);try{var t=void 0;e[_0x4962("0xf1")]&&e.datas_[_0x4962("0x130")]&&(t=e[_0x4962("0xf1")][_0x4962("0x130")]||_[_0x4962("0x9")][_0x4962("0xf1")][_0x4962("0x130")]),t&&_.object[_0x4962("0x166")][_0x4962("0x79")]===x[_0x4962("0xa94")]&&l[_0x4962("0x3")]({bid:e.datas_.bid,height:_[_0x4962("0x303")].y})}catch(x){console[_0x4962("0xe0")](x,"ESMAP_ERROR")}}));var u={};return l=l[_0x4962("0x122")]((function(x,_){return!u[_[_0x4962("0x1a4")]]&&(u[_[_0x4962("0x1a4")]]=x[_0x4962("0x3")](_)),x}),[]),x.targetName?1===l.length?l[0]:l:{bid:f(e[0][_0x4962("0x9")])[_0x4962("0xf1")][_0x4962("0x130")],height:e[0][_0x4962("0x303")].y}}},{key:"cameraFlyToHelper",value:function(){if(this[_0x4962("0x387")]!==esmap[_0x4962("0x62d")][_0x4962("0xa9b")]){var x=this[_0x4962("0x260")][_0x4962("0x9")].position[_0x4962("0x23a")](this.controls[_0x4962("0x2c5")]),_=this[_0x4962("0x1c6")].getCenter();return{directionAngle:1*this[_0x4962("0x230")].toFixed(1),pitchAngle:1*this[_0x4962("0x330")][_0x4962("0x65f")](1),radius:1*x.toFixed(1),x:1*_.x[_0x4962("0x65f")](1),y:1*_.y.toFixed(1),z:1*this[_0x4962("0x260")][_0x4962("0x2c5")].y.toFixed(1)}}_0x4962("0xa9c")}},{key:_0x4962("0x2f0"),value:function(){return k[_0x4962("0x37")].post({msg:_0x4962("0xa9d"),level:_0x4962("0xa9e")}),this[_0x4962("0x1c6")].getCenter()}},{key:_0x4962("0xa9f"),value:function(){return this[_0x4962("0x1c6")].getCenter()}},{key:_0x4962("0xaa0"),value:function(){return this[_0x4962("0x1c6")][_0x4962("0xaa0")]()}},{key:_0x4962("0x25a"),value:(z=(0,s.default)(r[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,i,a,n=this;return r[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if((_=(0,c.default)({fnum:null,scaleLevel:null,radius:100,bid:null,pitchAngle:60,directionAngle:0,clockwise:!0,delay:0,time:1,control:null},_))[_0x4962("0xaa1")]=_[_0x4962("0xaa1")]||this[_0x4962("0x260")],e=this,_.clockwise||(_[_0x4962("0xaa2")]=360-_[_0x4962("0xaa2")]),!_[_0x4962("0x1a3")]){x[_0x4962("0x286")]=7;break}return x[_0x4962("0x286")]=7,new(o[_0x4962("0xc")])((function(x){setTimeout(x,1e3*_[_0x4962("0x1a3")])}));case 7:if(_.z||(_.z=0),t=0,!_[_0x4962("0x132")]){x[_0x4962("0x286")]=19;break}if(_[_0x4962("0x130")]||(_[_0x4962("0x130")]=this.id),this[_0x4962("0x139")](_[_0x4962("0x130")])){x[_0x4962("0x286")]=16;break}return x[_0x4962("0x286")]=14,new(o[_0x4962("0xc")])((function(x){n.openBuildingById(_[_0x4962("0x130")]),n[_0x4962("0xaa3")](_0x4962("0xa35"),(function(){var e=n[_0x4962("0x139")](_[_0x4962("0x130")]);e[_0x4962("0xa07")](_[_0x4962("0x132")]),t=e[_0x4962("0x2da")](_[_0x4962("0x132")]),x()}))}));case 14:x[_0x4962("0x286")]=19;break;case 16:(i=this[_0x4962("0x139")](_[_0x4962("0x130")])).changeFocusFloor(_[_0x4962("0x132")]),t=i[_0x4962("0x2da")](_.fnum);case 19:return null!=_[_0x4962("0x21e")]?_[_0x4962("0x69c")]=(this[_0x4962("0xaa4")][_[_0x4962("0x21e")]]+1e-4)*_[_0x4962("0xaa1")][_0x4962("0xaa5")]:null!=_[_0x4962("0x1f6")]?_[_0x4962("0x69c")]=e[_0x4962("0x1c6")][_0x4962("0xaa6")](_.zoomLevel):null==_[_0x4962("0x69c")]&&(_[_0x4962("0x69c")]=_[_0x4962("0xaa1")][_0x4962("0xaa7")]()),a=this[_0x4962("0x237")]({x:_.x,y:_.y,z:_.z+t}),_[_0x4962("0xaa8")]=_[_0x4962("0xaa8")]<=1?1:_[_0x4962("0xaa8")],x[_0x4962("0x28b")](_0x4962("0x28c"),new(o[_0x4962("0xc")])((function(x){n[_0x4962("0x9c7")][_0x4962("0xaa9")]({targetPos:a,radius:_[_0x4962("0x69c")],pitchAngle:_.pitchAngle,directionAngle:_[_0x4962("0xaa2")],time:_[_0x4962("0x1a5")],control:_[_0x4962("0xaa1")],callback:function(){_[_0x4962("0x1b3")]&&_[_0x4962("0x1b3")](),esmap[_0x4962("0x6b0")]&&!esmap.ESTileMap.tileMapView&&esmap[_0x4962("0x33")][_0x4962("0x3a")].updateTileView(),x()}})})));case 23:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return z[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xaaa"),value:function(x){var _=this;_[_0x4962("0xaab")](),esmap[_0x4962("0x8c")][_0x4962("0x508")](this,_0x4962("0x698"),{ID:x},(function(x){if(x[_0x4962("0x0")]>0){var e=x[0],t=_[_0x4962("0xaac")],i=document[_0x4962("0xaad")](t[_0x4962("0xaae")]);i.innerHTML="",t[_0x4962("0xaaf")][_0x4962("0x25")].opacity=0,e[_0x4962("0x107")]?(t[_0x4962("0x331")]({x:e[_0x4962("0x217")].x,y:e[_0x4962("0x217")].y,time:.01,callback:function(){t.group[_0x4962("0x106")].y=e.RoomHigh+20,setTimeout((function(){i[_0x4962("0x1d9")]=e[_0x4962("0x107")],t[_0x4962("0xaaf")][_0x4962("0x25")].opacity=1}),1)}}),t[_0x4962("0x130")]=e[_0x4962("0x130")]):t.popDiv_[_0x4962("0x25")][_0x4962("0x145")]=0,_[_0x4962("0xab0")](e)}}))}},{key:_0x4962("0xab1"),value:function(x){var _=x,e=.2,t=null;x instanceof Object&&(_=x[_0x4962("0x234")],e=x[_0x4962("0x1a5")]||.2,t=x.callback||null),new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this).to({tiltAngle:_},1e3*e).easing(esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x){}))[_0x4962("0x1b0")]((function(){t&&t()}))[_0x4962("0x1b1")]()}},{key:"scaleLevelTo",value:function(x){var _=this;if(this[_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")]){typeof x!=_0x4962("0x18a")&&"string"!=typeof x||(x={value:1*x});var e=void 0;if(e=(x=(0,c[_0x4962("0xc")])({value:0,time:1,emitError:!1,raw:!1,onComplete:null},x)).raw?x.value:this[_0x4962("0xaa4")][x[_0x4962("0xe3")]],x[_0x4962("0xab2")]||null!=e){var t=this[_0x4962("0x260")].getScaleRate();N&&(N[_0x4962("0x1b2")](),N=null),N=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:t}).to({value:e},1e3*x[_0x4962("0x1a5")])[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")].Out)[_0x4962("0x173")]((function(x){_[_0x4962("0x260")][_0x4962("0xab5")](x[_0x4962("0xe3")])}))[_0x4962("0x1b0")]((function(){x.onComplete&&x[_0x4962("0x1b0")](),N=null}))[_0x4962("0x1b1")]()}else console[_0x4962("0xe0")](_0x4962("0xab3")+x[_0x4962("0xe3")]+_0x4962("0xab4"))}}},{key:_0x4962("0xab6"),value:function(x,_){var e=this;x=THREE[_0x4962("0x20e")][_0x4962("0x985")](x,0,e.scaleLevels_[_0x4962("0x0")]-1),_=THREE[_0x4962("0x20e")][_0x4962("0x985")](_,0,e[_0x4962("0xaa4")][_0x4962("0x0")]-1),e[_0x4962("0xab7")]=x,e.maxScaleLevel_=_,e[_0x4962("0x260")][_0x4962("0xab8")](e[_0x4962("0xaa4")][x],e.scaleLevels_[_]),e[_0x4962("0x21e")]=e.scaleLevels_[Math[_0x4962("0xff")]((x+_)/2)]}},{key:_0x4962("0xab9"),value:function(){this[_0x4962("0x21e")]>0&&this.scaleLevelTo({value:this[_0x4962("0x21e")]-1})}},{key:_0x4962("0xaba"),value:function(){this[_0x4962("0x21e")]<this[_0x4962("0xaa4")][_0x4962("0x0")]-1&&this[_0x4962("0x9f1")]({value:this[_0x4962("0x21e")]+1})}},{key:"setBackgroundImage",value:function(x){x?(this[_0x4962("0x1c6")].scene.background=esmap[_0x4962("0x8c")].loadTexture(x),this[_0x4962("0x1c6")][_0x4962("0x2e6")].background[_0x4962("0x187")]=!0):(this[_0x4962("0x1c6")][_0x4962("0x2e6")].background=null,this[_0x4962("0x1c6")].renderer.setClearColor(this[_0x4962("0x13e")].clearColor_,this[_0x4962("0x13e")][_0x4962("0xabb")]))}},{key:_0x4962("0xabc"),value:function(x,_){!1!==x?this[_0x4962("0x1c6")][_0x4962("0x364")].setClearColor(x,_):this[_0x4962("0x1c6")].renderer[_0x4962("0x734")](this[_0x4962("0x13e")].clearColor_,this[_0x4962("0x13e")][_0x4962("0xabb")])}},{key:_0x4962("0xabd"),value:function(x,_){var e=null==_?1:_;this[_0x4962("0x13e")][_0x4962("0x447")].color[_0x4962("0xd8")](x),this[_0x4962("0x13e")][_0x4962("0x447")][_0x4962("0x439")][_0x4962("0xd8")](x),this[_0x4962("0x13e")].selectModelMat[_0x4962("0x145")]=e,this[_0x4962("0x9cf")]=e}},{key:_0x4962("0x469"),value:function(x,_,e,t,i){var a,n=_-x,r=[];t[_0x4962("0x20")]((function(x){r[_0x4962("0x3")]({start:x[_0x4962("0x1b1")],count:x[_0x4962("0x182")],materialIndex:x[_0x4962("0x45f")]})}));for(var s=0;s<r[_0x4962("0x0")];s++){var o=r[s],c=o[_0x4962("0x1b1")]+o[_0x4962("0x182")];if(x>=o[_0x4962("0x1b1")]&&x<c&&o.materialIndex!=e){if(o[_0x4962("0x182")]>=n){i&&(this[_0x4962("0x465")]=o[_0x4962("0x45f")]),r[_0x4962("0x4")](s,1),x>o[_0x4962("0x1b1")]&&r[_0x4962("0x3")]({start:o[_0x4962("0x1b1")],count:x-o.start,materialIndex:o[_0x4962("0x45f")]}),r[_0x4962("0x3")]({start:x,count:n,materialIndex:e}),_<c&&r[_0x4962("0x3")]({start:_,count:c-_,materialIndex:o[_0x4962("0x45f")]});break}r[s][_0x4962("0x45f")]=e}}r.sort((a=_0x4962("0x1b1"),function(x,_){return x[a]-_[a]}));for(var l=0;l<r[_0x4962("0x0")]-1;l++)r[l][_0x4962("0x45f")]==r[l+1][_0x4962("0x45f")]&&(r[l].count+=r[l+1][_0x4962("0x182")],r[_0x4962("0x4")](l+1,1),l--);return r}},{key:_0x4962("0xab0"),value:function(x,_,e){if(x&&x.o3d_&&x[_0x4962("0xf2")][_0x4962("0xf4")]){var t=this;null==_&&(_=!0);var i=x.o3d_[_0x4962("0xf4")][_0x4962("0x45d")],a=x[_0x4962("0xf2")][_0x4962("0x166")].selectMatIndex,n=x[_0x4962("0x109")][0],r=x[_0x4962("0x109")][1];if(1==x[_0x4962("0x3e8")]){var s=1;0==_&&(s=0);for(var o=x[_0x4962("0xf2")].geometry[_0x4962("0x105")].isSelectFlags[_0x4962("0x452")],c=n;c<r;c+=1)o[c]=s;return x[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0xabe")][_0x4962("0x187")]=!0,void(_&&!e&&(t[_0x4962("0xaab")](),t.lastSelectStore[_0x4962("0x3")](x)))}x[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x45e")]();if(0!=_){x[_0x4962("0x481")]?x[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x3")](t[_0x4962("0x34")].mapTheme_[_0x4962("0x447")]):x.o3d_[_0x4962("0xf6")][_0x4962("0x3")](t[_0x4962("0x34")][_0x4962("0x3f3")].selectModelMat),x[_0x4962("0xf2")][_0x4962("0xf6")][0].userData[_0x4962("0xac0")]&&x.o3d_.material[0][_0x4962("0x48")]&&!x.o3d_[_0x4962("0xf6")][1]&&(x.o3d_.material[x[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x0")]-1]=t.mapScene.mapTheme_[_0x4962("0x447")].clone(),i=x[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x45d")],a=1,x[_0x4962("0xf2")].material[a].map=x[_0x4962("0xf2")][_0x4962("0xf6")][0][_0x4962("0x48")][_0x4962("0x126")](),x.o3d_[_0x4962("0xf6")][a].emissive=new THREE.Color(0,0,0),x.o3d_.material[a][_0x4962("0x48")][_0x4962("0x187")]=!0,x[_0x4962("0xf2")].material[a][_0x4962("0x187")]=!0),a=x[_0x4962("0xf2")][_0x4962("0xf6")].length-1;x.o3d_[_0x4962("0xf4")][_0x4962("0x105")].position.count;t[_0x4962("0x469")](n,r,a,i,true)[_0x4962("0x20")]((function(_){x[_0x4962("0xf2")].geometry[_0x4962("0x181")](_[_0x4962("0x1b1")],_[_0x4962("0x182")],_.materialIndex)})),_&&!e&&(t[_0x4962("0xaab")](),t[_0x4962("0x9bb")][_0x4962("0x3")](x))}else{for(var l=0;l<x[_0x4962("0xf2")][_0x4962("0xf6")].length;l++)if(x[_0x4962("0xf2")].material[l]&&x[_0x4962("0xf2")].material[l].name==_0x4962("0xabf")){x[_0x4962("0xf2")].material[l].map&&x[_0x4962("0xf2")][_0x4962("0xf6")][l].map[_0x4962("0xf5")]()&&(x.o3d_[_0x4962("0xf6")][l][_0x4962("0x48")]=null),x[_0x4962("0xf2")].material[_0x4962("0x4")](l,1);break}t[_0x4962("0x469")](n,r,t[_0x4962("0x465")],i,true)[_0x4962("0x20")]((function(_){x[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x181")](_[_0x4962("0x1b1")],_[_0x4962("0x182")],_[_0x4962("0x45f")])}))}}}},{key:_0x4962("0x310"),value:function(x){for(var _=[][_0x4962("0x12")](this[_0x4962("0x34")][_0x4962("0x41c")].children),e=0;e<_[_0x4962("0x0")];e++)if(_[e][_0x4962("0xf1")].id==x)return _[e][_0x4962("0xf1")]}},{key:"ol",value:function(x,_){if(_==this.id){var e=this[_0x4962("0x7f")][_0x4962("0x69d")][x]||[],t=[];return e[_0x4962("0x48")]((function(x){var _=[];x[_0x4962("0x20")]((function(x){_[_0x4962("0x3")]({x:-x.x,y:x.y})})),t.push(_)})),t}}},{key:"setSelectColor",value:function(x,_){var e=esmap[_0x4962("0x8c")][_0x4962("0x461")](_);switch(x){case esmap[_0x4962("0x134")][_0x4962("0x678")]:this.mapTheme[_0x4962("0x447")].color=new(THREE[_0x4962("0x188")])(_);break;case esmap[_0x4962("0x134")][_0x4962("0xac1")]:this[_0x4962("0x13e")][_0x4962("0xac2")]=e;break;case esmap[_0x4962("0x134")][_0x4962("0xac3")]:case esmap[_0x4962("0x134")].LINE:this.mapTheme[_0x4962("0xac4")]=e}}},{key:_0x4962("0xac5"),value:function(x){x?(this[_0x4962("0x13e")][_0x4962("0xa2d")].forEach((function(x){x&&(x.visible=!0)})),this[_0x4962("0x7f")][_0x4962("0xac6")]=!1):(this[_0x4962("0x7f")][_0x4962("0xac6")]=!0,this[_0x4962("0x13e")].modelBasicMat.forEach((function(x){x&&(x[_0x4962("0x17c")]=!1)})))}},{key:"highLightArea",value:function(x){var _=this,e=esmap[_0x4962("0x8c")][_0x4962("0x667")](x);e[_0x4962("0x20")]((function(x){_[_0x4962("0x2b4")][_0x4962("0xac7")][_0x4962("0x3")](x)}));var t=[];this[_0x4962("0x67e")][_0x4962("0x20")]((function(x){-1==e[_0x4962("0xaf")](x.id)&&t[_0x4962("0x3")](x.id)}));for(var i=this.mapScene.tileScene_.children,a=0;a<i[_0x4962("0x0")];a++){var n=i[a];t[_0x4962("0x63")](n[_0x4962("0xf1")].id)&&(n.visible=!1,this[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0x197")](n),a--,this[_0x4962("0x7f")].tileService[_0x4962("0xac8")][_0x4962("0xaf")](n[_0x4962("0xf1")])<0&&this[_0x4962("0x2b4")][_0x4962("0xac9")](n[_0x4962("0xf1")]),this.fire(_0x4962("0xaca"),{bid:n[_0x4962("0xf1")].id}))}}},{key:_0x4962("0xacb"),value:function(){this.tileService[_0x4962("0xac7")]=[],this[_0x4962("0x2d1")]()}},{key:_0x4962("0xacc"),value:function(x){var _=this,e="name",t=[][_0x4962("0x12")](x.name);x[_0x4962("0x107")]||(t=[][_0x4962("0x12")](x.id),e="ID");var a=x[_0x4962("0x26e")]||!1,n=x[_0x4962("0x145")],r=x.delay||0,s=null==x[_0x4962("0x1a5")]?.8:x[_0x4962("0x1a5")],o=null!=x[_0x4962("0x67c")]&&x[_0x4962("0x67c")];setTimeout((function(){esmap.ESMapUtil[_0x4962("0x508")](_,"all",(0,i[_0x4962("0xc")])({nodeType:6},e,t),(function(_){for(var e=0;e<_[_0x4962("0x0")];e++)esmap.ESMapUtil[_0x4962("0x26d")]({target:_[e][_0x4962("0xf2")],time:s,alpha:n,hideOnComplete:o,clonemat:a,visible:x[_0x4962("0x17c")],noOcclusion:x[_0x4962("0x67b")]})}))}),1e3*r)}},{key:_0x4962("0x578"),value:function(){return this[_0x4962("0x139")](this.id)}},{key:_0x4962("0x139"),value:function(x){if(this.mapScene[_0x4962("0xacd")]&&(0==x||x==this.id))return this.mapScene[_0x4962("0xacd")];for(var _=[][_0x4962("0x12")](this[_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0xf3")]),e=0;e<_[_0x4962("0x0")];e++)if(_[e][_0x4962("0xf1")].id==x)return _[e].datas_;return null}},{key:_0x4962("0xace"),value:function(x,_,e){if(x){var t=this;null==_&&(_=!0),_&&!e&&(t[_0x4962("0xa65")](),t.lastSelectModelStore.push(x));var i=t.mapTheme.Model3DSelectColor;x[_0x4962("0xf1")][_0x4962("0x125")]==esmap[_0x4962("0x134")].POLYGON_MARKER&&(i=t[_0x4962("0x13e")][_0x4962("0xac2")]);var a=x[_0x4962("0x166")][_0x4962("0xacf")];x.traverse((function(x){if(x.material)if(x[_0x4962("0xf6")]instanceof Array)if(a)x[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0xad0")]||(x[_0x4962("0xf6")][0][_0x4962("0x166")].originEMS=x[_0x4962("0xf6")][0][_0x4962("0x439")][_0x4962("0x126")]()),_?x[_0x4962("0xf6")][0][_0x4962("0x439")]=new THREE.Color(i):(x[_0x4962("0xf6")][0].emissive=x.material[0][_0x4962("0x166")][_0x4962("0xad0")],x[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0xad0")]=null);else for(var e=0;e<x[_0x4962("0xf6")][_0x4962("0x0")];e++){var t=x[_0x4962("0xf6")][e][_0x4962("0x126")]();t.hasOwnProperty(_0x4962("0x439"))&&(t[_0x4962("0x166")][_0x4962("0xad0")]||(t[_0x4962("0x166")][_0x4962("0xad0")]=t[_0x4962("0x439")][_0x4962("0x126")]()),t[_0x4962("0x439")]=_?new THREE.Color(i):t[_0x4962("0x166")][_0x4962("0xad0")]instanceof THREE[_0x4962("0x188")]?t.userData.originEMS:new(THREE[_0x4962("0x188")])(t[_0x4962("0x166")][_0x4962("0xad0")]),x[_0x4962("0xf6")][e]=t,t[_0x4962("0x187")]=!0)}else{var n=x.material;if(n[_0x4962("0x276")])return;n[_0x4962("0x166")][_0x4962("0x437")]||n[_0x4962("0xad1")]||((n=n[_0x4962("0x126")]())[_0x4962("0x166")][_0x4962("0x437")]=!0,x[_0x4962("0xf6")]=n),n.hasOwnProperty(_0x4962("0x439"))?(_?(n.userData[_0x4962("0x2")]("originEMS")||(n[_0x4962("0x166")][_0x4962("0xad0")]=x.material[_0x4962("0x439")][_0x4962("0xad2")]()),n[_0x4962("0x439")]=new THREE.Color(i)):n[_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(n[_0x4962("0x166")].originEMS),x[_0x4962("0xf6")][_0x4962("0x187")]=!0):(_?x[_0x4962("0xad3")]?(n[_0x4962("0x166")][_0x4962("0xad4")]||(n[_0x4962("0x166")][_0x4962("0xad4")]=x[_0x4962("0x147")]),x[_0x4962("0x147")]=i):(n[_0x4962("0x166")][_0x4962("0xad4")]||(n[_0x4962("0x166")][_0x4962("0xad4")]=n[_0x4962("0x147")][_0x4962("0x126")]()),n.color=new(THREE[_0x4962("0x188")])(i)):null!=n[_0x4962("0x166")][_0x4962("0xad4")]&&(x.naviMap?(x[_0x4962("0x147")]=n[_0x4962("0x166")][_0x4962("0xad4")],n.color=new THREE.Color(1,1,1)):n[_0x4962("0x147")]=new THREE.Color(n[_0x4962("0x166")][_0x4962("0xad4")]),n.userData.lastColor=null),x[_0x4962("0xad3")]||(x[_0x4962("0xf6")]=n),x.material.needsUpdate=!0)}})),_?(x.userData[_0x4962("0xad5")]=!0,x[_0x4962("0x170")]+=1):(x[_0x4962("0x166")][_0x4962("0xad5")]=!1,x[_0x4962("0x170")]-=1)}}},{key:_0x4962("0xa65"),value:function(){var x=this;x[_0x4962("0x554")].forEach((function(_){_.datas_&&_[_0x4962("0xf1")][_0x4962("0x125")]==esmap[_0x4962("0x134")].POLYGON_MARKER&&(_[_0x4962("0xf1")][_0x4962("0xad6")]&&(_[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x164")]=_.datas_[_0x4962("0xad6")][_0x4962("0x25")][_0x4962("0x164")],_[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x160")]=_.datas_[_0x4962("0xad6")][_0x4962("0xad7")]||_[_0x4962("0xf1")].line.style[_0x4962("0x160")],_[_0x4962("0xf1")][_0x4962("0xad6")].geometry[_0x4962("0xad8")]?_[_0x4962("0xf1")].line[_0x4962("0xf4")][_0x4962("0xad8")](_[_0x4962("0xf1")][_0x4962("0xad6")].geometry[_0x4962("0xad9")]):_[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x17a")]()),_[_0x4962("0xf6")][_0x4962("0x145")]=_[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xada")]),x[_0x4962("0xace")](_,!1)})),x[_0x4962("0x554")][_0x4962("0x0")]=0;var _=x[_0x4962("0x139")](0);_&&_.modelLoadManager.GLTFMergeTool[_0x4962("0x41e")]&&(_[_0x4962("0x264")].GLTFMergeTool[_0x4962("0x41f")]=!1,_[_0x4962("0x264")].GLTFMergeTool[_0x4962("0x464")]())}},{key:_0x4962("0xadb"),value:function(x){x[_0x4962("0xadc")]}},{key:_0x4962("0xadd"),value:function(x){if(x){var _="",e=document[_0x4962("0xaad")](this[_0x4962("0xaac")][_0x4962("0xaae")]);e&&(_=e.innerHTML),this[_0x4962("0xaac")][_0x4962("0xade")]||(this[_0x4962("0xaac")][_0x4962("0xade")]=this[_0x4962("0xaac")][_0x4962("0xaaf")][_0x4962("0x1d9")]),this[_0x4962("0xaac")].popDiv_[_0x4962("0x1d9")]=x;var t=document[_0x4962("0xaad")](this[_0x4962("0xaac")][_0x4962("0xaae")]);t&&(t[_0x4962("0x1d9")]=_)}}},{key:_0x4962("0xadf"),value:function(){this[_0x4962("0xaac")][_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=0}},{key:_0x4962("0xaab"),value:function(){var x=this;x.lastSelectStore[_0x4962("0x20")]((function(_){x[_0x4962("0xab0")](_,!1)})),x[_0x4962("0x9bb")][_0x4962("0x0")]=0}},{key:_0x4962("0xae0"),value:function(x,_,e){e=e||0;var t=esmap[_0x4962("0x8c")][_0x4962("0x508")](this,e,{types:[_0x4962("0x288"),_0x4962("0x1e8")],ID:x});if(0!=t[_0x4962("0x0")]){var i=t[0];if(i.nodeType==esmap.ESNodeType[_0x4962("0x678")]){for(var a=i[_0x4962("0xf2")][_0x4962("0x166")].groups,n=(i[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],i.faceRange[0]),r=(i[_0x4962("0x109")][1],null),s=0;s<a[_0x4962("0x0")];s++)if(n>=a[s][_0x4962("0x1b1")]&&n<a[s][_0x4962("0x1b1")]+a[s][_0x4962("0x182")]){r=a[s][_0x4962("0x45f")];break}i[_0x4962("0xf2")].material[r][_0x4962("0x166")][_0x4962("0xae1")]=i[_0x4962("0xf2")][_0x4962("0xf6")][r][_0x4962("0x145")],i.o3d_.material[r][_0x4962("0x145")]=_}else{[][_0x4962("0x12")](i[_0x4962("0xf2")].material).forEach((function(x){var e=x.opacity;x[_0x4962("0x166")].originalOp=e,x.opacity=_}))}}}},{key:_0x4962("0xae2"),value:function(x){this.compass[_0x4962("0xae3")](x)}},{key:_0x4962("0xae4"),value:function(x){this[_0x4962("0xa57")][_0x4962("0xae5")](x)}},{key:"restoreModelAlpha",value:function(x,_){_=_||0;var e=esmap[_0x4962("0x8c")].search(this,_,{types:["model",_0x4962("0x1e8")],ID:x});if(0!=e.length){var t=e[0];if(t[_0x4962("0x125")]==esmap[_0x4962("0x134")][_0x4962("0x678")]){for(var i=0;i<t.o3d_[_0x4962("0xf6")][_0x4962("0x0")];i++)if(_0x4962("0xae1")in t[_0x4962("0xf2")][_0x4962("0xf6")][i][_0x4962("0x166")]){t.o3d_[_0x4962("0xf6")][i].opacity=t[_0x4962("0xf2")].material[i][_0x4962("0x166")][_0x4962("0xae1")],delete t.o3d_.material[i].userData[_0x4962("0xae1")];break}}else[][_0x4962("0x12")](t[_0x4962("0xf2")][_0x4962("0xf6")])[_0x4962("0x20")]((function(x){x.opacity=x.userData[_0x4962("0xae1")],delete x[_0x4962("0x166")].originalOp}))}}},{key:_0x4962("0xae6"),value:function(){return this[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x3b8")]?this.buildingService[_0x4962("0x404")]:this[_0x4962("0x2b4")][_0x4962("0x404")]}},{key:"initScene",value:function(){this[L[_0x4962("0x9c1")]].initUserLogo();var x=this.mapScene[_0x4962("0xae7")]();this[_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0xda")](x)}},{key:_0x4962("0xae8"),value:function(x){for(var _=0;_<this[_0x4962("0x2b4")][_0x4962("0xac8")][_0x4962("0x0")];_++)if(this.tileService.cachedTiles[_].id==x)return this[_0x4962("0x2b4")][_0x4962("0xac8")][_]}},{key:_0x4962("0xae9"),value:function(x){this.mapService[_0x4962("0xaea")].applyToNavLib(x)}},{key:"setUserGenLangLib",value:function(x){this[_0x4962("0x7f")][_0x4962("0xaea")].applyToGeneralLib(x)}},{key:"getMapNavLangLib",value:function(){return this[_0x4962("0x7f")][_0x4962("0xaea")][_0x4962("0xaeb")][_0x4962("0xc")]}},{key:"getMapGenLangLib",value:function(){return this[_0x4962("0x7f")][_0x4962("0xaea")][_0x4962("0xaec")][_0x4962("0xc")]}},{key:"closeBuildingById",value:(H=(0,s[_0x4962("0xc")])(r.default[_0x4962("0x283")]((function x(_){var e,t,i,a,n,s,o,c,l,f,d,u,h=this;return r[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(!esmap.ESMap[_0x4962("0xa03")]){x[_0x4962("0x286")]=2;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 2:if(e=this[_0x4962("0x139")](_)){x[_0x4962("0x286")]=7;break}return console[_0x4962("0x293")](_0x4962("0xaed")),x.abrupt(_0x4962("0x28c"));case 7:if(this[_0x4962("0xa65")](),t=e[_0x4962("0x41b")],this[_0x4962("0x3b")][_0x4962("0xaee")]||1==t[_0x4962("0xe2")].value){x.next=11;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 11:i=e[_0x4962("0x213")],this[_0x4962("0xe5")](_0x4962("0xaef"),{bid:_,type:i}),a=0;case 14:if(!(a<this[_0x4962("0x687")].length)){x[_0x4962("0x286")]=21;break}if(this.buildingList[a].id!=_){x[_0x4962("0x286")]=18;break}return this[_0x4962("0x687")].splice(a,1),x[_0x4962("0x28b")]("break",21);case 18:a++,x[_0x4962("0x286")]=14;break;case 21:if(e[_0x4962("0xaf0")],(n=e[_0x4962("0xf2")]).visible=!1,s=e[_0x4962("0xa2f")])if(6==s.nodeType)s[_0x4962("0xf2")]?s[_0x4962("0xf2")][_0x4962("0xf1")][_0x4962("0x480")]&&s[_0x4962("0xf2")][_0x4962("0xf1")].brothers[_0x4962("0x0")]>1?s.o3d_[_0x4962("0xf3")].forEach((function(x){e[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x468")](x,s.ID,!0)})):(s[_0x4962("0xf2")][_0x4962("0x17c")]=!0,this[_0x4962("0x9cc")]++,esmap.ESMapUtil[_0x4962("0x26d")]({target:s[_0x4962("0xf2")],alpha:!1}),setTimeout((function(){h[_0x4962("0x9cc")]--}),1e3)):s.visible=!0;else if(5==s[_0x4962("0x125")]){for(o=s[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],c=s.faceRange,l=c[0];l<c[1];l+=1)o[l]=0;s[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0}this[_0x4962("0x3b")].buildingCache?(this[_0x4962("0x2b4")].cacheBuildings[e.id]=n,this[_0x4962("0x34")][_0x4962("0xa34")].remove(n)):(this.disposeBuilding(e.id),e[_0x4962("0x48")]=void 0,e[_0x4962("0x3c0")]=void 0,e[_0x4962("0xaf1")]=void 0,e.o3dFloors_=void 0,this.mapScene[_0x4962("0xa34")][_0x4962("0x197")](n),n=void 0),this[_0x4962("0x3b")][_0x4962("0xaf2")]||this[_0x4962("0x194")][_0x4962("0x3fb")][_]&&(this[_0x4962("0x194")].watchingList[_]=void 0,delete this[_0x4962("0x194")][_0x4962("0x3fb")][_]),x.t0=r[_0x4962("0xc")][_0x4962("0xaf3")](this[_0x4962("0x2b4")][_0x4962("0x68d")]);case 29:if((x.t1=x.t0()).done){x[_0x4962("0x286")]=37;break}if((f=x.t1.value)!=_){x.next=35;break}return this[_0x4962("0x2b4")].bidList[f].loaded&&(this.tileService[_0x4962("0x68d")][f][_0x4962("0xaf4")]=!1),this[_0x4962("0x2b4")][_0x4962("0x68d")][f].hold=!0,x.abrupt(_0x4962("0xaf5"),37);case 35:x[_0x4962("0x286")]=29;break;case 37:for(this.mapService._isBuildingLoading=!1,this[_0x4962("0xe5")](_0x4962("0xaf6"),{bid:_,type:i}),d=0;d<this[_0x4962("0x687")][_0x4962("0x0")];d++)(u=this[_0x4962("0x687")][d]).o3d_&&1!=u.o3d_[_0x4962("0x1fe")].y&&(this[_0x4962("0x9cc")]++,new(esmap[_0x4962("0x1a6")].Tween)(u[_0x4962("0xf2")][_0x4962("0x1fe")]).to({y:1},1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")]).onUpdate((function(){}))[_0x4962("0x1b0")]((function(){h[_0x4962("0x9cc")]--})).start());return 0===this[_0x4962("0x687")][_0x4962("0x0")]&&this[_0x4962("0xe5")](_0x4962("0xaf7")),x[_0x4962("0x28b")](_0x4962("0x28c"),!0);case 42:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x){return H[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xaf8"),value:function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]&&arguments[1]?x:this[_0x4962("0x237")](x),e=this.getBuildingById(0).modelLoadManager;return e[_0x4962("0x92d")](),e.frustum[_0x4962("0x938")](_)}},{key:_0x4962("0xaf7"),value:function(){for(;this[_0x4962("0x687")][_0x4962("0x0")]>0;){var x=this[_0x4962("0x687")][_0x4962("0x224")]();this[_0x4962("0xaf9")](x.id)}}},{key:"zoomLevelTo",value:function(x){var _=this;typeof x!=_0x4962("0x18a")&&"string"!=typeof x||(x={value:1*x});var e=(x=(0,c[_0x4962("0xc")])({value:0,time:1,emitError:!1,onComplete:null},x))[_0x4962("0xe3")],t=this.zoomLevel;N&&(N[_0x4962("0x1b2")](),N=null),N=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:t}).to({value:e},1e3*x[_0x4962("0x1a5")])[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Quadratic[_0x4962("0x1af")])[_0x4962("0x173")]((function(x){_[_0x4962("0x1f6")]=x.value}))[_0x4962("0x1b0")]((function(){x[_0x4962("0x1b0")]&&x[_0x4962("0x1b0")](),N=null}))[_0x4962("0x1b1")]()}},{key:_0x4962("0xafa"),value:function(){var x=this;x[_0x4962("0x196")].forEach((function(_){x[_0x4962("0xafb")](_,!1)})),x[_0x4962("0x196")][_0x4962("0x0")]=0}},{key:_0x4962("0xafb"),value:function(x,_,e){var t=this;null==_&&(_=!0),_&&!e&&(!t[_0x4962("0x3b")][_0x4962("0xafc")]&&t[_0x4962("0xafa")](),t.lastSelectLineStore[_0x4962("0x3")](x));var i=x[_0x4962("0xf3")][0];if(x.type==_0x4962("0x198")&&(i=x),i&&i[_0x4962("0xf6")]){if(0==_)return i[_0x4962("0x166")][_0x4962("0xafd")]?(i.material=i[_0x4962("0x166")].originalMat,i[_0x4962("0x166")][_0x4962("0xafd")]=null):i[_0x4962("0xad3")]?i[_0x4962("0x147")]=i.userData.originalColor:i[_0x4962("0xf6")][_0x4962("0x147")]=i[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x9ae")]?i[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0x9ae")]:i.userData[_0x4962("0x9ae")],void(i[_0x4962("0x166")][_0x4962("0xad5")]=!1);i[_0x4962("0x166")][_0x4962("0xa6b")]&&(i[_0x4962("0x166")].originalMat=i[_0x4962("0xf6")],i[_0x4962("0xf6")]=i.material[_0x4962("0x126")]()),i[_0x4962("0xad3")]?(i[_0x4962("0x166")][_0x4962("0x9ae")]=i[_0x4962("0x147")],i.color=t[_0x4962("0x13e")][_0x4962("0xac4")]):(i.userData[_0x4962("0x9ae")]=i[_0x4962("0xf6")].color[_0x4962("0x126")](),i[_0x4962("0x166")][_0x4962("0xafd")]||(i[_0x4962("0x166")].originalMat=i[_0x4962("0xf6")]),i[_0x4962("0xf6")]=i.material[_0x4962("0x126")](),i.material.color=new(THREE[_0x4962("0x188")])(t[_0x4962("0x13e")][_0x4962("0xac4")]),t[_0x4962("0x3b")][_0x4962("0x438")]&&t[_0x4962("0x3b")][_0x4962("0x438")][_0x4962("0x618")]&&t.options[_0x4962("0x438")].lineMarker[_0x4962("0x147")]&&i[_0x4962("0xf6")][_0x4962("0x439")]&&i[_0x4962("0xf6")].emissive[_0x4962("0x277")](t.options[_0x4962("0x438")][_0x4962("0x618")][_0x4962("0x147")])),i[_0x4962("0x166")][_0x4962("0xad5")]=!0}}},{key:_0x4962("0xafe"),value:function(){for(var x=0;x<this[_0x4962("0x9d1")][_0x4962("0x0")];x++)this[_0x4962("0x6b")]("update",this[_0x4962("0x9d1")][x]);this.animatque=[]}},{key:_0x4962("0xaff"),value:function(){return this.mapScene[_0x4962("0xacd")]}},{key:_0x4962("0x1b7"),value:function(x){var _=x[_0x4962("0x2bf")],e=void 0===_?this[_0x4962("0x3e9")]:_,t=x.to,i=void 0===t?this[_0x4962("0x1b8")]:t,a=x[_0x4962("0x1b5")];if(e==i)return a;if(i===_0x4962("0xb00")){if(esmap[_0x4962("0x9ca")]){var n=esmap[_0x4962("0x8c")][_0x4962("0xf8")](a.x,a.y),r=20037508.342789244*esmap[_0x4962("0x6b3")];n[1]<70&&(a.y=r/180*(90+n[1]))}return a}if("EPSG:4490"===e){if(esmap[_0x4962("0x9ca")]){var s=esmap[_0x4962("0x8c")].transMc4490To3857(a.x,a.y);a.x=s[0],a.y=s[1]}return a}var o,l=(0,c[_0x4962("0xc")])({},a),f=esmap[_0x4962("0x8c")][_0x4962("0xf8")](l.x,l.y);o=b[_0x4962("0xc")][_0x4962("0x4d7")](f,b[_0x4962("0xc")][e],b.default[i]);var d=esmap[_0x4962("0x8c")][_0x4962("0xfc")](o[0],o[1]);return l.x=d[0],l.y=d[1],l}},{key:"_insureUserCoordInbounds",value:function(x){return this[_0x4962("0x3b")].userCrs!=this[_0x4962("0x1b8")]?this[_0x4962("0x1b7")]({from:this[_0x4962("0x3b")][_0x4962("0x1ba")],to:this.coordSystem,coord:x}):x}},{key:"transformCoordArray",value:function(x){var _=x.from,e=x.to,t=x.coords,i=x[_0x4962("0xb01")],a=void 0!==i&&i;if(_==e)return t;var n=[];for(var r in t)if(isNaN(t[r].x)||isNaN(t[r].y))console[_0x4962("0xe0")]("x or y contains NaN:",t[r]);else{var s=(0,c[_0x4962("0xc")])({},t[r]);a&&(s.x=-s.x);var o=this[_0x4962("0x1b7")]({from:_,to:e,coord:s});s.x=o.x,s.y=o.y,a&&(s.x=-s.x),n[_0x4962("0x3")](s)}return n}},{key:_0x4962("0x237"),value:function(x){var _=this[_0x4962("0x1b7")]({from:this[_0x4962("0x3b")][_0x4962("0x1ba")],to:this[_0x4962("0x1b8")],coord:(0,c[_0x4962("0xc")])({},x)});return this[_0x4962("0x2c3")](_)}},{key:_0x4962("0x2c3"),value:function(x){if(esmap[_0x4962("0x9ca")]&&!esmap[_0x4962("0x8c")][_0x4962("0xb02")](x)){var _=esmap[_0x4962("0x8c")].Mercator2lonLat(x.x,x.y),e=20037508.342789244*esmap.fixScale4490;x.y=e/180*(90+_[1])}var t=x.z||x[_0x4962("0x15c")]||0,i=this[_0x4962("0x34")],a={x:x.x,y:x.y};return a.x=-(a.x+i.sceneX_),a.y=a.y-i.sceneZ_,new(THREE[_0x4962("0x12c")])(a.x,t,a.y)}},{key:_0x4962("0x208"),value:function(x){var _={x:this.localCenter.x-x.x,y:x.z+this.localCenter.y,z:x.y||0};return this[_0x4962("0x1b7")]({from:this.coordSystem,to:this[_0x4962("0x3b")].userCrs,coord:_})}},{key:_0x4962("0x236"),value:function(x){return{x:this.localCenter.x-x.x,y:x.z+this.localCenter.y,z:x.y||0}}},{key:_0x4962("0xb03"),value:function(x){var _=this;esmap.ESMap[_0x4962("0xa03")]=!1;var t=this.mapView[_0x4962("0x547")][_0x4962("0x548")],i=this[_0x4962("0x1c6")].container.clientHeight;_[_0x4962("0x1c6")][_0x4962("0xa4c")](t,i),_[L[_0x4962("0x9c1")]][_0x4962("0x53f")](t,i),_[_0x4962("0x9c6")].updateText();e(155);var a=this[_0x4962("0x2b4")][_0x4962("0xb04")]("NCISKQ");Object.defineProperty(_,_0x4962("0xb05"),{value:a[_0x4962("0x5cd")],writable:!1,enumerable:!1,configurable:!0}),_[_0x4962("0xe5")](_0x4962("0xb06"),{}),_[_0x4962("0x9bc")]=!0,_[_0x4962("0x2b4")][_0x4962("0xb07")](),this.on(_0x4962("0x165"),(function(){_[_0x4962("0xb08")]()})),this.on(_0x4962("0x179"),(function(){var x=_.mapView[_0x4962("0x1f6")];x<=_[_0x4962("0x3b")][_0x4962("0xb09")]?_[_0x4962("0xaf7")]():x<=_[_0x4962("0x3b")][_0x4962("0xb09")]&&_[_0x4962("0xaac")]&&0!=_[_0x4962("0xaac")].popDiv_[_0x4962("0x25")].opacity&&(_[_0x4962("0xaac")][_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=0),_[_0x4962("0x9c6")].updateText()}));var n=this[_0x4962("0x2b4")]._gp(_0x4962("0xb0a"));if(n)if(n._cm()){var r=L[_0x4962("0xc1")];if((0,R[_0x4962("0x10e")])(_.id))_[L._ztl_][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1;else if(_[_0x4962("0x3b")][r]&&a[r]){esmap[_0x4962("0x8c")][_0x4962("0x89")](_0x4962("0xb0c")+a[_0x4962("0x5c1")]+_[_0x4962("0x3b")][r])===a[r]&&(_[L[_0x4962("0x9c1")]].sprite_.userData[_0x4962("0x17c")]=!1)}if(esmap.ESMapUtil[_0x4962("0x89")](a.minX+""+a[_0x4962("0x5bb")]+a[_0x4962("0x5ca")]+a[_0x4962("0x5cb")]+a[L[_0x4962("0xc0")]]+a[r]+ +a.bidnums+a[_0x4962("0x5be")]+_0x4962("0xb0d")+a.o1+a.ul)===a[L[_0x4962("0xbc")]]){if(!_[_0x4962("0xb0e")]&&a[L[_0x4962("0xc0")]]!=_0x4962("0xb0f"))if(esmap[_0x4962("0x8c")][_0x4962("0x89")](a._id+""+_[_0x4962("0x3b")][L[_0x4962("0xc0")]])!=a[L[_0x4962("0xc0")]]&&3==_[_0x4962("0x3b")][_0x4962("0x88")])return void _[_0x4962("0x2b4")]._sdu(0)}else _[_0x4962("0x2b4")]._sdu(0)}else _.tileService[_0x4962("0xb0b")](0)}},{key:"updateTileView",value:function(){if(this[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]&&(!this[_0x4962("0x7f")][_0x4962("0xac6")]&&!(this[_0x4962("0x1f6")]<=this.options[_0x4962("0xb09")])&&this.mapService[_0x4962("0x2b4")][_0x4962("0xb10")]())){(0==this[_0x4962("0x7f")].tileService[_0x4962("0xb11")][_0x4962("0x0")]||this[_0x4962("0x7f")].tileDisabled)&&this.mapService[_0x4962("0x2b4")][_0x4962("0xb07")]();for(var x=0;x<this[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0xf3")][_0x4962("0x0")];x++){var _=this[_0x4962("0x34")][_0x4962("0x41c")].children[x][_0x4962("0xf1")];_[_0x4962("0xf2")]&&(_.o3d_[_0x4962("0x17c")]&&_[_0x4962("0x264")][_0x4962("0xb12")].length>0&&(_.modelLoadManager.queueRanked=!1))}}}},{key:"unloadBuildingById",value:function(x){for(var _=this,e=0;e<_[_0x4962("0x34")][_0x4962("0xa34")].children[_0x4962("0x0")];e++){var t=_[_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0xf3")][e].datas_;if(t.isLoadedAll&&t.id==x){var i=_[_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0xf3")][e];i.visible=!1,i[_0x4962("0x17b")].remove(i);for(var a=0;a<_[_0x4962("0x687")][_0x4962("0x0")];a++)if(_[_0x4962("0x687")][a].id==i.datas_.id){_.buildingList[_0x4962("0x4")](a,1);break}i.datas_[_0x4962("0x213")]==esmap.ESBuildingType[_0x4962("0xb13")]&&_[_0x4962("0x2b4")].addToCache(i[_0x4962("0xf1")]);break}}}},{key:_0x4962("0xaca"),value:function(){for(var x=this,_=this._coordThreeToMapScene(this[_0x4962("0x260")][_0x4962("0x2c5")],!0),e=[],t=0;t<x.mapScene[_0x4962("0x41c")][_0x4962("0xf3")][_0x4962("0x0")];t++){var i=x[_0x4962("0x34")][_0x4962("0x41c")].children[t];if(i[_0x4962("0xf1")][_0x4962("0x131")]){var a=i[_0x4962("0xf1")][_0x4962("0x131")],n=i[_0x4962("0xf1")].id,r=(0,v[_0x4962("0x11d")])({x:a[0],y:a[1]},_);e[_0x4962("0x3")]({dis:r,id:n,index:t})}}e=e[_0x4962("0x46f")]((function(x,_){return _[_0x4962("0x6a2")]-x.dis}));for(var s=0;s<e[_0x4962("0x0")];s++){var o=x[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0xf3")][_0x4962("0x0")],c=e[s];if(!(x[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0x3cb")][_0x4962("0xaf")](c.id)>-1)){if(o<=x.options[_0x4962("0xb14")])break;for(var l=0;l<x[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0xf3")][_0x4962("0x0")];l++){var f=x[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0xf3")][l];if(f[_0x4962("0xf1")].id==c.id){f.visible=!1,x[_0x4962("0x34")].tileScene_[_0x4962("0x197")](f),l--,e[_0x4962("0x4")](s,1),s--,x.mapService.tileService[_0x4962("0xac8")][_0x4962("0xaf")](f.datas_)<0&&x[_0x4962("0x2b4")].addToCache(f[_0x4962("0xf1")]),x[_0x4962("0xe5")](_0x4962("0xaca"),{bid:f.datas_.id});break}}}}}},{key:_0x4962("0xb15"),value:function(){for(var x=this,_=0;_<x[_0x4962("0x34")].tileScene_[_0x4962("0xf3")].length;_++){var e=x[_0x4962("0x34")][_0x4962("0x41c")].children[_][_0x4962("0xf1")];if(e)for(var t={x:e[_0x4962("0x131")][0],y:e[_0x4962("0x131")][1]},i=0;i<x.mapService[_0x4962("0xa74")][_0x4962("0x0")];i++){if((0,v[_0x4962("0x11d")])(x[_0x4962("0x7f")][_0x4962("0xa74")][i],t)<=2*x[_0x4962("0x7f")].tileSize){new esmap.TWEEN.Tween(e[_0x4962("0xf2")][_0x4962("0x1fe")]).to({y:.15},1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x1b1")]();break}}}}},{key:_0x4962("0xb08"),value:(p=(0,s[_0x4962("0xc")])(r[_0x4962("0xc")].mark((function x(){var _,e,t,i,a,n,s,o;return r[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:if(!this[_0x4962("0x7f")]._disableTileUpdate){x[_0x4962("0x286")]=2;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 2:if(this[_0x4962("0x9bc")]&&!this[_0x4962("0x7f")][_0x4962("0xb16")]){x[_0x4962("0x286")]=4;break}return x.abrupt(_0x4962("0x28c"));case 4:if(!((_=this)[_0x4962("0x1f6")]<=_[_0x4962("0x3b")].tileShowLevel)){x.next=11;break}if(!(_.updateTile&&_[_0x4962("0x34")][_0x4962("0x41c")].children[_0x4962("0x0")]>0)){x[_0x4962("0x286")]=9;break}return _[_0x4962("0x34")].tileScene_[_0x4962("0x17c")]&&(_[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0x17c")]=!1),x[_0x4962("0x28b")](_0x4962("0x28c"));case 9:x[_0x4962("0x286")]=12;break;case 11:_.mapScene[_0x4962("0x41c")].visible||(_[_0x4962("0x34")].tileScene_[_0x4962("0x17c")]=!0);case 12:if(!(_[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xb11")][_0x4962("0x0")]>0)){x.next=45;break}_[_0x4962("0xb17")]||(_.handling=!0),e=_[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xb11")][_0x4962("0x224")](),t=!1,i=null,a=0;case 18:if(!(a<_.mapScene[_0x4962("0x41c")].children[_0x4962("0x0")])){x[_0x4962("0x286")]=27;break}if((n=_[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0xf3")][a])[_0x4962("0xf1")].id!=e){x[_0x4962("0x286")]=24;break}return t=!0,i=n,x.abrupt(_0x4962("0xaf5"),27);case 24:a++,x.next=18;break;case 27:if(t){x[_0x4962("0x286")]=42;break}s=_[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xac8")],o=0;case 30:if(!(o<s.length)){x[_0x4962("0x286")]=42;break}if(s[o].id!=e){x.next=39;break}return _[_0x4962("0x34")].tileScene_[_0x4962("0xda")](s[o].o3d_),s[o].o3d_.visible||(s[o][_0x4962("0xf2")][_0x4962("0x17c")]=!0),s[o][_0x4962("0x264")].queueRanked=!1,_[_0x4962("0x7f")].tileService[_0x4962("0xa39")](),_.mapService[_0x4962("0x2b4")].cachedTiles[_0x4962("0x4")](o,1),t=!0,x.abrupt(_0x4962("0xaf5"),42);case 39:o++,x[_0x4962("0x286")]=30;break;case 42:!t&&_[_0x4962("0x7f")].tileService[_0x4962("0xb18")].indexOf(e)<0?(_[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xb18")][_0x4962("0x3")](e),_.mapService[_0x4962("0x2b4")][_0x4962("0xb19")](e)):i&&!i[_0x4962("0x17c")]&&(i[_0x4962("0x17c")]=!0),x[_0x4962("0x286")]=46;break;case 45:_[_0x4962("0xb17")]&&(_.handling=!1);case 46:_[_0x4962("0x34")].tileScene_.children[_0x4962("0x0")]>_[_0x4962("0x3b")][_0x4962("0xb14")]&&0==_[_0x4962("0x7f")].tileService[_0x4962("0xb18")][_0x4962("0x0")]&&0==_.mapService[_0x4962("0x2b4")].currentView[_0x4962("0x0")]&&_[_0x4962("0xaca")]();case 47:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return p[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xb1a"),value:function(){var x=this.mapView;if(x.center){var _=x[_0x4962("0x2f0")]();if(_&&x[_0x4962("0xb1b")]){var e=x[_0x4962("0xb1b")],t=x[_0x4962("0xb1c")],i=void 0;i=t?{minx:t.x-e,miny:t.y-e,maxx:t.x+e,maxy:t.y+e}:{minx:this.minX-e,miny:this.minY-e,maxx:this[_0x4962("0x5ca")]+e,maxy:this[_0x4962("0x5cb")]+e};var a=!1;if(_.x<i[_0x4962("0xfd")]||_.x>i[_0x4962("0xf9")]||_.y<i[_0x4962("0xfe")]||_.y>i[_0x4962("0xfa")]){if(!x[_0x4962("0xb1d")])return;a=!0}else x[_0x4962("0xb1d")]=_,this[_0x4962("0x260")][_0x4962("0xb1e")]=this.controls[_0x4962("0x2c5")][_0x4962("0x126")](),this.controls[_0x4962("0xb1f")]=this[_0x4962("0x260")][_0x4962("0x9")].position[_0x4962("0x126")]();return a}}}},{key:_0x4962("0x9c3"),value:function(){var x=this;if(this[_0x4962("0xb1a")]()&&this[_0x4962("0x260")].lastTarget)return this[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x206")](this[_0x4962("0x260")][_0x4962("0xb1e")]),void this[_0x4962("0x260")].object[_0x4962("0x106")].copy(this[_0x4962("0x260")].lastCameraPosition);var _=this[_0x4962("0x1c6")][_0x4962("0x1f6")];if(null===F)F=_;else{var e=F[_0x4962("0x65f")](3),t=_[_0x4962("0x65f")](3);e!=t&&this[_0x4962("0xe5")](_0x4962("0x179"),1*t),F=_}if("3D"==this[_0x4962("0x9c4")]&&Math.PI,this.fire(_0x4962("0x193")),this[_0x4962("0xb20")]=!0,"3D"!=this[_0x4962("0x9c4")]&&(this[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")].x=this.mapView.cameraTop[_0x4962("0x106")].x,this.mapView[_0x4962("0x669")][_0x4962("0x106")].z=this[_0x4962("0x1c6")].cameraTop[_0x4962("0x106")].z,this[_0x4962("0x9c6")][_0x4962("0xb21")]()),this[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x41")]&&this.options[_0x4962("0xb22")]&&!esmap[_0x4962("0x33")].IsMapLoading&&!esmap.ESMap.isAnimating){var i=this[_0x4962("0x1c6")].getLocalCenter(),a=this[_0x4962("0x2b4")][_0x4962("0x68d")];if(this[_0x4962("0x1f6")]>=this[_0x4962("0x3b")].autoOpenLevel){var n=null,r=null;for(var s in this.isUsedOpenBuildingSign=!1,a){var o=a[s];if(!o.hold&&(!o.locked&&o[_0x4962("0x69a")])){var c=esmap[_0x4962("0x8c")][_0x4962("0x3dc")](i,o[_0x4962("0x69a")]);o[_0x4962("0xaf4")]?c||r||(r=o):c&&!n&&(n=o.bid,o[_0x4962("0xaf4")]=!0)}}n&&r&&(this[_0x4962("0xaf9")](r[_0x4962("0x130")]),r[_0x4962("0xaf4")]=!1),n&&this[_0x4962("0x9ff")](n)}else for(var l in a){var f=a[l];if(f.hold&&(f.hold=!1),!f.locked&&f[_0x4962("0xaf4")]){if(this[_0x4962("0x9e6")])continue;this[_0x4962("0xaf9")](f.bid),f[_0x4962("0xaf4")]=!1}}}P&&window.clearTimeout(P),P=setTimeout((function(){x[_0x4962("0xe5")](_0x4962("0xb23")),window[_0x4962("0x267")](P),P=null}),300);for(var d=this[_0x4962("0x260")][_0x4962("0xb24")](),u=D,h=0;h<this[_0x4962("0xaa4")][_0x4962("0x0")];h++)if(d<this[_0x4962("0xaa4")][h])return void((D=h-1)!=u&&this[_0x4962("0xe5")](_0x4962("0xb25"),{level:D,rate:d}))}},{key:_0x4962("0xa3e"),value:function(){this.__ob__&&!B&&(B=!0,k[_0x4962("0x37")][_0x4962("0x1dc")]({msg:_0x4962("0xb26"),level:_0x4962("0xe0")})),this[_0x4962("0x34")].updateCollide(this.mapView)}},{key:"setOriginCameraPosition",value:function(x){var _=x.focusFnum_,e=x[_0x4962("0xaf1")],i=x[_0x4962("0x3b")][_0x4962("0x131")]||x.center,a=this.coordMapToThree(i),n=this;if(x[_0x4962("0xb27")]&&e[_0x4962("0xb28")][_-1]){var r,s=x.box3_[_0x4962("0x6fe")](new THREE.Vector3),o=e[_0x4962("0xb28")][_-1][_0x4962("0xb29")],c=.75*s.x+o,l=i?new THREE.Vector3(a.x,o,a.z):new THREE.Vector3(0,o,0);r=new(THREE[_0x4962("0x12c")])(s.x,c,-s.x),this[_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x206")](r),this[_0x4962("0xb2a")]=l,this[_0x4962("0x260")].target[_0x4962("0x206")](l),n[_0x4962("0xab7")]=n[_0x4962("0x3b")][_0x4962("0x39a")],n[_0x4962("0xb2b")]=n.options.maxScaleLevel?n[_0x4962("0x3b")].maxScaleLevel>=n[_0x4962("0xaa4")][_0x4962("0x0")]?n[_0x4962("0xaa4")][_0x4962("0x0")]-1:n[_0x4962("0x3b")][_0x4962("0x39b")]:n[_0x4962("0xaa4")].length-1;var f=new(THREE[_0x4962("0x12c")]),d=this[_0x4962("0x260")][_0x4962("0x9")][_0x4962("0x106")].distanceTo(f);if(this[_0x4962("0x260")].initDistance_=d,this[_0x4962("0x260")][_0x4962("0xb2c")]=esmap[_0x4962("0x8c")][_0x4962("0x66f")](this[_0x4962("0x1c6")][_0x4962("0x669")],this[_0x4962("0x260")],d)[_0x4962("0x35c")],n[_0x4962("0x260")].initScaleLevel(n[_0x4962("0xaa4")][n[_0x4962("0xab7")]],n[_0x4962("0xaa4")][n.maxScaleLevel_],!0),this[_0x4962("0x3b")][_0x4962("0xb2d")]){var u=this[_0x4962("0x3b")][_0x4962("0xb2d")],h=0;switch(void 0===u?_0x4962("0x21"):(0,t[_0x4962("0xc")])(u)){case _0x4962("0xd"):switch(u){case"n":h=Math.PI;break;case"s":default:h=0;break;case"w":h=-Math.PI/2;break;case"e":h=Math.PI/2;break;case"ne":h=.75*Math.PI;break;case"nw":h=1.25*Math.PI;break;case"se":h=Math.PI/4;break;case"sw":h=-Math.PI/4}this[_0x4962("0x3b")].viewMode,esmap[_0x4962("0x62d")][_0x4962("0xa9b")],this[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:h});break;case _0x4962("0x18a"):this.controls[_0x4962("0x165")]({forceTheta:u*THREE[_0x4962("0x20e")][_0x4962("0x599")]});break;case _0x4962("0x9"):var g=this[_0x4962("0x3b")][_0x4962("0xb2d")][_0x4962("0x2c5")][_0x4962("0x2d")](","),b=this[_0x4962("0x3b")][_0x4962("0xb2d")][_0x4962("0x106")][_0x4962("0x2d")](","),v=new THREE.Vector3(parseFloat(g[0]),parseFloat(g[1]),parseFloat(g[2])),p=new(THREE[_0x4962("0x12c")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]));return this[_0x4962("0x260")][_0x4962("0x2c5")].copy(v),this[_0x4962("0x260")][_0x4962("0x9")].position[_0x4962("0x206")](p),this.controls[_0x4962("0x165")](),!0}}if(this.options[_0x4962("0x2")](_0x4962("0x391"))&&null!=this[_0x4962("0x3b")][_0x4962("0x391")]){var m=(180-this.options[_0x4962("0x391")])*Math.PI/180;this.controls[_0x4962("0x165")]({forceTheta:m})}else if(!this[_0x4962("0x3b")][_0x4962("0xb2d")]){var A=Math.PI;this.controls.update({forceTheta:A})}return null!=this[_0x4962("0x3b")][_0x4962("0x392")]&&(this[_0x4962("0x330")]=this[_0x4962("0x3b")][_0x4962("0x392")]),this[_0x4962("0x6f1")]=0,!1}}},{key:"sl",value:function(){for(var x=this.mapView[_0x4962("0x9c2")][_0x4962("0xf3")],_=null,e=0;e<x.length;e++)x[e][_0x4962("0x166")].visible&&(_=x[e]);if(!_)return 9568297;for(var t=_[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x326")]?_.material[_0x4962("0x48")][_0x4962("0x326")][_0x4962("0x4ee")]:"",i=t[_0x4962("0x0")],a=0,n=0;n<i;n++)a+=t[n].charCodeAt();return parseInt(a,16)}},{key:_0x4962("0xb2e"),value:function(x){this[_0x4962("0x695")]=x,this[_0x4962("0x34")][_0x4962("0xb2f")][_0x4962("0xda")](x[_0x4962("0xf2")]),this[_0x4962("0x194")].addObject(x[_0x4962("0xf2")])}},{key:"removeLocationMarker",value:function(x){this.locationMarker=null,x.dispose()}},{key:_0x4962("0xb30"),value:function(x){return this[_0x4962("0x34")].getO3dScene().getObjectByName(x)}},{key:_0x4962("0xb31"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{bid:0,fnum:1},_=this[_0x4962("0x1c6")].w_/2,e=this.mapView.h_/2,t=void 0,i=this[_0x4962("0x139")](x[_0x4962("0x130")]);i?t=i[_0x4962("0x2da")](x[_0x4962("0x132")]):(i=this[_0x4962("0x310")](x.bid),t=0);var a=this[_0x4962("0xa5a")](_,e,t);return a.z+=1,a}},{key:_0x4962("0xa5b"),value:function(x,_){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!this[_0x4962("0xb32")])return null;var t,i=this.currentCamera||this[_0x4962("0x1c6")][_0x4962("0x669")];t=new(THREE[_0x4962("0x12c")])(x/this[_0x4962("0x1c6")].w_*2-1,1-_/this[_0x4962("0x1c6")].h_*2,.5);var a=new(THREE[_0x4962("0x528")]);a[_0x4962("0xb33")](t,i),this[_0x4962("0xb32")][_0x4962("0x106")].y=e,this[_0x4962("0xb32")].updateMatrixWorld();var n=a.intersectObject(this.plane_);return n[_0x4962("0x0")]>0?n[0][_0x4962("0x303")]:null}},{key:_0x4962("0xa5a"),value:function(x,_){var e=arguments[_0x4962("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0,t=this[_0x4962("0xa5b")](x,_,e);return t?this[_0x4962("0x208")](t):null}},{key:_0x4962("0xb34"),value:function(x,_,e){var t=this[_0x4962("0x3ec")],i=this[_0x4962("0x237")]({x:x,y:_,z:e||0});i[_0x4962("0xb35")](t);var a=this.mapView[_0x4962("0xb36")],n=this[_0x4962("0x1c6")][_0x4962("0xb37")];return{x:i.x*a+a,y:n-i.y*n}}},{key:_0x4962("0xb38"),value:function(x){var _=new(THREE[_0x4962("0x12c")]);_.setFromMatrixPosition(x[_0x4962("0x3ee")]),_[_0x4962("0xb35")](this[_0x4962("0x3ec")]);var e=_.x*this[_0x4962("0x1c6")][_0x4962("0xb36")],t=_.y*this[_0x4962("0x1c6")].h_2_;return{x:e+this[_0x4962("0x1c6")][_0x4962("0xb36")],y:-t+this.mapView[_0x4962("0xb37")]}}},{key:_0x4962("0xb39"),value:function(x){var _=[this[_0x4962("0xaff")]()][_0x4962("0x12")](this[_0x4962("0x687")]);for(var e in _){var t=_[e].o3dFloors_;for(var i in t)for(var a=t[i][_0x4962("0xf3")],n=0;n<a[_0x4962("0x0")];n++)if(a[n][_0x4962("0x107")]==_0x4962("0xb3a")&&a[n][_0x4962("0x166")].id===x)return a[n][_0x4962("0xf1")]}return null}},{key:_0x4962("0xb3b"),value:function(x){var _=[this[_0x4962("0xaff")]()].concat(this[_0x4962("0x687")]);for(var e in _){var t=_[e].o3dFloors_;for(var i in t)for(var a=t[i][_0x4962("0xf3")],n=0;n<a[_0x4962("0x0")];n++)if(a[n][_0x4962("0x107")]==_0x4962("0xb3a")&&a[n].userData.id===x)return a[n][_0x4962("0xf1")][_0x4962("0x2e3")](),!0}}},{key:_0x4962("0xb3c"),value:function(){var x=[this[_0x4962("0xaff")]()][_0x4962("0x12")](this[_0x4962("0x687")]);for(var _ in x){var e=x[_][_0x4962("0x680")];for(var t in e)for(var i=e[t][_0x4962("0xf3")],a=0;a<i.length;a++)i[a][_0x4962("0x107")]==_0x4962("0xb3a")&&i[a][_0x4962("0xf1")][_0x4962("0x4fc")]!==_0x4962("0xb3d")&&(i[a].datas_[_0x4962("0x2e3")](),a--)}}},{key:"stopRender",value:function(){this.fire(_0x4962("0xb3e"))}},{key:_0x4962("0xb3f"),value:function(){this[_0x4962("0xe5")](_0x4962("0xb3f"))}},{key:"forceLoadTiles",value:function(x){var _=this,e=this[_0x4962("0x2b4")][_0x4962("0xb40")][_0x4962("0x0")],t=0;this[_0x4962("0x3b")][_0x4962("0xb14")]=x.number,this[_0x4962("0x2b4")].Tilelimit=(Math.floor(Math[_0x4962("0x120")](this[_0x4962("0x3b")][_0x4962("0xb14")]))-1)/2,this[_0x4962("0x2b4")][_0x4962("0xb41")](x[_0x4962("0x18a")]),this.on(_0x4962("0xb42"),(function(){_.tileService[_0x4962("0xb43")]&&_[_0x4962("0x2b4")][_0x4962("0xb43")][_0x4962("0x0")]>0?_[_0x4962("0x2b4")].forceLoadSecond():x.onComplete&&x[_0x4962("0x1b0")]()})),this.on(_0x4962("0xb44"),(function(){var _=(t+=1)/e;x[_0x4962("0xb45")]&&x.onProgress(_)}))}},{key:"rotateTo",value:function(x){var _=this;return new(o[_0x4962("0xc")])((function(e){var t=_;_0x4962("0x18a")==typeof x&&(x={angle:x});var i,a=(0,v[_0x4962("0x14")])(x,_0x4962("0x1a5"),_0x4962("0x1a8"),.3),n=t[_0x4962("0x230")],r=function(x,_){var e=_-x;return Math[_0x4962("0x231")](e)>180&&(e=-1*(0,l.default)(e)*360+e),e}(n,x.angle);t[_0x4962("0xb46")]&&t[_0x4962("0xb46")][_0x4962("0x1b2")](),t[_0x4962("0xb46")]=new(esmap.TWEEN[_0x4962("0x1a7")])({value:0}).to({value:1},1e3*a)[_0x4962("0x1a9")](esmap.TWEEN.Easing[_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x){x=x[_0x4962("0xe3")],(i=n+r*x)<=0?i=360+i:i>=360&&(i-=360),t[_0x4962("0x230")]=i})).onComplete((function(){x[_0x4962("0x1b0")]&&x.onComplete(),e()})).start()}))}},{key:_0x4962("0xb47"),set:function(x){var _=this;if(x){_[_0x4962("0x260")].enabled=!1;var e=_[_0x4962("0x3ec")][_0x4962("0x106")][_0x4962("0x126")]();_.controls[_0x4962("0x2d3")](),_[_0x4962("0x260")][_0x4962("0x32f")]();_[_0x4962("0x260")].targettocamera=e[_0x4962("0x126")]().sub(_[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x126")]()).length(),_[_0x4962("0x65e")][_0x4962("0x961")]=_.rotateAngle+90,_[_0x4962("0x65e")][_0x4962("0x989")]=-(90-_.tiltAngle),_[_0x4962("0x65e")][_0x4962("0x710")]=!0}else{var t=_[_0x4962("0x3ec")][_0x4962("0x106")][_0x4962("0x126")](),i=_.firstPersonControls[_0x4962("0x2c5")][_0x4962("0x126")]();_[_0x4962("0x65e")][_0x4962("0x710")]=!1,_[_0x4962("0x260")][_0x4962("0x710")]=!0,_[_0x4962("0x230")]=_.firstPersonControls[_0x4962("0x961")]-90,_[_0x4962("0x330")]=_.firstPersonControls[_0x4962("0x989")]+90,_[_0x4962("0x3ec")][_0x4962("0x106")][_0x4962("0x206")](t);var a=i[_0x4962("0x52d")](t);a[_0x4962("0x30e")]();var n=t[_0x4962("0x126")]().add(a[_0x4962("0x126")]()[_0x4962("0x250")](_[_0x4962("0x260")][_0x4962("0xb48")]));_[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x206")](n),_.currentCamera[_0x4962("0x240")](n),_[_0x4962("0x260")].update()}},get:function(){return!(!this[_0x4962("0x65e")]||!this[_0x4962("0x65e")][_0x4962("0x710")])}},{key:_0x4962("0xb49"),set:function(x){x?(this[_0x4962("0x260")][_0x4962("0x710")]=!1,this[_0x4962("0x9db")][_0x4962("0x710")]=!0):(this[_0x4962("0x260")][_0x4962("0x710")]=!0,this[_0x4962("0x9db")][_0x4962("0x710")]=!1)},get:function(){return!(!this[_0x4962("0x9db")]||!this[_0x4962("0x9db")][_0x4962("0x710")])}},{key:_0x4962("0xb4a"),set:function(x){x?(this[_0x4962("0x260")][_0x4962("0x710")]=!1,this[_0x4962("0x9dd")][_0x4962("0x710")]=!0,this[_0x4962("0x9dd")].lock()):(this[_0x4962("0x260")][_0x4962("0x710")]=!0,this[_0x4962("0x9dd")].enabled=!1,this[_0x4962("0x9dd")][_0x4962("0xb4b")]())},get:function(){return!(!this[_0x4962("0x9dd")]||!this[_0x4962("0x9dd")].enabled)}},{key:_0x4962("0x2b4"),get:function(){return this[_0x4962("0x7f")].tileService}},{key:_0x4962("0xb4c"),get:function(){return this[_0x4962("0x7f")].buildingService}},{key:_0x4962("0x257"),get:function(){return this[_0x4962("0x9e3")]}},{key:_0x4962("0xb4d"),get:function(){return v[_0x4962("0x9df")][_0x4962("0xb4e")]}},{key:"fullScreen",get:function(){return v.FullScreen[_0x4962("0xb4f")]},set:function(x){x?v[_0x4962("0x9df")][_0x4962("0xb50")](this[_0x4962("0x1c6")][_0x4962("0x547")]):v[_0x4962("0x9df")].cancel()}},{key:_0x4962("0x3c"),get:function(){return this.options[_0x4962("0x3c")]}},{key:_0x4962("0xb51"),get:function(){for(var x=this.mapScene.buildingScene_[_0x4962("0xf3")],_=[],e=0;e<x[_0x4962("0x0")];e++)x[e][_0x4962("0x17c")]&&_[_0x4962("0x3")](x[e][_0x4962("0xf1")]);return _}},{key:"lineStyle",set:function(x){x[_0x4962("0x2")]("color")&&(this.mapTheme[_0x4962("0xb52")][_0x4962("0x147")]=x.color),x[_0x4962("0x2")]("lineWidth")&&(this[_0x4962("0x13e")][_0x4962("0xb52")][_0x4962("0x160")]=x[_0x4962("0x160")]),x[_0x4962("0x2")](_0x4962("0x12e"))&&(this[_0x4962("0x13e")][_0x4962("0xb52")][_0x4962("0x12e")]=x.alpha),x[_0x4962("0x2")](_0x4962("0x12e"))&&(this[_0x4962("0x13e")][_0x4962("0xb52")][_0x4962("0x12e")]=x[_0x4962("0x12e")]),x[_0x4962("0x2")]("dash")&&x.dash.hasOwnProperty("size")&&(this[_0x4962("0x13e")][_0x4962("0xb52")][_0x4962("0xb53")][_0x4962("0xdd")]=x[_0x4962("0xb53")][_0x4962("0xdd")]),x[_0x4962("0x2")](_0x4962("0xb53"))&&x[_0x4962("0xb53")][_0x4962("0x2")](_0x4962("0xb54"))&&(this[_0x4962("0x13e")][_0x4962("0xb52")][_0x4962("0xb53")].gap=x[_0x4962("0xb53")][_0x4962("0xb54")])},get:function(){return this[_0x4962("0x13e")].navigateStyle_}},{key:_0x4962("0x5b8"),get:function(){return this[_0x4962("0x34")][_0x4962("0xb55")]}},{key:_0x4962("0x5ca"),get:function(){return this[_0x4962("0x34")][_0x4962("0xb56")]}},{key:_0x4962("0x5bb"),get:function(){return this[_0x4962("0x34")][_0x4962("0xb57")]}},{key:"maxY",get:function(){return this[_0x4962("0x34")][_0x4962("0xb58")]}},{key:_0x4962("0x21e"),get:function(){return this[_0x4962("0x260")][_0x4962("0xb59")]?this[_0x4962("0x260")].getCurrentScaleLevel():24-this[_0x4962("0x1f6")]},set:function(x){D=Math[_0x4962("0xff")](x),null!=this[_0x4962("0xaa4")][D]&&this[_0x4962("0x260")][_0x4962("0xab5")]&&this.controls[_0x4962("0xab5")](this[_0x4962("0xaa4")][D])}},{key:_0x4962("0x39a"),get:function(){return this[_0x4962("0xab7")]},set:function(x){this[_0x4962("0xab6")](x,this[_0x4962("0xb2b")])}},{key:_0x4962("0x39b"),get:function(){return this[_0x4962("0xb2b")]},set:function(x){this[_0x4962("0xab6")](this[_0x4962("0xab7")],x)}},{key:"scaleLevelValue",get:function(){return this[_0x4962("0x260")][_0x4962("0xb24")]()},set:function(x){this[_0x4962("0x260")][_0x4962("0xab5")](x)}},{key:_0x4962("0xb5a"),get:function(){return{x:-this[_0x4962("0x1c6")][_0x4962("0x131")].x,y:this[_0x4962("0x1c6")][_0x4962("0x131")].y}}},{key:_0x4962("0xb5b"),get:function(){return this[_0x4962("0x1c6")][_0x4962("0x2f0")]()}},{key:"center",get:function(){return{x:-this[_0x4962("0x1c6")].center.x,y:this[_0x4962("0x1c6")].center.y}}},{key:_0x4962("0xb5c"),get:function(){return this[_0x4962("0x2b4")][_0x4962("0x68d")]}},{key:_0x4962("0xb5d"),get:function(){return this[_0x4962("0x260")][_0x4962("0xb5d")]*THREE[_0x4962("0x20e")][_0x4962("0x6ac")]},set:function(x){this[_0x4962("0x260")][_0x4962("0xb5d")]=x*THREE[_0x4962("0x20e")][_0x4962("0x599")],this[_0x4962("0xe5")](_0x4962("0xb5e"),x)}},{key:_0x4962("0x387"),set:function(x){var _=x,e=!1,i=!1;if("string"==typeof x){if("2D"!=(x=x[_0x4962("0xb5f")]())&&"3D"!=x)return void console[_0x4962("0xe0")](_0x4962("0xb60"))}else{if("2D"!=x[_0x4962("0x3c")]&&"3D"!=x[_0x4962("0x3c")])return void _0x4962("0xb60");e=x[_0x4962("0x39")],i=x[_0x4962("0xb61")]}if(!(e&&window[_0x4962("0xe7")][_0x4962("0xb62")]&&"2D"==x.mode||x==this[_0x4962("0x387")]))if(i||e||this[_0x4962("0x3b")].editMode||1!=this[_0x4962("0x34")][_0x4962("0x41c")].visible||!window[_0x4962("0xe7")].tileMapInited){if(!this[_0x4962("0x9e7")]){var a=null,n=null;if(_0x4962("0x9")==(typeof _===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(_))&&(a=_[_0x4962("0x1a5")],n=_[_0x4962("0x1b3")],_=_.mode),_!=this[_0x4962("0x9c4")]){var r=this;r.__viewModeAnimating=!0;var s=this[_0x4962("0x1c6")][_0x4962("0x669")],o=this[_0x4962("0x1c6")].cameraTop;"3D"==this.viewMode_?(r[_0x4962("0xb64")]=r[_0x4962("0x260")][_0x4962("0x32f")](),esmap.TWEEN.fadeTo(null!=a?a:r[_0x4962("0x3b")][_0x4962("0xb65")]?r.options[_0x4962("0x394")]:0,(function(x){r[_0x4962("0x260")][_0x4962("0x165")]({forcePhi:r[_0x4962("0xb64")]-r[_0x4962("0xb64")]*x.value}),r[_0x4962("0xb20")]=!0}),null,(function(){r.controls[_0x4962("0x9")]=r[_0x4962("0x1c6")][_0x4962("0xa58")],r[_0x4962("0x260")].minPolarAngle=0,r.controls.maxPolarAngle=0,r[_0x4962("0x3ec")]=r[_0x4962("0x1c6")][_0x4962("0xa58")],r[_0x4962("0x260")].update({forceTheta:r[_0x4962("0x260")][_0x4962("0x2d3")]()+Math.PI,notChangeCompass:!0}),r[_0x4962("0x260")].object=r[_0x4962("0x1c6")][_0x4962("0xa58")],r[_0x4962("0x260")][_0x4962("0xb5d")]=0,r[_0x4962("0x1c6")][_0x4962("0xa58")].position[_0x4962("0x206")](s[_0x4962("0x106")]),r[_0x4962("0x260")][_0x4962("0x165")](),function(x){var e=esmap[_0x4962("0x8c")][_0x4962("0x66f")](s,x[_0x4962("0x260")]);o[_0x4962("0x66a")]=1,o[_0x4962("0x35e")]=-e[_0x4962("0x361")],o[_0x4962("0x361")]=e[_0x4962("0x361")],o[_0x4962("0x35c")]=e[_0x4962("0x35c")],o.bottom=-e[_0x4962("0x35c")],o[_0x4962("0x92f")](),_&&(x[_0x4962("0x9c4")]=_),x[_0x4962("0x9e7")]=!1}(r),n&&n(r.viewMode_),r[_0x4962("0xe5")]("viewModeChanged",r[_0x4962("0x9c4")]),r.controls[_0x4962("0xb2c")]||(r[_0x4962("0x260")][_0x4962("0xb2c")]=r[_0x4962("0x1c6")].cameraTop[_0x4962("0x35c")]),r.controls[_0x4962("0xaa5")]||(r[_0x4962("0x260")][_0x4962("0xaa5")]=r[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x23a")](r[_0x4962("0x260")][_0x4962("0x9")][_0x4962("0x106")]))}))):(r[_0x4962("0x260")][_0x4962("0x9")]=r[_0x4962("0x1c6")][_0x4962("0x669")],r[_0x4962("0x260")][_0x4962("0xb66")]=0,r[_0x4962("0x260")][_0x4962("0xb5d")]=Math.PI/2.5,r.currentCamera=r[_0x4962("0x1c6")].camera,r.controls[_0x4962("0x165")]({forceTheta:r[_0x4962("0x260")][_0x4962("0x2d3")](),notChangeCompass:!0}),esmap[_0x4962("0x1a6")][_0x4962("0x6d6")](null!=a?a:r[_0x4962("0x3b")][_0x4962("0xb65")]?r[_0x4962("0x3b")][_0x4962("0x394")]:0,(function(x){r[_0x4962("0x260")].update({forcePhi:r.__lastPhi*x[_0x4962("0xe3")]}),r[_0x4962("0xb20")]=!0}),null,(function(){n&&n(r[_0x4962("0x9c4")]),r[_0x4962("0x9e7")]=!1})),function(x){var e=o[_0x4962("0x66a")],t=x[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x23a")](s[_0x4962("0x106")]),i=s[_0x4962("0x106")][_0x4962("0x126")]()[_0x4962("0x52d")](x.controls.target)[_0x4962("0x30e")]();s[_0x4962("0x106")].copy(x[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x126")]()[_0x4962("0xda")](i.multiplyScalar(t/e))),s[_0x4962("0x92f")](),x[_0x4962("0x9c4")]=_}(r),r[_0x4962("0xe5")](_0x4962("0x9e2"),r[_0x4962("0x9c4")])),this[_0x4962("0x6f1")]=0}}}else{"2D"==x&&(this[_0x4962("0xb63")]=this[_0x4962("0x330")]);var c="2D"==x?.01:this.lastTiltAngle;this[_0x4962("0xab1")]({angle:c,callback:function(){}})}},get:function(){return this[_0x4962("0x9c4")]}},{key:_0x4962("0xb67"),set:function(x){var _=this;if(x!=this[_0x4962("0x13e")].themeName_){if(_[_0x4962("0x13e")][_0x4962("0xb68")]=x,!_[_0x4962("0xb69")])return;_[_0x4962("0x13e")][_0x4962("0xb6a")]=x;this[_0x4962("0x3b")][_0x4962("0xb6b")];this[_0x4962("0xb4c")].queryBuildingTheme({themeID:x,buildingId:_.sceneId_})[_0x4962("0x2dd")]((function(e){_[_0x4962("0x13e")][_0x4962("0xb6c")](e,x)}))}},get:function(){return this[_0x4962("0x13e")][_0x4962("0xb68")]}},{key:"backgroundColor",set:function(x){this[_0x4962("0x1c6")][_0x4962("0x364")].setClearColor(parseInt(x))}},{key:_0x4962("0xb6d"),get:function(){var x=this[_0x4962("0x7f")].getState(L[_0x4962("0xbb")]);return new Date(x)[_0x4962("0x6be")]()>=2059?"é¿æææ":esmap[_0x4962("0x8c")].timestampToTime(x)}},{key:_0x4962("0xb6e"),set:function(x){x!=this[_0x4962("0x9c6")][_0x4962("0x17c")]&&(this[_0x4962("0x9c6")][_0x4962("0x17c")]=x)},get:function(){return this.scaler_[_0x4962("0x17c")]}},{key:_0x4962("0xb6f"),get:function(){return Math.ceil(this[_0x4962("0x1c6")][_0x4962("0x1f6")])}},{key:_0x4962("0x1f6"),get:function(){return this[_0x4962("0x1c6")][_0x4962("0x1f6")]},set:function(x){this[_0x4962("0x1c6")][_0x4962("0x1f6")]=x}},{key:_0x4962("0x388"),get:function(){return this[_0x4962("0x1c6")][_0x4962("0xb70")].castShadow},set:function(x){this[_0x4962("0x1c6")][_0x4962("0xb70")][_0x4962("0xb71")]=x}},{key:"id",set:function(x){this[_0x4962("0xb69")]=x},get:function(){return this[_0x4962("0xb69")]}},{key:_0x4962("0x67e"),get:function(){for(var x=[],_=0;_<this.mapScene[_0x4962("0x41c")][_0x4962("0xf3")][_0x4962("0x0")];_++)x.push(this.mapScene[_0x4962("0x41c")][_0x4962("0xf3")][_][_0x4962("0xf1")]);return x}},{key:"Name",get:function(){return this[_0x4962("0x7f")].getState(_0x4962("0xb72"))}},{key:_0x4962("0xb73"),get:function(){return this[_0x4962("0x7f")][_0x4962("0x80")](_0x4962("0xb74"))}},{key:_0x4962("0x330"),get:function(){return this[_0x4962("0x260")][_0x4962("0x32f")]()*THREE.Math.RAD2DEG},set:function(x){(x=x*Math.PI/180)<this[_0x4962("0x260")][_0x4962("0xb66")]&&(x=this[_0x4962("0x260")][_0x4962("0xb66")]),x>this.controls[_0x4962("0xb5d")]&&(x=this[_0x4962("0x260")][_0x4962("0xb5d")]),this[_0x4962("0x260")][_0x4962("0x165")]({forcePhi:x}),this[_0x4962("0x6f1")]=0}},{key:_0x4962("0x230"),get:function(){var x=this.controls[_0x4962("0x2d3")]();return(Math.PI-x)*THREE[_0x4962("0x20e")][_0x4962("0x6ac")]},set:function(x){x=-x*THREE[_0x4962("0x20e")][_0x4962("0x599")],this[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:x+Math.PI}),this[_0x4962("0x6f1")]=0}},{key:_0x4962("0x1ce"),get:function(){return this.mapView.w_}},{key:_0x4962("0x1a4"),get:function(){return this[_0x4962("0x1c6")].h_}},{key:_0x4962("0xb75"),set:function(x){this[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0xb76")]=x},get:function(){return this[_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0xb76")]}}]),_}(p[_0x4962("0xc")]);z.tempFlipX_=!0,z.IsMapLoading=!1,z.id=1,_[_0x4962("0xc")]=z},,,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=g(e(38)),i=g(e(5)),a=g(e(0)),n=g(e(1)),r=g(e(10)),s=g(e(11)),o=g(e(286)),c=g(e(288)),l=g(e(108)),f=g(e(145)),d=e(42),u=g(e(291)),h=e(109);function g(x){return x&&x.__esModule?x:{default:x}}e(296);var b=function(x){var _,e=[];x[_0x4962("0x104")]((function(x){e.push(x)}));for(var t=0,i=e[_0x4962("0x0")];t<i;t++)x.remove(e[t]),(_=e[t])&&(_[_0x4962("0xf5")]?(_[_0x4962("0xf5")](),_=null):(_[_0x4962("0xf6")]&&!_[_0x4962("0xf6")][_0x4962("0xb77")]&&(_[_0x4962("0xf6")]instanceof Array?_[_0x4962("0xf6")][_0x4962("0x20")]((function(x){x[_0x4962("0x48")]&&(x[_0x4962("0x48")][_0x4962("0xf5")](),x[_0x4962("0x48")]=void 0),x[_0x4962("0xf5")](),x=void 0})):(_[_0x4962("0xf6")][_0x4962("0xf5")](),_.material=void 0)),_.geometry&&(_[_0x4962("0xf4")].dispose(),_[_0x4962("0xf4")]=null),_=null));e=null},v=function(x){function _(x){(0,a[_0x4962("0xc")])(this,_);var e=(0,r[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,i[_0x4962("0xc")])(_))[_0x4962("0xf")](this));return e[_0x4962("0xb78")]=.01,e[_0x4962("0xb79")]=new(THREE[_0x4962("0x1ea")]),e[_0x4962("0xb7a")]=0,e[_0x4962("0xb7b")]=0,e.init(x),e}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:"init",value:function(x){var _=this;this[_0x4962("0xb7c")]=null,this[_0x4962("0xb7d")]=!1,this[_0x4962("0x3b")]=new(h[_0x4962("0xb7e")])(x),this.mapView=new o.default(this),this.mapView[_0x4962("0x39")]()&&(this[_0x4962("0x3ec")]=this[_0x4962("0x1c6")][_0x4962("0x669")],this.currentCamera[_0x4962("0x106")][_0x4962("0xd8")](30,30,30),this.controls=new(THREE[_0x4962("0xb7f")])(this[_0x4962("0x1c6")][_0x4962("0x669")],this[_0x4962("0x1c6")][_0x4962("0x547")]),x.mouseReverse&&(this[_0x4962("0x260")][_0x4962("0xb80")]={LEFT:THREE[_0x4962("0xb81")][_0x4962("0xb82")],MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE[_0x4962("0xb81")][_0x4962("0xb83")]}),this[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x25e")]("wheel",(function(x){x.preventDefault()})),this.mapPicker=new(c[_0x4962("0xc")])(this),this[_0x4962("0x194")][_0x4962("0x398")]=x.hoverMode,this.cameraPenetration=x[_0x4962("0xb84")]||!0,this.maintimer=new(THREE[_0x4962("0x1ea")]),this.compass=new(u[_0x4962("0xc")])(!1,this.mapView[_0x4962("0x9c2")],this[_0x4962("0x3b")]),this[_0x4962("0xb85")](),this[_0x4962("0x1c6")].updateSize(),this.update(),this.on(_0x4962("0xe0"),(function(){window[_0x4962("0xb86")](_.renderID)})),this.on(_0x4962("0xb3e"),(function(){_[_0x4962("0xb7d")]=!0})),this.on("reRender",(function(){_[_0x4962("0xb7d")]=!1})))}},{key:_0x4962("0xb87"),value:function(){var x=this;THREE[_0x4962("0x7d9")]=null,x[_0x4962("0xe5")](_0x4962("0xf5")),x[_0x4962("0xa21")](),x[_0x4962("0x379")](),cancelAnimationFrame(x.renderID);var _=this[_0x4962("0x1c6")][_0x4962("0x2e6")],e=this.mapView[_0x4962("0x364")];x.mapPicker[_0x4962("0xf5")](),(0,d[_0x4962("0xeb")])(_),x.controls[_0x4962("0xf5")]();var i=x.mapView[_0x4962("0x336")][_0x4962("0x337")](_0x4962("0x513"));i||(i=x[_0x4962("0x1c6")][_0x4962("0x336")][_0x4962("0x337")]("webgl2")),i.clear(i[_0x4962("0xb88")]);for(var a=0;a<x[_0x4962("0x67e")][_0x4962("0x0")];a++)x[_0x4962("0x67e")][a]=null;for(var n=0;n<x[_0x4962("0x687")][_0x4962("0x0")];n++)x[_0x4962("0x687")][n]=null;(0,t.default)(x[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0xf3")])[_0x4962("0x20")]((function(_){x[_0x4962("0x1c6")][_0x4962("0x547")].removeChild(_)})),e[_0x4962("0x1c8")]=void 0,esmap[_0x4962("0x33")][_0x4962("0x3a")]=null,THREE[_0x4962("0xb89")].clear()}},{key:_0x4962("0xb8a"),value:function(){for(var x in this.mapService[_0x4962("0xac6")]=!0,this[_0x4962("0x194")][_0x4962("0x3fb")])this[_0x4962("0x194")][_0x4962("0x3fb")][x][_0x4962("0x0")]=0;for(var _=0;_<this[_0x4962("0x34")].tileScene_.children[_0x4962("0x0")];_++)b(this.mapScene[_0x4962("0x41c")][_0x4962("0xf3")][_]);this[_0x4962("0x34")].tileScene_.children[_0x4962("0x0")]=0,this[_0x4962("0x67e")][_0x4962("0x0")]=0}},{key:_0x4962("0xb8b"),value:function(x){this[_0x4962("0x3b")].center.x=x.x,this[_0x4962("0x3b")][_0x4962("0x131")].y=x.y,this[_0x4962("0x131")].x=x.x,this[_0x4962("0x131")].y=x.y,x.x>0?(this[_0x4962("0x34")][_0x4962("0x2e7")]=-x.x,this.mapView[_0x4962("0x131")].x=-x.x):(this[_0x4962("0x34")][_0x4962("0x2e7")]=x.x,this[_0x4962("0x1c6")][_0x4962("0x131")].x=x.x),this[_0x4962("0x34")][_0x4962("0x2e8")]=x.y,this.mapView.center.y=x.y,this.mapService._disableTileUpdate=!1,this[_0x4962("0x331")](x),esmap[_0x4962("0x6b0")]&&esmap.ESTileMap.tileMapView&&esmap[_0x4962("0x6b0")][_0x4962("0xb8c")][_0x4962("0xb8d")]()}},{key:_0x4962("0xb8e"),value:function(x){var _=this[_0x4962("0x260")][_0x4962("0x9bf")];this[_0x4962("0x260")][_0x4962("0xf5")](),this[_0x4962("0xb8f")](x);var e=esmap[_0x4962("0x33")][_0x4962("0x3a")];e&&x.addEventListener(_0x4962("0xb90"),e[_0x4962("0x9c3")][_0x4962("0xe")](this)),this[_0x4962("0x260")]=x,this[_0x4962("0x260")][_0x4962("0x9bf")]=_,this.gestureController_&&(this.gestureController_[_0x4962("0xb91")]=x),this[_0x4962("0x3b")].mouseReverse&&(this.controls[_0x4962("0xb80")]={LEFT:THREE[_0x4962("0xb81")][_0x4962("0xb82")],MIDDLE:THREE[_0x4962("0xb81")][_0x4962("0xb92")],RIGHT:THREE[_0x4962("0xb81")][_0x4962("0xb83")]}),this[_0x4962("0xe5")]("controlsReseted")}},{key:_0x4962("0xb85"),value:function(){var x,_,e,t,i,a=this;a[_0x4962("0x194")][_0x4962("0xb85")](a),this[_0x4962("0x194")].on("pickedObjects",(function(x){var _=null;x.objects[_0x4962("0x0")]>0&&(_=x[_0x4962("0x748")][0][_0x4962("0x9")]),a.fire("mapClickObject",{obj:_})})),a.registerMapControllerEvents(a[_0x4962("0x260")]),a[_0x4962("0xb93")]=(e=function(x,_){return""!==x?x+_.slice(0,1)[_0x4962("0xb5f")]()+_.slice(1):_},_=!1,typeof window[_0x4962("0xb94")]===_0x4962("0x18a")&&[_0x4962("0x506"),_0x4962("0xb95"),"ms","o",""][_0x4962("0x20")]((function(t){0==_&&null!=document[e(t,_0x4962("0xb96"))]&&(x=t,_=!0)})),t=_,{state:(i=function(){if(t)return document[e(x,_0x4962("0xb97"))]})(),visibilitychange:function(_,e){if(t&&typeof _===_0x4962("0x121"))return document[_0x4962("0x25e")](x+_0x4962("0xb98"),function(x){this[_0x4962("0x720")]=i(),_[_0x4962("0xf")](this,x)}[_0x4962("0xe")](this),!1)}}),a[_0x4962("0xb93")][_0x4962("0xb98")]((function(){a.fire("visibilityChanged",this[_0x4962("0x720")])})),a.on("controlUpdated",(function(){a[_0x4962("0x3b")][_0x4962("0x398")]&&"3D"==a[_0x4962("0x387")]&&(a[_0x4962("0x194")].hoverMode=!0)})),a.on("controlchange",(function(){a.options[_0x4962("0x398")]&&"3D"==a.viewMode&&(a[_0x4962("0x194")][_0x4962("0x398")]=!1)}))}},{key:"registerMapControllerEvents",value:function(x){var _=this;x[_0x4962("0x25e")](_0x4962("0x1b1"),(function(x){esmap[_0x4962("0x33")][_0x4962("0xa03")]&&(_[_0x4962("0xb7d")]=!1),_[_0x4962("0xe5")](_0x4962("0xb99"))})),x[_0x4962("0x25e")]("end",(function(){esmap.ESMap.IsMapLoading&&(_[_0x4962("0xb7d")]=!0),_[_0x4962("0xe5")](_0x4962("0xb9a"))})),x.addEventListener(_0x4962("0xb90"),(function(){_[_0x4962("0xa57")][_0x4962("0xb9b")](-_.controls[_0x4962("0x2d3")]()-Math.PI)})),x[_0x4962("0xab5")]||(x.setScaleLevelValue=function(x,_){var e=esmap[_0x4962("0x33")].instance[_0x4962("0x1c6")].camera,t=e[_0x4962("0x106")].clone()[_0x4962("0x52d")](this[_0x4962("0x2c5")])[_0x4962("0x30e")]();t.multiplyScalar(this[_0x4962("0xaa5")]*x);var i=this.target[_0x4962("0x126")]()[_0x4962("0xda")](t);if(this.object instanceof THREE[_0x4962("0xa0d")])e[_0x4962("0x106")].copy(i);else if(this.object instanceof THREE[_0x4962("0x71d")]){var a=i.distanceTo(this[_0x4962("0x2c5")]),n=esmap[_0x4962("0x8c")][_0x4962("0x66f")](e,this,a),r=this[_0x4962("0x9")][_0x4962("0x35c")]/n[_0x4962("0x35c")];this.object.zoom=r,this[_0x4962("0x9")][_0x4962("0x92f")]()}})}},{key:_0x4962("0x165"),value:function(){var x=this;if(x[_0x4962("0x260")][_0x4962("0x165")](),x[_0x4962("0xb7c")]=requestAnimationFrame(x.update.bind(x)),!x[_0x4962("0xb7d")])if(x.options.isLimitFrame){var _=x[_0x4962("0xb79")][_0x4962("0x2a0")]();x[_0x4962("0xb7b")]+=_,x._frameTime=1/x.options[_0x4962("0x3b5")],x[_0x4962("0xb7b")]>=x[_0x4962("0xb7a")]&&(x.DISABLE_RENDER||(x[_0x4962("0xe5")](_0x4962("0x165"),x[_0x4962("0xb78")]),x[_0x4962("0xe5")](_0x4962("0x9e0"),x.maindeltaTime)),x[_0x4962("0x1c6")][_0x4962("0x711")](),x._tempTimeStamp=x[_0x4962("0xb7b")]%x[_0x4962("0xb7a")],x[_0x4962("0xb78")]=x.maintimer.getDelta())}else x.DISABLE_RENDER||(x[_0x4962("0xe5")](_0x4962("0x165"),x.maindeltaTime),x[_0x4962("0xe5")]("updateLts",x.maindeltaTime)),x[_0x4962("0x1c6")][_0x4962("0x711")](),x[_0x4962("0xb78")]=x.maintimer.getDelta()}},{key:"penetraByRay",value:function(){if(!this[_0x4962("0xb84")]){var x=new(THREE[_0x4962("0x12c")])(0,-1,0),_=camera[_0x4962("0x106")],e=new THREE.Raycaster(_,x)[_0x4962("0xb9c")](scene.children[0]);e[_0x4962("0x0")]>0&&e[0][_0x4962("0x23b")]<10&&(console[_0x4962("0x223")]("ç¢°æ",e[0][_0x4962("0x23b")]),camera[_0x4962("0x106")].y+=10),0==e[_0x4962("0x0")]&&(camera[_0x4962("0x106")].y+=100)}}},{key:_0x4962("0x396"),get:function(){return this[_0x4962("0xa57")][_0x4962("0x53b")][_0x4962("0x396")]},set:function(x){var _=this[_0x4962("0xa57")][_0x4962("0x53b")][_0x4962("0x396")];this[_0x4962("0xa57")][_0x4962("0xb9d")][_0x4962("0x106")].x=this[_0x4962("0xa57")].spriteBg_[_0x4962("0x106")].x-_[0]+x[0],this[_0x4962("0xa57")][_0x4962("0xb9d")].position.y=this[_0x4962("0xa57")][_0x4962("0xb9d")][_0x4962("0x106")].y+_[1]-x[1],this[_0x4962("0xa57")].spritePt_[_0x4962("0x106")].x=this[_0x4962("0xa57")][_0x4962("0xb9e")][_0x4962("0x106")].x-_[0]+x[0],this[_0x4962("0xa57")].spritePt_[_0x4962("0x106")].y=this[_0x4962("0xa57")][_0x4962("0xb9e")][_0x4962("0x106")].y+_[1]-x[1],this[_0x4962("0xa57")][_0x4962("0x53b")][_0x4962("0x396")]=x}},{key:_0x4962("0x397"),get:function(){return this[_0x4962("0xa57")][_0x4962("0xb9d")].scale.x},set:function(x){this.compass[_0x4962("0xb9d")][_0x4962("0x1fe")].x=x,this[_0x4962("0xa57")][_0x4962("0xb9d")][_0x4962("0x1fe")].y=x,this[_0x4962("0xa57")][_0x4962("0xb9e")][_0x4962("0x1fe")].x=x,this[_0x4962("0xa57")][_0x4962("0xb9e")].scale.y=x}},{key:_0x4962("0xb9f"),set:function(x){x!=this.compass[_0x4962("0x17c")]&&(this[_0x4962("0xa57")].visible=x,x&&this[_0x4962("0xa57")].updateDirection(this[_0x4962("0x3b")].defaultAngle*THREE[_0x4962("0x20e")].DEG2RAD))},get:function(){return this.compass.visible}}]),_}((0,l.default)(f[_0x4962("0xc")]));_[_0x4962("0xc")]=v},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(72)),i=o(e(0)),a=o(e(1)),n=o(e(287)),r=e(27),s=e(20);function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c={LOST:_0x4962("0xba0"),RESTORED:_0x4962("0xba1")},l=function(){function x(_){(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0xba2")]=.018661384582519532,this[_0x4962("0xba3")]=19567.88,this[_0x4962("0x7e3")]={},this[_0x4962("0x48")]=_,this[_0x4962("0x60b")]=!1,this[_0x4962("0xb1b")]=null,this[_0x4962("0xba4")]=!1,this[_0x4962("0xba5")]=null,this[_0x4962("0xb1d")]=null,this[_0x4962("0xba6")]=new t.default,this[_0x4962("0xba7")]={lost:0,restored:0}}return(0,a[_0x4962("0xc")])(x,[{key:"getSize",value:function(){var x={};this.container.style[_0x4962("0x1ce")]&&this.container.style[_0x4962("0x1a4")]?(this[_0x4962("0x547")][_0x4962("0x25")][_0x4962("0x1ce")][_0x4962("0xaf")]("px")>-1&&(x[_0x4962("0x1ce")]=this.container[_0x4962("0x25")][_0x4962("0x1ce")][_0x4962("0x14d")]("px","")),this[_0x4962("0x547")][_0x4962("0x25")].height[_0x4962("0xaf")]("px")>-1&&(x[_0x4962("0x1a4")]=this[_0x4962("0x547")][_0x4962("0x25")][_0x4962("0x1a4")].replace("px","")),x[_0x4962("0x1ce")]&&x[_0x4962("0x1a4")]||(x={width:this[_0x4962("0x547")][_0x4962("0x548")],height:this[_0x4962("0x547")][_0x4962("0x503")]})):x={width:this[_0x4962("0x547")][_0x4962("0x548")],height:this[_0x4962("0x547")][_0x4962("0x503")]};var _=x[_0x4962("0x1ce")],e=x.height;return _!=this.w_||e!=this.h_?{w:_,h:e}:null}},{key:_0x4962("0x39"),value:function(){var x=this;this.container=this[_0x4962("0x48")].options[_0x4962("0x547")],this[_0x4962("0x547")][_0x4962("0x25")].outline=_0x4962("0x612");var _=this.map[_0x4962("0x3b")][_0x4962("0xba8")];try{var e=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xba9")];if(esmap[_0x4962("0xba9")]&&(null==e||e)){var t={antialias:!0,alpha:!!this.map[_0x4962("0x3b")][_0x4962("0x393")]},i=document[_0x4962("0x24")](_0x4962("0x336")),a=i[_0x4962("0x337")](_0x4962("0x60b"),t);null!==a?(this.renderer=new(THREE[_0x4962("0xbaa")])({canvas:i,context:a,powerPreference:_,alpha:!!this.map[_0x4962("0x3b")].perspective,precision:_0x4962("0xbab"),logarithmicDepthBuffer:true}),this[_0x4962("0x60b")]=!0):this.renderer=new THREE.WebGLRenderer({antialias:!0,precision:_0x4962("0xbab"),powerPreference:_,alpha:!!this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x393")],logarithmicDepthBuffer:!0})}else this[_0x4962("0x364")]=new(THREE[_0x4962("0xbaa")])({antialias:!0,precision:_0x4962("0xbab"),powerPreference:_,logarithmicDepthBuffer:true});this.renderer[_0x4962("0xb76")]=!0,this.renderer[_0x4962("0xbac")]=!0}catch(x){return void(new(n[_0x4962("0xc")]))[_0x4962("0x634")](this[_0x4962("0x547")])}this[_0x4962("0x336")]=this[_0x4962("0x364")].domElement,this[_0x4962("0x24f")](),this.renderer.setClearColor(16777215),this[_0x4962("0x364")][_0x4962("0xbad")](window[_0x4962("0x516")]),this[_0x4962("0x364")].autoClear=!1,this.renderer[_0x4962("0xbae")].enabled=!1;var r=this[_0x4962("0x547")][_0x4962("0x548")],o=this[_0x4962("0x547")].clientHeight||window[_0x4962("0xbaf")];this[_0x4962("0x364")][_0x4962("0x31b")](r,o),this[_0x4962("0x547")][_0x4962("0x28")](this[_0x4962("0x336")]),this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x38c")]==esmap.ESCameraMode.NORMAL?this[_0x4962("0x669")]=new(THREE[_0x4962("0xa0d")])(35,r/o,1,4e4):this[_0x4962("0x669")]=new(THREE[_0x4962("0xa0d")])(60,r/o,.001,1e4),this[_0x4962("0xbb0")]=2*Math[_0x4962("0x671")](this[_0x4962("0x669")][_0x4962("0x66e")]*Math.PI/360),this[_0x4962("0x669")][_0x4962("0xbb1")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x669")][_0x4962("0x166")][_0x4962("0xbb2")]=this.vFOV/o,this.scene=new(THREE[_0x4962("0x8f7")]),this.camera[_0x4962("0x240")](this[_0x4962("0x2e6")][_0x4962("0x106")]),this[_0x4962("0xa58")]=new THREE.OrthographicCamera(-r/2,r/2,-o/2,o/2,1,1e5),this.cameraTop[_0x4962("0x210")][_0x4962("0xd8")](-Math.PI/2,0,0,_0x4962("0xbb3")),this[_0x4962("0xa58")][_0x4962("0xbb4")]=!1,this[_0x4962("0xa58")][_0x4962("0x106")][_0x4962("0xd8")](0,1e5,0),this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x393")]&&this[_0x4962("0x364")][_0x4962("0xbb5")](0),this[_0x4962("0x336")][_0x4962("0x25e")](c.LOST,(function(_){_.preventDefault(),s[_0x4962("0x37")][_0x4962("0x1dc")]({msg:["%c"+esmap[_0x4962("0x289")][_0x4962("0xbb6")],"color: #ffc107;font-weight: bold;font-size: 12px;"],level:_0x4962("0xbb7")}),x[_0x4962("0x48")][_0x4962("0xe5")](c.LOST),x[_0x4962("0xba7")][_0x4962("0xbb8")]++}),!1),this.canvas[_0x4962("0x25e")](c[_0x4962("0xbb9")],(function(_){s[_0x4962("0x37")][_0x4962("0x1dc")]({msg:["%c"+esmap[_0x4962("0x289")][_0x4962("0xbba")],_0x4962("0xbbb")],level:_0x4962("0xbb7")}),x.map[_0x4962("0xe5")](c[_0x4962("0xbb9")]),x[_0x4962("0xba7")][_0x4962("0xbbc")]++,setTimeout((function(){x[_0x4962("0x364")][_0x4962("0x734")](x[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xbbd")])}),0)}),!1),this[_0x4962("0xbbe")]=new esmap.ESComposerRender(this[_0x4962("0x48")]),this[_0x4962("0xa4d")]=new(THREE[_0x4962("0x71d")])(-r/2,r/2,o/2,-o/2,1,1e3),this[_0x4962("0xa4d")][_0x4962("0x106")][_0x4962("0x550")](10),this[_0x4962("0x9c2")]=new(THREE[_0x4962("0x8f7")]),this.ambientLight=new(THREE[_0x4962("0xbbf")])(16777215),this[_0x4962("0xbc0")][_0x4962("0x107")]="1",this[_0x4962("0xbc0")][_0x4962("0x43a")]=.5,this.scene[_0x4962("0xda")](this.ambientLight),this[_0x4962("0x7e3")][1]=this.ambientLight,this[_0x4962("0xbc1")]=new THREE.DirectionalLight(8947848,1.4),this[_0x4962("0xbc1")].name="2",this.scene[_0x4962("0xda")](this.mainLight),this.lights[2]=this[_0x4962("0xbc1")];var l=new(THREE[_0x4962("0x7e6")])(0,0);return l[_0x4962("0x107")]="3",this[_0x4962("0xbc2")]=l,this[_0x4962("0x2e6")][_0x4962("0xda")](l),this[_0x4962("0x7e3")][3]=l,this[_0x4962("0xbc3")](r,o),window[_0x4962("0x25e")](_0x4962("0x9d6"),this.onWindowResize[_0x4962("0xe")](this),!1),this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xbc4"),this[_0x4962("0x336")]),!0}},{key:_0x4962("0x24f"),value:function(){this[_0x4962("0x336")][_0x4962("0x25")][_0x4962("0xbc5")]="hidden"}},{key:_0x4962("0x24e"),value:function(){this[_0x4962("0x336")][_0x4962("0x25")][_0x4962("0xbc5")]="unset"}},{key:_0x4962("0xbc6"),value:function(x){var _=this.level2Resolution(x)/this[_0x4962("0x669")].userData.vFovHeight/this.map[_0x4962("0x260")].initDistance_;this[_0x4962("0x48")].controls.setScaleLevelValue(_)}},{key:_0x4962("0xbc7"),value:function(){var x=this[_0x4962("0x48")],_=void 0;if(x.mode===esmap.MapMode[_0x4962("0x3b8")]){var e=x[_0x4962("0x260")][_0x4962("0xb24")](),t=x[_0x4962("0x260")][_0x4962("0xaa5")]*e,i=this.camera.userData[_0x4962("0xbb2")]*t;_=this[_0x4962("0xbc8")](i)}else _=this[_0x4962("0xbc8")](this[_0x4962("0xa58")][_0x4962("0x35c")]/this[_0x4962("0xa58")][_0x4962("0x66a")]/this[_0x4962("0x260")].initTop_*this[_0x4962("0x260")][_0x4962("0xaa5")]*this[_0x4962("0x669")][_0x4962("0x166")][_0x4962("0xbb2")]);return _}},{key:_0x4962("0xbc9"),value:function(x){return this.camera[_0x4962("0x166")][_0x4962("0xbb2")]*x}},{key:_0x4962("0xbca"),value:function(x){return this[_0x4962("0xbc8")](this[_0x4962("0xbc9")](x))}},{key:_0x4962("0xaa6"),value:function(x){return this[_0x4962("0xbcb")](x)/this.camera[_0x4962("0x166")].vFovHeight}},{key:"resolution2Level",value:function(x){return Math.log(78271.52/x)*Math[_0x4962("0xbcc")]+1}},{key:_0x4962("0xbcb"),value:function(x){return 78271.52/Math[_0x4962("0xf7")](Math.E,(x-1)/Math.LOG2E)}},{key:_0x4962("0xbcd"),value:function(x,_){x.getWorldDirection(x[_0x4962("0xbb1")]);var e=x.cam2control,t=new(THREE[_0x4962("0x12c")]),i=x[_0x4962("0x106")];if(this[_0x4962("0x48")][_0x4962("0x387")]==_0x4962("0x35c")){var a=this[_0x4962("0x48")];i=a.controls[_0x4962("0x2c5")][_0x4962("0x126")]()[_0x4962("0xda")](this[_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x126")]()[_0x4962("0x52d")](a[_0x4962("0x260")].target)[_0x4962("0x30e")]()[_0x4962("0x250")](a[_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x23a")](this[_0x4962("0x669")].position)/this[_0x4962("0xa58")].zoom))}return t[_0x4962("0x905")](_,i),x[_0x4962("0x166")][_0x4962("0xbb2")]*e.dot(t)}},{key:_0x4962("0xbce"),value:function(){return this[_0x4962("0x48")][_0x4962("0x236")](this[_0x4962("0x48")].controls[_0x4962("0x2c5")])}},{key:_0x4962("0x2f0"),value:function(){return this.map[_0x4962("0x208")](this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")])}},{key:_0x4962("0xaa0"),value:function(){var x=this[_0x4962("0x48")].coordThreeToMap(this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")]);return esmap[_0x4962("0x8c")][_0x4962("0xf8")](x.x,x.y)}},{key:"updateSize",value:function(x,_){if(!x||!_){var e=this[_0x4962("0x6fe")]();if(!e)return;x=e.w,_=e.h}if(0!=x&&0!=_){this[_0x4962("0x9d6")](x,_),this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0x9d6"),{width:x,height:_});var t=this.canvas[_0x4962("0x1ce")],i=this[_0x4962("0x336")][_0x4962("0x1a4")];t==x&&i==_||this[_0x4962("0xa4c")]()}}},{key:_0x4962("0xbc3"),value:function(x,_){var e=new(THREE[_0x4962("0x73f")]);e[_0x4962("0x31b")](x,_);var t=e[_0x4962("0x1c8")];t[_0x4962("0x25")].width="100%",t.style[_0x4962("0x1a4")]=_0x4962("0x1cf"),this[_0x4962("0x547")][_0x4962("0x28")](t);var i=this[_0x4962("0x336")];i.style[_0x4962("0x1ce")]=_0x4962("0x1cf"),i[_0x4962("0x25")].height=_0x4962("0x1cf"),i[_0x4962("0x25")][_0x4962("0x942")]=_0x4962("0x612"),t[_0x4962("0x28")](i),this[_0x4962("0x1c7")]=e}},{key:_0x4962("0xbcf"),value:function(){this[_0x4962("0xa4c")](),this.map[_0x4962("0xa57")][_0x4962("0x53f")](this.w_,this.h_),this[_0x4962("0xa4c")]()}},{key:"resize",value:function(x,_){this[_0x4962("0xb36")]=x/2,this.h_2_=_/2,this[_0x4962("0xbbe")].reSize(x,_),this.renderer[_0x4962("0x31b")](x,_),this.rendererCss2D.setSize(x,_),this[_0x4962("0x669")][_0x4962("0x670")]=x/_,this[_0x4962("0x669")][_0x4962("0x92f")](),this[_0x4962("0xbd0")]&&(this[_0x4962("0xbd0")][_0x4962("0x670")]=x/_,this[_0x4962("0xbd0")][_0x4962("0x92f")]());var e=esmap[_0x4962("0x8c")][_0x4962("0x66f")](this[_0x4962("0x669")],this[_0x4962("0x48")][_0x4962("0x260")]);this[_0x4962("0xa58")][_0x4962("0x35e")]=-e[_0x4962("0x361")],this[_0x4962("0xa58")][_0x4962("0x361")]=e.right,this[_0x4962("0xa58")][_0x4962("0x35c")]=e.top,this[_0x4962("0xa58")][_0x4962("0x35d")]=-e[_0x4962("0x35c")],this[_0x4962("0xa58")].updateProjectionMatrix(),this[_0x4962("0xa4d")][_0x4962("0x35e")]=-this[_0x4962("0xb36")],this.cameraOrtho[_0x4962("0x361")]=this[_0x4962("0xb36")],this[_0x4962("0xa4d")][_0x4962("0x35c")]=this[_0x4962("0xb37")],this[_0x4962("0xa4d")][_0x4962("0x35d")]=-this[_0x4962("0xb37")],this[_0x4962("0xa4d")].updateProjectionMatrix(),this.w_=x,this.h_=_}},{key:_0x4962("0xbd1"),value:function(){var x="";try{var _=this[_0x4962("0x48")][_0x4962("0x1c6")].renderer[_0x4962("0x371")][_0x4962("0xbd2")](_0x4962("0xbd3"));x="  GPU: "+this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x371")][_0x4962("0xbd4")](_[_0x4962("0xbd5")])}catch(_){x=_[_0x4962("0x18b")]()}return x}},{key:_0x4962("0xa24"),value:function(x){var _=this,e=this[_0x4962("0x9c2")],t=this[_0x4962("0xa4d")],i=new THREE.PlaneBufferGeometry(1,1,1,1),a=new(THREE[_0x4962("0x581")])({color:parseInt(x[_0x4962("0x147")][_0x4962("0x14d")]("#",""),16),opacity:x[_0x4962("0x145")],transparent:!0}),n=new(THREE[_0x4962("0x198")])(i,a),r=x[_0x4962("0xbd6")],s=x[_0x4962("0xbd7")];n[_0x4962("0x1fe")].y=r,n.userData.align=s;var o=function(){var x=t[_0x4962("0x35c")]-t[_0x4962("0x35d")],_=t[_0x4962("0x361")]-t.left,e=n[_0x4962("0x166")][_0x4962("0xbd7")];n[_0x4962("0x106")].y="top"==e?x/2-r/2:-x/2+r/2,n[_0x4962("0x106")].x=-_/2};o();e[_0x4962("0xda")](n);var c=function(x){var a=x*(t[_0x4962("0x361")]-t[_0x4962("0x35e")]);i[_0x4962("0x105")].position[_0x4962("0x452")][3]=a,i.attributes[_0x4962("0x106")][_0x4962("0x452")][9]=a,i[_0x4962("0x105")].position[_0x4962("0x187")]=!0,1===x&&(new(esmap[_0x4962("0x1a6")].Tween)(n[_0x4962("0xf6")]).to({opacity:0},1e3)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")])[_0x4962("0x1b0")]((function(){e[_0x4962("0x197")](n),_[_0x4962("0x48")][_0x4962("0xa1e")](_0x4962("0xe2"))}))[_0x4962("0x1b1")](),_[_0x4962("0x48")]._clearEventsFrom(_0x4962("0xe2")))};this[_0x4962("0x48")].on("loadProgress",(function(x){c(x[_0x4962("0xe3")])})),this[_0x4962("0x48")].on(_0x4962("0x9d6"),(function(){o()}),null,"progress")}},{key:"render",value:function(){if(this.showMultiView)this[_0x4962("0xba5")]&&this[_0x4962("0xba5")][_0x4962("0xbd8")]();else{if(this.map[_0x4962("0x3b")][_0x4962("0x3a5")])return;this[_0x4962("0x364")][_0x4962("0x728")](),"3D"==this.map[_0x4962("0x9c4")]?this[_0x4962("0x364")][_0x4962("0x711")](this[_0x4962("0x2e6")],this[_0x4962("0x669")]):this[_0x4962("0x364")][_0x4962("0x711")](this.scene,this.cameraTop),this[_0x4962("0x364")][_0x4962("0x72f")](),this[_0x4962("0x364")][_0x4962("0x711")](this[_0x4962("0x9c2")],this.cameraOrtho),"3D"==this[_0x4962("0x48")][_0x4962("0x9c4")]?this[_0x4962("0x1c7")][_0x4962("0x711")](this[_0x4962("0x2e6")],this.camera):this.rendererCss2D.render(this.scene,this[_0x4962("0xa58")])}}},{key:"updateBuildingView",value:function(x){var _=this.map,e=_[_0x4962("0x3b")];_[_0x4962("0xbd9")](x)||(null!=e.defaultScaleLevel?_[_0x4962("0x260")].setScaleLevelValue(_[_0x4962("0xaa4")][e[_0x4962("0x39c")]]):null!=e[_0x4962("0x1f6")]?_[_0x4962("0x1c6")].zoomLevel=e[_0x4962("0x1f6")]:_[_0x4962("0x260")][_0x4962("0xab5")](_[_0x4962("0xaa4")][x[_0x4962("0xaf1")][_0x4962("0xbda")]])),null!=e[_0x4962("0x3ae")]&&(_.controls[_0x4962("0x2b1")]=_[_0x4962("0x1c6")][_0x4962("0xaa6")](e[_0x4962("0x3ae")])),null!=e[_0x4962("0x3ad")]&&(_.controls[_0x4962("0x2b0")]=_[_0x4962("0x1c6")][_0x4962("0xaa6")](e[_0x4962("0x3ad")]));var t=this.container[_0x4962("0x548")],i=this[_0x4962("0x547")][_0x4962("0x503")];this[_0x4962("0xa4c")](t,i),_[r[_0x4962("0x9c1")]].updateHUD(t,i)}},{key:_0x4962("0xbdb"),get:function(){return this[_0x4962("0xbc8")](this[_0x4962("0xbdc")])}},{key:"controls",get:function(){return this[_0x4962("0x48")][_0x4962("0x260")]}},{key:_0x4962("0x1f6"),get:function(){return this.map.viewMode==esmap[_0x4962("0x62d")][_0x4962("0xbdd")]?this[_0x4962("0xbc8")](this.resolution):this.getOrthoZoomLevel()},set:function(x){if(this[_0x4962("0x48")][_0x4962("0x387")]==esmap[_0x4962("0x62d")][_0x4962("0xbdd")]){var _=this[_0x4962("0xbcb")](x);this[_0x4962("0xbdc")]=_}else this[_0x4962("0xbc6")](x)}},{key:_0x4962("0xbdc"),get:function(){var x=this[_0x4962("0xbcd")](this[_0x4962("0x669")],this.controls[_0x4962("0x2c5")]);return this._resolution.set(this,x),this[_0x4962("0xba6")].get(this)},set:function(x){if(x&&null!=x&&!isNaN(x)&&(x=Math.max(this[_0x4962("0xba2")],Math[_0x4962("0x301")](x,this[_0x4962("0xba3")])),this[_0x4962("0xba6")][_0x4962("0xd8")](this,x),this[_0x4962("0x260")]&&this[_0x4962("0x669")][_0x4962("0x166")][_0x4962("0xbb2")])){var _=x/this[_0x4962("0x669")][_0x4962("0x166")][_0x4962("0xbb2")];this[_0x4962("0x669")][_0x4962("0xbde")](this[_0x4962("0x669")][_0x4962("0xbb1")]);var e=this[_0x4962("0x669")][_0x4962("0xbb1")],t=e.dot(this[_0x4962("0x260")][_0x4962("0x2c5")]),i=e[_0x4962("0x907")](this.camera.position),a=(new(THREE[_0x4962("0x12c")]))[_0x4962("0x905")](this.controls[_0x4962("0x2c5")],this[_0x4962("0x669")].position),n=(i-(t-_))/a.dot(e);a[_0x4962("0x250")](n),this[_0x4962("0x669")][_0x4962("0x106")].sub(a),this.camera[_0x4962("0x751")](!0),this.controls[_0x4962("0x165")]()}}}]),x}();_[_0x4962("0xc")]=l},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){(0,t[_0x4962("0xc")])(this,x)}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x634"),value:function(x){var _=document.createElement("div");_[_0x4962("0x1d9")]="<h5>æ¨çæµè§å¨ç®åä¸æ¯æWebGL!<h5><h5>ä¸ºæ´å¥½çæµè§ï¼å»ºè®®æ¨ä¸è½½ &nbsp;è°·æ­æµè§å¨</h5>",_.setAttribute(_0x4962("0xbdf"),"noWebGL"),x[_0x4962("0x28")](_)}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=f(e(5)),i=f(e(0)),a=f(e(1)),n=f(e(10)),r=f(e(11)),s=e(4),o=f(e(108)),c=f(e(145)),l=e(42);function f(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var d={},u=!1,h=function(x){function _(){(0,i[_0x4962("0xc")])(this,_);var x=(0,n[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t[_0x4962("0xc")])(_)).call(this));return x[_0x4962("0xbe0")]=null,x[_0x4962("0xbe1")]=new THREE.Raycaster,x[_0x4962("0xbe2")]=new(THREE[_0x4962("0x528")]),x[_0x4962("0xbe3")]=!1,x[_0x4962("0x710")]=!0,x[_0x4962("0xbe4")]=!1,x[_0x4962("0xbe5")]=[],x.ebp_=!1,x[_0x4962("0xbe6")]=0,x[_0x4962("0xbe7")]=!1,x[_0x4962("0xbe8")]=!1,x[_0x4962("0xbe9")]=[],x[_0x4962("0xbea")]=[],x[_0x4962("0xbeb")]=null,x[_0x4962("0xbec")]=null,x[_0x4962("0x398")]=!1,x[_0x4962("0xbed")]={},x[_0x4962("0xbee")]=!0,x[_0x4962("0x3fb")]={default:[]},x[_0x4962("0xbef")]=(0,s[_0x4962("0x33e")])()[_0x4962("0xbef")],x[_0x4962("0xbf0")]=new(THREE[_0x4962("0x926")]),x[_0x4962("0xbf1")]=0,x[_0x4962("0xbf2")]=!0,x[_0x4962("0xbf3")]={x:0,y:0},x[_0x4962("0xbf4")]=!1,x[_0x4962("0xbf5")]={x:0,y:0},x.locationModelMesh=[],x}return(0,r[_0x4962("0xc")])(_,x),(0,a.default)(_,[{key:_0x4962("0xbf6"),value:function(x){this[_0x4962("0x3fb")][x]&&(this[_0x4962("0xbed")][x]=this.watchingList[x],this[_0x4962("0x3fb")][x]=[])}},{key:_0x4962("0xbf7"),value:function(x){this[_0x4962("0xbed")][x]&&(this[_0x4962("0x3fb")][x]=this.cachePicks[x],this[_0x4962("0xbed")][x]=null)}},{key:_0x4962("0x3f0"),value:function(x){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";this[_0x4962("0x3fb")][_]||(this[_0x4962("0x3fb")][_]=[]),this[_0x4962("0x3fb")][_][_0x4962("0x3")](x)}},{key:_0x4962("0xf5"),value:function(){var x=this.map[_0x4962("0x1c6")].container;x[_0x4962("0x2a1")](_0x4962("0x98b"),d[_0x4962("0x98b")]),x.removeEventListener(_0x4962("0x98e"),d.mousemove),x[_0x4962("0x2a1")]("mouseup",d[_0x4962("0xbf8")]),x[_0x4962("0x2a1")]("touchstart",d[_0x4962("0x98b")]),x[_0x4962("0x2a1")]("touchmove",d[_0x4962("0x98e")]),x.removeEventListener(_0x4962("0xbf9"),d.mouseup),this[_0x4962("0x3fb")]=null,d={}}},{key:_0x4962("0xb85"),value:function(x){var _=this;this[_0x4962("0x48")]=x;var e=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x547")];this[_0x4962("0xbfa")]=new(THREE[_0x4962("0x925")])(this.map[_0x4962("0x3ec")],null,7e9),this[_0x4962("0xbfa")][_0x4962("0x710")]=!1,this[_0x4962("0xbfa")][_0x4962("0x93a")]=_0x4962("0x698"),this.BoxPickerHelper=new(THREE[_0x4962("0x941")])(this[_0x4962("0xbfa")],e,_0x4962("0xbfb")),d[_0x4962("0x98b")]=this[_0x4962("0xbfc")][_0x4962("0xe")](this),d[_0x4962("0x98e")]=this.onmousemove[_0x4962("0xe")](this),d.mouseup=this.onmouseup[_0x4962("0xe")](this),e[_0x4962("0x25e")]("mousedown",d.mousedown),e.addEventListener("mousemove",d[_0x4962("0x98e")]),e[_0x4962("0x25e")](_0x4962("0xbf8"),d[_0x4962("0xbf8")]),e[_0x4962("0x25e")]("touchstart",d[_0x4962("0x98b")]),e[_0x4962("0x25e")](_0x4962("0xbfd"),d[_0x4962("0x98e")]),e[_0x4962("0x25e")](_0x4962("0xbf9"),d.mouseup),this[_0x4962("0x48")].on(_0x4962("0xf5"),(function(){_.dispose()}))}},{key:"checkHover",value:function(){if(0!=this[_0x4962("0xbe9")][_0x4962("0x0")]){this[_0x4962("0xbe1")][_0x4962("0xb33")](this[_0x4962("0xbe0")],this[_0x4962("0x48")][_0x4962("0x3ec")]);var x=this[_0x4962("0xbe1")][_0x4962("0x536")](this[_0x4962("0xbe9")],!0);if(x.length>0){var _=x[0];this[_0x4962("0xbfe")](_[_0x4962("0x9")])}else this[_0x4962("0xbff")]()}}},{key:_0x4962("0xc00"),value:function(x){var _=this.watchingList;for(var e in _){var t=_[e];if(t[_0x4962("0xaf")](x)>-1)return t[_0x4962("0x4")](t[_0x4962("0xaf")](x),1),!0}return!1}},{key:_0x4962("0xbff"),value:function(){if(this[_0x4962("0xbeb")]){(this.lastHoverTarget[_0x4962("0x166")].traverseTarget||this[_0x4962("0xbeb")])[_0x4962("0x104")]((function(x){x[_0x4962("0xf6")]&&x[_0x4962("0xf6")][_0x4962("0x439")]&&x[_0x4962("0xf6")].userData[_0x4962("0xc01")]&&(x[_0x4962("0xf6")].emissive=x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xc02")],x.material[_0x4962("0x166")][_0x4962("0xc01")]=!1)}));var x=this[_0x4962("0xbeb")][_0x4962("0x166")][_0x4962("0xc03")],_=this[_0x4962("0xbeb")][_0x4962("0x166")][_0x4962("0x615")];x&&x.visible&&(x.visible=!1),_&&_[_0x4962("0x166")][_0x4962("0xc01")]&&(_[_0x4962("0xf6")][_0x4962("0x147")]=_[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xc04")],_[_0x4962("0x166")][_0x4962("0xc01")]=!1),this[_0x4962("0xbeb")]=null}}},{key:_0x4962("0xbfe"),value:function(x){if(this[_0x4962("0xbeb")]!=x){this[_0x4962("0xbff")]();var _=x[_0x4962("0x166")].traverseTarget||x,e="#f49452";this.map.options.selectedColor&&this[_0x4962("0x48")].options[_0x4962("0x438")][_0x4962("0xc05")]&&(e=this[_0x4962("0x48")].options[_0x4962("0x438")][_0x4962("0xc05")][_0x4962("0x147")]),_[_0x4962("0x104")]((function(x){x[_0x4962("0xf6")]&&x[_0x4962("0xf6")].emissive&&!x[_0x4962("0xf6")].userData[_0x4962("0xc01")]&&(x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xc02")]=x[_0x4962("0xf6")][_0x4962("0x439")][_0x4962("0x126")](),x.material[_0x4962("0x439")]=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](e),x[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xc01")]=!0)}));var t=x[_0x4962("0x166")][_0x4962("0xc03")],i=x[_0x4962("0x166")][_0x4962("0x615")];t&&!t[_0x4962("0x17c")]&&(t.visible=!0),i&&!i[_0x4962("0x166")][_0x4962("0xc01")]&&(i[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xc04")]=i[_0x4962("0xf6")][_0x4962("0x147")].clone(),i.material.color=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](e),i.userData[_0x4962("0xc01")]=!0),this[_0x4962("0x48")][_0x4962("0xe5")]("hoverBuildingModel",{floornum:x[_0x4962("0x166")].floornum,target:x[_0x4962("0x166")][_0x4962("0x288")]}),this[_0x4962("0xbeb")]=x}}},{key:_0x4962("0x165"),value:function(x,_){var e=this,t=this;_?this[_0x4962("0xbe1")][_0x4962("0xb33")](_[_0x4962("0xc06")],_[_0x4962("0x669")]):this[_0x4962("0xbe1")][_0x4962("0xb33")](this[_0x4962("0xbe0")],this.map.currentCamera),this[_0x4962("0xbe4")]=!1,this[_0x4962("0xbea")]=[];var i=[];if(!x){var a=new THREE.Matrix4;a[_0x4962("0x3eb")](this[_0x4962("0x48")].currentCamera[_0x4962("0x752")],this[_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")]),this[_0x4962("0xbf0")][_0x4962("0xc07")](a)}if(this[_0x4962("0xbe7")])this.map[_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0x104")]((function(x){"Mesh"!=x[_0x4962("0x9d")]||"$ESMapPlane"==x[_0x4962("0x107")]||x[_0x4962("0x107")]==_0x4962("0x532")||x.obb||t[_0x4962("0x93b")](x)&&i[_0x4962("0x3")](x)}));else{var n=this.map[_0x4962("0x3b")][_0x4962("0xc08")];for(var r in this[_0x4962("0x3fb")]){var s=this[_0x4962("0x3fb")][r];if(!n||!this[_0x4962("0x48")].getTileById(r)){s[_0x4962("0x20")]((function(_){if(_[_0x4962("0x9d")]!==_0x4962("0x198")||null!==_[_0x4962("0xf6")]&&null!==_.geometry)if(x)e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x399")]!=_0x4962("0x698")?_[_0x4962("0xf1")]&&e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x399")].indexOf(_[_0x4962("0xf1")][_0x4962("0x125")])>-1&&t.isVisible(_)&&i[_0x4962("0x3")](_):t[_0x4962("0x93b")](_)&&i[_0x4962("0x3")](_);else{if(_[_0x4962("0x9d")]===_0x4962("0x278")){var a=_.getWorldPosition(new THREE.Vector3);if(!e[_0x4962("0xbf0")][_0x4962("0x938")](a))return}t[_0x4962("0x93b")](_)&&i[_0x4962("0x3")](_)}}));for(var o=s[_0x4962("0x0")]-1;o>=0;o--)s[o].type===_0x4962("0x198")&&(null!==s[o][_0x4962("0xf6")]&&null!==s[o][_0x4962("0xf4")]||s[_0x4962("0x4")](o,1))}}}if(this[_0x4962("0x710")]&&(this.intersects=this[_0x4962("0xbe1")][_0x4962("0x536")](i,!0)),this[_0x4962("0xbea")].length>0){this[_0x4962("0xbe4")]=!0;for(var c=0;c<this[_0x4962("0xbea")][_0x4962("0x0")];c++){var f=this[_0x4962("0xbea")][c];if(f[_0x4962("0x9")][_0x4962("0x107")]==_0x4962("0x531")){this.intersects.splice(c,1),this.intersects[_0x4962("0x3")](f);break}}}if(x){var d=!1;if(this[_0x4962("0xbea")][_0x4962("0x0")]>0){var u=this[_0x4962("0xbea")][0][_0x4962("0x9")],h=null;if(u[_0x4962("0x125")]==esmap[_0x4962("0x134")][_0x4962("0x413")])h=(u=u[_0x4962("0x17b")])[_0x4962("0xf1")];else if(u.datas_){if(u[_0x4962("0xf1")]){var g=u[_0x4962("0xf1")][_0x4962("0x125")];if(g==esmap.ESNodeType[_0x4962("0x678")]&&u.datas_[_0x4962("0x480")]){var b=(0,l[_0x4962("0xf0")])(this[_0x4962("0xbea")][0][_0x4962("0xc0b")],u[_0x4962("0xf1")][_0x4962("0x480")]);h=u[_0x4962("0xf1")][_0x4962("0x480")][b]}else g==esmap[_0x4962("0x134")][_0x4962("0xc0f")]?h=u.datas_:(g==esmap[_0x4962("0x134")][_0x4962("0xc10")]||g==esmap[_0x4962("0x134")][_0x4962("0xc11")]||g==esmap.ESNodeType[_0x4962("0xc12")]||g==esmap[_0x4962("0x134")][_0x4962("0xac1")]||u[_0x4962("0xf1")]instanceof esmap[_0x4962("0xa73")].EffectMarker)&&(h=u[_0x4962("0xf1")])}}else{var v=(0,l[_0x4962("0xef")])(u);if(v)if(v.datas_[_0x4962("0x125")]==esmap[_0x4962("0x134")][_0x4962("0x1e3")]&&v[_0x4962("0xf1")].brothers){if(this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x80")]("sk")||this[_0x4962("0x48")].options.editMode||(this[_0x4962("0x48")][_0x4962("0x7f")].getState("ul")>>1&1||0)<1&&(console[_0x4962("0x293")](esmap[_0x4962("0x289")][_0x4962("0xa8a")]),d=!0),this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xc09")]||(d=!0),d)return;var p=this[_0x4962("0xbea")][0],m=this[_0x4962("0x48")][_0x4962("0x139")](0);if(m.modelLoadManager.GLTFMergeTool[_0x4962("0x41f")])return;m&&m[_0x4962("0x264")].GLTFMergeTool.lastSelectNode&&m[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x464")]();var A=m.modelLoadManager.GLTFMergeTool[_0x4962("0xc0a")](p[_0x4962("0xc0b")],u[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x445")]);if(u.geometry[_0x4962("0x166")][_0x4962("0x46a")]&&u.geometry[_0x4962("0x166")][_0x4962("0x46a")][_0x4962("0x2")](A.id)&&!u[_0x4962("0xf4")].userData.visibleStates[A.id])return;var y=m[_0x4962("0x264")][_0x4962("0xa30")].getMatIndexByFaceIndex(p[_0x4962("0xc0b")],u.geometry.groups),C=A.id,I=v[_0x4962("0xf1")][_0x4962("0xc0c")]||!1,E=v[_0x4962("0xf1")][_0x4962("0x480")][_0x4962("0x2e2")]((function(x){return x.id==C}));E[0]&&(!I&&this[_0x4962("0x48")][_0x4962("0x3b")].model3DSelectedEffect&&m[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x457")](p.faceIndex,u,y),h={mapId:E[0][_0x4962("0x3d")],nodeType:esmap.ESNodeType[_0x4962("0x1e3")],angle:E[0][_0x4962("0x234")],dataID:E[0][_0x4962("0x212")],bid:v[_0x4962("0xf1")][_0x4962("0x130")],bType:v.datas_[_0x4962("0x3e8")],ID:C,name:E[0].name,scale:E[0].scale,Height:E[0][_0x4962("0x313")],model:E[0][_0x4962("0x288")],FloorNum:E[0].fnum,gid:E[0][_0x4962("0xc0d")],url:E[0].url,o3d_:v,typeID:E[0][_0x4962("0x2fd")],mapCoord:this[_0x4962("0x48")].coordThreeToMap(E[0][_0x4962("0x106")])},E[0][_0x4962("0x697")]&&(h[_0x4962("0x697")]=E[0].classID),E[0][_0x4962("0x311")]&&(h[_0x4962("0x311")]=E[0][_0x4962("0x311")]))}else if(h=v[_0x4962("0xf1")],this[_0x4962("0x48")][_0x4962("0x3b")].model3DHoverEffect){var w=this.map[_0x4962("0x13e")].selectModelMat[_0x4962("0x147")][_0x4962("0xc0e")]();this[_0x4962("0x48")].options[_0x4962("0x438")]&&this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x438")].model3d&&this.map[_0x4962("0x3b")][_0x4962("0x438")].model3d[_0x4962("0x147")]&&(w=this.map[_0x4962("0x3b")][_0x4962("0x438")].model3d[_0x4962("0x147")]),h[_0x4962("0x2aa")](w)}}if(this[_0x4962("0x48")].fire(_0x4962("0xc13"),u),!h)return;h.nodeType===esmap[_0x4962("0x134")][_0x4962("0x1e3")]?this[_0x4962("0xbec")]&&this[_0x4962("0xbec")].ID===h.ID||(this.map[_0x4962("0xe5")](_0x4962("0xc14"),h),this.hoverObject=h,this[_0x4962("0xbec")]=h):this[_0x4962("0xc15")]==u&&this[_0x4962("0xbec")]==h||(this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xc14"),h),this.hoverObject=u,this[_0x4962("0xbec")]=h)}else if(this.hoverObject&&this[_0x4962("0xc15")][_0x4962("0x17b")]){this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xc16")),this[_0x4962("0xc15")][_0x4962("0x2aa")]&&this[_0x4962("0xc15")].changeColor(!1),this[_0x4962("0xc15")]=null,this[_0x4962("0xbec")]=null;var T=this[_0x4962("0x48")].getBuilding();!d&&!T.modelLoadManager.GLTFMergeTool[_0x4962("0x41f")]&&T[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x41e")]&&T[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x464")]()}}}},{key:_0x4962("0xbfc"),value:function(x){var _=this;if(this.startPos={x:x.changedTouches?x[_0x4962("0xc17")][0][_0x4962("0x951")]:x[_0x4962("0x951")],y:x[_0x4962("0xc17")]?x[_0x4962("0xc17")][0][_0x4962("0x950")]:x.clientY},this[_0x4962("0x2bd")]=!0,this.mousemoved_=!1,this[_0x4962("0xbe6")]=0,u=!1,this.mousePos=this.getPick(x),this[_0x4962("0xc18")]=this.getMouseScreenPos(x),x[_0x4962("0x4c9")](),this[_0x4962("0xc19")]&&2!=x[_0x4962("0x974")])return this[_0x4962("0xbfa")][_0x4962("0x927")][_0x4962("0xd8")](this[_0x4962("0xbe0")].x,this[_0x4962("0xbe0")].y,.5),this[_0x4962("0xbfa")][_0x4962("0xc1a")]=x[_0x4962("0x355")],void(this.BoxPicker[_0x4962("0xc1b")]=x.offsetY);if(!this.map||!this[_0x4962("0x48")][_0x4962("0x3b")]||this.map[_0x4962("0x3b")].clickHold)var e=!1,t=setTimeout((function(){if(_[_0x4962("0xbf4")])window.clearTimeout(t);else if(0!==x.button||_[_0x4962("0xc1c")]||(e=!0),e){if(1==_[_0x4962("0x2bd")]){if(_[_0x4962("0xc1c")]&&_.tapcount>1)return void window.clearTimeout(t);_[_0x4962("0xbf4")]=!0,_[_0x4962("0x165")](!1),_.fire(_0x4962("0xc1d"),{intersects:_.intersects,mouse:_[_0x4962("0xbe0")][_0x4962("0x126")]()}),_[_0x4962("0xbf4")]=!1}}else window.clearTimeout(t)}),800)}},{key:_0x4962("0x32e"),value:function(x){for(var _ in this[_0x4962("0x3fb")])for(var e=this.watchingList[_],t=0;t<e.length;t++){if(e[t][_0x4962("0x195")]==x)return e.splice(t,1),!0}}},{key:_0x4962("0x93b"),value:function(x){var _=x[_0x4962("0xf1")]&&x[_0x4962("0xf1")][_0x4962("0x125")]==esmap[_0x4962("0x134")][_0x4962("0xc0f")],e=x[_0x4962("0x195")]==this[_0x4962("0x48")][_0x4962("0xb32")][_0x4962("0x195")];if(!this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]&&x.material&&!_&&!e)if(Array[_0x4962("0x123")](x[_0x4962("0xf6")])){var t=!1;if(x[_0x4962("0xf6")][_0x4962("0x20")]((function(x){x[_0x4962("0x17c")]&&(t=!0)})),!t)return!1}else if(!x[_0x4962("0xf6")][_0x4962("0x17c")])return!1;if(!x[_0x4962("0x17c")])return!1;var i=!0;return x[_0x4962("0xc1e")]((function(x){x[_0x4962("0x17c")]||(i=!1)})),i}},{key:_0x4962("0xc1f"),value:function(){var x=!1,_=this.map;if(this[_0x4962("0xbe0")]&&this.map[_0x4962("0x257")].enableCompassTap){if(this[_0x4962("0xbe2")][_0x4962("0xb33")](this.mousePos,_[_0x4962("0x1c6")][_0x4962("0xa4d")]),!_[_0x4962("0xa57")][_0x4962("0xb9d")])return;this[_0x4962("0xbe2")][_0x4962("0xb9c")](_[_0x4962("0xa57")].spriteBg_).length>0&&(_[_0x4962("0xe5")](_0x4962("0xc20")),x=!0,_[_0x4962("0x251")](0))}return x}},{key:_0x4962("0xc21"),value:function(x){if(this.startPos){var _=x.touches?x[_0x4962("0xc22")][0][_0x4962("0x951")]:x[_0x4962("0x951")],e=x[_0x4962("0xc22")]?x.touches[0][_0x4962("0x950")]:x.clientY,t=_-this[_0x4962("0xbf5")].x,i=e-this.startPos.y;if(Math[_0x4962("0x120")](t*t+i*i)>5){if(this[_0x4962("0xc23")][_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x1d0")]=this[_0x4962("0xbee")]?_0x4962("0xc24"):_0x4962("0x612"),this[_0x4962("0xc1c")]=!0,this[_0x4962("0xbe6")]++,this.mousePos=this[_0x4962("0xc25")](x),this[_0x4962("0xc26")](),!this.hoverMode)return;this[_0x4962("0x165")](!0)}else this.mousemoved_=!1}}},{key:"onmouseup",value:function(x){if(this[_0x4962("0x2bd")]=!1,!this[_0x4962("0xc1c")]||this[_0x4962("0xc19")]){if(x[_0x4962("0xc22")]||(this.mousePos=this[_0x4962("0xc25")](x)),this.map.mapView[_0x4962("0xba4")]||this[_0x4962("0x165")](),this[_0x4962("0xc19")]&&2!=x[_0x4962("0x974")]&&this[_0x4962("0xbe6")]>5&&this[_0x4962("0xc1c")]){var _=this[_0x4962("0x48")];this[_0x4962("0xbfa")][_0x4962("0x92c")][_0x4962("0xd8")](this[_0x4962("0xbe0")].x,this[_0x4962("0xbe0")].y,.5),this.BoxPicker[_0x4962("0xc27")]=x[_0x4962("0x355")],this[_0x4962("0xbfa")][_0x4962("0xc28")]=x[_0x4962("0xc29")];var e=this[_0x4962("0x48")][_0x4962("0x260")].target.y,t=_[_0x4962("0xa5a")](this[_0x4962("0xbfa")].startClientX,this[_0x4962("0xbfa")][_0x4962("0xc1b")],e),i=_[_0x4962("0xa5a")](this[_0x4962("0xbfa")][_0x4962("0xc27")],this[_0x4962("0xbfa")][_0x4962("0xc28")],e),a=_[_0x4962("0xa5a")](this[_0x4962("0xbfa")][_0x4962("0xc1a")],this.BoxPicker.endClientY,e),n=_[_0x4962("0xa5a")](this[_0x4962("0xbfa")][_0x4962("0xc27")],this[_0x4962("0xbfa")][_0x4962("0xc1b")],e),r=1,o=0;_[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&(r=_[_0x4962("0x578")]()[_0x4962("0x58a")],o=_.id);var c=[{x:t.x,y:t.y},{x:a.x,y:a.y},{x:i.x,y:i.y},{x:n.x,y:n.y},{x:t.x,y:t.y}],l=[];return c[_0x4962("0x20")]((function(x){l.push({x:x.x,y:x.y,fnum:r,bid:o,offset:0})})),this[_0x4962("0xbfa")][_0x4962("0x93d")]=c,this[_0x4962("0xbfa")][_0x4962("0x929")]||(this[_0x4962("0xbfa")][_0x4962("0x929")]=this[_0x4962("0x3fb")]),this.map[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x41")]&&(this[_0x4962("0xbfa")][_0x4962("0x92a")]=this.map[_0x4962("0x2b4")][_0x4962("0xc2a")][_0x4962("0xc2b")]+"_"+this.map[_0x4962("0x2b4")][_0x4962("0xc2a")][_0x4962("0xc2c")]),this[_0x4962("0xbe5")]=this[_0x4962("0xbfa")][_0x4962("0x92b")](),this.map.fire("mapBoxSelected",{objects:this[_0x4962("0xbe5")],points:l}),void this[_0x4962("0x48")][_0x4962("0xaab")]()}var f=!1;this[_0x4962("0x48")][_0x4962("0x3b")].rightClick&&2==x[_0x4962("0x974")]&&(f=!0);var d=(new Date)[_0x4962("0x86")]();if(!(d-this.lastClickTimeStamp<300)){if(this.lastClickTimeStamp=d,(0==x[_0x4962("0x974")]||x[_0x4962("0xc22")]||f)&&!u){if(this[_0x4962("0xc1f")]())return;if(0==this[_0x4962("0xbea")][_0x4962("0x0")]){var h=this[_0x4962("0x48")][_0x4962("0xb32")]?this[_0x4962("0xbe1")].intersectObjects([this[_0x4962("0x48")][_0x4962("0xb32")]],!0):[];1==h.length&&((0,s.toFixedNumXYZ)(h[0][_0x4962("0x303")]),this[_0x4962("0xe5")]("pickerNone_",{mouse:this.mousePos,hitCoord:h[0][_0x4962("0x303")],intersect:h,button:x[_0x4962("0x974")],event:x}),this[_0x4962("0xbe7")]&&(this[_0x4962("0xbf2")]&&console.info(h),this[_0x4962("0xe5")](_0x4962("0xbe7"),h)))}else this.debugPick?(this.debugPickLog&&console.info(this[_0x4962("0xbea")]),this[_0x4962("0xe5")](_0x4962("0xbe7"),this[_0x4962("0xbea")])):this[_0x4962("0xe5")](_0x4962("0xc2d"),{objects:this[_0x4962("0xbea")],mouse:this.mousePos,button:x.button,event:x})}x.preventDefault()}}}},{key:_0x4962("0xc25"),value:function(x){var _=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x547")].getBoundingClientRect(),e=new THREE.Vector2;return e.x=((x[_0x4962("0xc22")]?x[_0x4962("0xc22")][0].clientX:x[_0x4962("0x951")])-_.left)/_[_0x4962("0x1ce")]*2-1,e.y=-((x[_0x4962("0xc22")]?x[_0x4962("0xc22")][0][_0x4962("0x950")]:x[_0x4962("0x950")])-_[_0x4962("0x35c")])/_.height*2+1,e}},{key:_0x4962("0xc2e"),value:function(x){return{x:x[_0x4962("0xc22")]?x.touches[0][_0x4962("0x951")]:x.clientX,y:x.touches?x.touches[0].clientY:x[_0x4962("0x950")]}}},{key:_0x4962("0xc19"),set:function(x){this[_0x4962("0xc2f")]=x,x?(this[_0x4962("0x48")][_0x4962("0x257")][_0x4962("0x258")]=!1,this[_0x4962("0xbfa")][_0x4962("0x710")]=!0):(this[_0x4962("0x48")][_0x4962("0x257")][_0x4962("0x258")]=!0,this[_0x4962("0xbfa")][_0x4962("0x710")]=!1)},get:function(){return this[_0x4962("0xc2f")]}}]),_}((0,o[_0x4962("0xc")])(c[_0x4962("0xc")]));_[_0x4962("0xc")]=h},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x7be")]=a,_.escapeSpecialChars=function(x){if(!(0,t[_0x4962("0x36d")])(x))return x;return x[_0x4962("0x14d")](n,"")},_[_0x4962("0x4fb")]=function(x){return a(x)[_0x4962("0x2d")](/\s+/)},_[_0x4962("0xc30")]=s,_.stringLength=c,_[_0x4962("0xc31")]=l,_[_0x4962("0xc32")]=f,_[_0x4962("0xc33")]=function(x,_){if(!(0,t[_0x4962("0x36d")])(x))return x;return x[_0x4962("0x14d")](d,(function(x,e){if(!_)return"";var i=_[e];return(0,t[_0x4962("0x375")])(i)?"":Array[_0x4962("0x123")](i)?i.join():i}))},_[_0x4962("0xc34")]=function(x,_,e){var t=x[_0x4962("0x1ce")],i=x[_0x4962("0x1a4")],a=void 0,n=void 0;a="left"===_?-t:_===_0x4962("0x361")?0:-t/2;n=e===_0x4962("0x35c")?-i:"bottom"===e?0:-i/2;return new Point(a,n)},_.getFont=u,_.splitTextToRow=function(x,_){var e=u(_),i=_.textLineSpacing||0,a=c(x,e),n=a[_0x4962("0x1ce")],r=a[_0x4962("0x1a4")],o=_.textWrapCharacter,l=[],d=_.textWrapWidth;(!d||d>n)&&(d=n);(0,t.isString)(x)||(x+="");var h=0;if(o&&x[_0x4962("0xaf")](o)>=0)for(var g=x[_0x4962("0x2d")](o),b=0,v=g.length;b<v;b++){var p=g[b],m=s(p,e);if(m>d)for(var A=f(p,e,d,m),y=0,C=A[_0x4962("0x0")];y<C;y++){var I=A[y].width;I>h&&(h=I),l[_0x4962("0x3")]({text:A[y].text,size:new Size(I,r)})}else m>h&&(h=m),l[_0x4962("0x3")]({text:p,size:new Size(m,r)})}else if(n>d)for(var E=f(x,e,d,n),w=0;w<E[_0x4962("0x0")];w++){var T=E[w][_0x4962("0x1ce")];T>h&&(h=T),l[_0x4962("0x3")]({text:E[w][_0x4962("0x327")],size:new Size(T,r)})}else n>h&&(h=n),l.push({text:x,size:a});var k=l.length,M=new Size(h,r*k+i*(k-1));return{total:k,size:M,rows:l,rawSize:a}};var t=e(4),i=e(143);function a(x){return x[_0x4962("0x7be")]?x[_0x4962("0x7be")]():x[_0x4962("0x14d")](/^\s+|\s+$/g,"")}var n=/[\b\t\r\v\f]/gim;var r=typeof document!==_0x4962("0x21")?document[_0x4962("0x24")](_0x4962("0x336"))[_0x4962("0x337")]("2d"):null;function s(x,_){return s.node?s.node(x,_):(r[_0x4962("0x340")]=_,r.measureText(x)[_0x4962("0x1ce")])}var o={};function c(x,_){if(c.node)return c[_0x4962("0x6a0")](x,_);var e=s(x,_);return _||(_=_0x4962("0xc35")),o[_]||(o[_]=l(_)),new Size(e,o[_])}function l(x){var _=(0,i[_0x4962("0xc36")])();"_default_"!==x&&(_.style[_0x4962("0x340")]=x),_[_0x4962("0x1d9")]="ç§¦";var e=_[_0x4962("0x503")];return(0,i[_0x4962("0xc37")])(_),e}function f(x,_,e,i){if(!x||0===x[_0x4962("0x0")])return[{text:"",width:0}];var a=(0,t[_0x4962("0x375")])(i)?s(x,_):i,n=a/x[_0x4962("0x0")],r=Math[_0x4962("0x31")](e/n/2);if(n>=e||r<=0)return[{text:"",width:e}];if(a<=e)return[{text:x,width:a}];for(var o=[],c=x[_0x4962("0x7d")](0,r),l=n*r,f=r,d=x[_0x4962("0x0")];f<d;f++){var u=x[f],h=s(c+u);h>=e?(o[_0x4962("0x3")]({text:c,width:l}),c=x[_0x4962("0x7d")](f,r+f),f+=r-1,l=n*r):(c+=u,l=h),f>=d-1&&(l=s(c),o[_0x4962("0x3")]({text:c,width:l}))}return o}var d=/\{([\w_]+)\}/g;function u(x){return x[_0x4962("0xc38")]?x[_0x4962("0xc38")]:(x[_0x4962("0xc39")]&&"normal"!==x.textStyle?x[_0x4962("0xc39")]+" ":"")+(x[_0x4962("0xc3a")]&&"normal"!==x.textWeight?x[_0x4962("0xc3a")]+" ":"")+x.textSize+_0x4962("0xc3b")+('"'===x.textFaceName[0]?x[_0x4962("0xc3c")]:'"'+x[_0x4962("0xc3c")]+'"')}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=n(e(108));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x2c5")]=_}return(0,i.default)(x,[{key:_0x4962("0x51f"),value:function(){return this._enabled||(this[_0x4962("0xc3d")]=!0,this.addHooks()),this}},{key:"disable",value:function(){return this[_0x4962("0xc3d")]?(this[_0x4962("0xc3d")]=!1,this[_0x4962("0xc3e")](),this):this}},{key:_0x4962("0x710"),value:function(){return!!this[_0x4962("0xc3d")]}},{key:_0x4962("0x197"),value:function(){this[_0x4962("0xc3f")](),delete this[_0x4962("0x2c5")],delete this.dom}}]),x}();_.default=(0,a[_0x4962("0xc")])(r)},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=s(e(15)),i=s(e(0)),a=s(e(1)),n=e(292),r=e(293);function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(){function x(_,e,t){(0,i[_0x4962("0xc")])(this,x),this.options_=t,this[_0x4962("0xb9d")]=null,this[_0x4962("0xb9e")]=null,this.materialPt_=null,this.materialBg_=null,this[_0x4962("0x541")]=_,this.sceneOrtho_=e,this.w_=Math[_0x4962("0x301")](t.compassSize,128),this.h_=Math[_0x4962("0x301")](t.compassSize,128)}return(0,a[_0x4962("0xc")])(x,[{key:"updateHUD",value:function(x,_,e){if(null!=this.spriteBg_&&null!=this[_0x4962("0xb9e")]){var t=x/2,i=_/2,a=e||this[_0x4962("0x53b")][_0x4962("0x396")],n=esmap[_0x4962("0x33")][_0x4962("0x3a")],r=1;n[_0x4962("0x3b")][_0x4962("0x38b")]&&(r=n[_0x4962("0x3b")][_0x4962("0x38b")]),1==r?(this.spriteBg_[_0x4962("0x106")][_0x4962("0xd8")](-t+this.w_/2+a[0],i-this.h_/2-a[1],.5),this[_0x4962("0xb9e")][_0x4962("0x106")][_0x4962("0xd8")](-t+this.w_/2+a[0],i-this.h_/2-a[1],1)):3==r?(this[_0x4962("0xb9d")][_0x4962("0x106")].set(t-this.w_/2-a[0],i-this.h_/2-a[1],.5),this.spritePt_[_0x4962("0x106")][_0x4962("0xd8")](t-this.w_/2-a[0],i-this.h_/2-a[1],1)):2==r?(this[_0x4962("0xb9d")][_0x4962("0x106")][_0x4962("0xd8")](-t+this.w_/2+a[0],this.h_/2-i+a[1],.5),this[_0x4962("0xb9e")].position.set(-t+this.w_/2+a[0],this.h_/2-i+a[1],1)):4==r&&(this[_0x4962("0xb9d")].position[_0x4962("0xd8")](t-this.w_/2-a[0],this.h_/2-i+a[1],.5),this[_0x4962("0xb9e")][_0x4962("0x106")].set(t-this.w_/2-a[0],this.h_/2-i+a[1],1))}}},{key:_0x4962("0xb9b"),value:function(x){null!=this[_0x4962("0xc40")]&&(this[_0x4962("0xc41")][_0x4962("0x210")]=Math.PI+x)}},{key:_0x4962("0xae3"),value:function(x){var _=document[_0x4962("0x24")](_0x4962("0x545"));_[_0x4962("0x4ee")]=x;var e=new(THREE[_0x4962("0x368")])(_);this[_0x4962("0xc41")][_0x4962("0x48")]=e,_[_0x4962("0xc42")]=function(){e[_0x4962("0x187")]=!0}}},{key:"setBg",value:function(x){var _=document[_0x4962("0x24")](_0x4962("0x545"));_[_0x4962("0x4ee")]=x;var e=new(THREE[_0x4962("0x368")])(_);this[_0x4962("0xc40")][_0x4962("0x48")]=e,_.onload=function(){e[_0x4962("0x187")]=!0}}},{key:"init",value:function(){var x=this,_=esmap.ESMap.instance;if(null==this[_0x4962("0xb9d")]&&null==this[_0x4962("0xb9e")]){var e=document[_0x4962("0x24")](_0x4962("0x545"));_[_0x4962("0x3b")].compassBackgroundUrl?e.src=_.options[_0x4962("0x38a")]:e.src=r[_0x4962("0xc43")];var i=new(THREE[_0x4962("0x368")])(e),a=document[_0x4962("0x24")]("img");_[_0x4962("0x3b")][_0x4962("0x389")]?a[_0x4962("0x4ee")]=_[_0x4962("0x3b")].compassPointerUrl:a[_0x4962("0x4ee")]=n[_0x4962("0xc44")];var s=new(THREE[_0x4962("0x368")])(a);this[_0x4962("0xc45")]=this.w_,this[_0x4962("0xc46")]=this.h_,i[_0x4962("0x187")]=!0,s[_0x4962("0x187")]=!0,this.materialBg_=new(THREE[_0x4962("0x546")])({map:i}),this[_0x4962("0xb9d")]=new(THREE[_0x4962("0x278")])(this[_0x4962("0xc40")]),this[_0x4962("0xb9d")][_0x4962("0x1fe")][_0x4962("0xd8")](this.w_,this.h_,1),this.materialPt_=new(THREE[_0x4962("0x546")])({map:s}),this.spritePt_=new(THREE[_0x4962("0x278")])(this.materialPt_),this[_0x4962("0xb9e")][_0x4962("0x1fe")].set(this[_0x4962("0xc45")],this[_0x4962("0xc46")],1),this.sceneOrtho_[_0x4962("0xda")](this.spriteBg_),this[_0x4962("0x53d")].add(this[_0x4962("0xb9e")]);var o=this.options_.container,c=o.clientWidth,l=o[_0x4962("0x503")];this[_0x4962("0x53f")](c,l),new ResizeObserver((function(_){var e=!0,i=!1,a=void 0;try{for(var n,r=(0,t[_0x4962("0xc")])(_);!(e=(n=r.next())[_0x4962("0x426")]);e=!0){var s=n[_0x4962("0xe3")][_0x4962("0xc47")];x[_0x4962("0x53f")](s[_0x4962("0x1ce")],s[_0x4962("0x1a4")])}}catch(x){i=!0,a=x}finally{try{!e&&r.return&&r[_0x4962("0x28c")]()}finally{if(i)throw a}}})).observe(o)}}},{key:"visible",set:function(x){x!=this.visible_&&(this[_0x4962("0x541")]=x,x?(this[_0x4962("0x39")](),this[_0x4962("0xb9d")][_0x4962("0x17c")]=this[_0x4962("0xb9e")][_0x4962("0x17c")]=!0):null!=this[_0x4962("0xb9d")]&&null!=this[_0x4962("0xb9e")]&&(this[_0x4962("0xb9d")][_0x4962("0x17c")]=this[_0x4962("0xb9e")][_0x4962("0x17c")]=!1))},get:function(){return this.visible_}}]),x}();_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=_0x4962("0xc48");_.compassPointer=t},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var t=_0x4962("0xc49");_.compassBg=t},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t={s:1,k:null,token:"",tid:3,version:1,themeID:null,tileType:_0x4962("0xc4a"),maximumTiles:25,maximumBuildings:1,loadRoads:!0,showRoads:!0,serverUrl:null,defaultLight:!1,showBuildingMode:esmap.ShowBuildingMode[_0x4962("0xc4b")],showBuildingModeBk:{tileScaleZ:.25,time:1,mode:1},roadShowLevel:{6:18,15:15.6},zoomLevel:15,maxBuildingZoomLevel:18,tileShowLevel:12.5,disableViewCenter:!1,clickOpenBuildings:!0,esTileMode:!0,tileColor:"255,255,255",disableIndoorClick:!1,disableOutdoorClick:!1,disableScrollFloorControl:!1,buildingScale:1,pickableBuildings:[],crs:null,tileMode:!0,roadStyle:{url:_0x4962("0xc4c"),lineWidth:12,isMapRoad:!0,speed:50,dashArray:[100],dash:{speed:50},alpha:.8,offsetHeight:10,lineType:esmap[_0x4962("0x129")][_0x4962("0x12a")]},worldScale:15,showTapTip:!0,offsetbid:0,offsetroad:0,buildingMergeModel3D:!0,autoOpenBuilding:!1,autoCloseLevel:null,autoOpenLevel:20,buildingFocusMode:2,buildingsFirstFloorNum:null,isShowSingleBasement:!0,selectedColor:null,ignoreModelList:[],ignoreKeyNameList:[],continueOpenBuilding:!1,buildingOpenAnimation:!0,isLazyLoadModel3D:!1};_[_0x4962("0x3be")]=t},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});_[_0x4962("0x3bd")]={callbackByFloor:null,themeID:0,focusAnimateMode:!0,focusAnimateTime:.3,focusAlphaMode:!1,focusAlpha:.4,undergroundOffset:0,modelSelectedEffect:!0,model3DHoverEffect:!1,mergeModelLines:!0,mergeModels:!0,scaleOffset:0,offsetZ:0,visibleFloors:null,focusFloor:null,showBase:0,mapFloorSpan:0,loadModel3D:1,loadPoi:1,loadLabel:1,token:null,logotoken:null,modelLines:null,mergeModel3D:!0,s:null,k:null,dataCenter:null,center:null,selectedColor:null,focusMode:2,unloadRoomLogo:!1}},function(x,_,e){"use strict";var t=a(e(60)),i=a(e(22));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0xb7f")]=function(x,_){var e,t,i,a,n,r,s;this[_0x4962("0x9")]=x,this.domElement=void 0!==_?_:document,this.enabled=!0,this[_0x4962("0x2c5")]=new(THREE[_0x4962("0x12c")]),this.minDistance=0,this[_0x4962("0x2b0")]=1/0,this.minZoom=0,this.maxZoom=1/0,this[_0x4962("0x9be")]=!0,this[_0x4962("0xc4d")]=Math.PI/3,this[_0x4962("0xc4e")]=!0,this.minPolarAngle=0,this[_0x4962("0xb5d")]=Math.PI,this.minAzimuthAngle=-1/0,this[_0x4962("0xc4f")]=1/0,this[_0x4962("0xc50")]=!1,this[_0x4962("0xc51")]=.05,this[_0x4962("0xc52")]=!0,this[_0x4962("0xc53")]=1,this[_0x4962("0xc54")]=!0,this.rotateSpeed=1,this[_0x4962("0xc55")]=!0,this[_0x4962("0xc56")]=!0,this[_0x4962("0xc57")]=1,this[_0x4962("0xc58")]=!1,this[_0x4962("0xc59")]=7,this.autoRotate=!1,this[_0x4962("0xc5a")]=2,this[_0x4962("0xc5b")]={min:-1,max:1/0},this.enableKeys=!0,this[_0x4962("0xaf3")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x4962("0xc5c")]={LEFT:65,UP:87,RIGHT:68,BOTTOM:83},this.mouseButtons={LEFT:THREE.MOUSE.LEFT,MIDDLE:THREE[_0x4962("0xb81")].MIDDLE,RIGHT:THREE[_0x4962("0xb81")][_0x4962("0xb82")]},this[_0x4962("0xc5d")]=this.target[_0x4962("0x126")](),this.position0=this[_0x4962("0x9")][_0x4962("0x106")][_0x4962("0x126")](),this[_0x4962("0xc5e")]=this[_0x4962("0x9")].zoom,this.prevRadius=999999,this[_0x4962("0x32f")]=function(){return b[_0x4962("0x962")]},this[_0x4962("0x2d3")]=function(){return b.theta},this[_0x4962("0xaa7")]=function(){return this.object.position[_0x4962("0x126")]()[_0x4962("0x52d")](this[_0x4962("0x2c5")])[_0x4962("0x0")]()},this.getScaleRate=function(){return this[_0x4962("0x9")]instanceof THREE.PerspectiveCamera?this[_0x4962("0xaa7")]()/this[_0x4962("0xaa5")]:this[_0x4962("0x9")][_0x4962("0x35c")]/this[_0x4962("0x9")].zoom/this[_0x4962("0xb2c")]},this[_0x4962("0xab5")]=function(x,_){var e=esmap[_0x4962("0x33")].instance.mapView[_0x4962("0x669")],t=e[_0x4962("0x106")][_0x4962("0x126")]()[_0x4962("0x52d")](this[_0x4962("0x2c5")])[_0x4962("0x30e")]();t[_0x4962("0x250")](this[_0x4962("0xaa5")]*x);var i=this.target.clone()[_0x4962("0xda")](t);if(this.object instanceof THREE[_0x4962("0xa0d")])e[_0x4962("0x106")][_0x4962("0x206")](i);else if(this[_0x4962("0x9")]instanceof THREE.OrthographicCamera){var a=i[_0x4962("0x23a")](this.target),n=esmap[_0x4962("0x8c")][_0x4962("0x66f")](e,this,a),r=this.object[_0x4962("0x35c")]/n[_0x4962("0x35c")];this[_0x4962("0x9")][_0x4962("0x66a")]=r,this.object[_0x4962("0x92f")]()}},this[_0x4962("0xc5f")]=function(x){var _=esmap[_0x4962("0x33")].instance,e=_[_0x4962("0x1c6")][_0x4962("0x669")],t=esmap[_0x4962("0x8c")][_0x4962("0x66f")](e,this,x),i=this[_0x4962("0x9")][_0x4962("0x35c")]/t[_0x4962("0x35c")];this[_0x4962("0x9")][_0x4962("0x66a")]=i,this[_0x4962("0x9")][_0x4962("0x92f")](),_[_0x4962("0x9c3")]()},this[_0x4962("0xb59")]=function(){for(var x=this.getScaleRate(),_=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=0;e<_[_0x4962("0xaa4")][_0x4962("0x0")];e++)if(Math[_0x4962("0x231")](_[_0x4962("0xaa4")][e]-x)>.001&&x<_[_0x4962("0xaa4")][e])return e-1<0?0:e-1;return e-1<0?0:e-1},this[_0x4962("0xc60")]=function(){o[_0x4962("0xc5d")][_0x4962("0x206")](o[_0x4962("0x2c5")]),o[_0x4962("0xc61")][_0x4962("0x206")](o[_0x4962("0x9")][_0x4962("0x106")]),o.zoom0=o[_0x4962("0x9")][_0x4962("0x66a")]},this.drop=function(){h=u[_0x4962("0xc62")],this[_0x4962("0x44")](f)},this[_0x4962("0x29a")]=function(){o[_0x4962("0x2c5")][_0x4962("0x206")](o[_0x4962("0xc5d")]),o[_0x4962("0x9")][_0x4962("0x106")][_0x4962("0x206")](o.position0),o[_0x4962("0x9")][_0x4962("0x66a")]=o[_0x4962("0xc5e")],o.object[_0x4962("0x92f")](),o[_0x4962("0x44")](c),o[_0x4962("0x165")](),h=u[_0x4962("0xc62")]},this[_0x4962("0x165")]=(e=new(THREE[_0x4962("0x12c")]),t=(new THREE.Quaternion)[_0x4962("0xc63")](x.up,new(THREE[_0x4962("0x12c")])(0,1,0)),i=t[_0x4962("0x126")]()[_0x4962("0x535")](),a=new(THREE[_0x4962("0x12c")]),n=new(THREE[_0x4962("0x200")]),r=2*Math.PI,s=999999,function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]&&arguments[1];if(!1!==o[_0x4962("0x710")]){var l=o[_0x4962("0x9")][_0x4962("0x106")];e[_0x4962("0x206")](l)[_0x4962("0x52d")](o[_0x4962("0x2c5")]),e[_0x4962("0x20d")](t),b[_0x4962("0xc64")](e),o[_0x4962("0xc65")]&&h===u[_0x4962("0xc62")]&&B(2*Math.PI/60/60*o.autoRotateSpeed),o[_0x4962("0xc50")]?(o[_0x4962("0x9be")]&&o.canUseZoomToCursor&&_&&(o.object.isPerspectiveCamera?o.target[_0x4962("0xc66")](N,1-b[_0x4962("0x69c")]/s):o[_0x4962("0x9")][_0x4962("0xc67")]&&o.target[_0x4962("0xc66")](N,1-y)),e.setFromSpherical(b),b[_0x4962("0x963")]+=v[_0x4962("0x963")]*o.dampingFactor,b[_0x4962("0x962")]+=v[_0x4962("0x962")]*o.dampingFactor):(o.zoomToCursor&&o.canUseZoomToCursor&&_&&(o.object[_0x4962("0x930")]?o[_0x4962("0x2c5")][_0x4962("0xc66")](N,_.lerpvalue):o.object[_0x4962("0xc67")]&&o.target[_0x4962("0xc66")](N,1-y)),b.theta+=v[_0x4962("0x963")],b.phi+=v[_0x4962("0x962")]),x&&(x[_0x4962("0x2")]("forceTheta")&&(b[_0x4962("0x963")]=x[_0x4962("0xc68")],v[_0x4962("0x963")]=0),x[_0x4962("0x2")](_0x4962("0xc69"))&&(b[_0x4962("0x962")]=x.forcePhi,v[_0x4962("0x962")]=0)),b[_0x4962("0x962")]>o[_0x4962("0xc4d")]?o.canUseZoomToCursor=!1:o[_0x4962("0xc4e")]=!0,b[_0x4962("0x963")]=Math[_0x4962("0x300")](o.minAzimuthAngle,Math[_0x4962("0x301")](o[_0x4962("0xc4f")],b.theta));var f=o[_0x4962("0xc6a")],C=o[_0x4962("0xc4f")];return isFinite(f)&&isFinite(C)&&(f<-Math.PI?f+=r:f>Math.PI&&(f-=r),C<-Math.PI?C+=r:C>Math.PI&&(C-=r),f<=C?b.theta=Math[_0x4962("0x300")](f,Math[_0x4962("0x301")](C,b[_0x4962("0x963")])):b[_0x4962("0x963")]=b[_0x4962("0x963")]>(f+C)/2?Math[_0x4962("0x300")](f,b[_0x4962("0x963")]):Math[_0x4962("0x301")](C,b[_0x4962("0x963")])),b.phi=Math[_0x4962("0x300")](o[_0x4962("0xb66")],Math[_0x4962("0x301")](o[_0x4962("0xb5d")],b[_0x4962("0x962")])),b[_0x4962("0xc6b")](),1!=p&&o[_0x4962("0x44")](d),s=b[_0x4962("0x69c")],b[_0x4962("0x69c")]*=p,b.radius=Math[_0x4962("0x300")](o[_0x4962("0x2b1")],Math.min(o[_0x4962("0x2b0")],b[_0x4962("0x69c")])),o[_0x4962("0xc50")]?o[_0x4962("0x2c5")].addScaledVector(m,o.dampingFactor):o[_0x4962("0x2c5")][_0x4962("0xda")](m),e[_0x4962("0xc6c")](b),e.applyQuaternion(i),l[_0x4962("0x206")](o.target)[_0x4962("0xda")](e),o[_0x4962("0x9")][_0x4962("0x240")](o.target),!0===o[_0x4962("0xc50")]?(v.theta*=1-o[_0x4962("0xc51")],v.phi*=1-o.dampingFactor,m.multiplyScalar(1-o[_0x4962("0xc51")])):(v[_0x4962("0xd8")](0,0,0),m[_0x4962("0xd8")](0,0,0)),p=1,!!(A||a.distanceToSquared(o[_0x4962("0x9")].position)>g||8*(1-n[_0x4962("0x907")](o[_0x4962("0x9")][_0x4962("0x205")]))>g)&&(o[_0x4962("0x44")](c),a[_0x4962("0x206")](o[_0x4962("0x9")][_0x4962("0x106")]),n[_0x4962("0x206")](o[_0x4962("0x9")][_0x4962("0x205")]),A=!1,y=1,!0)}}),this[_0x4962("0xf5")]=function(){o[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0x98d"),lx,!1),o[_0x4962("0x1c8")].removeEventListener(_0x4962("0x98b"),tx,!1),o.domElement[_0x4962("0x2a1")](_0x4962("0xc6d"),nx,!1),o[_0x4962("0x1c8")][_0x4962("0x2a1")]("touchstart",sx,!1),o[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0xbf9"),cx,!1),o[_0x4962("0x1c8")][_0x4962("0x2a1")]("touchmove",ox,!1),document.removeEventListener(_0x4962("0x98e"),ix,!1),document[_0x4962("0x2a1")](_0x4962("0xbf8"),ax,!1),window[_0x4962("0x2a1")](_0x4962("0x98f"),rx,!1)};var o=this,c={type:"change"},l={type:_0x4962("0x1b1")},f={type:"end"},d={type:_0x4962("0x179")},u={NONE:0,ROTATE_UP:1,ROTATE_LEFT:2,ROTATE:3,DOLLY:4,DOLLY_ROTATE:7,PAN:8,DOLLY_PAN:12},h=u[_0x4962("0xc62")],g=1e-6,b=new(THREE[_0x4962("0xc6e")]),v=new(THREE[_0x4962("0xc6e")]),p=1,m=new(THREE[_0x4962("0x12c")]),A=!1,y=1,C=new(THREE[_0x4962("0x568")]),I=new(THREE[_0x4962("0x568")]),E=new THREE.Vector2,w=new(THREE[_0x4962("0x568")]),T=new(THREE[_0x4962("0x568")]),k=new(THREE[_0x4962("0x568")]),M=new(THREE[_0x4962("0x568")]),S=new THREE.Vector2,R=new(THREE[_0x4962("0x568")]),L=new(THREE[_0x4962("0x568")]),H=new(THREE[_0x4962("0x568")]),D=new(THREE[_0x4962("0x568")]),O=new(THREE[_0x4962("0x568")]),P=new(THREE[_0x4962("0x568")]),N=new(THREE[_0x4962("0x12c")]);function F(){return Math.pow(.95,o[_0x4962("0xc53")])}function B(x){v[_0x4962("0x963")]-=x}function z(x){v[_0x4962("0x962")]-=x}var U,V,j,Y=(U=new THREE.Vector3,function(x,_){U[_0x4962("0xc6f")](_,0),U[_0x4962("0x250")](-x),m[_0x4962("0xda")](U)}),Z=(V=new(THREE[_0x4962("0x12c")]),function(x,_){!0===o[_0x4962("0xc58")]?V[_0x4962("0xc6f")](_,1):(V[_0x4962("0xc6f")](_,0),V.crossVectors(o[_0x4962("0x9")].up,V)),V.multiplyScalar(x),m[_0x4962("0xda")](V)}),W=(j=new(THREE[_0x4962("0x12c")]),function(x,_){var e=o[_0x4962("0x1c8")]===document?o[_0x4962("0x1c8")][_0x4962("0x27")]:o.domElement;if(o[_0x4962("0x9")][_0x4962("0x930")]){var t=o[_0x4962("0x9")].position;j.copy(t).sub(o.target);var i=j[_0x4962("0x0")]();i*=Math[_0x4962("0x671")](o[_0x4962("0x9")][_0x4962("0x66e")]/2*Math.PI/180),Y(2*x*i/e[_0x4962("0x503")],o[_0x4962("0x9")].matrix),Z(2*_*i/e[_0x4962("0x503")],o[_0x4962("0x9")][_0x4962("0x22b")])}else o[_0x4962("0x9")][_0x4962("0xc67")]?(Y(x*(o.object[_0x4962("0x361")]-o.object[_0x4962("0x35e")])/o[_0x4962("0x9")][_0x4962("0x66a")]/e[_0x4962("0x548")],o[_0x4962("0x9")][_0x4962("0x22b")]),Z(_*(o[_0x4962("0x9")][_0x4962("0x35c")]-o[_0x4962("0x9")].bottom)/o[_0x4962("0x9")][_0x4962("0x66a")]/e.clientHeight,o.object[_0x4962("0x22b")])):(console[_0x4962("0x44a")]("WARNING: MapControls.js encountered an unknown camera type - pan disabled."),o[_0x4962("0xc56")]=!1)});function G(x){if(o[_0x4962("0x9")].isPerspectiveCamera)p/=x;else if(o[_0x4962("0x9")].isOrthographicCamera){var _=o.object[_0x4962("0x66a")]*x,e=window[_0x4962("0xe7")][_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x1c6")][_0x4962("0xa58")].top/_;e<o[_0x4962("0xc5b")][_0x4962("0x300")]&&e>o[_0x4962("0xc5b")].min&&(y=o.object.zoom,o[_0x4962("0x9")][_0x4962("0x66a")]=Math[_0x4962("0x300")](o[_0x4962("0xc70")],Math[_0x4962("0x301")](o[_0x4962("0xc71")],o[_0x4962("0x9")][_0x4962("0x66a")]*x)),y/=o[_0x4962("0x9")][_0x4962("0x66a")],o[_0x4962("0x9")].updateProjectionMatrix(),A=!0)}else console[_0x4962("0x44a")](_0x4962("0xc72")),o.enableZoom=!1}function X(x){if(o[_0x4962("0x9")][_0x4962("0x930")])p*=x;else if(o[_0x4962("0x9")][_0x4962("0xc67")]){var _=o.object[_0x4962("0x66a")]/x;window[_0x4962("0xe7")][_0x4962("0x33")].instance[_0x4962("0x1c6")][_0x4962("0xa58")][_0x4962("0x35c")]/_>o[_0x4962("0xc5b")][_0x4962("0x301")]&&(y=o[_0x4962("0x9")][_0x4962("0x66a")],o.object[_0x4962("0x66a")]=Math[_0x4962("0x300")](o[_0x4962("0xc70")],Math[_0x4962("0x301")](o[_0x4962("0xc71")],o[_0x4962("0x9")][_0x4962("0x66a")]/x)),y/=o[_0x4962("0x9")].zoom,o.object[_0x4962("0x92f")](),A=!0)}else console[_0x4962("0x44a")](_0x4962("0xc72")),o[_0x4962("0xc52")]=!1}var Q,J,K=(Q=new(THREE[_0x4962("0x12c")]),J=new(THREE[_0x4962("0x12c")]),function(x){var _=o.domElement,e=x[_0x4962("0x355")],t=x[_0x4962("0xc29")];if(o[_0x4962("0x9")][_0x4962("0x930")]){Q.set(e/_[_0x4962("0x548")]*2-1,-t/_[_0x4962("0x503")]*2+1,.5),Q[_0x4962("0x931")](o[_0x4962("0x9")]),Q[_0x4962("0x52d")](o[_0x4962("0x9")].position)[_0x4962("0x30e")]();var i=J[_0x4962("0x206")](o[_0x4962("0x2c5")])[_0x4962("0x52d")](o[_0x4962("0x9")][_0x4962("0x106")]).dot(o[_0x4962("0x9")].up)/Q.dot(o[_0x4962("0x9")].up);N[_0x4962("0x206")](o[_0x4962("0x9")][_0x4962("0x106")])[_0x4962("0xda")](Q[_0x4962("0x250")](i))}else if(o[_0x4962("0x9")][_0x4962("0xc67")]){Q[_0x4962("0xd8")](e/_[_0x4962("0x548")]*2-1,-t/_[_0x4962("0x503")]*2+1,(o[_0x4962("0x9")][_0x4962("0x61d")]+o.object[_0x4962("0x52f")])/(o.object[_0x4962("0x61d")]-o[_0x4962("0x9")][_0x4962("0x52f")])),Q[_0x4962("0x931")](o[_0x4962("0x9")]),J.set(0,0,-1)[_0x4962("0x20d")](o[_0x4962("0x9")][_0x4962("0x205")]);var a=-Q.dot(o[_0x4962("0x9")].up)/J[_0x4962("0x907")](o.object.up);N[_0x4962("0x206")](Q)[_0x4962("0xda")](J[_0x4962("0x250")](a)),N.y=o[_0x4962("0x2c5")].y}else _0x4962("0xc74")});function q(x){if(!1!==o.enableRotate&&0!=(h&u[_0x4962("0xc77")])){if(E[_0x4962("0xd8")](x[_0x4962("0xc22")][0][_0x4962("0x976")],x[_0x4962("0xc22")][0][_0x4962("0x977")]),w[_0x4962("0xd8")](x.touches[1][_0x4962("0x976")],x[_0x4962("0xc22")][1][_0x4962("0x977")]),T[_0x4962("0x905")](E,C),k.subVectors(w,I),M[_0x4962("0x905")](I,C),S[_0x4962("0x905")](w,E),function(){_x(M);_x(S);if(!ex(T))return!1;if(!ex(k))return!1;return T[_0x4962("0x907")](k)>0}()){var _=o[_0x4962("0x1c8")]===document?o[_0x4962("0x1c8")][_0x4962("0x27")]:o.domElement;z(2*Math.PI*T.y/_[_0x4962("0x503")]),h=u[_0x4962("0xc78")]}else 0!=(h&u[_0x4962("0xc79")])&&B((M[_0x4962("0x234")]()-S[_0x4962("0x234")]())*o[_0x4962("0xc73")]);C[_0x4962("0x206")](E),I[_0x4962("0x206")](w)}}var $,xx,_x=($=Math[_0x4962("0x66d")](Math.PI/6),function(x){return Math[_0x4962("0x231")](Math[_0x4962("0x66d")](x[_0x4962("0x234")]()))<$}),ex=(xx=Math.cos(Math.PI/2-Math.PI/6),function(x){return Math[_0x4962("0x231")](Math[_0x4962("0x6bc")](x[_0x4962("0x234")]()))<xx});function tx(x){if(!1!==o[_0x4962("0x710")]){switch(x[_0x4962("0x4c9")](),x[_0x4962("0x974")]){case o[_0x4962("0xb80")][_0x4962("0xb83")]:if(!1===o[_0x4962("0xc56")])return;t=x,R[_0x4962("0xd8")](t[_0x4962("0x951")],t[_0x4962("0x950")]),h=u[_0x4962("0xc7b")];break;case o[_0x4962("0xb80")][_0x4962("0xb92")]:if(!1===o[_0x4962("0xc52")])return;e=x,D[_0x4962("0xd8")](e[_0x4962("0x951")],e[_0x4962("0x950")]),h=u[_0x4962("0xc7a")];break;case o[_0x4962("0xb80")][_0x4962("0xb82")]:_=x,C[_0x4962("0xd8")](_[_0x4962("0x951")],_.clientY),h=u[_0x4962("0xc77")]}var _,e,t;h!==u.NONE&&(document[_0x4962("0x25e")](_0x4962("0x98e"),ix,!1),document[_0x4962("0x25e")](_0x4962("0xbf8"),ax,!1),o.dispatchEvent(l))}}function ix(x){var _;if(!1!==o[_0x4962("0x710")])switch(x[_0x4962("0x4c9")](),h){case u[_0x4962("0xc77")]:!function(x){E.set(x[_0x4962("0x951")],x[_0x4962("0x950")]),T.subVectors(E,C).multiplyScalar(o[_0x4962("0xc73")]);var _=o[_0x4962("0x1c8")]===document?o[_0x4962("0x1c8")][_0x4962("0x27")]:o[_0x4962("0x1c8")];o[_0x4962("0xc54")]&&B(2*Math.PI*T.x/_[_0x4962("0x503")]),o.enableIncline&&z(2*Math.PI*T.y/_[_0x4962("0x503")]),C.copy(E),o[_0x4962("0x165")]()}(x);break;case u[_0x4962("0xc7a")]:if(!1===o.enableZoom)return;!function(x){var _=b.radius;K(x),O[_0x4962("0xd8")](x[_0x4962("0x951")],x.clientY),P[_0x4962("0x905")](O,D),P.y>0?G(F()):P.y<0&&X(F()),D.copy(O);var e=b[_0x4962("0x69c")]*p,t=1-(e=Math.max(o.minDistance,Math[_0x4962("0x301")](o[_0x4962("0x2b0")],e)))/_;o.update(null,{lerpvalue:t})}(x);break;case u[_0x4962("0xc7b")]:if(!1===o[_0x4962("0xc56")])return;_=x,L[_0x4962("0xd8")](_[_0x4962("0x951")],_[_0x4962("0x950")]),H[_0x4962("0x905")](L,R).multiplyScalar(o[_0x4962("0xc57")]),W(H.x,H.y),R[_0x4962("0x206")](L),o[_0x4962("0x165")]()}}function ax(x){!1!==o[_0x4962("0x710")]&&(document.removeEventListener(_0x4962("0x98e"),ix,!1),document[_0x4962("0x2a1")](_0x4962("0xbf8"),ax,!1),o[_0x4962("0x44")](f),h=u[_0x4962("0xc62")])}function nx(x){!1===o[_0x4962("0x710")]||!1===o[_0x4962("0xc52")]||h!==u[_0x4962("0xc62")]&&h!==u[_0x4962("0xc77")]||(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),o[_0x4962("0x44")](l),function(x){K(x);var _=b[_0x4962("0x69c")];x.deltaY<0?X(F()):x[_0x4962("0xc75")]>0&&G(F());var e=b[_0x4962("0x69c")]*p,t=1-(e=Math[_0x4962("0x300")](o[_0x4962("0x2b1")],Math.min(o.maxDistance,e)))/_;o[_0x4962("0x165")](null,{lerpvalue:t})}(x),o.dispatchEvent(f))}function rx(x){!1!==o[_0x4962("0x710")]&&!1!==o.enableKeys&&!1!==o[_0x4962("0xc56")]&&function(x){switch(x[_0x4962("0x25c")]){case o[_0x4962("0xaf3")].UP:case o[_0x4962("0xc5c")].UP:W(0,o[_0x4962("0xc59")]),o.update();break;case o[_0x4962("0xaf3")].BOTTOM:case o[_0x4962("0xc5c")][_0x4962("0xc76")]:W(0,-o[_0x4962("0xc59")]),o[_0x4962("0x165")]();break;case o.keys.LEFT:case o.keys2[_0x4962("0xb83")]:W(o.keyPanSpeed,0),o[_0x4962("0x165")]();break;case o[_0x4962("0xaf3")].RIGHT:case o[_0x4962("0xc5c")][_0x4962("0xb82")]:W(-o[_0x4962("0xc59")],0),o[_0x4962("0x165")]()}}(x)}function sx(x){if(!1!==o[_0x4962("0x710")]){switch(x.preventDefault(),x[_0x4962("0xc22")][_0x4962("0x0")]){case 1:if(!1===o[_0x4962("0xc56")])return;!function(x){if(o[_0x4962("0xc56")]){var _=x[_0x4962("0xc22")][0][_0x4962("0x976")],e=x.touches[0].pageY;_<0&&(_=0),e<0&&(e=0),R[_0x4962("0xd8")](_,e)}}(x),h=u.PAN;break;case 2:if(!1===o[_0x4962("0xc52")]&&!1===o[_0x4962("0xc54")])return;_=x,C[_0x4962("0xd8")](_[_0x4962("0xc22")][0][_0x4962("0x976")],_[_0x4962("0xc22")][0][_0x4962("0x977")]),I[_0x4962("0xd8")](_[_0x4962("0xc22")][1][_0x4962("0x976")],_[_0x4962("0xc22")][1][_0x4962("0x977")]),function(x){if(o[_0x4962("0xc52")]){var _=x.touches[0][_0x4962("0x976")]-x[_0x4962("0xc22")][1][_0x4962("0x976")],e=x.touches[0][_0x4962("0x977")]-x[_0x4962("0xc22")][1][_0x4962("0x977")],t=Math.sqrt(_*_+e*e);D.set(0,t)}}(x),h=u[_0x4962("0xc7c")];break;default:h=u[_0x4962("0xc62")]}var _;h!==u[_0x4962("0xc62")]&&o.dispatchEvent(l)}}function ox(x){if(!1!==o[_0x4962("0x710")])switch(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),x[_0x4962("0xc22")][_0x4962("0x0")]){case 1:if(!1===o[_0x4962("0xc56")])return;if(h!==u.PAN)return;!function(x){if(!1!==o[_0x4962("0xc56")]&&0!=(h&u[_0x4962("0xc7b")])){var _=x[_0x4962("0xc22")][0][_0x4962("0x976")],e=x[_0x4962("0xc22")][0].pageY;_<0||e<0||(L[_0x4962("0xd8")](_,e),H[_0x4962("0x905")](L,R)[_0x4962("0x250")](o[_0x4962("0xc57")]),W(H.x,H.y),R[_0x4962("0x206")](L))}}(x),o[_0x4962("0x165")]();break;case 2:if(!1===o.enableZoom&&!1===o[_0x4962("0xc54")])return;if(0==(h&u.DOLLY_ROTATE))return;q(x),function(x){if(!1!==o[_0x4962("0xc52")]&&0!=(h&u[_0x4962("0xc7a")])){var _=x[_0x4962("0xc22")][0].pageX-x[_0x4962("0xc22")][1].pageX,e=x[_0x4962("0xc22")][0][_0x4962("0x977")]-x.touches[1][_0x4962("0x977")],t=Math[_0x4962("0x120")](_*_+e*e);O[_0x4962("0xd8")](0,t),P.set(0,Math[_0x4962("0xf7")](O.y/D.y,o.zoomSpeed)),G(P.y),D[_0x4962("0x206")](O)}}(x),o.update();break;default:h=u[_0x4962("0xc62")]}}function cx(x){!1!==o.enabled&&(o[_0x4962("0x44")](f),h=u.NONE)}function lx(x){!1!==o[_0x4962("0x710")]&&x[_0x4962("0x4c9")]()}o[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x98d"),lx,!1),o[_0x4962("0x1c8")][_0x4962("0x25e")]("mousedown",tx,!1),o.domElement[_0x4962("0x25e")](_0x4962("0xc6d"),nx,!1),o[_0x4962("0x1c8")][_0x4962("0x25e")]("touchstart",sx,!1),o.domElement.addEventListener(_0x4962("0xbf9"),cx,!1),o.domElement[_0x4962("0x25e")](_0x4962("0xbfd"),ox,!1),window[_0x4962("0x25e")](_0x4962("0x98f"),rx,!1),this[_0x4962("0x165")]()},THREE[_0x4962("0xb7f")][_0x4962("0x1")]=(0,i[_0x4962("0xc")])(THREE[_0x4962("0xc7d")].prototype),THREE[_0x4962("0xb7f")][_0x4962("0x1")][_0x4962("0x604")]=THREE.MapControls,(0,t[_0x4962("0xc")])(THREE[_0x4962("0xb7f")][_0x4962("0x1")],{unsetScaleLevel:{value:function(){this[_0x4962("0x2b1")]=0,this.maxDistance=1/0}},initScaleLevel:{value:function(x,_){var e=window[_0x4962("0xe7")][_0x4962("0x33")].instance,t=this[_0x4962("0xaa5")]*x,i=this[_0x4962("0xaa5")]*_;this.minDistance=t,this.maxDistance=i;var a=esmap[_0x4962("0x8c")].getOrthoCameraSizeByPerspectiveCamera(e[_0x4962("0x1c6")][_0x4962("0x669")],this,t),n=esmap[_0x4962("0x8c")][_0x4962("0x66f")](e[_0x4962("0x1c6")][_0x4962("0x669")],this,i);this[_0x4962("0xc5b")]={min:a[_0x4962("0x35c")],max:n[_0x4962("0x35c")]}}},center:{get:function(){return console[_0x4962("0x44a")](_0x4962("0xc7e")),this[_0x4962("0x2c5")]}},noZoom:{get:function(){return console[_0x4962("0x44a")](_0x4962("0xc7f")),!this[_0x4962("0xc52")]},set:function(x){console[_0x4962("0x44a")](_0x4962("0xc7f")),this[_0x4962("0xc52")]=!x}},noRotate:{get:function(){return console[_0x4962("0x44a")](_0x4962("0xc80")),!this[_0x4962("0xc54")]},set:function(x){console[_0x4962("0x44a")]("THREE.MapControls: .noRotate has been deprecated. Use .enableRotate instead."),this[_0x4962("0xc54")]=!x}},noPan:{get:function(){return console[_0x4962("0x44a")](_0x4962("0xc81")),!this[_0x4962("0xc56")]},set:function(x){console[_0x4962("0x44a")]("THREE.MapControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!x}},noKeys:{get:function(){return console[_0x4962("0x44a")]("THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead."),!this[_0x4962("0xc82")]},set:function(x){console[_0x4962("0x44a")]("THREE.MapControls: .noKeys has been deprecated. Use .enableKeys instead."),this[_0x4962("0xc82")]=!x}},staticMoving:{get:function(){return!this[_0x4962("0xc50")]},set:function(x){console[_0x4962("0x44a")](_0x4962("0xc83")),this[_0x4962("0xc50")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x4962("0x44a")](_0x4962("0xc84")),this.dampingFactor},set:function(x){console[_0x4962("0x44a")](_0x4962("0xc84")),this.dampingFactor=x}}})},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=r(e(298)),i=r(e(0)),a=r(e(1)),n=r(e(2));function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(){function x(_,e){(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0xc85")]=_,this[_0x4962("0x260")]=e,this.isFlying=!1}return(0,a[_0x4962("0xc")])(x,[{key:_0x4962("0xc86"),value:function(x){var _=x.direction,e=x[_0x4962("0x106")],t=x[_0x4962("0xc87")],i=void 0===t?3:t,a=x.zoomSpeed,n=void 0===a?5:a,r=x.radiusFactor,s=x[_0x4962("0xaa8")],o=x.complete;if(esmap[_0x4962("0xc88")]){var c=new(THREE[_0x4962("0x12c")])(e.x,this[_0x4962("0x260")][_0x4962("0x2c5")].y,e.z).distanceTo(this[_0x4962("0x260")][_0x4962("0x2c5")]),l=this[_0x4962("0x260")][_0x4962("0x9")][_0x4962("0xc89")]-r,f=Math.floor(c/i),d=Math[_0x4962("0x31")](Math[_0x4962("0x231")](l)/n);d<1e3&&(d=1e3),f<1e3&&(f=1e3);var u=0;switch(_){case esmap.ESDirection[_0x4962("0xc8a")]:u=179.99;break;case esmap[_0x4962("0xc88")][_0x4962("0xc8b")]:u=.01;break;case esmap.ESDirection[_0x4962("0xc8c")]:u=-90;break;case esmap[_0x4962("0xc88")].EAST:u=90;break;case esmap[_0x4962("0xc88")][_0x4962("0xc8d")]:u=135;break;case esmap.ESDirection[_0x4962("0xc8e")]:u=-135;break;case esmap[_0x4962("0xc88")][_0x4962("0xc8f")]:u=45;break;case esmap[_0x4962("0xc88")][_0x4962("0xc90")]:u=-45}var h=this;this[_0x4962("0x260")].moveToAnimate({x:-e.x,y:e.z,callback:function(){h[_0x4962("0x260")].flyToAnimate({thetaAngle:u,phiAngle:s},r,d,o)},time:f})}}},{key:_0x4962("0xc91"),value:function(x,_){var e=1+50/(0,t[_0x4962("0xc")])(x.x,x.y,x.z);this[_0x4962("0xc92")]({x:x.x*e,y:x.y*e,z:x.z*e},x,_||3e3)}},{key:"flyFocusTo",value:function(x){var _=x[_0x4962("0xc93")],e=x[_0x4962("0x69c")],t=x.pitchAngle,i=void 0===t?45:t,a=x[_0x4962("0xaa2")],n=void 0===a?0:a,r=x[_0x4962("0x1a5")],s=void 0===r?3:r,o=x.control,c=x[_0x4962("0x1b3")];this[_0x4962("0xc94")](!0),i=90-i>=0&&90-i<90?90-i:45;var l=e*Math[_0x4962("0x66d")](THREE[_0x4962("0x20e")][_0x4962("0x242")](i)),f=e*Math[_0x4962("0x6bc")](THREE.Math[_0x4962("0x242")](i)),d=new THREE.Vector2(0,0),u=new(THREE[_0x4962("0x568")])(f,0)[_0x4962("0xc95")](d,THREE[_0x4962("0x20e")][_0x4962("0x242")](n-90)),h=new(THREE[_0x4962("0x12c")])(_.x+u.x,_.y+l,_.z+u.y);return this.cameraPosition({x:h.x,y:h.y,z:h.z},_,1e3*s,o,c),h}},{key:_0x4962("0xc92"),value:function(x,_,e,t,i){var a=(t=t||this[_0x4962("0x260")])[_0x4962("0x9")]||this[_0x4962("0x260")][_0x4962("0x9")],r=this;if(x){var s=x,o=_||{x:0,y:0,z:0},c=(0,n[_0x4962("0xc")])({},a.position),l=t[_0x4962("0x2c5")][_0x4962("0x126")]();new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(c).to(s,e).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")]).onUpdate((function(x){var _,e,i,a,n,r;e=x,i=(_=t)[_0x4962("0x9")],a=e.x,n=e.y,r=e.z,void 0!==a&&(i[_0x4962("0x106")].x=a),void 0!==n&&(i[_0x4962("0x106")].y=n),void 0!==r&&(i[_0x4962("0x106")].z=r),_.update()})).onComplete((function(){r.toggleControlsLock(!1),i&&i(),t[_0x4962("0xc96")]&&t[_0x4962("0xc96")]()})).start(),new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(l).to(o,e)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x){var _,e;e=x,(_=t)[_0x4962("0x2c5")][_0x4962("0xd8")](e.x,e.y,e.z),_.update()}))[_0x4962("0x1b1")]()}}},{key:"toggleControlsLock",value:function(x){this.isFlying=x}}]),x}();_[_0x4962("0xc")]=s},,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=p(e(7)),i=p(e(8)),a=p(e(0)),n=p(e(1)),r=p(e(147)),s=p(e(302)),o=p(e(308)),c=e(310),l=e(320),f=p(e(322)),d=e(323),u=p(e(24)),h=e(20),g=e(80),b=e(66),v=e(27);function p(x){return x&&x.__esModule?x:{default:x}}var m={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},A=function(x){var _,e=x[v._mt_]<1*v[_0x4962("0xb6")][0]?x[v[_0x4962("0xbf")]]:x[v[_0x4962("0xbf")]]/(1*v._dtns_[1]),t=b[_0x4962("0x1c3")][_0x4962("0xaf")](esmap[_0x4962("0x8c")][v[_0x4962("0xb5")]](window[v[_0x4962("0xb8")]][_0x4962("0x7a")]))>-1;(new(window[v[_0x4962("0xd2")]]))[v[_0x4962("0xb7")]]()>e*(1*v[_0x4962("0xb6")][2])&&(t||((_=esmap[_0x4962("0x33")][_0x4962("0x3a")])[v[_0x4962("0xb4")]](),window[v[_0x4962("0xb3")]]((function(){return _[v[_0x4962("0xd3")]]()}),0)))},y=function(){function x(_){(0,a[_0x4962("0xc")])(this,x),this.map=_,this[_0x4962("0xb4c")]=new(l[_0x4962("0xc97")])(this),this[_0x4962("0x2b4")]=new(c[_0x4962("0xc98")])(this),this[_0x4962("0x53b")]=_.options,this[_0x4962("0xa74")]=[];var e=new(s[_0x4962("0xc")])(_);THREE[_0x4962("0x7d9")]=e,this[_0x4962("0x875")]=e,this[_0x4962("0xb16")]=!1,this[_0x4962("0xac6")]=!1,this[_0x4962("0xc99")]={},this[_0x4962("0x366")]=new(o[_0x4962("0xc")])(this),THREE[_0x4962("0xc9a")]=this[_0x4962("0x366")],this[_0x4962("0xc9b")]={},this[_0x4962("0x287")]={},this[_0x4962("0x3d1")]=0,this[_0x4962("0xc9c")]=!1,this[_0x4962("0xc9d")]={},this[_0x4962("0xc9e")]={},this[_0x4962("0xc9f")]=!1,this.modelLod=new(d[_0x4962("0xca0")])(_),this.navData={},this[_0x4962("0xaea")]=new(f[_0x4962("0xc")])(this),this.buildingBounds={},_[_0x4962("0x3b")][_0x4962("0x1f5")]?this.filterSingleMesh=!1:"low"==_.options[_0x4962("0x3aa")]&&(this[_0x4962("0xc9f")]=!0),this[_0x4962("0xca1")]=null,this._invisibles=[],this[_0x4962("0xca2")]("t",parseInt((new Date)[_0x4962("0x86")]()/1e3)),this[_0x4962("0x58e")]={},this[_0x4962("0xca3")]=!1}var _;return(0,n[_0x4962("0xc")])(x,[{key:"getModelImageById",value:function(x){return this[_0x4962("0x58e")][x]||null}},{key:_0x4962("0x80"),value:function(x){return m[x]}},{key:_0x4962("0xca2"),value:function(x,_){m[x]=_}},{key:_0x4962("0xca4"),value:function(x,_){var e,t=this,i=(this[_0x4962("0x48")][_0x4962("0x34")],new(THREE[_0x4962("0x12c")])(1,1.5,1));if(x[_0x4962("0xca5")]){var a=x[_0x4962("0xca5")].split(",");i=new THREE.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}if(x[_0x4962("0xca6")]){var n=Math.PI/180,r=x[_0x4962("0xca6")][_0x4962("0x2d")](",");e=new(THREE[_0x4962("0x241")])(parseFloat(r[0])*n,parseFloat(r[1])*n,parseFloat(r[2])*n)}var s=new(THREE[_0x4962("0x12c")])(x.x,x.y,0),o=this[_0x4962("0x48")][_0x4962("0x237")]({x:x[_0x4962("0xca7")],y:x[_0x4962("0xca8")],z:0});if(x.RMO){var c=x[_0x4962("0xca9")][_0x4962("0x2d")](",");o.x+=parseFloat(c[0]),o.y+=parseFloat(c[1]),o.z+=parseFloat(c[2]),s.x-=parseFloat(c[0]),s.z+=parseFloat(c[1]),s.y+=parseFloat(c[2])}var l={id:x._id,name:x.NA,rotation:e,position:o,scale:i,rotate:x[_0x4962("0xcaa")]};t[_0x4962("0xc9e")][x.RM]||(t[_0x4962("0xc9e")][x.RM]={}),t[_0x4962("0xc9e")][x.RM][_]||(t.singleMesheDatas[x.RM][_]=[]),t[_0x4962("0xc9e")][x.RM][_].push(l)}},{key:"loadBuilding",value:(_=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")].mark((function x(_){var e,i,a,n,r,s,o,c,l,f,d,b,p,m,y,C,I=this;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(this._isBuildingLoading=!0,e=_.id,i=(0,g[_0x4962("0x315")])(),a=this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")],n=u.default[_0x4962("0x6a")](_0x4962("0x52"),{buildingId:e,t:this[_0x4962("0x80")]("t")}),r=n.url,s=n.skMode,!(i.state[_0x4962("0xcab")][_0x4962("0xdd")]>3)||s){x[_0x4962("0x286")]=7;break}return x[_0x4962("0x28b")]("return");case 7:return x[_0x4962("0x286")]=9,this[_0x4962("0xb4c")][_0x4962("0xcac")]({url:r,skMode:s,id:e});case 9:if(o=x[_0x4962("0x33c")],a||(_.undergroundOffset=o[_0x4962("0xcad")]-1,_[_0x4962("0xcae")]&&(_[_0x4962("0xcaf")]=_.firstFloorNum-1)),o){x[_0x4962("0x286")]=13;break}return x[_0x4962("0x28b")]("return",!1);case 13:if(this[_0x4962("0xb4c")].oa(o)){x[_0x4962("0x286")]=16;break}return x.abrupt(_0x4962("0x28c"),!1);case 16:if(this.setState(_0x4962("0xb72"),o[_0x4962("0x107")]),this[_0x4962("0xca2")]("mapNameEn",o.nameEn),!_[_0x4962("0x78")]){x[_0x4962("0x286")]=21;break}return x.next=21,this.langLib.queryJsonData(e);case 21:if(!a||this[_0x4962("0x80")](v[_0x4962("0xbb")])){x.next=23;break}return x.abrupt(_0x4962("0x28c"));case 23:return c=_[_0x4962("0x72")]||o.styleid||"2001",l=void 0,x[_0x4962("0x285")]=25,x[_0x4962("0x286")]=28,this.buildingService[_0x4962("0xcb0")]({themeID:c,buildingId:e});case 28:l=x[_0x4962("0x33c")],x[_0x4962("0x286")]=36;break;case 31:return x[_0x4962("0x285")]=31,x.t0=x.catch(25),h[_0x4962("0x37")].post({msg:""+x.t0,level:_0x4962("0xe0")}),this[_0x4962("0x48")].fire("themeLoadError",x.t0),x[_0x4962("0x28b")](_0x4962("0x28c"),!1);case 36:if(this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xcb1"),{id:c,data:l,bid:e}),this[_0x4962("0xca1")]=e,this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xcb2")]({id:c,data:l,buildingId:e}),(f=new(esmap[_0x4962("0x64b")])(e,_,this[_0x4962("0x48")]))[_0x4962("0x9d")]=o[_0x4962("0xcb3")],f.name=o[_0x4962("0x107")],f[_0x4962("0xa5")]=o.version,f[_0x4962("0x131")]={x:o[_0x4962("0xcb4")],y:o[_0x4962("0xcb5")]},f.themeID=c,!a||void 0!==this[_0x4962("0x80")]("ul")){x[_0x4962("0x286")]=47;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 47:if(this[_0x4962("0xb4c")][_0x4962("0xcb6")](o,f),(d=this.buildingService[_0x4962("0xcb7")](o,f)).DefaultCenX=-d[_0x4962("0xcb4")],d.x=-d.x,this.map[_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0xda")](f[_0x4962("0xf2")]),f.focusFnum_=1,b=f[_0x4962("0x699")],1!=(p=f[_0x4962("0x3b")][_0x4962("0xcb8")])&&b.indexOf(p)>-1&&(b[0]=b[_0x4962("0x4")](p-1,1,b[0])[0]),f[_0x4962("0xaa4")]=JSON.parse("["+o.ScaleLevel+"]"),f[_0x4962("0xb27")]=esmap[_0x4962("0x940")].calcSceneBox3(o),m=f.options.visibleFloors==_0x4962("0x698")?b:f.options[_0x4962("0xcb9")],a||(2===f[_0x4962("0x3b")][_0x4962("0xcba")]?m=b[_0x4962("0x2e2")]((function(x){return x>f[_0x4962("0x3b")][_0x4962("0xcaf")]})):(y=b[_0x4962("0x46f")]((function(x,_){return _-x}))[0],m=[y],f[_0x4962("0x3b")][_0x4962("0xcb8")]=y)),f.baseHigh=o[_0x4962("0xb28")][_0x4962("0x2e2")]((function(x){return x[_0x4962("0xcbb")]-_[_0x4962("0xcaf")]==1}))[0][_0x4962("0xb29")],f[_0x4962("0xcbc")]=m,C=0,!a||void 0!==this.getState("o2")){x.next=65;break}return x.abrupt(_0x4962("0x28c"));case 65:if(!a){x.next=70;break}if(!o[_0x4962("0x3de")]){x[_0x4962("0x286")]=70;break}if(esmap.ESMapUtil[_0x4962("0x89")](o.ul+"|"+o[v[_0x4962("0xbf")]]+"|"+o.o1+"|"+o.o2)==o[_0x4962("0x3de")]){x[_0x4962("0x286")]=70;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 70:return this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x80")]("sk")&&this[_0x4962("0x48")].options.editMode&&(f._allRoomList={}),A(o),f[_0x4962("0xcbd")](C,b,(function(){})),f.on(_0x4962("0xcbe"),(function(){I[_0x4962("0xca3")]=!1})),x[_0x4962("0x28b")](_0x4962("0x28c"),f);case 75:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this,[[25,31]])}))),function(x){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x29a"),value:function(){m={logo:!0,sk:!1,navBrand:"",ul:0,o2:0},this[_0x4962("0xb16")]=!1,this._disableTileUpdate=!1,this[_0x4962("0xc99")]={},this[_0x4962("0xc9b")]={},this[_0x4962("0x287")]={},this[_0x4962("0x3d1")]=0,this.modelInited=!1,this.modelLoadings={},this[_0x4962("0xc9e")]={},this[_0x4962("0xc9f")]=!1,this.navData={},this[_0x4962("0x69d")]={},this[_0x4962("0xa36")]=!1}},{key:_0x4962("0x3d"),get:function(){return this[_0x4962("0x48")].id}}]),x}();y[_0x4962("0xcbf")]=r[_0x4962("0xc")],_[_0x4962("0xc")]=y},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var t=o(e(9)),i=o(e(7)),a=o(e(8)),n=o(e(64)),r=o(e(0)),s=o(e(1));function o(x){return x&&x.__esModule?x:{default:x}}var c=function(){function x(_){(0,r[_0x4962("0xc")])(this,x),this[_0x4962("0x48")]=_,this.enabled=!1,this[_0x4962("0xcc0")]=!0,this[_0x4962("0xcc1")]=(new Date)[_0x4962("0x86")](),this[_0x4962("0xcc2")]=2592e5,this.timeMap=new(n[_0x4962("0xc")]),this.inited=!1}var _,e,o,c;return(0,s.default)(x,[{key:_0x4962("0x39"),value:(c=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _,e=this;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return x[_0x4962("0x286")]=2,this[_0x4962("0xcc3")]({db:_0x4962("0xcc4"),version:2});case 2:if(_=x[_0x4962("0x33c")]){x[_0x4962("0x286")]=6;break}throw this[_0x4962("0xcc5")](),new Error(_0x4962("0xcc6"));case 6:this.db=_,this.pending=!1,this[_0x4962("0x710")]=!0,this[_0x4962("0xa26")]=!0,this[_0x4962("0x48")][_0x4962("0xaa3")](_0x4962("0xa36"),(function(){setTimeout((function(){e[_0x4962("0xcc7")](),e[_0x4962("0xcc8")]()}),3e3)}));case 11:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return c[_0x4962("0x2a4")](this,arguments)})},{key:"update",value:(o=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")].mark((function x(_){return i[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(this[_0x4962("0x3d")]=_,this.map[_0x4962("0x3b")][_0x4962("0xcc9")]){x[_0x4962("0x286")]=3;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 3:if(this.inited){x[_0x4962("0x286")]=6;break}return x[_0x4962("0x286")]=6,this.init();case 6:return x[_0x4962("0x286")]=8,this[_0x4962("0xcca")]({id:_,updatetime:this.startTime,active:!0});case 8:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x){return o.apply(this,arguments)})},{key:_0x4962("0xccb"),value:function(x){var _=this.db[_0x4962("0xccc")](_0x4962("0xccd"),_0x4962("0xcce"))[_0x4962("0xccf")](_0x4962("0xccd"))[_0x4962("0xcd0")](x);_.onsuccess=function(){},_[_0x4962("0x632")]=function(){console[_0x4962("0xe0")](_0x4962("0xcd1"))}}},{key:"getCacheObject",value:function(x){var _=this.db,e=this[_0x4962("0x3d")]+":"+x;return new(t[_0x4962("0xc")])((function(x){var t=_.transaction(_0x4962("0xccd"))[_0x4962("0xccf")](_0x4962("0xccd")).get(e);t[_0x4962("0xcd2")]=function(){x(t[_0x4962("0xcd3")])},t[_0x4962("0x632")]=function(){x(null)}}))}},{key:_0x4962("0xcd4"),value:function(x){var _=x.url,e=x[_0x4962("0xcd5")],i=this.mapId+":"+_,a=this.db;return new(t[_0x4962("0xc")])((function(x){var _=a[_0x4962("0xccc")](_0x4962("0xccd"))[_0x4962("0xccf")]("cacheObjects").get(i);_[_0x4962("0xcd2")]=function(){_[_0x4962("0xcd3")]&&1*_[_0x4962("0xcd3")].updatetime==1*e?x(!0):x(!1)},_[_0x4962("0x632")]=function(){x(!1)}}))}},{key:"tryClearOldVersions",value:function(){var x=window[_0x4962("0xcd6")][_0x4962("0xcd7")](_0x4962("0xcd8"));x.onerror=function(){},x.onsuccess=function(){}}},{key:"clearOutDated",value:function(x){this[_0x4962("0xcd9")](x);for(var _=this.db[_0x4962("0xccc")](_0x4962("0xccd"),"readwrite")[_0x4962("0xccf")]("cacheObjects").index(_0x4962("0xcda")),e=0;e<x[_0x4962("0x0")];e++){var t=x[e];_[_0x4962("0xcdb")](IDBKeyRange[_0x4962("0xcdc")]([t]))[_0x4962("0xcd2")]=function(x){var _=x[_0x4962("0x2c5")][_0x4962("0xcd3")];_&&(_[_0x4962("0x282")](),_.continue())}}}},{key:_0x4962("0xcc8"),value:(e=(0,a[_0x4962("0xc")])(i.default.mark((function x(){var _,e,t,a,n,r,s,o,c=this;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:_=this[_0x4962("0x3d")],e=this.db,t=this[_0x4962("0xcc1")],a=this.expiresIn,n=e[_0x4962("0xccc")](_0x4962("0xcdd"),_0x4962("0xcce")),r=n[_0x4962("0xccf")](_0x4962("0xcdd")),s=r[_0x4962("0xcdb")](),o=[],s[_0x4962("0xcd2")]=function(x){var e=x[_0x4962("0x2c5")][_0x4962("0xcd3")];if(e){var i=e[_0x4962("0xe3")];if(i.id===_||!i[_0x4962("0xcde")])return void e[_0x4962("0x692")]();var n=i[_0x4962("0xcd5")];t-n>a&&o[_0x4962("0x3")](i.id),e[_0x4962("0x692")]()}else c[_0x4962("0xcdf")](o)};case 9:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xcc5"),value:function(){if(window[_0x4962("0xcd6")]){var x=window[_0x4962("0xcd6")][_0x4962("0xcd7")](_0x4962("0xcc4"));x[_0x4962("0x632")]=function(){_0x4962("0xce0")},x[_0x4962("0xcd2")]=function(){};var _=window[_0x4962("0xcd6")].deleteDatabase(_0x4962("0xce1"));_[_0x4962("0x632")]=function(){console[_0x4962("0xe0")]("Error deleting database ESBIM")},_[_0x4962("0xcd2")]=function(){}}}},{key:_0x4962("0xce2"),value:(_=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")].mark((function x(){return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(window[_0x4962("0xcd6")]&&this.db){x[_0x4962("0x286")]=2;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 2:return this.db[_0x4962("0x2e3")](),x[_0x4962("0x286")]=5,this[_0x4962("0x39")]();case 5:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return _.apply(this,arguments)})},{key:"upsert",value:function(x){if(this[_0x4962("0x710")]){var _=this.db,e=this[_0x4962("0x3d")],i=e+":"+x.id,a=x[_0x4962("0xcd5")];new(t[_0x4962("0xc")])((function(t){_[_0x4962("0xccc")](_0x4962("0xccd"),"readwrite")[_0x4962("0xccf")](_0x4962("0xccd"))[_0x4962("0xcd0")]({mapid:e,id:i,data:x[_0x4962("0x57b")],updatetime:a})[_0x4962("0xcd2")]=function(){t()}}))}}},{key:_0x4962("0xcd9"),value:function(x){this.db[_0x4962("0xccc")]("cacheMaps","readwrite").objectStore(_0x4962("0xcdd")).openCursor()[_0x4962("0xcd2")]=function(_){var e=_[_0x4962("0x2c5")][_0x4962("0xcd3")];if(e){var t=e[_0x4962("0xe3")];-1!==x[_0x4962("0xaf")](t.id)&&(t[_0x4962("0xcde")]=!1,e[_0x4962("0x165")](t)),e[_0x4962("0x692")]()}}}},{key:_0x4962("0xcca"),value:function(x){var _=this.db;return new(t[_0x4962("0xc")])((function(e){var t=_.transaction(_0x4962("0xcdd"),"readwrite")[_0x4962("0xccf")](_0x4962("0xcdd"))[_0x4962("0xcd0")](x);t.onsuccess=function(){e()},t[_0x4962("0x632")]=function(){e()}}))}},{key:_0x4962("0xcc3"),value:function(x){return new(t[_0x4962("0xc")])((function(_){if(window[_0x4962("0xcd6")]){var e=window[_0x4962("0xcd6")][_0x4962("0x2e4")](x.db,x.version);e[_0x4962("0xce3")]=function(x){var _=x[_0x4962("0x2c5")][_0x4962("0xcd3")];_[_0x4962("0xce4")].contains(_0x4962("0xccd"))&&_[_0x4962("0xce5")](_0x4962("0xccd")),_[_0x4962("0xce4")][_0x4962("0x4f9")]("cacheMaps")&&_[_0x4962("0xce5")](_0x4962("0xcdd")),_[_0x4962("0xce6")](_0x4962("0xccd"),{keyPath:"id"}).createIndex(_0x4962("0xcda"),[_0x4962("0xce7")],{unique:!1}),_[_0x4962("0xce6")](_0x4962("0xcdd"),{keyPath:"id"})},e[_0x4962("0xcd2")]=function(){var x=e.result;_(x)},e[_0x4962("0x632")]=function(x){e[_0x4962("0xce8")];_0x4962("0xce9"),_(!1)}}else _(!1)}))}}]),x}();_[_0x4962("0xc")]=c},,,,,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=e(309);function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this.modelImageTexturePool={},this[_0x4962("0xcea")]={},this[_0x4962("0x7f")]=_,this.main={},this[_0x4962("0xceb")]={},this[_0x4962("0xcec")]=[];var e=new(THREE[_0x4962("0x18c")]);e.crossOrigin=_0x4962("0x7b3"),this[_0x4962("0x877")]=e;var i=new Image,n=(new XMLSerializer).serializeToString((new DOMParser)[_0x4962("0xced")](this[_0x4962("0x7f")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3b3")]?a[_0x4962("0xcee")]:'<svg width="2" height="2" xmlns="6"> <rect width="2" height="2" fill="none" /></svg>',_0x4962("0xcef"))),r=btoa(n);i.src=_0x4962("0xcf0")+r,this[_0x4962("0xcf1")]=i,this[_0x4962("0xcf2")]={}}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0xcf3"),value:function(x,_,e){var t=this;t[_0x4962("0xcec")][_0x4962("0xaf")](x)<0&&!t[_0x4962("0xcf2")][x]&&(t.loadRecords[_0x4962("0x3")](x),t[_]||(t[_]={}),this.textureLoader.load(x,(function(x){x[_0x4962("0x363")]=t.mapService.map[_0x4962("0x1c6")].renderer.capabilities.getMaxAnisotropy(),t[_][e]=x}),null,(function(){t[_0x4962("0xcf2")][x]=!0,t[_][e]=null})))}},{key:_0x4962("0x367"),value:function(x,_){var e=this;if(this[_0x4962("0xceb")][x])_(this[_0x4962("0xceb")][x]);else if(e[_0x4962("0xcf2")][x])_(e[_0x4962("0xcf1")]);else{var t=new Image;t[_0x4962("0x7ba")]=_0x4962("0x7b3"),t.src=x,t[_0x4962("0xc42")]=function(){e.imgs[x]=this,_(this)},t[_0x4962("0x632")]=function(){e.failed[x]=!0,_(e[_0x4962("0xcf1")])}}}},{key:_0x4962("0xcf4"),value:function(x){var _=this;return this[_0x4962("0x140")][x]?this[_0x4962("0x140")][x][_0x4962("0x126")]():_[_0x4962("0xcf2")][x]?void 0:this[_0x4962("0x877")].load(x,(function(e){e[_0x4962("0x363")]=_.mapService[_0x4962("0x990")][_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x369")][_0x4962("0x36a")](),_[_0x4962("0x140")][x]=e[_0x4962("0x126")]()}),null,(function(){_.main[x]=null,_[_0x4962("0xcf2")][x]=!0}))}},{key:_0x4962("0x611"),value:function(x,_,e,t){var i=this;if(this[_0x4962("0x140")][x]){var a=this[_0x4962("0x140")][x][_0x4962("0x126")]();return _&&setTimeout((function(){_(a)}),0),a}return i[_0x4962("0xcf2")][x]?new(THREE[_0x4962("0x368")]):this.textureLoader.load(x,(function(e){i.main[x]=e[_0x4962("0x126")](),_&&_(e)}),e,(function(){i[_0x4962("0xcf2")][x]=!0,t&&t()}))}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});_[_0x4962("0xcee")]=_0x4962("0xcf5")},function(x,_,e){"use strict";(function(x){Object[_0x4962("0x6")](_,"__esModule",{value:!0}),_[_0x4962("0xc98")]=void 0;var t=k(e(23)),i=k(e(14)),a=k(e(7)),n=k(e(8)),r=k(e(9)),s=k(e(15)),o=k(e(0)),c=k(e(1)),l=e(34),f=e(42),d=e(43),u=e(19),h=k(e(110)),g=k(e(153)),b=e(76),v=k(e(24)),p=k(e(112)),m=e(109),A=e(65),y=e(20),C=e(66),I=k(e(35)),E=e(154),w=e(80),T=e(27);function k(x){return x&&x.__esModule?x:{default:x}}var M=_0x4962("0x1b9"),S={1:_0x4962("0x6ae"),2:_0x4962("0x1b9"),3:_0x4962("0xb00")},R=null,L=1,H=null,D=e(319),O=e(155),P=null,N=!1,F=null,B=null,z=!1,U=function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];x[T[_0x4962("0xb4")]](),window[T[_0x4962("0xb3")]]((function(){return x[T[_0x4962("0xd3")]]()}),0)},V=function(){if(!z){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")],_=F,e=x[_0x4962("0x3b")][T[_0x4962("0xc1")]],t=x[_0x4962("0x3b")][T[_0x4962("0xc0")]],i=_.mtime,a=(new window[T._dt_])[T._dtgt_](),n=document[T[_0x4962("0xbd")]],r=null,s=x[_0x4962("0x3b")][_0x4962("0x88")];3!=_[_0x4962("0x88")]&&3==s&&U();var o=!1,c=_[T._tk_],l=esmap.ESMapUtil[T._eco_](c)===_0x4962("0xcf6"),f=C[_0x4962("0x1c3")].indexOf(esmap[_0x4962("0x8c")][T._eco_](window[T._lct_].origin))>-1;if(a-_.mtime*(1*T[_0x4962("0xb6")][2])>0&&!f)U();else if(esmap[_0x4962("0x8c")][T._eco_](_[_0x4962("0x5b8")]+""+_[_0x4962("0x5bb")]+_[_0x4962("0x5ca")]+_[_0x4962("0x5cb")]+_[T[_0x4962("0xc0")]]+_[T[_0x4962("0xc1")]]+ +_.bidnums+_.modnums+_0x4962("0xb0d")+_.o1+_.ul)===_[T[_0x4962("0xbc")]]){if(x[_0x4962("0x3b")].s&&x.options.k&&(o=!0),x[T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1,!o||!x[_0x4962("0xb0e")]){!0;var u=n,h=(0,d.decode)(_[T._rm_],T._esrm_,""),g=esmap[_0x4962("0x8c")][T[_0x4962("0xb5")]](u),b=C[_0x4962("0x1c3")][_0x4962("0xaf")](g)>-1;if(b,!h)return void U();if(l||b)r="lc";else{var v=!1,p=h[_0x4962("0x2d")](","),m=!1;if(r={},p[_0x4962("0x20")]((function(x){var _=i,e=x;if(x[_0x4962("0x63")]("|")){var t=x[_0x4962("0x2d")]("|");e=t[0];var n=isNaN(1*t[1])?_:1*t[1];_=Math.min(_,n)}if(!(e.length<3)&&(r[e]=_*(1*T[_0x4962("0xb6")][2]),u[_0x4962("0xaf")](e)>-1)){if(v=!0,a-_*(1*T[_0x4962("0xb6")][2])>0)return void U();m=!0}})),(0,d[_0x4962("0x10d")])(x.id)&&(m=!0),!v)return void U();if(!m)return void U()}var A=[_[T[_0x4962("0xc1")]],_[T[_0x4962("0xc0")]]],y=[e,t];(0,w[_0x4962("0x315")])();if(x[T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")].visible=!1,(0,d[_0x4962("0x10e")])(x.id))x[T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1;else if(A[0]&&y[0]){var I=esmap[_0x4962("0x8c")][T[_0x4962("0xb5")]](T[_0x4962("0xd4")]+_[_0x4962("0x5c1")]+y[0]);x[T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=I!=A[0]}if(!l){if(!y[1]&&1!=s)return void U();if(esmap[_0x4962("0x8c")][T[_0x4962("0xb5")]](_[_0x4962("0x3df")]+""+y[1])!=A[1]&&3==s)return void U()}}z=!0}else U()}},j=function(){function _(x){var e=this;(0,o[_0x4962("0xc")])(this,_),this[_0x4962("0x3c2")]=x,this[_0x4962("0x48")]=x[_0x4962("0x48")],this[_0x4962("0xb18")]=[],this.loadedList=[],this[_0x4962("0xcf7")]=[],this[_0x4962("0xaf1")]={},this[_0x4962("0xb11")]=[],this.currentShows=[],this[_0x4962("0xc2a")]=null,this[_0x4962("0xac8")]=[],this[_0x4962("0xa2e")]={},this[_0x4962("0xcf8")]=[],this[_0x4962("0xcf9")]={},this[_0x4962("0x404")]={},this.LOD={1:12,2:16,3:18},this[_0x4962("0xcfa")]={buildings:0,models:0},this[_0x4962("0xa7a")]=[],this[_0x4962("0x2cf")]=!1,this.tileInited=!1,this[_0x4962("0xb40")]=null,this[_0x4962("0xcfb")]=null,this[_0x4962("0xac7")]=[],this.failedNavs={},this[_0x4962("0xcfc")]=!1,this.bidList={},this.failedTiles={},this.toLoadedBuildings=[],this[_0x4962("0xa92")]={},this[_0x4962("0xcfd")]=[],this.tileUrl="",this._o1=0,this._mo=0,this[_0x4962("0x54c")]=0,this[_0x4962("0xec")]=f[_0x4962("0xec")],this[_0x4962("0xcfe")]=0,this.preLoadBuildingId=null,this[_0x4962("0x385")]=null,this[_0x4962("0xcff")]=0,this[_0x4962("0xd00")]=null,this[_0x4962("0xd01")]=!1,this._sccd=V,(0,E[_0x4962("0x5a8")])(O[_0x4962("0x5b1")],[_0x4962("0xd02"),_0x4962("0xd03"),_0x4962("0xd04"),_0x4962("0xd05"),_0x4962("0xd06"),_0x4962("0xd07"),_0x4962("0xc2"),_0x4962("0xd08")]),this[_0x4962("0x48")].on(_0x4962("0xd09"),(function(x){switch(e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xd0a")]){case esmap[_0x4962("0x61c")][_0x4962("0xc4b")]:e[_0x4962("0xd0b")](x[_0x4962("0x131")],!0);break;case esmap.ShowBuildingMode[_0x4962("0xd0c")]:x[_0x4962("0xd0d")]()}if(e.map[_0x4962("0x687")][_0x4962("0x0")]>=e.map[_0x4962("0x3b")][_0x4962("0xd0e")]&&!e[_0x4962("0x48")][_0x4962("0x3b")].buildingCache)if(e.map._cityLocMarkers.length>0){var _=!0,t=!1,i=void 0;try{for(var a,n=(0,s[_0x4962("0xc")])(e[_0x4962("0x48")]._cityLocMarkers);!(_=(a=n[_0x4962("0x286")]())[_0x4962("0x426")]);_=!0){var r=a[_0x4962("0xe3")],o=!0,c=!1,l=void 0;try{for(var f,d=(0,s.default)(e[_0x4962("0x48")][_0x4962("0x687")]);!(o=(f=d.next())[_0x4962("0x426")]);o=!0){var u=f[_0x4962("0xe3")];r.bid_!==u.id?e.map[_0x4962("0xaf9")](u.id):console.info(_0x4962("0xd0f")+u.id,_0x4962("0xd10"))}}catch(x){c=!0,l=x}finally{try{!o&&d[_0x4962("0x28c")]&&d[_0x4962("0x28c")]()}finally{if(c)throw l}}}}catch(x){t=!0,i=x}finally{try{!_&&n.return&&n[_0x4962("0x28c")]()}finally{if(t)throw i}}}else{var h=e[_0x4962("0x48")][_0x4962("0x687")][0];e[_0x4962("0x48")][_0x4962("0xaf9")](h.id)}})),this[_0x4962("0x48")].on(_0x4962("0xaef"),(function(x){var _=x[_0x4962("0x130")];switch(e[_0x4962("0x48")][_0x4962("0x3b")].showBuildingMode){case esmap[_0x4962("0x61c")][_0x4962("0xc4b")]:e[_0x4962("0xd0b")](e.map[_0x4962("0x131")],!1);break;case esmap[_0x4962("0x61c")][_0x4962("0xd0c")]:e.map[_0x4962("0x578")](_)[_0x4962("0xd11")]()}}))}var e;return(0,c[_0x4962("0xc")])(_,[{key:_0x4962("0xd12"),value:function(){var x=!(arguments[_0x4962("0x0")]>0&&void 0!==arguments[0])||arguments[0],_=this[_0x4962("0x48")],e={color:"#FF0000",lineWidth:120,alpha:1,offsetHeight:50,pickable:!1,smooth:!1,fixedWidth:!1,lineType:esmap.ESLineType.DOTTED,noAnimate:!1};if(x)for(var t in _.tileList){var i=_[_0x4962("0x67e")][t],a=i.id[_0x4962("0x2d")]("_"),n=(0,f[_0x4962("0xec")])(1*a[0],1*a[1],_[_0x4962("0x3b")].worldScale,!0),r=[{x:n[_0x4962("0xfd")],y:n.miny},{x:n[_0x4962("0xfd")],y:n.maxy},{x:n[_0x4962("0xf9")],y:n.maxy},{x:n[_0x4962("0xf9")],y:n[_0x4962("0xfe")]},{x:n[_0x4962("0xfd")],y:n[_0x4962("0xfe")]}],s=new(esmap[_0x4962("0x401")])({id:i.id+"-BOUNDS",bid:0,points:r,style:e});_[_0x4962("0x403")](s)}else for(var o in _[_0x4962("0x67e")]){var c=_[_0x4962("0x67e")][o].id+_0x4962("0xd13");_[_0x4962("0xa3b")](c)}}},{key:_0x4962("0xd0b"),value:function(x,_){var e=this;this[_0x4962("0x48")][_0x4962("0x9cc")]++;var t=[],i=(0,A.getNearTilesByCoord)({coord:x}),a=[esmap[_0x4962("0x3d6")][_0x4962("0x3da")],esmap[_0x4962("0x3d6")][_0x4962("0x3d7")]];i[_0x4962("0x20")]((function(x){var _=e[_0x4962("0x48")][_0x4962("0x310")](x);_&&_[_0x4962("0x3c3")][_0x4962("0xa68")][_0x4962("0x20")]((function(x){a[_0x4962("0x63")](x[_0x4962("0xa69")])||t.push(x)}))}));if(_){t[_0x4962("0x20")]((function(x){x[_0x4962("0x2")](_0x4962("0xd14"))||(x.planishValue=0),x[_0x4962("0xd14")]+=1})),t=t[_0x4962("0x2e2")]((function(x){return!x[_0x4962("0xd15")]})),new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:1}).to({value:.25},1e3).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")].Out)[_0x4962("0x173")]((function(x){t[_0x4962("0x20")]((function(_){_.plannished||(_[_0x4962("0xd15")]=!0),_[_0x4962("0xf2")].scale.y=x[_0x4962("0xe3")]}))}))[_0x4962("0x1b0")]((function(){e[_0x4962("0x48")][_0x4962("0x9cc")]--})).start()}else{t[_0x4962("0x20")]((function(x){x[_0x4962("0x2")](_0x4962("0xd14"))&&(x[_0x4962("0xd14")]-=1)})),t=t[_0x4962("0x2e2")]((function(x){return x.plannished&&0===x[_0x4962("0xd14")]})),new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:.25}).to({value:1},1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x){t[_0x4962("0x20")]((function(_){_[_0x4962("0xd15")]&&(_[_0x4962("0xd15")]=!1),_.o3d_[_0x4962("0x1fe")].y=x.value}))})).onComplete((function(){e[_0x4962("0x48")]._buildingAnimating--}))[_0x4962("0x1b1")]()}}},{key:_0x4962("0xd16"),value:function(x){S=x}},{key:_0x4962("0xd17"),value:function(x){return x===_0x4962("0xb0a")?O.ESCityLicSet:null}},{key:"getBuildingOptions",value:function(x){return(0,m[_0x4962("0x37c")])(x)}},{key:_0x4962("0x39"),value:function(){this.Tilelimit=(Math[_0x4962("0x31")](Math[_0x4962("0x120")](this[_0x4962("0x3b")][_0x4962("0xb14")]))-1)/2}},{key:_0x4962("0xd18"),value:function(x){for(var _=0;_<this[_0x4962("0xa7a")][_0x4962("0x0")];_++){var e=this[_0x4962("0xa7a")][_];if(x[e[_0x4962("0x686")]]==e.value)return e[_0x4962("0x57b")]}return!1}},{key:_0x4962("0xa39"),value:function(){if(this[_0x4962("0xa3a")][_0x4962("0x0")]>0)for(var x=0;x<this[_0x4962("0xa3a")][_0x4962("0x0")];x++){var _=this[_0x4962("0xa3a")][x];this[_0x4962("0xa92")][_]&&(this[_0x4962("0xa05")](this[_0x4962("0xa92")][_]),this[_0x4962("0xa3a")][_0x4962("0x4")](x,1))}}},{key:_0x4962("0xbea"),value:function(x,_){var e=Math[_0x4962("0x300")](x[_0x4962("0xfd")],_[_0x4962("0xfd")]),t=Math[_0x4962("0x300")](x[_0x4962("0xfe")],_[_0x4962("0xfe")]),i=Math.min(x[_0x4962("0xf9")],_.maxx),a=Math.min(x.maxy,_[_0x4962("0xfa")]),n=!(e>i||t>a);return n}},{key:_0x4962("0xd19"),value:function(x){var _=(new(g[_0x4962("0xc")][_0x4962("0x5a7")])).parse(x);return{points:_[_0x4962("0x59f")],holes:_[_0x4962("0x5a0")]}}},{key:"addBuildingColorStaged",value:function(x){for(var _ in this.buildingColorStaged){var e=this[_0x4962("0xa7a")][_];if(e[_0x4962("0xe3")]==x[_0x4962("0xe3")]&&e[_0x4962("0x686")]==x[_0x4962("0x686")])return void(e[_0x4962("0x57b")]=x[_0x4962("0x57b")])}this.buildingColorStaged[_0x4962("0x3")](x)}},{key:_0x4962("0xb0b"),value:function(x){L=x}},{key:_0x4962("0xb10"),value:function(){return L}},{key:_0x4962("0xac9"),value:function(x){if(64==this.cachedTiles[_0x4962("0x0")]){var _=this[_0x4962("0xac8")][_0x4962("0x224")]();for(var e in this[_0x4962("0x48")][_0x4962("0x194")].watchingList[_.id]=[],this[_0x4962("0xa92")])this[_0x4962("0xa92")][e]&&this[_0x4962("0xa92")][e][_0x4962("0x130")]==_.id&&(this[_0x4962("0xa92")][e]=null);_[_0x4962("0x3c9")][_0x4962("0xd1a")][_.id]=!1,_=null}this[_0x4962("0xac8")][_0x4962("0x3")](x)}},{key:_0x4962("0xd1b"),value:function(){this[_0x4962("0x3cb")]=this.currentShows.concat(this[_0x4962("0xb43")]),this[_0x4962("0xb11")]=this[_0x4962("0xb11")][_0x4962("0x12")](this[_0x4962("0xb43")]),this[_0x4962("0x48")][_0x4962("0x2d1")](),this.secondViews=[]}},{key:"queryLic",value:function(x){var _=this[_0x4962("0x48")].id,e=this.map.s,t=this[_0x4962("0x48")][_0x4962("0x88")];return new r.default((function(i,a){esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:x,isArrayBuffer:!0})[_0x4962("0x493")]((function(x){var _=new Uint8Array(x);i(_)}))[_0x4962("0xe0")]((function(){1===e&&1===t?b[_0x4962("0x1c4")][_0x4962("0x1c5")]({code:2012,param:[_,3]}):b[_0x4962("0x1c4")].throw({code:2006,param:[_,3]}),a(!1)}))}))}},{key:"_n",value:function(){}},{key:"_k",value:function(){}},{key:"_l",value:function(){}},{key:"oa",value:(e=(0,n[_0x4962("0xc")])(a.default[_0x4962("0x283")]((function _(){var e,t,i,n,r,s,o,c,l,f,u,h,g,p,m,A,I,E,k,R,L,D,B,z,U,V,j,Y,Z,W,G,X,Q,J,K,q,$,xx,_x,ex,tx,ix;return a[_0x4962("0xc")][_0x4962("0x284")]((function(_){for(;;)switch(_[_0x4962("0x285")]=_.next){case 0:return t=(e=this).map[_0x4962("0x3b")],i=e[_0x4962("0x48")].id,n=t[T[_0x4962("0xc1")]],r=t[T[_0x4962("0xc0")]],s=t[_0x4962("0x88")],o=3==t[_0x4962("0x88")],c=v[_0x4962("0xc")].getPath(_0x4962("0xd1d")),l=c.url,f=c[_0x4962("0xd1e")],u=null,h=null,_[_0x4962("0x285")]=10,_[_0x4962("0x286")]=13,this[_0x4962("0xd1f")](l,f);case 13:g=_[_0x4962("0x33c")],o||(0,d[_0x4962("0x10b")])(i+""+s+f,g),u=O[_0x4962("0x5b1")][_0x4962("0x4b")](g),F=u,_.next=24;break;case 19:return _[_0x4962("0x285")]=19,_.t0=_[_0x4962("0x880")](10),y.MessagePoster[_0x4962("0x1dc")]({msg:esmap[_0x4962("0x289")][_0x4962("0xd20")]+": "+l,level:_0x4962("0xe0")}),y[_0x4962("0x37")][_0x4962("0x1dc")]({msg:""+_.t0.toString(),level:_0x4962("0xe0")}),_[_0x4962("0x28b")]("return");case 24:if(p=u.mtime,m=(new Date).getTime(),A=document[T._dm_],I=!1,E=!1,k=parseInt(u.v%10),R=S[k],null!=t[_0x4962("0x9c9")]&&(k=t[_0x4962("0x9c9")],R=S[k]),L=_0x4962("0xd21")+i+_0x4962("0xd22")+k,u[_0x4962("0x5b2")]&&(D=esmap[_0x4962("0x8c")].timestampToTime(1e3*u[_0x4962("0x5b2")]),L+=_0x4962("0xd23")+D),L+=e.map[_0x4962("0x1c6")][_0x4962("0xbd1")](),y[_0x4962("0x37")][_0x4962("0x1dc")]({msg:[L,_0x4962("0xd24")],level:_0x4962("0xbb7")}),3==u.tid||3!=s){_[_0x4962("0x286")]=40;break}return console[_0x4962("0x44a")](esmap[_0x4962("0x289")][_0x4962("0xd25")]),y.MessagePoster[_0x4962("0x1dc")]({msg:esmap[_0x4962("0x289")][_0x4962("0xd25")],level:_0x4962("0xe0")}),_[_0x4962("0x28b")](_0x4962("0x28c"));case 40:if(P=u[T[_0x4962("0xc0")]],e[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xb72"),u[_0x4962("0x107")]),e[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xb74"),u[_0x4962("0x107")]),e.service.setState("l0",u.o2||0),e.service[_0x4962("0xca2")]("l1",u.l1||0),e[_0x4962("0x3c2")][_0x4962("0xca2")]("l2",u.l2||0),e[_0x4962("0x3c2")][_0x4962("0xca2")]("l3",u.l3||0),e[_0x4962("0x3c2")][_0x4962("0xca2")]("l4",u.l4||0),u[_0x4962("0x5b7")]&&(e[_0x4962("0x385")]={directionAngle:u[_0x4962("0x5b5")],pitchAngle:u[_0x4962("0x5b6")],radius:u[_0x4962("0x5b7")],time:0,x:u.x,y:u.y,z:0},e[_0x4962("0x48")][_0x4962("0x3b")].center&&(e[_0x4962("0x385")].x=e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x131")].x,e.defaultView.y=e.map[_0x4962("0x3b")][_0x4962("0x131")].y)),(e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x385")]||!1===e.map[_0x4962("0x3b")][_0x4962("0x385")])&&(e.defaultView=e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x385")]),B=!1,z=u[T[_0x4962("0xc0")]],H=u[_0x4962("0x5c1")],U=esmap[_0x4962("0x8c")][_0x4962("0x89")](z)===_0x4962("0xcf6"),this[_0x4962("0x3c2")][_0x4962("0xca2")](T[_0x4962("0xbb")],1e6*u.mtime),V=C[_0x4962("0x1c3")][_0x4962("0xaf")](esmap[_0x4962("0x8c")][_0x4962("0x89")](window[T[_0x4962("0xb8")]].origin))>-1,x[_0x4962("0xd26")]==_0x4962("0xd27")&&(V=!0),!(m-1e6*u[_0x4962("0x5c6")]>0)){_[_0x4962("0x286")]=61;break}if(V){_[_0x4962("0x286")]=61;break}return b[_0x4962("0x1c4")][_0x4962("0x1c5")]({code:2010,param:[i,A,3]}),_[_0x4962("0x28b")](_0x4962("0x28c"));case 61:if(esmap[_0x4962("0x8c")][_0x4962("0x89")](u.minX+""+u.minY+u.maxX+u[_0x4962("0x5cb")]+u[T[_0x4962("0xc0")]]+u[T[_0x4962("0xc1")]]+ +u[_0x4962("0x5cd")]+u[_0x4962("0x5be")]+"ABC"+u.o1+u.ul)===u[T[_0x4962("0xbc")]]){_[_0x4962("0x286")]=65;break}return y[_0x4962("0x37")][_0x4962("0x1dc")]({msg:"Hash Error",level:_0x4962("0xe0")}),_.abrupt(_0x4962("0x28c"));case 65:if(this[_0x4962("0xd28")]=u.o1,this[_0x4962("0xd29")]=u[_0x4962("0x5be")],this[_0x4962("0x54c")]=u.ul,e[_0x4962("0x48")].options.s&&e[_0x4962("0x48")][_0x4962("0x3b")].k&&(e[_0x4962("0x48")][_0x4962("0x2")](_0x4962("0xb0e"))||Object[_0x4962("0x6")](e[_0x4962("0x48")],_0x4962("0xb0e"),{value:!0,writable:!1,enumerable:!1,configurable:!0}),B=!0,this[_0x4962("0xd29")]=1e4,this[_0x4962("0x3c2")][_0x4962("0xca2")]("sk",!0)),(0,d[_0x4962("0xd2a")])()&&(this._mo=(0,d[_0x4962("0x4b")])((0,d[_0x4962("0x4b")])((0,d[_0x4962("0x4b")])((0,d[_0x4962("0xd2b")])())))),e[_0x4962("0x48")][_0x4962("0x1b8")]=R,e[_0x4962("0x48")][T._ztl_][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1,B&&e[_0x4962("0x48")][_0x4962("0xb0e")]){_[_0x4962("0x286")]=115;break}if(E=!0,j=A,Y=(0,d[_0x4962("0x4b")])(u[T[_0x4962("0xbe")]],_0x4962("0xd2c"),""),Z=esmap[_0x4962("0x8c")].encode64(j),W=C.WDL[_0x4962("0xaf")](Z)>-1,U||W||(this[_0x4962("0xd01")]={expireTime:p,dom:j},this._isrd[T[_0x4962("0xba")]]=Y),I=W,Y){_[_0x4962("0x286")]=83;break}return _[_0x4962("0x28b")]("return");case 83:if(U||W){_[_0x4962("0x286")]=97;break}if(G=!1,X=Y[_0x4962("0x2d")](","),Q=!1,h={},X[_0x4962("0x20")]((function(x){var _=p,e=x;if(x.includes("|")){var t=x[_0x4962("0x2d")]("|");e=t[0];var a=isNaN(1*t[1])?_:1*t[1];_=Math[_0x4962("0x301")](_,a)}if(!(e[_0x4962("0x0")]<3)&&(h[e]=1e6*_,j[_0x4962("0xaf")](e)>-1)){if(G=!0,(new Date)[_0x4962("0x86")]()-1e6*_>0)return void b.MapError[_0x4962("0x1c5")]({code:2010,param:[i,j,3]});Q=!0}})),(0,d[_0x4962("0x10d")])(e.map.id)&&(Q=!0),G){_[_0x4962("0x286")]=93;break}return b[_0x4962("0x1c4")].throw({code:2002,param:[i,j,3]}),_[_0x4962("0x28b")](_0x4962("0x28c"));case 93:if(Q){_.next=95;break}return _[_0x4962("0x28b")](_0x4962("0x28c"));case 95:_[_0x4962("0x286")]=98;break;case 97:h="lc";case 98:if(J=[u[T._lgtk_],u[T[_0x4962("0xc0")]]],K=[n,r],q=(0,w[_0x4962("0x315")])(),e.map[T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1,(0,d._isemvlg)(e[_0x4962("0x48")].id)?e[_0x4962("0x48")][T[_0x4962("0x9c1")]][_0x4962("0x53c")].userData.visible=!1:J[0]&&K[0]&&(esmap[_0x4962("0x8c")][_0x4962("0x89")](_0x4962("0xb0c")+u.cids+K[0])==J[0]?(e[_0x4962("0x48")][T._ztl_][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!1,q.state.sl=!1):e[_0x4962("0x48")][T[_0x4962("0x9c1")]][_0x4962("0x53c")][_0x4962("0x166")][_0x4962("0x17c")]=!0),U){_.next=113;break}if(K[1]||1==s){_[_0x4962("0x286")]=108;break}return b[_0x4962("0x1c4")][_0x4962("0x1c5")]({code:2003,param:[i,3]}),y[_0x4962("0x37")][_0x4962("0x1dc")]({msg:esmap[_0x4962("0x289")][_0x4962("0xd2d")],level:"error"}),_.abrupt(_0x4962("0x28c"));case 108:if(esmap[_0x4962("0x8c")].encode64(u[_0x4962("0x3df")]+""+K[1])==J[1]||3!=s){_[_0x4962("0x286")]=113;break}return b[_0x4962("0x1c4")].throw({code:2004,param:[i,3]}),y[_0x4962("0x37")].post({msg:esmap[_0x4962("0x289")].TOKEN_ERR,level:"error"}),_[_0x4962("0x28b")](_0x4962("0x28c"));case 113:_[_0x4962("0x286")]=116;break;case 115:h="em";case 116:if(U&&(N=!0),$=(0,d[_0x4962("0x4b")])(u[_0x4962("0x5cc")],_0x4962("0xd2e"),""),(xx=$.split(";"))[_0x4962("0x0")]>1?e.tileurl=xx:e.tileurl="",Object[_0x4962("0x6")](e[_0x4962("0x48")],"__trl",{value:xx[1],writable:!1,enumerable:!1,configurable:!0}),_x=esmap.ESMapUtil[_0x4962("0x89")](u[_0x4962("0x130")]+u.token),Object[_0x4962("0x6")](e[_0x4962("0x48")],_0x4962("0xad"),{value:_x,writable:!1,enumerable:!1,configurable:!0}),Object[_0x4962("0x6")](e,_0x4962("0xd2f"),{value:z,writable:!1,enumerable:!1,configurable:!0}),null==e.map[_0x4962("0x3b")][_0x4962("0x1ba")]&&(e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1ba")]=M),ex=e.map[_0x4962("0x1b7")]({from:M,to:R,coord:{x:u.x,y:u.y}}),e[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x131")]={x:-ex.x,y:ex.y},e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x131")]&&(tx=e[_0x4962("0x48")][_0x4962("0x1b7")]({from:M,to:R,coord:{x:e.map[_0x4962("0x3b")].center.x,y:e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x131")].y}}),e[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x131")]={x:-tx.x,y:tx.y},ex=tx),e[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0xd30")]={x:u.x,y:u.y},e[_0x4962("0x48")][_0x4962("0x3b")].center||(e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x131")]={x:u.x,y:u.y}),e.map[_0x4962("0x34")][_0x4962("0xd31")](u,{x:ex.x,y:ex.y}),e[_0x4962("0xd32")](),1!=s&&setTimeout((function(){var x=v.default[_0x4962("0x6a")](_0x4962("0x50"));esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:x,isArrayBuffer:!0})}),18e5),null==e.map[_0x4962("0x3b")][_0x4962("0x72")]&&(e.map[_0x4962("0x3b")].themeID=u[_0x4962("0x5c0")],e[_0x4962("0x3b")][_0x4962("0x72")]=u[_0x4962("0x5c0")]),u.bidlist&&e.setBidList(u[_0x4962("0x5d1")]),e[_0x4962("0x48")][_0x4962("0xd33")]=u[_0x4962("0x5d0")],ix=!0,e[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xd34"),h),ix){_.next=140;break}return _[_0x4962("0x28b")](_0x4962("0x28c"));case 140:if(!E||U||I||ix){_.next=142;break}return _.abrupt(_0x4962("0x28c"));case 142:return e[_0x4962("0x385")]&&!e[_0x4962("0xd35")]()&&e.map[_0x4962("0x25a")](e[_0x4962("0x385")]),_[_0x4962("0x28b")](_0x4962("0x28c"),!0);case 144:case _0x4962("0x308"):return _[_0x4962("0x1b2")]()}}),_,this,[[10,19]])}))),function(){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xd32"),value:function(){var x=this;if(x[_0x4962("0x48")][_0x4962("0x3b")].showTapTip){var _=(0,u[_0x4962("0x1f")])(8),e=new esmap.ESPopMarker({id:_,content:_0x4962("0xd36")+_+_0x4962("0xd37"),className:_0x4962("0xb3d"),created:function(x){x[_0x4962("0x25")].backgroundColor="#52564b",x[_0x4962("0x25")][_0x4962("0x147")]=_0x4962("0x1d4"),x.style[_0x4962("0x1d5")]=_0x4962("0xd38"),x.style[_0x4962("0xd39")]=_0x4962("0xd3a"),x.style[_0x4962("0x33b")]="12px",x[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),x[_0x4962("0x25")][_0x4962("0x1d2")]=_0x4962("0x131"),x[_0x4962("0x94f")].parentElement[_0x4962("0x25")][_0x4962("0x942")]=_0x4962("0x612");var _=(0,p[_0x4962("0xc")])(_0x4962("0xd3b"));_[_0x4962("0x473")](_0x4962("0xbdf"),_0x4962("0xd3c")),_.style({width:0,height:0,fontSize:0,overflow:_0x4962("0x33a"),position:_0x4962("0xd3d"),borderStyle:"solid dashed dashed",borderWidth:_0x4962("0xd3e"),borderColor:_0x4962("0x65a")+esmap.ESMapUtil[_0x4962("0x654")](_0x4962("0xd3f"))+",1"+_0x4962("0xd40"),left:this.w_/2-25+"px",bottom:_0x4962("0xd41")}),x[_0x4962("0x28")](_[_0x4962("0x472")]),e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x4e1")]=_0x4962("0xd42"),e.popDiv_[_0x4962("0x25")].opacity=0,e[_0x4962("0xaaf")][_0x4962("0x25")].pointerEvents="none",e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0xd43")]=_0x4962("0x612")},mapCoord:{x:x[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x131")][0],y:x.map[_0x4962("0x3b")][_0x4962("0x131")][1],height:150}});e[_0x4962("0xaae")]=_,x[_0x4962("0x48")][_0x4962("0xaac")]=e,x.map.on(_0x4962("0xb42"),(function(){x.currentShows.indexOf(e[_0x4962("0x130")])<0&&0!=e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]&&(e.popDiv_[_0x4962("0x25")][_0x4962("0x145")]=0)})),x[_0x4962("0x48")].on("zoomed",(function(_){if(_<=x.map.options[_0x4962("0xb09")]){var e=x.map.tapTip;e&&(e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=0);var t=document[_0x4962("0xaad")](e[_0x4962("0xaae")]);t&&(t.innerHTML="")}})),x.map.on(_0x4962("0xd44"),(function(_){var e=x[_0x4962("0x48")].tapTip;if(!x.map[_0x4962("0x194")][_0x4962("0xbe3")]||!x[_0x4962("0x48")][_0x4962("0x3b")].editMode||0==_.propogationIndex){var t=x.map[_0x4962("0x3b")][_0x4962("0xd45")],i=null;if(_[_0x4962("0x125")]!=esmap[_0x4962("0x134")][_0x4962("0x678")]||_[_0x4962("0x3d")]||2==_.bType)if(_[_0x4962("0x125")]!=esmap[_0x4962("0x134")].MODEL3D||_[_0x4962("0x3d")]||2==_[_0x4962("0x3e8")]||_ instanceof esmap.ES3DMarker)e[_0x4962("0xaaf")].style[_0x4962("0x145")]=0;else if(i=document.getElementById(e.spanId),e[_0x4962("0xaaf")].style[_0x4962("0x145")]=0,i&&(i[_0x4962("0x1d9")]=""),_[_0x4962("0x107")]&&t){var a=_[_0x4962("0x313")];e.moveTo({x:_[_0x4962("0x217")].x,y:_.mapCoord.y,time:.01,callback:function(){e.group[_0x4962("0x106")].y=1.1*a,i.innerHTML=_[_0x4962("0x107")],setTimeout((function(){e.popDiv_[_0x4962("0x25")][_0x4962("0x145")]=1}),1)}})}else e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=0;else if((i=document[_0x4962("0xaad")](e.spanId))&&(i[_0x4962("0x1d9")]=""),e[_0x4962("0xaaf")].style.opacity=0,_[_0x4962("0x107")]&&t){var n=x.map[_0x4962("0x1b7")]({from:x[_0x4962("0x48")].DEFAULT_COORDSYSTEM,to:x[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1ba")],coord:_[_0x4962("0x217")]});e[_0x4962("0x331")]({x:n.x,y:n.y,time:.01,callback:function(){e[_0x4962("0xd46")][_0x4962("0x106")].y=1.1*(_[_0x4962("0xd47")]+_[_0x4962("0xd48")]),i.innerHTML=_.name,setTimeout((function(){e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=1}),1)}}),e[_0x4962("0x130")]=_[_0x4962("0x130")]}else e[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x145")]=0}}))}}},{key:"isInitTileMap",value:function(){return esmap[_0x4962("0x6b0")]&&esmap[_0x4962("0x6b0")].inited}},{key:_0x4962("0xd49"),value:function(x,_,e){if(!(this.failedNavs[x]||this[_0x4962("0xcfb")]&&this[_0x4962("0xcfb")].indexOf(x)<0)){_[_0x4962("0x15c")]&&(_.offset[0],_.offset[1]);var t=this,a=1!=t.map[_0x4962("0x3b")][_0x4962("0x88")],n=v[_0x4962("0xc")][_0x4962("0x6a")]("tile",{tileId:e,typeId:2});esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:n,isArrayBuffer:!0})[_0x4962("0x493")]((function(_){var e=new Uint8Array(_);a||(0,d[_0x4962("0x10b")])(t.map.id+""+t[_0x4962("0x3b")][_0x4962("0x88")],e);var n=null;try{n=D[_0x4962("0x6b0")][_0x4962("0xd4a")][_0x4962("0x4b")](e)}catch(_){return t.failedNavs[x]=!0,void y[_0x4962("0x37")][_0x4962("0x1dc")]({msg:esmap[_0x4962("0x289")].INVALID_TYPE,level:"error"})}if(n){if(t[_0x4962("0x404")][x]=n,n[_0x4962("0xd4b")]&&(0,i.default)(n[_0x4962("0xd4b")])[_0x4962("0x0")]>0)for(var r in n[_0x4962("0xd4b")]){var s=n[_0x4962("0xd4b")][r];s.direction=s[_0x4962("0x416")],s[_0x4962("0xd4c")]&&s.bstair>100&&(s[_0x4962("0xd4c")]=4)}n[_0x4962("0xd4d")]&&(0,i.default)(n[_0x4962("0xd4d")]).length>0&&(t[_0x4962("0xd4e")](n),t.map[_0x4962("0xe5")]("tileRouteDataLoaded",{bid:x,data:n})),t[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd4f"),x);var o=t[_0x4962("0x48")].getTileById(x);t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]&&o?o[_0x4962("0x40b")]():t[_0x4962("0x48")].fire("routeLoaded",x)}}))[_0x4962("0xe0")]((function(){t.failedNavs[x]=!0}))}}},{key:"queryTileScene",value:function(x,_,e){var t=this;if(this[_0x4962("0xd50")][x])e();else if(1!=this[_0x4962("0x3b")][_0x4962("0x88")]&&this[_0x4962("0xb40")]&&this[_0x4962("0xb40")][_0x4962("0xaf")](x)<0)e();else{var i=x,a=1!=t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x88")],n=v[_0x4962("0xc")][_0x4962("0x6a")]("tile",{tileId:x,typeId:1});if(t[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd51"),i),N)if(!(esmap[_0x4962("0x8c")][_0x4962("0x89")](P)===_0x4962("0xcf6")))return;esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:n,isArrayBuffer:!0}).success((function(i){var r=new Uint8Array(i);a||(0,d[_0x4962("0x10b")])(t.map.id+""+t[_0x4962("0x3b")][_0x4962("0x88")],r);var s=null;try{s=D[_0x4962("0x6b0")][_0x4962("0xd52")].decode(r)}catch(x){return y.MessagePoster[_0x4962("0x1dc")]({msg:esmap.ESInfo.INVALID_TYPE+": "+n,level:_0x4962("0xe0")}),void e()}if(H==s.cname){var o=new(h[_0x4962("0xc")])({id:x,map:t[_0x4962("0x48")]});o[_0x4962("0xaf1")]=s;var c=t.convertTileData(s,x);o[_0x4962("0x3cc")]=c,_(s,o)}}))[_0x4962("0xe0")](e)}}},{key:"queryTileTheme",value:function(x){var _=this,e=_.map.options[_0x4962("0x72")],t=v.default[_0x4962("0x6a")](_0x4962("0x57"),{ext:x,themeID:e});return new r.default((function(i,a){esmap[_0x4962("0xd1c")][_0x4962("0x498")]({url:t}).success((function(x){if(x){_[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xcb1"),{id:e,data:x,bid:_.map.id});var t=_[_0x4962("0x48")].mapTheme[_0x4962("0xd53")](x),n=(new Date).getTime(),r=C[_0x4962("0x1c3")].indexOf(esmap[_0x4962("0x8c")][_0x4962("0x89")](window[T[_0x4962("0xb8")]][_0x4962("0x7a")]))>-1;n-1e6*F[_0x4962("0x5c6")]>0&&!r||i(t)}else a("ä¸»é¢æä»¶è¯·æ±éè¯¯: "+e)}))[_0x4962("0xe0")]((function(){"json"==x?i(_[_0x4962("0xd54")]("theme")):a(_0x4962("0xd55")+e)}))}))}},{key:_0x4962("0xd56"),value:function(x){for(var _=x.x,e=x.y,i=[][_0x4962("0x12")]((0,t.default)(this.tileGrids),(0,t[_0x4962("0xc")])(this[_0x4962("0xcfb")])),a={distance:1/0,tileid:null},n=0;n<i.length;n++){var r=i[n],s=r[_0x4962("0x2d")]("_"),o=Math[_0x4962("0x231")](s[0]-_)+Math[_0x4962("0x231")](s[1]-e);o<a.distance&&(a[_0x4962("0x23b")]=o,a.tileid=r)}return a[_0x4962("0xa37")]}},{key:_0x4962("0xb07"),value:function(){var x=this;if(0!=this[_0x4962("0x48")][_0x4962("0x9bc")]){var _=this.map[_0x4962("0x3b")][_0x4962("0x1b6")],e=this[_0x4962("0x48")][_0x4962("0x208")](this[_0x4962("0x48")].controls[_0x4962("0x2c5")],!0),t=e.x,i=e.y,a=(0,f.getTileFromMec)(t,i,_),n={x:t,y:i,indx:a.x,indy:a.y};this[_0x4962("0x3cb")]=[];var r=this,s=[],o=this[_0x4962("0xd57")]();if(o){var c=(0,f[_0x4962("0xec")])(n[_0x4962("0xc2b")],n[_0x4962("0xc2c")],this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1b6")],!1),l=c[_0x4962("0xf9")]-c[_0x4962("0xfd")],d=c[_0x4962("0xfa")]-c[_0x4962("0xfe")];this[_0x4962("0xc2a")]=n,this[_0x4962("0xd58")]=l;for(var u=n[_0x4962("0xc2b")],h=n[_0x4962("0xc2c")],g=t,b=i,v=[u],p=[h],m=this.Tilelimit,A=0;A<m;A++){if((g+=l)>o[_0x4962("0xf9")]){v.push(u+A+1,u-(A+1));break}v.push(u+A+1,u-(A+1))}for(var y=0;y<m;y++){if((b+=d)>o[_0x4962("0xfa")]){p.push(h+y+1,h-(y+1));break}p[_0x4962("0x3")](h+y+1,h-(y+1))}p[_0x4962("0x20")]((function(_){v[_0x4962("0x20")]((function(e){var t=e+"_"+_,i=(0,f.getTileBound)(e,_,x[_0x4962("0x48")][_0x4962("0x3b")].worldScale,!1),a=r[_0x4962("0xbea")](o,i),n=x[_0x4962("0x48")][_0x4962("0x1c6")].zoomLevel>=18&&x[_0x4962("0x48")][_0x4962("0x330")]>=60,c=r.isValidTile(t),l=r[_0x4962("0xb10")]();c&&l&&(a||n)&&(s.push(t),r[_0x4962("0x3cb")][_0x4962("0x3")](t))}))})),this.currentView=s,this[_0x4962("0xd00")]||(this[_0x4962("0xd00")]=[].concat(s),this[_0x4962("0xcff")]=s.length)}}}},{key:_0x4962("0xd59"),value:function(x){var _=[{x:x.minX,y:x[_0x4962("0x5bb")]},{x:x[_0x4962("0x5ca")],y:x[_0x4962("0x5bb")]},{x:x[_0x4962("0x5ca")],y:x[_0x4962("0x5cb")]},{x:x[_0x4962("0x5b8")],y:x[_0x4962("0x5cb")]},{x:x[_0x4962("0x5b8")],y:x[_0x4962("0x5bb")]}],e=new(esmap[_0x4962("0x63d")])({alpha:.5,lineWidth:1,height:6,points:_});this.map[_0x4962("0x139")](0)[_0x4962("0x673")](1)[_0x4962("0x407")](_0x4962("0xd5a"),esmap[_0x4962("0x3d6")].POLYGON_MARKER)[_0x4962("0xd5b")](e)}},{key:"queryTilesByNum",value:function(x){if(0!=this[_0x4962("0x48")][_0x4962("0x9bc")]){var _=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1b6")],e=this[_0x4962("0x48")][_0x4962("0x208")](this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")]),t=this[_0x4962("0xd57")]();if(t){var i=1,a=(0,f[_0x4962("0xed")])(e.x,e.y,_),n={x:e.x,y:e.y,indx:a.x,indy:a.y},r=(0,f[_0x4962("0xec")])(n[_0x4962("0xc2b")],n[_0x4962("0xc2c")],this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1b6")],!0),s=r[_0x4962("0xf9")]-r[_0x4962("0xfd")];this.centerTile=n;var o=[n[_0x4962("0xc2b")]+"_"+n[_0x4962("0xc2c")]],c=this[_0x4962("0xd5c")](8);this[_0x4962("0x3cb")]=[n.indx+"_"+n[_0x4962("0xc2c")]];for(var l=[],d=0;d<c[_0x4962("0x0")];d++){var u=c[d][0]+n[_0x4962("0xc2b")],h=c[d][1]+n[_0x4962("0xc2c")],g=u+"_"+h,b=this[_0x4962("0xd5d")](g);if(!(i>=x)&&b){var v=(0,f[_0x4962("0xec")])(u,h,this[_0x4962("0x48")].options[_0x4962("0x1b6")],!0);this.intersects(t,v)?(o[_0x4962("0x3")](g),this.currentShows[_0x4962("0x3")](g)):l[_0x4962("0x3")](g),i+=1}}this[_0x4962("0xd58")]=s,this[_0x4962("0xb11")]=o,this[_0x4962("0xb43")]=l}}}},{key:"getTileNumbers",value:function(x){for(var _=[],e=-x;e<x+1;e++)for(var t=-x;t<x+1;t++)0==e&&0==t||_.push([e,t]);return _.sort((function(x,_){return Math[_0x4962("0x231")](x[0])+Math.abs(x[1])-(Math.abs(_[0])+Math.abs(_[1]))})),_}},{key:_0x4962("0xb19"),value:function(x){var _=this,e=this[_0x4962("0x48")];if(!R){var t=F;if(R=(0,d[_0x4962("0x4b")])(t[_0x4962("0x5c3")],_0x4962("0xd5e"),""),{maxx:t[_0x4962("0x5ca")],minx:t[_0x4962("0x5b8")],maxy:t[_0x4962("0x5cb")],miny:t[_0x4962("0x5bb")]},e.__bo=t[_0x4962("0x5bc")]||_0x4962("0xd5f"),e[_0x4962("0xd60")]=t[_0x4962("0x5bd")]||_0x4962("0xd5f"),e[_0x4962("0xd61")].indexOf(this.options.tileType)<0)return void y[_0x4962("0x37")].post({msg:_0x4962("0xd62"),level:_0x4962("0xe0")})}var i={id:x,buildingType:esmap[_0x4962("0xd63")][_0x4962("0xb13")]},a=this,n=i[_0x4962("0x213")];9568297==e.sl()&&e[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xd64")](x,(function(t,i){i.buildingType=n,i[_0x4962("0x131")]=[i[_0x4962("0xaf1")].x,i[_0x4962("0xaf1")].y];var a=e[_0x4962("0xd65")].split(",");i[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0xd8")](0+1*a[0]-0,1*a[1],0+1*a[2]+0),e[_0x4962("0x34")].getTileScene()[_0x4962("0xda")](i[_0x4962("0xf2")]),i.loadPois(),i[_0x4962("0x3fc")](),i[_0x4962("0x3cd")](1),_[_0x4962("0xd49")](x,e[_0x4962("0x3b")],x),_[_0x4962("0x3c8")](i)}),(function(t){_[_0x4962("0xd50")][x]=!0,_[_0x4962("0xb18")][_0x4962("0x4")](_[_0x4962("0xb18")].indexOf(x),1),esmap[_0x4962("0x33")][_0x4962("0xa03")]=!1,_[_0x4962("0xcf9")][x]=!0,_[_0x4962("0xd49")](x,e[_0x4962("0x3b")],x),e[_0x4962("0xaa3")](_0x4962("0xd4f"),(function(x){if(_.needNewTileByRoutes[x]){var t=x.split("_"),i=(0,f[_0x4962("0xec")])(1*t[0],1*t[1],e[_0x4962("0x3b")][_0x4962("0x1b6")],!0),r=(i[_0x4962("0xf9")]-i.minx)/2+i[_0x4962("0xfd")],s=(i[_0x4962("0xfa")]-i[_0x4962("0xfe")])/2+i[_0x4962("0xfe")],o=new(h[_0x4962("0xc")])({id:x,map:e});o.center=[r,s],o[_0x4962("0x213")]=n;var c=e[_0x4962("0xd65")][_0x4962("0x2d")](",");o[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0xd8")](0+1*c[0]-0,1*c[1],0+1*c[2]+0),e[_0x4962("0x34")][_0x4962("0xd66")]()[_0x4962("0xda")](o[_0x4962("0xf2")]),_[_0x4962("0xcf9")][x]=null,a[_0x4962("0x3c8")](o)}})),_[_0x4962("0xd67")](x),0==_[_0x4962("0xb11")][_0x4962("0x0")]&&0==_[_0x4962("0xb18")].length&&e.fire(_0x4962("0xb42"))}))}},{key:"convertTileData",value:function(x,_){var e=this,t=I[_0x4962("0xc")][_0x4962("0xdb")](_),i=x[_0x4962("0xd68")],a=x[_0x4962("0x3d4")];for(var n in a)t[_0x4962("0xda")](a[n]._id);var r=this[_0x4962("0x48")].options[_0x4962("0xd69")],s=this[_0x4962("0x48")][_0x4962("0x1b8")],o=(this[_0x4962("0x68d")],0),c=0,l=this[_0x4962("0x3c2")][_0x4962("0xc9f")],f={1:[],2:[],3:[]},d={1:[],2:[],3:[]},u=[],h=this[_0x4962("0x48")][_0x4962("0x3b")].vBoundary;for(var g in i){var b,p=i[g],m=!1,A=!1,C=this[_0x4962("0x48")][_0x4962("0x13e")].tileStyles[p.RS],E=!1;999!=p.RS&&(this[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0xd6a")].building+=1),C&&999!=p.RS?C&&2==C.filltype&&(m=2==C[_0x4962("0xd6b")],A=2==C[_0x4962("0xd6c")]):2==(C=this.map[_0x4962("0x13e")][_0x4962("0xa6f")][0])[_0x4962("0xa70")]&&(m=2==C[_0x4962("0xd6b")],A=2==C[_0x4962("0xd6c")]),b=C[_0x4962("0xd6d")];var w=this[_0x4962("0xd19")](p[_0x4962("0xd6e")]);if(h){var T=!0;if(w[_0x4962("0x138")][0].length>=3){for(var k=w[_0x4962("0x138")][0][_0x4962("0x48")]((function(x){return{x:-x.x,y:x.y}})),S=!1,R=0;R<k[_0x4962("0x0")];R++){if(esmap[_0x4962("0x8c")][_0x4962("0x3dc")]({x:k[R].x,y:k[R].y},h)){S=!0;break}}T=S}else T=esmap[_0x4962("0x8c")][_0x4962("0x3dc")]({x:p[_0x4962("0xca7")],y:p.CenY},h);if(!T)continue}var L=this.map[_0x4962("0x3fd")]({from:M,to:s,coords:w[_0x4962("0x138")][0],flipX:!0}),H=w[_0x4962("0x56b")];H[_0x4962("0x0")]>0&&(H=this.map[_0x4962("0x3fd")]({from:M,to:s,coords:w.holes[0],flipX:!0})),p[_0x4962("0x677")]&&this.bidList[p[_0x4962("0x677")]]&&function(){var x=[];L.forEach((function(_){x[_0x4962("0x3")]({x:-_.x,y:_.y})})),e[_0x4962("0x68d")][p[_0x4962("0x677")]][_0x4962("0x69a")]=x}();var D=this.map[_0x4962("0x1b7")]({from:M,to:s,coord:{x:p[_0x4962("0xca7")],y:p[_0x4962("0xca8")]}}),O=p.FH*b*r;if(p.RM&&(l&&p.RM[_0x4962("0xaf")](_0x4962("0xd6f"))>=0?E=!0:o++),p.RL&&p[_0x4962("0xd70")])for(var P=p.RL[_0x4962("0x2d")](";"),N=p[_0x4962("0xd70")][_0x4962("0x2d")](";"),F=0;F<P.length;F++){var B=P[F],z="";if(N[F])1*N[F][_0x4962("0x2d")](",")[3]<3&&(z=v.default[_0x4962("0x6a")]("cityAssets",{filename:B,type:"buildingImagelogo"}),this[_0x4962("0x3c2")][_0x4962("0x366")][_0x4962("0xcf3")](z,_0x4962("0x59e"),B))}var U={floornum:null,TextureType:null,isTube:!1,fnums:p[_0x4962("0xd71")],RoomHigh:O,Typeid:p[_0x4962("0x3f5")],classID:p.MC||0,gid:p[_0x4962("0xd72")],CenX:D.x,RoomLogo:p.RL||null,FsId:p.RL?0:null,RoomLogoSize:null==p[_0x4962("0xd70")]?"":p[_0x4962("0xd70")],CenY:D.y,OCenX:p.CenX,OCenY:p[_0x4962("0xca8")],tileid:_,oid:p[_0x4962("0x3df")],FC:p.Did||null,AS:p.AS,name:p.NA,nameEn:p.NA,scale:p[_0x4962("0xca5")],rotate:p[_0x4962("0xca6")],RModel:p.RM,bids:p[_0x4962("0x677")],offset:p.RMO,RoomStyle:p.RS||0,points:[L],originalPoints:w[_0x4962("0x138")],holes:H,originalHoles:w[_0x4962("0x56b")],normalizeTop:m,normalizeSide:A,ShowLevel:(24==p.SL?10:p.SL)||10};if(U.Brief=p.NE?JSON[_0x4962("0x71")](p.NE):null,this.service[_0x4962("0x69d")][p[_0x4962("0x3df")]]=w[_0x4962("0x138")],U[_0x4962("0x35c")]=p.BC>>1||1,U[_0x4962("0x43e")]=1&p.BC||0,6!==U[_0x4962("0x35c")]){var V=null;V=p.SL<=12?1:p.SL<=16?2:3,U[_0x4962("0x43e")]?f[V].push(U):d[V][_0x4962("0x3")](U),t[_0x4962("0xda")](U.oid),E?("low"==this[_0x4962("0x3b")][_0x4962("0x3aa")]||this[_0x4962("0x3b")][_0x4962("0x1f5")]||y[_0x4962("0x37")].post({msg:_0x4962("0xd73"),level:_0x4962("0xa9e")}),this[_0x4962("0x3c2")].addToSingleMeshData(p,_)):U[_0x4962("0xd74")]&&1==V&&c++}else u.push(U)}for(var j={},Y=1;Y<4;Y++){var Z={modelimages:[{}],modellayers:[{models:f[Y]}],modelbaselayer:[{modelbases:d[Y]}],maxX:x[_0x4962("0x5ca")],maxY:x[_0x4962("0x5cb")],minX:x[_0x4962("0x5b8")],minY:x[_0x4962("0x5bb")],roomModelsCount:o,lod1ModelsCount:c};j[Y]=Z}return j[1][_0x4962("0xd75")]=u,t[_0x4962("0xdc")](),j}},{key:_0x4962("0xd5d"),value:function(x){var _=this[_0x4962("0xb40")]&&this[_0x4962("0xb40")][_0x4962("0xaf")](x)>-1,e=this[_0x4962("0xcfb")]&&this[_0x4962("0xcfb")][_0x4962("0xaf")](x)>-1,t=0==this[_0x4962("0xac7")][_0x4962("0x0")]||this[_0x4962("0xac7")][_0x4962("0xaf")](x)>-1;return(_||e)&&t}},{key:"versionCheck",value:function(x){return!(x>esmap[_0x4962("0xd76")]||x<esmap.minV)}},{key:_0x4962("0xd4e"),value:function(x){var _=x[_0x4962("0xd4d")],e=this[_0x4962("0x48")][_0x4962("0x1b8")];for(var t in _){var i=this[_0x4962("0x48")][_0x4962("0x1b7")]({from:_0x4962("0x1b9"),to:e,coord:{x:_[t].X,y:_[t].Y}});_[t].X=i.x,_[t].Y=i.y}}},{key:_0x4962("0xd77"),value:function(x,_,e){var t=_.x,i=_.y,a=e.x,n=e.y,r=this[_0x4962("0x48")][_0x4962("0x1b8")],s=t-a,o=i-n;for(var c in x){var l=x[c][_0x4962("0xd4d")];for(var f in l){l[f].X=l[f].X+s,l[f].Y=l[f].Y+o;var d=this[_0x4962("0x48")][_0x4962("0x1b7")]({from:_0x4962("0x1b9"),to:r,coord:{x:l[f].X,y:l[f].Y}});l[f].X=d.x,l[f].Y=d.y}}}},{key:_0x4962("0xd57"),value:function(){var x=this[_0x4962("0x48")][_0x4962("0x1c6")].canvas.getBoundingClientRect(),_=0;this.map[_0x4962("0x330")]>=80?_=x.height/2:this.map.tiltAngle>=70&&(_=x.height/3);var e=this.map.coordScreenToMap(0,_,0),t=this[_0x4962("0x48")].coordScreenToMap(x[_0x4962("0x1ce")],_,0),i=this[_0x4962("0x48")].coordScreenToMap(x[_0x4962("0x1ce")],x[_0x4962("0x1a4")],0),a=this[_0x4962("0x48")][_0x4962("0xa5a")](0,x.height,0);return e&&t&&i&&a?{minx:Math.min(e.x,t.x,i.x,a.x),maxx:Math[_0x4962("0x300")](e.x,t.x,i.x,a.x),miny:Math[_0x4962("0x301")](e.y,t.y,i.y,a.y),maxy:Math[_0x4962("0x300")](e.y,t.y,i.y,a.y)}:null}},{key:_0x4962("0xd78"),value:function(x){var _,e=this[_0x4962("0x48")][_0x4962("0x3b")],t=x,i=e[_0x4962("0xa5")],a=e.s,n=e.tid,r=window[_0x4962("0x79")][_0x4962("0x116")],s=parseInt((new Date)[_0x4962("0x86")]()/1e3);_=e.s&&e.k?e.k:esmap[_0x4962("0x8c")][_0x4962("0x89")](e[T[_0x4962("0xc0")]]+_0x4962("0x8b")+s);var o=esmap.ESMapUtil.encode64(n+"&"+t+"&"+a+"&"+_+"&"+s+"&"+r+"&"+i);querySign=o;var c=l[_0x4962("0x4a")][_0x4962("0x4b")]((0,d[_0x4962("0x8d")])(a)),f=void 0;if(3==n)f=e[_0x4962("0x49")]+"/"+t+_0x4962("0x8e");else{var u=(0,d[_0x4962("0x47")])(a);f=(3==a?u:l[_0x4962("0x4a")].decode(u))+"/"+c+_0x4962("0xd79")+t+_0x4962("0x8f")+e.s+"&k="+_+_0x4962("0x6f")+s+_0x4962("0x91")+encodeURIComponent(r)+"&sign="+o+_0x4962("0xd7a")+i+_0x4962("0x93")+n}return f}},{key:_0x4962("0xd7b"),value:function(x){var _=this[_0x4962("0x48")].options[_0x4962("0x46")]+this[_0x4962("0x48")].id+_0x4962("0x9f")+this[_0x4962("0x3b")][_0x4962("0x72")]+"/"+this[_0x4962("0x3b")][_0x4962("0x72")]+"."+x;return this[_0x4962("0x3b")][_0x4962("0x74")]&&(_+=_0x4962("0x70")+Date[_0x4962("0x71")](new Date)),_}},{key:_0x4962("0xd7c"),value:function(x){for(var _=x.split("|"),e=0;e<_[_0x4962("0x0")];e++){var t=_[e][_0x4962("0x2d")](",");this[_0x4962("0x68d")][t[1]]||(this[_0x4962("0x68d")][t[1]]={bid:t[1],x:1*t[2],y:1*t[3],id:1*t[0],offsetZ:1*t[4]||0,_raws:{x:1*t[2],y:1*t[3]}})}}},{key:_0x4962("0xd7d"),value:function(){var x=this,_=x[_0x4962("0x48")].options,e=void 0,t=(_.s,_[_0x4962("0x74")]?_0x4962("0x70")+(new Date)[_0x4962("0x86")]():"");return e=1==_[_0x4962("0x88")]?_[_0x4962("0x46")]+this[_0x4962("0x48")].id+_0x4962("0xd7e")+t:_[_0x4962("0x49")]+_0x4962("0xd7e")+t,new(r[_0x4962("0xc")])((function(t,i){esmap.Ajax[_0x4962("0x498")]({url:e})[_0x4962("0x493")]((function(e){if(x[_0x4962("0x48")][_0x4962("0xd7f")]=e.bidlist,_[_0x4962("0x3db")]){for(var i=esmap[_0x4962("0x8c")][_0x4962("0x667")](_[_0x4962("0x3db")]),a=[],n=[],r=0;r<e.grids1.length;r++)i[_0x4962("0xaf")](e[_0x4962("0xd80")][r])>-1&&a[_0x4962("0x3")](e[_0x4962("0xd80")][r]),i[_0x4962("0xaf")](e[_0x4962("0xd81")][r])>-1&&n.push(e.grids2[r]);x.tileGrids=a,x[_0x4962("0xcfb")]=n}else x[_0x4962("0xb40")]=e[_0x4962("0xd80")],x.roadGrids=e[_0x4962("0xd81")];for(var s=e[_0x4962("0xcf8")],o=[],c=0;c<s[_0x4962("0x0")];c++){var l=s[c],f=l[_0x4962("0xd82")],d=l[_0x4962("0x415")],u=(new(g[_0x4962("0xc")][_0x4962("0x5a7")])).parseBoundary(d);o[_0x4962("0x3")]({citycode:f,outline:u[_0x4962("0x59f")]})}x.areas=o,t()}))[_0x4962("0xe0")]((function(){i(!1)}))}))}},{key:"disableTileBaseMap",value:function(){esmap.ESTileMap&&esmap[_0x4962("0x6b0")].tileMapView&&(esmap[_0x4962("0x6b0")][_0x4962("0xd83")][_0x4962("0xd84")][_0x4962("0xd85")]=!0,this[_0x4962("0x2cf")]=!0)}},{key:"enableTileBaseMap",value:function(){esmap[_0x4962("0x6b0")]&&esmap[_0x4962("0x6b0")].tileMapView&&(esmap[_0x4962("0x6b0")].tileMapView.tileLayer[_0x4962("0xd85")]=!1,this[_0x4962("0x2cf")]=!1)}},{key:_0x4962("0xa05"),value:function(x){var _=arguments[_0x4962("0x0")]>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],t=this,i=arguments[_0x4962("0x0")]>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments[_0x4962("0x0")]>4&&void 0!==arguments[4])||arguments[4],n=this[_0x4962("0x48")];if(void 0!==this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xa06")]&&(a=this[_0x4962("0x48")][_0x4962("0x3b")].buildingOpenAnimation),!n.options.continueOpenBuilding){if(null==B)B=(new Date).getTime();else if((new Date)[_0x4962("0x86")]()-B<1500)return;B=(new Date)[_0x4962("0x86")]()}var r=this;if((!this.buildingLoading||this.cacheBuildings[x[_0x4962("0x3d")]]||a)&&(!n[_0x4962("0x139")](x[_0x4962("0x3d")])||this.cacheBuildings[x[_0x4962("0x3d")]]))if(this.bidList[x[_0x4962("0x3d")]]){var o=(0,m[_0x4962("0x37c")])({loadModel3D:!0,visibleFloors:1==n.options[_0x4962("0x3bb")]?null:_0x4962("0x698"),focusFloor:_0x4962("0x35c"),focusMode:n.options[_0x4962("0x3bb")],focusAnimateMode:1==n[_0x4962("0x3b")][_0x4962("0x3bb")],hideFloorBase:i,dataCenter:{x:this.bidList[x[_0x4962("0x3d")]].x,y:this.bidList[x[_0x4962("0x3d")]].y},token:_||n[_0x4962("0x3b")][T[_0x4962("0xc0")]],offsetZ:this[_0x4962("0x68d")][x[_0x4962("0x3d")]][_0x4962("0x55d")]});if(!(this[_0x4962("0xcfe")]>0)){if(n[_0x4962("0xe5")](_0x4962("0xd87"),{id:x[_0x4962("0x3d")]}),n.options.buildingThemeId)for(var c in n[_0x4962("0x3b")][_0x4962("0xd88")])if(x.mapId==c){o[_0x4962("0x72")]=n.options[_0x4962("0xd88")][c];break}n[_0x4962("0x3b")][_0x4962("0xd89")]&&n.options.buildingsFirstFloorNum[x.mapId]&&(o.firstFloorNum=n[_0x4962("0x3b")][_0x4962("0xd89")][x[_0x4962("0x3d")]]);var l={shell:e?null:x,tile:x[_0x4962("0x130")],id:x[_0x4962("0x3d")],angle:10,options:o},f=l.id,d=l[_0x4962("0x3b")],u=l[_0x4962("0xa2f")]||null;if(this[_0x4962("0x3c2")][_0x4962("0xa74")][_0x4962("0x3")]({x:d[_0x4962("0xd8a")].x,y:d[_0x4962("0xd8a")].y,bid:f,changed:[]}),this.buildingLoading=!0,u)if(6==u.nodeType)if(u[_0x4962("0xf2")])if(u[_0x4962("0xf2")][_0x4962("0xf1")][_0x4962("0x480")]&&u[_0x4962("0xf2")][_0x4962("0xf1")][_0x4962("0x480")][_0x4962("0x0")]>1){var h=r[_0x4962("0x48")][_0x4962("0x139")](n.id)[_0x4962("0x264")][_0x4962("0xa30")];if(!u.ID){var g=!0,b=!1,v=void 0;try{for(var p,A=(0,s[_0x4962("0xc")])(u[_0x4962("0x480")]);!(g=(p=A[_0x4962("0x286")]())[_0x4962("0x426")]);g=!0){var I=p[_0x4962("0xe3")];if(I[_0x4962("0x3d")]===x[_0x4962("0x3d")]){u.ID=I.ID;break}}}catch(x){b=!0,v=x}finally{try{!g&&A[_0x4962("0x28c")]&&A[_0x4962("0x28c")]()}finally{if(b)throw v}}}u[_0x4962("0xf2")][_0x4962("0xf3")].forEach((function(x){h[_0x4962("0x468")](x,u.ID,!1)})),u.o3d_[_0x4962("0x166")][_0x4962("0xa31")]||(u[_0x4962("0xf2")][_0x4962("0x166")].shellMap={}),u.o3d_.userData[_0x4962("0xa31")][f]||(u[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0xa31")][f]=u.ID)}else a?(n._buildingAnimating++,esmap[_0x4962("0x8c")].setAlpha({clonemat:!0,target:u.o3d_,alpha:.1,hideOnComplete:!0,time:1.5}),setTimeout((function(){n[_0x4962("0x9cc")]--}),1600)):u[_0x4962("0xf2")][_0x4962("0x17c")]=!1;else u[_0x4962("0x17c")]=!1;else if(5==u[_0x4962("0x125")]){for(var E=u[_0x4962("0xf2")][_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],w=u[_0x4962("0x109")][0],k=u[_0x4962("0x109")][1],M=w;M<k;M+=1)E[M]=1;u[_0x4962("0xf2")].geometry[_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x187")]=!0}if(this.map.isUsedOpenBuildingSign=!0,this[_0x4962("0xa2e")][f]){var S=this[_0x4962("0xa2e")][f];return n[_0x4962("0x34")][_0x4962("0xa34")].add(S),n[_0x4962("0x687")][_0x4962("0x3")](S[_0x4962("0xf1")]),S[_0x4962("0x17c")]=!0,n[_0x4962("0xe5")](_0x4962("0xd09"),S[_0x4962("0xf1")]),n[_0x4962("0xe5")](_0x4962("0xa35"),S[_0x4962("0xf1")]),n[_0x4962("0xe5")](_0x4962("0xa36"),{bid:S.datas_.id}),S[_0x4962("0xf1")].emit(_0x4962("0xa36"),{bid:S[_0x4962("0xf1")].id}),void(this[_0x4962("0xd8b")]=!1)}if(9568297==n.sl())return d.id=f,this.map[_0x4962("0xe5")](_0x4962("0xd8c"),d),this[_0x4962("0x3c2")][_0x4962("0xd8d")](d)[_0x4962("0x2dd")]((function(x){var _=x[_0x4962("0xaf1")];x[_0x4962("0x213")]=esmap[_0x4962("0xd63")][_0x4962("0xd8e")],x[_0x4962("0xaf0")]=l.shellId,x[_0x4962("0xa2f")]=l[_0x4962("0xa2f")],x.center={x:d[_0x4962("0xd8a")].x,y:d.dataCenter.y},x[_0x4962("0xa88")]={x:d[_0x4962("0xd8a")].x- -_[_0x4962("0xcb4")],y:d.dataCenter.y-_[_0x4962("0xcb5")]},t[_0x4962("0xd77")](_[_0x4962("0xd8f")],x[_0x4962("0x131")],{x:-_[_0x4962("0xcb4")],y:_.DefaultCenY}),t[_0x4962("0x3c2")][_0x4962("0xb4c")][_0x4962("0x404")][f]=_.navs,t[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd90"),{bid:f,data:_[_0x4962("0xd8f")]}),n[_0x4962("0x3b")].tileMode&&x[_0x4962("0xf2")][_0x4962("0x106")].set(0,0,0),x.udoffset=0,x[_0x4962("0xd91")]=x[_0x4962("0xf2")][_0x4962("0x106")].y;var e=_[T[_0x4962("0xbf")]],i=e<32503514?e:e/1e3,a=C[_0x4962("0x1c3")][_0x4962("0xaf")](esmap[_0x4962("0x8c")].encode64(window[T[_0x4962("0xb8")]][_0x4962("0x7a")]))>-1;if(!((new Date)[_0x4962("0x86")]()>1e6*i)||a)return n.focusBuilding=x,n[_0x4962("0xaa4")]=x[_0x4962("0xaa4")],n[_0x4962("0xe5")](_0x4962("0xd09"),x),n.on("_progress",(function(_){_[_0x4962("0x2bf")]===x.id&&1===_[_0x4962("0xe3")]&&(t[_0x4962("0xd8b")]=!1)})),x}))[_0x4962("0x880")]((function(x){r[_0x4962("0xb18")][_0x4962("0x4")](r[_0x4962("0xb18")].indexOf(f),1),r[_0x4962("0xd92")][_0x4962("0x3")](f),esmap.ESMap[_0x4962("0xa03")]=!1,t.buildingLoading=!1}))}}else y[_0x4962("0x37")].post({msg:"ä¸ç»´åºæ¯"+x[_0x4962("0x3d")]+_0x4962("0xd86"),level:_0x4962("0xe0")})}},{key:_0x4962("0xd93"),value:function(x){(this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0xac6")]=!x,esmap[_0x4962("0x6b0")]&&esmap[_0x4962("0x6b0")].Tools[_0x4962("0xd94")](x),this[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0x41c")].visible=x,this.map[_0x4962("0x3b")][_0x4962("0xd0a")]!=esmap[_0x4962("0x61c")][_0x4962("0xd0c")])&&(this[_0x4962("0x48")][_0x4962("0x139")](0)[_0x4962("0xf2")][_0x4962("0x17c")]=x);this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd95"),this[_0x4962("0x48")][_0x4962("0xb51")]),x?this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xd96"),!1):this[_0x4962("0x3c2")][_0x4962("0xca2")]("tilesHidden",!0)}},{key:"reset",value:function(){R=null,L=1,H=null,P=null,N=!1,[],1,this[_0x4962("0xb18")]=[],this[_0x4962("0xd92")]=[],this[_0x4962("0xcf7")]=[],this.sourceData={},this[_0x4962("0xb11")]=[],this[_0x4962("0x3cb")]=[],this[_0x4962("0xc2a")]=null,this[_0x4962("0xac8")]=[],this.cacheBuildings={},F=null,this.areas=[],this[_0x4962("0xcf9")]={},this[_0x4962("0x404")]={},this.LOD={1:12,2:16,3:18},this[_0x4962("0xcfa")]={buildings:0,models:0},this[_0x4962("0xa7a")]=[],this[_0x4962("0x2cf")]=!1,this.tileInited=!1,this[_0x4962("0xb40")]=null,this.roadGrids=null,this[_0x4962("0xac7")]=[],this[_0x4962("0xd97")]={},this.navLoaded=!1,this.bidList={},this[_0x4962("0xd50")]={},this[_0x4962("0xa3a")]=[],this[_0x4962("0xa92")]={},this[_0x4962("0xcfd")]=[],this[_0x4962("0xd98")]="",this[_0x4962("0xd28")]=0,this[_0x4962("0xd29")]=0,this[_0x4962("0x54c")]=0,this.buildingLoadingCount=0,this[_0x4962("0xa04")]=null}},{key:"checkInitials",value:function(x){this.initialTiles&&(this[_0x4962("0xd00")][_0x4962("0xaf")](x)>-1&&(this[_0x4962("0xd50")][x]&&(this[_0x4962("0xcff")]-=1,this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xe6"),{})),this.initialTiles[_0x4962("0x4")](this.initialTiles[_0x4962("0xaf")](x),1)),0===this.initialTiles[_0x4962("0x0")]&&(this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd99")),this[_0x4962("0xd00")]=null))}},{key:_0x4962("0x3c8"),value:function(x){var _=this[_0x4962("0x48")];_.fire("tileLoadComplete",x),_.options[_0x4962("0x40b")]&&x[_0x4962("0x40b")](),this.navData[x.id]&&_[_0x4962("0xe5")](_0x4962("0xd9a"),x.id);var e=x.id,t=this.solvingList[_0x4962("0xaf")](e);if(this.solvingList[_0x4962("0x4")](t,1),0==this.solvingList.length&&0==this[_0x4962("0xb11")].length&&!this[_0x4962("0x3c2")].tileInited){this.service[_0x4962("0xd9b")]=!0;var i=_.tileList,a=!0;for(var n in i){var r=i[n],s=r[_0x4962("0x264")][_0x4962("0xa1b")][_0x4962("0x0")],o=r.modelLoadManager.requisitesQueue.length;if(s>0||o>0){a=!1;break}}!this[_0x4962("0x3c2")][_0x4962("0xc9c")]&&a&&(this.service.modelInited=!0)}this[_0x4962("0xd67")](x.id),0==this.currentView.length&&0==this[_0x4962("0xb18")][_0x4962("0x0")]&&_.fire(_0x4962("0xb42"))}},{key:_0x4962("0xb04"),value:function(x){return x===_0x4962("0xd9c")?F:null}},{key:_0x4962("0x3b"),get:function(){return this.map[_0x4962("0x3b")]}}]),_}();_[_0x4962("0xc98")]=j})[_0x4962("0xf")](this,e(62))},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=h(e(14)),i=h(e(78)),a=h(e(15)),n=h(e(9)),r=h(e(6)),s=h(e(7)),o=h(e(8)),c=h(e(0)),l=h(e(1)),f=h(e(79)),d=h(e(111)),u=h(e(35));function h(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function g(x){if(x){if(x[_0x4962("0xf1")]&&x[_0x4962("0xf1")][_0x4962("0xf2")]&&(x.datas_[_0x4962("0xf2")]=void 0,x[_0x4962("0xf1")]=void 0),x[_0x4962("0xf3")])for(var _=0;_<x[_0x4962("0xf3")][_0x4962("0x0")];_++)g(x[_0x4962("0xf3")][_]);x.geometry&&x.geometry.dispose(),x.material&&(x[_0x4962("0xf6")]instanceof Array?x.material[_0x4962("0x20")]((function(x){x&&x[_0x4962("0xf5")]()})):x.material[_0x4962("0xf5")]())}x=void 0}var b=function(){function x(_){(0,c[_0x4962("0xc")])(this,x),this[_0x4962("0x2e6")]=_[_0x4962("0x48")][_0x4962("0x34")],this[_0x4962("0x3c9")]=this[_0x4962("0x2e6")].modelLoader,this[_0x4962("0x2f2")]=_.map[_0x4962("0x7f")].modelLoadingList,this[_0x4962("0xd9d")]=0,this[_0x4962("0xd9e")]=1,this[_0x4962("0xd9f")]=20,this.mapModelsCount=0,this[_0x4962("0xda0")]={},this[_0x4962("0xda1")]={},this[_0x4962("0xa1b")]=[],this[_0x4962("0xda2")]=[],this[_0x4962("0xb12")]=[],this.queueRanked=!1,this[_0x4962("0x266")]=!1,this[_0x4962("0xda3")]={},this[_0x4962("0xda4")]={},this.userMergeQueue={},this[_0x4962("0xda5")]=null,this[_0x4962("0xda6")]=50,this[_0x4962("0xda7")]=1e4,this.GLTFMergeTool=new(d[_0x4962("0xc")]),this[_0x4962("0x383")]=!_.map[_0x4962("0x3b")][_0x4962("0x1f5")]&&_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a7")],this[_0x4962("0x3cf")]={modelTypesCount:0,roomModelsCount:0},this[_0x4962("0xbf0")]=new(THREE[_0x4962("0x926")]);var e=this;_[_0x4962("0x48")].on(_0x4962("0xda8"),(function(){0,e[_0x4962("0xda9")]=0,e[_0x4962("0x3cf")][_0x4962("0x681")]=0,e.modelStatic[_0x4962("0x3d0")]=0})),_[_0x4962("0x48")].on(_0x4962("0xb9a"),(function(){e[_0x4962("0x266")]=!1})),this[_0x4962("0x130")]=_.id,this[_0x4962("0x52")]=_,this[_0x4962("0x1f6")]=e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f6")],_[_0x4962("0x48")].on(_0x4962("0xb23"),this.checkMergeQueByShowLevel[_0x4962("0xe")](this)),_[_0x4962("0x48")].on(_0x4962("0xdaa"),this[_0x4962("0xdab")].bind(this)),this[_0x4962("0x3a8")]=_.map[_0x4962("0x3b")][_0x4962("0x3a8")],this[_0x4962("0x3a8")]&&(this.dracoLoader=new THREE.DRACOLoader,THREE.DRACOLoader[_0x4962("0x7a2")](_[_0x4962("0x48")][_0x4962("0xb4c")].mapOptions.mapDataSrc),THREE[_0x4962("0x753")][_0x4962("0x7a3")]({type:"wasm"}),this[_0x4962("0x3c9")][_0x4962("0xdac")](this[_0x4962("0x7b2")]))}var _,e,h,b;return(0,l[_0x4962("0xc")])(x,[{key:_0x4962("0xdad"),value:function(){this[_0x4962("0xbf0")].inited||(this[_0x4962("0xbf0")].setFromMatrix((new(THREE[_0x4962("0x23f")]))[_0x4962("0x3eb")](this.scene[_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x752")],this[_0x4962("0x2e6")][_0x4962("0x48")].currentCamera[_0x4962("0x3ed")])),this[_0x4962("0xbf0")][_0x4962("0xa26")]=!0),this.zoomLevel=this[_0x4962("0x2e6")].map.zoomLevel}},{key:_0x4962("0xdae"),value:function(x,_){var e=x[_0x4962("0x288")],t=x[_0x4962("0x4d")],i=x[_0x4962("0x132")];if(_=_||!1,!(e.indexOf(_0x4962("0xd6f"))>-1&&"low"==this[_0x4962("0x2e6")][_0x4962("0x48")].options[_0x4962("0x3aa")])){this[_0x4962("0xd9d")]++,e[_0x4962("0xaf")](_0x4962("0xdaf"))>-1&&(_=!0);var a=x.showLevel,n=this.zoomLevel;this.mergeModels&&!_?(this[_0x4962("0x287")][e]||this[_0x4962("0x2f2")][e]||(this[_0x4962("0x2f2")][e]=!0,this.preFetchModel3D(e,t)),n<a?(this[_0x4962("0xda1")][a]||(this[_0x4962("0xda1")][a]={}),this[_0x4962("0xda1")][a][i]||(this[_0x4962("0xda1")][a][i]={}),this[_0x4962("0xda1")][a][i][e]||(this.mergeQueueWaiting[a][i][e]=[]),this[_0x4962("0xda1")][a][i][e][_0x4962("0x3")](x)):(this.mergeQueue[i]||(this[_0x4962("0xda0")][i]={}),this[_0x4962("0xda0")][i][e]||(this[_0x4962("0xda0")][i][e]=[]),this[_0x4962("0xda0")][i][e][_0x4962("0x3")](x))):x.rank<=12?(this[_0x4962("0x287")][e]||this.loadingList[e]||(this[_0x4962("0x2f2")][e]=!0,this[_0x4962("0x2f3")](e,t)),this[_0x4962("0xda2")][_0x4962("0x3")](x),this[_0x4962("0xdb0")]()):(this[_0x4962("0xbf0")][_0x4962("0x938")](x[_0x4962("0x106")])&&(this[_0x4962("0x287")][e]||this[_0x4962("0x2f2")][e]||(this[_0x4962("0x2f2")][e]=!0,this.preFetchModel3D(e,t))),this.rankSingModel(x))}}},{key:"rankRequisites",value:function(){this.requisitesQueue[_0x4962("0x46f")]((function(x,_){return _[_0x4962("0x414")]-x.rank}))}},{key:_0x4962("0xdb1"),value:function(x){var _=x[_0x4962("0x288")],e=x.url;!this[_0x4962("0xdb2")]()||this[_0x4962("0x2e6")].map[_0x4962("0xb0e")]?(this[_0x4962("0xd9d")]++,this.modelStore[_]||this.loadingList[_]||(this[_0x4962("0x2f2")][_]=!0,this.preFetchModel3D(_,e)),x[_0x4962("0x12d")]?(this[_0x4962("0xdb4")][x[_0x4962("0xdb5")]]||(this.userMergeQueue[x[_0x4962("0xdb5")]]={}),this[_0x4962("0xdb4")][x[_0x4962("0xdb5")]][_]||(this[_0x4962("0xdb4")][x[_0x4962("0xdb5")]][_]=[]),this[_0x4962("0xdb4")][x[_0x4962("0xdb5")]][_].push(x)):this.rankSingModel(x)):esmap[_0x4962("0x289")][_0x4962("0xdb3")]}},{key:_0x4962("0x1b1"),value:(b=(0,o[_0x4962("0xc")])(s[_0x4962("0xc")][_0x4962("0x283")]((function x(_){return s[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:return x[_0x4962("0x286")]=2,this[_0x4962("0xdb6")](_);case 2:if(!(this[_0x4962("0xda2")][_0x4962("0x0")]>0)){x.next=5;break}return x[_0x4962("0x286")]=5,this[_0x4962("0xdb7")]();case 5:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return b[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xdb8"),value:function(x){var _=this,e=this,t=this[_0x4962("0x52")],i=e[_0x4962("0x52")][_0x4962("0x48")].id,a=e[_0x4962("0xda1")][x];if(a){for(var n in a){var s=a[n];if(s){var o=Array[_0x4962("0x123")](s);for(var c in s){c=o?s[c].model:c;var l=s[c],f=[],d=!1;if(e[_0x4962("0x287")][c]&&l[_0x4962("0x0")]>0){var u=function(){l[0][_0x4962("0xdb9")]&&(d=!0),!d&&c[_0x4962("0xaf")](_0x4962("0xd6f"))<0&&(e[_0x4962("0xda9")]+=l[_0x4962("0x0")]);var x=l[0][_0x4962("0x17b")],a=l[0].url,r=l[0][_0x4962("0x311")];0,0;for(var o=null,u={},h=0;h<l[_0x4962("0x0")];h++){var b=l[h];b.nodeType=esmap[_0x4962("0x134")][_0x4962("0x1e3")],b[_0x4962("0x3d")]&&(o=b[_0x4962("0x3d")],u=_[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x208")](b[_0x4962("0x106")])),f.push(b.id)}if(0!=e[_0x4962("0x287")][c].gltfObj[_0x4962("0x296")][_0x4962("0x0")]){for(var v=0;v<l[_0x4962("0x0")];v++)e[_0x4962("0xdae")](l[v],!0);return _0x4962("0x692")}var p=e[_0x4962("0xa30")].merge(e[_0x4962("0x287")][c][_0x4962("0x2ee")],l);if(!p){for(var m=0;m<l[_0x4962("0x0")];m++)l[m][_0x4962("0x12d")]=!1,1,e[_0x4962("0xdae")](l[m]);return{v:void 0}}p.name="_root_",p[_0x4962("0x166")].merged=!0,p[_0x4962("0xf1")]={model:c,isWall:d,bid:i,tileId:e[_0x4962("0x52")].id,bType:1,FloorNum:n,nodeType:esmap[_0x4962("0x134")][_0x4962("0x1e3")],brothers:l,animations:[],o3d_:p,url:a,mapCoord:u},o&&(p.datas_[_0x4962("0x3d")]=o,_[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x2b4")].targetAndBuildingList[o]=p[_0x4962("0xf1")]),p[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x27a")],l[0][_0x4962("0x43e")]&&(2==t[_0x4962("0x213")]?(!e[_0x4962("0x2e6")][_0x4962("0x48")].options[_0x4962("0xdba")]&&e.scene.map[_0x4962("0x194")][_0x4962("0x3f0")](p,t.id),t[_0x4962("0xdbb")][n].model3D-=l[_0x4962("0x0")]):e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](p,t.id)),x[_0x4962("0xda")](p),_[_0x4962("0x41b")][_0x4962("0xde")](f);var A=(new(THREE[_0x4962("0x2ef")])).setFromObject(p),y={};[A[_0x4962("0x300")].x-A.min.x,A[_0x4962("0x300")].z-A[_0x4962("0x301")].z,A[_0x4962("0x300")].y-A[_0x4962("0x301")].y][_0x4962("0x46f")](),y[_0x4962("0x2ff")]=A,p[_0x4962("0x166")][_0x4962("0x2fe")]=y,e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")].modelLoadCount-=l[_0x4962("0x0")];e[_0x4962("0x2e6")].map.on(_0x4962("0xb23"),(function(){if(e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x1f6")]<r&&p[_0x4962("0x17b")]){p[_0x4962("0x17b")][_0x4962("0x197")](p);var x=e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3fb")][e[_0x4962("0x52")].id];if(x){var _=x[_0x4962("0xaf")](p);_>-1&&x[_0x4962("0x4")](_,1)}e[_0x4962("0xda1")][r]||(e.mergeQueueWaiting[r]={}),e.mergeQueueWaiting[r][1]||(e.mergeQueueWaiting[r][1]={});var t=p[_0x4962("0xf1")][_0x4962("0x480")][0][_0x4962("0x288")];e[_0x4962("0xda1")][r][1][t]||(e.mergeQueueWaiting[r][1][t]=[]),e[_0x4962("0xda1")][r][1][t]=e[_0x4962("0xda1")][r][1][t][_0x4962("0x12")](p[_0x4962("0xf1")][_0x4962("0x480")]),g(p)}})),e.scene.map[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xa39")](),e.scene[_0x4962("0x48")].fire(_0x4962("0xdbc"),p.datas_),2==t[_0x4962("0x213")]&&t[_0x4962("0x3b")][_0x4962("0x58b")]&&t[_0x4962("0x3b")][_0x4962("0x58c")]<1&&t.focusFloorNum!=n&&esmap[_0x4962("0x8c")][_0x4962("0x679")](n,t[_0x4962("0x3b")][_0x4962("0x58c")]),s[c]=[]}();if(u===_0x4962("0x692"))continue;if((typeof u===_0x4962("0x21")?_0x4962("0x21"):(0,r[_0x4962("0xc")])(u))===_0x4962("0x9"))return u.v}}}}var h=!0;for(var b in a){var v=a[b];for(var p in v){if(!h)break;if(v[p].length>0&&h){h=!1;break}}}h&&(e.mergeQueueWaiting[x]=null)}}},{key:_0x4962("0xdbd"),value:function(x,_){var e=this,t=e[_0x4962("0xda0")][_];if(t){var i=e[_0x4962("0x2e6")][_0x4962("0x48")].id;for(var a in t){var n=t[a],r=!1;if(e.modelStore[a]&&n[_0x4962("0x0")]>0){if(n[0][_0x4962("0xdb9")]&&(r=!0),!r&&a[_0x4962("0xaf")]("__singlemesh")<0&&(e[_0x4962("0xda9")]+=n.length),!e[_0x4962("0x287")][a][_0x4962("0x2ee")])continue;for(var s=(new THREE.Box3)[_0x4962("0x2f4")](e.modelStore[a].gltfObj[_0x4962("0x2e6")]),o=n[0][_0x4962("0x17b")],c=n[0][_0x4962("0x4d")],l=null,f={},d=s[_0x4962("0x300")].y-s.min.y,u=[],h=0;h<n[_0x4962("0x0")];h++){var g=d*n[h][_0x4962("0x1fe")].y,b=g+n[h][_0x4962("0x106")].y-g/2;n[h][_0x4962("0x313")]=1*b[_0x4962("0x65f")](2);var v=n[h];v[_0x4962("0x125")]=esmap[_0x4962("0x134")][_0x4962("0x1e3")],v.ID=v.id;var p=e.scene[_0x4962("0x48")][_0x4962("0x208")](v[_0x4962("0x106")]);v[_0x4962("0x217")]=p,v[_0x4962("0x3d")]&&(l=v[_0x4962("0x3d")],f=p),u[_0x4962("0x3")](v.id)}if(0!=e.modelStore[a][_0x4962("0x2ee")][_0x4962("0x296")][_0x4962("0x0")]){for(var m=0;m<n[_0x4962("0x0")];m++)e.addMapModel(n[m],!0);e.mergeQueue[_][a]=[];continue}var A=e[_0x4962("0xa30")][_0x4962("0x12d")](e.modelStore[a][_0x4962("0x2ee")],n);if(!A){for(var y=0;y<n[_0x4962("0x0")];y++)n[y][_0x4962("0x12d")]=!1,1,e.addMapModel(n[y]);return void(e[_0x4962("0xda0")][_][a]=[])}A[_0x4962("0x107")]=_0x4962("0x108"),A[_0x4962("0x166")].merged=!0,A[_0x4962("0xf1")]={isWall:r,model:a,bid:i,tileId:e.building.id,bType:1,FloorNum:_,nodeType:esmap.ESNodeType[_0x4962("0x1e3")],brothers:n,animations:[],o3d_:A,url:c,mapCoord:f},l&&(A[_0x4962("0xf1")][_0x4962("0x3d")]=l,this[_0x4962("0x2e6")][_0x4962("0x48")].tileService[_0x4962("0xa92")][l]=A[_0x4962("0xf1")]),A.renderOrder=esmap[_0x4962("0x171")][_0x4962("0x27a")],n[0][_0x4962("0x43e")]&&(2==x[_0x4962("0x213")]?(!e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](A,x.id),x[_0x4962("0xdbb")][_][_0x4962("0x27a")]-=n[_0x4962("0x0")]):e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")].addObject(A,x.id)),o[_0x4962("0xda")](A),this.progressHandler[_0x4962("0xde")](u);var C=(new THREE.Box3)[_0x4962("0x2f4")](A),I={};[C[_0x4962("0x300")].x-C[_0x4962("0x301")].x,C.max.z-C[_0x4962("0x301")].z,C.max.y-C[_0x4962("0x301")].y][_0x4962("0x46f")](),I[_0x4962("0x2ff")]=C,A[_0x4962("0x166")][_0x4962("0x2fe")]=I,e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")].modelLoadCount-=n.length,e[_0x4962("0x2e6")].map.mapService[_0x4962("0x2b4")][_0x4962("0xa39")](),e[_0x4962("0xda0")][_][a]=[],e[_0x4962("0x2e6")].map[_0x4962("0xe5")](_0x4962("0xdbc"),A[_0x4962("0xf1")]),2==x[_0x4962("0x213")]&&x[_0x4962("0x3b")].focusAlphaMode&&x.options[_0x4962("0x58c")]<1&&x[_0x4962("0x58a")]!=_&&esmap[_0x4962("0x8c")].setFloorAlpha(_,x[_0x4962("0x3b")][_0x4962("0x58c")])}}}}},{key:"applyRequisitToMap",value:function(){var x=this,_=this;return new(n[_0x4962("0xc")])((function(e){for(var t=0,i=0;i<_[_0x4962("0xda2")].length;i++){var a=_.requisitesQueue[i];if(t>=x[_0x4962("0xd9f")])break;_.modelStore[a[_0x4962("0x288")]]?(_[_0x4962("0xda2")][_0x4962("0x4")](i,1),i--,_[_0x4962("0xdbe")](a),t++):_[_0x4962("0x2f2")][a[_0x4962("0x288")]]||(_[_0x4962("0x2f2")][a[_0x4962("0x288")]]=!0,_[_0x4962("0x2f3")](a[_0x4962("0x288")],a[_0x4962("0x4d")]))}e()}))}},{key:_0x4962("0xdbf"),value:function(){var x=this;if(x[_0x4962("0x383")]&&x.scene.map[_0x4962("0x265")]&&!this[_0x4962("0x266")]&&x.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x381")]){for(var _=x.scene[_0x4962("0x48")][_0x4962("0x21e")],e=x.building,t=0;t<e.length;t++){var i=x[_0x4962("0x2e6")][_0x4962("0x48")].getFloor(e[t]);if(!i)return;var a=i[_0x4962("0x409")](_0x4962("0xdc0"))[0];if(!a)return;var n=a[_0x4962("0xf2")][_0x4962("0xf3")];this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")]?this.scene[_0x4962("0x48")][_0x4962("0x65e")].target[_0x4962("0x23a")](this[_0x4962("0x2e6")].map[_0x4962("0x3ec")][_0x4962("0x106")]):this.scene[_0x4962("0x48")][_0x4962("0x260")].target[_0x4962("0x23a")](this[_0x4962("0x2e6")].map[_0x4962("0x3ec")][_0x4962("0x106")]);for(var r=0;r<n[_0x4962("0x0")];r++){for(var s=n[r],o=s[_0x4962("0xf1")].brothers,c=[],l=[],f=0;f<o[_0x4962("0x0")];f++){var d=o[f],u=d[_0x4962("0x106")][_0x4962("0x126")]();u[_0x4962("0xb35")](this.scene[_0x4962("0x48")].currentCamera);var h=!1;(Math.abs(u.x)>=1.5||Math[_0x4962("0x231")](u.y)>=1.5)&&(h=!0);var g=x[_0x4962("0xa30")][_0x4962("0x46e")](s,d.id);d[_0x4962("0x311")]<_||h?g&&c[_0x4962("0x3")](d.id):!g&&l[_0x4962("0x3")](d.id)}x[_0x4962("0xa30")][_0x4962("0x46d")](s,c,!1),x[_0x4962("0xa30")].setModelVisible(s,l,!0)}}this.viewRangeUpdated=!0}}},{key:"disposeInvisible",value:function(){var x=this;if(!x[_0x4962("0x383")]&&x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]&&!this[_0x4962("0x266")]){var _=new(THREE[_0x4962("0x926")]);_[_0x4962("0xc07")]((new(THREE[_0x4962("0x23f")]))[_0x4962("0x3eb")](this.scene[_0x4962("0x48")].currentCamera[_0x4962("0x752")],this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")]));var e=x[_0x4962("0x52")][_0x4962("0x3c3")][_0x4962("0x409")](_0x4962("0xa66"))[0];if(!e)return;var t=e[_0x4962("0xf2")][_0x4962("0xf3")];this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")]?this.scene[_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")][_0x4962("0x23a")](this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x106")]):this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x23a")](this.scene[_0x4962("0x48")].currentCamera.position);for(var i=0;i<t[_0x4962("0x0")];i++){var a=t[i],n=(a.position,a[_0x4962("0x166")][_0x4962("0x2fe")][_0x4962("0xdc1")],a[_0x4962("0x166")][_0x4962("0x2fe")][_0x4962("0x2ff")]);_[_0x4962("0x939")](n)||(x[_0x4962("0xb12")][_0x4962("0x3")](a.userData[_0x4962("0x2fe")]),a[_0x4962("0xf1")][_0x4962("0xf5")](),i--)}this.viewRangeUpdated=!0}}},{key:_0x4962("0xdc2"),value:function(x,_,e,t){var i=this;return new(n[_0x4962("0xc")])((function(a){if(i[_0x4962("0x287")][e]&&_[_0x4962("0x0")]>0){i.mapModelsCount+=_.length;var n=_[0][_0x4962("0x17b")],r=_[0][_0x4962("0x4d")],s=(new(THREE[_0x4962("0x2ef")])).setFromObject(i.modelStore[e].gltfObj[_0x4962("0x2e6")]),o=(s[_0x4962("0x300")].y-s[_0x4962("0x301")].y)/2,c=0,l=0;if(0!=i[_0x4962("0x287")][e][_0x4962("0x2ee")][_0x4962("0x296")][_0x4962("0x0")]){for(var f=0;f<_[_0x4962("0x0")];f++)_[f][_0x4962("0x12d")]=!1,1,i[_0x4962("0xdb1")](_[f]);return void(i.userMergeQueue[t][e]=[])}for(var d=s.max.y-s.min.y,u=!1,h=0;h<_[_0x4962("0x0")];h++){_[h][_0x4962("0x125")]=esmap[_0x4962("0x134")][_0x4962("0x1e3")];var b=d*_[h][_0x4962("0x1fe")].y+_[h][_0x4962("0x106")].y-d/2;_[h][_0x4962("0x313")]=1*b[_0x4962("0x65f")](2),_[h][_0x4962("0x106")].y+=o*_[h].scale.y,0==h&&_[h][_0x4962("0xdb9")]&&(u=!0),2==x.buildingType&&(c=x[_0x4962("0xaf1")][_0x4962("0xcb4")]-i[_0x4962("0x2e6")][_0x4962("0x2e7")],l=x.sourceData[_0x4962("0xcb5")]-i[_0x4962("0x2e6")].sceneZ_);var v=_[h][_0x4962("0x106")];_[h].position.x=v.x-c,_[h].position.z=v.z-l}var p=i[_0x4962("0xa30")][_0x4962("0x12d")](i.modelStore[e][_0x4962("0x2ee")],_);if(!p){for(var m=0;m<_[_0x4962("0x0")];m++)_[m][_0x4962("0x12d")]=!1,1,i[_0x4962("0xdb1")](_[m]);return void(i[_0x4962("0xdb4")][t][e]=[])}p.name=_0x4962("0x108");var A=_[0][_0x4962("0x132")];p[_0x4962("0x166")][_0x4962("0xa6b")]=!0;p.datas_={model:e,isWall:u,bid:i[_0x4962("0x2e6")][_0x4962("0x48")].id,tileId:x.id,FloorNum:A,nodeType:esmap[_0x4962("0x134")][_0x4962("0x1e3")],brothers:_,animations:[],url:r,bType:1,o3d_:p,dispose:function(x){(x=x||this)[_0x4962("0x17c")]=!1;var _=x[_0x4962("0x17b")];return _?(_[_0x4962("0x197")](x),g(x),!0):void 0}[_0x4962("0xe")](p)},p[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x27a")],_[0].bclick&&(2==x[_0x4962("0x213")]?!i[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&i[_0x4962("0x2e6")].map[_0x4962("0x194")][_0x4962("0x3f0")](p,x.id):i.scene[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](p,x.id)),n[_0x4962("0xda")](p),i[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x3d1")]-=_[_0x4962("0x0")],i[_0x4962("0xdb4")][t][e]=[],i[_0x4962("0x2e6")].map.fire(_0x4962("0xdbc"),p[_0x4962("0xf1")]),i[_0x4962("0x2e6")].map.options[_0x4962("0x58b")]&&i[_0x4962("0x2e6")].map[_0x4962("0x3b")][_0x4962("0x58c")]<1&&i[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x58a")]!=A&&esmap[_0x4962("0x8c")][_0x4962("0x679")](A,i.scene.map[_0x4962("0x3b")].focusAlpha)}a()}))}},{key:_0x4962("0xdc3"),value:(h=(0,o[_0x4962("0xc")])(s[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e){var t,i,a,n,r;return s[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:for(a in i=(t=this)[_0x4962("0xdb4")][e])i[a][_0x4962("0x0")];x.t0=s[_0x4962("0xc")][_0x4962("0xaf3")](i);case 5:if((x.t1=x.t0())[_0x4962("0x426")]){x[_0x4962("0x286")]=12;break}return n=x.t1[_0x4962("0xe3")],r=i[n],x[_0x4962("0x286")]=10,t[_0x4962("0xdc2")](_,r,n,e);case 10:x[_0x4962("0x286")]=5;break;case 12:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,_){return h.apply(this,arguments)})},{key:"checkO1",value:function(){return!1}},{key:_0x4962("0xdab"),value:function(){var x=this,_=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x1f6")],e=function(e){if(!x[_0x4962("0xda1")][e])return"continue";_>=e&&setTimeout((function(){x[_0x4962("0xdb8")](e)}),0)};for(var t in this.mergeQueueWaiting){e(t);_0x4962("0x692")}}},{key:_0x4962("0xdc4"),value:function(){var x=this,_=this.building;if(this[_0x4962("0x383")])for(var e in this[_0x4962("0xda3")])this[_0x4962("0xda3")][e]&&this[_0x4962("0xdbd")](_,e);for(var t in this[_0x4962("0xdb4")])this[_0x4962("0xda4")][t]&&this[_0x4962("0xdc3")](_,t);if(this.autoLoad&&x[_0x4962("0xda2")].length>0&&x[_0x4962("0x1b1")](),this[_0x4962("0xd9e")]&&x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]&&(x.queue.length>0||x[_0x4962("0xb12")][_0x4962("0x0")]>0)){if(!this[_0x4962("0xdc5")]){var i=x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")];if(this[_0x4962("0xda5")]||(i?this[_0x4962("0xda5")]=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")].clone():this.lasViewCenter=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")].clone()),x[_0x4962("0xa1b")]=x[_0x4962("0xa1b")][_0x4962("0x12")](x.toAddQueue),x[_0x4962("0xb12")]=[],x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x381")]){var a=new THREE.Frustum;i?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")][_0x4962("0x23a")](this.scene.map[_0x4962("0x3ec")][_0x4962("0x106")]):this.scene[_0x4962("0x48")].controls[_0x4962("0x2c5")][_0x4962("0x23a")](this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x106")]);var n=i?this[_0x4962("0x2e6")][_0x4962("0x48")].firstPersonControls[_0x4962("0x2c5")]:this.scene.map[_0x4962("0x260")][_0x4962("0x2c5")];a[_0x4962("0xc07")]((new THREE.Matrix4).multiplyMatrices(this[_0x4962("0x2e6")][_0x4962("0x48")].currentCamera.projectionMatrix,this[_0x4962("0x2e6")][_0x4962("0x48")].currentCamera[_0x4962("0x3ed")]));for(var r=0;r<x[_0x4962("0xa1b")][_0x4962("0x0")];r++){if(x[_0x4962("0xa1b")][r].modelrank=1/x.queue[r].position[_0x4962("0x23a")](n),x.queue[r][_0x4962("0x2ff")]){if(!a[_0x4962("0x939")](x[_0x4962("0xa1b")][r].box3)){x[_0x4962("0xb12")][_0x4962("0x3")](x[_0x4962("0xa1b")][r]),x[_0x4962("0xa1b")][_0x4962("0x4")](r,1),r--;continue}x[_0x4962("0xa1b")][r][_0x4962("0xdc6")]=1/x[_0x4962("0xa1b")][r][_0x4962("0x106")][_0x4962("0x23a")](n)}else if(!a.containsPoint(x[_0x4962("0xa1b")][r].position)){x[_0x4962("0xb12")].push(x[_0x4962("0xa1b")][r]),x.queue[_0x4962("0x4")](r,1),r--;continue}}for(var s=_[_0x4962("0x3c3")][_0x4962("0x409")]("mapmodel3ds")[0].o3d_[_0x4962("0xf3")],o=[],c=0;c<s.length;c++){var l=s[c];if(!l[_0x4962("0xf1")][_0x4962("0xdc7")]){l.userData[_0x4962("0x2fe")][_0x4962("0xdc1")],x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xdc8")];var f={modelrank:1/l[_0x4962("0x106")][_0x4962("0x23a")](n),model:l,ind:c};o.push(f)}}var d=[];(d=[].concat(o,x[_0x4962("0xa1b")]))[_0x4962("0x46f")]((function(x,_){return _[_0x4962("0xdc6")]-x.modelrank}));var u=[];if(d[_0x4962("0x0")]>x[_0x4962("0xda7")]){u=d.splice(x[_0x4962("0xda7")]);for(var h=0;h<u[_0x4962("0x0")];h++)u[h][_0x4962("0x2")](_0x4962("0xdc9"))?(x.toAddQueue[_0x4962("0x3")](u[h][_0x4962("0x288")][_0x4962("0x166")][_0x4962("0x2fe")]),u[h][_0x4962("0x288")][_0x4962("0xf1")][_0x4962("0xf5")](),u[h].model=null):x.toAddQueue[_0x4962("0x3")](u[h]),u[_0x4962("0x4")](h,1),h--}for(var g=0;g<d[_0x4962("0x0")];g++)d[g].hasOwnProperty("ind")&&(d[_0x4962("0x4")](g,1),g--);x[_0x4962("0xa1b")]=d}this[_0x4962("0xdca")](),this[_0x4962("0xdc5")]=!0,this[_0x4962("0xda5")]=i?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")][_0x4962("0x126")]():this[_0x4962("0x2e6")].map.controls.target[_0x4962("0x126")]()}x.start(_)}}},{key:_0x4962("0xdcb"),value:function(x){for(var _=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")]?this[_0x4962("0x2e6")].map.firstPersonControls[_0x4962("0x2c5")]:this.scene[_0x4962("0x48")][_0x4962("0x260")].target,e=this[_0x4962("0xa1b")].length,t=x[_0x4962("0x106")].distanceTo(_),i=0;i<e;i++){if(this[_0x4962("0xa1b")][i][_0x4962("0x106")].distanceTo(_)>=t)return void this[_0x4962("0xa1b")][_0x4962("0x4")](i,0,x)}this[_0x4962("0xb12")][_0x4962("0x3")](x),this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]=!0}},{key:_0x4962("0xdca"),value:function(){var x=this.scene[_0x4962("0x48")].firstPersonMode?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")].target:this.scene.map[_0x4962("0x260")][_0x4962("0x2c5")];this[_0x4962("0xa1b")][_0x4962("0x0")];this[_0x4962("0xa1b")][_0x4962("0x46f")]((function(_,e){return _[_0x4962("0x106")][_0x4962("0x23a")](x)-e[_0x4962("0x106")][_0x4962("0x23a")](x)})),this.queue}},{key:_0x4962("0xdb6"),value:function(){var x=this,_=this;return new(n[_0x4962("0xc")])((function(e){for(var t=0,i=0;i<_.queue[_0x4962("0x0")];i++){var a=_.queue[i];if(t>=x[_0x4962("0xd9f")])break;_.modelStore[a[_0x4962("0x288")]]?(_[_0x4962("0xa1b")].splice(i,1),i--,_[_0x4962("0xdbe")](a),t++):_.loadingList[a.model]||(_[_0x4962("0x2f2")][a[_0x4962("0x288")]]=!0,_[_0x4962("0x2f3")](a[_0x4962("0x288")],a[_0x4962("0x4d")]))}e()}))}},{key:_0x4962("0xdbe"),value:function(x){if(this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdcc")].length>0){var _=!0,e=!1,t=void 0;try{for(var i,n=(0,a[_0x4962("0xc")])(this[_0x4962("0x2e6")][_0x4962("0x48")].options.ignoreKeyNameList);!(_=(i=n.next())[_0x4962("0x426")]);_=!0){var r=i[_0x4962("0xe3")];if(x[_0x4962("0x107")]&&x.name[_0x4962("0xaf")](r)>-1)return}}catch(x){e=!0,t=x}finally{try{!_&&n.return&&n.return()}finally{if(e)throw t}}}var s,o=this,c=this[_0x4962("0x52")],l=x[_0x4962("0x288")],f=o[_0x4962("0x287")][l][_0x4962("0x2ee")][_0x4962("0x2e6")],d=o[_0x4962("0x287")][l][_0x4962("0xdcd")],u=(d[_0x4962("0x0")],!1);f[_0x4962("0xf3")][_0x4962("0x20")]((function(x){(x instanceof THREE[_0x4962("0xdce")]||x instanceof THREE.Bone)&&(u=!0)})),s=u?THREE.SkeletonUtils[_0x4962("0x126")](f):f[_0x4962("0x126")](),o[_0x4962("0x2a4")](s,x,d,c)}},{key:_0x4962("0x2a4"),value:function(x,_,e){var t=this,a=this,r=this[_0x4962("0x52")],s=r[_0x4962("0x48")].id;return new n.default((function(n){e=e||[];var o=a[_0x4962("0x2e6")].map[_0x4962("0x194")],c=(_[_0x4962("0x132")],null),l=null,d={},u=null,h=!1;x[_0x4962("0x104")]((function(x){if(x&&x[_0x4962("0x107")])if(x.name.indexOf(_0x4962("0xdcf"))>-1){o[_0x4962("0xbe9")][_0x4962("0x3")](x);var _=x[_0x4962("0x107")].split("-"),e=_[_[_0x4962("0x0")]-1];d[e]||(d[e]={floorObj:null,floorLabel:null,lineGroup:null}),d[e][_0x4962("0xdd0")]=x,x.userData[_0x4962("0xcbb")]=e}else if(x[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xdd1"))>-1)c=x,l=x.parent;else if(x[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xdd2"))>-1){var t=x[_0x4962("0x107")].split("-"),i=t[t[_0x4962("0x0")]-1];d[i]||(d[i]={floorObj:null,floorLabel:null,lineGroup:null}),d[i][_0x4962("0xdd3")]=x}else x[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xdd4"))>-1&&(u=x)})),u&&(h=!0),c&&l.remove(c);var g=(new(THREE[_0x4962("0x2ef")])).setFromObject(x);g.getCenter(x[_0x4962("0x106")]),x[_0x4962("0x106")][_0x4962("0x250")](-1),c&&l[_0x4962("0xda")](c);var b,v,p=g[_0x4962("0x300")].y-g[_0x4962("0x301")].y;g[_0x4962("0x300")].x,g.min.x;b=p<1?15:20,b*=_[_0x4962("0x1fe")].y;var m=_[_0x4962("0x1f7")]||!1;if(_[_0x4962("0xdd5")]){0;var A=_[_0x4962("0x4d")].lastIndexOf("/"),y=_.url;A>-1&&(y=_[_0x4962("0x4d")].slice(A+1)),v=_[_0x4962("0xdd5")],_[_0x4962("0xdd5")].addTo=_[_0x4962("0x17b")],_[_0x4962("0xdd5")][_0x4962("0xdd6")]=_[_0x4962("0xdd6")],_[_0x4962("0xdd5")][_0x4962("0x1fc")]=x,_[_0x4962("0xdd5")][_0x4962("0x288")]=y,_[_0x4962("0xdd5")].animations=e,_.marker[_0x4962("0x1f7")]=m,_[_0x4962("0xdd5")][_0x4962("0x39")](),_[_0x4962("0xdd5")].on(_0x4962("0x228"),(function(){0})),_[_0x4962("0xdb9")]&&(_.marker[_0x4962("0xdd7")]=!0)}else{var C=_.position;for(var I in _[_0x4962("0x106")].x=C.x-0,_[_0x4962("0x106")].y=C.y,_[_0x4962("0x106")].z=C.z-0,(v=new(f[_0x4962("0xc")])({diableClickEffect:h,name:_[_0x4962("0x107")],fnum:_.fnum,ID:_.id,url:_[_0x4962("0x4d")],gid:_[_0x4962("0xc0d")],mapId:_[_0x4962("0x3d")],bid:s,dataID:_[_0x4962("0x212")],bType:1,model:_[_0x4962("0x288")],callback:_[_0x4962("0x1b3")],top:_.top,rotation:_.rotation,position:_.position,scale:_[_0x4962("0x1fe")],scaleRate:b,child:x,addTo:_[_0x4962("0x17b")],isChildNode:m,animations:e}))[_0x4962("0x3e4")]=_[_0x4962("0x3e4")],_[_0x4962("0xdb9")]&&(v[_0x4962("0xdd7")]=!0),d){var E=d[I];E[_0x4962("0xdd0")].userData[_0x4962("0x615")]=E[_0x4962("0xdd3")],u&&(u[_0x4962("0x17c")]=!1,E[_0x4962("0xdd0")][_0x4962("0x166")].lineGroup=u),E[_0x4962("0xdd0")].userData[_0x4962("0x288")]=v;var w=E[_0x4962("0xdd0")][_0x4962("0xf3")];for(var T in w)w[T].userData[_0x4962("0x615")]=E[_0x4962("0xdd3")],u&&(w[T][_0x4962("0x166")][_0x4962("0xc03")]=u),w[T][_0x4962("0x166")][_0x4962("0x288")]=v,w[T].userData.floornum=I,w[T][_0x4962("0x166")][_0x4962("0xdd8")]=E.floorObj}v[_0x4962("0x39")](),t[_0x4962("0x2e6")][_0x4962("0x48")].mapService.modelLoadCount--,_.model.includes(_0x4962("0xdd9"))&&(v[_0x4962("0x1ee")]=_[_0x4962("0x288")].replace(_0x4962("0xdd9"),""),v._enableLod()),v.ID!=_0x4962("0xdda")&&t.progressHandler.pop(v.ID)}_.brief&&_[_0x4962("0xddb")].MA&&(0,i.default)(_[_0x4962("0xddb")].MA)[_0x4962("0x20")]((function(x){var _=x.n,t=x.t,i=x.dt,a=x.l;e[_0x4962("0xddc")]((function(x){return x==_}))?v.playAnimation({name:_,time:t,delay:i,loop:a}):console[_0x4962("0xe0")](_0x4962("0xddd")+_+_0x4962("0xdde"))}));var k=v[_0x4962("0xf2")],M=(new THREE.Box3)[_0x4962("0x2f4")](k),S=[M[_0x4962("0x300")].x-M[_0x4962("0x301")].x,M[_0x4962("0x300")].z-M[_0x4962("0x301")].z,M.max.y-M[_0x4962("0x301")].y];S.sort(),_[_0x4962("0xdc1")]=S[1]*S[2],_[_0x4962("0x2ff")]=M,k[_0x4962("0x166")][_0x4962("0x2fe")]=_,k[_0x4962("0x166")][_0x4962("0x2ff")]=M,2==r[_0x4962("0x213")]?a.setAlpha(r,k):t[_0x4962("0xddf")](k),_.id!=_0x4962("0xde0")&&(_[_0x4962("0x43e")]||a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")])&&(2==r[_0x4962("0x213")]?_[_0x4962("0xdd5")]?o[_0x4962("0x3f0")](k,r.id):a.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]||o[_0x4962("0x3f0")](k,r.id):o[_0x4962("0x3f0")](k,r.id)),v[_0x4962("0x3d")]&&(t[_0x4962("0x2e6")][_0x4962("0x48")].tileService[_0x4962("0xa92")][v[_0x4962("0x3d")]]=v),t[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")].tileService.checkToLoadedBuildings(),t[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xdbc"),v),n()}))}},{key:"preFetchModel3D",value:function(x,_,e){var t=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xde1")];if(t[_0x4962("0x0")]>0){if(t.indexOf(x)>-1)return;if(t[_0x4962("0xaf")](_0x4962("0xde2")>-1)&&x[_0x4962("0xaf")](_0x4962("0xde2"))>-1)return}var i=this,a=this[_0x4962("0x52")],n=esmap.ESMap[_0x4962("0x3a")],r=n[_0x4962("0x13e")][_0x4962("0xde3")];n.options.editMode;var s=esmap[_0x4962("0x171")][_0x4962("0x27a")];n.mapService[_0x4962("0xc9d")][x]=!0;var o=n.id;this.loader.load(_,(function(_){n[_0x4962("0x7f")].modelLoadings[x]=!1,i[_0x4962("0xd9d")]--,i[_0x4962("0x3cf")][_0x4962("0x681")]++,i[_0x4962("0x2f2")][x]=!1;var t=new(THREE[_0x4962("0x28e")])(_.scene);t[_0x4962("0x29f")]=!1;var a=[];_[_0x4962("0x296")][_0x4962("0x20")]((function(x){a[_0x4962("0x3")](x[_0x4962("0x107")][_0x4962("0x292")]())})),_[_0x4962("0x2e6")].traverse((function(x){x[_0x4962("0x170")]=s,x[_0x4962("0xf6")]&&x[_0x4962("0xf6")][_0x4962("0xde4")]&&(x[_0x4962("0xf6")][_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xde5"))>-1&&(x[_0x4962("0xf6")]=new(THREE[_0x4962("0x581")])({color:x[_0x4962("0xf6")][_0x4962("0x147")],map:x[_0x4962("0xf6")][_0x4962("0x48")],transparent:x[_0x4962("0xf6")][_0x4962("0x144")],opacity:x[_0x4962("0xf6")][_0x4962("0x145")],side:x[_0x4962("0xf6")][_0x4962("0x15e")]})),x[_0x4962("0xf6")][_0x4962("0x827")]||(x[_0x4962("0xf6")][_0x4962("0x827")]=.9),x[_0x4962("0xf6")][_0x4962("0x48")]&&(x[_0x4962("0xf6")][_0x4962("0x48")].name[_0x4962("0xaf")]("jpg")>-1&&(x[_0x4962("0xf6")][_0x4962("0x144")]=!1),r||(x[_0x4962("0xf6")][_0x4962("0x48")].encoding=THREE[_0x4962("0xde6")])),!_[_0x4962("0x2e6")].userData.needDepth&&x[_0x4962("0xf6")][_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x2fc"))>=0&&(_[_0x4962("0x2e6")].userData[_0x4962("0xde7")]=!0))}));var o=null;_[_0x4962("0x100")]&&_.parser[_0x4962("0x102")]&&_[_0x4962("0x100")][_0x4962("0x102")].ms&&(o=_[_0x4962("0x100")].json.ms),i[_0x4962("0x287")][x]={mixer:t,gltfObj:_,queue:[],animations:_[_0x4962("0x296")],animNames:a,ms:o},e&&e(_),n[_0x4962("0xe5")](_0x4962("0xdaa"),{name:x,gltfObj:_}),i[_0x4962("0xdc5")]=!1,n.tileList[_0x4962("0x20")]((function(x){return x[_0x4962("0x264")][_0x4962("0xde8")]()}))}),(function(){}),(function(_){var e=null,t=u[_0x4962("0xc")].get(a.id);i[_0x4962("0xd9d")]--;var r=i[_0x4962("0xda0")];for(var s in r){var o=r[s];for(var c in o)if(c==x){var l=o[c][_0x4962("0x48")]((function(x){return x.id}));o[c]=[],t[_0x4962("0xde")](l)}}for(var f=i[_0x4962("0xa1b")],d=0;d<f[_0x4962("0x0")];d++){var h=f[d];if(h[_0x4962("0x288")]==x){var g=h.id;e=g,f[_0x4962("0x4")](d,1),g!==_0x4962("0xdda")&&t[_0x4962("0xdf")](g),d--}}for(var b=i[_0x4962("0xb12")],v=0;v<b[_0x4962("0x0")];v++){var p=b[v];if(p[_0x4962("0x288")]==x){var m=p.id;e=m,b[_0x4962("0x4")](v,1),m!==_0x4962("0xdda")&&t[_0x4962("0xdf")](m),v--}}for(var A=i.toAddQueue,y=0;y<A.length;y++){var C=A[y];if(C[_0x4962("0x288")]==x){var I=C.id;e=I,A[_0x4962("0x4")](y,1),I!==_0x4962("0xdda")&&t[_0x4962("0xdf")](I),y--}}n.fire(_0x4962("0xde9"),{name:x,id:e});_0x4962("0xdea");_&&_[_0x4962("0x18b")]&&_[_0x4962("0x18b")](),_===_0x4962("0xdeb")&&n.options[_0x4962("0x1f5")]&&n[_0x4962("0x7f")][_0x4962("0x80")]("sk")&&n[_0x4962("0x7f")][_0x4962("0x875")][_0x4962("0x710")]&&(n[_0x4962("0x7f")][_0x4962("0x875")][_0x4962("0x710")]=!1,n[_0x4962("0x7f")][_0x4962("0x875")][_0x4962("0xcdf")]([n.id])),i[_0x4962("0x287")][x]={},n.tileList[_0x4962("0x20")]((function(x){return x[_0x4962("0x264")][_0x4962("0xde8")]()}))}),o)}},{key:_0x4962("0xdec"),value:function(x){var _=esmap[_0x4962("0x171")][_0x4962("0x27a")];x[_0x4962("0x107")][_0x4962("0xaf")]("depth")>=0&&(x[_0x4962("0x16f")]=!1),obj[_0x4962("0x170")]=_,x[_0x4962("0x187")]=!0}},{key:"setAlpha2",value:(e=(0,o[_0x4962("0xc")])(s.default.mark((function x(_){var e;return s.default[_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:e=esmap.ESRenderOrder[_0x4962("0x27a")],_.traverse((function(x){if(x[_0x4962("0xf6")]){if(x[_0x4962("0xf6")]instanceof Array)for(var _=0;_<x[_0x4962("0xf6")][_0x4962("0x0")];_++){var t=x[_0x4962("0xf6")][_];t[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x2fc"))>=0&&(t[_0x4962("0x16f")]=!1,t.needsUpdate=!0)}else x[_0x4962("0xf6")].name.indexOf(_0x4962("0x2fc"))>=0&&(x[_0x4962("0xf6")][_0x4962("0x16f")]=!1,x.material.needsUpdate=!0);x[_0x4962("0x170")]=e}}));case 2:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x){return e[_0x4962("0x2a4")](this,arguments)})},{key:"setAlpha",value:(_=(0,o[_0x4962("0xc")])(s[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e){var t,i,a;return s[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:t=e[_0x4962("0xf1")].FloorNum,i=_[_0x4962("0x680")][t],a=esmap[_0x4962("0x171")][_0x4962("0x27a")],i&&i.visible&&(_[_0x4962("0x3b")][_0x4962("0x58c")],e.traverse((function(x){if(x[_0x4962("0xf6")]){if(x[_0x4962("0xf6")]instanceof Array)for(var _=0;_<x[_0x4962("0xf6")][_0x4962("0x0")];_++){var e=x[_0x4962("0xf6")][_];e[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x2fc"))>=0&&(e[_0x4962("0x16f")]=!1,e[_0x4962("0x187")]=!0)}else x[_0x4962("0xf6")][_0x4962("0x107")][_0x4962("0xaf")]("depth")>=0&&(x[_0x4962("0xf6")][_0x4962("0x16f")]=!1,x[_0x4962("0xf6")].needsUpdate=!0);x.renderOrder=a}})));case 6:case"end":return x.stop()}}),x,this)}))),function(x,e){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xde8"),value:function(){if(!this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x9e5")]&&0!=(0,t[_0x4962("0xc")])(this[_0x4962("0x2f2")])[_0x4962("0x0")]&&0!=(0,t[_0x4962("0xc")])(this[_0x4962("0x287")])[_0x4962("0x0")]){for(var x in this[_0x4962("0x2e6")].map[_0x4962("0xded")]=!0,this.loadingList)if(!this[_0x4962("0x287")][x]){this.scene[_0x4962("0x48")][_0x4962("0xded")]=!1;break}return this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xded")]&&!this[_0x4962("0x2e6")][_0x4962("0x48")].cityModelLoadedAllSign&&(this.scene[_0x4962("0x48")][_0x4962("0x9e4")]=!0,this[_0x4962("0x2e6")].map[_0x4962("0xe5")](_0x4962("0xa36"),{bid:this[_0x4962("0x2e6")].map.id}),this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x9e5")]=!0),this[_0x4962("0x2e6")].map[_0x4962("0xded")]}}},{key:_0x4962("0x41b"),get:function(){return this.building[_0x4962("0x41b")]}},{key:_0x4962("0x287"),get:function(){return this.scene[_0x4962("0x48")].mapService[_0x4962("0x287")]}}]),x}();_[_0x4962("0xc")]=b},,,,,,,function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=l(e(7)),i=l(e(8)),a=l(e(0)),n=l(e(1)),r=e(151),s=e(32),o=l(e(24)),c=l(e(152));function l(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var f=null,d=function(){function x(_){var e=this;(0,a.default)(this,x),this[_0x4962("0x2e6")]=_[_0x4962("0x48")][_0x4962("0x34")],this[_0x4962("0x4e")]=_,this.modelLayers={},this[_0x4962("0xdee")]={},this[_0x4962("0xa17")]={},this[_0x4962("0xa12")]={},this[_0x4962("0xa18")]={},this[_0x4962("0xd1a")]={},this[_0x4962("0x3c1")]=0,this[_0x4962("0xdef")]={},this[_0x4962("0xdf0")]=new(c[_0x4962("0xc")])(this),this[_0x4962("0x2e6")][_0x4962("0x48")].on(_0x4962("0x165"),(function(){e[_0x4962("0xdf0")].checkTasks()}))}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0xdf1"),value:function(x,_){var e=_[_0x4962("0x452")][_0x4962("0x0")],t=x[_0x4962("0x0")],i=new Float32Array(e+t);i[_0x4962("0xd8")](_[_0x4962("0x452")]),i.set(x,e),_[_0x4962("0x452")]=i,_[_0x4962("0x182")]+=t/_[_0x4962("0x873")],_[_0x4962("0x187")]=!0}},{key:"handlePlanes",value:function(x){var _=x[_0x4962("0xdf2")],e=x[_0x4962("0x3e4")],t=x.roomLayer,i=x[_0x4962("0xdf3")],a=this[_0x4962("0x2e6")],n=this[_0x4962("0x4e")][_0x4962("0x41b")];if(_&&0!=_.brothers.length){var r=a.map[_0x4962("0x13e")][_0x4962("0xdf4")][_0x4962("0xdf5")],o=[];_.geos[_0x4962("0x20")]((function(x){o.push(x[_0x4962("0xf4")])}));for(var c=s[_0x4962("0x453")][_0x4962("0x56c")](o,!0),l=c[_0x4962("0x45d")],f=0;f<l[_0x4962("0x0")];f++)l[f][_0x4962("0x45f")]=0;c[_0x4962("0x45e")](),c.addGroup(0,c[_0x4962("0x2cd")][_0x4962("0x182")],0);var d=new(THREE[_0x4962("0x198")]);d[_0x4962("0xf4")]=c,d[_0x4962("0x107")]=_0x4962("0x12b"),d.material=a[_0x4962("0x48")][_0x4962("0x13e")].tileMaterial[_0x4962("0xdf5")],d[_0x4962("0x166")][_0x4962("0xdf6")]=r.length-1,d[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,"XYZ"),d[_0x4962("0x166")][_0x4962("0x45d")]=l;for(var u=[],h=0;h<_[_0x4962("0x480")][_0x4962("0x0")];h++){var g=_[_0x4962("0x480")][h];u.push(g.ID),_.brothers[h][_0x4962("0xf2")]=d,g[_0x4962("0xdf7")]>=3&&(this.modelTextureMeshs[g.ID]=d,g[_0x4962("0x481")]=[0,0]);var b=a[_0x4962("0x48")][_0x4962("0x1b7")]({from:a[_0x4962("0x48")].coordSystem,to:a[_0x4962("0x48")].options[_0x4962("0x1ba")],coord:g[_0x4962("0x217")]});g[_0x4962("0x3e8")]=1,g[_0x4962("0x217")]=b,g.x=b.x,g.y=b.y}d[_0x4962("0xf1")]={bid:e,brothers:_[_0x4962("0x480")],o3d_:d,nodeType:esmap[_0x4962("0x134")][_0x4962("0x678")],bType:1},d[_0x4962("0xb71")]=!1,d[_0x4962("0x170")]=esmap[_0x4962("0x171")].model,t[_0x4962("0xf2")][_0x4962("0xda")](d),n.popArray(u),i&&a.map[_0x4962("0x194")][_0x4962("0x3f0")](d,e)}}},{key:_0x4962("0xdf8"),value:function(x){var _,e=this.tile,t=this.scene,i=x[_0x4962("0xdf9")],a=e.id+i,n=null,s=e.id,o=e.o3d_,c=e[_0x4962("0x41b")],l=this[_0x4962("0x2e6")][_0x4962("0x48")].id,f=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],d=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x13e")].modelLines,u=null,h=x[_0x4962("0x2ed")],g={points:x[_0x4962("0xdfa")],types:{}},b=x[_0x4962("0xdf9")]||t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]&&t.map.options[_0x4962("0x39e")];if(this[_0x4962("0xa12")][s]||((_=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0x1e3")]))[_0x4962("0x107")]=_0x4962("0xa66"),o[_0x4962("0xda")](_[_0x4962("0xf2")]),e[_0x4962("0xdfb")]=_,this.toHandle[s]={0:{model3data:[],geometries:{},meshes:{},rmodellayer:_},1:{model3data:[],geometries:{},meshes:{},rmodellayer:_}}),_=e[_0x4962("0xdfb")],this.toHandle[s][i][_0x4962("0xdfc")]=this[_0x4962("0xa12")][s][i].model3data[_0x4962("0x12")](x[_0x4962("0xdfd")]),i)if(this[_0x4962("0xa13")][s])n=this.modelLayers[s];else{var v=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")].MODEL,{});o[_0x4962("0xda")](v.o3d_),this[_0x4962("0xa13")][s]=v,n=v}else if(this[_0x4962("0xdee")][s])n=this[_0x4962("0xdee")][s];else{var p=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType.MODEL_BASE,{});o.add(p[_0x4962("0xf2")]),this[_0x4962("0xdee")][s]=p,n=p}var m=0;for(var A in x[_0x4962("0x694")]){var y=x[_0x4962("0x694")][A],C=y[_0x4962("0x480")],I=x[_0x4962("0x45d")][A],E=[],w=[],T=[];if(d&&C[0]){var k=C[0][_0x4962("0x57f")],M={},S=t[_0x4962("0x48")].mapTheme[_0x4962("0xa6f")][k];S||(S=t[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xa6f")][0]);var R={bordercolor:S.bordercolor||_0x4962("0xdfe"),borderwidth:S[_0x4962("0xdff")]||0};R[_0x4962("0xdff")]&&(M[_0x4962("0x5c0")]=k,M[_0x4962("0xe00")]=R,M.id=k,M[_0x4962("0xe01")]=y[_0x4962("0xe02")],g[_0x4962("0x694")][k]=M,this.drawOutline(g,!0,e))}y[_0x4962("0x933")]&&this[_0x4962("0xe03")]({planeData:y[_0x4962("0x933")],roomLayer:n,tileId:s,isPickable:b});var L=0;this[_0x4962("0xa12")][s][i].geometries[A]&&(L=this.toHandle[s][i][_0x4962("0x42d")][A][_0x4962("0x166")][_0x4962("0xe04")]);for(var H=[],D=0;D<C[_0x4962("0x0")];D++){var O=C[D],P=t[_0x4962("0x48")].mapService[_0x4962("0x2b4")].getBuildingColorStaged({ID:O.ID,name:O[_0x4962("0x107")]});P&&H[_0x4962("0x3")]({start:O[_0x4962("0x109")][0],end:O[_0x4962("0x109")][1],data:P});var N=I[O.ID],F=[N[1][_0x4962("0x1b1")],N[1].start+N[1][_0x4962("0x182")]];0!=L&&(O[_0x4962("0x109")][0]+=L,O[_0x4962("0x109")][1]+=L,F[0]+=L,F[1]+=L);var B=t.map[_0x4962("0x1b7")]({from:t[_0x4962("0x48")].coordSystem,to:t.map.options[_0x4962("0x1ba")],coord:O.mapCoord});t.map[_0x4962("0x13e")].usedRoomStyles[_0x4962("0xaf")](O[_0x4962("0x57f")])<0&&t[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xe05")][_0x4962("0x3")](O.RoomStyle);var z={ID:O.ID,dataID:O.dataID,gid:O[_0x4962("0xc0d")],RoomElevation:O.RoomElevation,RoomHigh:O[_0x4962("0xd48")],RoomStyle:O[_0x4962("0x57f")],buildingFnums:O.Fnums,faceRange:O[_0x4962("0x109")],sideRange:F,nodeType:5,top:O[_0x4962("0x35c")],bclick:O[_0x4962("0x43e")],bid:l,tileId:s,mapId:O.mapId||null,bType:1,parentType:1,name:O[_0x4962("0x107")],typeID:O[_0x4962("0x2fd")],size:O[_0x4962("0xdd")],mapCoord:B};E.push(z),T.push(O.ID),f&&(E[E.length-1][_0x4962("0x138")]=O[_0x4962("0x138")]),w[_0x4962("0x3")]({ID:O.ID,range:O[_0x4962("0x109")],sideRange:F,split:N[1][_0x4962("0x1b1")]+L})}for(var U=x[_0x4962("0xe06")][_0x4962("0x55f")](3*m,3*(m+y[_0x4962("0xe01")])),V=x[_0x4962("0xe07")][_0x4962("0x55f")](3*m,3*(y[_0x4962("0xe01")]+m)),j=x[_0x4962("0x595")][_0x4962("0x55f")](m,y.groupIndex+m),Y=x.isSelectFlags.subarray(m,y[_0x4962("0xe01")]+m),Z=x[_0x4962("0xe08")].subarray(1*m,1*(m+y.groupIndex)),W=x[_0x4962("0xa7d")].subarray(1*m,1*(m+y[_0x4962("0xe01")])),G=x[_0x4962("0xe09")][_0x4962("0x55f")](1*m,1*(m+y.groupIndex)),X=x[_0x4962("0xe0a")].subarray(1*m,1*(m+y[_0x4962("0xe01")])),Q=x[_0x4962("0xe0b")][_0x4962("0x55f")](4*m,4*(m+y[_0x4962("0xe01")])),J=x[_0x4962("0xe0c")][_0x4962("0x55f")](4*m,4*(m+y[_0x4962("0xe01")])),K=x[_0x4962("0xa72")][_0x4962("0x55f")](m,1*(m+y.groupIndex)),q=x.sideTexIndex[_0x4962("0x55f")](m,1*(m+y.groupIndex)),$=x.normalizeUvs[_0x4962("0x55f")](2*m,2*(y[_0x4962("0xe01")]+m)),xx=x.uvs.subarray(2*m,2*(y[_0x4962("0xe01")]+m)),_x=x[_0x4962("0xe0d")][_0x4962("0x55f")](2*m,2*(y[_0x4962("0xe01")]+m)),ex=0;ex<H.length;ex++){for(var tx=H[ex],ix=tx.start;ix<tx[_0x4962("0x308")];ix++)W[ix]=1;for(var ax=4*tx[_0x4962("0x1b1")];ax<4*tx.end;ax+=4)J[ax]=tx.data[0],J[ax+1]=tx.data[1],J[ax+2]=tx.data[2],J[ax+3]=tx[_0x4962("0x57b")][3]}var nx=null;if(this[_0x4962("0xa12")][s][i][_0x4962("0x42d")][A]){nx=this.toHandle[s][i][_0x4962("0x42d")][A];this[_0x4962("0xa12")][s][i][_0x4962("0x103")][A];this[_0x4962("0xdf1")](U,nx[_0x4962("0x44d")](_0x4962("0x106"))),this[_0x4962("0xdf1")](V,nx[_0x4962("0x44d")](_0x4962("0x141"))),this[_0x4962("0xdf1")](xx,nx[_0x4962("0x44d")]("uv")),this[_0x4962("0xdf1")](_x,nx.getAttribute(_0x4962("0xe0e"))),this.appendAttribute($,nx[_0x4962("0x44d")]("normalizeUv")),this[_0x4962("0xdf1")](Z,nx[_0x4962("0x44d")](_0x4962("0xe08"))),this.appendAttribute(W,nx[_0x4962("0x44d")](_0x4962("0xa7d"))),this[_0x4962("0xdf1")](G,nx.getAttribute("buildingsHeight")),this.appendAttribute(X,nx.getAttribute(_0x4962("0xe0f"))),this[_0x4962("0xdf1")](Q,nx[_0x4962("0x44d")]("buildingsColor")),this[_0x4962("0xdf1")](J,nx[_0x4962("0x44d")](_0x4962("0xa7b"))),this[_0x4962("0xdf1")](j,nx[_0x4962("0x44d")](_0x4962("0x595"))),this[_0x4962("0xdf1")](Y,nx.getAttribute(_0x4962("0xabe"))),K[_0x4962("0x0")]>0&&this[_0x4962("0xdf1")](K,nx[_0x4962("0x44d")](_0x4962("0xa72"))),q[_0x4962("0x0")]>0&&this[_0x4962("0xdf1")](q,nx[_0x4962("0x44d")]("sideTexIndex")),nx[_0x4962("0x480")]=nx[_0x4962("0x480")].concat(w),w[_0x4962("0x0")]>0&&(nx[_0x4962("0x166")][_0x4962("0xe04")]=w[w[_0x4962("0x0")]-1][_0x4962("0x558")][1]),nx.computeBoundingSphere()}else{var rx=new THREE.BufferAttribute(U,3),sx=new(THREE[_0x4962("0x455")])(V,3),ox=new THREE.BufferAttribute(xx,2),cx=new(THREE[_0x4962("0x455")])($,2),lx=new(THREE[_0x4962("0x455")])(_x,2),fx=new(THREE[_0x4962("0x455")])(Z,1),dx=new(THREE[_0x4962("0x455")])(W,1),ux=new THREE.BufferAttribute(G,1),hx=new(THREE[_0x4962("0x455")])(X,1),gx=new(THREE[_0x4962("0x455")])(Q,4),bx=new(THREE[_0x4962("0x455")])(J,4),vx=new THREE.BufferAttribute(j,1);(nx=new(r[_0x4962("0x637")]))[_0x4962("0x454")](_0x4962("0x106"),rx),nx[_0x4962("0x454")](_0x4962("0x141"),sx),nx.addAttribute("uv",ox),nx[_0x4962("0x454")](_0x4962("0x555"),cx),nx[_0x4962("0x454")](_0x4962("0xe0e"),lx),nx.addAttribute(_0x4962("0xe08"),fx),nx[_0x4962("0x454")](_0x4962("0xa7d"),dx),nx[_0x4962("0x454")](_0x4962("0xe09"),ux),nx.addAttribute(_0x4962("0xe0f"),hx),nx.addAttribute(_0x4962("0xa71"),gx),nx[_0x4962("0x454")](_0x4962("0xa7b"),bx),nx[_0x4962("0x454")](_0x4962("0x595"),vx),nx[_0x4962("0x454")]("isSelectFlags",new THREE.BufferAttribute(Y,1));var px=void 0;px=K[_0x4962("0x0")]>0?new THREE.BufferAttribute(K,1):new(THREE[_0x4962("0x455")])(new Float32Array(U.length),1),nx[_0x4962("0x454")]("topTexIndex",px);var mx=void 0;mx=q[_0x4962("0x0")]>0?new(THREE[_0x4962("0x455")])(q,1):new THREE.BufferAttribute(new Float32Array(U.length),1),nx[_0x4962("0x454")](_0x4962("0xe10"),mx),nx[_0x4962("0x480")]=w,w.length>0?nx[_0x4962("0x166")][_0x4962("0xe04")]=w[w.length-1][_0x4962("0x558")][1]:nx[_0x4962("0x166")][_0x4962("0xe04")]=0,this[_0x4962("0xa12")][s][i][_0x4962("0x42d")][A]=nx}nx[_0x4962("0x45e")](),nx[_0x4962("0x181")](0,nx[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0);var Ax,yx=void 0;if(999==A)yx=[t[_0x4962("0x3f3")][_0x4962("0xe11")]];else if(f){var Cx=t[_0x4962("0x3f3")][_0x4962("0xa6f")][A];Cx||(Cx=t.mapTheme_[_0x4962("0xa6f")][0]),yx=t[_0x4962("0x3f3")].modelBasicMat[Cx[_0x4962("0xe12")]]}else yx=t[_0x4962("0x3f3")][_0x4962("0xa2d")][A];for(var Ix in m+=y[_0x4962("0xe01")],this[_0x4962("0xa12")][s][i].meshes[A]?(Ax=this[_0x4962("0xa12")][s][i].meshes[A])[_0x4962("0xf1")][_0x4962("0x480")]=Ax[_0x4962("0xf1")][_0x4962("0x480")].concat(E):((Ax=new(THREE[_0x4962("0x198")]))[_0x4962("0xf4")]=nx,Ax[_0x4962("0xf6")]=yx,Ax[_0x4962("0x107")]=A,Ax[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,_0x4962("0xbb3")),Ax[_0x4962("0xf1")]={bid:s,o3d_:Ax,brothers:E,nodeType:esmap[_0x4962("0x134")].MODEL},this[_0x4962("0xa12")][s][i][_0x4962("0x103")][A]=Ax,Ax[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x288")],null!=t[_0x4962("0x48")].options[_0x4962("0x3a2")]&&1*A==999?t[_0x4962("0x48")][_0x4962("0x3b")].hideRoomLogoMeshes&&(Ax[_0x4962("0x17c")]=!1,Ax[_0x4962("0xf4")][_0x4962("0x45e")](),Ax.geometry[_0x4962("0x91b")][_0x4962("0x182")]=0):1*A!=999||t.map[_0x4962("0x3b")].editMode||(Ax.visible=!1,Ax[_0x4962("0xf4")][_0x4962("0x45e")](),Ax.geometry[_0x4962("0x91b")][_0x4962("0x182")]=0),n.o3d_[_0x4962("0xda")](Ax),c[_0x4962("0xde")](T),(x[_0x4962("0xdf9")]||t.map[_0x4962("0x3b")][_0x4962("0x1f5")]&&t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x39e")])&&t[_0x4962("0x48")].mapPicker[_0x4962("0x3f0")](Ax,s)),E){var Ex=E[Ix];Ex[_0x4962("0xf2")]=Ax,Ex[_0x4962("0x3d")]&&!t.map[_0x4962("0x2b4")][_0x4962("0xa92")][Ex[_0x4962("0x3d")]]&&(t.map[_0x4962("0x2b4")][_0x4962("0x68d")][Ex[_0x4962("0x3d")]]&&(t.map.tileService.bidList[Ex[_0x4962("0x3d")]][_0x4962("0x107")]=Ex[_0x4962("0x107")]),t[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0xa92")][Ex[_0x4962("0x3d")]]=Ex)}t.map[_0x4962("0x2b4")][_0x4962("0xa39")]()}if(this._lodRecords[s]||(this[_0x4962("0xdef")][s]={1:0,2:0,3:0}),this[_0x4962("0xdef")][s][h]+=1,2==this[_0x4962("0xdef")][s][h]&&e[_0x4962("0x3ca")](),x.modelImagesData&&x[_0x4962("0xe13")].length>0)if(u=e[_0x4962("0x3c3")][_0x4962("0x407")](_0x4962("0x598"),esmap[_0x4962("0x3d6")].MODEL_IMAGE),o[_0x4962("0xda")](u[_0x4962("0xf2")]),f&&x[_0x4962("0xe13")][_0x4962("0x0")]>1)for(var wx=0,Tx=0;Tx<x[_0x4962("0xe13")][_0x4962("0x0")];Tx++){var kx=x[_0x4962("0xe13")][Tx],Mx=kx.id,Sx=x[_0x4962("0xe14")][Tx];Sx[_0x4962("0x45f")]=0;for(var Rx=Sx.start,Lx=Sx[_0x4962("0x182")],Hx=x[_0x4962("0xe14")][Tx],Dx=x[_0x4962("0xe15")][_0x4962("0x55f")](Rx,Rx+Lx),Ox=0;Ox<Dx[_0x4962("0x0")];Ox++)Dx[Ox]-=wx;var Px=x[_0x4962("0xe16")].subarray(2*Rx,2*(Rx+Lx)),Nx=x[_0x4962("0xe17")][_0x4962("0x55f")](Rx/3*4,(Rx+Lx)/3*4),Fx=x.modelImageNor.subarray(2*Rx,2*(Rx+Lx)),Bx=x[_0x4962("0xe18")][_0x4962("0x55f")](4*Tx,4*Tx+4);this[_0x4962("0xdf0")][_0x4962("0x591")](Mx,[kx]),this.modelImageLoader.setParent(Mx,u[_0x4962("0xf2")],{bid:s,bType:1}),Sx[_0x4962("0x1b1")]=0,this[_0x4962("0xdf0")][_0x4962("0x592")](Mx,{index:Dx,pos:Px,uv:Nx,nor:Fx,hideFlags:Bx,groups:[Sx],groupsCopy:[Hx]}),wx+=Px[_0x4962("0x0")]/3}else this.modelImageLoader[_0x4962("0x591")](a,x.modelImagesData),this[_0x4962("0xdf0")][_0x4962("0xe19")](a,u.o3d_,{bid:s,bType:1}),this[_0x4962("0xdf0")][_0x4962("0x592")](a,{index:x[_0x4962("0xe15")],pos:x[_0x4962("0xe16")],uv:x[_0x4962("0xe17")],nor:x.modelImageNor,hideFlags:x[_0x4962("0xe18")],groups:x[_0x4962("0xe1a")],groupsCopy:x[_0x4962("0xe14")]});this[_0x4962("0xe1b")](i)}},{key:_0x4962("0xe1b"),value:function(x){var _,e=(_=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")].mark((function _(){return t[_0x4962("0xc")][_0x4962("0x284")]((function(_){for(;;)switch(_[_0x4962("0x285")]=_[_0x4962("0x286")]){case 0:c(x);case 1:case"end":return _[_0x4962("0x1b2")]()}}),_,this)}))),function(){return _[_0x4962("0x2a4")](this,arguments)}),a=this,n=a.scene,r=this[_0x4962("0x4e")],s=r,o=r.id;function c(x){if(n[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x39f")]){var _=a.toHandle[o][x].model3data,e=n.map[_0x4962("0xb47")]?n[_0x4962("0x48")][_0x4962("0x65e")].target:n[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")];if(s){s[_0x4962("0x264")][_0x4962("0xdad")]();var t=[];for(n[_0x4962("0xd6a")][_0x4962("0x288")]+=_.length;_[_0x4962("0x0")]>0;){var i=_.shift(),r=a[_0x4962("0xe1c")](i,x,null,o);r&&(r[_0x4962("0x414")]<=12?s[_0x4962("0x264")].addMapModel(r):(r[_0x4962("0xe1d")]=r[_0x4962("0x106")][_0x4962("0x23a")](e),t[_0x4962("0x3")](r)))}for(t.sort((function(x,_){return x[_0x4962("0xe1e")]-_.viewrank}));t[_0x4962("0x0")]>0;){var c=t[_0x4962("0x224")]();s[_0x4962("0x264")][_0x4962("0xdae")](c)}s.modelLoadManager[_0x4962("0xda3")][x]=!0}}}e()[_0x4962("0x2dd")]((function(){a[_0x4962("0xd1a")][r.id]||(r[_0x4962("0x48")].on(_0x4962("0x165"),(function(){r[_0x4962("0x48")]&&(r[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x381")]?(r[_0x4962("0x48")].firstPersonControls[_0x4962("0x710")]&&(f=setTimeout((function(){r[_0x4962("0x264")][_0x4962("0xdc5")]=!1,r.modelLoadManager[_0x4962("0x266")]=!1,f&&window[_0x4962("0x267")](f)}),100)),r[_0x4962("0x264")][_0x4962("0xe1f")](),r.modelLoadManager[_0x4962("0xdc4")]()):r[_0x4962("0x264")].checkIfNeedLoad(r))})),a.modelManagerStarted[r.id]=!0)}))}},{key:_0x4962("0xe1c"),value:function(x,_,e,t){var i,a=this[_0x4962("0x2e6")],n=a[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],r=(a.map[_0x4962("0x3b")][_0x4962("0x88")],a[_0x4962("0x48")].id),s=this.tile,c=s[_0x4962("0x41b")],l=x[_0x4962("0x288")][_0x4962("0x14d")](_0x4962("0x84"),""),f=a[_0x4962("0x48")].options[_0x4962("0x3aa")]==_0x4962("0x5e4")&&!a[_0x4962("0x48")][_0x4962("0x3b")].editMode;x[_0x4962("0x3d")]&&a.map.tileService[_0x4962("0x68d")][x.mapId]&&(a.map[_0x4962("0x2b4")][_0x4962("0x68d")][x[_0x4962("0x3d")]][_0x4962("0x107")]=x[_0x4962("0x107")]);var d=o.default.getPath("tileModel",{filename:l,modeltoken:a[_0x4962("0x48")][_0x4962("0xad")]});(d=d[_0x4962("0x14d")](/([^:]\/)\/+/g,"$1"),e)?i=e:i=this[_0x4962("0xa12")][t][_]?this[_0x4962("0xa12")][t][_][_0x4962("0xe20")][_0x4962("0xf2")]:a[_0x4962("0x680")][_][_0x4962("0xf1")].getLayersByTypes(esmap[_0x4962("0x3d6")][_0x4962("0x1e3")])[0].o3d_;if(1*x.top==3){var u=x[_0x4962("0xe21")][_0x4962("0x138")][0][_0x4962("0x48")]((function(x){return x.x*=-1,x})),h=x[_0x4962("0x15c")][_0x4962("0x2d")](",")[1],g=new(esmap[_0x4962("0x647")])({type:_0x4962("0x4e"),useCrst:!1,merge:!0,bid:t,model:x.model,fnum:_,bclick:!!n,points:u,gid:x.gid||0,callback:function(){s.toLoaded[_][_0x4962("0x27a")]--},repeatset:1,thickset:1,heightset:1,name:x[_0x4962("0x107")],id:x.id,height:1*h,showLevel:x.rank});return g[_0x4962("0x130")]=r,g.tileId=t,a[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x3d1")]--,c[_0x4962("0xdf")](x.id),null}if(f&&x[_0x4962("0x288")][_0x4962("0xaf")](_0x4962("0xd6f"))>=0){var b=s[_0x4962("0x264")];return b[_0x4962("0x287")][x[_0x4962("0x288")]]||b[_0x4962("0x2f2")][x[_0x4962("0x288")]]||(b[_0x4962("0x2f2")][x[_0x4962("0x288")]]=!0,s.modelLoadManager[_0x4962("0x2f3")](x.model,d)),!1}var v=new(THREE[_0x4962("0x12c")])(1,1.5,1);if(x.scale){var p=x[_0x4962("0x1fe")][_0x4962("0x2d")](",");v=new(THREE[_0x4962("0x12c")])(parseFloat(p[0]),parseFloat(p[1]),parseFloat(p[2]))}var m=0;if(x[_0x4962("0xcaa")]){var A=Math.PI/180,y=x.rotate[_0x4962("0x2d")](",");m=1*y[1];var C=new THREE.Euler(parseFloat(y[0])*A,parseFloat(y[1])*A,parseFloat(y[2])*A)}var I=void 0;I=a.map._coordMapSceneToThree({x:x.x,y:x.y});var E=a.map[_0x4962("0x1b7")]({from:_0x4962("0x6ae"),to:_0x4962("0x1b9"),coord:{x:x.x,y:x.y}}),w={x:E.x,y:E.y,offsetHeight:0};if(x[_0x4962("0x15c")]){var T=x[_0x4962("0x15c")][_0x4962("0x2d")](",");I.x+=parseFloat(T[0]),I.y+=parseFloat(T[1]),I.z+=parseFloat(T[2]),w.x+=parseFloat(T[0]),w.y+=parseFloat(T[2]),w[_0x4962("0x2a")]=parseFloat(T[1])}x[_0x4962("0x288")][_0x4962("0xaf")](_0x4962("0x84"))<0&&(x.model+=".gltf"),a[_0x4962("0x9f4")][_0x4962("0x3")]({scale:v.x,angle:m,x:w.x,y:w.y,id:x.id,name:x[_0x4962("0x107")],dataID:x[_0x4962("0x212")],offsetHeight:w[_0x4962("0x2a")]});var k={brief:x[_0x4962("0xddb")],bid:r,tileId:t,name:x[_0x4962("0x107")],model:x[_0x4962("0x288")],url:d,dataID:x.dataID,angle:m,classID:x[_0x4962("0xe21")][_0x4962("0x697")],scale:v,top:x[_0x4962("0x35c")],mapId:x[_0x4962("0x3d")]||null,gid:x.gid||0,typeID:x[_0x4962("0xe21")][_0x4962("0x57e")]||0,rotation:C,position:I,showLevel:x[_0x4962("0x414")],data_:{CenX:x.x,CenY:x.y,scale:x.scale||null,rotate:x.rotate||null,offset:x[_0x4962("0x15c")]||null},parent:i,id:x.id,bclick:x.bclick,callbackparams:x.callbackparams||null,callback:function(){s[_0x4962("0xdbb")]&&s.toLoaded[_][_0x4962("0x27a")]--},fnum:_};return n&&(k.roomdata=x[_0x4962("0xe21")]),k}},{key:"drawOutline",value:function(x,_,e){var t,i=this,a=(x.id,e.id);this[_0x4962("0xa17")][a]?t=this[_0x4962("0xa17")][a]:((t=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0xe22")],{}))[_0x4962("0x107")]=_0x4962("0xe23"),e.layerManager[_0x4962("0x406")](t),this[_0x4962("0xa17")][a]=t);var n=x[_0x4962("0x694")];if(_){var r=new THREE.BufferGeometry;r[_0x4962("0x454")]("position",new(THREE[_0x4962("0x455")])(x.points,3));var s=[],o=0;for(var c in n){var l=n[c][_0x4962("0xe00")],f={precision:_0x4962("0xbab"),color:esmap[_0x4962("0x8c")][_0x4962("0x461")](l.bordercolor),linewidth:1*l[_0x4962("0xdff")]>5?5:1*l.borderwidth},d=new THREE.LineBasicMaterial(f);d[_0x4962("0x107")]=c,s[_0x4962("0x3")](d),r[_0x4962("0x181")](o,n[c][_0x4962("0xe01")],s[_0x4962("0x0")]-1),n[c].startIndex=o,o+=n[c][_0x4962("0xe01")]}var u=new(THREE[_0x4962("0x8bc")])(r,s);u.castShadow=!1,u[_0x4962("0xf1")]={nodeType:esmap.ESNodeType[_0x4962("0x413")],id:1},u[_0x4962("0x210")].set(Math.PI/2,0,0,"XYZ"),u[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x172")],u[_0x4962("0x166")][_0x4962("0x596")]=n;return t[_0x4962("0xf2")][_0x4962("0xda")](u),u}for(var h in n){var g=new THREE.BufferGeometry,b=0,v=x[_0x4962("0x138")][_0x4962("0x55f")](3*b,3*(b+n[h][_0x4962("0xe01")]));g.addAttribute(_0x4962("0x106"),new(THREE[_0x4962("0x455")])(v,3));var p=n[h].lineTheme,m=[],A={precision:_0x4962("0xbab"),color:p.strokeColor_,linewidth:p.strokewidth>5?5:p[_0x4962("0xe24")]},y=new(THREE[_0x4962("0x8ca")])(A);m[_0x4962("0x3")](y),g.addGroup(b,n[h][_0x4962("0xe01")],m.length-1),b+=n[h][_0x4962("0xe01")];var C=new(THREE[_0x4962("0x8bc")])(g,m);C[_0x4962("0xb71")]=!1,C[_0x4962("0xf1")]={nodeType:esmap[_0x4962("0x134")][_0x4962("0x413")],id:1*n[h].id,bid:building.id,bType:2},C[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,"XYZ"),C[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x172")],null!=i[_0x4962("0x2e6")][_0x4962("0x48")].options[_0x4962("0x3a2")]?i.scene[_0x4962("0x48")][_0x4962("0x3b")].hideRoomLogoMeshes&&(y[_0x4962("0x17c")]=!1,g[_0x4962("0x45e")](),g[_0x4962("0x91b")][_0x4962("0x182")]=0):1*h!=999||i.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]||(y[_0x4962("0x17c")]=!1,g[_0x4962("0x45e")](),g.drawRange[_0x4962("0x182")]=0);var I=i[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xe23")];null!=i[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xe23")]&&(I=i.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xe23")]),I&&t.o3d_[_0x4962("0xda")](C)}return C}}]),x}();_.default=d},function(x,_,e){"use strict";var t=a(e(6)),i=a(e(14));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n,r=e(75),s=r[_0x4962("0x5ad")],o=r[_0x4962("0x5ae")],c=r.util,l=r[_0x4962("0x5b0")].default||(r[_0x4962("0x5b0")][_0x4962("0xc")]={});l[_0x4962("0x6b0")]=((n={})[_0x4962("0xd52")]=function(){function x(x){if(this[_0x4962("0xd68")]={},this[_0x4962("0x3d4")]={},x)for(var _=(0,i.default)(x),e=0;e<_.length;++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")].v=0,x[_0x4962("0x1")][_0x4962("0x5c6")]=0,x[_0x4962("0x1")].Hash="",x[_0x4962("0x1")][_0x4962("0xe25")]="",x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0xcb3")]=0,x[_0x4962("0x1")].x=0,x[_0x4962("0x1")].y=0,x[_0x4962("0x1")].z=0,x[_0x4962("0x1")][_0x4962("0x5b8")]=0,x[_0x4962("0x1")][_0x4962("0x5bb")]=0,x[_0x4962("0x1")].maxX=0,x[_0x4962("0x1")][_0x4962("0x5cb")]=0,x[_0x4962("0x1")][_0x4962("0x8a")]="",x.prototype[_0x4962("0xd68")]=c.emptyObject,x.prototype.Labels=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0x3de")]="",x[_0x4962("0x1")].o1=0,x[_0x4962("0x1")][_0x4962("0x5ce")]="",x[_0x4962("0x1")].o2=0,x.prototype.t1="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){if(_||(_=o[_0x4962("0xb")]()),null!=x.v&&x[_0x4962("0x2")]("v")&&_.uint32(8)[_0x4962("0x5c5")](x.v),null!=x[_0x4962("0x5c6")]&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x[_0x4962("0x5c6")]),null!=x[_0x4962("0x5c7")]&&x[_0x4962("0x2")](_0x4962("0x5c7"))&&_[_0x4962("0x5c4")](26).string(x[_0x4962("0x5c7")]),null!=x[_0x4962("0xe25")]&&x[_0x4962("0x2")](_0x4962("0xe25"))&&_[_0x4962("0x5c4")](34)[_0x4962("0xd")](x.cname),null!=x[_0x4962("0x3df")]&&x.hasOwnProperty(_0x4962("0x3df"))&&_[_0x4962("0x5c4")](40).int32(x._id),null!=x.Type&&x.hasOwnProperty(_0x4962("0xcb3"))&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x[_0x4962("0xcb3")]),null!=x.x&&x[_0x4962("0x2")]("x")&&_[_0x4962("0x5c4")](57)[_0x4962("0x5c8")](x.x),null!=x.y&&x[_0x4962("0x2")]("y")&&_[_0x4962("0x5c4")](65)[_0x4962("0x5c8")](x.y),null!=x.z&&x[_0x4962("0x2")]("z")&&_[_0x4962("0x5c4")](73)[_0x4962("0x5c8")](x.z),null!=x.minX&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&_[_0x4962("0x5c4")](81).double(x.minX),null!=x[_0x4962("0x5bb")]&&x.hasOwnProperty(_0x4962("0x5bb"))&&_[_0x4962("0x5c4")](89)[_0x4962("0x5c8")](x[_0x4962("0x5bb")]),null!=x[_0x4962("0x5ca")]&&x.hasOwnProperty(_0x4962("0x5ca"))&&_.uint32(97)[_0x4962("0x5c8")](x[_0x4962("0x5ca")]),null!=x[_0x4962("0x5cb")]&&x.hasOwnProperty(_0x4962("0x5cb"))&&_[_0x4962("0x5c4")](105)[_0x4962("0x5c8")](x[_0x4962("0x5cb")]),null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")](_0x4962("0x8a"))&&_[_0x4962("0x5c4")](114)[_0x4962("0xd")](x[_0x4962("0x8a")]),null!=x[_0x4962("0xd68")]&&x.hasOwnProperty(_0x4962("0xd68")))for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),t=0;t<e[_0x4962("0x0")];++t)_.uint32(122)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x6b0")][_0x4962("0xe29")].encode(x[_0x4962("0xd68")][e[t]],_[_0x4962("0x5c4")](18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();if(null!=x[_0x4962("0x3d4")]&&x.hasOwnProperty(_0x4962("0x3d4")))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](130)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x6b0")].POISet.encode(x[_0x4962("0x3d4")][e[t]],_[_0x4962("0x5c4")](18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();return null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&_[_0x4962("0x5c4")](138)[_0x4962("0xd")](x[_0x4962("0x3de")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&_.uint32(144)[_0x4962("0x5c5")](x.o1),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&_[_0x4962("0x5c4")](154)[_0x4962("0xd")](x[_0x4962("0x5ce")]),null!=x.o2&&x.hasOwnProperty("o2")&&_[_0x4962("0x5c4")](160).int32(x.o2),null!=x.t1&&x[_0x4962("0x2")]("t1")&&_[_0x4962("0x5c4")](170).string(x.t1),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e,t=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,i=new(l[_0x4962("0x6b0")][_0x4962("0xd52")]);x[_0x4962("0x428")]<t;){var a=x[_0x4962("0x5c4")]();switch(a>>>3){case 1:i.v=x[_0x4962("0x5c5")]();break;case 2:i[_0x4962("0x5c6")]=x.int32();break;case 3:i.Hash=x[_0x4962("0xd")]();break;case 4:i[_0x4962("0xe25")]=x[_0x4962("0xd")]();break;case 5:i[_0x4962("0x3df")]=x.int32();break;case 6:i.Type=x[_0x4962("0x5c5")]();break;case 7:i.x=x[_0x4962("0x5c8")]();break;case 8:i.y=x[_0x4962("0x5c8")]();break;case 9:i.z=x[_0x4962("0x5c8")]();break;case 10:i[_0x4962("0x5b8")]=x[_0x4962("0x5c8")]();break;case 11:i[_0x4962("0x5bb")]=x.double();break;case 12:i[_0x4962("0x5ca")]=x[_0x4962("0x5c8")]();break;case 13:i.maxY=x[_0x4962("0x5c8")]();break;case 14:i.token=x.string();break;case 15:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i[_0x4962("0xd68")]===c.emptyObject&&(i[_0x4962("0xd68")]={}),e=x[_0x4962("0x5c5")](),x[_0x4962("0x428")]++,i[_0x4962("0xd68")][e]=l[_0x4962("0x6b0")][_0x4962("0xe29")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]());break;case 16:x[_0x4962("0xe2c")]().pos++,i[_0x4962("0x3d4")]===c[_0x4962("0xe26")]&&(i[_0x4962("0x3d4")]={}),e=x[_0x4962("0x5c5")](),x[_0x4962("0x428")]++,i[_0x4962("0x3d4")][e]=l[_0x4962("0x6b0")][_0x4962("0xe2d")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]());break;case 17:i.other1=x.string();break;case 18:i.o1=x[_0x4962("0x5c5")]();break;case 19:i[_0x4962("0x5ce")]=x[_0x4962("0xd")]();break;case 20:i.o2=x.int32();break;case 21:i.t1=x[_0x4962("0xd")]();break;default:x[_0x4962("0x5d3")](7&a)}}return i},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this.decode(x,x.uint32())},x[_0x4962("0xe2e")]=function(x){if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x)return"object expected";if(null!=x.v&&x[_0x4962("0x2")]("v")&&!c.isInteger(x.v))return _0x4962("0x5d7");if(null!=x[_0x4962("0x5c6")]&&x[_0x4962("0x2")]("mtime")&&!c[_0x4962("0x5db")](x.mtime))return _0x4962("0x5d8");if(null!=x[_0x4962("0x5c7")]&&x.hasOwnProperty(_0x4962("0x5c7"))&&!c.isString(x[_0x4962("0x5c7")]))return"Hash: string expected";if(null!=x[_0x4962("0xe25")]&&x[_0x4962("0x2")](_0x4962("0xe25"))&&!c.isString(x.cname))return _0x4962("0xe2f");if(null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&!c[_0x4962("0x5db")](x._id))return _0x4962("0x5dc");if(null!=x[_0x4962("0xcb3")]&&x.hasOwnProperty(_0x4962("0xcb3"))&&!c[_0x4962("0x5db")](x.Type))return _0x4962("0xe30");if(null!=x.x&&x[_0x4962("0x2")]("x")&&"number"!=typeof x.x)return _0x4962("0x5e2");if(null!=x.y&&x.hasOwnProperty("y")&&"number"!=typeof x.y)return _0x4962("0x5e3");if(null!=x.z&&x.hasOwnProperty("z")&&typeof x.z!==_0x4962("0x18a"))return"z: number expected";if(null!=x[_0x4962("0x5b8")]&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&typeof x[_0x4962("0x5b8")]!==_0x4962("0x18a"))return"minX: number expected";if(null!=x[_0x4962("0x5bb")]&&x[_0x4962("0x2")](_0x4962("0x5bb"))&&typeof x[_0x4962("0x5bb")]!==_0x4962("0x18a"))return"minY: number expected";if(null!=x[_0x4962("0x5ca")]&&x[_0x4962("0x2")](_0x4962("0x5ca"))&&typeof x.maxX!==_0x4962("0x18a"))return _0x4962("0xe31");if(null!=x[_0x4962("0x5cb")]&&x[_0x4962("0x2")]("maxY")&&typeof x[_0x4962("0x5cb")]!==_0x4962("0x18a"))return _0x4962("0xe32");if(null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")](_0x4962("0x8a"))&&!c[_0x4962("0x36d")](x.token))return _0x4962("0x5ef");if(null!=x[_0x4962("0xd68")]&&x[_0x4962("0x2")]("Rooms")){if(!c[_0x4962("0x19")](x[_0x4962("0xd68")]))return _0x4962("0xe33");for(var _=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe35");if(a=l.ESTileMap.RoomSet[_0x4962("0xe2e")](x[_0x4962("0xd68")][_[e]]))return"Rooms."+a}}if(null!=x[_0x4962("0x3d4")]&&x[_0x4962("0x2")](_0x4962("0x3d4"))){if(!c[_0x4962("0x19")](x[_0x4962("0x3d4")]))return _0x4962("0xe36");for(_=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe37");var a;if(a=l.ESTileMap.POISet[_0x4962("0xe2e")](x[_0x4962("0x3d4")][_[e]]))return"Labels."+a}}return null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?"other1: string expected":null!=x.o1&&x[_0x4962("0x2")]("o1")&&!c[_0x4962("0x5db")](x.o1)?_0x4962("0x5f2"):null!=x[_0x4962("0x5ce")]&&x.hasOwnProperty(_0x4962("0x5ce"))&&!c[_0x4962("0x36d")](x.other2)?_0x4962("0x5f5"):null!=x.o2&&x.hasOwnProperty("o2")&&!c[_0x4962("0x5db")](x.o2)?"o2: integer expected":null!=x.t1&&x[_0x4962("0x2")]("t1")&&!c[_0x4962("0x36d")](x.t1)?_0x4962("0xe38"):null},x.fromObject=function(x){if(x instanceof l[_0x4962("0x6b0")][_0x4962("0xd52")])return x;var _=new l.ESTileMap.ESTileMapSet;if(null!=x.v&&(_.v=0|x.v),null!=x[_0x4962("0x5c6")]&&(_[_0x4962("0x5c6")]=0|x[_0x4962("0x5c6")]),null!=x.Hash&&(_[_0x4962("0x5c7")]=String(x[_0x4962("0x5c7")])),null!=x[_0x4962("0xe25")]&&(_.cname=String(x.cname)),null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x._id),null!=x[_0x4962("0xcb3")]&&(_[_0x4962("0xcb3")]=0|x[_0x4962("0xcb3")]),null!=x.x&&(_.x=Number(x.x)),null!=x.y&&(_.y=Number(x.y)),null!=x.z&&(_.z=Number(x.z)),null!=x[_0x4962("0x5b8")]&&(_.minX=Number(x[_0x4962("0x5b8")])),null!=x.minY&&(_[_0x4962("0x5bb")]=Number(x[_0x4962("0x5bb")])),null!=x[_0x4962("0x5ca")]&&(_[_0x4962("0x5ca")]=Number(x[_0x4962("0x5ca")])),null!=x.maxY&&(_.maxY=Number(x.maxY)),null!=x.token&&(_[_0x4962("0x8a")]=String(x.token)),x[_0x4962("0xd68")]){if((0,t[_0x4962("0xc")])(x[_0x4962("0xd68")])!==_0x4962("0x9"))throw TypeError(_0x4962("0xe39"));_[_0x4962("0xd68")]={};for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),a=0;a<e[_0x4962("0x0")];++a){if((0,t[_0x4962("0xc")])(x.Rooms[e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xe39"));_.Rooms[e[a]]=l.ESTileMap[_0x4962("0xe29")][_0x4962("0x5fd")](x[_0x4962("0xd68")][e[a]])}}if(x[_0x4962("0x3d4")]){if("object"!==(0,t[_0x4962("0xc")])(x[_0x4962("0x3d4")]))throw TypeError(".ESTileMap.ESTileMapSet.Labels: object expected");for(_[_0x4962("0x3d4")]={},e=(0,i[_0x4962("0xc")])(x.Labels),a=0;a<e[_0x4962("0x0")];++a){if((0,t.default)(x[_0x4962("0x3d4")][e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xe3a"));_[_0x4962("0x3d4")][e[a]]=l[_0x4962("0x6b0")][_0x4962("0xe2d")][_0x4962("0x5fd")](x.Labels[e[a]])}}return null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),null!=x.o1&&(_.o1=0|x.o1),null!=x[_0x4962("0x5ce")]&&(_[_0x4962("0x5ce")]=String(x[_0x4962("0x5ce")])),null!=x.o2&&(_.o2=0|x.o2),null!=x.t1&&(_.t1=String(x.t1)),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e,t={};if((_[_0x4962("0x748")]||_.defaults)&&(t[_0x4962("0xd68")]={},t.Labels={}),_[_0x4962("0xe3b")]&&(t.v=0,t[_0x4962("0x5c6")]=0,t.Hash="",t[_0x4962("0xe25")]="",t[_0x4962("0x3df")]=0,t[_0x4962("0xcb3")]=0,t.x=0,t.y=0,t.z=0,t[_0x4962("0x5b8")]=0,t[_0x4962("0x5bb")]=0,t.maxX=0,t[_0x4962("0x5cb")]=0,t[_0x4962("0x8a")]="",t.other1="",t.o1=0,t[_0x4962("0x5ce")]="",t.o2=0,t.t1=""),null!=x.v&&x[_0x4962("0x2")]("v")&&(t.v=x.v),null!=x[_0x4962("0x5c6")]&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&(t[_0x4962("0x5c6")]=x[_0x4962("0x5c6")]),null!=x.Hash&&x[_0x4962("0x2")](_0x4962("0x5c7"))&&(t[_0x4962("0x5c7")]=x.Hash),null!=x[_0x4962("0xe25")]&&x[_0x4962("0x2")](_0x4962("0xe25"))&&(t[_0x4962("0xe25")]=x[_0x4962("0xe25")]),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&(t[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0xcb3")]&&x.hasOwnProperty(_0x4962("0xcb3"))&&(t[_0x4962("0xcb3")]=x[_0x4962("0xcb3")]),null!=x.x&&x.hasOwnProperty("x")&&(t.x=x.x),null!=x.y&&x[_0x4962("0x2")]("y")&&(t.y=x.y),null!=x.z&&x[_0x4962("0x2")]("z")&&(t.z=x.z),null!=x.minX&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&(t[_0x4962("0x5b8")]=x[_0x4962("0x5b8")]),null!=x[_0x4962("0x5bb")]&&x.hasOwnProperty("minY")&&(t[_0x4962("0x5bb")]=x[_0x4962("0x5bb")]),null!=x.maxX&&x[_0x4962("0x2")](_0x4962("0x5ca"))&&(t[_0x4962("0x5ca")]=x[_0x4962("0x5ca")]),null!=x[_0x4962("0x5cb")]&&x[_0x4962("0x2")](_0x4962("0x5cb"))&&(t[_0x4962("0x5cb")]=x[_0x4962("0x5cb")]),null!=x[_0x4962("0x8a")]&&x.hasOwnProperty("token")&&(t[_0x4962("0x8a")]=x.token),x[_0x4962("0xd68")]&&(e=(0,i.default)(x.Rooms)).length){t[_0x4962("0xd68")]={};for(var a=0;a<e.length;++a)t[_0x4962("0xd68")][e[a]]=l.ESTileMap.RoomSet[_0x4962("0x602")](x[_0x4962("0xd68")][e[a]],_)}if(x.Labels&&(e=(0,i[_0x4962("0xc")])(x.Labels))[_0x4962("0x0")])for(t[_0x4962("0x3d4")]={},a=0;a<e[_0x4962("0x0")];++a)t.Labels[e[a]]=l[_0x4962("0x6b0")][_0x4962("0xe2d")][_0x4962("0x602")](x[_0x4962("0x3d4")][e[a]],_);return null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(t[_0x4962("0x3de")]=x.other1),null!=x.o1&&x[_0x4962("0x2")]("o1")&&(t.o1=x.o1),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&(t[_0x4962("0x5ce")]=x[_0x4962("0x5ce")]),null!=x.o2&&x[_0x4962("0x2")]("o2")&&(t.o2=x.o2),null!=x.t1&&x.hasOwnProperty("t1")&&(t.t1=x.t1),t},x[_0x4962("0x1")].toObject=function(x){return this[_0x4962("0x604")].toObject(this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this.constructor[_0x4962("0x602")](this,r.util[_0x4962("0x605")])},x}(),n[_0x4962("0xe29")]=function(){function x(x){if(x)for(var _=(0,i.default)(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")].NA="",x.prototype.NE="",x.prototype.MC=0,x[_0x4962("0x1")][_0x4962("0x3f5")]=0,x[_0x4962("0x1")].RL="",x[_0x4962("0x1")][_0x4962("0xd70")]="",x[_0x4962("0x1")].BC=0,x.prototype[_0x4962("0xd71")]=0,x[_0x4962("0x1")].FH=0,x.prototype.RM="",x[_0x4962("0x1")][_0x4962("0xca5")]="",x[_0x4962("0x1")][_0x4962("0xca6")]="",x[_0x4962("0x1")][_0x4962("0xca9")]="",x[_0x4962("0x1")].RS=0,x[_0x4962("0x1")].SL=0,x[_0x4962("0x1")].CenX=0,x.prototype.CenY=0,x.prototype.AS=0,x.prototype.Outline="",x.prototype[_0x4962("0xe3c")]=0,x.prototype[_0x4962("0xd72")]=0,x.prototype[_0x4962("0x677")]="",x[_0x4962("0x1")][_0x4962("0xe3d")]=0,x[_0x4962("0x1")].bidoy=0,x.prototype.bidoz=0,x[_0x4962("0x1")][_0x4962("0xe3e")]=0,x[_0x4962("0x1")][_0x4962("0xe3f")]="",x[_0x4962("0x1")][_0x4962("0xe40")]="",x.prototype[_0x4962("0xe41")]="",x[_0x4962("0x1")][_0x4962("0xe42")]=0,x[_0x4962("0x1")].Did="",x.prototype.o1=0,x[_0x4962("0x1")][_0x4962("0x3de")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x.encode=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x._id),null!=x.NA&&x[_0x4962("0x2")]("NA")&&_.uint32(18)[_0x4962("0xd")](x.NA),null!=x.NE&&x[_0x4962("0x2")]("NE")&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x.NE),null!=x.MC&&x[_0x4962("0x2")]("MC")&&_.uint32(32)[_0x4962("0x5c5")](x.MC),null!=x.Tid&&x[_0x4962("0x2")]("Tid")&&_[_0x4962("0x5c4")](40)[_0x4962("0x5c5")](x[_0x4962("0x3f5")]),null!=x.RL&&x[_0x4962("0x2")]("RL")&&_[_0x4962("0x5c4")](50)[_0x4962("0xd")](x.RL),null!=x[_0x4962("0xd70")]&&x.hasOwnProperty(_0x4962("0xd70"))&&_[_0x4962("0x5c4")](58)[_0x4962("0xd")](x[_0x4962("0xd70")]),null!=x.BC&&x[_0x4962("0x2")]("BC")&&_[_0x4962("0x5c4")](64).int32(x.BC),null!=x[_0x4962("0xd71")]&&x[_0x4962("0x2")]("Fnum")&&_[_0x4962("0x5c4")](72).int32(x[_0x4962("0xd71")]),null!=x.FH&&x[_0x4962("0x2")]("FH")&&_.uint32(81)[_0x4962("0x5c8")](x.FH),null!=x.RM&&x.hasOwnProperty("RM")&&_.uint32(90)[_0x4962("0xd")](x.RM),null!=x[_0x4962("0xca5")]&&x[_0x4962("0x2")](_0x4962("0xca5"))&&_.uint32(98)[_0x4962("0xd")](x.RMS),null!=x[_0x4962("0xca6")]&&x[_0x4962("0x2")]("RMR")&&_.uint32(106)[_0x4962("0xd")](x.RMR),null!=x[_0x4962("0xca9")]&&x[_0x4962("0x2")]("RMO")&&_[_0x4962("0x5c4")](114)[_0x4962("0xd")](x[_0x4962("0xca9")]),null!=x.RS&&x[_0x4962("0x2")]("RS")&&_[_0x4962("0x5c4")](120)[_0x4962("0x5c5")](x.RS),null!=x.SL&&x.hasOwnProperty("SL")&&_.uint32(128)[_0x4962("0x5c5")](x.SL),null!=x[_0x4962("0xca7")]&&x.hasOwnProperty(_0x4962("0xca7"))&&_[_0x4962("0x5c4")](137)[_0x4962("0x5c8")](x[_0x4962("0xca7")]),null!=x.CenY&&x[_0x4962("0x2")](_0x4962("0xca8"))&&_[_0x4962("0x5c4")](145)[_0x4962("0x5c8")](x.CenY),null!=x.AS&&x.hasOwnProperty("AS")&&_[_0x4962("0x5c4")](153).double(x.AS),null!=x[_0x4962("0xd6e")]&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&_[_0x4962("0x5c4")](162)[_0x4962("0xd")](x.Outline),null!=x[_0x4962("0xe3c")]&&x[_0x4962("0x2")](_0x4962("0xe3c"))&&_.uint32(168)[_0x4962("0x5c5")](x[_0x4962("0xe3c")]),null!=x[_0x4962("0xd72")]&&x[_0x4962("0x2")](_0x4962("0xd72"))&&_.uint32(176)[_0x4962("0x5c5")](x.GID),null!=x[_0x4962("0x677")]&&x[_0x4962("0x2")](_0x4962("0x677"))&&_[_0x4962("0x5c4")](186)[_0x4962("0xd")](x[_0x4962("0x677")]),null!=x[_0x4962("0xe3d")]&&x[_0x4962("0x2")](_0x4962("0xe3d"))&&_[_0x4962("0x5c4")](193)[_0x4962("0x5c8")](x[_0x4962("0xe3d")]),null!=x[_0x4962("0xe43")]&&x[_0x4962("0x2")]("bidoy")&&_[_0x4962("0x5c4")](201)[_0x4962("0x5c8")](x[_0x4962("0xe43")]),null!=x[_0x4962("0xe44")]&&x[_0x4962("0x2")](_0x4962("0xe44"))&&_.uint32(209).double(x[_0x4962("0xe44")]),null!=x[_0x4962("0xe3e")]&&x[_0x4962("0x2")](_0x4962("0xe3e"))&&_[_0x4962("0x5c4")](217)[_0x4962("0x5c8")](x[_0x4962("0xe3e")]),null!=x[_0x4962("0xe3f")]&&x[_0x4962("0x2")](_0x4962("0xe3f"))&&_[_0x4962("0x5c4")](226)[_0x4962("0xd")](x.bidstyle),null!=x.bidrids&&x[_0x4962("0x2")](_0x4962("0xe40"))&&_[_0x4962("0x5c4")](234).string(x[_0x4962("0xe40")]),null!=x[_0x4962("0xe41")]&&x[_0x4962("0x2")](_0x4962("0xe41"))&&_.uint32(242)[_0x4962("0xd")](x[_0x4962("0xe41")]),null!=x[_0x4962("0xe42")]&&x[_0x4962("0x2")](_0x4962("0xe42"))&&_[_0x4962("0x5c4")](248)[_0x4962("0x5c5")](x[_0x4962("0xe42")]),null!=x[_0x4962("0xe45")]&&x[_0x4962("0x2")]("Did")&&_[_0x4962("0x5c4")](258)[_0x4962("0xd")](x[_0x4962("0xe45")]),null!=x.o1&&x.hasOwnProperty("o1")&&_.uint32(264)[_0x4962("0x5c5")](x.o1),null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&_[_0x4962("0x5c4")](274)[_0x4962("0xd")](x.other1),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x.decode=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x.len:x[_0x4962("0x428")]+_,t=new l.ESTileMap.RoomSet;x[_0x4962("0x428")]<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t.NA=x[_0x4962("0xd")]();break;case 3:t.NE=x[_0x4962("0xd")]();break;case 4:t.MC=x.int32();break;case 5:t[_0x4962("0x3f5")]=x[_0x4962("0x5c5")]();break;case 6:t.RL=x[_0x4962("0xd")]();break;case 7:t[_0x4962("0xd70")]=x.string();break;case 8:t.BC=x[_0x4962("0x5c5")]();break;case 9:t.Fnum=x[_0x4962("0x5c5")]();break;case 10:t.FH=x[_0x4962("0x5c8")]();break;case 11:t.RM=x.string();break;case 12:t.RMS=x[_0x4962("0xd")]();break;case 13:t[_0x4962("0xca6")]=x[_0x4962("0xd")]();break;case 14:t[_0x4962("0xca9")]=x[_0x4962("0xd")]();break;case 15:t.RS=x.int32();break;case 16:t.SL=x[_0x4962("0x5c5")]();break;case 17:t[_0x4962("0xca7")]=x[_0x4962("0x5c8")]();break;case 18:t[_0x4962("0xca8")]=x.double();break;case 19:t.AS=x[_0x4962("0x5c8")]();break;case 20:t[_0x4962("0xd6e")]=x[_0x4962("0xd")]();break;case 21:t[_0x4962("0xe3c")]=x[_0x4962("0x5c5")]();break;case 22:t[_0x4962("0xd72")]=x.int32();break;case 23:t.bids=x[_0x4962("0xd")]();break;case 24:t[_0x4962("0xe3d")]=x[_0x4962("0x5c8")]();break;case 25:t[_0x4962("0xe43")]=x[_0x4962("0x5c8")]();break;case 26:t[_0x4962("0xe44")]=x[_0x4962("0x5c8")]();break;case 27:t[_0x4962("0xe3e")]=x[_0x4962("0x5c8")]();break;case 28:t[_0x4962("0xe3f")]=x[_0x4962("0xd")]();break;case 29:t[_0x4962("0xe40")]=x[_0x4962("0xd")]();break;case 30:t[_0x4962("0xe41")]=x[_0x4962("0xd")]();break;case 31:t.layer=x[_0x4962("0x5c5")]();break;case 32:t[_0x4962("0xe45")]=x.string();break;case 33:t.o1=x[_0x4962("0x5c5")]();break;case 34:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x.decodeDelimited=function(x){return x instanceof s||(x=s(x)),this.decode(x,x.uint32())},x[_0x4962("0xe2e")]=function(x){return(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?"object expected":null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x.NA&&x[_0x4962("0x2")]("NA")&&!c[_0x4962("0x36d")](x.NA)?_0x4962("0xe46"):null!=x.NE&&x[_0x4962("0x2")]("NE")&&!c.isString(x.NE)?_0x4962("0xe47"):null!=x.MC&&x[_0x4962("0x2")]("MC")&&!c.isInteger(x.MC)?_0x4962("0xe48"):null!=x.Tid&&x.hasOwnProperty(_0x4962("0x3f5"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3f5")])?_0x4962("0xe49"):null!=x.RL&&x[_0x4962("0x2")]("RL")&&!c.isString(x.RL)?"RL: string expected":null!=x.RLSize&&x[_0x4962("0x2")](_0x4962("0xd70"))&&!c.isString(x[_0x4962("0xd70")])?_0x4962("0xe4a"):null!=x.BC&&x[_0x4962("0x2")]("BC")&&!c[_0x4962("0x5db")](x.BC)?_0x4962("0xe4b"):null!=x[_0x4962("0xd71")]&&x[_0x4962("0x2")](_0x4962("0xd71"))&&!c.isInteger(x[_0x4962("0xd71")])?"Fnum: integer expected":null!=x.FH&&x.hasOwnProperty("FH")&&typeof x.FH!==_0x4962("0x18a")?_0x4962("0xe4c"):null!=x.RM&&x.hasOwnProperty("RM")&&!c.isString(x.RM)?_0x4962("0xe4d"):null!=x[_0x4962("0xca5")]&&x[_0x4962("0x2")](_0x4962("0xca5"))&&!c[_0x4962("0x36d")](x.RMS)?_0x4962("0xe4e"):null!=x[_0x4962("0xca6")]&&x[_0x4962("0x2")]("RMR")&&!c[_0x4962("0x36d")](x[_0x4962("0xca6")])?_0x4962("0xe4f"):null!=x[_0x4962("0xca9")]&&x[_0x4962("0x2")]("RMO")&&!c.isString(x[_0x4962("0xca9")])?_0x4962("0xe50"):null!=x.RS&&x.hasOwnProperty("RS")&&!c[_0x4962("0x5db")](x.RS)?_0x4962("0xe51"):null!=x.SL&&x[_0x4962("0x2")]("SL")&&!c[_0x4962("0x5db")](x.SL)?"SL: integer expected":null!=x.CenX&&x[_0x4962("0x2")]("CenX")&&typeof x.CenX!==_0x4962("0x18a")?"CenX: number expected":null!=x[_0x4962("0xca8")]&&x[_0x4962("0x2")](_0x4962("0xca8"))&&typeof x[_0x4962("0xca8")]!==_0x4962("0x18a")?_0x4962("0xe52"):null!=x.AS&&x[_0x4962("0x2")]("AS")&&typeof x.AS!==_0x4962("0x18a")?"AS: number expected":null!=x[_0x4962("0xd6e")]&&x.hasOwnProperty(_0x4962("0xd6e"))&&!c[_0x4962("0x36d")](x[_0x4962("0xd6e")])?"Outline: string expected":null!=x[_0x4962("0xe3c")]&&x[_0x4962("0x2")](_0x4962("0xe3c"))&&!c[_0x4962("0x5db")](x[_0x4962("0xe3c")])?_0x4962("0xe53"):null!=x.GID&&x[_0x4962("0x2")](_0x4962("0xd72"))&&!c.isInteger(x[_0x4962("0xd72")])?_0x4962("0xe54"):null!=x.bids&&x[_0x4962("0x2")](_0x4962("0x677"))&&!c[_0x4962("0x36d")](x[_0x4962("0x677")])?_0x4962("0xe55"):null!=x[_0x4962("0xe3d")]&&x[_0x4962("0x2")]("bidox")&&typeof x.bidox!==_0x4962("0x18a")?_0x4962("0xe56"):null!=x[_0x4962("0xe43")]&&x[_0x4962("0x2")](_0x4962("0xe43"))&&"number"!=typeof x[_0x4962("0xe43")]?_0x4962("0xe57"):null!=x.bidoz&&x.hasOwnProperty(_0x4962("0xe44"))&&typeof x.bidoz!==_0x4962("0x18a")?"bidoz: number expected":null!=x.bidor&&x.hasOwnProperty(_0x4962("0xe3e"))&&typeof x[_0x4962("0xe3e")]!==_0x4962("0x18a")?_0x4962("0xe58"):null!=x.bidstyle&&x[_0x4962("0x2")](_0x4962("0xe3f"))&&!c.isString(x[_0x4962("0xe3f")])?_0x4962("0xe59"):null!=x[_0x4962("0xe40")]&&x.hasOwnProperty(_0x4962("0xe40"))&&!c[_0x4962("0x36d")](x[_0x4962("0xe40")])?_0x4962("0xe5a"):null!=x[_0x4962("0xe41")]&&x[_0x4962("0x2")]("bidpids")&&!c[_0x4962("0x36d")](x[_0x4962("0xe41")])?_0x4962("0xe5b"):null!=x[_0x4962("0xe42")]&&x[_0x4962("0x2")](_0x4962("0xe42"))&&!c.isInteger(x[_0x4962("0xe42")])?"layer: integer expected":null!=x[_0x4962("0xe45")]&&x[_0x4962("0x2")](_0x4962("0xe45"))&&!c.isString(x[_0x4962("0xe45")])?_0x4962("0xe5c"):null!=x.o1&&x.hasOwnProperty("o1")&&!c[_0x4962("0x5db")](x.o1)?_0x4962("0x5f2"):null!=x[_0x4962("0x3de")]&&x.hasOwnProperty("other1")&&!c.isString(x[_0x4962("0x3de")])?_0x4962("0x5f4"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x6b0")][_0x4962("0xe29")])return x;var _=new(l[_0x4962("0x6b0")].RoomSet);return null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x.NA&&(_.NA=String(x.NA)),null!=x.NE&&(_.NE=String(x.NE)),null!=x.MC&&(_.MC=0|x.MC),null!=x[_0x4962("0x3f5")]&&(_[_0x4962("0x3f5")]=0|x[_0x4962("0x3f5")]),null!=x.RL&&(_.RL=String(x.RL)),null!=x[_0x4962("0xd70")]&&(_[_0x4962("0xd70")]=String(x[_0x4962("0xd70")])),null!=x.BC&&(_.BC=0|x.BC),null!=x.Fnum&&(_[_0x4962("0xd71")]=0|x[_0x4962("0xd71")]),null!=x.FH&&(_.FH=Number(x.FH)),null!=x.RM&&(_.RM=String(x.RM)),null!=x.RMS&&(_[_0x4962("0xca5")]=String(x.RMS)),null!=x.RMR&&(_.RMR=String(x[_0x4962("0xca6")])),null!=x.RMO&&(_[_0x4962("0xca9")]=String(x[_0x4962("0xca9")])),null!=x.RS&&(_.RS=0|x.RS),null!=x.SL&&(_.SL=0|x.SL),null!=x.CenX&&(_.CenX=Number(x[_0x4962("0xca7")])),null!=x[_0x4962("0xca8")]&&(_[_0x4962("0xca8")]=Number(x[_0x4962("0xca8")])),null!=x.AS&&(_.AS=Number(x.AS)),null!=x[_0x4962("0xd6e")]&&(_[_0x4962("0xd6e")]=String(x[_0x4962("0xd6e")])),null!=x[_0x4962("0xe3c")]&&(_.PID=0|x[_0x4962("0xe3c")]),null!=x[_0x4962("0xd72")]&&(_.GID=0|x[_0x4962("0xd72")]),null!=x[_0x4962("0x677")]&&(_[_0x4962("0x677")]=String(x[_0x4962("0x677")])),null!=x.bidox&&(_[_0x4962("0xe3d")]=Number(x.bidox)),null!=x[_0x4962("0xe43")]&&(_.bidoy=Number(x.bidoy)),null!=x.bidoz&&(_[_0x4962("0xe44")]=Number(x[_0x4962("0xe44")])),null!=x[_0x4962("0xe3e")]&&(_.bidor=Number(x[_0x4962("0xe3e")])),null!=x[_0x4962("0xe3f")]&&(_[_0x4962("0xe3f")]=String(x[_0x4962("0xe3f")])),null!=x[_0x4962("0xe40")]&&(_.bidrids=String(x[_0x4962("0xe40")])),null!=x[_0x4962("0xe41")]&&(_[_0x4962("0xe41")]=String(x[_0x4962("0xe41")])),null!=x[_0x4962("0xe42")]&&(_[_0x4962("0xe42")]=0|x[_0x4962("0xe42")]),null!=x[_0x4962("0xe45")]&&(_[_0x4962("0xe45")]=String(x[_0x4962("0xe45")])),null!=x.o1&&(_.o1=0|x.o1),null!=x[_0x4962("0x3de")]&&(_.other1=String(x.other1)),_},x[_0x4962("0x2bf")]=x.fromObject,x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e._id=0,e.NA="",e.NE="",e.MC=0,e[_0x4962("0x3f5")]=0,e.RL="",e[_0x4962("0xd70")]="",e.BC=0,e[_0x4962("0xd71")]=0,e.FH=0,e.RM="",e[_0x4962("0xca5")]="",e[_0x4962("0xca6")]="",e.RMO="",e.RS=0,e.SL=0,e.CenX=0,e[_0x4962("0xca8")]=0,e.AS=0,e.Outline="",e[_0x4962("0xe3c")]=0,e.GID=0,e.bids="",e[_0x4962("0xe3d")]=0,e.bidoy=0,e[_0x4962("0xe44")]=0,e[_0x4962("0xe3e")]=0,e[_0x4962("0xe3f")]="",e[_0x4962("0xe40")]="",e[_0x4962("0xe41")]="",e.layer=0,e[_0x4962("0xe45")]="",e.o1=0,e[_0x4962("0x3de")]=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e._id=x[_0x4962("0x3df")]),null!=x.NA&&x[_0x4962("0x2")]("NA")&&(e.NA=x.NA),null!=x.NE&&x[_0x4962("0x2")]("NE")&&(e.NE=x.NE),null!=x.MC&&x.hasOwnProperty("MC")&&(e.MC=x.MC),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&(e[_0x4962("0x3f5")]=x.Tid),null!=x.RL&&x[_0x4962("0x2")]("RL")&&(e.RL=x.RL),null!=x[_0x4962("0xd70")]&&x[_0x4962("0x2")]("RLSize")&&(e[_0x4962("0xd70")]=x[_0x4962("0xd70")]),null!=x.BC&&x[_0x4962("0x2")]("BC")&&(e.BC=x.BC),null!=x[_0x4962("0xd71")]&&x[_0x4962("0x2")](_0x4962("0xd71"))&&(e[_0x4962("0xd71")]=x[_0x4962("0xd71")]),null!=x.FH&&x[_0x4962("0x2")]("FH")&&(e.FH=x.FH),null!=x.RM&&x[_0x4962("0x2")]("RM")&&(e.RM=x.RM),null!=x.RMS&&x[_0x4962("0x2")](_0x4962("0xca5"))&&(e[_0x4962("0xca5")]=x[_0x4962("0xca5")]),null!=x.RMR&&x.hasOwnProperty("RMR")&&(e[_0x4962("0xca6")]=x[_0x4962("0xca6")]),null!=x.RMO&&x[_0x4962("0x2")](_0x4962("0xca9"))&&(e.RMO=x[_0x4962("0xca9")]),null!=x.RS&&x[_0x4962("0x2")]("RS")&&(e.RS=x.RS),null!=x.SL&&x[_0x4962("0x2")]("SL")&&(e.SL=x.SL),null!=x.CenX&&x[_0x4962("0x2")](_0x4962("0xca7"))&&(e[_0x4962("0xca7")]=x.CenX),null!=x[_0x4962("0xca8")]&&x[_0x4962("0x2")](_0x4962("0xca8"))&&(e[_0x4962("0xca8")]=x.CenY),null!=x.AS&&x[_0x4962("0x2")]("AS")&&(e.AS=x.AS),null!=x[_0x4962("0xd6e")]&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&(e[_0x4962("0xd6e")]=x[_0x4962("0xd6e")]),null!=x[_0x4962("0xe3c")]&&x[_0x4962("0x2")]("PID")&&(e[_0x4962("0xe3c")]=x[_0x4962("0xe3c")]),null!=x[_0x4962("0xd72")]&&x[_0x4962("0x2")](_0x4962("0xd72"))&&(e[_0x4962("0xd72")]=x[_0x4962("0xd72")]),null!=x.bids&&x.hasOwnProperty(_0x4962("0x677"))&&(e[_0x4962("0x677")]=x.bids),null!=x[_0x4962("0xe3d")]&&x[_0x4962("0x2")](_0x4962("0xe3d"))&&(e[_0x4962("0xe3d")]=x.bidox),null!=x[_0x4962("0xe43")]&&x[_0x4962("0x2")](_0x4962("0xe43"))&&(e[_0x4962("0xe43")]=x[_0x4962("0xe43")]),null!=x[_0x4962("0xe44")]&&x[_0x4962("0x2")](_0x4962("0xe44"))&&(e[_0x4962("0xe44")]=x.bidoz),null!=x.bidor&&x.hasOwnProperty(_0x4962("0xe3e"))&&(e.bidor=x[_0x4962("0xe3e")]),null!=x.bidstyle&&x[_0x4962("0x2")](_0x4962("0xe3f"))&&(e[_0x4962("0xe3f")]=x[_0x4962("0xe3f")]),null!=x.bidrids&&x[_0x4962("0x2")](_0x4962("0xe40"))&&(e[_0x4962("0xe40")]=x.bidrids),null!=x.bidpids&&x[_0x4962("0x2")](_0x4962("0xe41"))&&(e[_0x4962("0xe41")]=x.bidpids),null!=x.layer&&x[_0x4962("0x2")](_0x4962("0xe42"))&&(e[_0x4962("0xe42")]=x[_0x4962("0xe42")]),null!=x[_0x4962("0xe45")]&&x.hasOwnProperty(_0x4962("0xe45"))&&(e[_0x4962("0xe45")]=x[_0x4962("0xe45")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&(e.o1=x.o1),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")]("other1")&&(e[_0x4962("0x3de")]=x[_0x4962("0x3de")]),e},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")].toJSON=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xe2d")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_.length;++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x.prototype.NA="",x[_0x4962("0x1")].NE="",x[_0x4962("0x1")].Tid=0,x[_0x4962("0x1")].MT=0,x[_0x4962("0x1")].ST=0,x[_0x4962("0x1")].X=0,x.prototype.Y=0,x[_0x4962("0x1")].SL=0,x.prototype.SH=0,x[_0x4962("0x1")][_0x4962("0x326")]="",x[_0x4962("0x1")].w=0,x.prototype.h=0,x[_0x4962("0x1")][_0x4962("0x3dd")]=0,x[_0x4962("0x1")].FSId=0,x[_0x4962("0x1")][_0x4962("0xe42")]=0,x[_0x4962("0x1")].Sid=0,x[_0x4962("0x1")][_0x4962("0x3de")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o.create()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x.NA&&x[_0x4962("0x2")]("NA")&&_[_0x4962("0x5c4")](18)[_0x4962("0xd")](x.NA),null!=x.NE&&x[_0x4962("0x2")]("NE")&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x.NE),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&_[_0x4962("0x5c4")](32)[_0x4962("0x5c5")](x[_0x4962("0x3f5")]),null!=x.MT&&x[_0x4962("0x2")]("MT")&&_[_0x4962("0x5c4")](40)[_0x4962("0x5c5")](x.MT),null!=x.ST&&x[_0x4962("0x2")]("ST")&&_.uint32(48).int32(x.ST),null!=x.X&&x.hasOwnProperty("X")&&_[_0x4962("0x5c4")](57)[_0x4962("0x5c8")](x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&_[_0x4962("0x5c4")](65).double(x.Y),null!=x.SL&&x.hasOwnProperty("SL")&&_.uint32(72)[_0x4962("0x5c5")](x.SL),null!=x.SH&&x[_0x4962("0x2")]("SH")&&_[_0x4962("0x5c4")](85).float(x.SH),null!=x.image&&x[_0x4962("0x2")](_0x4962("0x326"))&&_.uint32(90)[_0x4962("0xd")](x[_0x4962("0x326")]),null!=x.w&&x[_0x4962("0x2")]("w")&&_[_0x4962("0x5c4")](101).float(x.w),null!=x.h&&x[_0x4962("0x2")]("h")&&_[_0x4962("0x5c4")](109)[_0x4962("0x333")](x.h),null!=x[_0x4962("0x3dd")]&&x[_0x4962("0x2")]("ipos")&&_[_0x4962("0x5c4")](112)[_0x4962("0x5c5")](x[_0x4962("0x3dd")]),null!=x.FSId&&x.hasOwnProperty("FSId")&&_.uint32(120)[_0x4962("0x5c5")](x[_0x4962("0xe5d")]),null!=x.layer&&x[_0x4962("0x2")](_0x4962("0xe42"))&&_.uint32(128)[_0x4962("0x5c5")](x.layer),null!=x[_0x4962("0x3e0")]&&x[_0x4962("0x2")](_0x4962("0x3e0"))&&_[_0x4962("0x5c4")](136)[_0x4962("0x5c5")](x[_0x4962("0x3e0")]),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")]("other1")&&_[_0x4962("0x5c4")](146)[_0x4962("0xd")](x.other1),_},x.encodeDelimited=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x6b0")].POISet);x[_0x4962("0x428")]<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t.NA=x.string();break;case 3:t.NE=x[_0x4962("0xd")]();break;case 4:t[_0x4962("0x3f5")]=x[_0x4962("0x5c5")]();break;case 5:t.MT=x[_0x4962("0x5c5")]();break;case 6:t.ST=x[_0x4962("0x5c5")]();break;case 7:t.X=x[_0x4962("0x5c8")]();break;case 8:t.Y=x[_0x4962("0x5c8")]();break;case 9:t.SL=x[_0x4962("0x5c5")]();break;case 10:t.SH=x[_0x4962("0x333")]();break;case 11:t[_0x4962("0x326")]=x[_0x4962("0xd")]();break;case 12:t.w=x.float();break;case 13:t.h=x[_0x4962("0x333")]();break;case 14:t[_0x4962("0x3dd")]=x[_0x4962("0x5c5")]();break;case 15:t[_0x4962("0xe5d")]=x[_0x4962("0x5c5")]();break;case 16:t[_0x4962("0xe42")]=x[_0x4962("0x5c5")]();break;case 17:t[_0x4962("0x3e0")]=x.int32();break;case 18:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;default:x.skipType(7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x.uint32())},x.verify=function(x){return"object"!==(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x.NA&&x.hasOwnProperty("NA")&&!c[_0x4962("0x36d")](x.NA)?_0x4962("0xe46"):null!=x.NE&&x[_0x4962("0x2")]("NE")&&!c[_0x4962("0x36d")](x.NE)?_0x4962("0xe47"):null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3f5")])?"Tid: integer expected":null!=x.MT&&x[_0x4962("0x2")]("MT")&&!c.isInteger(x.MT)?_0x4962("0xe5e"):null!=x.ST&&x[_0x4962("0x2")]("ST")&&!c.isInteger(x.ST)?_0x4962("0xe5f"):null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x4962("0x18a")?_0x4962("0xe60"):null!=x.Y&&x[_0x4962("0x2")]("Y")&&typeof x.Y!==_0x4962("0x18a")?_0x4962("0xe61"):null!=x.SL&&x[_0x4962("0x2")]("SL")&&!c[_0x4962("0x5db")](x.SL)?_0x4962("0xe62"):null!=x.SH&&x[_0x4962("0x2")]("SH")&&"number"!=typeof x.SH?_0x4962("0xe63"):null!=x[_0x4962("0x326")]&&x[_0x4962("0x2")](_0x4962("0x326"))&&!c.isString(x[_0x4962("0x326")])?_0x4962("0xe64"):null!=x.w&&x[_0x4962("0x2")]("w")&&typeof x.w!==_0x4962("0x18a")?"w: number expected":null!=x.h&&x.hasOwnProperty("h")&&typeof x.h!==_0x4962("0x18a")?"h: number expected":null!=x[_0x4962("0x3dd")]&&x[_0x4962("0x2")](_0x4962("0x3dd"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3dd")])?_0x4962("0xe65"):null!=x[_0x4962("0xe5d")]&&x[_0x4962("0x2")](_0x4962("0xe5d"))&&!c[_0x4962("0x5db")](x[_0x4962("0xe5d")])?"FSId: integer expected":null!=x[_0x4962("0xe42")]&&x[_0x4962("0x2")](_0x4962("0xe42"))&&!c.isInteger(x[_0x4962("0xe42")])?_0x4962("0xe66"):null!=x[_0x4962("0x3e0")]&&x[_0x4962("0x2")](_0x4962("0x3e0"))&&!c[_0x4962("0x5db")](x.Sid)?_0x4962("0xe67"):null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x6b0")][_0x4962("0xe2d")])return x;var _=new(l.ESTileMap[_0x4962("0xe2d")]);return null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x.NA&&(_.NA=String(x.NA)),null!=x.NE&&(_.NE=String(x.NE)),null!=x[_0x4962("0x3f5")]&&(_[_0x4962("0x3f5")]=0|x[_0x4962("0x3f5")]),null!=x.MT&&(_.MT=0|x.MT),null!=x.ST&&(_.ST=0|x.ST),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),null!=x.SL&&(_.SL=0|x.SL),null!=x.SH&&(_.SH=Number(x.SH)),null!=x.image&&(_.image=String(x[_0x4962("0x326")])),null!=x.w&&(_.w=Number(x.w)),null!=x.h&&(_.h=Number(x.h)),null!=x[_0x4962("0x3dd")]&&(_[_0x4962("0x3dd")]=0|x[_0x4962("0x3dd")]),null!=x.FSId&&(_.FSId=0|x[_0x4962("0xe5d")]),null!=x[_0x4962("0xe42")]&&(_[_0x4962("0xe42")]=0|x[_0x4962("0xe42")]),null!=x[_0x4962("0x3e0")]&&(_[_0x4962("0x3e0")]=0|x[_0x4962("0x3e0")]),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e[_0x4962("0x3df")]=0,e.NA="",e.NE="",e.Tid=0,e.MT=0,e.ST=0,e.X=0,e.Y=0,e.SL=0,e.SH=0,e[_0x4962("0x326")]="",e.w=0,e.h=0,e[_0x4962("0x3dd")]=0,e[_0x4962("0xe5d")]=0,e[_0x4962("0xe42")]=0,e[_0x4962("0x3e0")]=0,e[_0x4962("0x3de")]=""),null!=x._id&&x[_0x4962("0x2")]("_id")&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x.NA&&x[_0x4962("0x2")]("NA")&&(e.NA=x.NA),null!=x.NE&&x[_0x4962("0x2")]("NE")&&(e.NE=x.NE),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&(e[_0x4962("0x3f5")]=x[_0x4962("0x3f5")]),null!=x.MT&&x[_0x4962("0x2")]("MT")&&(e.MT=x.MT),null!=x.ST&&x[_0x4962("0x2")]("ST")&&(e.ST=x.ST),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&(e.Y=x.Y),null!=x.SL&&x[_0x4962("0x2")]("SL")&&(e.SL=x.SL),null!=x.SH&&x.hasOwnProperty("SH")&&(e.SH=x.SH),null!=x[_0x4962("0x326")]&&x.hasOwnProperty("image")&&(e[_0x4962("0x326")]=x.image),null!=x.w&&x[_0x4962("0x2")]("w")&&(e.w=x.w),null!=x.h&&x[_0x4962("0x2")]("h")&&(e.h=x.h),null!=x[_0x4962("0x3dd")]&&x[_0x4962("0x2")]("ipos")&&(e.ipos=x.ipos),null!=x[_0x4962("0xe5d")]&&x[_0x4962("0x2")]("FSId")&&(e[_0x4962("0xe5d")]=x[_0x4962("0xe5d")]),null!=x[_0x4962("0xe42")]&&x.hasOwnProperty(_0x4962("0xe42"))&&(e[_0x4962("0xe42")]=x[_0x4962("0xe42")]),null!=x[_0x4962("0x3e0")]&&x[_0x4962("0x2")]("Sid")&&(e[_0x4962("0x3e0")]=x[_0x4962("0x3e0")]),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x.other1),e},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this.constructor[_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")].toObject(this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xd4a")]=function(){function x(x){if(this[_0x4962("0xd4d")]={},this[_0x4962("0xd4b")]={},x)for(var _=(0,i.default)(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")].v=0,x.prototype[_0x4962("0x5c6")]=0,x[_0x4962("0x1")].Hash="",x[_0x4962("0x1")][_0x4962("0xe25")]="",x.prototype[_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0xcb3")]=0,x[_0x4962("0x1")].Nodes=c.emptyObject,x[_0x4962("0x1")][_0x4962("0xd4b")]=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0x8a")]="",x.prototype[_0x4962("0x3de")]="",x[_0x4962("0x1")].o1=0,x[_0x4962("0x1")][_0x4962("0x5ce")]="",x[_0x4962("0x1")].o2=0,x[_0x4962("0x1")].t1="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){if(_||(_=o[_0x4962("0xb")]()),null!=x.v&&x[_0x4962("0x2")]("v")&&_.uint32(8)[_0x4962("0x5c5")](x.v),null!=x.mtime&&x.hasOwnProperty(_0x4962("0x5c6"))&&_[_0x4962("0x5c4")](16).int32(x.mtime),null!=x[_0x4962("0x5c7")]&&x.hasOwnProperty(_0x4962("0x5c7"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x.Hash),null!=x[_0x4962("0xe25")]&&x[_0x4962("0x2")](_0x4962("0xe25"))&&_[_0x4962("0x5c4")](34)[_0x4962("0xd")](x.cname),null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_.uint32(40)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x[_0x4962("0xcb3")]&&x[_0x4962("0x2")](_0x4962("0xcb3"))&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x[_0x4962("0xcb3")]),null!=x[_0x4962("0xd4d")]&&x[_0x4962("0x2")](_0x4962("0xd4d")))for(var e=(0,i.default)(x[_0x4962("0xd4d")]),t=0;t<e.length;++t)_.uint32(58).fork()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x6b0")][_0x4962("0xe68")].encode(x[_0x4962("0xd4d")][e[t]],_[_0x4962("0x5c4")](18).fork()).ldelim()[_0x4962("0xe2a")]();if(null!=x[_0x4962("0xd4b")]&&x[_0x4962("0x2")](_0x4962("0xd4b")))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](66)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x6b0")].NavLineSet[_0x4962("0xe27")](x.Lines[e[t]],_[_0x4962("0x5c4")](18).fork()).ldelim()[_0x4962("0xe2a")]();return null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")](_0x4962("0x8a"))&&_.uint32(74)[_0x4962("0xd")](x[_0x4962("0x8a")]),null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_[_0x4962("0x5c4")](82).string(x[_0x4962("0x3de")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&_.uint32(88).int32(x.o1),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&_.uint32(98)[_0x4962("0xd")](x[_0x4962("0x5ce")]),null!=x.o2&&x[_0x4962("0x2")]("o2")&&_[_0x4962("0x5c4")](104)[_0x4962("0x5c5")](x.o2),null!=x.t1&&x[_0x4962("0x2")]("t1")&&_[_0x4962("0x5c4")](114)[_0x4962("0xd")](x.t1),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e,t=void 0===_?x.len:x[_0x4962("0x428")]+_,i=new(l[_0x4962("0x6b0")][_0x4962("0xd4a")]);x[_0x4962("0x428")]<t;){var a=x[_0x4962("0x5c4")]();switch(a>>>3){case 1:i.v=x.int32();break;case 2:i.mtime=x[_0x4962("0x5c5")]();break;case 3:i[_0x4962("0x5c7")]=x[_0x4962("0xd")]();break;case 4:i[_0x4962("0xe25")]=x[_0x4962("0xd")]();break;case 5:i[_0x4962("0x3df")]=x.int32();break;case 6:i[_0x4962("0xcb3")]=x[_0x4962("0x5c5")]();break;case 7:x.skip()[_0x4962("0x428")]++,i[_0x4962("0xd4d")]===c[_0x4962("0xe26")]&&(i[_0x4962("0xd4d")]={}),e=x[_0x4962("0x5c5")](),x.pos++,i.Nodes[e]=l[_0x4962("0x6b0")][_0x4962("0xe68")][_0x4962("0x4b")](x,x.uint32());break;case 8:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i.Lines===c[_0x4962("0xe26")]&&(i[_0x4962("0xd4b")]={}),e=x[_0x4962("0x5c5")](),x[_0x4962("0x428")]++,i[_0x4962("0xd4b")][e]=l[_0x4962("0x6b0")][_0x4962("0xe69")].decode(x,x[_0x4962("0x5c4")]());break;case 9:i.token=x[_0x4962("0xd")]();break;case 10:i[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;case 11:i.o1=x[_0x4962("0x5c5")]();break;case 12:i[_0x4962("0x5ce")]=x[_0x4962("0xd")]();break;case 13:i.o2=x[_0x4962("0x5c5")]();break;case 14:i.t1=x[_0x4962("0xd")]();break;default:x.skipType(7&a)}}return i},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){if("object"!==(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t.default)(x))||null===x)return _0x4962("0x5d6");if(null!=x.v&&x[_0x4962("0x2")]("v")&&!c[_0x4962("0x5db")](x.v))return _0x4962("0x5d7");if(null!=x.mtime&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&!c[_0x4962("0x5db")](x[_0x4962("0x5c6")]))return"mtime: integer expected";if(null!=x[_0x4962("0x5c7")]&&x[_0x4962("0x2")](_0x4962("0x5c7"))&&!c[_0x4962("0x36d")](x.Hash))return _0x4962("0x5da");if(null!=x[_0x4962("0xe25")]&&x[_0x4962("0x2")](_0x4962("0xe25"))&&!c[_0x4962("0x36d")](x.cname))return"cname: string expected";if(null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")]))return _0x4962("0x5dc");if(null!=x[_0x4962("0xcb3")]&&x[_0x4962("0x2")]("Type")&&!c[_0x4962("0x5db")](x[_0x4962("0xcb3")]))return _0x4962("0xe30");if(null!=x[_0x4962("0xd4d")]&&x[_0x4962("0x2")](_0x4962("0xd4d"))){if(!c.isObject(x.Nodes))return _0x4962("0xe6a");for(var _=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe6b");if(a=l[_0x4962("0x6b0")][_0x4962("0xe68")].verify(x.Nodes[_[e]]))return _0x4962("0xe6c")+a}}if(null!=x[_0x4962("0xd4b")]&&x[_0x4962("0x2")](_0x4962("0xd4b"))){if(!c[_0x4962("0x19")](x[_0x4962("0xd4b")]))return"Lines: object expected";for(_=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]),e=0;e<_.length;++e){if(!c[_0x4962("0xe34")].test(_[e]))return _0x4962("0xe6d");var a;if(a=l[_0x4962("0x6b0")][_0x4962("0xe69")].verify(x[_0x4962("0xd4b")][_[e]]))return _0x4962("0xe6e")+a}}return null!=x.token&&x[_0x4962("0x2")](_0x4962("0x8a"))&&!c.isString(x[_0x4962("0x8a")])?_0x4962("0x5ef"):null!=x[_0x4962("0x3de")]&&x.hasOwnProperty("other1")&&!c.isString(x[_0x4962("0x3de")])?"other1: string expected":null!=x.o1&&x[_0x4962("0x2")]("o1")&&!c[_0x4962("0x5db")](x.o1)?"o1: integer expected":null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&!c[_0x4962("0x36d")](x[_0x4962("0x5ce")])?"other2: string expected":null!=x.o2&&x[_0x4962("0x2")]("o2")&&!c[_0x4962("0x5db")](x.o2)?_0x4962("0xe6f"):null!=x.t1&&x.hasOwnProperty("t1")&&!c[_0x4962("0x36d")](x.t1)?"t1: string expected":null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l.ESTileMap[_0x4962("0xd4a")])return x;var _=new(l[_0x4962("0x6b0")].ESTileMapNavSet);if(null!=x.v&&(_.v=0|x.v),null!=x[_0x4962("0x5c6")]&&(_.mtime=0|x.mtime),null!=x[_0x4962("0x5c7")]&&(_[_0x4962("0x5c7")]=String(x[_0x4962("0x5c7")])),null!=x[_0x4962("0xe25")]&&(_[_0x4962("0xe25")]=String(x[_0x4962("0xe25")])),null!=x[_0x4962("0x3df")]&&(_._id=0|x._id),null!=x[_0x4962("0xcb3")]&&(_[_0x4962("0xcb3")]=0|x[_0x4962("0xcb3")]),x[_0x4962("0xd4d")]){if((0,t[_0x4962("0xc")])(x[_0x4962("0xd4d")])!==_0x4962("0x9"))throw TypeError(".ESTileMap.ESTileMapNavSet.Nodes: object expected");_[_0x4962("0xd4d")]={};for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]),a=0;a<e[_0x4962("0x0")];++a){if("object"!==(0,t[_0x4962("0xc")])(x[_0x4962("0xd4d")][e[a]]))throw TypeError(_0x4962("0xe70"));_[_0x4962("0xd4d")][e[a]]=l[_0x4962("0x6b0")][_0x4962("0xe68")].fromObject(x.Nodes[e[a]])}}if(x[_0x4962("0xd4b")]){if((0,t[_0x4962("0xc")])(x.Lines)!==_0x4962("0x9"))throw TypeError(_0x4962("0xe71"));for(_[_0x4962("0xd4b")]={},e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]),a=0;a<e.length;++a){if((0,t[_0x4962("0xc")])(x.Lines[e[a]])!==_0x4962("0x9"))throw TypeError(".ESTileMap.ESTileMapNavSet.Lines: object expected");_[_0x4962("0xd4b")][e[a]]=l[_0x4962("0x6b0")][_0x4962("0xe69")][_0x4962("0x5fd")](x[_0x4962("0xd4b")][e[a]])}}return null!=x[_0x4962("0x8a")]&&(_[_0x4962("0x8a")]=String(x[_0x4962("0x8a")])),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x.other1)),null!=x.o1&&(_.o1=0|x.o1),null!=x.other2&&(_[_0x4962("0x5ce")]=String(x[_0x4962("0x5ce")])),null!=x.o2&&(_.o2=0|x.o2),null!=x.t1&&(_.t1=String(x.t1)),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e,t={};if((_[_0x4962("0x748")]||_[_0x4962("0xe3b")])&&(t[_0x4962("0xd4d")]={},t.Lines={}),_.defaults&&(t.v=0,t.mtime=0,t[_0x4962("0x5c7")]="",t.cname="",t[_0x4962("0x3df")]=0,t[_0x4962("0xcb3")]=0,t[_0x4962("0x8a")]="",t[_0x4962("0x3de")]="",t.o1=0,t.other2="",t.o2=0,t.t1=""),null!=x.v&&x[_0x4962("0x2")]("v")&&(t.v=x.v),null!=x.mtime&&x[_0x4962("0x2")](_0x4962("0x5c6"))&&(t.mtime=x[_0x4962("0x5c6")]),null!=x[_0x4962("0x5c7")]&&x[_0x4962("0x2")]("Hash")&&(t[_0x4962("0x5c7")]=x[_0x4962("0x5c7")]),null!=x[_0x4962("0xe25")]&&x.hasOwnProperty(_0x4962("0xe25"))&&(t.cname=x[_0x4962("0xe25")]),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&(t[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0xcb3")]&&x[_0x4962("0x2")](_0x4962("0xcb3"))&&(t[_0x4962("0xcb3")]=x.Type),x.Nodes&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")])).length){t.Nodes={};for(var a=0;a<e[_0x4962("0x0")];++a)t.Nodes[e[a]]=l[_0x4962("0x6b0")][_0x4962("0xe68")][_0x4962("0x602")](x[_0x4962("0xd4d")][e[a]],_)}if(x.Lines&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]))[_0x4962("0x0")])for(t[_0x4962("0xd4b")]={},a=0;a<e[_0x4962("0x0")];++a)t[_0x4962("0xd4b")][e[a]]=l.ESTileMap[_0x4962("0xe69")][_0x4962("0x602")](x.Lines[e[a]],_);return null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")](_0x4962("0x8a"))&&(t[_0x4962("0x8a")]=x[_0x4962("0x8a")]),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(t[_0x4962("0x3de")]=x[_0x4962("0x3de")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&(t.o1=x.o1),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&(t[_0x4962("0x5ce")]=x.other2),null!=x.o2&&x[_0x4962("0x2")]("o2")&&(t.o2=x.o2),null!=x.t1&&x[_0x4962("0x2")]("t1")&&(t.t1=x.t1),t},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")].toObject(this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xe68")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")]._id=0,x[_0x4962("0x1")][_0x4962("0x88")]=0,x[_0x4962("0x1")].H=0,x.prototype.X=0,x.prototype.Y=0,x[_0x4962("0x1")][_0x4962("0xe72")]=0,x[_0x4962("0x1")][_0x4962("0xc0d")]=0,x[_0x4962("0x1")][_0x4962("0xe42")]=0,x[_0x4962("0x1")][_0x4962("0x3de")]="",x[_0x4962("0x1")].Z=0,x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x.tid&&x[_0x4962("0x2")](_0x4962("0x88"))&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x[_0x4962("0x88")]),null!=x.H&&x.hasOwnProperty("H")&&_[_0x4962("0x5c4")](25).double(x.H),null!=x.X&&x[_0x4962("0x2")]("X")&&_[_0x4962("0x5c4")](33).double(x.X),null!=x.Y&&x.hasOwnProperty("Y")&&_.uint32(41)[_0x4962("0x5c8")](x.Y),null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")]("sid")&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x.sid),null!=x.gid&&x[_0x4962("0x2")](_0x4962("0xc0d"))&&_[_0x4962("0x5c4")](56)[_0x4962("0x5c5")](x[_0x4962("0xc0d")]),null!=x[_0x4962("0xe42")]&&x[_0x4962("0x2")]("layer")&&_[_0x4962("0x5c4")](64)[_0x4962("0x5c5")](x.layer),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_[_0x4962("0x5c4")](74).string(x[_0x4962("0x3de")]),null!=x.Z&&x[_0x4962("0x2")]("Z")&&_[_0x4962("0x5c4")](81)[_0x4962("0x5c8")](x.Z),_},x[_0x4962("0x5d2")]=function(x,_){return this.encode(x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x.len:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x6b0")].NavNodeSet);x[_0x4962("0x428")]<e;){var i=x.uint32();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x.int32();break;case 2:t[_0x4962("0x88")]=x[_0x4962("0x5c5")]();break;case 3:t.H=x[_0x4962("0x5c8")]();break;case 4:t.X=x[_0x4962("0x5c8")]();break;case 5:t.Y=x[_0x4962("0x5c8")]();break;case 6:t[_0x4962("0xe72")]=x.int32();break;case 7:t.gid=x[_0x4962("0x5c5")]();break;case 8:t.layer=x[_0x4962("0x5c5")]();break;case 9:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;case 10:t.Z=x.double();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x.decodeDelimited=function(x){return x instanceof s||(x=s(x)),this.decode(x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){return(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x.tid&&x.hasOwnProperty(_0x4962("0x88"))&&!c[_0x4962("0x5db")](x[_0x4962("0x88")])?"tid: integer expected":null!=x.H&&x[_0x4962("0x2")]("H")&&"number"!=typeof x.H?_0x4962("0xe73"):null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x4962("0x18a")?"X: number expected":null!=x.Y&&x[_0x4962("0x2")]("Y")&&typeof x.Y!==_0x4962("0x18a")?_0x4962("0xe61"):null!=x.sid&&x[_0x4962("0x2")](_0x4962("0xe72"))&&!c[_0x4962("0x5db")](x[_0x4962("0xe72")])?_0x4962("0xe74"):null!=x[_0x4962("0xc0d")]&&x.hasOwnProperty(_0x4962("0xc0d"))&&!c.isInteger(x[_0x4962("0xc0d")])?_0x4962("0xe75"):null!=x.layer&&x[_0x4962("0x2")]("layer")&&!c.isInteger(x.layer)?_0x4962("0xe66"):null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null!=x.Z&&x[_0x4962("0x2")]("Z")&&typeof x.Z!==_0x4962("0x18a")?"Z: number expected":null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l.ESTileMap[_0x4962("0xe68")])return x;var _=new(l.ESTileMap[_0x4962("0xe68")]);return null!=x._id&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x88")]&&(_[_0x4962("0x88")]=0|x[_0x4962("0x88")]),null!=x.H&&(_.H=Number(x.H)),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),null!=x[_0x4962("0xe72")]&&(_[_0x4962("0xe72")]=0|x[_0x4962("0xe72")]),null!=x[_0x4962("0xc0d")]&&(_[_0x4962("0xc0d")]=0|x[_0x4962("0xc0d")]),null!=x[_0x4962("0xe42")]&&(_.layer=0|x.layer),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x.other1)),null!=x.Z&&(_.Z=Number(x.Z)),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e._id=0,e[_0x4962("0x88")]=0,e.H=0,e.X=0,e.Y=0,e.sid=0,e[_0x4962("0xc0d")]=0,e[_0x4962("0xe42")]=0,e[_0x4962("0x3de")]="",e.Z=0),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&(e._id=x._id),null!=x[_0x4962("0x88")]&&x.hasOwnProperty(_0x4962("0x88"))&&(e.tid=x.tid),null!=x.H&&x.hasOwnProperty("H")&&(e.H=x.H),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x.hasOwnProperty("Y")&&(e.Y=x.Y),null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")](_0x4962("0xe72"))&&(e[_0x4962("0xe72")]=x.sid),null!=x[_0x4962("0xc0d")]&&x.hasOwnProperty(_0x4962("0xc0d"))&&(e[_0x4962("0xc0d")]=x.gid),null!=x.layer&&x[_0x4962("0x2")]("layer")&&(e[_0x4962("0xe42")]=x[_0x4962("0xe42")]),null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x[_0x4962("0x3de")]),null!=x.Z&&x[_0x4962("0x2")]("Z")&&(e.Z=x.Z),e},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r.util[_0x4962("0x605")])},x}(),n[_0x4962("0xe69")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")].na="",x[_0x4962("0x1")][_0x4962("0xe72")]=0,x[_0x4962("0x1")][_0x4962("0x5d0")]=0,x[_0x4962("0x1")][_0x4962("0x415")]="",x[_0x4962("0x1")].rank=0,x[_0x4962("0x1")][_0x4962("0x6a2")]=0,x[_0x4962("0x1")][_0x4962("0x416")]="",x[_0x4962("0x1")].bstair=0,x.prototype[_0x4962("0x25")]=0,x[_0x4962("0x1")][_0x4962("0xe42")]=0,x.prototype[_0x4962("0x3de")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o.create()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x.na&&x[_0x4962("0x2")]("na")&&_[_0x4962("0x5c4")](18)[_0x4962("0xd")](x.na),null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")](_0x4962("0xe72"))&&_[_0x4962("0x5c4")](24)[_0x4962("0x5c5")](x[_0x4962("0xe72")]),null!=x[_0x4962("0x5d0")]&&x[_0x4962("0x2")](_0x4962("0x5d0"))&&_.uint32(32).int32(x[_0x4962("0x5d0")]),null!=x[_0x4962("0x415")]&&x[_0x4962("0x2")](_0x4962("0x415"))&&_[_0x4962("0x5c4")](42).string(x[_0x4962("0x415")]),null!=x[_0x4962("0x414")]&&x[_0x4962("0x2")]("rank")&&_[_0x4962("0x5c4")](48).int32(x[_0x4962("0x414")]),null!=x[_0x4962("0x6a2")]&&x[_0x4962("0x2")](_0x4962("0x6a2"))&&_[_0x4962("0x5c4")](57).double(x[_0x4962("0x6a2")]),null!=x.dir&&x[_0x4962("0x2")]("dir")&&_.uint32(66)[_0x4962("0xd")](x.dir),null!=x[_0x4962("0xd4c")]&&x.hasOwnProperty(_0x4962("0xd4c"))&&_[_0x4962("0x5c4")](72)[_0x4962("0x5c5")](x[_0x4962("0xd4c")]),null!=x[_0x4962("0x25")]&&x[_0x4962("0x2")](_0x4962("0x25"))&&_.uint32(80)[_0x4962("0x5c5")](x[_0x4962("0x25")]),null!=x.layer&&x[_0x4962("0x2")](_0x4962("0xe42"))&&_[_0x4962("0x5c4")](88)[_0x4962("0x5c5")](x.layer),null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&_[_0x4962("0x5c4")](98)[_0x4962("0xd")](x[_0x4962("0x3de")]),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x.pos+_,t=new l.ESTileMap.NavLineSet;x[_0x4962("0x428")]<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t.na=x.string();break;case 3:t[_0x4962("0xe72")]=x[_0x4962("0x5c5")]();break;case 4:t[_0x4962("0x5d0")]=x[_0x4962("0x5c5")]();break;case 5:t[_0x4962("0x415")]=x[_0x4962("0xd")]();break;case 6:t.rank=x.int32();break;case 7:t[_0x4962("0x6a2")]=x.double();break;case 8:t[_0x4962("0x416")]=x[_0x4962("0xd")]();break;case 9:t[_0x4962("0xd4c")]=x[_0x4962("0x5c5")]();break;case 10:t[_0x4962("0x25")]=x[_0x4962("0x5c5")]();break;case 11:t.layer=x[_0x4962("0x5c5")]();break;case 12:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x.uint32())},x[_0x4962("0xe2e")]=function(x){return(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c.isInteger(x[_0x4962("0x3df")])?"_id: integer expected":null!=x.na&&x[_0x4962("0x2")]("na")&&!c[_0x4962("0x36d")](x.na)?_0x4962("0xe76"):null!=x[_0x4962("0xe72")]&&x.hasOwnProperty("sid")&&!c[_0x4962("0x5db")](x.sid)?_0x4962("0xe74"):null!=x[_0x4962("0x5d0")]&&x[_0x4962("0x2")](_0x4962("0x5d0"))&&!c[_0x4962("0x5db")](x.eid)?_0x4962("0xe77"):null!=x[_0x4962("0x415")]&&x[_0x4962("0x2")](_0x4962("0x415"))&&!c[_0x4962("0x36d")](x[_0x4962("0x415")])?_0x4962("0xe78"):null!=x[_0x4962("0x414")]&&x[_0x4962("0x2")](_0x4962("0x414"))&&!c[_0x4962("0x5db")](x[_0x4962("0x414")])?_0x4962("0xe79"):null!=x[_0x4962("0x6a2")]&&x[_0x4962("0x2")](_0x4962("0x6a2"))&&typeof x[_0x4962("0x6a2")]!==_0x4962("0x18a")?"dis: number expected":null!=x[_0x4962("0x416")]&&x[_0x4962("0x2")](_0x4962("0x416"))&&!c[_0x4962("0x36d")](x[_0x4962("0x416")])?_0x4962("0xe7a"):null!=x[_0x4962("0xd4c")]&&x.hasOwnProperty(_0x4962("0xd4c"))&&!c[_0x4962("0x5db")](x.bstair)?_0x4962("0xe7b"):null!=x[_0x4962("0x25")]&&x[_0x4962("0x2")]("style")&&!c.isInteger(x.style)?_0x4962("0xe7c"):null!=x.layer&&x[_0x4962("0x2")](_0x4962("0xe42"))&&!c[_0x4962("0x5db")](x[_0x4962("0xe42")])?_0x4962("0xe66"):null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null},x.fromObject=function(x){if(x instanceof l[_0x4962("0x6b0")][_0x4962("0xe69")])return x;var _=new(l[_0x4962("0x6b0")][_0x4962("0xe69")]);return null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x.na&&(_.na=String(x.na)),null!=x[_0x4962("0xe72")]&&(_[_0x4962("0xe72")]=0|x[_0x4962("0xe72")]),null!=x.eid&&(_[_0x4962("0x5d0")]=0|x[_0x4962("0x5d0")]),null!=x[_0x4962("0x415")]&&(_.outline=String(x[_0x4962("0x415")])),null!=x[_0x4962("0x414")]&&(_[_0x4962("0x414")]=0|x[_0x4962("0x414")]),null!=x[_0x4962("0x6a2")]&&(_.dis=Number(x.dis)),null!=x[_0x4962("0x416")]&&(_[_0x4962("0x416")]=String(x[_0x4962("0x416")])),null!=x[_0x4962("0xd4c")]&&(_[_0x4962("0xd4c")]=0|x.bstair),null!=x.style&&(_.style=0|x[_0x4962("0x25")]),null!=x.layer&&(_.layer=0|x[_0x4962("0xe42")]),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _.defaults&&(e[_0x4962("0x3df")]=0,e.na="",e[_0x4962("0xe72")]=0,e[_0x4962("0x5d0")]=0,e.outline="",e[_0x4962("0x414")]=0,e[_0x4962("0x6a2")]=0,e[_0x4962("0x416")]="",e[_0x4962("0xd4c")]=0,e[_0x4962("0x25")]=0,e[_0x4962("0xe42")]=0,e.other1=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x.na&&x[_0x4962("0x2")]("na")&&(e.na=x.na),null!=x[_0x4962("0xe72")]&&x.hasOwnProperty(_0x4962("0xe72"))&&(e[_0x4962("0xe72")]=x[_0x4962("0xe72")]),null!=x[_0x4962("0x5d0")]&&x[_0x4962("0x2")](_0x4962("0x5d0"))&&(e[_0x4962("0x5d0")]=x[_0x4962("0x5d0")]),null!=x[_0x4962("0x415")]&&x[_0x4962("0x2")]("outline")&&(e.outline=x[_0x4962("0x415")]),null!=x[_0x4962("0x414")]&&x[_0x4962("0x2")](_0x4962("0x414"))&&(e[_0x4962("0x414")]=x.rank),null!=x[_0x4962("0x6a2")]&&x[_0x4962("0x2")](_0x4962("0x6a2"))&&(e.dis=x.dis),null!=x[_0x4962("0x416")]&&x[_0x4962("0x2")]("dir")&&(e[_0x4962("0x416")]=x[_0x4962("0x416")]),null!=x[_0x4962("0xd4c")]&&x[_0x4962("0x2")](_0x4962("0xd4c"))&&(e[_0x4962("0xd4c")]=x[_0x4962("0xd4c")]),null!=x[_0x4962("0x25")]&&x[_0x4962("0x2")](_0x4962("0x25"))&&(e.style=x[_0x4962("0x25")]),null!=x[_0x4962("0xe42")]&&x.hasOwnProperty(_0x4962("0xe42"))&&(e[_0x4962("0xe42")]=x.layer),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x[_0x4962("0x3de")]),e},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x.prototype.toJSON=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n),x[_0x4962("0x5")]=l},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0xc97")]=void 0;var t=m(e(15)),i=m(e(7)),a=m(e(9)),n=m(e(8)),r=m(e(0)),s=m(e(1)),o=m(e(153)),c=e(113),l=e(76),f=e(66),d=e(27),u=m(e(24)),h=e(20),g=m(e(35)),b=e(80),v=e(154),p=e(43);function m(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var A=e(321),y=null,C=null,I=0,E=function(){function x(_){(0,r[_0x4962("0xc")])(this,x),this.service=_,this.map=_[_0x4962("0x48")],this[_0x4962("0xe7d")]={},this[_0x4962("0xe7e")]=this.map[_0x4962("0x3b")],this[_0x4962("0xcfd")]=[],this[_0x4962("0xc9f")]=!0,this[_0x4962("0x404")]={},this[_0x4962("0xe7f")]={},(this[_0x4962("0x48")][_0x4962("0x3b")].editMode||this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3aa")]!=_0x4962("0x5e4"))&&(this[_0x4962("0xc9f")]=!1),(0,v[_0x4962("0x5a8")])(A[_0x4962("0x33")][_0x4962("0xe80")],[_0x4962("0xc3"),_0x4962("0xd03"),"bzE=",_0x4962("0xd05"),_0x4962("0xd06"),_0x4962("0xd07"),_0x4962("0xc2"),_0x4962("0xe81"),"UmVtYXJr"])}var _;return(0,s[_0x4962("0xc")])(x,[{key:"_gp",value:function(x){return x===_0x4962("0xe82")?A[_0x4962("0x33")].ESMapSet:null}},{key:_0x4962("0xe83"),value:function(x){var _=x[_0x4962("0x130")],e=x[_0x4962("0x1b5")],t=x[_0x4962("0x132")],i=this[_0x4962("0xe7f")][_];if(!i)return!0;var a=i[_0x4962("0xe84")],n=i[_0x4962("0x57b")];if("include"==a){if(!n[t])return!1;var r=!1;for(var s in n[t]){var o=n[t][s];if(esmap[_0x4962("0x8c")][_0x4962("0x3dc")](e,o)){r=!0;break}}return r}}},{key:"addFilter",value:function(x){x.type==_0x4962("0x52")&&(this.buildingFilters[x[_0x4962("0x130")]]=x)}},{key:_0x4962("0xe85"),value:function(x){var _=new Array;if(null!=x&&x[_0x4962("0x0")]>10)for(var e=x[_0x4962("0x2d")]("&&"),t=0;t<e[_0x4962("0x0")];t++){var i=e[t][_0x4962("0xaf")]("&");i>0&&(e[t]=e[t][_0x4962("0x7d")](0,i)),e[t][_0x4962("0x0")]>10&&_[_0x4962("0x3")](e[t])}return _}},{key:_0x4962("0xe86"),value:function(){}},{key:_0x4962("0xe87"),value:function(x,_,e,t){var i=this[_0x4962("0xe88")](_,x);esmap[_0x4962("0x33")].tempFlipX_&&this[_0x4962("0xe86")](i),e(i)}},{key:"_oav",value:function(x){return!(x>esmap[_0x4962("0xd76")]||x<esmap[_0x4962("0xe89")])}},{key:_0x4962("0xe8a"),value:function(x,_){if(x||(x=23),this[_0x4962("0x48")].mode==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x21c")])return x;if(x>=23)return 11;var e=_._scaleLevels[x]*_[_0x4962("0xe8b")];return this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0xbca")](e)}},{key:_0x4962("0xca4"),value:function(x){var _=this,e=this[_0x4962("0x48")].mapScene,t=x[_0x4962("0xcbb")],i=new(THREE[_0x4962("0x12c")])(1,1.5,1);if(x.scale){var a=x[_0x4962("0x1fe")][_0x4962("0x2d")](",");i=new THREE.Vector3(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]))}if(x[_0x4962("0xcaa")])var n=Math.PI/180,r=x[_0x4962("0xcaa")][_0x4962("0x2d")](","),s=new(THREE[_0x4962("0x241")])(parseFloat(r[0])*n,parseFloat(r[1])*n,parseFloat(r[2])*n);var o=new THREE.Vector3(x.x,x.y,0),c=new THREE.Vector3(-x[_0x4962("0xca7")]-e[_0x4962("0x2e7")],0,x[_0x4962("0xca8")]-e[_0x4962("0x2e8")]);if(x[_0x4962("0x15c")]){var l=x.offset.split(",");c.x+=parseFloat(l[0]),c.y+=parseFloat(l[1]),c.z+=parseFloat(l[2]),o.x-=parseFloat(l[0]),o.z+=parseFloat(l[1]),o.y+=parseFloat(l[2])}var f={id:x.oid,name:x[_0x4962("0x107")],fnum:x.floornum,rotation:s,position:c,scale:i,rotate:x[_0x4962("0xcaa")]};_[_0x4962("0xc9e")][x.RModel]||(_[_0x4962("0xc9e")][x[_0x4962("0xd74")]]={}),_[_0x4962("0xc9e")][x[_0x4962("0xd74")]][t]||(_.singleMesheDatas[x[_0x4962("0xd74")]][t]=[]),_.singleMesheDatas[x.RModel][t].push(f)}},{key:_0x4962("0xe8c"),value:function(x,_){return new(THREE[_0x4962("0x12c")])(-x.x-_[_0x4962("0xaf1")][_0x4962("0xcb4")],0,x.y-_[_0x4962("0xaf1")][_0x4962("0xcb5")])}},{key:_0x4962("0xe8d"),value:function(x,_){var e=this[_0x4962("0xe8c")](x,_);return this[_0x4962("0x48")][_0x4962("0x208")](e)}},{key:_0x4962("0xe8e"),value:function(x,_){var e=_.sourceData.bid,t=x.floornum,i=this[_0x4962("0x48")].coordSystem,a=this[_0x4962("0x48")][_0x4962("0x3b")],n=this[_0x4962("0xc9f")],r=this.map[_0x4962("0x3b")][_0x4962("0x78")],s=this,o={maxx:0,minx:1/0,maxy:0,miny:1/0},c=[],l=[],f=[],d=[],g=[],b=this.getOutLineList(x[_0x4962("0xd6e")]),v=_[_0x4962("0x131")].x,p=_.center.y;_[_0x4962("0x3b")][_0x4962("0xd8a")]&&(v=_.options.dataCenter.x,p=_[_0x4962("0x3b")][_0x4962("0xd8a")].y);var m=[],A=(this[_0x4962("0x48")].mapScene,_[_0x4962("0xaf1")].DefaultCenX,_[_0x4962("0xaf1")][_0x4962("0xcb5")],{x:0,y:0});if(this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]){var y=this[_0x4962("0x48")][_0x4962("0x131")],C=this[_0x4962("0x48")][_0x4962("0x1b7")]({from:"WGS84",to:i,coord:{x:v,y:p}});A={x:y.x-C.x,y:C.y-y.y}}_[_0x4962("0x15c")]=A;for(var I=0;I<b[_0x4962("0x0")];I++){var E=[],w=this[_0x4962("0xe8f")](b[I],0,0),T=w.points[_0x4962("0x48")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));for(var k in w[_0x4962("0x56b")]){var M=w[_0x4962("0x56b")][k][_0x4962("0x48")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));E[_0x4962("0x3")](M)}w[_0x4962("0x138")]=T,w[_0x4962("0x56b")]=E,c.push(w)}_[_0x4962("0x992")][t]=o,c.forEach((function(x){x[_0x4962("0x138")][_0x4962("0x20")]((function(x){x.y<o[_0x4962("0xfe")]&&(o.miny=x.y),x.y>o[_0x4962("0xfa")]&&(o[_0x4962("0xfa")]=x.y),-x.x<o[_0x4962("0xfd")]&&(o.minx=-x.x),-x.x>o[_0x4962("0xf9")]&&(o[_0x4962("0xf9")]=-x.x)}))})),x[_0x4962("0xd6e")]=null;var S=x[_0x4962("0xd68")],R=0;for(var L in S){var H=!1,D=S[L];_[_0x4962("0xe90")]&&(_[_0x4962("0xe90")][D[_0x4962("0x3df")]]={name:D[_0x4962("0x107")],model:D.RM,fnum:x[_0x4962("0xcbb")]});var O={x:D[_0x4962("0xca7")],y:D[_0x4962("0xca8")]};if(this.checkBuildingFilter({bid:e,coord:{x:D.CenX+A.x,y:D.CenY+A.y},fnum:t,id:D[_0x4962("0x3df")]})){var P=this[_0x4962("0xe8f")](D.Outline,0,0);P.floornum=t,P[_0x4962("0xe91")]=!1,D.Outline[_0x4962("0xaf")]("Circle")>-1&&(P[_0x4962("0xe91")]=!0),P[_0x4962("0x35c")]=D.BC>>1||1,P[_0x4962("0x402")]=D._id,P[_0x4962("0x57f")]=D.RS,P.FC=D.FC||null,P[_0x4962("0xc0d")]=D.ShopID,P[_0x4962("0xe92")]=D.RC||"",P[_0x4962("0xe93")]=P[_0x4962("0x138")],P.classID=null,P[_0x4962("0xe94")]=P[_0x4962("0x56b")];var N=P[_0x4962("0x138")][_0x4962("0x48")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));P.points=N,this.service[_0x4962("0x69d")][D._id]=[P.points];var F=[];for(var B in P[_0x4962("0x56b")]){var z=P[_0x4962("0x56b")][B][_0x4962("0x48")]((function(x){return{x:x.x+A.x,y:x.y+A.y}}));F.push(z)}P[_0x4962("0xca7")]=O.x-A.x,P[_0x4962("0xca8")]=O.y+A.y,P.TextureType=-1,P[_0x4962("0xd74")]=D.RM,P[_0x4962("0xd74")]&&(n&&P[_0x4962("0xd74")][_0x4962("0xaf")](_0x4962("0xd6f"))>=0?H=!0:(R++,_[_0x4962("0x264")][_0x4962("0x3cf")][_0x4962("0x3d0")]++)),P[_0x4962("0x3f2")]=D[_0x4962("0x3f5")]||D[_0x4962("0x3f2")]||0,P[_0x4962("0x43e")]=1&D.BC||0;var U=P.bclick||1==a[_0x4962("0x1f5")];s[_0x4962("0xcfd")][_0x4962("0xaf")](e)>=0&&(U=P[_0x4962("0x43e")]=D.BC&&1&D.BC),P[_0x4962("0xe95")]=D.FS||0,P[_0x4962("0x107")]=r?this[_0x4962("0xe96")](D[_0x4962("0x107")],r):D[_0x4962("0x107")],D[_0x4962("0xca9")]&&(P[_0x4962("0x15c")]=D[_0x4962("0xca9")]),P[_0x4962("0xd48")]=null==D.RH?5:D.RH,P.RoomLogo=null==D.RL?"":D.RL,P.RoomLogoSize=null==D.RLSize?"":D[_0x4962("0xd70")],P[_0x4962("0xe97")]=D[_0x4962("0xe97")]?JSON[_0x4962("0x71")](D[_0x4962("0xe97")]):null;var V=P.RoomLogoSize[_0x4962("0x2d")](",");if(V[3]&&(P[_0x4962("0xdf7")]=1*V[3]),P[_0x4962("0x3fe")])for(var j=P.RoomLogo.split(";"),Y=P[_0x4962("0x400")][_0x4962("0x2d")](";"),Z=0;Z<j.length;Z++){var W=j[Z],G="";if(Y[Z])1*Y[Z][_0x4962("0x2d")](",")[3]<3?(G=u[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x5d"),{filename:W,type:_0x4962("0xe98"),buildingId:_.id}),s[_0x4962("0x3c2")][_0x4962("0x366")][_0x4962("0xcf3")](G,_0x4962("0x59e"),W)):(G=u[_0x4962("0xc")].getPath("buildingAsset",{filename:W,type:_0x4962("0x3ff"),buildingId:_.id}),s.service[_0x4962("0x366")][_0x4962("0xcf3")](G,_0x4962("0xcea"),W))}P[_0x4962("0x3f9")]=D.SL||24,6!=P.top?(D.RM&&(D[_0x4962("0xca5")]&&(P[_0x4962("0x1fe")]=D[_0x4962("0xca5")]),D[_0x4962("0xca6")]&&(P[_0x4962("0xcaa")]=D[_0x4962("0xca6")])),P[_0x4962("0xdf7")]>=3&&(P.RS=P.RoomStyle,P[_0x4962("0xe99")]=P.RoomStyle+"_"+P[_0x4962("0x3fe")]+"_"+P.RoomLogoSize),P.RoomHigh>4&&this[_0x4962("0x48")].options[_0x4962("0xe9a")]?P[_0x4962("0xe9b")]={needBottom:!1,sideIndex:1,topIndex:0,sideImageHeight:128,sideImageWidth:128}:P[_0x4962("0xe9c")]=!0,U?l.push(P):(P[_0x4962("0xd48")]=null==D.RH?.25:D.RH,g[_0x4962("0x3")](P)),H&&(this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3aa")]==_0x4962("0x5e4")||this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")]||h[_0x4962("0x37")][_0x4962("0x1dc")]({msg:_0x4962("0xd73"),level:_0x4962("0xa9e")}),this[_0x4962("0xca4")](P))):m[_0x4962("0x3")](P)}}var X=x[_0x4962("0x3d4")];for(var Q in X){var J=x[_0x4962("0x3d4")][Q],K=this.map.options[_0x4962("0x46")]+e+_0x4962("0xe9d")+J[_0x4962("0x326")];this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")].City&&(K=this[_0x4962("0x48")].options.mapDataSrc+this.map.id+_0x4962("0x98")+e+_0x4962("0xe9d")+J[_0x4962("0x326")]);var q={oid:J[_0x4962("0x3df")],Typeid:J[_0x4962("0x3f5")],name:(r?this[_0x4962("0xe96")](J[_0x4962("0x107")],r):J[_0x4962("0x107")])||"",dataID:J.NameEn,fontstyleid:J.FSId,Height:J.SH,X:J.X-A.x,Y:J.Y+A.y,image:J[_0x4962("0x326")],w:null==J.w?32:J.w,h:null==J.h?32:J.h,ShowLevel:this[_0x4962("0xe8a")](J.SL,_),texture:null==J[_0x4962("0x326")]||""==J[_0x4962("0x326")]?"":esmap.ESMapUtil.loadTexture(K),center:{x:.5,y:0},brief:J[_0x4962("0xe97")]?JSON[_0x4962("0x71")](J.Brief):null};if(J.other1){var $=J[_0x4962("0x3de")][_0x4962("0x2d")](",");q[_0x4962("0x326")]=$[0],q.w=1*$[1],q.h=1*$[2];var xx="left";switch(1*$[3]){case 0:xx=_0x4962("0x35e");break;case 1:xx=_0x4962("0x35c");break;case 2:xx=_0x4962("0x361");break;case 3:xx="bottom"}q[_0x4962("0xe9e")]=xx,q.center={x:1*$[4],y:1*$[5]}}f[_0x4962("0x3")](q)}var _x=x[_0x4962("0xe9f")];if(x[_0x4962("0xe9f")])for(var ex in _x){var tx=_x[ex],ix={oid:tx[_0x4962("0x3df")],X:tx.X-A.x,Y:tx.Y+A.y,Height:tx.SH,image:null==tx[_0x4962("0x326")]?"":tx[_0x4962("0x326")],w:null==tx.w||""==tx.w?32:tx.w,h:null==tx.h||""==tx.h?32:tx.h,name:r?this[_0x4962("0xe96")](tx[_0x4962("0x107")],r):tx[_0x4962("0x107")],dataID:tx.NameEn,ShowLevel:this[_0x4962("0xe8a")](tx.SL,_),Typeid:tx[_0x4962("0x3f5")],center:{x:.5,y:0},brief:tx[_0x4962("0xe97")]?JSON[_0x4962("0x71")](tx[_0x4962("0xe97")]):null};if(tx[_0x4962("0x3de")]){var ax=tx[_0x4962("0x3de")].split(",");ix[_0x4962("0x326")]=ax[0],ix.w=1*ax[1],ix.h=1*ax[2],ix[_0x4962("0xea0")]=1*ax[3],ix[_0x4962("0x131")].x=1*ax[4],ix[_0x4962("0x131")].y=1*ax[5]}d[_0x4962("0x3")](ix)}x[_0x4962("0xea1")];var nx={fnum:t,floorEdge:o,floorBaseLayers:[{lid:2,floorBases:c}],modellayers:[{lid:3,models:l}],labellayers:[{lid:5,labels:f}],poilayers:[{lid:4,pois:d}],liftlayers:[{lid:6,lifts:[]}],modelbaselayer:[{lid:9,modelbases:g}],roadDatas:m,modelsCount:R,offsets:A};return this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x383")]||(_[_0x4962("0xdbb")][t].model=l.length),nx}},{key:_0x4962("0xe88"),value:function(x,_){for(var e=_[_0x4962("0xaf1")][_0x4962("0xb28")],t=0;t<e[_0x4962("0x0")];t++){var i=e[t];if(i[_0x4962("0xcbb")]==x)return this[_0x4962("0xe8e")](i,_)}return null}},{key:_0x4962("0xe8f"),value:function(x,_,e){var t=(new(o[_0x4962("0xc")][_0x4962("0x5a7")]))[_0x4962("0xea2")](x,_,e);return{points:t.points_,holes:t[_0x4962("0x5a0")]}}},{key:"_convertIndoorFullData",value:function(x,_){_[_0x4962("0xea3")]=esmap[_0x4962("0x940")].calcSceneBox3(x);var e=_[_0x4962("0xea3")][_0x4962("0x6fe")](new THREE.Vector3),t=x.DefaultFnum,i=x[_0x4962("0xb28")][t-1][_0x4962("0xb29")],a=.75*e.x+i,n=new(THREE[_0x4962("0x12c")])(e.x,a,-e.x),r=new(THREE[_0x4962("0x12c")])(0,0,0),s=n.distanceTo(r);_[_0x4962("0xea4")]=JSON.parse("["+x[_0x4962("0xea5")]+"]"),_[_0x4962("0xaf1")]=x,_._initDistance=s;var o,c=_[_0x4962("0x3b")],l=_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],f=c.visibleFloors;if(f){if(!Array[_0x4962("0x123")](f)&&"all"!=f)return void h[_0x4962("0x37")][_0x4962("0x1dc")]({msg:"the visibleFloors "+esmap[_0x4962("0x289")].ARRAY_REQUIRED+" or string 'all'",level:_0x4962("0xa9e")});o=c[_0x4962("0xea6")]?c[_0x4962("0xea6")]:c[_0x4962("0xcb8")]?c[_0x4962("0xcb8")]:x.DefaultFnum?x.DefaultFnum:1}else f=[o=c.defaultFloornum?c[_0x4962("0xea6")]:c.focusFloor?c[_0x4962("0xcb8")]:x[_0x4962("0xcad")]?x.DefaultFnum:1];(o>x[_0x4962("0xb28")].length||o<1)&&(o=x[_0x4962("0xcad")]||1),c[_0x4962("0xcb8")]=o,(Array[_0x4962("0x123")](f)&&f.length==x.floors[_0x4962("0x0")]||f==_0x4962("0x698"))&&c[_0x4962("0x387")]==esmap[_0x4962("0x62d")][_0x4962("0xa9b")]&&(h[_0x4962("0x37")].post({msg:""+esmap.ESInfo[_0x4962("0xea7")],level:_0x4962("0xa9e")}),f=[o]),c[_0x4962("0xcb9")]=f,_.visibleFloorNums_=f;for(var d=c[_0x4962("0xea8")]||0,u=0,g=0,b=c[_0x4962("0x55d")];u<x[_0x4962("0xb28")][_0x4962("0x0")];u++){var v=x[_0x4962("0xb28")][u];v[_0x4962("0xea9")]<0&&(v[_0x4962("0xb29")]*=.001),g=d instanceof Array?d[u]||0+v[_0x4962("0xb29")]:(u+1)*d+v[_0x4962("0xb29")],v[_0x4962("0xb29")]=g+b,v[_0x4962("0xeaa")]=d+x[_0x4962("0xeab")],_[_0x4962("0x699")][_0x4962("0x3")](v[_0x4962("0xcbb")]),_[_0x4962("0xdbb")][v[_0x4962("0xcbb")]]={label:1,poi:1,floorBase:1,model:1,modelBase:l?0:1,model3D:0}}return _[_0x4962("0xaf1")]}},{key:_0x4962("0xcb0"),value:(_=(0,n[_0x4962("0xc")])(i.default[_0x4962("0x283")]((function x(_){var e,t,n,r=this,s=_[_0x4962("0x72")],o=_.buildingId;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return e=function(){return new(a[_0x4962("0xc")])((function(x){var _=r[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x74")]?"?t="+(new Date)[_0x4962("0x86")]():"",e=u[_0x4962("0xc")].getPath(_0x4962("0x5b"),{themeID:s,filename:s+_0x4962("0xeac"),buildingId:o});e+=_,esmap[_0x4962("0xd1c")][_0x4962("0x498")]({url:e}).success((function(_){x(_)}))[_0x4962("0xe0")]((function(){x(!1)}))}))},t=function(){return new(a[_0x4962("0xc")])((function(x){var _=u[_0x4962("0xc")].getPath(_0x4962("0x5b"),{themeID:s,filename:s+_0x4962("0xead"),buildingId:o});esmap.Ajax[_0x4962("0x498")]({url:_}).success((function(_){x(_)}))[_0x4962("0xe0")]((function(){x(!1)}))}))},x[_0x4962("0x286")]=4,e();case 4:if(n=x[_0x4962("0x33c")]){x.next=11;break}return x[_0x4962("0x286")]=8,t();case 8:if(n=x[_0x4962("0x33c")]){x[_0x4962("0x286")]=11;break}throw _0x4962("0xd55")+s;case 11:return x.abrupt(_0x4962("0x28c"),n);case 12:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xe96"),value:function(x,_){return this[_0x4962("0x3c2")].langLib.jsonLib&&this[_0x4962("0x3c2")][_0x4962("0xaea")][_0x4962("0xeae")][x]?this[_0x4962("0x3c2")][_0x4962("0xaea")][_0x4962("0xeae")][x][1*_-1]:x}},{key:"oa",value:function(x){return this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")]?this[_0x4962("0xeaf")](x):this[_0x4962("0xeb0")](x)}},{key:"oac",value:function(x){if(!this[_0x4962("0xeb1")](x[_0x4962("0xa5")]))return h[_0x4962("0x37")][_0x4962("0x1dc")]({msg:""+esmap.ESInfo[_0x4962("0xeb2")],level:_0x4962("0xe0")}),!1;var _=x[d[_0x4962("0xbf")]],e=x.t1,t=_<32503514?_:_/1e3,i=f[_0x4962("0x1c3")].indexOf(esmap[_0x4962("0x8c")].encode64(window[d._lct_].origin))>-1;return!((new Date)[_0x4962("0x86")]()>1e6*t&&!i)||(h[_0x4962("0x37")][_0x4962("0x1dc")]({msg:x[_0x4962("0x130")]+": "+esmap[_0x4962("0x289")][_0x4962("0xeb3")]+", updateTime: "+esmap.ESMapUtil[_0x4962("0x6bd")](1e3*e)+", endTime: "+esmap[_0x4962("0x8c")][_0x4962("0x6bd")](1e6*t),level:"error"}),!1)}},{key:_0x4962("0xeb4"),value:function(x,_,e){(0,c.decrypt)(_0x4962("0xb0c")+(x+e))===_&&this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xeb5"),!1)}},{key:_0x4962("0xeb6"),value:function(x){var _=this.mapOptions,e=(0,c.decrypt)(x+"editor"),t=_.k[_0x4962("0xaf")]("&"),i=_.k;return t>0&&(i=i[_0x4962("0x7d")](0,t),e=(0,c[_0x4962("0x475")])(x+"mapshow")),e!=i?(l.MapError[_0x4962("0x1c5")](2001),!1):(this.service.setState("sk",!0),!0)}},{key:"x",value:function(x,_){l.MapError[_0x4962("0x1c5")]({code:x,param:_})}},{key:"_d",value:function(x,_){var e=document[d[_0x4962("0xbd")]],i=x[_0x4962("0x2d")](",");if((0,p._isemvht)(this.map.id))return this.service[_0x4962("0xca2")](_0x4962("0xeb7"),!0),!0;if(i[_0x4962("0x0")]>0){var a=!1,n=!0,r=!1,s=void 0;try{for(var o,c=(0,t[_0x4962("0xc")])(i);!(n=(o=c.next())[_0x4962("0x426")]);n=!0){var l=o[_0x4962("0xe3")];e[_0x4962("0xaf")](l)>-1&&(a=!0)}}catch(x){r=!0,s=x}finally{try{!n&&c[_0x4962("0x28c")]&&c[_0x4962("0x28c")]()}finally{if(r)throw s}}if(!a)return this.x(2002,[_,e,1]),!1}return this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xeb7"),!0),!0}},{key:"_b",value:function(x,_,e,t){return(0,c[_0x4962("0x475")])(""+(x+e))!=_?(this.x(2004,[t,1]),!1):(this[_0x4962("0x3c2")].setState(_0x4962("0xeb8"),!0),!0)}},{key:_0x4962("0xeaf"),value:function(x){var _=this[_0x4962("0xe7e")],e=_.s&&_.k,t=x[_0x4962("0x130")],i=x.t1,a=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0xbd1")]();if(h[_0x4962("0x37")][_0x4962("0x1dc")]({msg:["%cMapID: "+x.bid+"; updateTime: "+esmap[_0x4962("0x8c")][_0x4962("0x6bd")](1e3*i)+"; "+a,_0x4962("0xd24")],level:_0x4962("0xbb7")}),this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0x130"),t),this[_0x4962("0xeb1")](x.version)){(0,p[_0x4962("0x10e")])(this[_0x4962("0x48")].id)?this[_0x4962("0x3c2")].setState(_0x4962("0xeb5"),!1):x[d[_0x4962("0xc1")]]&&_[d[_0x4962("0xc1")]]&&this[_0x4962("0xeb4")](x[_0x4962("0x130")],x[d[_0x4962("0xc1")]],_[d[_0x4962("0xc1")]]);var n=!1;if(!e||(n=this[_0x4962("0xeb6")](x[d[_0x4962("0xc0")]]))){I>3&&(x[d._mt_]=0);var r=x[d[_0x4962("0xbe")]];if((0,p[_0x4962("0x10d")])(this[_0x4962("0x48")].id)){this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xeba"),!0);var s=x.ul>>1&1||0,o=(0,b[_0x4962("0x315")])();s<1&&o.state.opc[_0x4962("0xda")](t)}else if(!(e&&n||x[d._tk_]===_0x4962("0xb0f"))){var l=document[d[_0x4962("0xbd")]],u=(0,c[_0x4962("0x475")])(l);if(f[_0x4962("0x1c3")][_0x4962("0xaf")](u)<0){if(!this._d(r,t))return!1;if(!_[d[_0x4962("0xc0")]])return this.x(2003,[t,1]),!1;if(!this._b(x._id,x[d[_0x4962("0xc0")]],_[d[_0x4962("0xc0")]],t))return!1;if(C!=y[0])return!1}else this[_0x4962("0x3c2")].setState("o_dm",!0);var g=x.ul>>1&1||0,v=(0,b[_0x4962("0x315")])();g<1&&v.state[_0x4962("0xcab")][_0x4962("0xda")](t)}y=null;var m=x[d[_0x4962("0xc0")]];(0,c[_0x4962("0x475")])(m+x[d[_0x4962("0xc1")]]+r+x.o1+"ABC"+x.o2)!==x[d[_0x4962("0xbc")]]&&x[d[_0x4962("0xbc")]]!==m&&m!==_0x4962("0xb0f")&&this[_0x4962("0x3c2")][_0x4962("0xca2")]("hf",1);var A=x[d._mt_],E=A<32503514?A:A/1e3;this[_0x4962("0x3c2")][_0x4962("0x80")](d[_0x4962("0xbb")])||this[_0x4962("0x3c2")].setState(d[_0x4962("0xbb")],1e6*E);var w=f[_0x4962("0x1c3")][_0x4962("0xaf")](esmap.ESMapUtil.encode64(window[d[_0x4962("0xb8")]].origin))>-1;return(new Date)[_0x4962("0x86")]()>1e6*E&&!w?(this.x(2005,[t,1]),!1):(x[_0x4962("0x5b4")]&&this[_0x4962("0x3c2")][_0x4962("0xca2")](_0x4962("0xebb"),x[_0x4962("0x5b4")]),this[_0x4962("0x3c2")].setState("ul",x.ul),this[_0x4962("0x3c2")][_0x4962("0xca2")]("o2",x.o2||0),0==x.floors[_0x4962("0x0")]?(this.x(2009,[t,1]),!1):((x.ul>>1&1||0)<1&&(I+=1),!(I>3)||(this.x(2011,[t]),!1)))}}else h[_0x4962("0x37")].post({msg:this[_0x4962("0x48")][_0x4962("0xb69")]+": "+esmap.ESInfo[_0x4962("0xeb2")]+_0x4962("0xeb9")+x[_0x4962("0xa5")],level:_0x4962("0xe0")})}},{key:_0x4962("0xcac"),value:function(x){var _=this,e=x[_0x4962("0x4d")],t=x[_0x4962("0x3f")],i=x.id;return new(a[_0x4962("0xc")])((function(x,a){esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:e,isArrayBuffer:!0})[_0x4962("0x493")]((function(n){var r=new Uint8Array(n);C=r[0];var s,o=_.service.getState("t");t&&(0,c[_0x4962("0x10b")])(i+o,r),y=r;try{s=A[_0x4962("0x33")][_0x4962("0xe80")][_0x4962("0x4b")](r)}catch(x){return l.MapError[_0x4962("0x1c5")]({code:2008,param:[i,e,1]}),h[_0x4962("0x37")].post({msg:i+": "+x[_0x4962("0x18b")](),level:_0x4962("0xe0")}),void a()}x(s)}))[_0x4962("0xe0")]((function(){l[_0x4962("0x1c4")][_0x4962("0x1c5")]({code:2007,param:[i,1]})}))}))}},{key:_0x4962("0xcb6"),value:function(x,_){var e=g[_0x4962("0xc")][_0x4962("0xdb")](_.id);x[_0x4962("0xb28")][_0x4962("0x20")]((function(x){var _=x[_0x4962("0xd68")],t=x[_0x4962("0xe9f")],i=x.Labels,a=x[_0x4962("0xcbb")];for(var n in _){_[n][_0x4962("0x3fe")]&&e.add(_0x4962("0xebc")+n,a),e[_0x4962("0xda")](n,a)}for(var r in t)e[_0x4962("0xda")](r,a);for(var s in i)e[_0x4962("0xda")](s,a);e.add(_0x4962("0xebd")+a,a)})),e[_0x4962("0xdc")]()}},{key:_0x4962("0xc9e"),get:function(){return this[_0x4962("0x3c2")][_0x4962("0xc9e")]}},{key:_0x4962("0x3c"),get:function(){return this.map[_0x4962("0x3c")]}}]),x}();_[_0x4962("0xc97")]=E},function(x,_,e){"use strict";var t=a(e(6)),i=a(e(14));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n,r=e(75),s=r[_0x4962("0x5ad")],o=r[_0x4962("0x5ae")],c=r[_0x4962("0x5af")],l=r[_0x4962("0x5b0")][_0x4962("0xc")]||(r[_0x4962("0x5b0")][_0x4962("0xc")]={});l[_0x4962("0x33")]=((n={}).ESMapSet=function(){function x(x){if(this[_0x4962("0xb28")]=[],this[_0x4962("0xd8f")]=[],this.panos=[],x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0xa5")]=0,x[_0x4962("0x1")].maptime=0,x.prototype[_0x4962("0x5c7")]="",x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0xcb3")]=0,x[_0x4962("0x1")].name="",x[_0x4962("0x1")].nameEn="",x[_0x4962("0x1")][_0x4962("0xe97")]="",x[_0x4962("0x1")][_0x4962("0x5b4")]="",x[_0x4962("0x1")][_0x4962("0xebe")]="",x[_0x4962("0x1")].AS=0,x[_0x4962("0x1")][_0x4962("0xebf")]=0,x.prototype[_0x4962("0xec0")]="",x[_0x4962("0x1")][_0x4962("0xec1")]=0,x[_0x4962("0x1")].FirstRotateAngleY=0,x.prototype[_0x4962("0xec2")]=0,x[_0x4962("0x1")][_0x4962("0xbda")]=0,x[_0x4962("0x1")][_0x4962("0xcad")]=0,x.prototype[_0x4962("0xcb4")]=0,x[_0x4962("0x1")][_0x4962("0xcb5")]=0,x[_0x4962("0x1")][_0x4962("0xec3")]=0,x[_0x4962("0x1")].x=0,x[_0x4962("0x1")].y=0,x[_0x4962("0x1")].z=0,x[_0x4962("0x1")].minX=0,x[_0x4962("0x1")][_0x4962("0x5bb")]=0,x[_0x4962("0x1")][_0x4962("0x5ca")]=0,x[_0x4962("0x1")][_0x4962("0x5cb")]=0,x[_0x4962("0x1")][_0x4962("0xea5")]="",x[_0x4962("0x1")][_0x4962("0x5bf")]="",x[_0x4962("0x1")].FloorBarName="",x[_0x4962("0x1")][_0x4962("0xeab")]=0,x[_0x4962("0x1")][_0x4962("0xb28")]=c.emptyArray,x.prototype[_0x4962("0xd8f")]=c.emptyArray,x[_0x4962("0x1")][_0x4962("0xec4")]=c.emptyArray,x[_0x4962("0x1")][_0x4962("0x5c0")]="",x.prototype[_0x4962("0x8a")]="",x[_0x4962("0x1")][_0x4962("0x130")]="",x[_0x4962("0x1")][_0x4962("0x5c2")]="",x[_0x4962("0x1")].other1="",x.prototype.o1=0,x[_0x4962("0x1")][_0x4962("0x5ce")]="",x[_0x4962("0x1")].o2=0,x[_0x4962("0x1")].ul=0,x[_0x4962("0x1")].t1="",x.create=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){if(_||(_=o.create()),null!=x[_0x4962("0xa5")]&&x.hasOwnProperty(_0x4962("0xa5"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0xa5")]),null!=x[_0x4962("0xec5")]&&x[_0x4962("0x2")](_0x4962("0xec5"))&&_.uint32(16)[_0x4962("0x5c5")](x[_0x4962("0xec5")]),null!=x[_0x4962("0x5c7")]&&x[_0x4962("0x2")](_0x4962("0x5c7"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x[_0x4962("0x5c7")]),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_.uint32(32)[_0x4962("0x5c5")](x._id),null!=x[_0x4962("0xcb3")]&&x[_0x4962("0x2")]("Type")&&_[_0x4962("0x5c4")](40).int32(x.Type),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&_[_0x4962("0x5c4")](50)[_0x4962("0xd")](x[_0x4962("0x107")]),null!=x[_0x4962("0x5b3")]&&x[_0x4962("0x2")](_0x4962("0x5b3"))&&_[_0x4962("0x5c4")](58)[_0x4962("0xd")](x.nameEn),null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")](_0x4962("0xe97"))&&_[_0x4962("0x5c4")](66)[_0x4962("0xd")](x.Brief),null!=x.adcode&&x.hasOwnProperty(_0x4962("0x5b4"))&&_[_0x4962("0x5c4")](74).string(x[_0x4962("0x5b4")]),null!=x[_0x4962("0xebe")]&&x.hasOwnProperty(_0x4962("0xebe"))&&_.uint32(82)[_0x4962("0xd")](x[_0x4962("0xebe")]),null!=x.AS&&x[_0x4962("0x2")]("AS")&&_[_0x4962("0x5c4")](89)[_0x4962("0x5c8")](x.AS),null!=x[_0x4962("0xebf")]&&x.hasOwnProperty("BuildingHigh")&&_[_0x4962("0x5c4")](101)[_0x4962("0x333")](x[_0x4962("0xebf")]),null!=x[_0x4962("0xec0")]&&x[_0x4962("0x2")](_0x4962("0xec0"))&&_[_0x4962("0x5c4")](106)[_0x4962("0xd")](x.Tel),null!=x[_0x4962("0xec1")]&&x[_0x4962("0x2")](_0x4962("0xec1"))&&_[_0x4962("0x5c4")](113).double(x.FirstRotateAngleX),null!=x[_0x4962("0xec6")]&&x[_0x4962("0x2")](_0x4962("0xec6"))&&_[_0x4962("0x5c4")](121)[_0x4962("0x5c8")](x[_0x4962("0xec6")]),null!=x.FirstRotateAngleZ&&x[_0x4962("0x2")](_0x4962("0xec2"))&&_[_0x4962("0x5c4")](129)[_0x4962("0x5c8")](x[_0x4962("0xec2")]),null!=x[_0x4962("0xbda")]&&x[_0x4962("0x2")](_0x4962("0xbda"))&&_[_0x4962("0x5c4")](137)[_0x4962("0x5c8")](x.Firstscale),null!=x.DefaultFnum&&x[_0x4962("0x2")](_0x4962("0xcad"))&&_[_0x4962("0x5c4")](144)[_0x4962("0x5c5")](x[_0x4962("0xcad")]),null!=x.DefaultCenX&&x[_0x4962("0x2")]("DefaultCenX")&&_.uint32(153)[_0x4962("0x5c8")](x[_0x4962("0xcb4")]),null!=x[_0x4962("0xcb5")]&&x[_0x4962("0x2")](_0x4962("0xcb5"))&&_.uint32(161).double(x[_0x4962("0xcb5")]),null!=x[_0x4962("0xec3")]&&x[_0x4962("0x2")](_0x4962("0xec3"))&&_[_0x4962("0x5c4")](169)[_0x4962("0x5c8")](x[_0x4962("0xec3")]),null!=x.x&&x[_0x4962("0x2")]("x")&&_.uint32(177)[_0x4962("0x5c8")](x.x),null!=x.y&&x.hasOwnProperty("y")&&_.uint32(185).double(x.y),null!=x.z&&x[_0x4962("0x2")]("z")&&_[_0x4962("0x5c4")](193)[_0x4962("0x5c8")](x.z),null!=x[_0x4962("0x5b8")]&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&_[_0x4962("0x5c4")](201).double(x[_0x4962("0x5b8")]),null!=x[_0x4962("0x5bb")]&&x[_0x4962("0x2")]("minY")&&_[_0x4962("0x5c4")](209)[_0x4962("0x5c8")](x.minY),null!=x.maxX&&x[_0x4962("0x2")](_0x4962("0x5ca"))&&_[_0x4962("0x5c4")](217)[_0x4962("0x5c8")](x.maxX),null!=x[_0x4962("0x5cb")]&&x[_0x4962("0x2")](_0x4962("0x5cb"))&&_[_0x4962("0x5c4")](225)[_0x4962("0x5c8")](x[_0x4962("0x5cb")]),null!=x[_0x4962("0xea5")]&&x[_0x4962("0x2")](_0x4962("0xea5"))&&_[_0x4962("0x5c4")](234)[_0x4962("0xd")](x[_0x4962("0xea5")]),null!=x[_0x4962("0x5bf")]&&x.hasOwnProperty(_0x4962("0x5bf"))&&_.uint32(242)[_0x4962("0xd")](x[_0x4962("0x5bf")]),null!=x[_0x4962("0xec7")]&&x.hasOwnProperty(_0x4962("0xec7"))&&_[_0x4962("0x5c4")](250)[_0x4962("0xd")](x[_0x4962("0xec7")]),null!=x[_0x4962("0xeab")]&&x[_0x4962("0x2")](_0x4962("0xeab"))&&_.uint32(256).int32(x[_0x4962("0xeab")]),null!=x[_0x4962("0xb28")]&&x[_0x4962("0xb28")][_0x4962("0x0")])for(var e=0;e<x[_0x4962("0xb28")][_0x4962("0x0")];++e)l.ESMap[_0x4962("0xec8")][_0x4962("0xe27")](x[_0x4962("0xb28")][e],_[_0x4962("0x5c4")](266).fork()).ldelim();if(null!=x[_0x4962("0xd8f")]&&x[_0x4962("0xd8f")][_0x4962("0x0")])for(e=0;e<x[_0x4962("0xd8f")][_0x4962("0x0")];++e)l.ESMap.NavSet.encode(x[_0x4962("0xd8f")][e],_.uint32(274)[_0x4962("0xe28")]()).ldelim();if(null!=x[_0x4962("0xec4")]&&x[_0x4962("0xec4")].length)for(e=0;e<x[_0x4962("0xec4")][_0x4962("0x0")];++e)l[_0x4962("0x33")][_0x4962("0xec9")][_0x4962("0xe27")](x.panos[e],_[_0x4962("0x5c4")](282).fork())[_0x4962("0xe2a")]();return null!=x[_0x4962("0x5c0")]&&x[_0x4962("0x2")](_0x4962("0x5c0"))&&_[_0x4962("0x5c4")](290).string(x[_0x4962("0x5c0")]),null!=x.token&&x.hasOwnProperty(_0x4962("0x8a"))&&_[_0x4962("0x5c4")](298).string(x[_0x4962("0x8a")]),null!=x[_0x4962("0x130")]&&x[_0x4962("0x2")](_0x4962("0x130"))&&_[_0x4962("0x5c4")](306)[_0x4962("0xd")](x[_0x4962("0x130")]),null!=x.logotoken&&x[_0x4962("0x2")](_0x4962("0x5c2"))&&_[_0x4962("0x5c4")](314)[_0x4962("0xd")](x.logotoken),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")]("other1")&&_[_0x4962("0x5c4")](322)[_0x4962("0xd")](x[_0x4962("0x3de")]),null!=x.o1&&x[_0x4962("0x2")]("o1")&&_[_0x4962("0x5c4")](328)[_0x4962("0x5c5")](x.o1),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&_.uint32(338)[_0x4962("0xd")](x[_0x4962("0x5ce")]),null!=x.o2&&x[_0x4962("0x2")]("o2")&&_[_0x4962("0x5c4")](344).int32(x.o2),null!=x.ul&&x[_0x4962("0x2")]("ul")&&_[_0x4962("0x5c4")](352)[_0x4962("0x5c5")](x.ul),null!=x.t1&&x[_0x4962("0x2")]("t1")&&_.uint32(362)[_0x4962("0xd")](x.t1),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x33")][_0x4962("0xe80")]);x.pos<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t.version=x.int32();break;case 2:t[_0x4962("0xec5")]=x[_0x4962("0x5c5")]();break;case 3:t[_0x4962("0x5c7")]=x[_0x4962("0xd")]();break;case 4:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 5:t[_0x4962("0xcb3")]=x[_0x4962("0x5c5")]();break;case 6:t[_0x4962("0x107")]=x.string();break;case 7:t[_0x4962("0x5b3")]=x[_0x4962("0xd")]();break;case 8:t[_0x4962("0xe97")]=x[_0x4962("0xd")]();break;case 9:t.adcode=x[_0x4962("0xd")]();break;case 10:t[_0x4962("0xebe")]=x[_0x4962("0xd")]();break;case 11:t.AS=x[_0x4962("0x5c8")]();break;case 12:t[_0x4962("0xebf")]=x.float();break;case 13:t[_0x4962("0xec0")]=x[_0x4962("0xd")]();break;case 14:t[_0x4962("0xec1")]=x[_0x4962("0x5c8")]();break;case 15:t[_0x4962("0xec6")]=x[_0x4962("0x5c8")]();break;case 16:t.FirstRotateAngleZ=x.double();break;case 17:t.Firstscale=x[_0x4962("0x5c8")]();break;case 18:t[_0x4962("0xcad")]=x[_0x4962("0x5c5")]();break;case 19:t[_0x4962("0xcb4")]=x[_0x4962("0x5c8")]();break;case 20:t[_0x4962("0xcb5")]=x[_0x4962("0x5c8")]();break;case 21:t[_0x4962("0xec3")]=x[_0x4962("0x5c8")]();break;case 22:t.x=x[_0x4962("0x5c8")]();break;case 23:t.y=x[_0x4962("0x5c8")]();break;case 24:t.z=x.double();break;case 25:t[_0x4962("0x5b8")]=x[_0x4962("0x5c8")]();break;case 26:t[_0x4962("0x5bb")]=x[_0x4962("0x5c8")]();break;case 27:t[_0x4962("0x5ca")]=x.double();break;case 28:t.maxY=x.double();break;case 29:t[_0x4962("0xea5")]=x[_0x4962("0xd")]();break;case 30:t[_0x4962("0x5bf")]=x[_0x4962("0xd")]();break;case 31:t.FloorBarName=x[_0x4962("0xd")]();break;case 32:t[_0x4962("0xeab")]=x[_0x4962("0x5c5")]();break;case 33:t[_0x4962("0xb28")]&&t[_0x4962("0xb28")][_0x4962("0x0")]||(t.floors=[]),t[_0x4962("0xb28")][_0x4962("0x3")](l.ESMap[_0x4962("0xec8")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]()));break;case 34:t.navs&&t[_0x4962("0xd8f")][_0x4962("0x0")]||(t[_0x4962("0xd8f")]=[]),t[_0x4962("0xd8f")][_0x4962("0x3")](l[_0x4962("0x33")][_0x4962("0xeca")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]()));break;case 35:t[_0x4962("0xec4")]&&t[_0x4962("0xec4")][_0x4962("0x0")]||(t.panos=[]),t[_0x4962("0xec4")].push(l.ESMap[_0x4962("0xec9")][_0x4962("0x4b")](x,x.uint32()));break;case 36:t[_0x4962("0x5c0")]=x[_0x4962("0xd")]();break;case 37:t[_0x4962("0x8a")]=x[_0x4962("0xd")]();break;case 38:t[_0x4962("0x130")]=x.string();break;case 39:t[_0x4962("0x5c2")]=x.string();break;case 40:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;case 41:t.o1=x[_0x4962("0x5c5")]();break;case 42:t[_0x4962("0x5ce")]=x.string();break;case 43:t.o2=x[_0x4962("0x5c5")]();break;case 44:t.ul=x[_0x4962("0x5c5")]();break;case 45:t.t1=x.string();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x.decodeDelimited=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x)return _0x4962("0x5d6");if(null!=x[_0x4962("0xa5")]&&x.hasOwnProperty(_0x4962("0xa5"))&&!c[_0x4962("0x5db")](x[_0x4962("0xa5")]))return _0x4962("0xecb");if(null!=x[_0x4962("0xec5")]&&x[_0x4962("0x2")](_0x4962("0xec5"))&&!c[_0x4962("0x5db")](x[_0x4962("0xec5")]))return _0x4962("0xecc");if(null!=x.Hash&&x[_0x4962("0x2")](_0x4962("0x5c7"))&&!c[_0x4962("0x36d")](x[_0x4962("0x5c7")]))return _0x4962("0x5da");if(null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")]))return"_id: integer expected";if(null!=x[_0x4962("0xcb3")]&&x[_0x4962("0x2")](_0x4962("0xcb3"))&&!c[_0x4962("0x5db")](x.Type))return"Type: integer expected";if(null!=x.name&&x[_0x4962("0x2")]("name")&&!c[_0x4962("0x36d")](x[_0x4962("0x107")]))return _0x4962("0x5dd");if(null!=x[_0x4962("0x5b3")]&&x[_0x4962("0x2")](_0x4962("0x5b3"))&&!c[_0x4962("0x36d")](x.nameEn))return _0x4962("0x5de");if(null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")]("Brief")&&!c[_0x4962("0x36d")](x.Brief))return _0x4962("0xecd");if(null!=x[_0x4962("0x5b4")]&&x.hasOwnProperty(_0x4962("0x5b4"))&&!c[_0x4962("0x36d")](x[_0x4962("0x5b4")]))return _0x4962("0x5df");if(null!=x.address&&x[_0x4962("0x2")](_0x4962("0xebe"))&&!c[_0x4962("0x36d")](x.address))return"address: string expected";if(null!=x.AS&&x.hasOwnProperty("AS")&&typeof x.AS!==_0x4962("0x18a"))return _0x4962("0xece");if(null!=x.BuildingHigh&&x[_0x4962("0x2")](_0x4962("0xebf"))&&typeof x[_0x4962("0xebf")]!==_0x4962("0x18a"))return _0x4962("0xecf");if(null!=x.Tel&&x.hasOwnProperty(_0x4962("0xec0"))&&!c[_0x4962("0x36d")](x[_0x4962("0xec0")]))return"Tel: string expected";if(null!=x.FirstRotateAngleX&&x[_0x4962("0x2")](_0x4962("0xec1"))&&"number"!=typeof x[_0x4962("0xec1")])return _0x4962("0xed0");if(null!=x.FirstRotateAngleY&&x[_0x4962("0x2")](_0x4962("0xec6"))&&typeof x[_0x4962("0xec6")]!==_0x4962("0x18a"))return"FirstRotateAngleY: number expected";if(null!=x[_0x4962("0xec2")]&&x.hasOwnProperty(_0x4962("0xec2"))&&typeof x[_0x4962("0xec2")]!==_0x4962("0x18a"))return _0x4962("0xed1");if(null!=x[_0x4962("0xbda")]&&x[_0x4962("0x2")](_0x4962("0xbda"))&&"number"!=typeof x[_0x4962("0xbda")])return _0x4962("0xed2");if(null!=x[_0x4962("0xcad")]&&x[_0x4962("0x2")](_0x4962("0xcad"))&&!c[_0x4962("0x5db")](x[_0x4962("0xcad")]))return _0x4962("0xed3");if(null!=x[_0x4962("0xcb4")]&&x[_0x4962("0x2")]("DefaultCenX")&&typeof x[_0x4962("0xcb4")]!==_0x4962("0x18a"))return"DefaultCenX: number expected";if(null!=x[_0x4962("0xcb5")]&&x[_0x4962("0x2")](_0x4962("0xcb5"))&&typeof x[_0x4962("0xcb5")]!==_0x4962("0x18a"))return _0x4962("0xed4");if(null!=x[_0x4962("0xec3")]&&x.hasOwnProperty(_0x4962("0xec3"))&&typeof x[_0x4962("0xec3")]!==_0x4962("0x18a"))return"DefaultCenZ: number expected";if(null!=x.x&&x.hasOwnProperty("x")&&typeof x.x!==_0x4962("0x18a"))return"x: number expected";if(null!=x.y&&x[_0x4962("0x2")]("y")&&typeof x.y!==_0x4962("0x18a"))return _0x4962("0x5e3");if(null!=x.z&&x[_0x4962("0x2")]("z")&&typeof x.z!==_0x4962("0x18a"))return _0x4962("0xed5");if(null!=x[_0x4962("0x5b8")]&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&typeof x[_0x4962("0x5b8")]!==_0x4962("0x18a"))return _0x4962("0xed6");if(null!=x[_0x4962("0x5bb")]&&x[_0x4962("0x2")](_0x4962("0x5bb"))&&"number"!=typeof x[_0x4962("0x5bb")])return _0x4962("0xed7");if(null!=x[_0x4962("0x5ca")]&&x.hasOwnProperty(_0x4962("0x5ca"))&&typeof x[_0x4962("0x5ca")]!==_0x4962("0x18a"))return _0x4962("0xe31");if(null!=x[_0x4962("0x5cb")]&&x.hasOwnProperty(_0x4962("0x5cb"))&&typeof x[_0x4962("0x5cb")]!==_0x4962("0x18a"))return _0x4962("0xe32");if(null!=x[_0x4962("0xea5")]&&x[_0x4962("0x2")](_0x4962("0xea5"))&&!c[_0x4962("0x36d")](x[_0x4962("0xea5")]))return"ScaleLevel: string expected";if(null!=x[_0x4962("0x5bf")]&&x[_0x4962("0x2")]("Remark")&&!c[_0x4962("0x36d")](x.Remark))return _0x4962("0x5ed");if(null!=x[_0x4962("0xec7")]&&x[_0x4962("0x2")](_0x4962("0xec7"))&&!c[_0x4962("0x36d")](x[_0x4962("0xec7")]))return _0x4962("0xed8");if(null!=x[_0x4962("0xeab")]&&x[_0x4962("0x2")]("FloorHigh")&&!c[_0x4962("0x5db")](x[_0x4962("0xeab")]))return _0x4962("0xed9");if(null!=x[_0x4962("0xb28")]&&x[_0x4962("0x2")]("floors")){if(!Array.isArray(x[_0x4962("0xb28")]))return"floors: array expected";for(var _=0;_<x[_0x4962("0xb28")][_0x4962("0x0")];++_)if(e=l[_0x4962("0x33")][_0x4962("0xec8")][_0x4962("0xe2e")](x[_0x4962("0xb28")][_]))return _0x4962("0xeda")+e}if(null!=x[_0x4962("0xd8f")]&&x[_0x4962("0x2")]("navs")){if(!Array[_0x4962("0x123")](x[_0x4962("0xd8f")]))return _0x4962("0xedb");for(_=0;_<x.navs.length;++_)if(e=l[_0x4962("0x33")][_0x4962("0xeca")][_0x4962("0xe2e")](x[_0x4962("0xd8f")][_]))return"navs."+e}if(null!=x[_0x4962("0xec4")]&&x[_0x4962("0x2")](_0x4962("0xec4"))){if(!Array[_0x4962("0x123")](x.panos))return _0x4962("0xedc");for(_=0;_<x[_0x4962("0xec4")].length;++_){var e;if(e=l[_0x4962("0x33")].PicSet[_0x4962("0xe2e")](x[_0x4962("0xec4")][_]))return _0x4962("0xedd")+e}}return null!=x[_0x4962("0x5c0")]&&x[_0x4962("0x2")]("styleid")&&!c[_0x4962("0x36d")](x[_0x4962("0x5c0")])?_0x4962("0x5ee"):null!=x.token&&x[_0x4962("0x2")](_0x4962("0x8a"))&&!c[_0x4962("0x36d")](x[_0x4962("0x8a")])?_0x4962("0x5ef"):null!=x.bid&&x.hasOwnProperty("bid")&&!c[_0x4962("0x36d")](x[_0x4962("0x130")])?_0x4962("0xede"):null!=x[_0x4962("0x5c2")]&&x[_0x4962("0x2")](_0x4962("0x5c2"))&&!c.isString(x[_0x4962("0x5c2")])?_0x4962("0x5f1"):null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x.other1)?_0x4962("0x5f4"):null!=x.o1&&x[_0x4962("0x2")]("o1")&&!c.isInteger(x.o1)?_0x4962("0x5f2"):null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&!c[_0x4962("0x36d")](x[_0x4962("0x5ce")])?_0x4962("0x5f5"):null!=x.o2&&x[_0x4962("0x2")]("o2")&&!c[_0x4962("0x5db")](x.o2)?_0x4962("0xe6f"):null!=x.ul&&x[_0x4962("0x2")]("ul")&&!c[_0x4962("0x5db")](x.ul)?"ul: integer expected":null!=x.t1&&x[_0x4962("0x2")]("t1")&&!c[_0x4962("0x36d")](x.t1)?"t1: string expected":null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")][_0x4962("0xe80")])return x;var _=new(l[_0x4962("0x33")][_0x4962("0xe80")]);if(null!=x[_0x4962("0xa5")]&&(_[_0x4962("0xa5")]=0|x[_0x4962("0xa5")]),null!=x.maptime&&(_.maptime=0|x[_0x4962("0xec5")]),null!=x[_0x4962("0x5c7")]&&(_[_0x4962("0x5c7")]=String(x[_0x4962("0x5c7")])),null!=x[_0x4962("0x3df")]&&(_._id=0|x[_0x4962("0x3df")]),null!=x.Type&&(_[_0x4962("0xcb3")]=0|x.Type),null!=x[_0x4962("0x107")]&&(_[_0x4962("0x107")]=String(x.name)),null!=x[_0x4962("0x5b3")]&&(_[_0x4962("0x5b3")]=String(x.nameEn)),null!=x[_0x4962("0xe97")]&&(_.Brief=String(x.Brief)),null!=x[_0x4962("0x5b4")]&&(_[_0x4962("0x5b4")]=String(x[_0x4962("0x5b4")])),null!=x[_0x4962("0xebe")]&&(_[_0x4962("0xebe")]=String(x[_0x4962("0xebe")])),null!=x.AS&&(_.AS=Number(x.AS)),null!=x[_0x4962("0xebf")]&&(_[_0x4962("0xebf")]=Number(x.BuildingHigh)),null!=x[_0x4962("0xec0")]&&(_[_0x4962("0xec0")]=String(x[_0x4962("0xec0")])),null!=x[_0x4962("0xec1")]&&(_.FirstRotateAngleX=Number(x[_0x4962("0xec1")])),null!=x[_0x4962("0xec6")]&&(_[_0x4962("0xec6")]=Number(x.FirstRotateAngleY)),null!=x[_0x4962("0xec2")]&&(_[_0x4962("0xec2")]=Number(x[_0x4962("0xec2")])),null!=x[_0x4962("0xbda")]&&(_[_0x4962("0xbda")]=Number(x[_0x4962("0xbda")])),null!=x[_0x4962("0xcad")]&&(_.DefaultFnum=0|x[_0x4962("0xcad")]),null!=x[_0x4962("0xcb4")]&&(_[_0x4962("0xcb4")]=Number(x[_0x4962("0xcb4")])),null!=x[_0x4962("0xcb5")]&&(_[_0x4962("0xcb5")]=Number(x[_0x4962("0xcb5")])),null!=x[_0x4962("0xec3")]&&(_[_0x4962("0xec3")]=Number(x[_0x4962("0xec3")])),null!=x.x&&(_.x=Number(x.x)),null!=x.y&&(_.y=Number(x.y)),null!=x.z&&(_.z=Number(x.z)),null!=x[_0x4962("0x5b8")]&&(_[_0x4962("0x5b8")]=Number(x.minX)),null!=x.minY&&(_.minY=Number(x[_0x4962("0x5bb")])),null!=x.maxX&&(_[_0x4962("0x5ca")]=Number(x[_0x4962("0x5ca")])),null!=x[_0x4962("0x5cb")]&&(_[_0x4962("0x5cb")]=Number(x[_0x4962("0x5cb")])),null!=x[_0x4962("0xea5")]&&(_.ScaleLevel=String(x.ScaleLevel)),null!=x.Remark&&(_.Remark=String(x.Remark)),null!=x[_0x4962("0xec7")]&&(_.FloorBarName=String(x[_0x4962("0xec7")])),null!=x[_0x4962("0xeab")]&&(_[_0x4962("0xeab")]=0|x[_0x4962("0xeab")]),x.floors){if(!Array[_0x4962("0x123")](x.floors))throw TypeError(".ESMap.ESMapSet.floors: array expected");_[_0x4962("0xb28")]=[];for(var e=0;e<x.floors[_0x4962("0x0")];++e){if((0,t[_0x4962("0xc")])(x[_0x4962("0xb28")][e])!==_0x4962("0x9"))throw TypeError(".ESMap.ESMapSet.floors: object expected");_[_0x4962("0xb28")][e]=l[_0x4962("0x33")][_0x4962("0xec8")][_0x4962("0x5fd")](x.floors[e])}}if(x[_0x4962("0xd8f")]){if(!Array.isArray(x[_0x4962("0xd8f")]))throw TypeError(_0x4962("0xedf"));for(_[_0x4962("0xd8f")]=[],e=0;e<x.navs.length;++e){if((0,t.default)(x[_0x4962("0xd8f")][e])!==_0x4962("0x9"))throw TypeError(".ESMap.ESMapSet.navs: object expected");_[_0x4962("0xd8f")][e]=l[_0x4962("0x33")][_0x4962("0xeca")][_0x4962("0x5fd")](x[_0x4962("0xd8f")][e])}}if(x[_0x4962("0xec4")]){if(!Array[_0x4962("0x123")](x[_0x4962("0xec4")]))throw TypeError(_0x4962("0xee0"));for(_[_0x4962("0xec4")]=[],e=0;e<x[_0x4962("0xec4")].length;++e){if((0,t[_0x4962("0xc")])(x[_0x4962("0xec4")][e])!==_0x4962("0x9"))throw TypeError(_0x4962("0xee1"));_[_0x4962("0xec4")][e]=l.ESMap[_0x4962("0xec9")].fromObject(x[_0x4962("0xec4")][e])}}return null!=x[_0x4962("0x5c0")]&&(_[_0x4962("0x5c0")]=String(x[_0x4962("0x5c0")])),null!=x.token&&(_[_0x4962("0x8a")]=String(x.token)),null!=x[_0x4962("0x130")]&&(_[_0x4962("0x130")]=String(x[_0x4962("0x130")])),null!=x[_0x4962("0x5c2")]&&(_[_0x4962("0x5c2")]=String(x[_0x4962("0x5c2")])),null!=x[_0x4962("0x3de")]&&(_.other1=String(x[_0x4962("0x3de")])),null!=x.o1&&(_.o1=0|x.o1),null!=x[_0x4962("0x5ce")]&&(_.other2=String(x.other2)),null!=x.o2&&(_.o2=0|x.o2),null!=x.ul&&(_.ul=0|x.ul),null!=x.t1&&(_.t1=String(x.t1)),_},x[_0x4962("0x2bf")]=x.fromObject,x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};if((_[_0x4962("0xee2")]||_[_0x4962("0xe3b")])&&(e[_0x4962("0xb28")]=[],e[_0x4962("0xd8f")]=[],e.panos=[]),_.defaults&&(e.version=0,e.maptime=0,e[_0x4962("0x5c7")]="",e[_0x4962("0x3df")]=0,e.Type=0,e[_0x4962("0x107")]="",e.nameEn="",e[_0x4962("0xe97")]="",e[_0x4962("0x5b4")]="",e[_0x4962("0xebe")]="",e.AS=0,e.BuildingHigh=0,e[_0x4962("0xec0")]="",e[_0x4962("0xec1")]=0,e[_0x4962("0xec6")]=0,e[_0x4962("0xec2")]=0,e[_0x4962("0xbda")]=0,e[_0x4962("0xcad")]=0,e[_0x4962("0xcb4")]=0,e[_0x4962("0xcb5")]=0,e[_0x4962("0xec3")]=0,e.x=0,e.y=0,e.z=0,e[_0x4962("0x5b8")]=0,e[_0x4962("0x5bb")]=0,e.maxX=0,e[_0x4962("0x5cb")]=0,e.ScaleLevel="",e[_0x4962("0x5bf")]="",e[_0x4962("0xec7")]="",e[_0x4962("0xeab")]=0,e[_0x4962("0x5c0")]="",e.token="",e[_0x4962("0x130")]="",e[_0x4962("0x5c2")]="",e.other1="",e.o1=0,e[_0x4962("0x5ce")]="",e.o2=0,e.ul=0,e.t1=""),null!=x.version&&x[_0x4962("0x2")]("version")&&(e[_0x4962("0xa5")]=x[_0x4962("0xa5")]),null!=x[_0x4962("0xec5")]&&x[_0x4962("0x2")](_0x4962("0xec5"))&&(e[_0x4962("0xec5")]=x[_0x4962("0xec5")]),null!=x[_0x4962("0x5c7")]&&x.hasOwnProperty("Hash")&&(e.Hash=x.Hash),null!=x[_0x4962("0x3df")]&&x.hasOwnProperty(_0x4962("0x3df"))&&(e._id=x[_0x4962("0x3df")]),null!=x[_0x4962("0xcb3")]&&x.hasOwnProperty("Type")&&(e[_0x4962("0xcb3")]=x.Type),null!=x[_0x4962("0x107")]&&x.hasOwnProperty(_0x4962("0x107"))&&(e[_0x4962("0x107")]=x[_0x4962("0x107")]),null!=x.nameEn&&x.hasOwnProperty(_0x4962("0x5b3"))&&(e[_0x4962("0x5b3")]=x[_0x4962("0x5b3")]),null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")](_0x4962("0xe97"))&&(e.Brief=x.Brief),null!=x[_0x4962("0x5b4")]&&x[_0x4962("0x2")](_0x4962("0x5b4"))&&(e[_0x4962("0x5b4")]=x[_0x4962("0x5b4")]),null!=x[_0x4962("0xebe")]&&x.hasOwnProperty("address")&&(e[_0x4962("0xebe")]=x.address),null!=x.AS&&x[_0x4962("0x2")]("AS")&&(e.AS=x.AS),null!=x[_0x4962("0xebf")]&&x[_0x4962("0x2")](_0x4962("0xebf"))&&(e.BuildingHigh=x.BuildingHigh),null!=x[_0x4962("0xec0")]&&x.hasOwnProperty(_0x4962("0xec0"))&&(e[_0x4962("0xec0")]=x[_0x4962("0xec0")]),null!=x[_0x4962("0xec1")]&&x[_0x4962("0x2")](_0x4962("0xec1"))&&(e[_0x4962("0xec1")]=x[_0x4962("0xec1")]),null!=x.FirstRotateAngleY&&x[_0x4962("0x2")](_0x4962("0xec6"))&&(e[_0x4962("0xec6")]=x[_0x4962("0xec6")]),null!=x[_0x4962("0xec2")]&&x.hasOwnProperty("FirstRotateAngleZ")&&(e.FirstRotateAngleZ=x[_0x4962("0xec2")]),null!=x[_0x4962("0xbda")]&&x[_0x4962("0x2")]("Firstscale")&&(e[_0x4962("0xbda")]=x[_0x4962("0xbda")]),null!=x.DefaultFnum&&x[_0x4962("0x2")](_0x4962("0xcad"))&&(e.DefaultFnum=x.DefaultFnum),null!=x.DefaultCenX&&x[_0x4962("0x2")](_0x4962("0xcb4"))&&(e[_0x4962("0xcb4")]=x[_0x4962("0xcb4")]),null!=x[_0x4962("0xcb5")]&&x[_0x4962("0x2")](_0x4962("0xcb5"))&&(e.DefaultCenY=x[_0x4962("0xcb5")]),null!=x[_0x4962("0xec3")]&&x[_0x4962("0x2")]("DefaultCenZ")&&(e[_0x4962("0xec3")]=x[_0x4962("0xec3")]),null!=x.x&&x.hasOwnProperty("x")&&(e.x=x.x),null!=x.y&&x.hasOwnProperty("y")&&(e.y=x.y),null!=x.z&&x[_0x4962("0x2")]("z")&&(e.z=x.z),null!=x[_0x4962("0x5b8")]&&x[_0x4962("0x2")](_0x4962("0x5b8"))&&(e[_0x4962("0x5b8")]=x[_0x4962("0x5b8")]),null!=x.minY&&x[_0x4962("0x2")]("minY")&&(e.minY=x[_0x4962("0x5bb")]),null!=x[_0x4962("0x5ca")]&&x[_0x4962("0x2")](_0x4962("0x5ca"))&&(e[_0x4962("0x5ca")]=x.maxX),null!=x[_0x4962("0x5cb")]&&x[_0x4962("0x2")](_0x4962("0x5cb"))&&(e.maxY=x[_0x4962("0x5cb")]),null!=x[_0x4962("0xea5")]&&x[_0x4962("0x2")](_0x4962("0xea5"))&&(e[_0x4962("0xea5")]=x[_0x4962("0xea5")]),null!=x[_0x4962("0x5bf")]&&x[_0x4962("0x2")]("Remark")&&(e[_0x4962("0x5bf")]=x[_0x4962("0x5bf")]),null!=x[_0x4962("0xec7")]&&x.hasOwnProperty(_0x4962("0xec7"))&&(e[_0x4962("0xec7")]=x.FloorBarName),null!=x[_0x4962("0xeab")]&&x[_0x4962("0x2")](_0x4962("0xeab"))&&(e[_0x4962("0xeab")]=x[_0x4962("0xeab")]),x[_0x4962("0xb28")]&&x.floors[_0x4962("0x0")]){e.floors=[];for(var t=0;t<x[_0x4962("0xb28")][_0x4962("0x0")];++t)e[_0x4962("0xb28")][t]=l[_0x4962("0x33")][_0x4962("0xec8")].toObject(x[_0x4962("0xb28")][t],_)}if(x[_0x4962("0xd8f")]&&x.navs.length)for(e[_0x4962("0xd8f")]=[],t=0;t<x[_0x4962("0xd8f")][_0x4962("0x0")];++t)e.navs[t]=l[_0x4962("0x33")][_0x4962("0xeca")][_0x4962("0x602")](x.navs[t],_);if(x[_0x4962("0xec4")]&&x.panos[_0x4962("0x0")])for(e[_0x4962("0xec4")]=[],t=0;t<x[_0x4962("0xec4")][_0x4962("0x0")];++t)e[_0x4962("0xec4")][t]=l[_0x4962("0x33")][_0x4962("0xec9")][_0x4962("0x602")](x.panos[t],_);return null!=x[_0x4962("0x5c0")]&&x[_0x4962("0x2")](_0x4962("0x5c0"))&&(e.styleid=x[_0x4962("0x5c0")]),null!=x[_0x4962("0x8a")]&&x[_0x4962("0x2")](_0x4962("0x8a"))&&(e[_0x4962("0x8a")]=x[_0x4962("0x8a")]),null!=x.bid&&x.hasOwnProperty("bid")&&(e.bid=x[_0x4962("0x130")]),null!=x[_0x4962("0x5c2")]&&x[_0x4962("0x2")](_0x4962("0x5c2"))&&(e[_0x4962("0x5c2")]=x[_0x4962("0x5c2")]),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x.other1),null!=x.o1&&x[_0x4962("0x2")]("o1")&&(e.o1=x.o1),null!=x.other2&&x.hasOwnProperty("other2")&&(e.other2=x.other2),null!=x.o2&&x.hasOwnProperty("o2")&&(e.o2=x.o2),null!=x.ul&&x[_0x4962("0x2")]("ul")&&(e.ul=x.ul),null!=x.t1&&x[_0x4962("0x2")]("t1")&&(e.t1=x.t1),e},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this.constructor[_0x4962("0x602")](this,x)},x[_0x4962("0x1")].toJSON=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xec8")]=function(){function x(x){if(this[_0x4962("0xd68")]={},this[_0x4962("0xe9f")]={},this.Labels={},this[_0x4962("0xea1")]={},x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")]._id=0,x[_0x4962("0x1")][_0x4962("0xcbb")]=0,x[_0x4962("0x1")].floornumtext=0,x[_0x4962("0x1")][_0x4962("0x107")]="",x[_0x4962("0x1")][_0x4962("0xb73")]="",x[_0x4962("0x1")].AS=0,x[_0x4962("0x1")][_0x4962("0x313")]=0,x[_0x4962("0x1")][_0x4962("0xb29")]=0,x[_0x4962("0x1")][_0x4962("0xd6e")]="",x[_0x4962("0x1")].Alias="",x[_0x4962("0x1")][_0x4962("0xd68")]=c[_0x4962("0xe26")],x[_0x4962("0x1")].Facility=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0x3d4")]=c[_0x4962("0xe26")],x[_0x4962("0x1")].Lifts=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0x326")]="",x[_0x4962("0x1")][_0x4962("0xee3")]="",x[_0x4962("0x1")][_0x4962("0x3de")]="",x.prototype.other2="",x[_0x4962("0xb")]=function(_){return new x(_)},x.encode=function(x,_){if(_||(_=o[_0x4962("0xb")]()),null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x[_0x4962("0xcbb")]&&x.hasOwnProperty("floornum")&&_[_0x4962("0x5c4")](16).int32(x.floornum),null!=x[_0x4962("0xea9")]&&x[_0x4962("0x2")]("floornumtext")&&_[_0x4962("0x5c4")](24)[_0x4962("0x5c5")](x[_0x4962("0xea9")]),null!=x[_0x4962("0x107")]&&x.hasOwnProperty(_0x4962("0x107"))&&_[_0x4962("0x5c4")](34)[_0x4962("0xd")](x[_0x4962("0x107")]),null!=x[_0x4962("0xb73")]&&x[_0x4962("0x2")](_0x4962("0xb73"))&&_[_0x4962("0x5c4")](42)[_0x4962("0xd")](x[_0x4962("0xb73")]),null!=x.AS&&x[_0x4962("0x2")]("AS")&&_.uint32(49).double(x.AS),null!=x[_0x4962("0x313")]&&x[_0x4962("0x2")]("Height")&&_[_0x4962("0x5c4")](56)[_0x4962("0x5c5")](x[_0x4962("0x313")]),null!=x[_0x4962("0xb29")]&&x[_0x4962("0x2")](_0x4962("0xb29"))&&_[_0x4962("0x5c4")](64)[_0x4962("0x5c5")](x.Elevation),null!=x[_0x4962("0xd6e")]&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&_[_0x4962("0x5c4")](74)[_0x4962("0xd")](x[_0x4962("0xd6e")]),null!=x[_0x4962("0xee4")]&&x[_0x4962("0x2")]("Alias")&&_[_0x4962("0x5c4")](82).string(x[_0x4962("0xee4")]),null!=x[_0x4962("0xd68")]&&x.hasOwnProperty(_0x4962("0xd68")))for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](90)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x33")].RoomSet.encode(x[_0x4962("0xd68")][e[t]],_[_0x4962("0x5c4")](18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]().ldelim();if(null!=x[_0x4962("0xe9f")]&&x[_0x4962("0x2")](_0x4962("0xe9f")))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xe9f")]),t=0;t<e[_0x4962("0x0")];++t)_.uint32(98)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8).int32(e[t]),l.ESMap.POISet[_0x4962("0xe27")](x.Facility[e[t]],_.uint32(18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();if(null!=x[_0x4962("0x3d4")]&&x[_0x4962("0x2")](_0x4962("0x3d4")))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]),t=0;t<e[_0x4962("0x0")];++t)_.uint32(106)[_0x4962("0xe28")]().uint32(8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x33")].POISet[_0x4962("0xe27")](x[_0x4962("0x3d4")][e[t]],_.uint32(18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();if(null!=x[_0x4962("0xea1")]&&x[_0x4962("0x2")]("Lifts"))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xea1")]),t=0;t<e.length;++t)_[_0x4962("0x5c4")](114).fork()[_0x4962("0x5c4")](8).int32(e[t]),l[_0x4962("0x33")].LiftSet[_0x4962("0xe27")](x[_0x4962("0xea1")][e[t]],_.uint32(18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]().ldelim();return null!=x[_0x4962("0x326")]&&x.hasOwnProperty("image")&&_[_0x4962("0x5c4")](122)[_0x4962("0xd")](x[_0x4962("0x326")]),null!=x[_0x4962("0xee3")]&&x.hasOwnProperty(_0x4962("0xee3"))&&_[_0x4962("0x5c4")](130)[_0x4962("0xd")](x.imagesize),null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_[_0x4962("0x5c4")](138)[_0x4962("0xd")](x[_0x4962("0x3de")]),null!=x.other2&&x[_0x4962("0x2")]("other2")&&_[_0x4962("0x5c4")](146)[_0x4962("0xd")](x[_0x4962("0x5ce")]),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x.decode=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e,t=void 0===_?x.len:x[_0x4962("0x428")]+_,i=new(l.ESMap[_0x4962("0xec8")]);x[_0x4962("0x428")]<t;){var a=x.uint32();switch(a>>>3){case 1:i[_0x4962("0x3df")]=x.int32();break;case 2:i[_0x4962("0xcbb")]=x[_0x4962("0x5c5")]();break;case 3:i[_0x4962("0xea9")]=x.int32();break;case 4:i[_0x4962("0x107")]=x[_0x4962("0xd")]();break;case 5:i[_0x4962("0xb73")]=x[_0x4962("0xd")]();break;case 6:i.AS=x.double();break;case 7:i.Height=x[_0x4962("0x5c5")]();break;case 8:i[_0x4962("0xb29")]=x[_0x4962("0x5c5")]();break;case 9:i[_0x4962("0xd6e")]=x[_0x4962("0xd")]();break;case 10:i[_0x4962("0xee4")]=x.string();break;case 11:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i[_0x4962("0xd68")]===c[_0x4962("0xe26")]&&(i[_0x4962("0xd68")]={}),e=x[_0x4962("0x5c5")](),x.pos++,i[_0x4962("0xd68")][e]=l[_0x4962("0x33")][_0x4962("0xe29")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]());break;case 12:x.skip().pos++,i[_0x4962("0xe9f")]===c.emptyObject&&(i[_0x4962("0xe9f")]={}),e=x.int32(),x.pos++,i[_0x4962("0xe9f")][e]=l[_0x4962("0x33")][_0x4962("0xe2d")].decode(x,x[_0x4962("0x5c4")]());break;case 13:x[_0x4962("0xe2c")]().pos++,i.Labels===c.emptyObject&&(i.Labels={}),e=x[_0x4962("0x5c5")](),x[_0x4962("0x428")]++,i[_0x4962("0x3d4")][e]=l[_0x4962("0x33")][_0x4962("0xe2d")][_0x4962("0x4b")](x,x.uint32());break;case 14:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i.Lifts===c[_0x4962("0xe26")]&&(i[_0x4962("0xea1")]={}),e=x[_0x4962("0x5c5")](),x.pos++,i.Lifts[e]=l[_0x4962("0x33")][_0x4962("0xee5")].decode(x,x[_0x4962("0x5c4")]());break;case 15:i[_0x4962("0x326")]=x[_0x4962("0xd")]();break;case 16:i[_0x4962("0xee3")]=x.string();break;case 17:i[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;case 18:i.other2=x[_0x4962("0xd")]();break;default:x.skipType(7&a)}}return i},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x.verify=function(x){if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t.default)(x))!==_0x4962("0x9")||null===x)return _0x4962("0x5d6");if(null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")]))return _0x4962("0x5dc");if(null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")](_0x4962("0xcbb"))&&!c[_0x4962("0x5db")](x[_0x4962("0xcbb")]))return _0x4962("0xee6");if(null!=x[_0x4962("0xea9")]&&x[_0x4962("0x2")](_0x4962("0xea9"))&&!c.isInteger(x[_0x4962("0xea9")]))return _0x4962("0xee7");if(null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")]("name")&&!c.isString(x[_0x4962("0x107")]))return"name: string expected";if(null!=x[_0x4962("0xb73")]&&x[_0x4962("0x2")](_0x4962("0xb73"))&&!c[_0x4962("0x36d")](x.NameEn))return _0x4962("0xee8");if(null!=x.AS&&x.hasOwnProperty("AS")&&typeof x.AS!==_0x4962("0x18a"))return _0x4962("0xece");if(null!=x[_0x4962("0x313")]&&x.hasOwnProperty(_0x4962("0x313"))&&!c.isInteger(x.Height))return _0x4962("0xee9");if(null!=x[_0x4962("0xb29")]&&x[_0x4962("0x2")](_0x4962("0xb29"))&&!c[_0x4962("0x5db")](x.Elevation))return"Elevation: integer expected";if(null!=x[_0x4962("0xd6e")]&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&!c[_0x4962("0x36d")](x[_0x4962("0xd6e")]))return _0x4962("0xeea");if(null!=x[_0x4962("0xee4")]&&x[_0x4962("0x2")](_0x4962("0xee4"))&&!c.isString(x[_0x4962("0xee4")]))return"Alias: string expected";if(null!=x[_0x4962("0xd68")]&&x[_0x4962("0x2")]("Rooms")){if(!c[_0x4962("0x19")](x.Rooms))return"Rooms: object expected";for(var _=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe35");if(a=l[_0x4962("0x33")][_0x4962("0xe29")].verify(x[_0x4962("0xd68")][_[e]]))return"Rooms."+a}}if(null!=x[_0x4962("0xe9f")]&&x.hasOwnProperty(_0x4962("0xe9f"))){if(!c[_0x4962("0x19")](x.Facility))return _0x4962("0xeeb");for(_=(0,i[_0x4962("0xc")])(x.Facility),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xeec");if(a=l[_0x4962("0x33")][_0x4962("0xe2d")].verify(x[_0x4962("0xe9f")][_[e]]))return"Facility."+a}}if(null!=x[_0x4962("0x3d4")]&&x[_0x4962("0x2")](_0x4962("0x3d4"))){if(!c[_0x4962("0x19")](x[_0x4962("0x3d4")]))return _0x4962("0xe36");for(_=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe37");if(a=l[_0x4962("0x33")][_0x4962("0xe2d")][_0x4962("0xe2e")](x.Labels[_[e]]))return _0x4962("0xeed")+a}}if(null!=x[_0x4962("0xea1")]&&x[_0x4962("0x2")](_0x4962("0xea1"))){if(!c.isObject(x[_0x4962("0xea1")]))return"Lifts: object expected";for(_=(0,i[_0x4962("0xc")])(x[_0x4962("0xea1")]),e=0;e<_.length;++e){if(!c[_0x4962("0xe34")].test(_[e]))return _0x4962("0xeee");var a;if(a=l[_0x4962("0x33")].LiftSet.verify(x[_0x4962("0xea1")][_[e]]))return _0x4962("0xeef")+a}}return null!=x[_0x4962("0x326")]&&x.hasOwnProperty(_0x4962("0x326"))&&!c[_0x4962("0x36d")](x.image)?_0x4962("0xe64"):null!=x[_0x4962("0xee3")]&&x[_0x4962("0x2")](_0x4962("0xee3"))&&!c[_0x4962("0x36d")](x[_0x4962("0xee3")])?_0x4962("0xef0"):null!=x[_0x4962("0x3de")]&&x.hasOwnProperty("other1")&&!c[_0x4962("0x36d")](x.other1)?_0x4962("0x5f4"):null!=x.other2&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&!c.isString(x[_0x4962("0x5ce")])?_0x4962("0x5f5"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")][_0x4962("0xec8")])return x;var _=new(l[_0x4962("0x33")][_0x4962("0xec8")]);if(null!=x._id&&(_[_0x4962("0x3df")]=0|x._id),null!=x[_0x4962("0xcbb")]&&(_.floornum=0|x[_0x4962("0xcbb")]),null!=x[_0x4962("0xea9")]&&(_[_0x4962("0xea9")]=0|x[_0x4962("0xea9")]),null!=x[_0x4962("0x107")]&&(_.name=String(x[_0x4962("0x107")])),null!=x.NameEn&&(_[_0x4962("0xb73")]=String(x[_0x4962("0xb73")])),null!=x.AS&&(_.AS=Number(x.AS)),null!=x.Height&&(_[_0x4962("0x313")]=0|x[_0x4962("0x313")]),null!=x[_0x4962("0xb29")]&&(_[_0x4962("0xb29")]=0|x[_0x4962("0xb29")]),null!=x[_0x4962("0xd6e")]&&(_[_0x4962("0xd6e")]=String(x[_0x4962("0xd6e")])),null!=x[_0x4962("0xee4")]&&(_[_0x4962("0xee4")]=String(x.Alias)),x[_0x4962("0xd68")]){if((0,t[_0x4962("0xc")])(x.Rooms)!==_0x4962("0x9"))throw TypeError(_0x4962("0xef1"));_[_0x4962("0xd68")]={};for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd68")]),a=0;a<e[_0x4962("0x0")];++a){if((0,t.default)(x[_0x4962("0xd68")][e[a]])!==_0x4962("0x9"))throw TypeError(".ESMap.FloorSet.Rooms: object expected");_[_0x4962("0xd68")][e[a]]=l[_0x4962("0x33")].RoomSet[_0x4962("0x5fd")](x.Rooms[e[a]])}}if(x[_0x4962("0xe9f")]){if((0,t[_0x4962("0xc")])(x.Facility)!==_0x4962("0x9"))throw TypeError(".ESMap.FloorSet.Facility: object expected");for(_[_0x4962("0xe9f")]={},e=(0,i[_0x4962("0xc")])(x.Facility),a=0;a<e[_0x4962("0x0")];++a){if("object"!==(0,t[_0x4962("0xc")])(x[_0x4962("0xe9f")][e[a]]))throw TypeError(_0x4962("0xef2"));_[_0x4962("0xe9f")][e[a]]=l.ESMap[_0x4962("0xe2d")][_0x4962("0x5fd")](x[_0x4962("0xe9f")][e[a]])}}if(x.Labels){if((0,t[_0x4962("0xc")])(x[_0x4962("0x3d4")])!==_0x4962("0x9"))throw TypeError(_0x4962("0xef3"));for(_[_0x4962("0x3d4")]={},e=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]),a=0;a<e[_0x4962("0x0")];++a){if((0,t[_0x4962("0xc")])(x[_0x4962("0x3d4")][e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xef3"));_[_0x4962("0x3d4")][e[a]]=l[_0x4962("0x33")].POISet[_0x4962("0x5fd")](x.Labels[e[a]])}}if(x.Lifts){if((0,t.default)(x.Lifts)!==_0x4962("0x9"))throw TypeError(_0x4962("0xef4"));for(_[_0x4962("0xea1")]={},e=(0,i[_0x4962("0xc")])(x[_0x4962("0xea1")]),a=0;a<e.length;++a){if((0,t.default)(x[_0x4962("0xea1")][e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xef4"));_[_0x4962("0xea1")][e[a]]=l[_0x4962("0x33")][_0x4962("0xee5")][_0x4962("0x5fd")](x.Lifts[e[a]])}}return null!=x[_0x4962("0x326")]&&(_.image=String(x[_0x4962("0x326")])),null!=x[_0x4962("0xee3")]&&(_[_0x4962("0xee3")]=String(x.imagesize)),null!=x[_0x4962("0x3de")]&&(_.other1=String(x.other1)),null!=x[_0x4962("0x5ce")]&&(_[_0x4962("0x5ce")]=String(x[_0x4962("0x5ce")])),_},x[_0x4962("0x2bf")]=x.fromObject,x[_0x4962("0x602")]=function(x,_){_||(_={});var e,t={};if((_[_0x4962("0x748")]||_[_0x4962("0xe3b")])&&(t[_0x4962("0xd68")]={},t[_0x4962("0xe9f")]={},t[_0x4962("0x3d4")]={},t.Lifts={}),_[_0x4962("0xe3b")]&&(t[_0x4962("0x3df")]=0,t.floornum=0,t[_0x4962("0xea9")]=0,t[_0x4962("0x107")]="",t[_0x4962("0xb73")]="",t.AS=0,t[_0x4962("0x313")]=0,t[_0x4962("0xb29")]=0,t[_0x4962("0xd6e")]="",t[_0x4962("0xee4")]="",t[_0x4962("0x326")]="",t[_0x4962("0xee3")]="",t[_0x4962("0x3de")]="",t[_0x4962("0x5ce")]=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(t._id=x[_0x4962("0x3df")]),null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")]("floornum")&&(t[_0x4962("0xcbb")]=x[_0x4962("0xcbb")]),null!=x[_0x4962("0xea9")]&&x[_0x4962("0x2")](_0x4962("0xea9"))&&(t.floornumtext=x[_0x4962("0xea9")]),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&(t[_0x4962("0x107")]=x[_0x4962("0x107")]),null!=x[_0x4962("0xb73")]&&x.hasOwnProperty("NameEn")&&(t[_0x4962("0xb73")]=x[_0x4962("0xb73")]),null!=x.AS&&x[_0x4962("0x2")]("AS")&&(t.AS=x.AS),null!=x[_0x4962("0x313")]&&x.hasOwnProperty(_0x4962("0x313"))&&(t.Height=x[_0x4962("0x313")]),null!=x[_0x4962("0xb29")]&&x[_0x4962("0x2")](_0x4962("0xb29"))&&(t[_0x4962("0xb29")]=x[_0x4962("0xb29")]),null!=x.Outline&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&(t[_0x4962("0xd6e")]=x[_0x4962("0xd6e")]),null!=x[_0x4962("0xee4")]&&x.hasOwnProperty(_0x4962("0xee4"))&&(t[_0x4962("0xee4")]=x[_0x4962("0xee4")]),x[_0x4962("0xd68")]&&(e=(0,i.default)(x[_0x4962("0xd68")]))[_0x4962("0x0")]){t[_0x4962("0xd68")]={};for(var a=0;a<e.length;++a)t[_0x4962("0xd68")][e[a]]=l[_0x4962("0x33")].RoomSet[_0x4962("0x602")](x[_0x4962("0xd68")][e[a]],_)}if(x.Facility&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xe9f")]))[_0x4962("0x0")])for(t[_0x4962("0xe9f")]={},a=0;a<e[_0x4962("0x0")];++a)t[_0x4962("0xe9f")][e[a]]=l.ESMap[_0x4962("0xe2d")][_0x4962("0x602")](x[_0x4962("0xe9f")][e[a]],_);if(x[_0x4962("0x3d4")]&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0x3d4")]))[_0x4962("0x0")])for(t[_0x4962("0x3d4")]={},a=0;a<e.length;++a)t.Labels[e[a]]=l.ESMap[_0x4962("0xe2d")][_0x4962("0x602")](x.Labels[e[a]],_);if(x[_0x4962("0xea1")]&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xea1")]))[_0x4962("0x0")])for(t[_0x4962("0xea1")]={},a=0;a<e.length;++a)t[_0x4962("0xea1")][e[a]]=l[_0x4962("0x33")][_0x4962("0xee5")].toObject(x[_0x4962("0xea1")][e[a]],_);return null!=x[_0x4962("0x326")]&&x[_0x4962("0x2")](_0x4962("0x326"))&&(t[_0x4962("0x326")]=x.image),null!=x[_0x4962("0xee3")]&&x[_0x4962("0x2")](_0x4962("0xee3"))&&(t[_0x4962("0xee3")]=x.imagesize),null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&(t[_0x4962("0x3de")]=x[_0x4962("0x3de")]),null!=x[_0x4962("0x5ce")]&&x[_0x4962("0x2")](_0x4962("0x5ce"))&&(t.other2=x.other2),t},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this.constructor[_0x4962("0x602")](this,x)},x.prototype.toJSON=function(){return this.constructor.toObject(this,r.util[_0x4962("0x605")])},x}(),n[_0x4962("0xe29")]=function(){function x(x){if(x)for(var _=(0,i.default)(x),e=0;e<_.length;++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0x107")]="",x[_0x4962("0x1")].NameEn="",x[_0x4962("0x1")][_0x4962("0xe97")]="",x[_0x4962("0x1")][_0x4962("0x3f5")]=0,x.prototype.RL="",x.prototype[_0x4962("0xd70")]="",x[_0x4962("0x1")].BC=0,x[_0x4962("0x1")].RC="",x[_0x4962("0x1")].RH=0,x[_0x4962("0x1")].RM="",x[_0x4962("0x1")][_0x4962("0xca5")]="",x[_0x4962("0x1")][_0x4962("0xca6")]="",x[_0x4962("0x1")].RMO="",x.prototype.RS=0,x[_0x4962("0x1")].SL=0,x[_0x4962("0x1")][_0x4962("0xca7")]=0,x[_0x4962("0x1")].CenY=0,x.prototype.AS=0,x[_0x4962("0x1")][_0x4962("0xd6e")]="",x[_0x4962("0x1")][_0x4962("0xef5")]=0,x[_0x4962("0x1")][_0x4962("0xef6")]=0,x[_0x4962("0x1")].FS=0,x[_0x4962("0x1")].FC="",x[_0x4962("0x1")][_0x4962("0x3de")]="",x.create=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0x3df")]&&x.hasOwnProperty("_id")&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x.name&&x[_0x4962("0x2")]("name")&&_[_0x4962("0x5c4")](18)[_0x4962("0xd")](x.name),null!=x[_0x4962("0xb73")]&&x[_0x4962("0x2")](_0x4962("0xb73"))&&_.uint32(26)[_0x4962("0xd")](x[_0x4962("0xb73")]),null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")](_0x4962("0xe97"))&&_[_0x4962("0x5c4")](34)[_0x4962("0xd")](x[_0x4962("0xe97")]),null!=x[_0x4962("0x3f5")]&&x.hasOwnProperty(_0x4962("0x3f5"))&&_[_0x4962("0x5c4")](40)[_0x4962("0x5c5")](x[_0x4962("0x3f5")]),null!=x.RL&&x[_0x4962("0x2")]("RL")&&_[_0x4962("0x5c4")](50).string(x.RL),null!=x[_0x4962("0xd70")]&&x[_0x4962("0x2")](_0x4962("0xd70"))&&_[_0x4962("0x5c4")](58)[_0x4962("0xd")](x.RLSize),null!=x.BC&&x[_0x4962("0x2")]("BC")&&_[_0x4962("0x5c4")](64)[_0x4962("0x5c5")](x.BC),null!=x.RC&&x.hasOwnProperty("RC")&&_[_0x4962("0x5c4")](74)[_0x4962("0xd")](x.RC),null!=x.RH&&x[_0x4962("0x2")]("RH")&&_[_0x4962("0x5c4")](81).double(x.RH),null!=x.RM&&x[_0x4962("0x2")]("RM")&&_[_0x4962("0x5c4")](90)[_0x4962("0xd")](x.RM),null!=x[_0x4962("0xca5")]&&x[_0x4962("0x2")](_0x4962("0xca5"))&&_[_0x4962("0x5c4")](98)[_0x4962("0xd")](x[_0x4962("0xca5")]),null!=x[_0x4962("0xca6")]&&x[_0x4962("0x2")](_0x4962("0xca6"))&&_[_0x4962("0x5c4")](106).string(x.RMR),null!=x[_0x4962("0xca9")]&&x[_0x4962("0x2")](_0x4962("0xca9"))&&_[_0x4962("0x5c4")](114)[_0x4962("0xd")](x[_0x4962("0xca9")]),null!=x.RS&&x[_0x4962("0x2")]("RS")&&_[_0x4962("0x5c4")](120)[_0x4962("0x5c5")](x.RS),null!=x.SL&&x[_0x4962("0x2")]("SL")&&_[_0x4962("0x5c4")](128)[_0x4962("0x5c5")](x.SL),null!=x.CenX&&x[_0x4962("0x2")](_0x4962("0xca7"))&&_[_0x4962("0x5c4")](137)[_0x4962("0x5c8")](x[_0x4962("0xca7")]),null!=x.CenY&&x.hasOwnProperty(_0x4962("0xca8"))&&_.uint32(145)[_0x4962("0x5c8")](x[_0x4962("0xca8")]),null!=x.AS&&x[_0x4962("0x2")]("AS")&&_.uint32(153)[_0x4962("0x5c8")](x.AS),null!=x.Outline&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&_[_0x4962("0x5c4")](162)[_0x4962("0xd")](x[_0x4962("0xd6e")]),null!=x[_0x4962("0xef5")]&&x[_0x4962("0x2")](_0x4962("0xef5"))&&_[_0x4962("0x5c4")](168)[_0x4962("0x5c5")](x[_0x4962("0xef5")]),null!=x.ShopID&&x[_0x4962("0x2")](_0x4962("0xef6"))&&_[_0x4962("0x5c4")](176)[_0x4962("0x5c5")](x[_0x4962("0xef6")]),null!=x.FS&&x[_0x4962("0x2")]("FS")&&_[_0x4962("0x5c4")](184)[_0x4962("0x5c5")](x.FS),null!=x.FC&&x[_0x4962("0x2")]("FC")&&_[_0x4962("0x5c4")](194)[_0x4962("0xd")](x.FC),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_.uint32(202)[_0x4962("0xd")](x.other1),_},x[_0x4962("0x5d2")]=function(x,_){return this.encode(x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s.create(x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l.ESMap[_0x4962("0xe29")]);x.pos<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x.int32();break;case 2:t[_0x4962("0x107")]=x[_0x4962("0xd")]();break;case 3:t[_0x4962("0xb73")]=x[_0x4962("0xd")]();break;case 4:t[_0x4962("0xe97")]=x[_0x4962("0xd")]();break;case 5:t[_0x4962("0x3f5")]=x.int32();break;case 6:t.RL=x[_0x4962("0xd")]();break;case 7:t[_0x4962("0xd70")]=x[_0x4962("0xd")]();break;case 8:t.BC=x[_0x4962("0x5c5")]();break;case 9:t.RC=x[_0x4962("0xd")]();break;case 10:t.RH=x[_0x4962("0x5c8")]();break;case 11:t.RM=x[_0x4962("0xd")]();break;case 12:t[_0x4962("0xca5")]=x.string();break;case 13:t.RMR=x[_0x4962("0xd")]();break;case 14:t[_0x4962("0xca9")]=x[_0x4962("0xd")]();break;case 15:t.RS=x[_0x4962("0x5c5")]();break;case 16:t.SL=x.int32();break;case 17:t[_0x4962("0xca7")]=x.double();break;case 18:t[_0x4962("0xca8")]=x[_0x4962("0x5c8")]();break;case 19:t.AS=x[_0x4962("0x5c8")]();break;case 20:t[_0x4962("0xd6e")]=x.string();break;case 21:t[_0x4962("0xef5")]=x[_0x4962("0x5c5")]();break;case 22:t[_0x4962("0xef6")]=x.int32();break;case 23:t.FS=x[_0x4962("0x5c5")]();break;case 24:t.FC=x[_0x4962("0xd")]();break;case 25:t[_0x4962("0x3de")]=x.string();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x.uint32())},x[_0x4962("0xe2e")]=function(x){return(void 0===x?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?"object expected":null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x._id)?_0x4962("0x5dc"):null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")]("name")&&!c[_0x4962("0x36d")](x[_0x4962("0x107")])?_0x4962("0x5dd"):null!=x[_0x4962("0xb73")]&&x.hasOwnProperty(_0x4962("0xb73"))&&!c[_0x4962("0x36d")](x[_0x4962("0xb73")])?_0x4962("0xee8"):null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")](_0x4962("0xe97"))&&!c[_0x4962("0x36d")](x[_0x4962("0xe97")])?_0x4962("0xecd"):null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3f5")])?"Tid: integer expected":null!=x.RL&&x[_0x4962("0x2")]("RL")&&!c[_0x4962("0x36d")](x.RL)?_0x4962("0xef7"):null!=x[_0x4962("0xd70")]&&x[_0x4962("0x2")](_0x4962("0xd70"))&&!c[_0x4962("0x36d")](x[_0x4962("0xd70")])?_0x4962("0xe4a"):null!=x.BC&&x[_0x4962("0x2")]("BC")&&!c[_0x4962("0x5db")](x.BC)?_0x4962("0xe4b"):null!=x.RC&&x[_0x4962("0x2")]("RC")&&!c[_0x4962("0x36d")](x.RC)?"RC: string expected":null!=x.RH&&x[_0x4962("0x2")]("RH")&&typeof x.RH!==_0x4962("0x18a")?"RH: number expected":null!=x.RM&&x.hasOwnProperty("RM")&&!c[_0x4962("0x36d")](x.RM)?_0x4962("0xe4d"):null!=x[_0x4962("0xca5")]&&x[_0x4962("0x2")](_0x4962("0xca5"))&&!c[_0x4962("0x36d")](x[_0x4962("0xca5")])?_0x4962("0xe4e"):null!=x.RMR&&x[_0x4962("0x2")]("RMR")&&!c[_0x4962("0x36d")](x[_0x4962("0xca6")])?_0x4962("0xe4f"):null!=x[_0x4962("0xca9")]&&x[_0x4962("0x2")](_0x4962("0xca9"))&&!c[_0x4962("0x36d")](x.RMO)?_0x4962("0xe50"):null!=x.RS&&x[_0x4962("0x2")]("RS")&&!c[_0x4962("0x5db")](x.RS)?_0x4962("0xe51"):null!=x.SL&&x[_0x4962("0x2")]("SL")&&!c.isInteger(x.SL)?_0x4962("0xe62"):null!=x[_0x4962("0xca7")]&&x[_0x4962("0x2")]("CenX")&&"number"!=typeof x[_0x4962("0xca7")]?_0x4962("0xef8"):null!=x[_0x4962("0xca8")]&&x[_0x4962("0x2")](_0x4962("0xca8"))&&typeof x[_0x4962("0xca8")]!==_0x4962("0x18a")?_0x4962("0xe52"):null!=x.AS&&x[_0x4962("0x2")]("AS")&&typeof x.AS!==_0x4962("0x18a")?_0x4962("0xece"):null!=x[_0x4962("0xd6e")]&&x[_0x4962("0x2")](_0x4962("0xd6e"))&&!c[_0x4962("0x36d")](x[_0x4962("0xd6e")])?_0x4962("0xeea"):null!=x[_0x4962("0xef5")]&&x[_0x4962("0x2")](_0x4962("0xef5"))&&!c[_0x4962("0x5db")](x[_0x4962("0xef5")])?_0x4962("0xef9"):null!=x[_0x4962("0xef6")]&&x[_0x4962("0x2")]("ShopID")&&!c[_0x4962("0x5db")](x[_0x4962("0xef6")])?_0x4962("0xefa"):null!=x.FS&&x[_0x4962("0x2")]("FS")&&!c[_0x4962("0x5db")](x.FS)?_0x4962("0xefb"):null!=x.FC&&x.hasOwnProperty("FC")&&!c.isString(x.FC)?_0x4962("0xefc"):null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null},x.fromObject=function(x){if(x instanceof l.ESMap[_0x4962("0xe29")])return x;var _=new(l[_0x4962("0x33")][_0x4962("0xe29")]);return null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&(_[_0x4962("0x107")]=String(x[_0x4962("0x107")])),null!=x[_0x4962("0xb73")]&&(_[_0x4962("0xb73")]=String(x.NameEn)),null!=x[_0x4962("0xe97")]&&(_[_0x4962("0xe97")]=String(x.Brief)),null!=x[_0x4962("0x3f5")]&&(_[_0x4962("0x3f5")]=0|x[_0x4962("0x3f5")]),null!=x.RL&&(_.RL=String(x.RL)),null!=x[_0x4962("0xd70")]&&(_[_0x4962("0xd70")]=String(x[_0x4962("0xd70")])),null!=x.BC&&(_.BC=0|x.BC),null!=x.RC&&(_.RC=String(x.RC)),null!=x.RH&&(_.RH=Number(x.RH)),null!=x.RM&&(_.RM=String(x.RM)),null!=x[_0x4962("0xca5")]&&(_[_0x4962("0xca5")]=String(x[_0x4962("0xca5")])),null!=x.RMR&&(_[_0x4962("0xca6")]=String(x[_0x4962("0xca6")])),null!=x.RMO&&(_[_0x4962("0xca9")]=String(x.RMO)),null!=x.RS&&(_.RS=0|x.RS),null!=x.SL&&(_.SL=0|x.SL),null!=x.CenX&&(_[_0x4962("0xca7")]=Number(x.CenX)),null!=x[_0x4962("0xca8")]&&(_[_0x4962("0xca8")]=Number(x.CenY)),null!=x.AS&&(_.AS=Number(x.AS)),null!=x.Outline&&(_[_0x4962("0xd6e")]=String(x[_0x4962("0xd6e")])),null!=x[_0x4962("0xef5")]&&(_[_0x4962("0xef5")]=0|x[_0x4962("0xef5")]),null!=x.ShopID&&(_.ShopID=0|x[_0x4962("0xef6")]),null!=x.FS&&(_.FS=0|x.FS),null!=x.FC&&(_.FC=String(x.FC)),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x.toObject=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e[_0x4962("0x3df")]=0,e[_0x4962("0x107")]="",e[_0x4962("0xb73")]="",e[_0x4962("0xe97")]="",e[_0x4962("0x3f5")]=0,e.RL="",e[_0x4962("0xd70")]="",e.BC=0,e.RC="",e.RH=0,e.RM="",e.RMS="",e[_0x4962("0xca6")]="",e[_0x4962("0xca9")]="",e.RS=0,e.SL=0,e[_0x4962("0xca7")]=0,e.CenY=0,e.AS=0,e[_0x4962("0xd6e")]="",e[_0x4962("0xef5")]=0,e[_0x4962("0xef6")]=0,e.FS=0,e.FC="",e[_0x4962("0x3de")]=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")]("name")&&(e[_0x4962("0x107")]=x[_0x4962("0x107")]),null!=x[_0x4962("0xb73")]&&x[_0x4962("0x2")](_0x4962("0xb73"))&&(e[_0x4962("0xb73")]=x[_0x4962("0xb73")]),null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")]("Brief")&&(e.Brief=x[_0x4962("0xe97")]),null!=x[_0x4962("0x3f5")]&&x.hasOwnProperty(_0x4962("0x3f5"))&&(e[_0x4962("0x3f5")]=x.Tid),null!=x.RL&&x[_0x4962("0x2")]("RL")&&(e.RL=x.RL),null!=x.RLSize&&x[_0x4962("0x2")](_0x4962("0xd70"))&&(e[_0x4962("0xd70")]=x[_0x4962("0xd70")]),null!=x.BC&&x[_0x4962("0x2")]("BC")&&(e.BC=x.BC),null!=x.RC&&x[_0x4962("0x2")]("RC")&&(e.RC=x.RC),null!=x.RH&&x.hasOwnProperty("RH")&&(e.RH=x.RH),null!=x.RM&&x.hasOwnProperty("RM")&&(e.RM=x.RM),null!=x[_0x4962("0xca5")]&&x[_0x4962("0x2")](_0x4962("0xca5"))&&(e[_0x4962("0xca5")]=x[_0x4962("0xca5")]),null!=x[_0x4962("0xca6")]&&x[_0x4962("0x2")](_0x4962("0xca6"))&&(e[_0x4962("0xca6")]=x[_0x4962("0xca6")]),null!=x.RMO&&x.hasOwnProperty("RMO")&&(e[_0x4962("0xca9")]=x[_0x4962("0xca9")]),null!=x.RS&&x.hasOwnProperty("RS")&&(e.RS=x.RS),null!=x.SL&&x.hasOwnProperty("SL")&&(e.SL=x.SL),null!=x[_0x4962("0xca7")]&&x.hasOwnProperty(_0x4962("0xca7"))&&(e[_0x4962("0xca7")]=x[_0x4962("0xca7")]),null!=x[_0x4962("0xca8")]&&x.hasOwnProperty(_0x4962("0xca8"))&&(e[_0x4962("0xca8")]=x[_0x4962("0xca8")]),null!=x.AS&&x.hasOwnProperty("AS")&&(e.AS=x.AS),null!=x.Outline&&x.hasOwnProperty(_0x4962("0xd6e"))&&(e[_0x4962("0xd6e")]=x[_0x4962("0xd6e")]),null!=x.PointID&&x[_0x4962("0x2")]("PointID")&&(e.PointID=x[_0x4962("0xef5")]),null!=x[_0x4962("0xef6")]&&x[_0x4962("0x2")](_0x4962("0xef6"))&&(e[_0x4962("0xef6")]=x[_0x4962("0xef6")]),null!=x.FS&&x.hasOwnProperty("FS")&&(e.FS=x.FS),null!=x.FC&&x[_0x4962("0x2")]("FC")&&(e.FC=x.FC),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x[_0x4962("0x3de")]),e},x.prototype[_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r.util[_0x4962("0x605")])},x}(),n[_0x4962("0xe2d")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")]._id=0,x[_0x4962("0x1")].name="",x[_0x4962("0x1")][_0x4962("0xb73")]="",x[_0x4962("0x1")].Brief="",x[_0x4962("0x1")].Tid=0,x[_0x4962("0x1")].X=0,x[_0x4962("0x1")].Y=0,x.prototype.SL=0,x[_0x4962("0x1")].SH=0,x.prototype.w=0,x.prototype.h=0,x[_0x4962("0x1")][_0x4962("0x326")]="",x.prototype[_0x4962("0xe5d")]=0,x[_0x4962("0x1")][_0x4962("0x3de")]="",x.prototype[_0x4962("0x3dd")]=0,x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_.uint32(8).int32(x[_0x4962("0x3df")]),null!=x.name&&x[_0x4962("0x2")](_0x4962("0x107"))&&_[_0x4962("0x5c4")](18)[_0x4962("0xd")](x.name),null!=x[_0x4962("0xb73")]&&x.hasOwnProperty(_0x4962("0xb73"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x[_0x4962("0xb73")]),null!=x.Brief&&x[_0x4962("0x2")](_0x4962("0xe97"))&&_.uint32(34).string(x[_0x4962("0xe97")]),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&_.uint32(40)[_0x4962("0x5c5")](x.Tid),null!=x.X&&x[_0x4962("0x2")]("X")&&_[_0x4962("0x5c4")](49).double(x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&_[_0x4962("0x5c4")](57)[_0x4962("0x5c8")](x.Y),null!=x.SL&&x[_0x4962("0x2")]("SL")&&_[_0x4962("0x5c4")](64)[_0x4962("0x5c5")](x.SL),null!=x.SH&&x[_0x4962("0x2")]("SH")&&_[_0x4962("0x5c4")](77)[_0x4962("0x333")](x.SH),null!=x.w&&x[_0x4962("0x2")]("w")&&_[_0x4962("0x5c4")](85)[_0x4962("0x333")](x.w),null!=x.h&&x[_0x4962("0x2")]("h")&&_[_0x4962("0x5c4")](93).float(x.h),null!=x[_0x4962("0x326")]&&x.hasOwnProperty("image")&&_[_0x4962("0x5c4")](98)[_0x4962("0xd")](x.image),null!=x[_0x4962("0xe5d")]&&x[_0x4962("0x2")](_0x4962("0xe5d"))&&_[_0x4962("0x5c4")](104)[_0x4962("0x5c5")](x[_0x4962("0xe5d")]),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_[_0x4962("0x5c4")](114)[_0x4962("0xd")](x[_0x4962("0x3de")]),null!=x.ipos&&x[_0x4962("0x2")](_0x4962("0x3dd"))&&_[_0x4962("0x5c4")](120)[_0x4962("0x5c5")](x[_0x4962("0x3dd")]),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x.pos+_,t=new(l[_0x4962("0x33")][_0x4962("0xe2d")]);x[_0x4962("0x428")]<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t.name=x[_0x4962("0xd")]();break;case 3:t[_0x4962("0xb73")]=x[_0x4962("0xd")]();break;case 4:t[_0x4962("0xe97")]=x.string();break;case 5:t[_0x4962("0x3f5")]=x[_0x4962("0x5c5")]();break;case 6:t.X=x[_0x4962("0x5c8")]();break;case 7:t.Y=x[_0x4962("0x5c8")]();break;case 8:t.SL=x[_0x4962("0x5c5")]();break;case 9:t.SH=x[_0x4962("0x333")]();break;case 10:t.w=x[_0x4962("0x333")]();break;case 11:t.h=x[_0x4962("0x333")]();break;case 12:t[_0x4962("0x326")]=x[_0x4962("0xd")]();break;case 13:t[_0x4962("0xe5d")]=x.int32();break;case 14:t[_0x4962("0x3de")]=x.string();break;case 15:t[_0x4962("0x3dd")]=x.int32();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x.uint32())},x[_0x4962("0xe2e")]=function(x){return(void 0===x?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&!c[_0x4962("0x36d")](x[_0x4962("0x107")])?"name: string expected":null!=x[_0x4962("0xb73")]&&x.hasOwnProperty(_0x4962("0xb73"))&&!c[_0x4962("0x36d")](x[_0x4962("0xb73")])?_0x4962("0xee8"):null!=x[_0x4962("0xe97")]&&x[_0x4962("0x2")](_0x4962("0xe97"))&&!c[_0x4962("0x36d")](x[_0x4962("0xe97")])?_0x4962("0xecd"):null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&!c[_0x4962("0x5db")](x.Tid)?_0x4962("0xe49"):null!=x.X&&x[_0x4962("0x2")]("X")&&"number"!=typeof x.X?_0x4962("0xe60"):null!=x.Y&&x[_0x4962("0x2")]("Y")&&typeof x.Y!==_0x4962("0x18a")?"Y: number expected":null!=x.SL&&x[_0x4962("0x2")]("SL")&&!c[_0x4962("0x5db")](x.SL)?_0x4962("0xe62"):null!=x.SH&&x[_0x4962("0x2")]("SH")&&typeof x.SH!==_0x4962("0x18a")?_0x4962("0xe63"):null!=x.w&&x.hasOwnProperty("w")&&"number"!=typeof x.w?_0x4962("0xefd"):null!=x.h&&x[_0x4962("0x2")]("h")&&typeof x.h!==_0x4962("0x18a")?_0x4962("0xefe"):null!=x[_0x4962("0x326")]&&x.hasOwnProperty(_0x4962("0x326"))&&!c[_0x4962("0x36d")](x[_0x4962("0x326")])?_0x4962("0xe64"):null!=x.FSId&&x[_0x4962("0x2")](_0x4962("0xe5d"))&&!c[_0x4962("0x5db")](x.FSId)?_0x4962("0xeff"):null!=x[_0x4962("0x3de")]&&x.hasOwnProperty(_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null!=x.ipos&&x.hasOwnProperty(_0x4962("0x3dd"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3dd")])?_0x4962("0xe65"):null},x.fromObject=function(x){if(x instanceof l[_0x4962("0x33")].POISet)return x;var _=new(l[_0x4962("0x33")].POISet);return null!=x[_0x4962("0x3df")]&&(_._id=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&(_[_0x4962("0x107")]=String(x[_0x4962("0x107")])),null!=x[_0x4962("0xb73")]&&(_[_0x4962("0xb73")]=String(x.NameEn)),null!=x.Brief&&(_[_0x4962("0xe97")]=String(x[_0x4962("0xe97")])),null!=x[_0x4962("0x3f5")]&&(_[_0x4962("0x3f5")]=0|x[_0x4962("0x3f5")]),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),null!=x.SL&&(_.SL=0|x.SL),null!=x.SH&&(_.SH=Number(x.SH)),null!=x.w&&(_.w=Number(x.w)),null!=x.h&&(_.h=Number(x.h)),null!=x[_0x4962("0x326")]&&(_[_0x4962("0x326")]=String(x[_0x4962("0x326")])),null!=x[_0x4962("0xe5d")]&&(_[_0x4962("0xe5d")]=0|x[_0x4962("0xe5d")]),null!=x[_0x4962("0x3de")]&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),null!=x[_0x4962("0x3dd")]&&(_[_0x4962("0x3dd")]=0|x.ipos),_},x[_0x4962("0x2bf")]=x.fromObject,x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e[_0x4962("0x3df")]=0,e[_0x4962("0x107")]="",e[_0x4962("0xb73")]="",e[_0x4962("0xe97")]="",e[_0x4962("0x3f5")]=0,e.X=0,e.Y=0,e.SL=0,e.SH=0,e.w=0,e.h=0,e[_0x4962("0x326")]="",e[_0x4962("0xe5d")]=0,e[_0x4962("0x3de")]="",e.ipos=0),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&x.hasOwnProperty(_0x4962("0x107"))&&(e[_0x4962("0x107")]=x[_0x4962("0x107")]),null!=x[_0x4962("0xb73")]&&x[_0x4962("0x2")](_0x4962("0xb73"))&&(e[_0x4962("0xb73")]=x[_0x4962("0xb73")]),null!=x.Brief&&x.hasOwnProperty(_0x4962("0xe97"))&&(e.Brief=x[_0x4962("0xe97")]),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&(e.Tid=x[_0x4962("0x3f5")]),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&(e.Y=x.Y),null!=x.SL&&x[_0x4962("0x2")]("SL")&&(e.SL=x.SL),null!=x.SH&&x.hasOwnProperty("SH")&&(e.SH=x.SH),null!=x.w&&x[_0x4962("0x2")]("w")&&(e.w=x.w),null!=x.h&&x[_0x4962("0x2")]("h")&&(e.h=x.h),null!=x.image&&x[_0x4962("0x2")](_0x4962("0x326"))&&(e[_0x4962("0x326")]=x[_0x4962("0x326")]),null!=x[_0x4962("0xe5d")]&&x.hasOwnProperty(_0x4962("0xe5d"))&&(e.FSId=x.FSId),null!=x.other1&&x[_0x4962("0x2")](_0x4962("0x3de"))&&(e[_0x4962("0x3de")]=x.other1),null!=x[_0x4962("0x3dd")]&&x[_0x4962("0x2")](_0x4962("0x3dd"))&&(e[_0x4962("0x3dd")]=x[_0x4962("0x3dd")]),e},x.prototype[_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")].toObject(this,r[_0x4962("0x5af")].toJSONOptions)},x}(),n[_0x4962("0xee5")]=function(){function x(x){if(x)for(var _=(0,i.default)(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x.prototype[_0x4962("0x107")]="",x[_0x4962("0x1")][_0x4962("0x3f5")]=0,x.prototype.F1=0,x[_0x4962("0x1")].F2=0,x[_0x4962("0x1")].ST=0,x.prototype.LT=0,x[_0x4962("0x1")].LH=0,x[_0x4962("0x1")].LM="",x[_0x4962("0x1")].LS="",x[_0x4962("0x1")].LR="",x[_0x4962("0x1")].LO="",x.prototype.X1=0,x[_0x4962("0x1")].X2=0,x[_0x4962("0x1")].Y1=0,x[_0x4962("0x1")].Y2=0,x[_0x4962("0x1")].O1="",x.prototype.O2="",x[_0x4962("0x1")][_0x4962("0x3de")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x._id),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&_.uint32(18)[_0x4962("0xd")](x[_0x4962("0x107")]),null!=x[_0x4962("0x3f5")]&&x.hasOwnProperty("Tid")&&_[_0x4962("0x5c4")](24).int32(x.Tid),null!=x.F1&&x[_0x4962("0x2")]("F1")&&_[_0x4962("0x5c4")](32)[_0x4962("0x5c5")](x.F1),null!=x.F2&&x.hasOwnProperty("F2")&&_[_0x4962("0x5c4")](40)[_0x4962("0x5c5")](x.F2),null!=x.ST&&x.hasOwnProperty("ST")&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x.ST),null!=x.LT&&x[_0x4962("0x2")]("LT")&&_[_0x4962("0x5c4")](56)[_0x4962("0x5c5")](x.LT),null!=x.LH&&x[_0x4962("0x2")]("LH")&&_[_0x4962("0x5c4")](64).int32(x.LH),null!=x.LM&&x[_0x4962("0x2")]("LM")&&_[_0x4962("0x5c4")](74)[_0x4962("0xd")](x.LM),null!=x.LS&&x[_0x4962("0x2")]("LS")&&_[_0x4962("0x5c4")](82).string(x.LS),null!=x.LR&&x[_0x4962("0x2")]("LR")&&_[_0x4962("0x5c4")](90)[_0x4962("0xd")](x.LR),null!=x.LO&&x[_0x4962("0x2")]("LO")&&_[_0x4962("0x5c4")](98)[_0x4962("0xd")](x.LO),null!=x.X1&&x[_0x4962("0x2")]("X1")&&_[_0x4962("0x5c4")](105).double(x.X1),null!=x.X2&&x[_0x4962("0x2")]("X2")&&_[_0x4962("0x5c4")](113)[_0x4962("0x5c8")](x.X2),null!=x.Y1&&x[_0x4962("0x2")]("Y1")&&_[_0x4962("0x5c4")](121).double(x.Y1),null!=x.Y2&&x[_0x4962("0x2")]("Y2")&&_[_0x4962("0x5c4")](129).double(x.Y2),null!=x.O1&&x[_0x4962("0x2")]("O1")&&_.uint32(138)[_0x4962("0xd")](x.O1),null!=x.O2&&x[_0x4962("0x2")]("O2")&&_.uint32(146)[_0x4962("0xd")](x.O2),null!=x[_0x4962("0x3de")]&&x[_0x4962("0x2")](_0x4962("0x3de"))&&_[_0x4962("0x5c4")](154)[_0x4962("0xd")](x[_0x4962("0x3de")]),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x.decode=function(x,_){x instanceof s||(x=s.create(x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x33")][_0x4962("0xee5")]);x.pos<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t[_0x4962("0x107")]=x.string();break;case 3:t[_0x4962("0x3f5")]=x[_0x4962("0x5c5")]();break;case 4:t.F1=x[_0x4962("0x5c5")]();break;case 5:t.F2=x.int32();break;case 6:t.ST=x.int32();break;case 7:t.LT=x.int32();break;case 8:t.LH=x[_0x4962("0x5c5")]();break;case 9:t.LM=x[_0x4962("0xd")]();break;case 10:t.LS=x.string();break;case 11:t.LR=x[_0x4962("0xd")]();break;case 12:t.LO=x[_0x4962("0xd")]();break;case 13:t.X1=x[_0x4962("0x5c8")]();break;case 14:t.X2=x[_0x4962("0x5c8")]();break;case 15:t.Y1=x[_0x4962("0x5c8")]();break;case 16:t.Y2=x[_0x4962("0x5c8")]();break;case 17:t.O1=x[_0x4962("0xd")]();break;case 18:t.O2=x[_0x4962("0xd")]();break;case 19:t[_0x4962("0x3de")]=x[_0x4962("0xd")]();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){return"object"!==(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t.default)(x))||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x[_0x4962("0x107")]&&x.hasOwnProperty(_0x4962("0x107"))&&!c[_0x4962("0x36d")](x[_0x4962("0x107")])?_0x4962("0x5dd"):null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3f5")])?"Tid: integer expected":null!=x.F1&&x[_0x4962("0x2")]("F1")&&!c[_0x4962("0x5db")](x.F1)?_0x4962("0xf00"):null!=x.F2&&x[_0x4962("0x2")]("F2")&&!c[_0x4962("0x5db")](x.F2)?_0x4962("0xf01"):null!=x.ST&&x.hasOwnProperty("ST")&&!c[_0x4962("0x5db")](x.ST)?"ST: integer expected":null!=x.LT&&x[_0x4962("0x2")]("LT")&&!c.isInteger(x.LT)?_0x4962("0xf02"):null!=x.LH&&x[_0x4962("0x2")]("LH")&&!c[_0x4962("0x5db")](x.LH)?"LH: integer expected":null!=x.LM&&x[_0x4962("0x2")]("LM")&&!c[_0x4962("0x36d")](x.LM)?_0x4962("0xf03"):null!=x.LS&&x[_0x4962("0x2")]("LS")&&!c.isString(x.LS)?_0x4962("0xf04"):null!=x.LR&&x.hasOwnProperty("LR")&&!c.isString(x.LR)?_0x4962("0xf05"):null!=x.LO&&x[_0x4962("0x2")]("LO")&&!c.isString(x.LO)?"LO: string expected":null!=x.X1&&x[_0x4962("0x2")]("X1")&&typeof x.X1!==_0x4962("0x18a")?_0x4962("0xf06"):null!=x.X2&&x[_0x4962("0x2")]("X2")&&typeof x.X2!==_0x4962("0x18a")?"X2: number expected":null!=x.Y1&&x[_0x4962("0x2")]("Y1")&&typeof x.Y1!==_0x4962("0x18a")?_0x4962("0xf07"):null!=x.Y2&&x.hasOwnProperty("Y2")&&typeof x.Y2!==_0x4962("0x18a")?_0x4962("0xf08"):null!=x.O1&&x[_0x4962("0x2")]("O1")&&!c[_0x4962("0x36d")](x.O1)?"O1: string expected":null!=x.O2&&x[_0x4962("0x2")]("O2")&&!c.isString(x.O2)?"O2: string expected":null!=x.other1&&x.hasOwnProperty(_0x4962("0x3de"))&&!c[_0x4962("0x36d")](x[_0x4962("0x3de")])?_0x4962("0x5f4"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")].LiftSet)return x;var _=new(l[_0x4962("0x33")][_0x4962("0xee5")]);return null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&(_.name=String(x[_0x4962("0x107")])),null!=x[_0x4962("0x3f5")]&&(_[_0x4962("0x3f5")]=0|x.Tid),null!=x.F1&&(_.F1=0|x.F1),null!=x.F2&&(_.F2=0|x.F2),null!=x.ST&&(_.ST=0|x.ST),null!=x.LT&&(_.LT=0|x.LT),null!=x.LH&&(_.LH=0|x.LH),null!=x.LM&&(_.LM=String(x.LM)),null!=x.LS&&(_.LS=String(x.LS)),null!=x.LR&&(_.LR=String(x.LR)),null!=x.LO&&(_.LO=String(x.LO)),null!=x.X1&&(_.X1=Number(x.X1)),null!=x.X2&&(_.X2=Number(x.X2)),null!=x.Y1&&(_.Y1=Number(x.Y1)),null!=x.Y2&&(_.Y2=Number(x.Y2)),null!=x.O1&&(_.O1=String(x.O1)),null!=x.O2&&(_.O2=String(x.O2)),null!=x.other1&&(_[_0x4962("0x3de")]=String(x[_0x4962("0x3de")])),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _.defaults&&(e[_0x4962("0x3df")]=0,e[_0x4962("0x107")]="",e.Tid=0,e.F1=0,e.F2=0,e.ST=0,e.LT=0,e.LH=0,e.LM="",e.LS="",e.LR="",e.LO="",e.X1=0,e.X2=0,e.Y1=0,e.Y2=0,e.O1="",e.O2="",e[_0x4962("0x3de")]=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0x107")]&&x[_0x4962("0x2")](_0x4962("0x107"))&&(e[_0x4962("0x107")]=x[_0x4962("0x107")]),null!=x[_0x4962("0x3f5")]&&x[_0x4962("0x2")](_0x4962("0x3f5"))&&(e[_0x4962("0x3f5")]=x.Tid),null!=x.F1&&x.hasOwnProperty("F1")&&(e.F1=x.F1),null!=x.F2&&x.hasOwnProperty("F2")&&(e.F2=x.F2),null!=x.ST&&x[_0x4962("0x2")]("ST")&&(e.ST=x.ST),null!=x.LT&&x.hasOwnProperty("LT")&&(e.LT=x.LT),null!=x.LH&&x[_0x4962("0x2")]("LH")&&(e.LH=x.LH),null!=x.LM&&x[_0x4962("0x2")]("LM")&&(e.LM=x.LM),null!=x.LS&&x[_0x4962("0x2")]("LS")&&(e.LS=x.LS),null!=x.LR&&x[_0x4962("0x2")]("LR")&&(e.LR=x.LR),null!=x.LO&&x[_0x4962("0x2")]("LO")&&(e.LO=x.LO),null!=x.X1&&x[_0x4962("0x2")]("X1")&&(e.X1=x.X1),null!=x.X2&&x[_0x4962("0x2")]("X2")&&(e.X2=x.X2),null!=x.Y1&&x[_0x4962("0x2")]("Y1")&&(e.Y1=x.Y1),null!=x.Y2&&x[_0x4962("0x2")]("Y2")&&(e.Y2=x.Y2),null!=x.O1&&x[_0x4962("0x2")]("O1")&&(e.O1=x.O1),null!=x.O2&&x[_0x4962("0x2")]("O2")&&(e.O2=x.O2),null!=x[_0x4962("0x3de")]&&x.hasOwnProperty("other1")&&(e.other1=x[_0x4962("0x3de")]),e},x.prototype[_0x4962("0x602")]=function(x){return this[_0x4962("0x604")].toObject(this,x)},x[_0x4962("0x1")].toJSON=function(){return this[_0x4962("0x604")].toObject(this,r[_0x4962("0x5af")].toJSONOptions)},x}(),n[_0x4962("0xeca")]=function(){function x(x){if(this[_0x4962("0xd4d")]={},this[_0x4962("0xd4b")]={},x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_.length;++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0xcbb")]=0,x.prototype[_0x4962("0xd4d")]=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0xd4b")]=c[_0x4962("0xe26")],x[_0x4962("0xb")]=function(_){return new x(_)},x.encode=function(x,_){if(_||(_=o.create()),null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")](_0x4962("0xcbb"))&&_.uint32(8)[_0x4962("0x5c5")](x[_0x4962("0xcbb")]),null!=x[_0x4962("0xd4d")]&&x[_0x4962("0x2")](_0x4962("0xd4d")))for(var e=(0,i[_0x4962("0xc")])(x.Nodes),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](18)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](e[t]),l[_0x4962("0x33")][_0x4962("0xe68")].encode(x[_0x4962("0xd4d")][e[t]],_[_0x4962("0x5c4")](18).fork()).ldelim().ldelim();if(null!=x[_0x4962("0xd4b")]&&x.hasOwnProperty("Lines"))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]),t=0;t<e[_0x4962("0x0")];++t)_.uint32(26).fork()[_0x4962("0x5c4")](8).int32(e[t]),l[_0x4962("0x33")][_0x4962("0xe69")][_0x4962("0xe27")](x[_0x4962("0xd4b")][e[t]],_.uint32(18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();return _},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e,t=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,i=new(l[_0x4962("0x33")][_0x4962("0xeca")]);x[_0x4962("0x428")]<t;){var a=x[_0x4962("0x5c4")]();switch(a>>>3){case 1:i.floornum=x[_0x4962("0x5c5")]();break;case 2:x.skip()[_0x4962("0x428")]++,i[_0x4962("0xd4d")]===c[_0x4962("0xe26")]&&(i[_0x4962("0xd4d")]={}),e=x.int32(),x[_0x4962("0x428")]++,i.Nodes[e]=l.ESMap[_0x4962("0xe68")].decode(x,x[_0x4962("0x5c4")]());break;case 3:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i[_0x4962("0xd4b")]===c[_0x4962("0xe26")]&&(i[_0x4962("0xd4b")]={}),e=x[_0x4962("0x5c5")](),x[_0x4962("0x428")]++,i[_0x4962("0xd4b")][e]=l[_0x4962("0x33")][_0x4962("0xe69")].decode(x,x.uint32());break;default:x[_0x4962("0x5d3")](7&a)}}return i},x.decodeDelimited=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x)return _0x4962("0x5d6");if(null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")](_0x4962("0xcbb"))&&!c[_0x4962("0x5db")](x[_0x4962("0xcbb")]))return _0x4962("0xee6");if(null!=x[_0x4962("0xd4d")]&&x.hasOwnProperty(_0x4962("0xd4d"))){if(!c[_0x4962("0x19")](x[_0x4962("0xd4d")]))return _0x4962("0xe6a");for(var _=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]),e=0;e<_[_0x4962("0x0")];++e){if(!c.key32Re.test(_[e]))return _0x4962("0xe6b");if(a=l[_0x4962("0x33")].NavNodeSet.verify(x[_0x4962("0xd4d")][_[e]]))return"Nodes."+a}}if(null!=x[_0x4962("0xd4b")]&&x[_0x4962("0x2")]("Lines")){if(!c[_0x4962("0x19")](x[_0x4962("0xd4b")]))return _0x4962("0xf09");for(_=(0,i[_0x4962("0xc")])(x.Lines),e=0;e<_.length;++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xe6d");var a;if(a=l[_0x4962("0x33")][_0x4962("0xe69")].verify(x[_0x4962("0xd4b")][_[e]]))return"Lines."+a}}return null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")][_0x4962("0xeca")])return x;var _=new(l[_0x4962("0x33")][_0x4962("0xeca")]);if(null!=x[_0x4962("0xcbb")]&&(_[_0x4962("0xcbb")]=0|x[_0x4962("0xcbb")]),x[_0x4962("0xd4d")]){if((0,t.default)(x[_0x4962("0xd4d")])!==_0x4962("0x9"))throw TypeError(_0x4962("0xf0a"));_[_0x4962("0xd4d")]={};for(var e=(0,i[_0x4962("0xc")])(x.Nodes),a=0;a<e[_0x4962("0x0")];++a){if("object"!==(0,t.default)(x[_0x4962("0xd4d")][e[a]]))throw TypeError(_0x4962("0xf0a"));_[_0x4962("0xd4d")][e[a]]=l[_0x4962("0x33")][_0x4962("0xe68")][_0x4962("0x5fd")](x[_0x4962("0xd4d")][e[a]])}}if(x[_0x4962("0xd4b")]){if((0,t.default)(x.Lines)!==_0x4962("0x9"))throw TypeError(".ESMap.NavSet.Lines: object expected");for(_[_0x4962("0xd4b")]={},e=(0,i.default)(x.Lines),a=0;a<e[_0x4962("0x0")];++a){if((0,t[_0x4962("0xc")])(x.Lines[e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xf0b"));_.Lines[e[a]]=l[_0x4962("0x33")][_0x4962("0xe69")][_0x4962("0x5fd")](x[_0x4962("0xd4b")][e[a]])}}return _},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e,t={};if((_[_0x4962("0x748")]||_[_0x4962("0xe3b")])&&(t[_0x4962("0xd4d")]={},t.Lines={}),_[_0x4962("0xe3b")]&&(t[_0x4962("0xcbb")]=0),null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")]("floornum")&&(t[_0x4962("0xcbb")]=x[_0x4962("0xcbb")]),x[_0x4962("0xd4d")]&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]))[_0x4962("0x0")]){t[_0x4962("0xd4d")]={};for(var a=0;a<e[_0x4962("0x0")];++a)t[_0x4962("0xd4d")][e[a]]=l[_0x4962("0x33")][_0x4962("0xe68")].toObject(x[_0x4962("0xd4d")][e[a]],_)}if(x[_0x4962("0xd4b")]&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4b")]))[_0x4962("0x0")])for(t.Lines={},a=0;a<e[_0x4962("0x0")];++a)t[_0x4962("0xd4b")][e[a]]=l[_0x4962("0x33")][_0x4962("0xe69")][_0x4962("0x602")](x[_0x4962("0xd4b")][e[a]],_);return t},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this.constructor.toObject(this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r.util[_0x4962("0x605")])},x}(),n[_0x4962("0xe68")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0x88")]=0,x[_0x4962("0x1")][_0x4962("0xf0c")]=0,x[_0x4962("0x1")].X=0,x[_0x4962("0x1")].Y=0,x[_0x4962("0x1")][_0x4962("0xe72")]=0,x[_0x4962("0x1")].Z=0,x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x[_0x4962("0x88")]&&x[_0x4962("0x2")](_0x4962("0x88"))&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x[_0x4962("0x88")]),null!=x[_0x4962("0xf0c")]&&x.hasOwnProperty(_0x4962("0xf0c"))&&_.uint32(24)[_0x4962("0x5c5")](x[_0x4962("0xf0c")]),null!=x.X&&x[_0x4962("0x2")]("X")&&_.uint32(33)[_0x4962("0x5c8")](x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&_[_0x4962("0x5c4")](41)[_0x4962("0x5c8")](x.Y),null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")](_0x4962("0xe72"))&&_[_0x4962("0x5c4")](48)[_0x4962("0x5c5")](x[_0x4962("0xe72")]),null!=x.Z&&x[_0x4962("0x2")]("Z")&&_[_0x4962("0x5c4")](57)[_0x4962("0x5c8")](x.Z),_},x.encodeDelimited=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l.ESMap[_0x4962("0xe68")]);x[_0x4962("0x428")]<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t._id=x.int32();break;case 2:t.tid=x[_0x4962("0x5c5")]();break;case 3:t[_0x4962("0xf0c")]=x.int32();break;case 4:t.X=x[_0x4962("0x5c8")]();break;case 5:t.Y=x[_0x4962("0x5c8")]();break;case 6:t[_0x4962("0xe72")]=x[_0x4962("0x5c5")]();break;case 7:t.Z=x.double();break;default:x.skipType(7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){return"object"!==(typeof x===_0x4962("0x21")?"undefined":(0,t[_0x4962("0xc")])(x))||null===x?_0x4962("0x5d6"):null!=x._id&&x.hasOwnProperty("_id")&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x[_0x4962("0x88")]&&x.hasOwnProperty(_0x4962("0x88"))&&!c.isInteger(x.tid)?_0x4962("0xf0d"):null!=x[_0x4962("0xf0c")]&&x[_0x4962("0x2")](_0x4962("0xf0c"))&&!c[_0x4962("0x5db")](x.rid)?_0x4962("0xf0e"):null!=x.X&&x[_0x4962("0x2")]("X")&&typeof x.X!==_0x4962("0x18a")?_0x4962("0xe60"):null!=x.Y&&x.hasOwnProperty("Y")&&typeof x.Y!==_0x4962("0x18a")?"Y: number expected":null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")](_0x4962("0xe72"))&&!c[_0x4962("0x5db")](x[_0x4962("0xe72")])?_0x4962("0xe74"):null!=x.Z&&x.hasOwnProperty("Z")&&typeof x.Z!==_0x4962("0x18a")?"Z: number expected":null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")].NavNodeSet)return x;var _=new(l[_0x4962("0x33")][_0x4962("0xe68")]);return null!=x[_0x4962("0x3df")]&&(_._id=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x88")]&&(_.tid=0|x[_0x4962("0x88")]),null!=x[_0x4962("0xf0c")]&&(_[_0x4962("0xf0c")]=0|x[_0x4962("0xf0c")]),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),null!=x[_0x4962("0xe72")]&&(_.sid=0|x[_0x4962("0xe72")]),null!=x.Z&&(_.Z=Number(x.Z)),_},x.from=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e[_0x4962("0x3df")]=0,e[_0x4962("0x88")]=0,e[_0x4962("0xf0c")]=0,e.X=0,e.Y=0,e[_0x4962("0xe72")]=0,e.Z=0),null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0x88")]&&x.hasOwnProperty("tid")&&(e[_0x4962("0x88")]=x[_0x4962("0x88")]),null!=x.rid&&x.hasOwnProperty(_0x4962("0xf0c"))&&(e[_0x4962("0xf0c")]=x[_0x4962("0xf0c")]),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&(e.Y=x.Y),null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")](_0x4962("0xe72"))&&(e[_0x4962("0xe72")]=x[_0x4962("0xe72")]),null!=x.Z&&x[_0x4962("0x2")]("Z")&&(e.Z=x.Z),e},x.prototype.toObject=function(x){return this[_0x4962("0x604")].toObject(this,x)},x[_0x4962("0x1")].toJSON=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xe69")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0x3df")]=0,x[_0x4962("0x1")][_0x4962("0xe72")]=0,x[_0x4962("0x1")][_0x4962("0x5d0")]=0,x.prototype[_0x4962("0xf0f")]=0,x[_0x4962("0x1")][_0x4962("0x414")]=0,x[_0x4962("0x1")].length=0,x[_0x4962("0x1")][_0x4962("0x411")]="",x[_0x4962("0x1")][_0x4962("0xd4c")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")]("_id")&&_[_0x4962("0x5c4")](8)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x.sid&&x[_0x4962("0x2")](_0x4962("0xe72"))&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x.sid),null!=x[_0x4962("0x5d0")]&&x[_0x4962("0x2")](_0x4962("0x5d0"))&&_[_0x4962("0x5c4")](24)[_0x4962("0x5c5")](x[_0x4962("0x5d0")]),null!=x[_0x4962("0xf0f")]&&x[_0x4962("0x2")](_0x4962("0xf0f"))&&_.uint32(32)[_0x4962("0x5c5")](x[_0x4962("0xf0f")]),null!=x[_0x4962("0x414")]&&x[_0x4962("0x2")](_0x4962("0x414"))&&_[_0x4962("0x5c4")](40)[_0x4962("0x5c5")](x[_0x4962("0x414")]),null!=x[_0x4962("0x0")]&&x[_0x4962("0x2")](_0x4962("0x0"))&&_[_0x4962("0x5c4")](49)[_0x4962("0x5c8")](x[_0x4962("0x0")]),null!=x.direction&&x[_0x4962("0x2")]("direction")&&_[_0x4962("0x5c4")](58)[_0x4962("0xd")](x[_0x4962("0x411")]),null!=x[_0x4962("0xd4c")]&&x[_0x4962("0x2")]("bstair")&&_[_0x4962("0x5c4")](66)[_0x4962("0xd")](x.bstair),_},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x.len:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x33")][_0x4962("0xe69")]);x[_0x4962("0x428")]<e;){var i=x.uint32();switch(i>>>3){case 1:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 2:t.sid=x[_0x4962("0x5c5")]();break;case 3:t[_0x4962("0x5d0")]=x.int32();break;case 4:t[_0x4962("0xf0f")]=x[_0x4962("0x5c5")]();break;case 5:t[_0x4962("0x414")]=x[_0x4962("0x5c5")]();break;case 6:t.length=x[_0x4962("0x5c8")]();break;case 7:t[_0x4962("0x411")]=x[_0x4962("0xd")]();break;case 8:t[_0x4962("0xd4c")]=x[_0x4962("0xd")]();break;default:x[_0x4962("0x5d3")](7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this.decode(x,x[_0x4962("0x5c4")]())},x.verify=function(x){return"object"!==(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))||null===x?_0x4962("0x5d6"):null!=x._id&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x._id)?_0x4962("0x5dc"):null!=x[_0x4962("0xe72")]&&x[_0x4962("0x2")]("sid")&&!c[_0x4962("0x5db")](x[_0x4962("0xe72")])?_0x4962("0xe74"):null!=x[_0x4962("0x5d0")]&&x[_0x4962("0x2")](_0x4962("0x5d0"))&&!c[_0x4962("0x5db")](x.eid)?_0x4962("0xe77"):null!=x[_0x4962("0xf0f")]&&x[_0x4962("0x2")](_0x4962("0xf0f"))&&!c.isInteger(x[_0x4962("0xf0f")])?_0x4962("0xf10"):null!=x[_0x4962("0x414")]&&x[_0x4962("0x2")](_0x4962("0x414"))&&!c[_0x4962("0x5db")](x[_0x4962("0x414")])?_0x4962("0xe79"):null!=x[_0x4962("0x0")]&&x[_0x4962("0x2")](_0x4962("0x0"))&&typeof x[_0x4962("0x0")]!==_0x4962("0x18a")?_0x4962("0xf11"):null!=x.direction&&x[_0x4962("0x2")]("direction")&&!c[_0x4962("0x36d")](x[_0x4962("0x411")])?_0x4962("0xf12"):null!=x[_0x4962("0xd4c")]&&x[_0x4962("0x2")]("bstair")&&!c.isString(x[_0x4962("0xd4c")])?_0x4962("0xf13"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l.ESMap[_0x4962("0xe69")])return x;var _=new(l[_0x4962("0x33")].NavLineSet);return null!=x._id&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0xe72")]&&(_.sid=0|x[_0x4962("0xe72")]),null!=x[_0x4962("0x5d0")]&&(_[_0x4962("0x5d0")]=0|x[_0x4962("0x5d0")]),null!=x[_0x4962("0xf0f")]&&(_[_0x4962("0xf0f")]=0|x.efnum),null!=x[_0x4962("0x414")]&&(_[_0x4962("0x414")]=0|x[_0x4962("0x414")]),null!=x[_0x4962("0x0")]&&(_[_0x4962("0x0")]=Number(x.length)),null!=x[_0x4962("0x411")]&&(_[_0x4962("0x411")]=String(x.direction)),null!=x[_0x4962("0xd4c")]&&(_[_0x4962("0xd4c")]=String(x.bstair)),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e._id=0,e[_0x4962("0xe72")]=0,e[_0x4962("0x5d0")]=0,e[_0x4962("0xf0f")]=0,e[_0x4962("0x414")]=0,e[_0x4962("0x0")]=0,e[_0x4962("0x411")]="",e.bstair=""),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e._id=x[_0x4962("0x3df")]),null!=x.sid&&x[_0x4962("0x2")]("sid")&&(e.sid=x.sid),null!=x[_0x4962("0x5d0")]&&x.hasOwnProperty(_0x4962("0x5d0"))&&(e[_0x4962("0x5d0")]=x[_0x4962("0x5d0")]),null!=x[_0x4962("0xf0f")]&&x[_0x4962("0x2")](_0x4962("0xf0f"))&&(e.efnum=x[_0x4962("0xf0f")]),null!=x.rank&&x[_0x4962("0x2")](_0x4962("0x414"))&&(e.rank=x[_0x4962("0x414")]),null!=x[_0x4962("0x0")]&&x[_0x4962("0x2")]("length")&&(e[_0x4962("0x0")]=x.length),null!=x[_0x4962("0x411")]&&x.hasOwnProperty(_0x4962("0x411"))&&(e[_0x4962("0x411")]=x[_0x4962("0x411")]),null!=x[_0x4962("0xd4c")]&&x[_0x4962("0x2")]("bstair")&&(e[_0x4962("0xd4c")]=x.bstair),e},x.prototype[_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x.prototype[_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xec9")]=function(){function x(x){if(this[_0x4962("0xd4d")]={},this[_0x4962("0xf14")]={},x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0xf15")]="",x[_0x4962("0x1")].bgaudio="",x.prototype[_0x4962("0xf16")]=0,x[_0x4962("0x1")][_0x4962("0xf17")]="",x[_0x4962("0x1")][_0x4962("0xf18")]="",x[_0x4962("0x1")].Nodes=c[_0x4962("0xe26")],x[_0x4962("0x1")][_0x4962("0xf14")]=c[_0x4962("0xe26")],x.create=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){if(_||(_=o[_0x4962("0xb")]()),null!=x.serverurl&&x[_0x4962("0x2")]("serverurl")&&_.uint32(10)[_0x4962("0xd")](x[_0x4962("0xf15")]),null!=x[_0x4962("0xf19")]&&x[_0x4962("0x2")]("bgaudio")&&_[_0x4962("0x5c4")](18)[_0x4962("0xd")](x[_0x4962("0xf19")]),null!=x.bgaudioplay&&x[_0x4962("0x2")](_0x4962("0xf16"))&&_[_0x4962("0x5c4")](24)[_0x4962("0x5c5")](x[_0x4962("0xf16")]),null!=x[_0x4962("0xf17")]&&x[_0x4962("0x2")](_0x4962("0xf17"))&&_[_0x4962("0x5c4")](34).string(x[_0x4962("0xf17")]),null!=x[_0x4962("0xf18")]&&x[_0x4962("0x2")]("msgscale")&&_[_0x4962("0x5c4")](42)[_0x4962("0xd")](x[_0x4962("0xf18")]),null!=x[_0x4962("0xd4d")]&&x.hasOwnProperty(_0x4962("0xd4d")))for(var e=(0,i.default)(x[_0x4962("0xd4d")]),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](50)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8).int32(e[t]),l[_0x4962("0x33")].PicNodeSet[_0x4962("0xe27")](x.Nodes[e[t]],_.uint32(18)[_0x4962("0xe28")]())[_0x4962("0xe2a")]().ldelim();if(null!=x.Infos&&x.hasOwnProperty(_0x4962("0xf14")))for(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xf14")]),t=0;t<e[_0x4962("0x0")];++t)_[_0x4962("0x5c4")](58)[_0x4962("0xe28")]()[_0x4962("0x5c4")](8).int32(e[t]),l[_0x4962("0x33")][_0x4962("0xf1a")].encode(x[_0x4962("0xf14")][e[t]],_.uint32(18).fork())[_0x4962("0xe2a")]()[_0x4962("0xe2a")]();return _},x.encodeDelimited=function(x,_){return this.encode(x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e,t=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,i=new(l.ESMap[_0x4962("0xec9")]);x[_0x4962("0x428")]<t;){var a=x[_0x4962("0x5c4")]();switch(a>>>3){case 1:i.serverurl=x[_0x4962("0xd")]();break;case 2:i[_0x4962("0xf19")]=x[_0x4962("0xd")]();break;case 3:i.bgaudioplay=x[_0x4962("0x5c5")]();break;case 4:i[_0x4962("0xf17")]=x[_0x4962("0xd")]();break;case 5:i[_0x4962("0xf18")]=x[_0x4962("0xd")]();break;case 6:x[_0x4962("0xe2c")]()[_0x4962("0x428")]++,i[_0x4962("0xd4d")]===c[_0x4962("0xe26")]&&(i.Nodes={}),e=x.int32(),x[_0x4962("0x428")]++,i.Nodes[e]=l[_0x4962("0x33")][_0x4962("0xf1b")][_0x4962("0x4b")](x,x[_0x4962("0x5c4")]());break;case 7:x[_0x4962("0xe2c")]().pos++,i[_0x4962("0xf14")]===c.emptyObject&&(i[_0x4962("0xf14")]={}),e=x[_0x4962("0x5c5")](),x.pos++,i[_0x4962("0xf14")][e]=l[_0x4962("0x33")][_0x4962("0xf1a")].decode(x,x[_0x4962("0x5c4")]());break;default:x[_0x4962("0x5d3")](7&a)}}return i},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this.decode(x,x[_0x4962("0x5c4")]())},x.verify=function(x){if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t.default)(x))!==_0x4962("0x9")||null===x)return"object expected";if(null!=x[_0x4962("0xf15")]&&x.hasOwnProperty("serverurl")&&!c.isString(x[_0x4962("0xf15")]))return _0x4962("0xf1c");if(null!=x[_0x4962("0xf19")]&&x.hasOwnProperty("bgaudio")&&!c[_0x4962("0x36d")](x[_0x4962("0xf19")]))return _0x4962("0xf1d");if(null!=x[_0x4962("0xf16")]&&x[_0x4962("0x2")](_0x4962("0xf16"))&&!c[_0x4962("0x5db")](x[_0x4962("0xf16")]))return"bgaudioplay: integer expected";if(null!=x[_0x4962("0xf17")]&&x[_0x4962("0x2")](_0x4962("0xf17"))&&!c[_0x4962("0x36d")](x.picscale))return _0x4962("0xf1e");if(null!=x.msgscale&&x.hasOwnProperty(_0x4962("0xf18"))&&!c[_0x4962("0x36d")](x.msgscale))return _0x4962("0xf1f");if(null!=x[_0x4962("0xd4d")]&&x.hasOwnProperty(_0x4962("0xd4d"))){if(!c[_0x4962("0x19")](x[_0x4962("0xd4d")]))return _0x4962("0xe6a");for(var _=(0,i[_0x4962("0xc")])(x.Nodes),e=0;e<_[_0x4962("0x0")];++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return"Nodes: integer key{k:int32} expected";if(a=l[_0x4962("0x33")][_0x4962("0xf1b")][_0x4962("0xe2e")](x[_0x4962("0xd4d")][_[e]]))return"Nodes."+a}}if(null!=x[_0x4962("0xf14")]&&x[_0x4962("0x2")](_0x4962("0xf14"))){if(!c.isObject(x.Infos))return _0x4962("0xf20");for(_=(0,i[_0x4962("0xc")])(x[_0x4962("0xf14")]),e=0;e<_.length;++e){if(!c[_0x4962("0xe34")][_0x4962("0x2c")](_[e]))return _0x4962("0xf21");var a;if(a=l[_0x4962("0x33")][_0x4962("0xf1a")][_0x4962("0xe2e")](x[_0x4962("0xf14")][_[e]]))return _0x4962("0xf22")+a}}return null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")][_0x4962("0xec9")])return x;var _=new(l[_0x4962("0x33")][_0x4962("0xec9")]);if(null!=x[_0x4962("0xf15")]&&(_[_0x4962("0xf15")]=String(x.serverurl)),null!=x[_0x4962("0xf19")]&&(_[_0x4962("0xf19")]=String(x[_0x4962("0xf19")])),null!=x.bgaudioplay&&(_[_0x4962("0xf16")]=0|x[_0x4962("0xf16")]),null!=x[_0x4962("0xf17")]&&(_.picscale=String(x.picscale)),null!=x[_0x4962("0xf18")]&&(_[_0x4962("0xf18")]=String(x[_0x4962("0xf18")])),x[_0x4962("0xd4d")]){if("object"!==(0,t[_0x4962("0xc")])(x[_0x4962("0xd4d")]))throw TypeError(_0x4962("0xf23"));_[_0x4962("0xd4d")]={};for(var e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]),a=0;a<e[_0x4962("0x0")];++a){if((0,t[_0x4962("0xc")])(x.Nodes[e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xf23"));_[_0x4962("0xd4d")][e[a]]=l[_0x4962("0x33")][_0x4962("0xf1b")].fromObject(x.Nodes[e[a]])}}if(x[_0x4962("0xf14")]){if((0,t.default)(x.Infos)!==_0x4962("0x9"))throw TypeError(_0x4962("0xf24"));for(_[_0x4962("0xf14")]={},e=(0,i.default)(x[_0x4962("0xf14")]),a=0;a<e[_0x4962("0x0")];++a){if((0,t[_0x4962("0xc")])(x[_0x4962("0xf14")][e[a]])!==_0x4962("0x9"))throw TypeError(_0x4962("0xf24"));_[_0x4962("0xf14")][e[a]]=l.ESMap[_0x4962("0xf1a")].fromObject(x.Infos[e[a]])}}return _},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x.toObject=function(x,_){_||(_={});var e,t={};if((_[_0x4962("0x748")]||_.defaults)&&(t[_0x4962("0xd4d")]={},t[_0x4962("0xf14")]={}),_[_0x4962("0xe3b")]&&(t.serverurl="",t[_0x4962("0xf19")]="",t[_0x4962("0xf16")]=0,t.picscale="",t[_0x4962("0xf18")]=""),null!=x[_0x4962("0xf15")]&&x[_0x4962("0x2")](_0x4962("0xf15"))&&(t[_0x4962("0xf15")]=x[_0x4962("0xf15")]),null!=x[_0x4962("0xf19")]&&x[_0x4962("0x2")](_0x4962("0xf19"))&&(t[_0x4962("0xf19")]=x[_0x4962("0xf19")]),null!=x[_0x4962("0xf16")]&&x.hasOwnProperty(_0x4962("0xf16"))&&(t[_0x4962("0xf16")]=x.bgaudioplay),null!=x[_0x4962("0xf17")]&&x.hasOwnProperty("picscale")&&(t.picscale=x.picscale),null!=x.msgscale&&x[_0x4962("0x2")](_0x4962("0xf18"))&&(t.msgscale=x[_0x4962("0xf18")]),x.Nodes&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xd4d")]))[_0x4962("0x0")]){t.Nodes={};for(var a=0;a<e[_0x4962("0x0")];++a)t[_0x4962("0xd4d")][e[a]]=l[_0x4962("0x33")].PicNodeSet[_0x4962("0x602")](x.Nodes[e[a]],_)}if(x[_0x4962("0xf14")]&&(e=(0,i[_0x4962("0xc")])(x[_0x4962("0xf14")])).length)for(t.Infos={},a=0;a<e.length;++a)t[_0x4962("0xf14")][e[a]]=l[_0x4962("0x33")][_0x4962("0xf1a")][_0x4962("0x602")](x.Infos[e[a]],_);return t},x[_0x4962("0x1")][_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n[_0x4962("0xf1b")]=function(){function x(x){if(this.idlist1=[],this.idlist2=[],x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_.length;++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x.prototype[_0x4962("0xcbb")]=0,x[_0x4962("0x1")]._id=0,x[_0x4962("0x1")][_0x4962("0x4d")]="",x[_0x4962("0x1")][_0x4962("0xf25")]=0,x.prototype.X=0,x[_0x4962("0x1")].Y=0,x.prototype[_0x4962("0xf26")]=c[_0x4962("0xf27")],x[_0x4962("0x1")].idlist2=c.emptyArray,x[_0x4962("0xb")]=function(_){return new x(_)},x[_0x4962("0xe27")]=function(x,_){if(_||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")]("floornum")&&_[_0x4962("0x5c4")](8).int32(x[_0x4962("0xcbb")]),null!=x._id&&x.hasOwnProperty("_id")&&_[_0x4962("0x5c4")](16)[_0x4962("0x5c5")](x[_0x4962("0x3df")]),null!=x[_0x4962("0x4d")]&&x[_0x4962("0x2")](_0x4962("0x4d"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x[_0x4962("0x4d")]),null!=x[_0x4962("0xf25")]&&x[_0x4962("0x2")](_0x4962("0xf25"))&&_[_0x4962("0x5c4")](32).int32(x[_0x4962("0xf25")]),null!=x.X&&x.hasOwnProperty("X")&&_[_0x4962("0x5c4")](41).double(x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&_[_0x4962("0x5c4")](49)[_0x4962("0x5c8")](x.Y),null!=x[_0x4962("0xf26")]&&x[_0x4962("0xf26")][_0x4962("0x0")]){_[_0x4962("0x5c4")](58)[_0x4962("0xe28")]();for(var e=0;e<x[_0x4962("0xf26")][_0x4962("0x0")];++e)_[_0x4962("0x5c5")](x[_0x4962("0xf26")][e]);_[_0x4962("0xe2a")]()}if(null!=x[_0x4962("0xf28")]&&x[_0x4962("0xf28")][_0x4962("0x0")]){for(_[_0x4962("0x5c4")](66)[_0x4962("0xe28")](),e=0;e<x[_0x4962("0xf28")][_0x4962("0x0")];++e)_[_0x4962("0x5c5")](x[_0x4962("0xf28")][e]);_[_0x4962("0xe2a")]()}return _},x[_0x4962("0x5d2")]=function(x,_){return this[_0x4962("0xe27")](x,_)[_0x4962("0xe2a")]()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s[_0x4962("0xb")](x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x33")][_0x4962("0xf1b")]);x[_0x4962("0x428")]<e;){var i=x.uint32();switch(i>>>3){case 1:t[_0x4962("0xcbb")]=x.int32();break;case 2:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 3:t[_0x4962("0x4d")]=x.string();break;case 4:t[_0x4962("0xf25")]=x[_0x4962("0x5c5")]();break;case 5:t.X=x[_0x4962("0x5c8")]();break;case 6:t.Y=x.double();break;case 7:if(t[_0x4962("0xf26")]&&t[_0x4962("0xf26")][_0x4962("0x0")]||(t.idlist1=[]),2==(7&i))for(var a=x[_0x4962("0x5c4")]()+x[_0x4962("0x428")];x.pos<a;)t.idlist1.push(x[_0x4962("0x5c5")]());else t[_0x4962("0xf26")].push(x[_0x4962("0x5c5")]());break;case 8:if(t.idlist2&&t[_0x4962("0xf28")][_0x4962("0x0")]||(t[_0x4962("0xf28")]=[]),2==(7&i))for(a=x.uint32()+x.pos;x[_0x4962("0x428")]<a;)t[_0x4962("0xf28")][_0x4962("0x3")](x[_0x4962("0x5c5")]());else t.idlist2[_0x4962("0x3")](x[_0x4962("0x5c5")]());break;default:x[_0x4962("0x5d3")](7&i)}}return t},x.decodeDelimited=function(x){return x instanceof s||(x=s(x)),this.decode(x,x[_0x4962("0x5c4")]())},x.verify=function(x){if((void 0===x?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x)return _0x4962("0x5d6");if(null!=x[_0x4962("0xcbb")]&&x.hasOwnProperty(_0x4962("0xcbb"))&&!c.isInteger(x[_0x4962("0xcbb")]))return _0x4962("0xee6");if(null!=x[_0x4962("0x3df")]&&x.hasOwnProperty(_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")]))return"_id: integer expected";if(null!=x[_0x4962("0x4d")]&&x[_0x4962("0x2")](_0x4962("0x4d"))&&!c[_0x4962("0x36d")](x[_0x4962("0x4d")]))return _0x4962("0xf29");if(null!=x[_0x4962("0xf25")]&&x[_0x4962("0x2")](_0x4962("0xf25"))&&!c[_0x4962("0x5db")](x[_0x4962("0xf25")]))return _0x4962("0xf2a");if(null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x4962("0x18a"))return"X: number expected";if(null!=x.Y&&x[_0x4962("0x2")]("Y")&&typeof x.Y!==_0x4962("0x18a"))return _0x4962("0xe61");if(null!=x[_0x4962("0xf26")]&&x[_0x4962("0x2")](_0x4962("0xf26"))){if(!Array.isArray(x.idlist1))return _0x4962("0xf2b");for(var _=0;_<x[_0x4962("0xf26")][_0x4962("0x0")];++_)if(!c[_0x4962("0x5db")](x.idlist1[_]))return _0x4962("0xf2c")}if(null!=x[_0x4962("0xf28")]&&x[_0x4962("0x2")](_0x4962("0xf28"))){if(!Array[_0x4962("0x123")](x[_0x4962("0xf28")]))return _0x4962("0xf2d");for(_=0;_<x.idlist2[_0x4962("0x0")];++_)if(!c.isInteger(x[_0x4962("0xf28")][_]))return"idlist2: integer[] expected"}return null},x.fromObject=function(x){if(x instanceof l.ESMap[_0x4962("0xf1b")])return x;var _=new(l[_0x4962("0x33")].PicNodeSet);if(null!=x.floornum&&(_[_0x4962("0xcbb")]=0|x[_0x4962("0xcbb")]),null!=x._id&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0x4d")]&&(_.url=String(x.url)),null!=x[_0x4962("0xf25")]&&(_[_0x4962("0xf25")]=0|x[_0x4962("0xf25")]),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),x[_0x4962("0xf26")]){if(!Array[_0x4962("0x123")](x[_0x4962("0xf26")]))throw TypeError(_0x4962("0xf2e"));_[_0x4962("0xf26")]=[];for(var e=0;e<x[_0x4962("0xf26")][_0x4962("0x0")];++e)_[_0x4962("0xf26")][e]=0|x.idlist1[e]}if(x[_0x4962("0xf28")]){if(!Array[_0x4962("0x123")](x.idlist2))throw TypeError(_0x4962("0xf2f"));for(_[_0x4962("0xf28")]=[],e=0;e<x.idlist2.length;++e)_.idlist2[e]=0|x.idlist2[e]}return _},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};if((_.arrays||_[_0x4962("0xe3b")])&&(e[_0x4962("0xf26")]=[],e[_0x4962("0xf28")]=[]),_.defaults&&(e[_0x4962("0xcbb")]=0,e[_0x4962("0x3df")]=0,e[_0x4962("0x4d")]="",e[_0x4962("0xf25")]=0,e.X=0,e.Y=0),null!=x[_0x4962("0xcbb")]&&x.hasOwnProperty(_0x4962("0xcbb"))&&(e[_0x4962("0xcbb")]=x[_0x4962("0xcbb")]),null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x.url&&x[_0x4962("0x2")](_0x4962("0x4d"))&&(e.url=x.url),null!=x[_0x4962("0xf25")]&&x[_0x4962("0x2")](_0x4962("0xf25"))&&(e[_0x4962("0xf25")]=x[_0x4962("0xf25")]),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&(e.Y=x.Y),x[_0x4962("0xf26")]&&x[_0x4962("0xf26")][_0x4962("0x0")]){e[_0x4962("0xf26")]=[];for(var t=0;t<x[_0x4962("0xf26")].length;++t)e[_0x4962("0xf26")][t]=x[_0x4962("0xf26")][t]}if(x[_0x4962("0xf28")]&&x[_0x4962("0xf28")][_0x4962("0x0")])for(e[_0x4962("0xf28")]=[],t=0;t<x[_0x4962("0xf28")][_0x4962("0x0")];++t)e[_0x4962("0xf28")][t]=x[_0x4962("0xf28")][t];return e},x.prototype[_0x4962("0x602")]=function(x){return this[_0x4962("0x604")][_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this[_0x4962("0x604")][_0x4962("0x602")](this,r[_0x4962("0x5af")].toJSONOptions)},x}(),n[_0x4962("0xf1a")]=function(){function x(x){if(x)for(var _=(0,i[_0x4962("0xc")])(x),e=0;e<_[_0x4962("0x0")];++e)null!=x[_[e]]&&(this[_[e]]=x[_[e]])}return x[_0x4962("0x1")][_0x4962("0xcbb")]=0,x.prototype[_0x4962("0x3df")]=0,x[_0x4962("0x1")].purl="",x.prototype[_0x4962("0xf30")]="",x[_0x4962("0x1")].msgt="",x[_0x4962("0x1")][_0x4962("0xf31")]="",x[_0x4962("0x1")].X=0,x.prototype.Y=0,x[_0x4962("0x1")].Z=0,x.prototype[_0x4962("0xf32")]="",x.prototype[_0x4962("0xf33")]="",x[_0x4962("0xb")]=function(_){return new x(_)},x.encode=function(x,_){return _||(_=o[_0x4962("0xb")]()),null!=x[_0x4962("0xcbb")]&&x.hasOwnProperty(_0x4962("0xcbb"))&&_[_0x4962("0x5c4")](8).int32(x[_0x4962("0xcbb")]),null!=x[_0x4962("0x3df")]&&x.hasOwnProperty(_0x4962("0x3df"))&&_[_0x4962("0x5c4")](16).int32(x._id),null!=x[_0x4962("0xf34")]&&x[_0x4962("0x2")](_0x4962("0xf34"))&&_[_0x4962("0x5c4")](26)[_0x4962("0xd")](x[_0x4962("0xf34")]),null!=x[_0x4962("0xf30")]&&x.hasOwnProperty(_0x4962("0xf30"))&&_.uint32(34)[_0x4962("0xd")](x.aurl),null!=x[_0x4962("0xf35")]&&x[_0x4962("0x2")](_0x4962("0xf35"))&&_[_0x4962("0x5c4")](42)[_0x4962("0xd")](x[_0x4962("0xf35")]),null!=x[_0x4962("0xf31")]&&x[_0x4962("0x2")](_0x4962("0xf31"))&&_.uint32(50).string(x[_0x4962("0xf31")]),null!=x.X&&x[_0x4962("0x2")]("X")&&_.uint32(57).double(x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&_[_0x4962("0x5c4")](65)[_0x4962("0x5c8")](x.Y),null!=x.Z&&x.hasOwnProperty("Z")&&_[_0x4962("0x5c4")](73)[_0x4962("0x5c8")](x.Z),null!=x[_0x4962("0xf32")]&&x.hasOwnProperty("curl")&&_[_0x4962("0x5c4")](82).string(x[_0x4962("0xf32")]),null!=x[_0x4962("0xf33")]&&x[_0x4962("0x2")](_0x4962("0xf33"))&&_[_0x4962("0x5c4")](90).string(x[_0x4962("0xf33")]),_},x.encodeDelimited=function(x,_){return this[_0x4962("0xe27")](x,_).ldelim()},x[_0x4962("0x4b")]=function(x,_){x instanceof s||(x=s.create(x));for(var e=void 0===_?x[_0x4962("0xe2b")]:x[_0x4962("0x428")]+_,t=new(l[_0x4962("0x33")].PicClickSet);x.pos<e;){var i=x[_0x4962("0x5c4")]();switch(i>>>3){case 1:t[_0x4962("0xcbb")]=x[_0x4962("0x5c5")]();break;case 2:t[_0x4962("0x3df")]=x[_0x4962("0x5c5")]();break;case 3:t[_0x4962("0xf34")]=x[_0x4962("0xd")]();break;case 4:t[_0x4962("0xf30")]=x[_0x4962("0xd")]();break;case 5:t[_0x4962("0xf35")]=x[_0x4962("0xd")]();break;case 6:t.msgc=x.string();break;case 7:t.X=x[_0x4962("0x5c8")]();break;case 8:t.Y=x[_0x4962("0x5c8")]();break;case 9:t.Z=x[_0x4962("0x5c8")]();break;case 10:t[_0x4962("0xf32")]=x[_0x4962("0xd")]();break;case 11:t.csize=x[_0x4962("0xd")]();break;default:x.skipType(7&i)}}return t},x[_0x4962("0x5d5")]=function(x){return x instanceof s||(x=s(x)),this[_0x4962("0x4b")](x,x[_0x4962("0x5c4")]())},x[_0x4962("0xe2e")]=function(x){return(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))!==_0x4962("0x9")||null===x?_0x4962("0x5d6"):null!=x[_0x4962("0xcbb")]&&x[_0x4962("0x2")](_0x4962("0xcbb"))&&!c.isInteger(x[_0x4962("0xcbb")])?_0x4962("0xee6"):null!=x[_0x4962("0x3df")]&&x[_0x4962("0x2")](_0x4962("0x3df"))&&!c[_0x4962("0x5db")](x[_0x4962("0x3df")])?_0x4962("0x5dc"):null!=x[_0x4962("0xf34")]&&x[_0x4962("0x2")](_0x4962("0xf34"))&&!c[_0x4962("0x36d")](x[_0x4962("0xf34")])?_0x4962("0xf36"):null!=x[_0x4962("0xf30")]&&x[_0x4962("0x2")]("aurl")&&!c[_0x4962("0x36d")](x[_0x4962("0xf30")])?_0x4962("0xf37"):null!=x.msgt&&x[_0x4962("0x2")](_0x4962("0xf35"))&&!c.isString(x[_0x4962("0xf35")])?_0x4962("0xf38"):null!=x[_0x4962("0xf31")]&&x.hasOwnProperty("msgc")&&!c[_0x4962("0x36d")](x[_0x4962("0xf31")])?_0x4962("0xf39"):null!=x.X&&x.hasOwnProperty("X")&&typeof x.X!==_0x4962("0x18a")?"X: number expected":null!=x.Y&&x[_0x4962("0x2")]("Y")&&typeof x.Y!==_0x4962("0x18a")?_0x4962("0xe61"):null!=x.Z&&x[_0x4962("0x2")]("Z")&&typeof x.Z!==_0x4962("0x18a")?"Z: number expected":null!=x[_0x4962("0xf32")]&&x[_0x4962("0x2")](_0x4962("0xf32"))&&!c[_0x4962("0x36d")](x[_0x4962("0xf32")])?_0x4962("0xf3a"):null!=x[_0x4962("0xf33")]&&x[_0x4962("0x2")](_0x4962("0xf33"))&&!c.isString(x[_0x4962("0xf33")])?_0x4962("0xf3b"):null},x[_0x4962("0x5fd")]=function(x){if(x instanceof l[_0x4962("0x33")].PicClickSet)return x;var _=new(l[_0x4962("0x33")].PicClickSet);return null!=x[_0x4962("0xcbb")]&&(_[_0x4962("0xcbb")]=0|x[_0x4962("0xcbb")]),null!=x[_0x4962("0x3df")]&&(_[_0x4962("0x3df")]=0|x[_0x4962("0x3df")]),null!=x[_0x4962("0xf34")]&&(_[_0x4962("0xf34")]=String(x.purl)),null!=x.aurl&&(_[_0x4962("0xf30")]=String(x[_0x4962("0xf30")])),null!=x[_0x4962("0xf35")]&&(_[_0x4962("0xf35")]=String(x[_0x4962("0xf35")])),null!=x[_0x4962("0xf31")]&&(_[_0x4962("0xf31")]=String(x[_0x4962("0xf31")])),null!=x.X&&(_.X=Number(x.X)),null!=x.Y&&(_.Y=Number(x.Y)),null!=x.Z&&(_.Z=Number(x.Z)),null!=x[_0x4962("0xf32")]&&(_[_0x4962("0xf32")]=String(x[_0x4962("0xf32")])),null!=x[_0x4962("0xf33")]&&(_[_0x4962("0xf33")]=String(x[_0x4962("0xf33")])),_},x[_0x4962("0x2bf")]=x[_0x4962("0x5fd")],x[_0x4962("0x602")]=function(x,_){_||(_={});var e={};return _[_0x4962("0xe3b")]&&(e[_0x4962("0xcbb")]=0,e[_0x4962("0x3df")]=0,e[_0x4962("0xf34")]="",e[_0x4962("0xf30")]="",e[_0x4962("0xf35")]="",e[_0x4962("0xf31")]="",e.X=0,e.Y=0,e.Z=0,e[_0x4962("0xf32")]="",e.csize=""),null!=x.floornum&&x.hasOwnProperty(_0x4962("0xcbb"))&&(e[_0x4962("0xcbb")]=x[_0x4962("0xcbb")]),null!=x._id&&x[_0x4962("0x2")]("_id")&&(e[_0x4962("0x3df")]=x[_0x4962("0x3df")]),null!=x[_0x4962("0xf34")]&&x[_0x4962("0x2")]("purl")&&(e.purl=x[_0x4962("0xf34")]),null!=x[_0x4962("0xf30")]&&x.hasOwnProperty("aurl")&&(e[_0x4962("0xf30")]=x[_0x4962("0xf30")]),null!=x[_0x4962("0xf35")]&&x[_0x4962("0x2")](_0x4962("0xf35"))&&(e[_0x4962("0xf35")]=x[_0x4962("0xf35")]),null!=x[_0x4962("0xf31")]&&x[_0x4962("0x2")]("msgc")&&(e[_0x4962("0xf31")]=x[_0x4962("0xf31")]),null!=x.X&&x[_0x4962("0x2")]("X")&&(e.X=x.X),null!=x.Y&&x[_0x4962("0x2")]("Y")&&(e.Y=x.Y),null!=x.Z&&x[_0x4962("0x2")]("Z")&&(e.Z=x.Z),null!=x[_0x4962("0xf32")]&&x[_0x4962("0x2")](_0x4962("0xf32"))&&(e[_0x4962("0xf32")]=x[_0x4962("0xf32")]),null!=x[_0x4962("0xf33")]&&x[_0x4962("0x2")]("csize")&&(e[_0x4962("0xf33")]=x[_0x4962("0xf33")]),e},x.prototype[_0x4962("0x602")]=function(x){return this.constructor[_0x4962("0x602")](this,x)},x[_0x4962("0x1")][_0x4962("0xad2")]=function(){return this.constructor[_0x4962("0x602")](this,r[_0x4962("0x5af")][_0x4962("0x605")])},x}(),n),x[_0x4962("0x5")]=l},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=r(e(9)),i=r(e(2)),a=r(e(0)),n=r(e(1));function r(x){return x&&x.__esModule?x:{default:x}}var s=function(){function x(_){(0,a[_0x4962("0xc")])(this,x),this[_0x4962("0x7f")]=_,this.jsonLib=null,this[_0x4962("0xaeb")]={default:null,userData:null},this[_0x4962("0xaec")]={default:{meter:"ç±³"},userData:null},this.key=_0x4962("0xf3c"),this[_0x4962("0xf3d")]=this.stringtoChar(this.key);this.navLib[_0x4962("0xc")]={"ä¸è¡":"ä¸è¡","ä¸è¡":"ä¸è¡","å¯¼èªç»æ":_0x4962("0xf3e"),"å³å°å°è¾¾ç®çå°":_0x4962("0xf3f"),"æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª":"æè°¢ä½¿ç¨ææ¯ä¸ç»´åºæ¯å¯¼èª","å·¦è½¬":"å·¦è½¬","å³è½¬":"å³è½¬","å":"å","å³åè½¬":_0x4962("0xf40"),"å·¦åè½¬":_0x4962("0xf41"),"å·¦åæ¹ç´è¡":"å·¦åæ¹ç´è¡","å³åæ¹ç´è¡":_0x4962("0xf42"),"å°è¾¾ç®çå°":_0x4962("0xf43"),"ç´è¡":"ç´è¡","å·¦è½¬åå³è½¬":"å·¦è½¬åå³è½¬","å·²éæ°è§åè·¯çº¿":_0x4962("0xf44"),"å³è½¬åå·¦è½¬":_0x4962("0xf45"),"å³è½¬åå³è½¬":"å³è½¬åå³è½¬","å·¦è½¬åå·¦è½¬":_0x4962("0xf46"),"æ­¥è¡å¯¼èªå¼å§":_0x4962("0xf47"),"è¿å¥å®¤å":"è¿å¥å®¤å","è¿å¥å®¤å¤":_0x4962("0xf48"),"è½¦å½¢å¯¼èªå¼å§":"è½¦å½¢å¯¼èªå¼å§",A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X",Y:"Y",Z:"Z","è´":"è´","æ¥¼":"æ¥¼","è¿å¥":"è¿å¥","å±":"å±","ç®çå°å¨éè·¯å·¦ä¾§":_0x4962("0xf49"),"ç®çå°å¨éè·¯å³ä¾§":_0x4962("0xf4a"),"å¡é":"å¡é","åå¾":"åå¾","è¯·åé":_0x4962("0xf4b"),"åé":"åé","æ¥¼æ¢¯":"æ¥¼æ¢¯","çµæ¢¯":"çµæ¢¯","æ¶æ¢¯":"æ¶æ¢¯","ç±³":"ç±³","å":"å","ç¾":"ç¾","å":"å",",":","}}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0xf4c"),value:function(x){for(var _=[],e=0;e<x.length;e++)_[e]=x[_0x4962("0x30")](e);return _}},{key:_0x4962("0xf4d"),value:function(x){x?(this[_0x4962("0xaeb")][_0x4962("0x166")]={},(0,i[_0x4962("0xc")])(this.navLib[_0x4962("0x166")],x)):this.navLib[_0x4962("0x166")]=null}},{key:_0x4962("0xf4e"),value:function(x){x?(this[_0x4962("0xaec")][_0x4962("0x166")]={},(0,i[_0x4962("0xc")])(this[_0x4962("0xaec")][_0x4962("0x166")],x)):this[_0x4962("0xaec")].userData=null}},{key:_0x4962("0x4b"),value:function(x){for(var _="",e=this.stringtoChar(x),t=0;t<e[_0x4962("0x0")];t++){for(var i=0;i<this.keyBytes[_0x4962("0x0")];i++)e[t]=e[t]^this[_0x4962("0xf3d")][i];_+=String[_0x4962("0x10f")](e[t])}return _}},{key:_0x4962("0xf4f"),value:function(x){var _=this;return new(t[_0x4962("0xc")])((function(e){if(_[_0x4962("0x7f")][_0x4962("0x48")].options.lang){var t=_[_0x4962("0x7f")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x74")]?"?t="+(new Date)[_0x4962("0x86")]():"",i=_.mapService[_0x4962("0x48")][_0x4962("0x3b")].mapDataSrc+x+"/"+x+_0x4962("0xf50")+t;esmap[_0x4962("0xd1c")][_0x4962("0x498")]({url:i})[_0x4962("0x493")]((function(x){_[_0x4962("0xeae")]=JSON[_0x4962("0x71")](_.decode(x)),e()}))}else e()}))}},{key:"getDesFromNavLib",value:function(x){return(this[_0x4962("0xaeb")][_0x4962("0x166")]&&this[_0x4962("0xaeb")][_0x4962("0x166")][x]?this[_0x4962("0xaeb")][_0x4962("0x166")][x]:this.navLib[_0x4962("0xc")][x])||x}},{key:"getDesFromGeneralLib",value:function(x){return this[_0x4962("0xaec")][_0x4962("0x166")]&&this[_0x4962("0xaec")][_0x4962("0x166")][x]?this.generalLib[_0x4962("0x166")][x]:this[_0x4962("0xaec")][_0x4962("0xc")][x]}},{key:_0x4962("0xf51"),value:function(){}}]),x}();_.default=s},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_.ModelLod=void 0;var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_){(0,t.default)(this,x),this.map=_,this.objects=[],this[_0x4962("0xf52")]={},this[_0x4962("0xf53")]=[],this[_0x4962("0x39")]()}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0xda"),value:function(x){var _=x[_0x4962("0xf2")];this[_0x4962("0x748")][_0x4962("0x3")]({uuid:_.uuid,model:x,lod:0,targetLod:0,rank:1/0})}},{key:"rankObjects",value:function(){if(0!=this[_0x4962("0x748")][_0x4962("0x0")]){var x=150,_=50,e=this[_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x106")],t={0:[],1:[],2:[]},i=[],a=this[_0x4962("0x48")].tileService[_0x4962("0x3cb")],n=this.map.tileList[_0x4962("0x48")]((function(x){return x.id})),r=this.map.getBuilding();if(r){for(var s,o=r[_0x4962("0x264")].frustum,c=0;c<this.objects[_0x4962("0x0")];c++){var l=this[_0x4962("0x748")][c],f=l[_0x4962("0x288")];if(f[_0x4962("0xf2")]){var d=l[_0x4962("0x288")].tileId;if(a[_0x4962("0x63")](d)&&n.includes(d)){var u=f[_0x4962("0xf2")][_0x4962("0x166")].box3,h=u[_0x4962("0xf54")](e);if(h>=3500)0!=l[_0x4962("0x2ed")]&&(l[_0x4962("0xf55")]=0,i[_0x4962("0x3")](l));else{o[_0x4962("0x939")](u)||(h+=h/2);var g=(s=h)<=500?2:s<=2e3?1:0;l.targetLod=g,l[_0x4962("0x414")]=h,l[_0x4962("0xf55")]!=l[_0x4962("0x2ed")]&&t[g][_0x4962("0x3")](l)}}}}return t[1][_0x4962("0x0")]>x&&(t[1]=t[1][_0x4962("0x46f")]((function(x,_){return x[_0x4962("0x414")]-_[_0x4962("0x414")]})).slice(0,x)),t[2][_0x4962("0x0")]>_&&(t[2]=t[2][_0x4962("0x46f")]((function(x,_){return x[_0x4962("0x414")]-_[_0x4962("0x414")]}))[_0x4962("0x1e7")](0,_)),t[0].sort((function(x,_){return x[_0x4962("0x414")]-_[_0x4962("0x414")]})),t[0]=t[0][_0x4962("0x1e7")](50,t[0][_0x4962("0x0")]-1),t[0][_0x4962("0x12")](t[1])[_0x4962("0x12")](t[2])[_0x4962("0x12")](i)}}}},{key:_0x4962("0xf56"),value:function(x){if(x&&0!=x[_0x4962("0x0")])for(var _=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0xc9b")],e=this[_0x4962("0x48")][_0x4962("0x578")]()[_0x4962("0x264")],t=0;t<x.length;t++){var i=x[t],a=i[_0x4962("0x288")],n=i[_0x4962("0x2ed")],r=i[_0x4962("0xf55")],s=a[_0x4962("0x1fc")];if(a[_0x4962("0xf2")]){var o=this[_0x4962("0xf52")][i[_0x4962("0x195")]];if(o&&o[i.targetLod]){var c=o[i.targetLod];s[_0x4962("0x17b")][_0x4962("0x197")](s),o[n]||(o[n]=s),a.o3d_.add(c),a.child=c,i[_0x4962("0x2ed")]=r}else{var l=a._lodName+_0x4962("0x2ed")+i[_0x4962("0xf55")]+_0x4962("0x84"),f=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x287")][l];if(f){s[_0x4962("0x17b")][_0x4962("0x197")](s),o||(o={},this[_0x4962("0xf52")][i[_0x4962("0x195")]]=o),o[n]||(o[n]=s);var d=f.gltfObj.scene[_0x4962("0x126")](!0);(new THREE.Box3).setFromObject(d)[_0x4962("0x2f0")](d[_0x4962("0x106")]),d[_0x4962("0x106")][_0x4962("0x250")](-1),a[_0x4962("0xf2")][_0x4962("0xda")](d),a.child=d,o[r]||(o[r]=d),i[_0x4962("0x2ed")]=r}else{if(!_[l]){var u=a[_0x4962("0x288")][_0x4962("0x14d")](".gltf","");0==r&&(r="");var h=a._lodName+_0x4962("0x2ed")+r,g=a[_0x4962("0x4d")].replaceAll(u,h);e.preFetchModel3D(l,g,(function(x){}))}this[_0x4962("0xf53")][_0x4962("0x3")]({target:i,model:l})}}}}}},{key:"init",value:function(){var x=this;this[_0x4962("0x48")].on(_0x4962("0xb23"),(function(){x[_0x4962("0xf56")](x.rankObjects())})),this[_0x4962("0x48")].on(_0x4962("0x165"),(function(){if(x.waitings[_0x4962("0x0")]>0){for(var _=x[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x287")],e=[],t=0;t<x.waitings[_0x4962("0x0")];t++){var i=x[_0x4962("0xf53")][t];_[i.model]&&(e[_0x4962("0x3")](i),x[_0x4962("0xf53")][_0x4962("0x4")](t,1),t--)}e[_0x4962("0x0")]>0&&x[_0x4962("0xf56")](e[_0x4962("0x48")]((function(x){return x.target})))}}))}},{key:_0x4962("0x2ec"),value:function(x){var _=this;if(!(x<0||x>2)&&x!==this._lodLevel){0==x&&(x="");var e=this[_0x4962("0x1ee")]+"lod"+x+".gltf",t=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x287")][e];if(t){this[_0x4962("0x1fc")][_0x4962("0x17b")][_0x4962("0x197")](this.child);var i=t[_0x4962("0x2ee")].scene[_0x4962("0x126")](!0);(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](i)[_0x4962("0x2f0")](i.position),i[_0x4962("0x106")][_0x4962("0x250")](-1),this[_0x4962("0x1fc")]=i,this[_0x4962("0xf2")][_0x4962("0xda")](i),this._lodLevel=x}else{var a=this[_0x4962("0x288")][_0x4962("0x14d")](_0x4962("0x84"),""),n=this._lodName+"lod"+x,r=this[_0x4962("0x4d")][_0x4962("0x2f1")](a,n);this.modelLoadManager[_0x4962("0x2f2")][e]||this[_0x4962("0x264")].preFetchModel3D(e,r,(function(e){_[_0x4962("0x1fc")][_0x4962("0x17b")][_0x4962("0x197")](_.child),_[_0x4962("0x1fc")]=null;var t=e.scene[_0x4962("0x126")](!0);(new(THREE[_0x4962("0x2ef")])).setFromObject(t)[_0x4962("0x2f0")](t.position),t.position.multiplyScalar(-1),_[_0x4962("0x1fc")]=t,_[_0x4962("0xf2")][_0x4962("0xda")](t),_[_0x4962("0x1ed")]=x}))}}}}]),x}();_[_0x4962("0xca0")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=s(e(15)),i=s(e(9)),a=s(e(0)),n=s(e(1)),r=e(156);function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(){function x(_){var e=_[_0x4962("0x2db")],t=void 0===e?1:e,i=_.version,n=void 0===i?_0x4962("0xf57"):i;(0,a[_0x4962("0xc")])(this,x),this[_0x4962("0x2db")]=t,this[_0x4962("0xf58")]=null,this.audioGroupMapData=null,this.audioGroupSound=[];this[_0x4962("0xf59")]={"1.0":7e3,1.1:8e3}[n],this[_0x4962("0xf5a")]=!1,this[_0x4962("0xf5b")]=!1,this[_0x4962("0xf5c")]=!1,this[_0x4962("0xf5d")]=0,this[_0x4962("0xf5e")]=-1,this[_0x4962("0xf5f")]={},this[_0x4962("0xf60")]=[],this.endHandler=function(){if(this[_0x4962("0xf5d")]>=this.playLength)this[_0x4962("0x1b2")](),this.canInterrupt=!1;else{var x=this[_0x4962("0xf60")][this.playIndex++];this[_0x4962("0xf58")][_0x4962("0x29e")](x)}}.bind(this)}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0xf61"),value:function(x){var _=this;return new i.default((function(e,t){var i=new XMLHttpRequest;i[_0x4962("0x2e4")]("GET",x,!0),i[_0x4962("0x4a3")]=_0x4962("0x75d"),i[_0x4962("0xc42")]=function(x){_[_0x4962("0xf5b")]=!0,e(this[_0x4962("0x4b2")])},i.send()}))}},{key:"init",value:function(x,_){var e=this;this[_0x4962("0xf61")](x)[_0x4962("0x2dd")]((function(t){e.loadSoundArrayBuffer(t,x),_&&_()}))[_0x4962("0x880")]((function(x){console.info(esmap[_0x4962("0x289")][_0x4962("0xa2c")],x)}))}},{key:_0x4962("0xf62"),value:function(x,_){this[_0x4962("0xf63")]=new Uint8Array(x);var e=x[_0x4962("0x766")],t=this[_0x4962("0xf64")](this[_0x4962("0xf63")],e-this[_0x4962("0xf59")],e-1),i=this[_0x4962("0xf65")](t[_0x4962("0x890")])[_0x4962("0x2d")]("}]")[0]+"}]";this[_0x4962("0xf66")]=JSON[_0x4962("0x71")](i);for(var a=0,n=this[_0x4962("0xf66")].length;a<n;a++){var s=this.audioGroupMapData[a],o=this.decodeUnicode(s[_0x4962("0x107")])[_0x4962("0x14d")](_0x4962("0xa2a"),"");this[_0x4962("0xf5f")][o]=[s[_0x4962("0xf67")][0],s[_0x4962("0xf67")][1]-400]}var c=this;this[_0x4962("0xf58")]=new(r[_0x4962("0xf68")])({src:[_],sprite:this[_0x4962("0xf5f")],rate:this[_0x4962("0x2db")]}),this[_0x4962("0xf58")][_0x4962("0xaa3")](_0x4962("0xf69"),(function(x){c.destroy()})),this[_0x4962("0xf58")][_0x4962("0xaa3")]("load",(function(){}))}},{key:_0x4962("0xf6a"),value:function(x){switch(x){case _0x4962("0xf6b"):this[_0x4962("0xf6c")]([_0x4962("0xf47")]);break;case _0x4962("0xf6d"):this[_0x4962("0xf6c")]([_0x4962("0xf6e")]);break;case _0x4962("0xf6f"):this[_0x4962("0xf6c")]([_0x4962("0xf70")])}}},{key:_0x4962("0xf71"),value:function(){var x=document[_0x4962("0x24")](_0x4962("0x1cd"));x[_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0xf72"),x[_0x4962("0x25")][_0x4962("0x35c")]=_0x4962("0x1d6"),x[_0x4962("0x25")][_0x4962("0x35e")]="0";var _=this,e=function(e){var t=document[_0x4962("0x24")](_0x4962("0x974"));t[_0x4962("0x25")][_0x4962("0xf73")]="10px",t[_0x4962("0x1d9")]=e,t[_0x4962("0x25e")](_0x4962("0xa51"),(function(){_[_0x4962("0xf58")][_0x4962("0x29e")](e)}),!1),x[_0x4962("0x28")](t)};for(var t in this.sprite)e(t);document[_0x4962("0x27")][_0x4962("0x28")](x)}},{key:_0x4962("0xf74"),value:function(){this.stop(),this[_0x4962("0xf58")][_0x4962("0x6b")]("load"),this[_0x4962("0xf58")][_0x4962("0xf75")]()}},{key:_0x4962("0xf76"),value:function(x){var _=this;if(x&&x[_0x4962("0x0")]>0&&this[_0x4962("0xf5b")]){this[_0x4962("0xf5c")]=!0,this[_0x4962("0xf60")]=x,this[_0x4962("0xf5d")]=0,this[_0x4962("0xf5e")]=x.length,this[_0x4962("0xf58")].on(_0x4962("0x308"),this.endHandler);var e=this[_0x4962("0xf60")][this[_0x4962("0xf5d")]++];this[_0x4962("0xf58")][_0x4962("0x29e")](e);var t=0;return x[_0x4962("0x20")]((function(x){var e=_.sprite[x];t+=e[1]})),t*this[_0x4962("0xf58")][_0x4962("0xf77")]()}}},{key:_0x4962("0xf6c"),value:function(x){if(this[_0x4962("0xf5b")]&&(!this[_0x4962("0xf5c")]||this.canInterrupt)){for(var _=/^([A-Z]+)(\d+)*$/,e=/^[0-9]*$/,i=["ä¸","äº","ä¸","å","äº","å­","ä¸","å«","ä¹","å"],a=[],n=0,r=x.length;n<r;n++)if(_[_0x4962("0x2c")](x[n])){var s=x[n][_0x4962("0x2a8")](/([A-Z]+)(\d+)/);if(s[_0x4962("0x0")]>0){var o=[s[1],s[2]];x.splice.apply(x,[n,1][_0x4962("0x12")](o))}break}for(var c=0,l=x[_0x4962("0x0")];c<l;c++)if(e[_0x4962("0x2c")](x[c])){var f=this[_0x4962("0xf78")](x[c]),d=!0,u=!1,h=void 0;try{for(var g,b=(0,t[_0x4962("0xc")])(f);!(d=(g=b[_0x4962("0x286")]())[_0x4962("0x426")]);d=!0){var v=g[_0x4962("0xe3")];a.push(v)}}catch(x){u=!0,h=x}finally{try{!d&&b[_0x4962("0x28c")]&&b.return()}finally{if(u)throw h}}}else if(i.indexOf(x[c])>-1){var p=i[_0x4962("0xaf")](x[c]);9==p?a.push("å"):a.push((p+1)[_0x4962("0x18b")]())}else{if(!this[_0x4962("0xf5f")][x[c]])continue;a[_0x4962("0x3")](x[c])}return this[_0x4962("0x1b2")](),this[_0x4962("0xf76")](a)}}},{key:"stop",value:function(){this[_0x4962("0xf58")][_0x4962("0x1b2")](),this[_0x4962("0xf58")][_0x4962("0x6b")]("end",this.endHandler),this[_0x4962("0xf5d")]=0,this.playLength=-1,this.spriteArray=[],this[_0x4962("0xf5c")]=!1}},{key:"getExtentUint8Array",value:function(x,_,e){for(var t=[],i=_;i<e;i++)t[_0x4962("0x3")](x[i]);return new Uint8Array(t)}},{key:_0x4962("0xf65"),value:function(x){return String[_0x4962("0x10f")][_0x4962("0x2a4")](null,new Uint8Array(x))}},{key:"num2text",value:function(x){var _=[],e=1e3;for(x=parseInt(x);0!==e;){x%=10*e;var t=parseInt(x/e);if(t>0){_[_0x4962("0x3")](t+"");var i=null;switch(e){case 1e3:i="å";break;case 100:i="ç¾";break;case 10:i="å"}i&&_.push(i)}else{var a=_[_0x4962("0x0")];a>0&&"0"!==_[a-1]&&_.push("0")}e/=10}return"0"===_[_[_0x4962("0x0")]-1]&&_.pop(),"1"===_[0]&&"å"===_[1]&&_[_0x4962("0x224")](),_}},{key:_0x4962("0xf79"),value:function(x){return unescape(x[_0x4962("0x14d")](/\\u/gi,"%u"))}}]),x}();_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=s(e(15)),i=s(e(9)),a=s(e(0)),n=s(e(1)),r=e(156);function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(){function x(_){var e=_[_0x4962("0x2db")],t=void 0===e?1:e;(0,a[_0x4962("0xc")])(this,x),this[_0x4962("0x2db")]=t,this[_0x4962("0xf58")]=null,this.audioGroupMapData=null,this[_0x4962("0xf7a")]=[],this[_0x4962("0xf59")]=9e3,this[_0x4962("0xf5a")]=!0,this[_0x4962("0xf5b")]=!1,this[_0x4962("0xf5c")]=!1,this[_0x4962("0xf5d")]=0,this[_0x4962("0xf5e")]=-1,this[_0x4962("0xf5f")]={},this[_0x4962("0xf60")]=[],this[_0x4962("0xf7b")]=function(){if(this.playIndex>=this.playLength)this.stop(),this[_0x4962("0xf5a")]=!0;else{var x=this.spriteArray[this[_0x4962("0xf5d")]++];this[_0x4962("0xf58")].play(x)}}[_0x4962("0xe")](this)}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0xf61"),value:function(x){return new(i[_0x4962("0xc")])((function(_,e){var t=new XMLHttpRequest;t[_0x4962("0x2e4")](_0x4962("0x4a2"),x,!0),t[_0x4962("0x4a3")]=_0x4962("0x75d"),t[_0x4962("0xc42")]=function(x){_(this[_0x4962("0x4b2")])},t.send()}))}},{key:_0x4962("0x39"),value:function(x,_){var e=this;this[_0x4962("0xf61")](x)[_0x4962("0x2dd")]((function(t){e[_0x4962("0xf62")](t,x),_&&_()}))}},{key:"playSoundByName",value:function(x){switch(x){case _0x4962("0xf6b"):this.playAudioByText([_0x4962("0xf47")]);break;case"startCarNaving":this.playAudioByText([_0x4962("0xf6e")])}}},{key:_0x4962("0xf62"),value:function(x,_){this[_0x4962("0xf63")]=new Uint8Array(x);var e=x.byteLength,t=this[_0x4962("0xf64")](this[_0x4962("0xf63")],e-this[_0x4962("0xf59")],e-1),i=this[_0x4962("0xf65")](t.buffer).split("}]")[0]+"}]";this.audioGroupMapData=JSON[_0x4962("0x71")](i);for(var a=0,n=this.audioGroupMapData.length;a<n;a++){var s=this[_0x4962("0xf66")][a],o=this.decodeUnicode(s[_0x4962("0x107")])[_0x4962("0x14d")](".mp3","");o==_0x4962("0xf7c")?this[_0x4962("0xf5f")][o]=[s[_0x4962("0xf67")][0]+250,s[_0x4962("0xf67")][1]-250]:this[_0x4962("0xf5f")][o]=s.extentIndex}var c=this;this[_0x4962("0xf58")]=new(r[_0x4962("0xf68")])({src:[_],sprite:this[_0x4962("0xf5f")],rate:this[_0x4962("0x2db")]}),this[_0x4962("0xf58")].once(_0x4962("0xf69"),(function(x){_0x4962("0xf7d"),c[_0x4962("0x786")]()})),this[_0x4962("0xf58")].once(_0x4962("0x18d"),(function(){c[_0x4962("0xf5b")]=!0}))}},{key:_0x4962("0xf71"),value:function(){var x=document.createElement("div");x[_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0xf72"),x[_0x4962("0x25")][_0x4962("0x35c")]="20px",x[_0x4962("0x25")].left="0";var _=this,e=function(e){var t=document[_0x4962("0x24")](_0x4962("0x974"));t[_0x4962("0x25")][_0x4962("0xf73")]="10px",t[_0x4962("0x1d9")]=e,t.addEventListener(_0x4962("0xa51"),(function(){_[_0x4962("0xf58")][_0x4962("0x29e")](e)}),!1),x.appendChild(t)};for(var t in this[_0x4962("0xf5f")])e(t);document[_0x4962("0x27")][_0x4962("0x28")](x)}},{key:"distory",value:function(){this[_0x4962("0x1b2")](),this.sound[_0x4962("0x6b")]("load"),this.sound[_0x4962("0xf75")]()}},{key:_0x4962("0xf76"),value:function(x){var _=this;if(x&&x[_0x4962("0x0")]>0&&this[_0x4962("0xf5b")]){this.isPlaying=!0,this[_0x4962("0xf60")]=x,this[_0x4962("0xf5d")]=0,this[_0x4962("0xf5e")]=x[_0x4962("0x0")],this[_0x4962("0xf58")].on(_0x4962("0x308"),this.endHandler);var e=this[_0x4962("0xf60")][this[_0x4962("0xf5d")]++];this[_0x4962("0xf58")][_0x4962("0x29e")](e);var t=0;return x[_0x4962("0x20")]((function(x){var e=_[_0x4962("0xf5f")][x];t+=e[1]})),t*this[_0x4962("0xf58")][_0x4962("0xf77")]()}}},{key:_0x4962("0xf6c"),value:function(x){if(this[_0x4962("0xf5b")]&&(!this[_0x4962("0xf5c")]||this.canInterrupt)){for(var _=/^[0-9]*$/,e=[],i=0,a=x[_0x4962("0x0")];i<a;i++)if(_[_0x4962("0x2c")](x[i])){var n=this.num2text(x[i]),r=!0,s=!1,o=void 0;try{for(var c,l=(0,t[_0x4962("0xc")])(n);!(r=(c=l[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var f=c[_0x4962("0xe3")];e[_0x4962("0x3")](String(f))}}catch(x){s=!0,o=x}finally{try{!r&&l[_0x4962("0x28c")]&&l.return()}finally{if(s)throw o}}}else e[_0x4962("0x3")](x[i]);return this[_0x4962("0x1b2")](),this[_0x4962("0xf76")](e)}}},{key:"stop",value:function(){this[_0x4962("0xf58")][_0x4962("0x1b2")](),this.sound[_0x4962("0x6b")](_0x4962("0x308"),this[_0x4962("0xf7b")]),this[_0x4962("0xf5d")]=0,this.playLength=-1,this[_0x4962("0xf60")]=[],this[_0x4962("0xf5c")]=!1}},{key:"getExtentUint8Array",value:function(x,_,e){for(var t=[],i=_;i<e;i++)t[_0x4962("0x3")](x[i]);return new Uint8Array(t)}},{key:_0x4962("0xf65"),value:function(x){return String.fromCharCode[_0x4962("0x2a4")](null,new Uint8Array(x))}},{key:_0x4962("0xf78"),value:function(x){var _=function x(_,e,t){var i=t||[],a=e||0;1===a&&i.unshift(1e3),_=parseInt(_);var n=parseInt(_/1e3),r=_%1e3,s=parseInt(r/100),o=parseInt((r-100*s)/10),c=r%10,l=r%100;return l>0&&(l<20?i[_0x4962("0x9fe")](l):(c>0&&i[_0x4962("0x9fe")](c[_0x4962("0x18b")]()),i[_0x4962("0x9fe")](10*o))),(n>0&&l>0||s>0&&l>0)&&i[_0x4962("0x9fe")]("and"),s>0&&(i[_0x4962("0x9fe")](100),i[_0x4962("0x9fe")](s)),n>0&&0===a?x(n,++a,i):i}(x);return _}},{key:_0x4962("0xf79"),value:function(x){return unescape(x.replace(/\\u/gi,"%u"))}}]),x}();_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x9da")]=void 0;var t=v(e(6)),i=v(e(9)),a=v(e(7)),n=v(e(8)),r=v(e(0)),s=v(e(1)),o=e(109),c=e(42),l=e(4),f=e(20),d=e(113),u=e(80),h=e(34),g=e(43),b=e(27);function v(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var p=function(){function x(_){(0,r.default)(this,x),this[_0x4962("0x48")]=_,this[_0x4962("0xcfe")]=0,this._fxl=!1,this._cityProgressComplete=!1}var _,e;return(0,s.default)(x,[{key:_0x4962("0x20a"),value:function(){var x=this,_=this[_0x4962("0x48")],e=_.mapPicker;_[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")]?(_.on(_0x4962("0xe6"),(function(e){e[_0x4962("0x2bf")],e[_0x4962("0xe3")],e[_0x4962("0xe4")];var t=0,i=_.tileList;for(var a in i){var n=i[a];n.progressHandler&&(0===n.progressHandler[_0x4962("0xd5")]?t+=1:t+=n[_0x4962("0x41b")].progress[_0x4962("0xe3")])}var r=t;r>1&&(r=1),_[_0x4962("0xe5")](_0x4962("0xf7e"),{from:_.id,value:r}),1!=r||x._cityProgressComplete||(x._cityProgressComplete=!0,_[_0x4962("0xe5")](_0x4962("0xf7f")))}),null,"progress"),_.on(_0x4962("0x177"),(function(x){var e=x[_0x4962("0x130")],t=x[_0x4962("0x191")],i=_[_0x4962("0x139")](e);if(_[_0x4962("0x3b")][_0x4962("0xd0a")]!=esmap[_0x4962("0x61c")][_0x4962("0xd0c")]&&0!=i[_0x4962("0x3b")].undergroundOffset)if(t[_0x4962("0x46f")]((function(x,_){return x-_}))[0]<=i[_0x4962("0x3b")][_0x4962("0xcaf")]){var a=Boolean(_[_0x4962("0x3b")][_0x4962("0xf80")]);1==_.options[_0x4962("0x3bb")]?i[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0xd93")](!a):i[_0x4962("0x48")].tileService.toggleTilesLayer(!a)}else i[_0x4962("0x48")][_0x4962("0x2b4")][_0x4962("0xd93")](!0)})),_.on(_0x4962("0xaf6"),(function(){_[_0x4962("0x7f")].getState(_0x4962("0xd96"))&&_[_0x4962("0x2b4")][_0x4962("0xd93")](!0)}))):_.on(_0x4962("0xe6"),(function(x){_[_0x4962("0xe5")](_0x4962("0xf7e"),x),1===x[_0x4962("0xe3")]&&_[_0x4962("0xe5")](_0x4962("0xf7f"))}),null,"progress"),_.on(_0x4962("0x179"),(function(){_[_0x4962("0x9c6")].updateText()})),_.on(_0x4962("0x165"),(function(){_.onUpdating(),t()})),e&&(e[_0x4962("0xf81")]||(e.on(_0x4962("0xc2d"),(function(x){_.selectNull(),_[_0x4962("0xafa")](),_[_0x4962("0xa65")]();for(var t=e[_0x4962("0xbe3")],i=x[_0x4962("0x748")],a=!1,n=x[_0x4962("0x974")],r=0;r<x[_0x4962("0x748")][_0x4962("0x0")];r++)if(x[_0x4962("0x748")][r][_0x4962("0x9")][_0x4962("0x9d")]==_0x4962("0x278")&&x.objects[r][_0x4962("0x9")][_0x4962("0x166")][_0x4962("0x16c")]){i=[x[_0x4962("0x748")][r]];break}for(var s={},o=!1,f=!1,d=0;d<i[_0x4962("0x0")];d++)if(t||!d||f){t&&(_[_0x4962("0xaab")](),_[_0x4962("0xa65")]());var u=i[d],h=u[_0x4962("0x9")],g=h,b=null;if(!h[_0x4962("0xf1")])if(21==h[_0x4962("0x125")])h=h[_0x4962("0x17b")];else{if(h[_0x4962("0x107")]&&h[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xdd1"))>-1)continue;h=(0,c.findGroup)(h)}if(h&&!s[h[_0x4962("0x195")]]){s[h[_0x4962("0x195")]]=!0;var v=u[_0x4962("0x303")];if(h[_0x4962("0xf1")]){switch(h.datas_[_0x4962("0x125")]){case esmap.ESNodeType.MODEL:var p=h.datas_[_0x4962("0x480")],m=h[_0x4962("0xf1")][_0x4962("0x130")],A=_[_0x4962("0x3b")],y=!1;if(p){var C=(0,c.getChildByFaceIndex)(u[_0x4962("0xc0b")],p);if((b=p[C])[_0x4962("0xf2")]||(b[_0x4962("0xf2")]=h),g[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")]){for(var I=g[_0x4962("0xf4")][_0x4962("0x105")][_0x4962("0x595")][_0x4962("0x452")],E=b[_0x4962("0x109")][0],w=b[_0x4962("0x109")][1],T=!1,k=E+1;k<w-1;k+=1)if(1==I[k]){T=!0,t=!0;break}T&&(y=!0,o=!0)}}else b=h[_0x4962("0xf1")];if(y)continue;var M=!1;b[_0x4962("0x3d")]&&_[_0x4962("0x3b")][_0x4962("0xf83")]&&2!=n&&(_.tileService[_0x4962("0xa05")](b),M=!0);var S=b[_0x4962("0x212")],R=_[_0x4962("0x139")](m);if(R){var L=R.modelLoadManager[_0x4962("0xf84")][_0x4962("0xf85")][S];L||(L=R[_0x4962("0x264")].bimLoader[_0x4962("0xf86")](S))&&(R[_0x4962("0x264")][_0x4962("0xf84")][_0x4962("0xf85")][S]=L),L&&(b[_0x4962("0x195")]=L[_0x4962("0x195")],b[_0x4962("0xf87")]=L.infoList)}M||(p?A[_0x4962("0x384")]&&_[_0x4962("0xab0")](b):_[_0x4962("0xab0")](b));break;case esmap.ESNodeType.MODEL3D:var H=_.options,D=e.logModelInfo;if(!1===h.datas_[_0x4962("0x1f3")]&&(t||(o=!0)),!d&&H[_0x4962("0x386")]&&(h[_0x4962("0x166")][_0x4962("0xa6b")]||!h[_0x4962("0xf1")][_0x4962("0xf88")]&&_.storeModelSelected(h)),h[_0x4962("0xf1")][_0x4962("0x480")]){var O=function(){var x=_.getBuildingById(0),e=x[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0xc0a")](u.faceIndex,g.geometry[_0x4962("0x166")][_0x4962("0x445")]);if(g.geometry.userData.visibleStates&&g[_0x4962("0xf4")][_0x4962("0x166")].visibleStates[_0x4962("0x2")](e.id)&&!g[_0x4962("0xf4")][_0x4962("0x166")][_0x4962("0x46a")][e.id])return f=!0,_0x4962("0x692");var a=x[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x467")](u[_0x4962("0xc0b")],g[_0x4962("0xf4")].groups),r=e.id,s=h[_0x4962("0xf1")][_0x4962("0xc0c")]||!1,c=h[_0x4962("0xf1")][_0x4962("0x480")][_0x4962("0x2e2")]((function(x){return x.id==r})),l=!1;if(!c[0])return _0x4962("0x692");if(!c[0][_0x4962("0x43e")])return i.splice(d,1),d--,_0x4962("0x692");if(c[0][_0x4962("0x3d")]&&_[_0x4962("0x3b")].clickOpenBuildings&&(l=!0),s||!_[_0x4962("0x3b")][_0x4962("0x386")]||l||x[_0x4962("0x264")].GLTFMergeTool[_0x4962("0x457")](u.faceIndex,g,a),b={mapId:c[0].mapId,nodeType:esmap.ESNodeType.MODEL3D,angle:c[0][_0x4962("0x234")],dataID:c[0].dataID,bid:h[_0x4962("0xf1")][_0x4962("0x130")],bType:h.datas_[_0x4962("0x3e8")],ID:r,name:c[0][_0x4962("0x107")],scale:c[0][_0x4962("0x1fe")],Height:c[0][_0x4962("0x313")],model:c[0][_0x4962("0x288")],FloorNum:c[0][_0x4962("0x132")],gid:c[0][_0x4962("0xc0d")],url:c[0][_0x4962("0x4d")],o3d_:h,typeID:c[0][_0x4962("0x2fd")],mapCoord:_[_0x4962("0x208")](c[0][_0x4962("0x106")])},c[0][_0x4962("0x697")]&&(b[_0x4962("0x697")]=c[0][_0x4962("0x697")]),c[0][_0x4962("0x311")]&&(b[_0x4962("0x311")]=c[0][_0x4962("0x311")]),c[0][_0x4962("0xf89")]&&(b=c[0],!c[0][_0x4962("0x195")])){var v=_[_0x4962("0x139")](b[_0x4962("0x130")]),p=c[0][_0x4962("0x212")],m=v[_0x4962("0x264")][_0x4962("0xf84")][_0x4962("0xf85")][p];m||(m=v[_0x4962("0x264")].bimLoader.getInfo(p)),m&&(v.modelLoadManager.bimLoader.bimInfoLib[p]=m,b[_0x4962("0x195")]=m[_0x4962("0x195")],b[_0x4962("0xf87")]=m[_0x4962("0xf87")])}x[_0x4962("0x264")][_0x4962("0xa30")][_0x4962("0x41f")]=!0,t||(o=!0),l&&2!=n&&_[_0x4962("0x2b4")][_0x4962("0xa05")](b)}();if("continue"===O)continue}else h[_0x4962("0xf1")].mapId&&_.options[_0x4962("0xf83")]?_.tileService[_0x4962("0xa05")](h[_0x4962("0xf1")]):t||(o=!0);if(D){var P="";P=h[_0x4962("0xf1")][_0x4962("0x480")]?h[_0x4962("0xf1")][_0x4962("0x480")][0][_0x4962("0x288")]:h[_0x4962("0xf1")][_0x4962("0x288")];var N=_[_0x4962("0x7f")][_0x4962("0x287")][P][_0x4962("0x2ee")];if(!N[_0x4962("0x166")][_0x4962("0x293")]){var F=computeModelInfo(N);N.userData.info=F}console[_0x4962("0x223")](_0x4962("0xf8a"),"color: #2BDE73;",N.userData[_0x4962("0x293")])}break;case esmap.ESNodeType.LINE_MARKER:b=h.datas_||null,_[_0x4962("0x3b")][_0x4962("0x3a3")]&&_[_0x4962("0xafb")](h);break;case esmap.ESNodeType[_0x4962("0x413")]:_[_0x4962("0x3b")][_0x4962("0x3a3")]&&_[_0x4962("0xafb")](h);break;case esmap.ESNodeType[_0x4962("0xac1")]:_.options[_0x4962("0x384")]&&!h[_0x4962("0xf1")][_0x4962("0x9a8")]&&(h[_0x4962("0xf1")][_0x4962("0xad6")]&&(h.datas_.line[_0x4962("0x2")](_0x4962("0xad7"))||(h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0xad7")]=h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x160")]),h[_0x4962("0xf1")][_0x4962("0xad6")].hasOwnProperty(_0x4962("0xad9"))||(h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0xf4")][_0x4962("0xad9")]=h[_0x4962("0xf1")].line[_0x4962("0xf4")][_0x4962("0x69c")]),h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x160")]=h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x25")][_0x4962("0xf8b")],h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x17a")]&&h[_0x4962("0xf1")][_0x4962("0xad6")][_0x4962("0x17a")](),h[_0x4962("0xf1")][_0x4962("0xad6")].fixedWidth=!0),_.storeModelSelected(h),h[_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xada")]=h.material[_0x4962("0x145")],h[_0x4962("0xf6")][_0x4962("0x145")]=h[_0x4962("0xf1")][_0x4962("0x3b")][_0x4962("0xf8c")]);case esmap[_0x4962("0x134")][_0x4962("0xc0f")]:case esmap[_0x4962("0x134")].FACILITY:case esmap[_0x4962("0x134")][_0x4962("0xf8d")]:case esmap[_0x4962("0x134")].EFFECT_MARKER:}var B=b||h[_0x4962("0xf1")];B.worldCoord=v[_0x4962("0x126")]();var z=_._coordThreeToMapScene(v),U=_[_0x4962("0x1b7")]({from:_[_0x4962("0x1b8")],to:_[_0x4962("0x3b")][_0x4962("0x1ba")],coord:z});(0,l[_0x4962("0xf8e")])(U),B[_0x4962("0xf8f")]=U,a||(a=!0),t&&_.options[_0x4962("0x1f5")]&&(B.propogationIndex=d);var V={button:x[_0x4962("0x974")],event:x.event,object:g};if(_.getBuildingById(B.bid)||(B[_0x4962("0x130")]=_.id),_[_0x4962("0xe5")](_0x4962("0xd44"),B,V),o)break}else _0x4962("0xf82")}}if(!a){var j=e[_0x4962("0xbe1")][_0x4962("0x536")]([_.plane_],!0);1==j[_0x4962("0x0")]&&((0,l[_0x4962("0xf8e")])(j[0][_0x4962("0x303")]),e[_0x4962("0xe5")](_0x4962("0xf90"),{mouse:e.mousePos,event:x[_0x4962("0x4ea")],hitCoord:j[0].point,worldCoord:j[0].point}))}})),e.on(_0x4962("0xf90"),(function(x){_[_0x4962("0xaab")](),_[_0x4962("0xa65")](),_.selectLineNull();var e=x[_0x4962("0xf8f")]?_[_0x4962("0x236")](x.hitCoord):null,t=_[_0x4962("0x1b7")]({from:_.coordSystem,to:_[_0x4962("0x3b")][_0x4962("0x1ba")],coord:e});(0,l[_0x4962("0xf8e")])(t),_[_0x4962("0xe5")]("mapClickNode",{target:null,mouse:x[_0x4962("0xc06")],hitCoord:t,nodeType:esmap[_0x4962("0x134")][_0x4962("0xc62")],worldCoord:x.hitCoord},{button:x.button,event:x[_0x4962("0x4ea")]})})),e.on(_0x4962("0xc1d"),(function(x){if(0!=x[_0x4962("0xbea")][_0x4962("0x0")]){var e=x.intersects[0].object;if(!e[_0x4962("0xf1")]&&!(e=(0,c[_0x4962("0xef")])(e)))return null;if(!e)return null;var t=e[_0x4962("0xf1")];if(t&&t.nodeType){var i=x[_0x4962("0xbea")][0][_0x4962("0x303")];t[_0x4962("0xf91")]=i[_0x4962("0x126")]();var a=_[_0x4962("0x236")](i),n=_[_0x4962("0x1b7")]({from:_[_0x4962("0x1b8")],to:_[_0x4962("0x3b")][_0x4962("0x1ba")],coord:a});(0,l[_0x4962("0xf8e")])(n),t.hitCoord=n;var r=0;if(_.mode==esmap[_0x4962("0x40")][_0x4962("0x41")])r=_.mapService[_0x4962("0x80")]("l0");else r=_[_0x4962("0x7f")].getState("ul")>>1&1||0;r>=1&&_[_0x4962("0xe5")](_0x4962("0xf92"),t)}}}))));var t=function(){var e,t,i;if((0,u[_0x4962("0x315")])()[_0x4962("0x720")].sl){var a=_[b[_0x4962("0x9c1")]];if(!a||!a[_0x4962("0x53c")]||!a[_0x4962("0x53c")][_0x4962("0x17b")])return void _[_0x4962("0xe5")]("error");if(!x[_0x4962("0xf95")]&&a&&a.sprite_&&(e=_[_0x4962("0x3b")][h[_0x4962("0x4a")].decode("bG9nb3Rva2Vu")],t=_0x4962("0xf93"),i=_0x4962("0xf94"),_[b[_0x4962("0x9c1")]]&&typeof _.id===_0x4962("0xd")&&_.id[_0x4962("0xaf")](h.Base64[_0x4962("0x4b")](i))>-1&&e===h.Base64[_0x4962("0x4b")](t)&&(_[b[_0x4962("0x9c1")]].sprite_[_0x4962("0xf6")][_0x4962("0x144")]=!0,_[b[_0x4962("0x9c1")]][_0x4962("0x53c")].material[_0x4962("0x145")]=0),x[_0x4962("0xf95")]=!0),!a[_0x4962("0x53c")].visible&&!esmap.ESMap.IsMapLoading)return void(a.sprite_[_0x4962("0x17c")]=!0);if(!a[_0x4962("0x53c")][_0x4962("0xf6")][_0x4962("0x17c")])return void(a.sprite_.material[_0x4962("0x17c")]=!0);0!==a.sprite_[_0x4962("0x1fe")].x&&0!==a[_0x4962("0x53c")].scale.y||(a[_0x4962("0x53c")][_0x4962("0x1fe")].x=96,a.sprite_.scale.y=25)}}}},{key:_0x4962("0xa27"),value:(e=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,i,n,r,s,c,l,f,b,v,p;return a[_0x4962("0xc")].wrap((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:if(e=this[_0x4962("0x48")],t=e[_0x4962("0x3b")],i=void 0,n=!1,r=(0,u[_0x4962("0x315")])(),s=!1,!e.id){x[_0x4962("0x286")]=15;break}if(t[_0x4962("0x3ab")]){x[_0x4962("0x286")]=12;break}return x.next=10,e[_0x4962("0xa10")](e.id);case 10:x.next=15;break;case 12:e.getBuildingById(e.id)[_0x4962("0xf2")][_0x4962("0x17c")]=!1,e[_0x4962("0x194")][_0x4962("0xbf6")](e.id);case 15:if(t[_0x4962("0x3ab")]&&(i=e[_0x4962("0x139")](_)),e.id=_,i){x[_0x4962("0x286")]=25;break}return(c=(0,o[_0x4962("0x37c")])(t)).id=_,x[_0x4962("0x286")]=22,e[_0x4962("0x7f")][_0x4962("0xd8d")](c);case 22:i=x[_0x4962("0x33c")],x.next=27;break;case 25:i[_0x4962("0xf2")][_0x4962("0x17c")]=!0,n=!0;case 27:if(i){x[_0x4962("0x286")]=29;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 29:if(l=e.buildingService._gp(_0x4962("0xe82"))){x[_0x4962("0x286")]=32;break}return x.abrupt("return");case 32:if(l[_0x4962("0xf96")]()){x[_0x4962("0x286")]=34;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 34:if(e.mapService.getState("sk")||"share"==l[_0x4962("0x5ac")](_0x4962("0xd07"))||e.mapService[_0x4962("0x80")](_0x4962("0xeba"))||(s=!0),!e[_0x4962("0x7f")][_0x4962("0x80")]("hf")){x[_0x4962("0x286")]=37;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 37:if(f=i[_0x4962("0xaf1")],!s){x[_0x4962("0x286")]=43;break}if(e[_0x4962("0x7f")][_0x4962("0x80")](_0x4962("0xeb7"))){x[_0x4962("0x286")]=41;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 41:if(e[_0x4962("0x7f")][_0x4962("0x80")](_0x4962("0xeb8"))){x[_0x4962("0x286")]=43;break}return x.abrupt("return");case 43:e[_0x4962("0xe5")](_0x4962("0xd90"),{bid:_,data:f[_0x4962("0xd8f")]}),e.buildingService[_0x4962("0x404")][_]||(e.buildingService.navData[_]=f[_0x4962("0xd8f")]),e[_0x4962("0xaa4")]=i[_0x4962("0xaa4")],e.focusBuilding=i,b=_0x4962("0xc2"),v=l[_0x4962("0x5ac")](b),p=e.options[h.Base64[_0x4962("0x4b")](b)],((0,g._isemvlg)(e.id)||v&&p&&(0,d[_0x4962("0x475")])(_0x4962("0xb0c")+(_+p))===l[_0x4962("0x5ac")](b))&&(r[_0x4962("0x720")].sl=!1),e[_0x4962("0x34")][_0x4962("0xf97")](i),e[_0x4962("0x1c6")][_0x4962("0xf98")](i),e[_0x4962("0x1c6")][_0x4962("0x24e")](),esmap.ESMap[_0x4962("0xa03")]=!1,e[_0x4962("0x9c6")][_0x4962("0xb21")](),e[_0x4962("0xe5")](_0x4962("0xf99"),i),n&&(e[_0x4962("0xe5")](_0x4962("0xb06"),{}),e[_0x4962("0xe5")]("buildingLoadComplete",i),e[_0x4962("0xe5")](_0x4962("0xcbe"),{bid:i.id}),e[_0x4962("0xe5")](_0x4962("0xa36"),{bid:i.id}),e.mapPicker[_0x4962("0xbf7")](i.id));case 58:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0xa28"),value:(_=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,n,r,s,o,c,l,v,p,m,A,y,C,I,E=this;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return e=this[_0x4962("0x48")],n=e[_0x4962("0x3b")],e.id=_,e[_0x4962("0x7f")].tileService[_0x4962("0x39")](),r=(0,u.useGlobalStore)(),x[_0x4962("0x286")]=7,e[_0x4962("0x7f")][_0x4962("0x2b4")].oa();case 7:if(x[_0x4962("0x33c")]){x[_0x4962("0x286")]=10;break}return x[_0x4962("0x28b")]("return");case 10:return n[_0x4962("0x131")]&&(s=e[_0x4962("0x237")](n[_0x4962("0x131")]),e.controls[_0x4962("0x2c5")].x=s.x,e[_0x4962("0x260")][_0x4962("0x2c5")].z=s.z),o=n[_0x4962("0x391")]||0,e.rotateAngle=o,c=null==n.defaultTiltAngle?60:n[_0x4962("0x392")],e[_0x4962("0x330")]=c,x[_0x4962("0x285")]=15,x[_0x4962("0x286")]=18,e[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xd54")]("json");case 18:if(!x[_0x4962("0x33c")]){x.next=22;break}return x[_0x4962("0x286")]=22,new i.default((function(x){e.on("tileTexturesReady",x)}));case 22:x.next=29;break;case 24:return x[_0x4962("0x285")]=24,x.t0=x.catch(15),f.MessagePoster[_0x4962("0x1dc")]({msg:""+x.t0,level:_0x4962("0xe0")}),e[_0x4962("0xe5")](_0x4962("0xf9a"),x.t0),x.abrupt("return");case 29:if(window[_0x4962("0xe7")].tileMapInited||(null!=n.maxZoomLevel&&(e[_0x4962("0x260")].minDistance=e[_0x4962("0x1c6")][_0x4962("0xaa6")](n[_0x4962("0x3ae")])),null!=n.minZoomLevel?e.controls[_0x4962("0x2b0")]=e.mapView.getDistanceByZoomLevel(n[_0x4962("0x3ad")]):e[_0x4962("0x260")].maxDistance=e[_0x4962("0x1c6")][_0x4962("0xaa6")](14),e[_0x4962("0x1c6")].show()),e.on(_0x4962("0xdbc"),(function(){if(0==e[_0x4962("0x2b4")].solvingList[_0x4962("0x0")]&&0==e[_0x4962("0x2b4")][_0x4962("0xb11")][_0x4962("0x0")]){var x=e.tileList;for(var _ in x){var t=x[_],i=t[_0x4962("0x264")].queue[_0x4962("0x0")],a=t[_0x4962("0x264")].requisitesQueue[_0x4962("0x0")],n=0;for(var r in t[_0x4962("0x264")].mergeQueue){var s=t[_0x4962("0x264")][_0x4962("0xda0")][r];for(var o in s)n+=s[o].length}if(i>0||a>0||n>0)break}}})),e[_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xf9b")](),l=e[_0x4962("0x2b4")][_0x4962("0xd17")]("skNl")){x.next=35;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 35:if(l[_0x4962("0xf96")]()){x[_0x4962("0x286")]=37;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 37:return v=_0x4962("0xc2"),p=l._gd(v),m=e.options[h[_0x4962("0x4a")][_0x4962("0x4b")](v)],((0,g[_0x4962("0x10e")])(e.id)||p&&m&&(0,d[_0x4962("0x475")])("WELL"+(_+m))===p)&&(r[_0x4962("0x720")].sl=!1),x[_0x4962("0x285")]=41,x[_0x4962("0x286")]=44,e[_0x4962("0x2b4")].tryFetchBoundary();case 44:x[_0x4962("0x286")]=48;break;case 46:x[_0x4962("0x285")]=46,x.t1=x.catch(41);case 48:if(x[_0x4962("0x285")]=48,e.mapService.getState("vhosts")){x[_0x4962("0x286")]=51;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 51:if(A=e.mapService[_0x4962("0x80")](_0x4962("0xd34")),y=!1,!(0,g[_0x4962("0x10d")])(e.id)){x[_0x4962("0x286")]=57;break}y=!0,x.next=72;break;case 57:if("lc"==A||"em"==A){x[_0x4962("0x286")]=71;break}if(C=document[b[_0x4962("0xbd")]],"object"!==(void 0===A?"undefined":(0,t[_0x4962("0xc")])(A))){x[_0x4962("0x286")]=69;break}x.t2=a.default[_0x4962("0xaf3")](A);case 61:if((x.t3=x.t2())[_0x4962("0x426")]){x[_0x4962("0x286")]=69;break}if(I=x.t3[_0x4962("0xe3")],!(C[_0x4962("0xaf")](I)>-1)){x[_0x4962("0x286")]=67;break}return(new Date)[_0x4962("0x86")]()-A[I]<=0&&(y=!0),x[_0x4962("0x28b")](_0x4962("0xaf5"),69);case 67:x[_0x4962("0x286")]=61;break;case 69:x[_0x4962("0x286")]=72;break;case 71:y=!0;case 72:if(y){x[_0x4962("0x286")]=74;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 74:return e.tileService[_0x4962("0xa04")]?(e[_0x4962("0x7f")][_0x4962("0xac6")]=!0,e[_0x4962("0x34")][_0x4962("0x41c")][_0x4962("0x17c")]=!1,e[_0x4962("0x2b4")][_0x4962("0xa05")]({mapId:e[_0x4962("0x2b4")][_0x4962("0xa04")]},null,!0,!1)[_0x4962("0x2dd")]((function(x){e[_0x4962("0xbd9")](x)||(null!=n[_0x4962("0x39c")]?e[_0x4962("0x260")][_0x4962("0xab5")](e[_0x4962("0xaa4")][n.defaultScaleLevel]):e[_0x4962("0x260")][_0x4962("0xab5")](e[_0x4962("0xaa4")][x[_0x4962("0xaf1")].Firstscale]))})),e[_0x4962("0xaa3")](_0x4962("0xaf6"),(function(x){x.bid===e[_0x4962("0x2b4")][_0x4962("0xa04")]&&(e[_0x4962("0x7f")][_0x4962("0xac6")]=!1,esmap.ESTileMap&&esmap[_0x4962("0x6b0")].Tools[_0x4962("0xd94")](!0),e[_0x4962("0x34")][_0x4962("0x41c")].visible=!0,e.tileService[_0x4962("0xa04")]=null,e.loadComplete_(),e[_0x4962("0x9bc")]=!0,e.controls[_0x4962("0xf9c")]())}))):(e[_0x4962("0xb03")](),e.updateTile=!0,e[_0x4962("0xe5")](_0x4962("0xcbe"))),e.on("beforeOpenBuilding",(function(){E[_0x4962("0xcfe")]+=1})),e.on(_0x4962("0xa35"),(function(){E[_0x4962("0xcfe")]-=1})),e.on(_0x4962("0x179"),(function(x){var _=e[_0x4962("0x3b")];x<=_[_0x4962("0xb09")]?e[_0x4962("0xaf7")]():x<=_[_0x4962("0xb09")]&&e.tapTip&&0!=e.tapTip.popDiv_.style[_0x4962("0x145")]&&(e.tapTip.popDiv_.style[_0x4962("0x145")]=0)})),x[_0x4962("0xf9d")](48);case 79:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this,[[15,24],[41,46,48,79]])}))),function(x){return _.apply(this,arguments)})}]),x}();_[_0x4962("0x9da")]=p},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){(0,t.default)(this,x)}return(0,i[_0x4962("0xc")])(x,null,[{key:_0x4962("0x1e4"),value:function(x){var _={};return x.on=function(e,t){return(_[e]=_[e]||[])[_0x4962("0x3")](t),x},x[_0x4962("0xaa3")]=function(_,e){function t(){e.apply(x.off(_,t),arguments)}return t.h=e,x.on(_,t)},x[_0x4962("0x6b")]=function(e,t){for(var i=_[e],a=0;t&&i&&i[a];a++)i[a]!=t&&i[a].h!=t||i[_0x4962("0x4")](a--,1);return a||delete _[e],x},x[_0x4962("0x227")]=function(e){for(var t=_[e],i=0;t&&t[i];)t[i++][_0x4962("0x2a4")](x,t[_0x4962("0x1e7")][_0x4962("0xf")](arguments,1));return x},x}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x48")]=_;var e=esmap[_0x4962("0x8c")][_0x4962("0x33e")]();this[_0x4962("0xc3d")]=!1,this[_0x4962("0xbbe")]=new THREE.EffectComposer(_.mapView[_0x4962("0x364")]),this[_0x4962("0xf9e")]=new(THREE[_0x4962("0x6fc")])(_.mapView.renderer),this.scale=(e.isPC,2),this[_0x4962("0xf9f")]={width:_.mapView.w_,height:_[_0x4962("0x1c6")].h_};var i=new(THREE[_0x4962("0x72b")])(_[_0x4962("0x1c6")][_0x4962("0x2e6")],_.mapView.camera);this[_0x4962("0xbbe")][_0x4962("0xfa0")](i);var a=new THREE.ShaderPass(THREE[_0x4962("0xfa1")]);a[_0x4962("0x709")]=!0,this.composer.addPass(a);var n=new(THREE[_0x4962("0x72b")])(_.mapView[_0x4962("0x2e6")],_[_0x4962("0x1c6")].cameraTop),r=new(THREE[_0x4962("0x70b")])(THREE[_0x4962("0xfa1")]);r[_0x4962("0x709")]=!0,this[_0x4962("0xf9e")][_0x4962("0xfa0")](n),this[_0x4962("0xf9e")][_0x4962("0xfa0")](r),this.setScale(this[_0x4962("0x1fe")])}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x711"),value:function(){this[_0x4962("0x710")]||this.map[_0x4962("0x1c6")].renderer[_0x4962("0x711")](this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x2e6")],this[_0x4962("0x48")].mapView[_0x4962("0x669")])}},{key:_0x4962("0xfa2"),value:function(){this[_0x4962("0x710")]?this[_0x4962("0xf9e")].render(this[_0x4962("0x48")][_0x4962("0x9cd")][_0x4962("0x2a0")]()):this[_0x4962("0x48")][_0x4962("0x1c6")].renderer.render(this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x2e6")],this.map[_0x4962("0x1c6")][_0x4962("0xa58")])}},{key:_0x4962("0x31a"),value:function(x){this.scale=x,this.size={width:this[_0x4962("0xf9f")][_0x4962("0x1ce")]*this[_0x4962("0x1fe")],height:this[_0x4962("0xf9f")][_0x4962("0x1a4")]*this[_0x4962("0x1fe")]}}},{key:_0x4962("0xfa3"),value:function(x,_){this.originSize[_0x4962("0x1ce")]=x,this[_0x4962("0xf9f")][_0x4962("0x1a4")]=_,this[_0x4962("0x31a")](this.scale)}},{key:_0x4962("0xdd"),get:function(){return{width:this[_0x4962("0xbbe")][_0x4962("0x705")][_0x4962("0x1ce")],height:this[_0x4962("0xbbe")][_0x4962("0x705")].height}},set:function(x){this[_0x4962("0xbbe")].setSize(x[_0x4962("0x1ce")],x[_0x4962("0x1a4")]),this[_0x4962("0xf9e")][_0x4962("0x31b")](x.width,x[_0x4962("0x1a4")])}},{key:_0x4962("0x710"),get:function(){return this[_0x4962("0xc3d")]},set:function(x){this[_0x4962("0xc3d")]=x}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=u(e(14)),i=u(e(157)),a=u(e(15)),n=u(e(158)),r=u(e(2)),s=u(e(0)),o=u(e(1)),c=e(4),l=u(e(114)),f=e(51),d=u(e(24));function u(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var h=function(){function x(_){(0,s[_0x4962("0xc")])(this,x),this[_0x4962("0xfa4")]={},this[_0x4962("0xa1d")]={},this[_0x4962("0xfa5")]=null,this[_0x4962("0xe05")]=[],this[_0x4962("0xfa6")]={color_:16777215,alpha:.1,strokeColor_:16777215,strokeWidth:2},this[_0x4962("0x41a")]={},this[_0x4962("0xa6f")]={},this[_0x4962("0x3e1")]={},this[_0x4962("0xbbd")]=16777215,this[_0x4962("0xfa7")]=.875,this.floorColor_=16776960,this[_0x4962("0xfa8")]=.875,this[_0x4962("0xfa9")]=0,this[_0x4962("0xde3")]=0,this.selectedColor_=16750950,this[_0x4962("0xac4")]=16119296,this[_0x4962("0xac2")]=16762412,this[_0x4962("0xfaa")]={fontSize:24,fillStyle:_0x4962("0x128"),strokeWidth:1,strokeStyle:_0x4962("0x128"),shadowBlur:4,shadowColor:_0x4962("0xfab"),shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x4962("0xfac")]={fontSize:24,fillStyle:_0x4962("0x128"),strokeWidth:1,strokeStyle:"#FFFFFF",shadowBlur:4,shadowColor:_0x4962("0xfab"),shadowOffsetX:0,shadowOffsetY:0,padding:2},this[_0x4962("0x3e2")]={fillcolor:_0x4962("0xd5f"),fontface:"",fontsize:_0x4962("0xfad"),strokecolor:_0x4962("0xdfe"),strokewidth:"2",typeid:"0"},this[_0x4962("0xfae")]={0:{fillcolor:_0x4962("0xd5f"),fontface:"",fontsize:_0x4962("0xfad"),strokecolor:"255,255,255",strokewidth:"2",image:"",imageAlign:_0x4962("0x131"),typeid:"0"},1:{fillcolor:_0x4962("0xd5f"),fontface:"",fontsize:_0x4962("0xfad"),strokecolor:"255,255,255",strokewidth:"2",typeid:"1"}},this[_0x4962("0xfaf")]={},this.tileTextures={},this.model3DSelectedColor_=16750950,this[_0x4962("0xe23")]=!1,this[_0x4962("0xfb0")]=null,this[_0x4962("0xfb1")]=null,this.mapRoadMats={normal:new(THREE[_0x4962("0x581")])({color:16777215}),main:new(THREE[_0x4962("0x581")])({color:16766720})},this[_0x4962("0xa2d")]=[new(THREE[_0x4962("0x581")])({color:16777215,name:_0x4962("0xc")})],this[_0x4962("0xdf4")]={},this[_0x4962("0xb52")]={color:16711680,lineWidth:8,alpha:.8,dash:{size:1,gap:1}},this.maptheme=null,this[_0x4962("0x53b")]=_,this[_0x4962("0x877")]=new THREE.TextureLoader,this.selectModelMat||(this[_0x4962("0x447")]=new(THREE[_0x4962("0xfb2")])({color:this[_0x4962("0xfb3")],transparent:!0,name:"selectMat"})),this[_0x4962("0x447")][_0x4962("0x147")]=new THREE.Color(this.selectedColor_),_[_0x4962("0x438")]&&_[_0x4962("0x438")][_0x4962("0x288")]&&(this[_0x4962("0x447")].color=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](_[_0x4962("0x438")][_0x4962("0x288")][_0x4962("0x147")]),this[_0x4962("0xfb3")]=esmap[_0x4962("0x8c")][_0x4962("0x461")](_.selectedColor[_0x4962("0x288")][_0x4962("0x147")])),this.defaultMaterial=this[_0x4962("0xfb4")](this.defaultTheme_),this[_0x4962("0xdf4")][_0x4962("0xdf5")]=[this.createMaterial_({color_:_0x4962("0xfb5"),alpha:.8,strokeColor_:16777215,strokeWidth:2})],this[_0x4962("0xdf4")][_0x4962("0xdf5")][0][_0x4962("0x15e")]=THREE[_0x4962("0x436")],this.navSingleDirectRoadMat=null,this[_0x4962("0x419")]=null,this.defaultLightConfig=[{typeid:1,type:"AmbientLight",color:_0x4962("0xfb6"),intensity:1},{typeid:2,type:_0x4962("0x7e6"),color:_0x4962("0xfb7"),intensity:1.4,pitchAngle:70,directionAngle:180},{typeid:3,type:_0x4962("0x7e6"),color:_0x4962("0xfb8"),intensity:0,pitchAngle:45,directionAngle:90}]}return(0,o[_0x4962("0xc")])(x,[{key:_0x4962("0xfb9"),value:function(x){var _=esmap.ESMap.instance,e=_[_0x4962("0x1c6")].lights[x];e?(_[_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0x197")](e),delete _.mapView[_0x4962("0x7e3")][x]):console[_0x4962("0xe0")](_0x4962("0xfba")+x+_0x4962("0xfbb"))}},{key:_0x4962("0xfbc"),value:function(x){var _=esmap[_0x4962("0x33")].instance,e=void 0;if(x[_0x4962("0x9d")])switch(x[_0x4962("0x9d")]){case"AmbientLight":e=new THREE.AmbientLight;break;case"DirectionalLight":e=new(THREE[_0x4962("0x7e6")])(8947848,1)}e[_0x4962("0x107")]=x[_0x4962("0x57e")],_[_0x4962("0x1c6")][_0x4962("0x7e3")][x[_0x4962("0x57e")]]=e,this.setLightProperties(e,x),_[_0x4962("0x1c6")].scene[_0x4962("0xda")](e)}},{key:_0x4962("0xfbd"),value:function(x){_0x4962("0xbc1"),_0x4962("0xbc2");for(var _=esmap[_0x4962("0x33")][_0x4962("0x3a")].mapView.lights,e=0;e<x[_0x4962("0x0")];e++){var t=x[e];_[t[_0x4962("0x57e")]]?this[_0x4962("0xfbe")](_[t.typeid],t):this[_0x4962("0xfbc")](t)}}},{key:_0x4962("0xfbf"),value:function(x,_,e){this[_0x4962("0xfc0")](this[_0x4962("0xfc1")],32,e,x,_)}},{key:_0x4962("0xfc2"),value:function(x){for(var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=this[_0x4962("0xfc3")][_0x4962("0x3b8")],t=0;t<x[_0x4962("0x0")];t++){var i=x[t];if((0,f[_0x4962("0x11f")])(i,e[t])){i[_0x4962("0x145")];var a=1*i[_0x4962("0xa70")]||1,n=1*i[_0x4962("0xd6d")]||1;if(1==a)(0,r[_0x4962("0xc")])(this[_0x4962("0xa6f")][i[_0x4962("0x57e")]],{scaleheight:n,color:i[_0x4962("0x147")]});else{if(!i.topimage&&!i[_0x4962("0xfc4")]){console[_0x4962("0xe0")](_0x4962("0xfc5")+i[_0x4962("0x57e")]+_0x4962("0xfc6")),i[_0x4962("0xa70")]=1,t--;continue}var s=esmap.ESMapUtil[_0x4962("0x656")](i.color),o=document[_0x4962("0x24")](_0x4962("0x336"));o.width=16,o[_0x4962("0x1a4")]=16;var c=o[_0x4962("0x337")]("2d");c[_0x4962("0x343")]=s,c[_0x4962("0x9b3")](0,0,16,16),new(THREE[_0x4962("0x368")])(o)[_0x4962("0x187")]=!0;var l=void 0,d=null,u=_[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x9f")+this[_0x4962("0x53b")][_0x4962("0x72")]+_0x4962("0xfc7"),h=1*i[_0x4962("0xfc8")],g=1*i.sideimagerepeat;if(i[_0x4962("0xfc9")]){if(i.topimage[_0x4962("0xaf")]("/")>-1&&(u=_[_0x4962("0x3b")].mapDataSrc+_.id+_0x4962("0x9f")+this[_0x4962("0x53b")][_0x4962("0x72")]+"/upload/building/"),l=this[_0x4962("0x877")][_0x4962("0x18d")](u+i[_0x4962("0xfc9")]),i[_0x4962("0xfca")]||(i[_0x4962("0xfca")]=1),1*i[_0x4962("0xfca")]==1){var b=(1*i.topimagerepeat||50)/500;l.wrapS=l.wrapT=THREE[_0x4962("0x18f")],l[_0x4962("0x15b")].x=b,l.repeat.y=b}l[_0x4962("0x187")]=!0}if(i.sideimage){if(i[_0x4962("0xfc4")][_0x4962("0xaf")]("/")>-1&&(u=_[_0x4962("0x3b")][_0x4962("0x46")]+_.id+_0x4962("0x9f")+this[_0x4962("0x53b")][_0x4962("0x72")]+_0x4962("0xfcb")),d=this.textureLoader[_0x4962("0x18d")](u+i.sideimage),i[_0x4962("0xfcc")]||(i[_0x4962("0xfcc")]=1),1*i[_0x4962("0xfcc")]==1){var v=(1*i.sideimagerepeat||50)/500;d[_0x4962("0x8a3")]=d[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],d[_0x4962("0x15b")].x=v,d[_0x4962("0x15b")].y=v}d[_0x4962("0x187")]=!0}var p=this.tileStyles[i[_0x4962("0x57e")]][_0x4962("0xf6")][_0x4962("0x166")][_0x4962("0xfcd")];l&&(p.shader[_0x4962("0x149")][_0x4962("0x486")][_0x4962("0xe3")]=l,p.shader[_0x4962("0x149")].topTexMat[_0x4962("0xe3")]=l.matrix),d&&(p[_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x488")][_0x4962("0xe3")]=d,p[_0x4962("0x48f")][_0x4962("0x149")].sideTexMat[_0x4962("0xe3")]=d[_0x4962("0x22b")]),(0,r.default)(this[_0x4962("0xa6f")][i[_0x4962("0x57e")]],{scaleheight:n,topTextureType:1*i[_0x4962("0xfca")]||1,sideTextureType:1*i[_0x4962("0xfcc")]||1,filltype:a,topImage:i[_0x4962("0xfc9")],sideImage:i[_0x4962("0xfc4")],sideimagerepeat:g,topimagerepeat:h})}}}}},{key:_0x4962("0xfce"),value:function(x){for(var _ in x){var e=x[_],t=e[_0x4962("0x57e")],r={},s=(0,c[_0x4962("0xfcf")])(e,{fillStyle:[_0x4962("0x351"),_0x4962("0x343")],strokeStyle:[_0x4962("0x352"),_0x4962("0x344")],strokeWidth:["strokewidth",_0x4962("0x349")],fontSize:[_0x4962("0xfd0"),"fontSize"],image:[_0x4962("0x326")],imageAlign:[_0x4962("0xea0")],imageScale:["imageScale"],shadowBlur:["shadowBlur"],shadowOffsetX:[_0x4962("0x347")],shadowOffsetY:[_0x4962("0x348")],shadowColor:[_0x4962("0x346")],imageShadowBlur:[_0x4962("0xfd1")]}),o=(0,n[_0x4962("0xc")])(s),l=!0,f=!1,d=void 0;try{for(var u,h=(0,a[_0x4962("0xc")])(o);!(l=(u=h[_0x4962("0x286")]())[_0x4962("0x426")]);l=!0){var g=(0,i[_0x4962("0xc")])(u[_0x4962("0xe3")],2),b=g[0],v=g[1];b!=_0x4962("0x343")&&b!=_0x4962("0x344")&&"shadowColor"!=b||(s[b]=(0,c[_0x4962("0x354")])(v))}}catch(x){f=!0,d=x}finally{try{!l&&h[_0x4962("0x28c")]&&h[_0x4962("0x28c")]()}finally{if(f)throw d}}(0,c[_0x4962("0xfd2")])(r,s),this[_0x4962("0x3e1")][t]=r,this[_0x4962("0x3e1")][t][_0x4962("0x57e")]=t}}},{key:"checkTileTextures",value:function(){return!0}},{key:_0x4962("0xfd3"),value:function(x){for(var _=this,e=esmap[_0x4962("0x33")].instance,t=0,i=0,a=void 0,n=void 0,r=e[_0x4962("0x3b")][_0x4962("0x1f5")],s=!1,o={},c=0;c<x[_0x4962("0x0")];c++){var f=x[c],d=1*f[_0x4962("0x145")]||0,u=!0,h=1*f[_0x4962("0xa70")]||1,g=1*f[_0x4962("0xd6d")]||1,b=1*f[_0x4962("0x1a4")]||0,v=1*f.basic||0,p=1*f.borderwidth||0,m=f[_0x4962("0xfd4")]||_0x4962("0xfb8");if(v){var A=new(THREE[_0x4962("0x581")])({color:esmap[_0x4962("0x8c")][_0x4962("0x461")](f[_0x4962("0x147")]),transparent:u,opacity:d,side:0});this.tileStyles[f[_0x4962("0x57e")]]={basic:v,material:A,borderwidth:p,bordercolor:m,prodMatIdx:1e3+1*f[_0x4962("0x57e")],scaleheight:g,color:f[_0x4962("0x147")],hasTexture:!1,filltype:1,height:b},this[_0x4962("0xa6f")][1e3+1*f[_0x4962("0x57e")]]=this[_0x4962("0xa6f")][f[_0x4962("0x57e")]]}else if(1==h){var y=new(THREE[_0x4962("0xfb2")])({color:esmap[_0x4962("0x8c")][_0x4962("0x461")](f[_0x4962("0x147")]),transparent:u,opacity:d,side:0});this[_0x4962("0xa6f")][f.typeid]={borderwidth:p,bordercolor:m,material:y,prodMatIdx:0,scaleheight:g,color:f[_0x4962("0x147")],hasTexture:!1,filltype:1,height:b}}else{if(!f[_0x4962("0xfc9")]&&!f[_0x4962("0xfc4")]){console[_0x4962("0xe0")](_0x4962("0xfc5")+f[_0x4962("0x57e")]+_0x4962("0xfc6")),f.filltype=1,c--;continue}var C=esmap[_0x4962("0x8c")].colorRGB2Hex(f[_0x4962("0x147")]),I=new(l[_0x4962("0xc")])({colorStr:C}),E=document[_0x4962("0x24")](_0x4962("0x336"));E.width=16,E[_0x4962("0x1a4")]=16;var w=E[_0x4962("0x337")]("2d");w[_0x4962("0x343")]=C,w[_0x4962("0x9b3")](0,0,16,16);var T=new(THREE[_0x4962("0x368")])(E);T.needsUpdate=!0;var k=void 0,M=null,S=1*f[_0x4962("0xfc8")],R=1*f[_0x4962("0xfd5")];if(f[_0x4962("0xfc9")])if(this[_0x4962("0xfd6")][f[_0x4962("0xfc9")]])M=this[_0x4962("0xfd6")][f.topimage][_0x4962("0x702")];else{var L=e[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x9f")+this.options_.themeID+_0x4962("0xfc7");f[_0x4962("0xfc9")][_0x4962("0xaf")]("/")>-1&&(L=e.options[_0x4962("0x46")]+e.id+_0x4962("0x9f")+this.options_[_0x4962("0x72")]+"/upload/building/"),this[_0x4962("0xfd6")][f[_0x4962("0xfc9")]]={uuid:null,texture:null,loaded:!1,failed:!1},s||(s=!0);var H=L+f.topimage;if(o[H]=!1,k=this[_0x4962("0x877")][_0x4962("0x18d")](H,(function(x){var t=x[_0x4962("0x195")],i=!0;for(var a in x[_0x4962("0x187")]=!0,o[x[_0x4962("0x326")][_0x4962("0x4ee")]]=!0,_[_0x4962("0xfd6")])_[_0x4962("0xfd6")][a].uuid===t&&(_[_0x4962("0xfd6")][a][_0x4962("0xaf4")]=!0),_.tileTextures[a][_0x4962("0xaf4")]||(i=!1);i&&e[_0x4962("0xe5")](_0x4962("0xfd7"))}),null,(function(x){for(var _ in o[x[_0x4962("0x2c5")][_0x4962("0x4ee")]]=!0,o)if(!o[_])return;e.fire(_0x4962("0xfd7"))})),this[_0x4962("0xfd6")][f[_0x4962("0xfc9")]][_0x4962("0x195")]=k.uuid,this[_0x4962("0xfd6")][f[_0x4962("0xfc9")]].texture=k,f[_0x4962("0xfca")]||(f[_0x4962("0xfca")]=1),1*f[_0x4962("0xfca")]==1){var D=(1*f.topimagerepeat||50)/500;k[_0x4962("0x8a3")]=k[_0x4962("0x8a4")]=THREE.RepeatWrapping,k.repeat.x=D,k.repeat.y=D}}if(f[_0x4962("0xfc4")])if(this.tileTextures[f[_0x4962("0xfc4")]])M=this[_0x4962("0xfd6")][f[_0x4962("0xfc4")]].texture;else{var O=e[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x9f")+this[_0x4962("0x53b")][_0x4962("0x72")]+_0x4962("0xfc7");f[_0x4962("0xfc4")][_0x4962("0xaf")]("/")>-1&&(O=e[_0x4962("0x3b")][_0x4962("0x46")]+e.id+"/worldtheme/"+this[_0x4962("0x53b")][_0x4962("0x72")]+_0x4962("0xfcb")),this[_0x4962("0xfd6")][f[_0x4962("0xfc4")]]={uuid:null,texture:null,loaded:!1},s||(s=!0);var P=O+f[_0x4962("0xfc4")];if(o[P]=!1,M=this[_0x4962("0x877")][_0x4962("0x18d")](O+f.sideimage,(function(x){o[x.image.src]=!0;var t=x[_0x4962("0x195")],i=!0;for(var a in x[_0x4962("0x187")]=!0,_[_0x4962("0xfd6")])_.tileTextures[a].uuid===t&&(_[_0x4962("0xfd6")][a][_0x4962("0xaf4")]=!0),_.tileTextures[a].loaded||(i=!1);i&&e[_0x4962("0xe5")](_0x4962("0xfd7"))}),null,(function(x){for(var _ in o[x[_0x4962("0x2c5")].src]=!0,o)if(!o[_])return;e[_0x4962("0xe5")](_0x4962("0xfd7"))})),this[_0x4962("0xfd6")][f[_0x4962("0xfc4")]].uuid=M[_0x4962("0x195")],this[_0x4962("0xfd6")][f[_0x4962("0xfc4")]][_0x4962("0x702")]=M,f[_0x4962("0xfcc")]||(f[_0x4962("0xfcc")]=1),1*f[_0x4962("0xfcc")]==1){var N=(1*f[_0x4962("0xfd5")]||50)/500;M[_0x4962("0x8a3")]=M[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],M[_0x4962("0x15b")].x=N,M.repeat.y=N}}var F=a;a&&0!==t||((F=I[_0x4962("0x482")]({topTexture:k||T,sideTexture:M||T})).userData[_0x4962("0xfd8")]=M,F.userData.texTop=k,F[_0x4962("0x144")]=u,F[_0x4962("0x166")][_0x4962("0xfcd")]=I,F[_0x4962("0x145")]=d,a=F,F.userData[_0x4962("0xfd9")]=this[_0x4962("0xa2d")][_0x4962("0x0")]-1),n||(n=F),this[_0x4962("0xa6f")][f[_0x4962("0x57e")]]={borderwidth:p,bordercolor:m,scaleheight:g,material:F,prodMatIdx:i,hasTexture:!0,topTextureType:1*f[_0x4962("0xfca")]||1,sideTextureType:1*f[_0x4962("0xfcc")]||1,filltype:h,topImage:f.topimage,sideImage:f.sideimage,sideimagerepeat:R,topimagerepeat:S,height:b},4===(t+=1)&&(t=0,i++)}}var B={};for(var z in this[_0x4962("0xa6f")])B[z]=this[_0x4962("0xa6f")][z][_0x4962("0xe12")],this[_0x4962("0xa6f")][z][_0x4962("0xfda")]||1*this[_0x4962("0xa6f")][z].filltype!=1||r||(this.tileStyles[z].material=n,this[_0x4962("0xa6f")][z][_0x4962("0xe12")]=0);return this[_0x4962("0xfdb")]=B,s}},{key:_0x4962("0xfdc"),value:function(x){var _=esmap[_0x4962("0x33")].instance;if(x[_0x4962("0xfdd")]&&x.doubleStyle){this[_0x4962("0x418")]=this[_0x4962("0xfde")](x.singleStyle,_),this[_0x4962("0x419")]=this[_0x4962("0xfde")](x[_0x4962("0xfdf")],_);var e=!0,t=!1,i=void 0;try{for(var n,r=(0,a.default)(_[_0x4962("0x67e")]);!(e=(n=r.next())[_0x4962("0x426")]);e=!0){n.value[_0x4962("0x417")](!0,x[_0x4962("0xfdd")],x[_0x4962("0xfdf")])}}catch(x){t=!0,i=x}finally{try{!e&&r[_0x4962("0x28c")]&&r[_0x4962("0x28c")]()}finally{if(t)throw i}}}else console.info(_0x4962("0xfe0"))}},{key:_0x4962("0xfe1"),value:function(x){var _=esmap.ESMap.instance;if(_[_0x4962("0x3b")][_0x4962("0x40b")])for(var e=0;e<x[_0x4962("0x0")];e++)this.createRoadStyle(x[e],_)}},{key:_0x4962("0xfde"),value:function(x,_){var e=x[_0x4962("0x57e")],t=new(THREE[_0x4962("0x581")])({color:16777215,transparent:true,opacity:1*x[_0x4962("0x145")],side:THREE[_0x4962("0x436")]});t[_0x4962("0x144")]=true,t[_0x4962("0x145")]=1*x[_0x4962("0x145")];var i=null;if(1==x.filltype)t.color=new(THREE[_0x4962("0x188")])(esmap.ESMapUtil.toColor(x[_0x4962("0x147")]));else{x[_0x4962("0xfe2")]?i=x[_0x4962("0xfe2")]:(i=_[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x9f")+this.options_[_0x4962("0x72")]+_0x4962("0xfe3")+x[_0x4962("0x326")],x[_0x4962("0x326")][_0x4962("0xaf")]("/")>-1&&(i=this[_0x4962("0x53b")][_0x4962("0x49")]+(1==this[_0x4962("0x53b")][_0x4962("0x88")]?_[_0x4962("0x3b")][_0x4962("0x46")]+_.id:"/")+_0x4962("0x9f")+this.options_.themeID+_0x4962("0xfe4")+x[_0x4962("0x326")]));var a=this[_0x4962("0x877")][_0x4962("0x18d")](i);a[_0x4962("0x15b")].y=1,a[_0x4962("0x15c")].y=0,a[_0x4962("0x18e")]=THREE[_0x4962("0x849")],a.wrapS=THREE[_0x4962("0x18f")],a[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],a.repeat.x=x[_0x4962("0x15b")]||.01,a[_0x4962("0x363")]=_[_0x4962("0x1c6")].renderer[_0x4962("0x369")].getMaxAnisotropy(),t[_0x4962("0x48")]=a}return x[_0x4962("0x40e")]=x[_0x4962("0x40e")]||0,x[_0x4962("0x2")](_0x4962("0x145"))||(x.opacity=1),this[_0x4962("0x41a")][e]={url:i,animationspeed:1*x[_0x4962("0x40e")],material:t,color:x[_0x4962("0x147")],filltype:x[_0x4962("0xa70")],height:1*x.height,image:x[_0x4962("0x326")],linetype:x.linetype,linewidth:1*x[_0x4962("0x40d")],layerstyle:x[_0x4962("0xfe5")],opacity:1*x[_0x4962("0x145")]},t}},{key:"setLightProperties",value:function(x,_){_[_0x4962("0x2")](_0x4962("0x43a"))&&(x.intensity=1*_.intensity,x[_0x4962("0x43a")]||(x[_0x4962("0x17c")]=!1)),_[_0x4962("0x2")]("color")&&(x.color=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](_[_0x4962("0x147")])),x.type==_0x4962("0x7e6")&&_[_0x4962("0x2")]("pitchAngle")&&_[_0x4962("0x2")](_0x4962("0xaa2"))&&x[_0x4962("0xb9b")]({pitchAngle:_.pitchAngle,directionAngle:_[_0x4962("0xaa2")]})}},{key:_0x4962("0xd53"),value:function(x){this.modelLines=1*x[_0x4962("0xe23")]||!1;var _=esmap.ESMap.instance;x[_0x4962("0xfe6")]&&(this[_0x4962("0xbbd")]=esmap[_0x4962("0x8c")][_0x4962("0x461")](x.clearcolor),_[_0x4962("0x1c6")][_0x4962("0x364")].setClearColor(this[_0x4962("0xbbd")])),this[_0x4962("0xfe1")](x.Line);var e=this[_0x4962("0xfd3")](x.Building);return x[_0x4962("0xfe7")]&&this[_0x4962("0xfce")](x[_0x4962("0xfe7")]),x[_0x4962("0xfe8")]&&x[_0x4962("0xfe9")]&&!1===x[_0x4962("0xfe9")][_0x4962("0xfea")]&&(this[_0x4962("0xfeb")]=!0,this[_0x4962("0xfbd")](x[_0x4962("0xfe8")])),this[_0x4962("0xfc3")]=x,e}},{key:_0x4962("0xcb2"),value:function(x){var _=x.id,e=x[_0x4962("0x57b")],t=x[_0x4962("0x97")];this[_0x4962("0xfec")](_,e,t)}},{key:_0x4962("0xfec"),value:function(x,_,e){var t=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x1c6")][_0x4962("0x364")][_0x4962("0x337")](),s=t[_0x4962("0xbd4")](t[_0x4962("0xfed")]);this[_0x4962("0xbbd")]=esmap[_0x4962("0x8c")][_0x4962("0x461")](_.mapstyle.clearcolor);var o=this[_0x4962("0xfa4")][x]={};o[_0x4962("0xfee")]={},o.roomStyle={},o[_0x4962("0xfa5")]={},o[_0x4962("0x57b")]=_,o.clearColor=esmap[_0x4962("0x8c")][_0x4962("0x461")](_[_0x4962("0xfef")][_0x4962("0xfe6")]);var l=1-1*_[_0x4962("0xfef")][_0x4962("0xff0")]||0;o[_0x4962("0x72e")]=l,o[_0x4962("0xff1")]={default:(0,r.default)({},this[_0x4962("0xff2")]),selected:(0,r[_0x4962("0xc")])({},this[_0x4962("0xfac")])},o[_0x4962("0xe23")]=1*_[_0x4962("0xfef")][_0x4962("0xe23")]||!1,esmap.ESMap[_0x4962("0x3a")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&(_.lights?(this[_0x4962("0xfeb")]=!0,this[_0x4962("0xfbd")](_[_0x4962("0x7e3")])):this[_0x4962("0xfbd")](this.defaultLightConfig)),this[_0x4962("0xfa9")]=1*_.mapstyle[_0x4962("0xfa9")]||0;for(var f=_[_0x4962("0x57d")],d=0;d<f.length;d++){var u=f[d];u[_0x4962("0xff3")]=esmap.ESMapUtil[_0x4962("0x461")](u[_0x4962("0x147")]),1==u[_0x4962("0x57e")]&&(this[_0x4962("0xfb3")]=u[_0x4962("0xff3")]),u[_0x4962("0xff4")]=esmap.ESMapUtil.toColor(u[_0x4962("0x352")]),s&&s[_0x4962("0x0")]>1&&(u[_0x4962("0xe24")]<s[0]?u[_0x4962("0xe24")]=s[0]:u[_0x4962("0xe24")]>s[1]&&(u[_0x4962("0xe24")]=s[1])),u.alpha=u.transparent,o[_0x4962("0xfa5")][u[_0x4962("0x57e")]]=this[_0x4962("0xfb4")](u,null,x,e),o[_0x4962("0xff5")][u[_0x4962("0x57e")]]=u}var h={},g=_[_0x4962("0xff6")];if(o.floorStyleBase={},g&&g[_0x4962("0x0")]>0){var b=g[0];this[_0x4962("0xff7")]=esmap[_0x4962("0x8c")].toColor(b.color),b[_0x4962("0x144")]&&(this[_0x4962("0xfa8")]=1-parseFloat(b.transparent)),g.forEach((function(x){o[_0x4962("0xff8")][x[_0x4962("0xcbb")]]={height:x.baseheight,opacity:1-parseFloat(x[_0x4962("0x144")]),color:esmap.ESMapUtil[_0x4962("0x461")](x[_0x4962("0x147")]),image:x[_0x4962("0x326")]||"",imagesize:x[_0x4962("0xee3")]||"",light:x[_0x4962("0x88b")]||!1};var _=x[_0x4962("0x326")];_&&!h[_[_0x4962("0x14d")](_0x4962("0xff9"),"")]&&(h[_.replace(_0x4962("0xff9"),"")]=1)}))}this[_0x4962("0xfc1")]=h,_[_0x4962("0xa38")]&&(esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3b")].hideFloorBase=_[_0x4962("0xa38")]),o[_0x4962("0xfae")]={};var v=_[_0x4962("0xffa")];if(v){if(v[0]){var p=(0,c[_0x4962("0xfcf")])(v[0],{fillStyle:[_0x4962("0x351"),"fillStyle"],strokeStyle:[_0x4962("0x352"),"strokeStyle"],strokeWidth:[_0x4962("0xe24"),_0x4962("0x349")],fontSize:[_0x4962("0xfd0"),_0x4962("0x33b")],image:[_0x4962("0x326")],imageAlign:[_0x4962("0xea0")],imageScale:[_0x4962("0xffb")],shadowBlur:[_0x4962("0x345")],shadowOffsetX:[_0x4962("0x347")],shadowOffsetY:[_0x4962("0x348")],shadowColor:["shadowColor"],imageShadowBlur:[_0x4962("0xfd1")]}),m=(0,n.default)(p),A=!0,y=!1,C=void 0;try{for(var I,E=(0,a[_0x4962("0xc")])(m);!(A=(I=E[_0x4962("0x286")]()).done);A=!0){var w=(0,i.default)(I[_0x4962("0xe3")],2),T=w[0],k=w[1];T!=_0x4962("0x343")&&T!=_0x4962("0x344")&&T!=_0x4962("0x346")||(p[T]=(0,c[_0x4962("0x354")])(k))}}catch(x){y=!0,C=x}finally{try{!A&&E[_0x4962("0x28c")]&&E[_0x4962("0x28c")]()}finally{if(y)throw C}}(0,c[_0x4962("0xfd2")])(o.fontStyle[_0x4962("0xc")],p)}if(v[1]){var M=(0,c[_0x4962("0xfcf")])(v[0],{fillStyle:["fillcolor","fillStyle"],strokeStyle:["strokecolor",_0x4962("0x344")],strokeWidth:[_0x4962("0xe24"),_0x4962("0x349")],fontSize:[_0x4962("0xfd0"),"fontSize"]});(0,c[_0x4962("0xfd2")])(o[_0x4962("0xff1")][_0x4962("0xffc")],M)}}}},{key:"createMaterial_",value:function(x,_,e,t){var i=esmap[_0x4962("0x33")].instance,a=x[_0x4962("0xffd")]||!1,n=1*x[_0x4962("0x15e")]||0;t=t||!!i&&i[_0x4962("0x7f")][_0x4962("0xca1")]||(i?i[_0x4962("0x7f")].pendingBuildingId:null);var r=new(THREE[_0x4962("0xfb2")])({color:_||x[_0x4962("0xff3")],opacity:1*x.alpha,side:n});if(r.opacity<1&&(r[_0x4962("0x144")]=!0),r.onBeforeCompile=function(x){x.vertexShader=x[_0x4962("0x14c")].replace(_0x4962("0x489"),"\n                #include <uv_pars_vertex>\n\n                attribute float isHideFlags;\n\n                varying float hideFlag;\n                "),x.vertexShader=x[_0x4962("0x14c")].replace("#include <uv_vertex>",_0x4962("0xffe")),x[_0x4962("0x152")]=x.fragmentShader[_0x4962("0x14d")]("uniform float opacity;","\n                uniform float opacity; \n                varying float hideFlag;\n                "),x.fragmentShader=x[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x155"),"\n                vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n                if(hideFlag > 0.0){\n                    discard;\n                }\n                gl_FragColor = resultColor;\n                ")},x.image){var s=d[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x5b"),{themeID:e,filename:x[_0x4962("0x326")],buildingId:t}),o=esmap[_0x4962("0x8c")][_0x4962("0x611")](s);o.wrapS=THREE[_0x4962("0x18f")],o[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],r[_0x4962("0x48")]=o,r.map[_0x4962("0x187")]=!0,r[_0x4962("0x187")]=!0}return x[_0x4962("0x2")](_0x4962("0x827"))&&(r.roughness=1*x[_0x4962("0x827")]),x[_0x4962("0x2")](_0x4962("0x146"))&&(r[_0x4962("0x146")]=1*x.metalness),x[_0x4962("0xfff")]&&r[_0x4962("0x439")][_0x4962("0xd8")](esmap[_0x4962("0x8c")].toColor(x[_0x4962("0xfff")])),a&&(r[_0x4962("0x16f")]=!1),r}},{key:_0x4962("0xa82"),value:function(x,_,e,t){var i=esmap[_0x4962("0x33")][_0x4962("0x3a")],a=new THREE.Color,n=t||1;a[_0x4962("0x277")](_),x[_0x4962("0x148")]=function(_){_[_0x4962("0x149")][_0x4962("0x1000")]={value:0},_.uniforms[_0x4962("0xa80")]={value:!!e},_.uniforms[_0x4962("0x1001")]={value:a},_.fragmentShader=_[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x153"),_0x4962("0x1002")),_[_0x4962("0x152")]=_[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x155"),_0x4962("0x1003")),x[_0x4962("0xa84")]=_,i.on(_0x4962("0x165"),(function(){x[_0x4962("0xa84")][_0x4962("0x149")][_0x4962("0x1000")][_0x4962("0xe3")]+=.1*n}))}}},{key:_0x4962("0x1004"),value:function(x,_){var e=this.themeList[x][_0x4962("0xff5")][_];return(0,c.cloneObj)(e||this[_0x4962("0xfa6")])}},{key:_0x4962("0x1005"),value:function(x,_){var e=this[_0x4962("0xfa4")][x][_0x4962("0xfae")];for(var t in e)if(1*e[t].typeid==_)return e[t]}},{key:_0x4962("0x1006"),value:function(x,_,e){var i;return e[_0x4962("0x0")]<1?i=this[_0x4962("0xfa4")][x][_0x4962("0xfa5")][_]?this[_0x4962("0xfa4")][x][_0x4962("0xfa5")][_]:(0,t[_0x4962("0xc")])(this[_0x4962("0xfa4")][x].materialList).length>0?this[_0x4962("0xfa4")][x][_0x4962("0xfa5")][0]:this[_0x4962("0xfb4")](this.defaultTheme_):(i=this.createMaterial_(this.getModelTheme(_),esmap[_0x4962("0x8c")][_0x4962("0x461")](e)))[_0x4962("0xff3")]=esmap[_0x4962("0x8c")][_0x4962("0x461")](e),i||this[_0x4962("0xe11")]}},{key:_0x4962("0x3f4"),value:function(x,_,e,t){var i=esmap[_0x4962("0x33")][_0x4962("0x3a")],a=void 0;if(i[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")])a=isNaN(_)?i.options.mapDataSrc+i.id+_0x4962("0xe9d")+_:i[_0x4962("0x3b")][_0x4962("0x75")]?i[_0x4962("0x3b")][_0x4962("0x75")]+x+"/"+_+".png":i[_0x4962("0x3b")][_0x4962("0x46")]+i.id+"/theme/"+x+"/"+_+_0x4962("0xff9");else if(1!=i[_0x4962("0x3b")][_0x4962("0x88")])a=isNaN(_)?1==t?i[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x1007")+_:i[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x98")+e+_0x4962("0xe9d")+_:i.options[_0x4962("0x49")]+_0x4962("0x98")+e+_0x4962("0x76")+x+"/"+_+_0x4962("0xff9");else if(isNaN(_))if(1==t){var n=3==i[_0x4962("0x3b")].s?_0x4962("0x1008"):_0x4962("0x1009");a=i[_0x4962("0x3b")][_0x4962("0x49")]+n+i.id+"/buildingImagelabel/"+_}else{var r=3==i[_0x4962("0x3b")].s?_0x4962("0xa0"):_0x4962("0xa3");a=i[_0x4962("0x3b")][_0x4962("0x49")]+r+e+_0x4962("0xe9d")+_}else a=i.options.serverUrl+_0x4962("0x76")+x+"/"+_+_0x4962("0xff9");return a}},{key:"getPoiMaterialByType",value:function(x,_,e,t){var i=esmap[_0x4962("0x33")].instance,a=void 0;if(i[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x3b8")])a=isNaN(_)?i[_0x4962("0x3b")][_0x4962("0x46")]+i.id+_0x4962("0xe9d")+_:i.options[_0x4962("0x75")]?i[_0x4962("0x3b")][_0x4962("0x75")]+x+"/"+_+_0x4962("0xff9"):i[_0x4962("0x3b")].mapDataSrc+i.id+_0x4962("0x76")+x+"/"+_+".png";else if(1!=i[_0x4962("0x3b")][_0x4962("0x88")])a=isNaN(_)?1==t?i.options.serverUrl+_0x4962("0x1007")+_:i[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x98")+e+_0x4962("0xe9d")+_:i[_0x4962("0x3b")].serverUrl+"/buildings/"+e+_0x4962("0x76")+x+"/"+_+_0x4962("0xff9");else if(isNaN(_))if(1==t){var n=3==i[_0x4962("0x3b")].s?_0x4962("0x1008"):_0x4962("0x1009");a=i[_0x4962("0x3b")][_0x4962("0x49")]+n+i.id+_0x4962("0x1007")+_}else{var r=3==i[_0x4962("0x3b")].s?_0x4962("0xa0"):"/EsmapJsonData/";a=i.options[_0x4962("0x49")]+r+e+_0x4962("0xe9d")+_}else a=i[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x76")+x+"/"+_+_0x4962("0xff9");var s=esmap[_0x4962("0x8c")][_0x4962("0x611")](a);return s[_0x4962("0x18e")]=THREE[_0x4962("0x362")],s[_0x4962("0x8a2")]=THREE[_0x4962("0x575")],new(THREE[_0x4962("0x546")])({map:s})}},{key:"initPoiMateriaByData",value:function(x,_,e,t,i){var a=esmap.ESMap[_0x4962("0x3a")],n=this[_0x4962("0xfa4")][e];for(var r in x){var s={};if(s.id=r,s[_0x4962("0x1a4")]=_,!n[_0x4962("0xfee")][s.id]&&12e4!=s.id){var o="";o=a[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x3b8")]?a[_0x4962("0x3b")][_0x4962("0x75")]?a[_0x4962("0x3b")][_0x4962("0x75")]+e+"/"+s.id+".png":a[_0x4962("0x3b")].mapDataSrc+a.id+_0x4962("0x76")+e+"/"+s.id+_0x4962("0xff9"):1!=a[_0x4962("0x3b")][_0x4962("0x88")]?a[_0x4962("0x3b")][_0x4962("0x49")]+"/buildings/"+t+"/theme/"+e+"/"+s.id+_0x4962("0xff9"):a[_0x4962("0x3b")][_0x4962("0x49")]+_0x4962("0x76")+e+"/"+s.id+_0x4962("0xff9"),s.id&&s.id[_0x4962("0x18b")]()[_0x4962("0xaf")](_0x4962("0xff9"))>0&&(i==esmap[_0x4962("0xd63")][_0x4962("0xb13")]?o=this[_0x4962("0x53b")][_0x4962("0x46")]+t+_0x4962("0x1007")+s.id:1!=this.options_[_0x4962("0x88")]&&(o=this[_0x4962("0x53b")].mapDataSrc+_0x4962("0x100a")+t+_0x4962("0xe9d")+s.id));var c=esmap[_0x4962("0x8c")][_0x4962("0x611")](o);c[_0x4962("0x18e")]=THREE[_0x4962("0x362")],c[_0x4962("0x8a2")]=THREE[_0x4962("0x575")],s.material_=new THREE.SpriteMaterial({map:c}),s.material_[_0x4962("0xdd")]=_,n[_0x4962("0xfee")][s.id]=s}}this[_0x4962("0xfc1")]=null}},{key:_0x4962("0xb6c"),value:function(x,_){var e=this,t=esmap.ESMap[_0x4962("0x3a")];_||(_=t[_0x4962("0x578")]()[_0x4962("0x3b")][_0x4962("0x72")]);var i=t[_0x4962("0x578")]();e[_0x4962("0xfec")](_,x,i.id),t.setBackgroundColor(e[_0x4962("0xbbd")],1),t[_0x4962("0x1c6")][_0x4962("0x24e")]();var a=e[_0x4962("0xfa4")][_];i[_0x4962("0xf2")][_0x4962("0x104")]((function(x){if(x[_0x4962("0xf1")])switch(x[_0x4962("0xf1")][_0x4962("0x125")]){case esmap[_0x4962("0x134")][_0x4962("0x413")]:if(!a)return;x.material.color=new(THREE[_0x4962("0x188")])(a[_0x4962("0xff4")]),x.material[_0x4962("0x40d")]=a[_0x4962("0xe24")];break;case esmap[_0x4962("0x134")][_0x4962("0xc0f")]:var n=e[_0x4962("0xff7")],r=e[_0x4962("0xfa8")];if(x[_0x4962("0x17b")][_0x4962("0x17b")]&&x[_0x4962("0x17b")].parent[_0x4962("0xf1")]instanceof esmap[_0x4962("0x551")]){var s=x[_0x4962("0x17b")][_0x4962("0x17b")][_0x4962("0xf1")][_0x4962("0x2d9")],o=a[_0x4962("0xff8")][s]||a[_0x4962("0xff8")][0];if(o)if(n=o[_0x4962("0x147")],r=o.opacity,o.image){var c=x[_0x4962("0xf6")];Array.isArray(c)&&(c=x[_0x4962("0xf6")][0]);var l=[c,c[_0x4962("0x126")]()],f=l[0],u=l[1];u.color=new(THREE[_0x4962("0x188")])(n),u[_0x4962("0x145")]=r;var h=d[_0x4962("0xc")].getPath(_0x4962("0x5b"),{themeID:_,filename:o.image,buildingId:i.id});esmap[_0x4962("0x8c")].loadTexture(h,(function(x){x[_0x4962("0x8a3")]=x.wrapT=THREE[_0x4962("0x18f")];var _=(t[_0x4962("0x5ca")]-t[_0x4962("0x5b8")])/(t[_0x4962("0x5cb")]-t[_0x4962("0x5bb")]),e=o.imagesize.split(","),i=0;e[2]&&(i=e[2]*THREE.Math[_0x4962("0x599")],x.rotation=i),x[_0x4962("0x15b")][_0x4962("0xd8")](e[0]*_,e[1]),f[_0x4962("0x147")][_0x4962("0xd8")](16777215),f.opacity=r,f.transparent=1*r!=1,f[_0x4962("0x48")]=x,f[_0x4962("0x48")][_0x4962("0x187")]=!0,f[_0x4962("0x187")]=!0})),x[_0x4962("0xf6")]=l}else x[_0x4962("0xf6")]instanceof Array?(x[_0x4962("0xf6")][0][_0x4962("0x48")]&&(x[_0x4962("0xf6")][0][_0x4962("0x48")].dispose(),x[_0x4962("0xf6")][0][_0x4962("0x48")]=void 0,x[_0x4962("0xf6")][0][_0x4962("0x187")]=!0),x[_0x4962("0xf6")][0][_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(n),x[_0x4962("0xf6")][0].opacity=r,x[_0x4962("0xf6")][0][_0x4962("0x144")]=1*r!=1):(x[_0x4962("0xf6")].color=new(THREE[_0x4962("0x188")])(n),x.material[_0x4962("0x145")]=r,x.material[_0x4962("0x144")]=1*r!=1,x[_0x4962("0xf6")][_0x4962("0x48")]&&!o.image&&(x[_0x4962("0xf6")][_0x4962("0x48")]=null,x.material[_0x4962("0x187")]=!0))}break;case esmap[_0x4962("0x134")][_0x4962("0x678")]:var g=x[_0x4962("0xf1")][_0x4962("0x480")][0][_0x4962("0x57f")],b=a[_0x4962("0xff5")][g];if(!b)return;var v=b[_0x4962("0x147")];if(_0x4962("0xd")==typeof v&&(v=esmap[_0x4962("0x8c")].toColor(b[_0x4962("0x147")])),x.material[_0x4962("0x147")])x[_0x4962("0xf6")][_0x4962("0x147")]=new THREE.Color(v),x[_0x4962("0xf6")][_0x4962("0x145")]=b.alpha||1,x[_0x4962("0xf6")][_0x4962("0x187")]=!0,b[_0x4962("0xfff")]&&x[_0x4962("0xf6")][_0x4962("0x439")]&&x.material[_0x4962("0x439")][_0x4962("0xd8")](esmap[_0x4962("0x8c")].toColor(b[_0x4962("0xfff")]));else{var p=x[_0x4962("0xf6")];p[0].color=new(THREE[_0x4962("0x188")])(v),p[0][_0x4962("0x145")]=1*b.alpha||1,b[_0x4962("0xfff")]&&p[0].emissive&&p[0][_0x4962("0x439")][_0x4962("0xd8")](esmap[_0x4962("0x8c")][_0x4962("0x461")](b[_0x4962("0xfff")])),p[0].needsUpdate=!0}break;case esmap[_0x4962("0x134")][_0x4962("0xc12")]:if(!a)return;break;case esmap.ESNodeType[_0x4962("0xf8d")]:x[_0x4962("0xf1")][_0x4962("0x31e")](a[_0x4962("0xff1")][_0x4962("0xc")])}})),t[_0x4962("0xe5")](_0x4962("0x100b"),_)}},{key:"Model3DSelectColor",set:function(x){this[_0x4962("0x100c")]=esmap[_0x4962("0x8c")][_0x4962("0x461")](x)},get:function(){return this[_0x4962("0x100c")]}}]),x}();_[_0x4962("0xc")]=h},,,,,,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x100d")]}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x728"),value:function(){this[_0x4962("0x100d")]=[]}},{key:"push",value:function(x,_){if(0==this.rects_[_0x4962("0x0")])return this.rects_[_0x4962("0x3")](_),!1;for(var e in this[_0x4962("0x100d")]){var t=this[_0x4962("0x100d")][e];if(this[_0x4962("0x100e")](t,_))return!0}return this[_0x4962("0x100d")].push(_),!1}},{key:_0x4962("0x100e"),value:function(x,_){return _[_0x4962("0xdd")]<=x[_0x4962("0xdd")]&&x.x<_.x+_.w/2&&x.x+x.w/2>_.x&&x.y<_.y+_.h/2&&x.h/2+x.y>_.y}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=e(4);function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(){(0,t[_0x4962("0xc")])(this,x)}return(0,i[_0x4962("0xc")])(x,null,[{key:_0x4962("0x24b"),value:function(x){this[_0x4962("0xf9f")]||(this[_0x4962("0xf9f")]={width:this[_0x4962("0x324")],height:this.height_}),this[_0x4962("0x324")]=this[_0x4962("0xf9f")][_0x4962("0x1ce")],this[_0x4962("0x325")]=this[_0x4962("0xf9f")][_0x4962("0x1a4")],(x=x||{}).time=null==x[_0x4962("0x1a5")]?.6:x[_0x4962("0x1a5")];var _=this;if(_[_0x4962("0x100f")]=null,!this[_0x4962("0x19f")]||x[_0x4962("0x1a0")])return _[_0x4962("0x19f")]=!0,x.scale=(0,a[_0x4962("0x14")])(x,"scale",1.5),x[_0x4962("0x1a1")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a1"),1),x[_0x4962("0x1a3")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a3"),0),0==x[_0x4962("0x1a1")]&&(x[_0x4962("0x1a1")]=Number[_0x4962("0x1a2")]),x[_0x4962("0x1a5")]=null==x[_0x4962("0x1a5")]?.6:x[_0x4962("0x1a5")],_[_0x4962("0x100f")]&&clearInterval(_[_0x4962("0x100f")]),this[_0x4962("0x1010")]&&this[_0x4962("0x1010")][_0x4962("0x1b2")](),this[_0x4962("0x1010")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this).to({width_:this[_0x4962("0x324")]*x.scale,height_:this.height_*x[_0x4962("0x1fe")]},200*x.time).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")].In)[_0x4962("0x173")]((function(x){}))[_0x4962("0x1b0")]((function(){_[_0x4962("0x1010")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(_).to({width_:_[_0x4962("0xf9f")][_0x4962("0x1ce")],height_:_[_0x4962("0xf9f")].height},800*x.time)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")].Out).onComplete((function(){x[_0x4962("0x1a1")]--,x[_0x4962("0x1a1")]>0?_.flashDelayId=setTimeout((function(){x[_0x4962("0x1a0")]=!0,_[_0x4962("0x24b")](x)}),1e3*x.delay):(_[_0x4962("0x19f")]=!1,x.callback&&x.callback())}))[_0x4962("0x1b1")]()}))[_0x4962("0x1b1")]()}},{key:"flash3d",value:function(x){var _,e,t=this;x=x||{};if(!this[_0x4962("0x19f")]||x.force)return t._isAnimating=!0,x[_0x4962("0x1fe")]=(0,a.getValues)(x,_0x4962("0x1fe"),1.5),x[_0x4962("0x1a1")]=(0,a[_0x4962("0x14")])(x,"times",1),x[_0x4962("0x1a3")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a3"),0),0==x[_0x4962("0x1a1")]&&(x[_0x4962("0x1a1")]=Number[_0x4962("0x1a2")]),x[_0x4962("0x1a5")]=null==x[_0x4962("0x1a5")]?.6:x[_0x4962("0x1a5")],_=t[_0x4962("0x1fe")].clone()[_0x4962("0x250")](x[_0x4962("0x1fe")]),e=t.scale[_0x4962("0x126")](),this[_0x4962("0x1011")]&&this.flashId1[_0x4962("0x1b2")](),t[_0x4962("0x1011")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(t.scale).to(_,.2*x[_0x4962("0x1a5")]*1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x1ab")].In),t[_0x4962("0x1012")]=new(esmap.TWEEN[_0x4962("0x1a7")])(t[_0x4962("0x1fe")]).to(e,.8*x.time*1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){x[_0x4962("0x1a1")]--,x[_0x4962("0x1a1")]>0?t[_0x4962("0x19f")]&&(x[_0x4962("0x1a0")]=!0,t.flashId1[_0x4962("0x1a3")](1e3*x[_0x4962("0x1a3")]).start()):(t[_0x4962("0x19f")]=!1,t.flashId1[_0x4962("0x1b2")](),x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")]())})),t[_0x4962("0x1011")].chain(t[_0x4962("0x1012")])[_0x4962("0x1b1")](),x}},{key:_0x4962("0x31d"),value:function(x,_){var e=esmap[_0x4962("0x8c")].getAlias(this[_0x4962("0xf1")]),t=esmap[_0x4962("0x171")][e];_=null==_?null==t?10:t:_,x=null==x||x,this[_0x4962("0xf6")].depthWrite=!x,this[_0x4962("0xf6")][_0x4962("0x16d")]=!x,this.renderOrder=x?_:0}},{key:_0x4962("0x251"),value:function(x){var _=this;_0x4962("0x18a")==typeof x&&(x={to:x});var e,t=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a5"),_0x4962("0x1a8"),.3),i=_.angle,n=esmap[_0x4962("0x8c")].getNearestAngle(i,x.to);return _._rotateToID&&_[_0x4962("0xb46")][_0x4962("0x1b2")](),_._rotateToID=esmap.TWEEN[_0x4962("0x6d6")](t,(function(x){(e=i+n*x.value)<=0?e=360+e:e>=360&&(e-=360),_[_0x4962("0x234")]=e}),null,(function(){x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")]()})),_[_0x4962("0xb46")]}},{key:_0x4962("0x232"),value:function(x){if(void 0===this[_0x4962("0x1013")]&&(this[_0x4962("0x1013")]=!0),this.enabledUpdateSize){var _=(x=x||esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x1c6")])[_0x4962("0x48")][_0x4962("0x3ec")];x[_0x4962("0x48")][_0x4962("0x3c")],esmap.MapMode[_0x4962("0x3b8")];this.originPosition||(this[_0x4962("0x1014")]=this[_0x4962("0x106")][_0x4962("0x126")]()),(null==this[_0x4962("0x19e")]||isNaN(this.initY_))&&(isNaN(this[_0x4962("0x106")].y)&&(this[_0x4962("0x106")].y=0),this[_0x4962("0x19e")]=this[_0x4962("0x106")].y);this[_0x4962("0x3e6")]?0==this[_0x4962("0x3e6")][_0x4962("0x3f9")]||this.data_[_0x4962("0x3f9")]:0==this[_0x4962("0xf1")][_0x4962("0x1015")]||this[_0x4962("0xf1")].showLevel_;if("3D"==x.map[_0x4962("0x387")]){if(0==x.h_)return;this[_0x4962("0x1016")]=void 0,isNaN(this[_0x4962("0x106")].y)&&(this[_0x4962("0x106")].y=0);var e=esmap.MapObjectUtils.getPerspectiveScale(this,x),t=this[_0x4962("0xf1")]instanceof esmap[_0x4962("0x640")]&&!this[_0x4962("0xf1")][_0x4962("0x1017")]?16:2;if(0==e.scale.x||0==e[_0x4962("0x1fe")].y)return void console[_0x4962("0xe0")](_0x4962("0x1018"));if(this[_0x4962("0x324")]&&this.height_){var i=this[_0x4962("0x324")]/32*10,a=this[_0x4962("0x325")]/32*10;this[_0x4962("0x1fe")][_0x4962("0xd8")](i,a,1)}var n=this.height_?this[_0x4962("0x325")]*e[_0x4962("0x1019")]/t:0;this[_0x4962("0x3e6")][_0x4962("0x272")]&&(n/=2);this[_0x4962("0x101a")];if(this[_0x4962("0x3f7")]&&(this[_0x4962("0x3f7")]==_0x4962("0x101b")||this.type_==_0x4962("0x101c")||this[_0x4962("0x3f7")]==_0x4962("0x101d"))&&(this[_0x4962("0xf1")][_0x4962("0x101e")]||null!=this[_0x4962("0xf1")].spritify_&&!this.datas_[_0x4962("0x1017")]))return;0==e.scale.x&&(e.scale.x=1),this[_0x4962("0x1fe")][_0x4962("0x206")](e[_0x4962("0x1fe")])}else{if(this[_0x4962("0x3f7")]&&(this.type_==_0x4962("0x101b")||this[_0x4962("0x3f7")]==_0x4962("0x101c")||"UserLabel"==this.type_)&&(null!=this.datas_[_0x4962("0x1017")]&&!this.datas_[_0x4962("0x1017")]||this.datas_[_0x4962("0x101e")]))return;t=this.datas_ instanceof esmap.ESTextMarker&&!this.datas_[_0x4962("0x1017")]?16:2,e=esmap[_0x4962("0x27c")][_0x4962("0x101f")](this,x);if(this[_0x4962("0x324")]&&this[_0x4962("0x325")]){var r=this.width_/32*10;a=this[_0x4962("0x325")]/32*10;this[_0x4962("0x1fe")].set(r,a,1)}n=this[_0x4962("0x325")]?this[_0x4962("0x325")]*e[_0x4962("0x1019")]/t:0;this[_0x4962("0x3e6")][_0x4962("0x272")]&&(n/=2);this[_0x4962("0x101a")];this[_0x4962("0x1016")]=esmap[_0x4962("0x27c")][_0x4962("0x101f")](this,x).scale,this[_0x4962("0x1fe")].copy(this[_0x4962("0x1016")].clone()[_0x4962("0x250")](1/_[_0x4962("0x66a")]))}}}},{key:_0x4962("0x24c"),value:function(){if(this.flashId){if(this[_0x4962("0x1010")]&&this[_0x4962("0x1010")][_0x4962("0x1b2")](),this.originSize)this[_0x4962("0x324")]=this[_0x4962("0xf9f")].width,this[_0x4962("0x325")]=this[_0x4962("0xf9f")][_0x4962("0x1a4")];else{var x=new(THREE[_0x4962("0x12c")])(1,1,1);this[_0x4962("0x1010")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this[_0x4962("0x1fe")]).to(x,100)[_0x4962("0x1a9")](esmap.TWEEN.Easing.Linear[_0x4962("0x245")]).start()}this[_0x4962("0x19f")]=!1}}},{key:_0x4962("0x553"),value:function(x){clearInterval(this[_0x4962("0x233")]),this[_0x4962("0x19f")]=!1}},{key:_0x4962("0x24a"),value:function(){this[_0x4962("0x19d")]&&this[_0x4962("0x19d")][_0x4962("0x1b2")](),this._jumpID2&&this[_0x4962("0x1ad")].stop(),this._isAnimating=!1}},{key:_0x4962("0x248"),value:function(x){var _=this;x=x||{},null==_[_0x4962("0x166")][_0x4962("0x1020")]&&(_.userData[_0x4962("0x1020")]=_[_0x4962("0x106")].y);var e=_[_0x4962("0x166")].originalY;if(!this[_0x4962("0x19f")]||x[_0x4962("0x1a0")])return _[_0x4962("0x19f")]=!0,x[_0x4962("0x1a1")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a1"),1),0==x[_0x4962("0x1a1")]&&(x[_0x4962("0x1a1")]=Number[_0x4962("0x1a2")]),x.delay=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a3"),0),x[_0x4962("0x1a4")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a4"),8),x[_0x4962("0x1a8")]=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a5"),"duration",1),this[_0x4962("0x19d")]&&this[_0x4962("0x19d")].stop(),this[_0x4962("0x19d")]=new(esmap.TWEEN[_0x4962("0x1a7")])(this[_0x4962("0x106")]).to({y:e+x[_0x4962("0x1a4")]},.2*x.duration*1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")])[_0x4962("0x1b0")]((function(){})),this[_0x4962("0x1ad")]=new(esmap[_0x4962("0x1a6")].Tween)(this[_0x4962("0x106")]).to({y:e},.8*x[_0x4962("0x1a8")]*1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing.Bounce[_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){x.times--,x[_0x4962("0x1a1")]>0?_[_0x4962("0x19f")]&&(x.force=!0,_[_0x4962("0x19d")].delay(1e3*x[_0x4962("0x1a3")]).start()):(_[_0x4962("0x19f")]=!1,_[_0x4962("0x19d")][_0x4962("0x1b2")](),x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")]())})),this[_0x4962("0x19d")].chain(this._jumpID2)[_0x4962("0x1b1")](),x}},{key:_0x4962("0x331"),value:function(x){var _=this,e=esmap[_0x4962("0x33")][_0x4962("0x3a")],t=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a5"),_0x4962("0x1a8"),1),i=(0,a.getValues)(x,"x",this.position.x),n=(0,a[_0x4962("0x14")])(x,"y",this[_0x4962("0x106")].y),r=(0,a.getValues)(x,"z",this.position.z);r+=(0,a[_0x4962("0x14")])(x,_0x4962("0x15c"),0);var s=x[_0x4962("0x173")]||null,o=(0,a[_0x4962("0x14")])(x,_0x4962("0x1b0"),_0x4962("0x1b3"),null);if(0===t){this.position[_0x4962("0xd8")](i,n,r);var c=e[_0x4962("0x208")](this[_0x4962("0x106")]);return s&&s(c),o&&o(this[_0x4962("0xf1")]),void(this[_0x4962("0x247")]&&this[_0x4962("0x247")][_0x4962("0x1021")](this[_0x4962("0xf1")]))}var l=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this[_0x4962("0x106")]).to({x:i,z:r,y:n},1e3*t)[_0x4962("0x1a9")](x[_0x4962("0x1a9")]||esmap[_0x4962("0x1a6")].Easing.Linear[_0x4962("0x245")])[_0x4962("0x173")]((function(x){var t=e[_0x4962("0x208")](x);s&&s(t),_[_0x4962("0x247")]&&_[_0x4962("0x247")]._checkMarker(_[_0x4962("0xf1")])})).onComplete((function(){o&&o(_[_0x4962("0xf1")])}))[_0x4962("0x1b1")]();return l}},{key:_0x4962("0xcaa"),value:function(x){var _=this,e=(0,a[_0x4962("0x14")])(x,_0x4962("0x1a5"),_0x4962("0x1a8"),1),t=!1;return _[_0x4962("0xf1")]&&_[_0x4962("0xf1")][_0x4962("0xa6c")]&&_[_0x4962("0xf1")].alias==_0x4962("0xa6d")&&(t=!0),_[_0x4962("0x1022")]&&_[_0x4962("0x1022")][_0x4962("0x1b2")](),_[_0x4962("0x1022")]=new(esmap[_0x4962("0x1a6")].Tween)(t?_[_0x4962("0x210")]:_).to({y:THREE[_0x4962("0x20e")][_0x4962("0x242")](x.angle)},1e3*e)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x1b0")]((function(){x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")]()}))[_0x4962("0x1b1")](),x}},{key:_0x4962("0x332"),value:function(x){var _=this;if(_[_0x4962("0xf6")]&&!_[_0x4962("0x1023")]){_[_0x4962("0x1023")]=!0,(x=x||{}).out||(_.visible=!0);var e=(0,a[_0x4962("0x14")])(x,"time","duration",.2);_[_0x4962("0x1024")]&&_._fadeID.stop(),_[_0x4962("0x1024")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(_[_0x4962("0xf6")]).to({opacity:x[_0x4962("0x1025")]?0:1},1e3*e)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x244")][_0x4962("0x245")])[_0x4962("0x1b0")]((function(){_[_0x4962("0x1023")]=!1,x[_0x4962("0x1025")]&&(_[_0x4962("0x17c")]=!1),x.callback&&x[_0x4962("0x1b3")]()})).start()}}},{key:_0x4962("0x101f"),value:function(x,_){var e=x[_0x4962("0x216")](new(THREE[_0x4962("0x12c")])),t=_[_0x4962("0x669")].position,i=_[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")].clone(),a=e[_0x4962("0x23a")](t),n=i[_0x4962("0x126")]()[_0x4962("0x52d")](t).normalize(),r=e[_0x4962("0x126")]()[_0x4962("0x52d")](t).normalize();a*=n[_0x4962("0x907")](r),a=Math[_0x4962("0x231")](a);var s=_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x38c")]==esmap[_0x4962("0x38d")][_0x4962("0x1026")]?1.8:1,o=a/_.h_*.3*s;o*=x.scaleRatio||1;var c=(x[_0x4962("0x1027")],x.width_*o),l=x[_0x4962("0x325")]*o;return x[_0x4962("0x1028")]=o,{scale:6==x[_0x4962("0xf1")][_0x4962("0x125")]?new THREE.Vector3(c,l,c):new(THREE[_0x4962("0x12c")])(c,l,1),meterperpixel:o}}},{key:"changeColor",value:function(x,_){x.traverse((function(x){if(x[_0x4962("0xf6")])if(x.material instanceof Array)x[_0x4962("0xf6")][_0x4962("0x20")]((function(x){var e=x;_?(e[_0x4962("0x166")].hasOwnProperty(_0x4962("0x1029"))||(e[_0x4962("0x166")].oriEmissive=e[_0x4962("0x439")].getHex()),e.emissive=new THREE.Color(esmap.ESMapUtil[_0x4962("0x461")](esmap[_0x4962("0x8c")].hexToRgb(_))),e.userData[_0x4962("0x2")](_0x4962("0x102a"))||(e[_0x4962("0x166")][_0x4962("0x102a")]=e[_0x4962("0x448")]),e[_0x4962("0x448")]=1,e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x102b"))||(e[_0x4962("0x166")].oriColor=e[_0x4962("0x147")][_0x4962("0x126")]()),e.color=e[_0x4962("0x439")][_0x4962("0x126")]()):(e.userData[_0x4962("0x2")]("oriEmissive")&&(e[_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(e[_0x4962("0x166")].oriEmissive)),e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x102b"))&&(e[_0x4962("0x147")]=e[_0x4962("0x166")].oriColor[_0x4962("0x126")]()),e.userData.hasOwnProperty(_0x4962("0x102a"))&&(e[_0x4962("0x448")]=e[_0x4962("0x166")].oriEmissiveIntensity))}));else{var e=x[_0x4962("0xf6")];_?(e[_0x4962("0x439")]&&(e.userData[_0x4962("0x2")]("oriEmissive")||(e[_0x4962("0x166")][_0x4962("0x1029")]=e.emissive[_0x4962("0x732")]()),e.emissive=new(THREE[_0x4962("0x188")])(esmap[_0x4962("0x8c")][_0x4962("0x461")](esmap.ESMapUtil[_0x4962("0x654")](_))),e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x102a"))||(e.userData.oriEmissiveIntensity=e[_0x4962("0x448")]),e.emissiveIntensity=1),e[_0x4962("0x166")][_0x4962("0x102c")]=!0,e.userData[_0x4962("0x2")](_0x4962("0x102b"))||(e[_0x4962("0x166")][_0x4962("0x102b")]=e.color[_0x4962("0x126")]()),e[_0x4962("0x147")]=new(THREE[_0x4962("0x188")])(esmap[_0x4962("0x8c")].toColor(esmap[_0x4962("0x8c")][_0x4962("0x654")](_)))):(e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x1029"))&&(e.emissive=new(THREE[_0x4962("0x188")])(e[_0x4962("0x166")][_0x4962("0x1029")])),e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x102b"))&&(e[_0x4962("0x147")]=e[_0x4962("0x166")][_0x4962("0x102b")].clone()),e[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0x102a"))&&(e.emissiveIntensity=e[_0x4962("0x166")][_0x4962("0x102a")]),e[_0x4962("0x166")].changedColors=!1,e.needsUpdate=!0)}}))}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(6)),i=o(e(0)),a=o(e(1)),n=o(e(338)),r=e(43),s=e(27);function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c=function(){function x(_,e){(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0x2e7")]=0,this[_0x4962("0x2e8")]=0,this.mapId_=0,this.o3dScene_=null,this[_0x4962("0xa3c")]=null,this.box3_=null,this.minX_=0,this[_0x4962("0xb57")]=0,this[_0x4962("0xb56")]=0,this[_0x4962("0xb58")]=0,this[_0x4962("0x102d")]=0,this[_0x4962("0x48")]=_,this.mapTheme_=e;e=esmap.ESMapUtil[_0x4962("0x33e")]();this[_0x4962("0x3b6")]=e[_0x4962("0x3b6")],this.meshHandler=new(n[_0x4962("0xc")])(this),this[_0x4962("0x102e")]=new(THREE[_0x4962("0x7b1")]),this.modelInfos=[],this.counter={building:0,model:0},this[_0x4962("0x102f")](),this[_0x4962("0xa26")]=!1}return(0,a[_0x4962("0xc")])(x,[{key:"clear",value:function(x){!function x(_){if(null!==_){_[_0x4962("0xf5")]&&_.dispose(),_[_0x4962("0xf1")]&&(_[_0x4962("0xf1")]=void 0);for(var e=0;e<_[_0x4962("0xf3")][_0x4962("0x0")];e++)x(_[_0x4962("0xf3")][e]);if(_[_0x4962("0xf4")]&&(_.geometry[_0x4962("0xf5")](),_[_0x4962("0xf4")]=null),_.material)if(_[_0x4962("0xf6")][_0x4962("0x101")])_[_0x4962("0xf6")][_0x4962("0x101")][_0x4962("0x20")]((function(x){x[_0x4962("0x48")]&&(x[_0x4962("0x48")][_0x4962("0xf5")](),x[_0x4962("0x48")]=null),x[_0x4962("0xf5")](),x=null})),_[_0x4962("0xf6")][_0x4962("0x101")].length=0;else if(Array[_0x4962("0x123")](_.material)){for(var t=0;t<_[_0x4962("0xf6")][_0x4962("0x0")];t++)_.material[t]&&(_[_0x4962("0xf6")][t][_0x4962("0x48")]&&(_[_0x4962("0xf6")][t][_0x4962("0x48")].dispose(),_[_0x4962("0xf6")][t].map=null),_.material[t][_0x4962("0xf5")](),_[_0x4962("0xf6")][t]=null);_[_0x4962("0xf6")][_0x4962("0x0")]=0}else _[_0x4962("0xf6")][_0x4962("0xf5")](),_[_0x4962("0xf6")]=null}_=null}(x)}},{key:"initBase",value:function(){this.o3dScene_=new(THREE[_0x4962("0x20c")]),this[_0x4962("0x1030")][_0x4962("0x107")]=_0x4962("0x140"),this.lineManager=new THREE.Object3D,this.lineManager[_0x4962("0x107")]="lineManager",this[_0x4962("0x1030")][_0x4962("0xda")](this[_0x4962("0xa3c")]),this[_0x4962("0xa34")]=new(THREE[_0x4962("0x20c")]),this[_0x4962("0xa34")][_0x4962("0x107")]="buildings",this.tileScene_=new(THREE[_0x4962("0x20c")]),this.tileScene_[_0x4962("0x107")]=_0x4962("0x1031"),this[_0x4962("0xb2f")]=new(THREE[_0x4962("0x20c")]),this[_0x4962("0x1030")][_0x4962("0xda")](this[_0x4962("0xb2f")]),this[_0x4962("0x1030")][_0x4962("0xda")](this[_0x4962("0x41c")]),this[_0x4962("0x1030")][_0x4962("0xda")](this[_0x4962("0xa34")])}},{key:"calcInitCamera",value:function(){return esmap[_0x4962("0x940")][_0x4962("0x1032")](this[_0x4962("0xb27")])}},{key:"getO3dScene",value:function(){return this[_0x4962("0x1030")]}},{key:"getBuildingScene",value:function(){return this[_0x4962("0xa34")]}},{key:"getTileScene",value:function(){return this[_0x4962("0x41c")]}},{key:"collideLabel_",value:function(x,_){this[_0x4962("0x48")][_0x4962("0x265")];var e=this.map.options[_0x4962("0x1033")]||1,t=_[_0x4962("0x3d8")],i=_[_0x4962("0xf1")][_0x4962("0x1034")];for(var a in t.clear(),_[_0x4962("0xf3")]){var n=_.children[a],r=n.userData.outoflevel||!1;if(n[_0x4962("0x321")]&&!r){var s=this[_0x4962("0x48")][_0x4962("0xb38")](n),o=n[_0x4962("0x324")]/2*e*n.scaleRatio,c=n[_0x4962("0x325")]/2*e*n.scaleRatio,l=n[_0x4962("0x131")]||{x:.5,y:0},f=s.y-c/2+(l.y-.5)*c,d=s.x-o/2+(.5-l.x)*o;i&&t.push(n,{x:d,y:f,w:o,h:c,size:o*c})&&n.enableCollide?(n.visible=!1,n[_0x4962("0x166")][_0x4962("0x32b")]=!1,n[_0x4962("0x232")](x)):(n[_0x4962("0x17c")]=!0,n.userData[_0x4962("0x32b")]=!0,n[_0x4962("0x232")](x))}}}},{key:_0x4962("0x1035"),value:function(x){var _=this;if(this.userScene){this.baseScene.children.length;for(var e=this[_0x4962("0x1036")](),t=0;t<e[_0x4962("0xf3")][_0x4962("0x0")];t++){e[_0x4962("0xf3")][t].children[_0x4962("0x20")]((function(e){if(e[_0x4962("0x17c")])for(var t=0;t<e.children.length;t++){var i=e[_0x4962("0xf3")][t],a=i[_0x4962("0xf1")];a&&a[_0x4962("0x17c")]&&(a._type_==esmap.ESLayerType.MODEL_LABEL||a[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc11")]||a[_0x4962("0xa69")]==esmap.ESLayerType[_0x4962("0x3da")]||a[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc10")])&&_[_0x4962("0x1037")](x,i)}}))}var i=this[_0x4962("0xd66")]();for(t=0;t<i[_0x4962("0xf3")][_0x4962("0x0")];t++){i[_0x4962("0xf3")][t].children[_0x4962("0x20")]((function(e){(e.datas_&&e[_0x4962("0xf1")]._type_==esmap[_0x4962("0x3d6")].MODEL_LABEL||e[_0x4962("0xf1")]&&e[_0x4962("0xf1")][_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0x3da")])&&_.collideLabel_(x,e)}))}var a=this[_0x4962("0xacd")].o3d_;a&&a[_0x4962("0xf3")].forEach((function(e){var t=e[_0x4962("0xf1")];t&&t[_0x4962("0x17c")]&&(t[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0x3d7")]||t[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc10")]||t[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc11")]||t[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0x3da")]||t[_0x4962("0xa69")]==esmap.ESLayerType.IMAGE_MARKER||t[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc10")])&&_[_0x4962("0x1037")](x,e)}))}}},{key:_0x4962("0x39"),value:function(){var x=this[_0x4962("0x48")];x[_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0xda")](this[_0x4962("0x1030")]),x[s[_0x4962("0x9c1")]][_0x4962("0x544")](),x.requireUpdateCollide_=!0,x[_0x4962("0x6f1")]=0,x[_0x4962("0xb32")]=new(THREE[_0x4962("0x198")])(new THREE.PlaneBufferGeometry(30707730.7171648,30707730.7171648,1,1),new THREE.MeshBasicMaterial({color:6724044,visible:!1})),x[_0x4962("0xb32")][_0x4962("0x107")]=_0x4962("0x531"),x[_0x4962("0xb32")][_0x4962("0xf1")]={nodeType:1,name:_0x4962("0x1038"),o3d_:x[_0x4962("0xb32")]},this.o3dScene_.add(x[_0x4962("0xb32")]),x.plane_[_0x4962("0x106")].set(0,0,0),x[_0x4962("0xb32")][_0x4962("0x210")].x=-Math.PI/2,x[_0x4962("0xe5")](_0x4962("0x1b1")),x.on(_0x4962("0x165"),x[_0x4962("0xa3e")],null,x.id)}},{key:_0x4962("0xf97"),value:function(x){var _=this[_0x4962("0x48")],e=_[_0x4962("0x3b")];_[_0x4962("0x260")].maxPolarAngle=Math.PI/2.2;var t=x.sourceData;this[_0x4962("0xacd")]=x,this[_0x4962("0x1039")]({x:t[_0x4962("0xcb4")],y:t.DefaultCenY},{minX:t[_0x4962("0x5b8")],minY:t[_0x4962("0x5bb")],maxX:t[_0x4962("0x5ca")],maxY:t[_0x4962("0x5cb")]}),this[_0x4962("0xb27")]=esmap[_0x4962("0x940")].calcSceneBox3(t),_.mapView[_0x4962("0x131")]={x:t[_0x4962("0xcb4")],y:t[_0x4962("0xcb5")]};var i=e[_0x4962("0x393")]?0:1;_[_0x4962("0x13e")][_0x4962("0xabb")]=i;var a=x[_0x4962("0x579")];_[_0x4962("0xabc")](a[_0x4962("0x72d")],i)}},{key:_0x4962("0x1039"),value:function(x,_){var e=this[_0x4962("0x48")];if(x.x>0?this[_0x4962("0x2e7")]=-x.x:this[_0x4962("0x2e7")]=x.x,this[_0x4962("0x2e8")]=x.y,this[_0x4962("0xb55")]=_[_0x4962("0x5b8")],this[_0x4962("0xb56")]=_[_0x4962("0x5ca")],this.minY_=_[_0x4962("0x5bb")],this.maxY_=_[_0x4962("0x5cb")],!e[_0x4962("0x3b")][_0x4962("0x103a")]&&e[_0x4962("0x3b")][_0x4962("0x131")]){var i=e[_0x4962("0x2c3")]({x:e[_0x4962("0x3b")][_0x4962("0x131")].x,y:e[_0x4962("0x3b")][_0x4962("0x131")].y});e.on(_0x4962("0x103b"),(function(){e[_0x4962("0x260")].target[_0x4962("0xd8")](i.x,0,i.z),e[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:Math.PI-e.options[_0x4962("0x391")]*THREE[_0x4962("0x20e")][_0x4962("0x599")],forcePhi:e[_0x4962("0x3b")][_0x4962("0x392")]*THREE[_0x4962("0x20e")].DEG2RAD})}))}e[_0x4962("0x1c6")][_0x4962("0x1f6")]=e[_0x4962("0x3b")][_0x4962("0x1f6")],null!=e[_0x4962("0x3b")].panLimit&&((0,t[_0x4962("0xc")])(e.options.panLimit)==_0x4962("0x9")?(e[_0x4962("0x1c6")][_0x4962("0xb1c")]=e[_0x4962("0x3b")][_0x4962("0xb1b")][_0x4962("0x131")],e[_0x4962("0x1c6")][_0x4962("0xb1b")]=e.options.panLimit.distance):e[_0x4962("0x1c6")].panLimit=e[_0x4962("0x3b")][_0x4962("0xb1b")]),e[_0x4962("0x3b")][_0x4962("0x387")]!=e[_0x4962("0x387")]&&(e[_0x4962("0x387")]={mode:e[_0x4962("0x3b")].viewMode,init:!0,time:0})}},{key:_0x4962("0x103c"),value:function(x){if((0,r._isemvht)(this[_0x4962("0x48")].id))return!0;var _=x[_0x4962("0x103d")],e=x[_0x4962("0x103e")],t=!1,i=x[s._rms_].split(","),a=!1;return i[_0x4962("0x20")]((function(x){var i=_,n=x;if(x[_0x4962("0x63")]("|")){var r=x[_0x4962("0x2d")]("|");n=r[0],i=Math[_0x4962("0x301")](i,1*r[1])}if(!(n[_0x4962("0x0")]<3)&&e[_0x4962("0xaf")](n)>-1){if(t=!0,(new Date).getTime()-1e6*i>0)return;a=!0}})),!!t&&!!a}},{key:"updateCityScene",value:function(x,_){if(this.map[_0x4962("0x2b4")][_0x4962("0xd01")]){var e=this[_0x4962("0x103c")](this.map[_0x4962("0x2b4")][_0x4962("0xd01")]);if(this[_0x4962("0x48")].tileService[_0x4962("0xd01")]=null,!e)return}this[_0x4962("0x48")].options[_0x4962("0x103f")]&&this[_0x4962("0x48")].mapTheme[_0x4962("0xfbd")](this.map[_0x4962("0x13e")][_0x4962("0x1040")]),this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0xb5d")]=Math.PI/2.5,this.userScene=new esmap.ESBuilding(this[_0x4962("0x48")].id,{undergroundOffset:0},this.map),this[_0x4962("0xacd")].name="å®¤å¤",this[_0x4962("0xacd")][_0x4962("0x213")]=esmap.ESBuildingType.TILE,this[_0x4962("0xacd")][_0x4962("0xcbc")]=[1],this[_0x4962("0xacd")][_0x4962("0x699")]=[1],this[_0x4962("0xacd")][_0x4962("0xdbb")][1]={label:0,poi:0,floorBase:0,model:0,modelBase:0,model3D:0},this[_0x4962("0xacd")].yoffset=0,this.userScene[_0x4962("0x1041")]=0,this[_0x4962("0xacd")][_0x4962("0x131")]=this.map.options[_0x4962("0x131")];var t=new esmap.ESFloorManager(this,{name:"å®¤å¤",Elevation:0,Name_en:_0x4962("0x1042"),Alias:"å®¤å¤",floornum:1});t.o3d_[_0x4962("0x1043")]={Elevation:0,floornum:1},this[_0x4962("0xacd")].o3dFloors_[1]=t[_0x4962("0xf2")];var i=new esmap.ESLayer(esmap.ESLayerType.MODEL3D);i[_0x4962("0x107")]=_0x4962("0xa66"),t[_0x4962("0x406")](i),this[_0x4962("0xacd")][_0x4962("0xf2")][_0x4962("0xda")](t[_0x4962("0xf2")]);var a=this[_0x4962("0xacd")];this[_0x4962("0x48")].on("updateLts",(function(){a.map&&(a[_0x4962("0x48")].options.dynamicLoadModels?(a.map[_0x4962("0x65e")][_0x4962("0x710")]&&(timer=setTimeout((function(){a[_0x4962("0x264")][_0x4962("0xdc5")]=!1,a.modelLoadManager[_0x4962("0x266")]=!1,timer&&window[_0x4962("0x267")](timer)}),100)),a[_0x4962("0x264")][_0x4962("0xe1f")](),a.modelLoadManager[_0x4962("0xdbf")](),a[_0x4962("0x264")][_0x4962("0xdc4")]()):(a[_0x4962("0x264")][_0x4962("0xdbf")](),a[_0x4962("0x264")][_0x4962("0xdc4")](a)))})),this[_0x4962("0xa34")][_0x4962("0xda")](this[_0x4962("0xacd")][_0x4962("0xf2")]),this[_0x4962("0x1039")](_,{minX:x[_0x4962("0x5b8")],minY:x[_0x4962("0x5bb")],maxX:x[_0x4962("0x5ca")],maxY:x.maxY})}}]),x}();_[_0x4962("0xc")]=c},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=n(e(339));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x1044")]=new(a[_0x4962("0xc")])(_),this[_0x4962("0x2e6")]=_,this[_0x4962("0xdf8")]=this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x9fa")]}return(0,i[_0x4962("0xc")])(x,[{key:"handleModels",value:function(x,_,e,t){var i=this.scene,a=i[_0x4962("0x2e7")],n=i.sceneZ_,r=i[_0x4962("0x2e7")],s=i[_0x4962("0x2e8")];t||(a=(x.floorEdge[_0x4962("0xf9")]-x[_0x4962("0x1045")][_0x4962("0xfd")])/2+x.floorEdge[_0x4962("0xfd")],n=(x[_0x4962("0x1045")].maxy-x[_0x4962("0x1045")][_0x4962("0xfe")])/2+x[_0x4962("0x1045")][_0x4962("0xfe")],r=e[_0x4962("0xaf1")][_0x4962("0xcb4")],s=e[_0x4962("0xaf1")][_0x4962("0xcb5")]);x[_0x4962("0x1046")];var o={lod:x[_0x4962("0x2ed")],fnum:_,sceneX:r,sceneZ:s,isTile:t,floorCenX:-a,floorCenZ:n,minX:e[_0x4962("0xaf1")].minX,minY:e[_0x4962("0xaf1")][_0x4962("0x5bb")],maxX:e[_0x4962("0xaf1")][_0x4962("0x5ca")],maxY:e[_0x4962("0xaf1")].maxY,modelHeight:5,isMerge:i[_0x4962("0x48")].options.mergeModels,editMode:i.map[_0x4962("0x3b")][_0x4962("0x1f5")],showBase:i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x39e")],layers:x.modellayers,maptheme:i[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xfc3")],tileStylesMap:i.map.mapTheme[_0x4962("0xfdb")],layerType:1,messageType:1,isBim:e[_0x4962("0x9d")]>100};this[_0x4962("0x1044")].addTask(o,e)}},{key:_0x4962("0x3d3"),value:function(x,_,e,t){var i=this[_0x4962("0x2e6")],a=i[_0x4962("0x2e7")],n=i[_0x4962("0x2e8")],r=i.sceneX_,s=i[_0x4962("0x2e8")];t||(a=(x[_0x4962("0x1045")][_0x4962("0xf9")]-x.floorEdge[_0x4962("0xfd")])/2+x.floorEdge[_0x4962("0xfd")],n=(x[_0x4962("0x1045")].maxy-x[_0x4962("0x1045")][_0x4962("0xfe")])/2+x[_0x4962("0x1045")][_0x4962("0xfe")],r=e[_0x4962("0xaf1")][_0x4962("0xcb4")],s=e.sourceData[_0x4962("0xcb5")]);var o={lod:x[_0x4962("0x2ed")],isTile:t,fnum:_,sceneX:r,sceneZ:s,floorCenX:-a,floorCenZ:n,minX:e.sourceData[_0x4962("0x5b8")],minY:e[_0x4962("0xaf1")][_0x4962("0x5bb")],maxX:e[_0x4962("0xaf1")].maxX,maxY:e[_0x4962("0xaf1")][_0x4962("0x5cb")],modelHeight:5,isMerge:i.map[_0x4962("0x3b")][_0x4962("0x383")],editMode:i.map[_0x4962("0x3b")][_0x4962("0x1f5")],showBase:i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x39e")],layers:x[_0x4962("0x1047")],maptheme:i[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xfc3")],tileStylesMap:i[_0x4962("0x48")].mapTheme[_0x4962("0xfdb")],layerType:0,messageType:1,isBim:e[_0x4962("0x9d")]>100};this.modelWorker[_0x4962("0x1048")](o,e)}},{key:_0x4962("0x1049"),value:function(x,_,e,t,i){var a=this[_0x4962("0x2e6")],n=(x.floorEdge[_0x4962("0xf9")]-x[_0x4962("0x1045")][_0x4962("0xfd")])/2+x[_0x4962("0x1045")][_0x4962("0xfd")],r=(x[_0x4962("0x1045")][_0x4962("0xfa")]-x.floorEdge[_0x4962("0xfe")])/2+x[_0x4962("0x1045")][_0x4962("0xfe")],s=a[_0x4962("0x2e7")],o=a[_0x4962("0x2e8")];s=t[_0x4962("0xaf1")][_0x4962("0xcb4")],o=t.sourceData[_0x4962("0xcb5")];var c={editMode:a[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],fnum:_,sceneX:s,sceneZ:o,floorCenX:-n,floorCenZ:r,minX:t[_0x4962("0xaf1")][_0x4962("0x5b8")],minY:t.sourceData[_0x4962("0x5bb")],maxX:t.sourceData[_0x4962("0x5ca")],maxY:t[_0x4962("0xaf1")][_0x4962("0x5cb")],floorHeight:e,layers:x[_0x4962("0x104a")],layerType:2,messageType:1};i||(c[_0x4962("0x5b8")]=x[_0x4962("0x1045")][_0x4962("0xfd")],c[_0x4962("0x5bb")]=x[_0x4962("0x1045")][_0x4962("0xfe")],c[_0x4962("0x5ca")]=x.floorEdge[_0x4962("0xf9")],c[_0x4962("0x5cb")]=x[_0x4962("0x1045")][_0x4962("0xfa")]),this[_0x4962("0x1044")][_0x4962("0x1048")](c,t)}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x.__esModule?x:{default:x}}var n=window[_0x4962("0x104b")],r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x);var e=this;e[_0x4962("0x2e6")]=_,e[_0x4962("0x104c")]=[],e[_0x4962("0x104d")]=[],e[_0x4962("0x104e")]={},e[_0x4962("0x104f")]={},e.tsTank=[],e[_0x4962("0x1050")]=0,e[_0x4962("0x1051")]=0;var i=0,a=window.navigator[_0x4962("0x1052")];i=a?a-2<0?1:a-2:2;for(var r=function(x){n[_0x4962("0x1053")](x,(function(t){e[_0x4962("0x104e")][x]=t,e[_0x4962("0x104f")][x]=!0,t.addEventListener("message",(function(x){e[_0x4962("0x104f")][x.data.id]=!0,e.receiveCount++;var t=null;if("log"!==x[_0x4962("0x57b")].message)if(x[_0x4962("0x57b")][_0x4962("0x1054")]==_0x4962("0x1055")||"bimInfos"==x[_0x4962("0x57b")][_0x4962("0x1054")]){var i=x.data[_0x4962("0x677")]||x[_0x4962("0x57b")][_0x4962("0x57b")][_0x4962("0x677")];(t=_[_0x4962("0x48")][_0x4962("0x139")](i)).modelLoadManager[_0x4962("0xf84")][_0x4962("0x1056")](x[_0x4962("0x57b")])}else if(x[_0x4962("0x57b")][_0x4962("0x1057")]){if((t=_[_0x4962("0x48")][_0x4962("0x310")](x[_0x4962("0x57b")].bid))||(t=_[_0x4962("0x48")][_0x4962("0xae8")](x.data[_0x4962("0x130")])),!t)return;t[_0x4962("0x3c9")][_0x4962("0xdf8")](x[_0x4962("0x57b")],t)}else{if(!(t=_[_0x4962("0x48")][_0x4962("0x139")](x[_0x4962("0x57b")][_0x4962("0x130")])))return;2==x[_0x4962("0x57b")][_0x4962("0xdf9")]?t.meshLoader[_0x4962("0x1058")](x[_0x4962("0x57b")],t):t[_0x4962("0xa11")].loadRooms(x[_0x4962("0x57b")],t)}}))}))},s=0;s<i;s++)r(s);e[_0x4962("0x2e6")].map.on(_0x4962("0x9e0"),(function(){e[_0x4962("0x1059")]()}))}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x105a"),value:function(x){0!=this[_0x4962("0x105b")][_0x4962("0x0")]&&(this[_0x4962("0x105b")][0].id=x,this[_0x4962("0x104f")][x]=!1,this[_0x4962("0x104e")][x][_0x4962("0x105c")](this[_0x4962("0x105b")][0]),this[_0x4962("0x105b")][_0x4962("0x224")]())}},{key:_0x4962("0x35"),value:function(x){var _=this.workers;for(var e in _)if(this[_0x4962("0x104f")][e])return x.id=e,this[_0x4962("0x104f")][e]=!1,void this[_0x4962("0x104e")][e][_0x4962("0x105c")](x);this.tsTank[_0x4962("0x3")](x)}},{key:_0x4962("0x1059"),value:function(){if(0!=this[_0x4962("0x105b")].length){var x=this[_0x4962("0x104e")];for(var _ in x)if(this.workerStatus[_]){var e=this[_0x4962("0x105b")][0];e.id=_,this[_0x4962("0x104f")][_]=!1,this[_0x4962("0x105b")][_0x4962("0x224")]();try{this[_0x4962("0x104e")][_][_0x4962("0x105c")](e)}catch(x){console[_0x4962("0xe0")](x)}return e=null,void this[_0x4962("0x1050")]++}}}},{key:_0x4962("0x1048"),value:function(x,_){var e=_.id;x.bid=e;var t=this.workers;for(var i in t)if(this[_0x4962("0x104f")][i])return x.id=i,this[_0x4962("0x104f")][i]=!1,this[_0x4962("0x104e")][i][_0x4962("0x105c")](x),this.postCount++,void(x=null);this[_0x4962("0x105b")][_0x4962("0x3")](x)}},{key:"clear",value:function(x){}},{key:_0x4962("0x105d"),value:function(){}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));e(4);function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(){(0,t.default)(this,x)}return(0,i.default)(x,null,[{key:_0x4962("0x105e"),value:function(x){var _=Number[_0x4962("0x105f")],e=Number[_0x4962("0x1060")],t=x[_0x4962("0xb28")];for(var i in t){var a=t[i][_0x4962("0xb29")];_=Math[_0x4962("0x301")](_,a),e=Math.max(e,a)}return new(THREE[_0x4962("0x2ef")])(new(THREE[_0x4962("0x12c")])(x[_0x4962("0x5b8")],_,x[_0x4962("0x5bb")]),new THREE.Vector3(x[_0x4962("0x5ca")],e,x[_0x4962("0x5cb")]))}},{key:_0x4962("0x1032"),value:function(x){var _=x[_0x4962("0x131")](),e=x[_0x4962("0xdd")]();return{target:new THREE.Vector3(0,_.y,0),position:new THREE.Vector3(1*e.x,_.y+.75*e.x,1*-e.x)}}},{key:_0x4962("0x6ab"),value:function(x,_,e,t,i){if(x.length>=3){var a=Math.PI/20,n=Math.PI-a,r=e||1,s=null==_?8:_;if(0==s)return x;var o=1/s;x.push(x[x[_0x4962("0x0")]-1]);for(var c=[],l=0;l<x[_0x4962("0x0")]-2;){var f=x[l][_0x4962("0x126")](),d=x[l+1][_0x4962("0x126")](),u=x[l+2].clone(),h=f[_0x4962("0x126")]()[_0x4962("0x52d")](d),g=u[_0x4962("0x126")]()[_0x4962("0x52d")](d),b=h[_0x4962("0x22d")](g),v=h[_0x4962("0x0")](),p=g[_0x4962("0x0")]();f[_0x4962("0x132")]=x[l].fnum,d[_0x4962("0x132")]=x[l+1][_0x4962("0x132")],u[_0x4962("0x132")]=x[l+2].fnum,f[_0x4962("0x130")]=x[l][_0x4962("0x130")],d.bid=x[l+1][_0x4962("0x130")],u[_0x4962("0x130")]=x[l+2][_0x4962("0x130")];var m=d.y==u.y&&u.y==f.y,A=!t||m;if(c[_0x4962("0x3")](f),b>a&&b<n&&v>r&&p>r&&A){var y=d[_0x4962("0x126")]()[_0x4962("0xc66")](f,r/v),C=d[_0x4962("0x126")]()[_0x4962("0xc66")](u,r/p);y[_0x4962("0x132")]=d.fnum,y[_0x4962("0x130")]=d[_0x4962("0x130")],c[_0x4962("0x3")](y);for(var I=o;I<.999999;I+=o){var E=I,w=y[_0x4962("0x126")]()[_0x4962("0xc66")](d,E),T=d[_0x4962("0x126")]()[_0x4962("0xc66")](C,E),k=w.lerp(T,E);k[_0x4962("0x132")]=y[_0x4962("0x132")],k.bid=y.bid,c.push(k)}x[l+1]=C,C[_0x4962("0x132")]=u[_0x4962("0x132")],C[_0x4962("0x130")]=u[_0x4962("0x130")],l++}else l++;l==x.length-2&&c[_0x4962("0x3")](u)}return x.pop(),c}return x}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_,e,i){(0,t.default)(this,x),this.x=_,this.y=e,this.z=i}return(0,i[_0x4962("0xc")])(x,[{key:"setGeoPoint",value:function(x){this.x=x.x,this.y=x.y}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_,e){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x1061")]=_,this[_0x4962("0xb91")]=e,this[_0x4962("0x1062")]=!0,this[_0x4962("0x1063")]=!0,this[_0x4962("0x1064")]=!0,this[_0x4962("0x1065")]=!0,this[_0x4962("0x1066")]=!0,this[_0x4962("0x1067")]=!0}return(0,i.default)(x,[{key:_0x4962("0x258"),get:function(){return this.enableMapPan_},set:function(x){x!=this[_0x4962("0x1062")]&&(this[_0x4962("0x1062")]=x,this[_0x4962("0xb91")][_0x4962("0xc56")]=x)}},{key:_0x4962("0x1068"),get:function(){return this[_0x4962("0x1063")]},set:function(x){x!=this[_0x4962("0x1063")]&&(this[_0x4962("0x1063")]=x,this[_0x4962("0xb91")][_0x4962("0x1069")]=x,this[_0x4962("0xb91")][_0x4962("0xc54")]=x)}},{key:_0x4962("0x106a"),get:function(){return this[_0x4962("0x1067")]},set:function(x){x!=this[_0x4962("0x1067")]&&(this[_0x4962("0x1067")]=x)}},{key:_0x4962("0x106b"),get:function(){return this[_0x4962("0x1064")]},set:function(x){x!=this[_0x4962("0x1064")]&&(this[_0x4962("0x1064")]=x,this.controls_[_0x4962("0xc55")]=x)}},{key:"enableMapIncline",get:function(){return this.enableMapIncline_},set:function(x){x!=this.enableMapIncline_&&(this.enableMapIncline_=x,this[_0x4962("0xb91")][_0x4962("0xc55")]=x)}},{key:"enableMapZoom",get:function(){return this.enableMapPinch_},set:function(x){x!=this[_0x4962("0x1065")]&&(this[_0x4962("0x1065")]=x,this[_0x4962("0xb91")][_0x4962("0xc52")]=x)}},{key:_0x4962("0x106c"),get:function(){return this[_0x4962("0x1066")]},set:function(x){x!=this.enableMapSingleTap_&&(this[_0x4962("0x1066")]=x,this.mapPicker_[_0x4962("0x710")]=x)}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=r(e(0)),i=r(e(1)),a=r(e(148)),n=e(34);function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this.map=_,this[_0x4962("0x12b")]=null,this[_0x4962("0x39")]()}return(0,i.default)(x,[{key:_0x4962("0x39"),value:function(){var x=this,_=this[_0x4962("0x48")][_0x4962("0x1c6")].sceneOrtho,e=document.createElement("canvas"),t=e.getContext("2d"),i=new Image;14296!==a.default[_0x4962("0x0")]&&MessagePoster[_0x4962("0x1dc")]({msg:_0x4962("0x106d"),level:_0x4962("0xe0")}),i[_0x4962("0x4ee")]=n[_0x4962("0x4a")][_0x4962("0x4b")](a[_0x4962("0xc")]),i[_0x4962("0xc42")]=function(){var a=Math.max(i[_0x4962("0x1ce")],i[_0x4962("0x1a4")]);e[_0x4962("0x1ce")]=3*a,e[_0x4962("0x1a4")]=3*a,t[_0x4962("0x106e")](a/2,a/2),t[_0x4962("0xcaa")](-30*Math.PI/180),t[_0x4962("0x106e")](-a/2,0),t.drawImage(i,0,0);var n=new(THREE[_0x4962("0x368")])(e);n[_0x4962("0x8a3")]=THREE[_0x4962("0x18f")],n[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")];n[_0x4962("0x15b")].x=30,n[_0x4962("0x15b")].y=30,n[_0x4962("0x187")]=!0;var r=new(THREE[_0x4962("0x581")])({map:n,transparent:!0,opacity:.05,side:THREE[_0x4962("0x436")]}),s=new(THREE[_0x4962("0x71e")])(1,1,1,1),o=new(THREE[_0x4962("0x198")])(s,r);o[_0x4962("0x106")].set(0,0,0),o[_0x4962("0x1fe")].set(1e4,1e4,1),_[_0x4962("0xda")](o),x[_0x4962("0x12b")]=o}}},{key:_0x4962("0xf5"),value:function(){this.plane&&this[_0x4962("0x12b")].parent&&(this[_0x4962("0x12b")][_0x4962("0x17c")]=!1,this[_0x4962("0x12b")][_0x4962("0xf4")][_0x4962("0xf5")](),this[_0x4962("0x12b")][_0x4962("0xf6")][_0x4962("0xf5")](),this[_0x4962("0x12b")][_0x4962("0x17b")][_0x4962("0x197")](this.plane))}}]),x}();_[_0x4962("0xc")]=s},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=r(e(5)),i=r(e(0)),a=r(e(10)),n=r(e(11));function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(x){function _(x){(0,i[_0x4962("0xc")])(this,_);var e=(x=x||{})[_0x4962("0x57b")],n=(0,a[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t.default)(_)).call(this,esmap[_0x4962("0x134")][_0x4962("0x106f")],e,x[_0x4962("0x1070")]||new(THREE[_0x4962("0x20c")]),x[_0x4962("0x2e6")]||esmap[_0x4962("0x33")].instance.mapScene));return n[_0x4962("0x1071")]=x,e&&null!=e.typeID&&(n.typeID=x.data.typeID),n[_0x4962("0xa69")]=x[_0x4962("0x9d")]||esmap[_0x4962("0x63b")][_0x4962("0xc62")],n}return(0,n[_0x4962("0xc")])(_,x),_}(esmap[_0x4962("0x335")]);_[_0x4962("0xc")]=s},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=r(e(5)),i=r(e(0)),a=r(e(10)),n=r(e(11));function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(x){function _(x){(0,i.default)(this,_);var e=(0,a[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t[_0x4962("0xc")])(_))[_0x4962("0xf")](this,esmap[_0x4962("0x134")].FACILITY,x));e.ID=x[_0x4962("0x402")],e[_0x4962("0x107")]=x[_0x4962("0x107")],e[_0x4962("0x2fd")]=x[_0x4962("0x3f2")],e.showLevel=x.ShowLevel,e.Height=x[_0x4962("0x313")];var n=x[_0x4962("0x4d")];e[_0x4962("0x212")]=x[_0x4962("0x212")];var r=_0x4962("0x33a"),s=1;x.w&&x.h?r={w:x.w,h:x.h}:x.w&&!x.h&&(s=x.w);var o={padding:0,size:r,scale:s};return e[_0x4962("0xf2")][_0x4962("0x39")]({image:n,imageStyle:o}),e[_0x4962("0x170")]=esmap.ESRenderOrder.facility,e}return(0,n[_0x4962("0xc")])(_,x),_}(r(e(81)).default);_[_0x4962("0xc")]=s},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=h(e(6)),i=h(e(7)),a=h(e(8)),n=h(e(5)),r=h(e(0)),s=h(e(1)),o=h(e(10)),c=h(e(11)),l=e(83),f=e(4),d=e(347),u=e(19);function h(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var g=function(x){function _(){(0,r[_0x4962("0xc")])(this,_);var x=(0,o[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,n[_0x4962("0xc")])(_)).call(this));return x[_0x4962("0x321")]=!0,x[_0x4962("0x324")]=1,x[_0x4962("0x325")]=1,x.scaleRatio=1,x.fixedSize=!0,x[_0x4962("0x1072")]=null,x[_0x4962("0x1073")]=!1,x[_0x4962("0x1074")]=null,x[_0x4962("0x1075")]=!1,x[_0x4962("0x1076")]=!1,x.glowPlaneObj=null,x[_0x4962("0x265")]=!0,x[_0x4962("0x670")]=1,x}var e,h,g,b,v,p;return(0,c[_0x4962("0xc")])(_,x),(0,s[_0x4962("0xc")])(_,[{key:_0x4962("0x39"),value:(p=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,t,a,n,r,s,o,c,d,u=this;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return this[_0x4962("0x99a")]&&this.disposeCtx(),this[_0x4962("0x1077")]=_,void 0!==_[_0x4962("0x265")]&&(this[_0x4962("0x265")]=_.enableCollide),x[_0x4962("0x286")]=5,(0,l[_0x4962("0x15a")])(_);case 5:return e=x[_0x4962("0x33c")],t=e[_0x4962("0x702")],a=e[_0x4962("0x99a")],n=e[_0x4962("0x336")],r=e[_0x4962("0x1ce")],s=e[_0x4962("0x1a4")],this[_0x4962("0x99a")]=a,this[_0x4962("0x336")]=n,this[_0x4962("0x131")].x=(0,f.getValue)(_[_0x4962("0x131")],"x",.5),this[_0x4962("0x131")].y=(0,f[_0x4962("0x13")])(_[_0x4962("0x131")],"y",0),this[_0x4962("0x670")]!==r/s&&(o=r/this[_0x4962("0x324")],c=s/this[_0x4962("0x325")],this[_0x4962("0x1fe")].x*=o,this.scale.y*=c),this[_0x4962("0x324")]=r,this[_0x4962("0x325")]=s,d=new(THREE[_0x4962("0x546")])({map:t,opacity:this.useFadeIn?0:1,alphaTest:_.opacityFix||null}),this[_0x4962("0xf6")]=d,this[_0x4962("0x670")]=r/s,this[_0x4962("0x1076")]||(this._firstInited=!0),this[_0x4962("0x1073")]&&setTimeout((function(){u[_0x4962("0x319")]()}),0),this[_0x4962("0x166")][_0x4962("0x16c")]&&(this[_0x4962("0x16c")]=!0),x.abrupt(_0x4962("0x28c"),t);case 25:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return p[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x319"),value:function(){new esmap.TWEEN.Tween(this[_0x4962("0xf6")]).to({opacity:1},500)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")].InOut)[_0x4962("0x1b1")]()}},{key:_0x4962("0x316"),value:(v=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(_){return i[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return this[_0x4962("0x1077")][_0x4962("0x326")]=_,x[_0x4962("0x286")]=3,this[_0x4962("0x39")](this[_0x4962("0x1077")]);case 3:if(!this[_0x4962("0x1077")].isGlow){x[_0x4962("0x286")]=6;break}return x[_0x4962("0x286")]=6,this.glow(this[_0x4962("0x1077")][_0x4962("0x1078")]);case 6:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return v[_0x4962("0x2a4")](this,arguments)})},{key:"updateTextStyle",value:(b=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return e=this[_0x4962("0x1077")].textStyle,(0,f[_0x4962("0xfd2")])(e,_),x.next=4,this[_0x4962("0x39")](this[_0x4962("0x1077")]);case 4:if(!this._configs.isGlow){x[_0x4962("0x286")]=7;break}return x[_0x4962("0x286")]=7,this[_0x4962("0x272")](this[_0x4962("0x1077")][_0x4962("0x1078")]);case 7:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return b[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x31f"),value:(g=(0,a.default)(i.default[_0x4962("0x283")]((function x(_){var e;return i[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:return e=this[_0x4962("0x1077")].imageStyle,(0,f.assignExceptUndefined)(e,_),x[_0x4962("0x286")]=4,this.init(this[_0x4962("0x1077")]);case 4:if(!this[_0x4962("0x1077")][_0x4962("0x1079")]){x[_0x4962("0x286")]=7;break}return x[_0x4962("0x286")]=7,this[_0x4962("0x272")](this._configs[_0x4962("0x1078")]);case 7:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return g[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x272"),value:(h=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,a,n,r,s,o,c,l,f=this;return i.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return e=_0x4962("0x128"),a=1,n=1,_&&(typeof _===_0x4962("0x21")?"undefined":(0,t[_0x4962("0xc")])(_))==_0x4962("0x9")&&(e=_[_0x4962("0x147")]||"#FFFFFF",a=_[_0x4962("0x145")]||1,n=_.scale||1),x[_0x4962("0x286")]=5,this[_0x4962("0x26f")]();case 5:return this[_0x4962("0x1077")][_0x4962("0x359")]=.5*n,this[_0x4962("0x1077")][_0x4962("0x358")]=!0,x.next=9,this[_0x4962("0x39")](this[_0x4962("0x1077")]);case 9:r=x.sent,this.center.y=.25,s=this[_0x4962("0x48")],o=(0,d[_0x4962("0x107a")])(),c=(0,u[_0x4962("0x1f")])(8),this[_0x4962("0x1074")]=c,(l=new(d[_0x4962("0x107b")])({colorStr:e}))[_0x4962("0x482")](r,o),l[_0x4962("0xf6")][_0x4962("0x147")]=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](e),l[_0x4962("0xf6")][_0x4962("0x145")]=a,this[_0x4962("0x107c")]=l,this.material=l[_0x4962("0xf6")],this[_0x4962("0x16c")]&&(this[_0x4962("0xf6")][_0x4962("0x16d")]=!1),this[_0x4962("0xf6")][_0x4962("0x187")]=!0,s.on("update",(function(x){f[_0x4962("0x107c")][_0x4962("0x711")](x)}),null,c),this._configs[_0x4962("0x1079")]=!0,this._configs[_0x4962("0x1078")]=_;case 26:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return h[_0x4962("0x2a4")](this,arguments)})},{key:"glowPlane",value:function(x){var _=this;if(this[_0x4962("0x107d")])this.glowPlaneObj.visible=!0;else{x[_0x4962("0x69c")]||(x[_0x4962("0x69c")]=5);var e=new THREE.PlaneBufferGeometry(1.2*x[_0x4962("0x69c")],1.2*x[_0x4962("0x69c")]),t=(0,d[_0x4962("0x107a")])();t.wrapS=THREE[_0x4962("0x18f")],t[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],t[_0x4962("0x15b")].x=1,t[_0x4962("0x15b")].y=1;var i=(0,u.createHash)(8);this[_0x4962("0x1074")]=i;var a=new(d[_0x4962("0x107b")])({colorStr:x.color});a[_0x4962("0x107e")](t),this[_0x4962("0x107c")]=a;var n=new(THREE[_0x4962("0x198")])(e,a.material);n[_0x4962("0x210")].x=.5*-Math.PI,n.position[_0x4962("0x206")](this[_0x4962("0x106")]),this.parent[_0x4962("0xda")](n),this[_0x4962("0x107d")]=n,this.map.on(_0x4962("0x165"),(function(x){_[_0x4962("0x107c")].render(x)}),null,i)}}},{key:"stopGlowPlane",value:function(){this[_0x4962("0x107d")]&&(this[_0x4962("0x107d")][_0x4962("0x17c")]=!1)}},{key:"stopGlow",value:(e=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")][_0x4962("0x283")]((function x(){return i[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return this[_0x4962("0x1077")].squared=!1,this._configs[_0x4962("0x359")]=0,x[_0x4962("0x286")]=4,this[_0x4962("0x39")](this[_0x4962("0x1077")]);case 4:this[_0x4962("0x48")]._clearEventsFrom(this[_0x4962("0x1074")]),this[_0x4962("0x1077")][_0x4962("0x1079")]=!1,this._configs[_0x4962("0x1078")]=null;case 7:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x232"),value:function(){this[_0x4962("0x273")]?esmap[_0x4962("0x27c")].updateScreenSize.call(this):!this[_0x4962("0x1075")]&&this[_0x4962("0x1076")]&&(this[_0x4962("0x1fe")].x=this[_0x4962("0x323")]*this[_0x4962("0x324")]/20,this.scale.y=this[_0x4962("0x323")]*this[_0x4962("0x325")]/20,this[_0x4962("0x1075")]=!0)}},{key:_0x4962("0x24b"),value:function(x){esmap[_0x4962("0x27c")].flash[_0x4962("0xf")](this,x)}},{key:"jump",value:function(x){esmap.MapObjectUtils[_0x4962("0x248")][_0x4962("0xf")](this,x)}},{key:_0x4962("0x24c"),value:function(){esmap[_0x4962("0x27c")].stopFlash[_0x4962("0xf")](this)}},{key:"stopJump",value:function(){esmap.MapObjectUtils.stopJump.call(this)}},{key:_0x4962("0x31a"),value:function(x){var _=this,e=(0,f[_0x4962("0x107f")])(x,_0x4962("0xe3"),{time:1}),t=e.value,i=e[_0x4962("0x1a5")];new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this).to({scaleRatio:t},1e3*i).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")]).onUpdate((function(){_[_0x4962("0x273")]||(_[_0x4962("0x1fe")].x=_[_0x4962("0x323")]*_[_0x4962("0x324")]/20,_.scale.y=_[_0x4962("0x323")]*_.height_/20)}))[_0x4962("0x1b1")]()}},{key:"setSize",value:function(x){var _=this.width_,e=this[_0x4962("0x325")];if(this[_0x4962("0x1080")]||(this[_0x4962("0x1080")]={width:this.width_,height:this[_0x4962("0x325")]}),x){var t=.3;if(x instanceof Object?(_=x[_0x4962("0x1ce")],e=x.height,t=x[_0x4962("0x2")](_0x4962("0x1a5"))?x[_0x4962("0x1a5")]:t):(_=x,e=x),!this.fixedSize)return this[_0x4962("0x324")]=_,this[_0x4962("0x325")]=e,this.scale.x=this.scaleRatio*_/20,void(this[_0x4962("0x1fe")].y=this[_0x4962("0x323")]*e/20);this[_0x4962("0x1081")]&&this[_0x4962("0x1081")][_0x4962("0x1b2")]();var i=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(this).to({width_:_,height_:e},1e3*t).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Quadratic[_0x4962("0x1ac")])[_0x4962("0x1b0")]((function(){}))[_0x4962("0x1b1")]();this[_0x4962("0x1081")]=i}else this[_0x4962("0x31b")](this[_0x4962("0x1080")])}},{key:_0x4962("0x31c"),value:function(x){if(this[_0x4962("0x1082")]||(this[_0x4962("0x1082")]=this[_0x4962("0xf6")][_0x4962("0x147")]),x){var _=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](x);this[_0x4962("0xf6")][_0x4962("0x147")]=_}else this[_0x4962("0xf6")][_0x4962("0x147")]=this._oc}},{key:"dispose",value:function(){this[_0x4962("0x1083")](),this.parent&&(this[_0x4962("0x17b")][_0x4962("0x197")](this),this[_0x4962("0x107d")]&&(this.glowPlaneObj.material[_0x4962("0xf5")](),this[_0x4962("0x17b")][_0x4962("0x197")](this[_0x4962("0x107d")]),this.glowPlaneObj=null)),this.map[_0x4962("0x194")][_0x4962("0x32e")](this[_0x4962("0x195")])}},{key:_0x4962("0x1083"),value:function(){this.material&&(this[_0x4962("0xf6")][_0x4962("0x48")]&&this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0xf5")](),this.material[_0x4962("0xf5")]()),this.canvas&&this[_0x4962("0x99a")]&&this[_0x4962("0x99a")][_0x4962("0x9b7")](0,0,this[_0x4962("0x336")][_0x4962("0x1ce")],this[_0x4962("0x336")][_0x4962("0x1a4")])}},{key:_0x4962("0x320"),value:function(){var x=this;this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x8a3")]=this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x8a4")]=THREE.RepeatWrapping,this.material.map[_0x4962("0x187")]=!0,this[_0x4962("0x48")].on(_0x4962("0x165"),(function(){x[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15c")].x-=.001}))}},{key:_0x4962("0x16c"),set:function(x){x?(this[_0x4962("0x170")]=100,this[_0x4962("0xf6")].depthTest=!1):(this[_0x4962("0x170")]=this[_0x4962("0x166")][_0x4962("0x170")],this[_0x4962("0xf6")][_0x4962("0x16d")]=!0),this[_0x4962("0x166")][_0x4962("0x16c")]=x},get:function(){return this[_0x4962("0x166")][_0x4962("0x16c")]}},{key:"text",set:function(x){this[_0x4962("0x1077")][_0x4962("0x327")]=x,this.init(this._configs)},get:function(){return this[_0x4962("0x1077")][_0x4962("0x327")]}},{key:_0x4962("0x326"),set:function(x){this[_0x4962("0x1077")][_0x4962("0x326")]=x,this.init(this[_0x4962("0x1077")])},get:function(){return this._configs[_0x4962("0x326")]}},{key:_0x4962("0x48"),get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")]}}]),_}(THREE[_0x4962("0x278")]);_[_0x4962("0xc")]=g},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_.createGlowMaskTexture=_[_0x4962("0x107b")]=void 0;var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_){var e=_.colorStr,i=_.isOnlyGlow,a=void 0!==i&&i;(0,t.default)(this,x),this[_0x4962("0x147")]=(new(THREE[_0x4962("0x188")]))[_0x4962("0x277")](e),this.material=null,this[_0x4962("0x48f")]=null,this[_0x4962("0x47d")]=e,this.isOnlyGlow=a,this.count=0}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x482"),value:function(x,_){var e=this;return this[_0x4962("0xf6")]=new(THREE[_0x4962("0x546")])({color:16777215,transparent:!0}),this[_0x4962("0xf6")][_0x4962("0x148")]=function(t){t[_0x4962("0x149")].iTime={value:0},t[_0x4962("0x149")][_0x4962("0x1084")]={value:e[_0x4962("0x147")]},t.uniforms[_0x4962("0x1085")]={value:_},t[_0x4962("0x149")].texture1={value:x},t.uniforms.isog={value:e[_0x4962("0x1086")]},t[_0x4962("0x14c")]=t[_0x4962("0x14c")].replace(_0x4962("0x489"),_0x4962("0x1087")),t.vertexShader=t[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x1088"),_0x4962("0x1089")),t[_0x4962("0x152")]=t.fragmentShader[_0x4962("0x14d")](_0x4962("0x153"),"\n                uniform float opacity;\n                uniform float iTime;\n                uniform bool isog;\n                uniform vec3 activeColor;\n                uniform sampler2D texture1;\n                uniform sampler2D aoTexture;\n                varying vec2 nvUv;\n                "),t[_0x4962("0x152")]=t.fragmentShader[_0x4962("0x14d")](_0x4962("0x155"),"\n                    vec4 resultColor = vec4(outgoingLight, diffuseColor.a);\n    \n                    float x = (0.5 - nvUv.x);\n                    float y = (0.5 - nvUv.y);\n                    vec2 cUv = vec2(x, y);\n    \n                    vec4 aoTexColor = texture2D(aoTexture, nvUv);\n                    vec4 texColor = texture2D(texture1, nvUv);\n    \n                    vec3 col = vec3(1.0);\n                    float d = 1.0 - (dot(cUv, cUv));\n                    d += iTime / 3.;\n                    d *= 3.;\n                    \n                    vec3 colors = activeColor;\n                    //colors = fract(colors);\n    \n                    resultColor.a *= aoTexColor.a;\n                    \n                    float m = fract(d);\n                    m = 3.0 * (m - 0.5);\n                    m = 1.0 - abs(m);\n                   \n                    m = smoothstep(0.0, 1.0, m);\n                    resultColor.a *= m;\n                    // col += (colors * m);\n                    // col.rgb *= 1.5;\n                    col.rgb *= colors;\n                    vec4 rCol = vec4( col.rgb,  resultColor.a );\n                    if(texColor.a > 0.6 && !isog){\n                        rCol = texColor;\n                    }\n                    gl_FragColor = rCol;\n    \n                    "),e.shader=t},this[_0x4962("0xf6")]}},{key:_0x4962("0x107e"),value:function(x){var _=this;return this[_0x4962("0xf6")]=new THREE.MeshStandardMaterial({color:16777215,transparent:!0,depthWrite:!1}),this[_0x4962("0xf6")][_0x4962("0x148")]=function(e){e[_0x4962("0x149")][_0x4962("0x1000")]={value:0},e[_0x4962("0x149")].activeColor={value:_.color},e.uniforms[_0x4962("0x1085")]={value:x},e.vertexShader=e[_0x4962("0x14c")].replace(_0x4962("0x489"),"\n                #include <uv_pars_vertex>\n                varying vec2 nvUv;\n                "),e[_0x4962("0x14c")]=e[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x150"),_0x4962("0x108a")),e[_0x4962("0x152")]=e[_0x4962("0x152")][_0x4962("0x14d")](_0x4962("0x153"),_0x4962("0x108b")),e[_0x4962("0x152")]=e.fragmentShader[_0x4962("0x14d")](_0x4962("0x155"),_0x4962("0x108c")),_[_0x4962("0x48f")]=e},this[_0x4962("0xf6")]}},{key:_0x4962("0x108d"),value:function(x){var _=x.position,e=x[_0x4962("0xdd")],t=new(THREE[_0x4962("0x278")])(this[_0x4962("0xf6")]);return this[_0x4962("0xf6")][_0x4962("0x108e")]=!1,t[_0x4962("0x1fe")][_0x4962("0xd8")](e,e,e),t[_0x4962("0x106")][_0x4962("0xd8")](_.x,_.y,_.z),t}},{key:_0x4962("0x711"),value:function(x){this.shader&&(this[_0x4962("0x182")]+=x,this[_0x4962("0x48f")][_0x4962("0x149")][_0x4962("0x1000")][_0x4962("0xe3")]=this[_0x4962("0x182")])}}]),x}();_[_0x4962("0x107b")]=n,_[_0x4962("0x107a")]=function(){var x=document.createElement(_0x4962("0x336"));x[_0x4962("0x1ce")]=256,x[_0x4962("0x1a4")]=256;var _=x[_0x4962("0x337")]("2d"),e=_[_0x4962("0x108f")](x[_0x4962("0x1ce")]/2,x[_0x4962("0x1a4")]/2,80,x.width/2,x[_0x4962("0x1a4")]/2,100);return e[_0x4962("0x9b2")](0,"rgba(255, 255, 255, 1)"),e[_0x4962("0x9b2")](1,"rgba(255, 255, 255, 0)"),_[_0x4962("0x343")]=e,_.beginPath(),_[_0x4962("0x34c")](x[_0x4962("0x1ce")]/2,x.height/2,100,0,2*Math.PI),_.fill(),new(THREE[_0x4962("0x1090")])(x)}},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=c(e(5)),i=c(e(0)),a=c(e(1)),n=c(e(10)),r=c(e(11)),s=c(e(81)),o=e(4);function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var l=function(x){function _(x,e){(0,i[_0x4962("0xc")])(this,_);var a=(0,n.default)(this,(_[_0x4962("0x1e2")]||(0,t[_0x4962("0xc")])(_))[_0x4962("0xf")](this,esmap[_0x4962("0x134")][_0x4962("0xf8d")],x));a.ID=x.oid,a.bid_=x[_0x4962("0x130")],a.name=x.name,a.typeID=x[_0x4962("0x3f2")],a[_0x4962("0x311")]=x[_0x4962("0x3f9")],a[_0x4962("0x313")]=x[_0x4962("0x313")],a[_0x4962("0x212")]=x[_0x4962("0x212")];var r=x[_0x4962("0x107")],s=x[_0x4962("0xe9e")]||"left",c=x[_0x4962("0x1091")]||1,l=x[_0x4962("0x131")],f={fontSize:12,fillStyle:_0x4962("0x128"),strokeWidth:1,strokeStyle:_0x4962("0x338"),shadowBlur:3,shadowColor:_0x4962("0xfab"),shadowOffsetX:0,shadowOffsetY:0,textBaseline:_0x4962("0x339"),padding:2,imageShadowBlur:5};(0,o[_0x4962("0xfd2")])(f,e);var d=a.map[_0x4962("0x3b")][_0x4962("0x78")]?"-"+String(a[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x78")]):"",u="",h=x[_0x4962("0x326")];h&&(u=x[_0x4962("0x1057")]?a[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x46")]+a.map[_0x4962("0xb69")]+(_0x4962("0x1092")+d+"/")+h:x.bid&&a.map[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]?a.map.options[_0x4962("0x46")]+a[_0x4962("0x48")][_0x4962("0xb69")]+(_0x4962("0x98")+x.bid+_0x4962("0x1093")+d+"/")+h:a.map[_0x4962("0x3b")][_0x4962("0x46")]+a.map[_0x4962("0xb69")]+(_0x4962("0x1093")+d+"/")+h);var g=_0x4962("0x33a");x.w&&x.h&&(g={w:x.w,h:x.h});var b={align:s,padding:c,size:g,scale:1,shadowBlur:Number(f[_0x4962("0xfd1")])};return a.o3d_[_0x4962("0x39")]({text:r,textStyle:f,image:u,imageStyle:b,center:l}),a[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x615")],a}return(0,r[_0x4962("0xc")])(_,x),(0,a[_0x4962("0xc")])(_,[{key:_0x4962("0x130"),get:function(){return this[_0x4962("0x329")]}},{key:_0x4962("0x48"),get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")]}}]),_}(s[_0x4962("0xc")]);_[_0x4962("0xc")]=l},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=l(e(2)),i=l(e(5)),a=l(e(0)),n=l(e(1)),r=l(e(10)),s=l(e(11)),o=e(4),c=l(e(350));function l(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var f=function(x){function _(x){var e;(0,a.default)(this,_);var t=new(c[_0x4962("0xc")]);return t[_0x4962("0x107")]=_0x4962("0x108"),e=(0,r[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,i.default)(_))[_0x4962("0xf")](this,esmap[_0x4962("0x134")][_0x4962("0x1094")],{},t)),e[_0x4962("0x31d")]=esmap[_0x4962("0x27c")][_0x4962("0x31d")],e.o3d_[_0x4962("0x321")]=e[_0x4962("0xf2")][_0x4962("0x17c")],e[_0x4962("0x54f")]=x,e[_0x4962("0x132")]=1,e[_0x4962("0x39")](),e}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:_0x4962("0x39"),value:function(){var x=this.map;this.x_=(0,o.getValue)(this.opts_,"x",x[_0x4962("0x131")].x),this.y_=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],"y",x[_0x4962("0x131")].y);var _=(0,o[_0x4962("0x13")])(this.opts_,"url",_0x4962("0x1095"));this.name=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x107"),""),this.ID=(0,o.getValue)(this[_0x4962("0x54f")],"id",1),this[_0x4962("0x1096")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0xdd"),_0x4962("0x33a")),this[_0x4962("0x1017")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x1097"),!0),this[_0x4962("0x1098")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],"fixedAngle",!1),this.arrow_=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x16a"),!1),this[_0x4962("0x1099")]=(0,o[_0x4962("0x13")])(this.opts_,_0x4962("0x109a"),this.size_/2),this[_0x4962("0x109b")]=(0,o[_0x4962("0x13")])(this.opts_,_0x4962("0x109c"),_0x4962("0x109d")),this[_0x4962("0x109e")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x109f"),.65),this[_0x4962("0x10a0")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x16c"),!0),this[_0x4962("0x10a1")]=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x34d"),!1);var e=this,t=(0,o[_0x4962("0x13")])(this[_0x4962("0x54f")],"scale",1);this[_0x4962("0xf2")][_0x4962("0x39")]({scale:t,size:this[_0x4962("0x1096")],arrow:this[_0x4962("0x10a2")],arrowSize:this[_0x4962("0x1099")],arrowColor:this.arrowColor_,fixedAngle:this[_0x4962("0x1098")],arrowOffset:this.arrowOffset_,clip:this[_0x4962("0x10a1")],seeThrough:this[_0x4962("0x10a0")]},_,(function(x){e[_0x4962("0x10a3")]=!0,x[_0x4962("0x140")][_0x4962("0xf6")]&&(x.main[_0x4962("0xf6")][_0x4962("0x17c")]=!0),e[_0x4962("0x10a0")]&&(x[_0x4962("0x140")].material[_0x4962("0x16d")]=!1),e[_0x4962("0x54f")][_0x4962("0x411")]&&(e[_0x4962("0x411")]=e[_0x4962("0x54f")][_0x4962("0x411")]),e[_0x4962("0x54f")][_0x4962("0x1b3")]&&e[_0x4962("0x54f")][_0x4962("0x1b3")](e)})),this.o3d_.up[_0x4962("0x250")](-1),this[_0x4962("0x10a4")]=this[_0x4962("0x10a5")][_0x4962("0xe")](this),x.on(_0x4962("0x165"),this._update_)}},{key:_0x4962("0x31b"),value:function(x){var _=this,e=_[_0x4962("0xf2")][_0x4962("0x324")],t=_[_0x4962("0xf2")].height_,i=.3;x instanceof Object?(e=x[_0x4962("0x1ce")],t=x.height,i=x[_0x4962("0x2")](_0x4962("0x1a5"))?x[_0x4962("0x1a5")]:i):(e=x,t=x),_[_0x4962("0x1081")]&&_[_0x4962("0x1081")][_0x4962("0x1b2")]();var a=new(esmap[_0x4962("0x1a6")].Tween)(_[_0x4962("0xf2")]).to({width_:e,height_:t},1e3*i)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1ac")]).onComplete((function(){}))[_0x4962("0x1b1")]();_[_0x4962("0x1081")]=a}},{key:"hideBound",value:function(){this[_0x4962("0x17f")]&&(this[_0x4962("0x17f")][_0x4962("0x17c")]=!1)}},{key:_0x4962("0x10a6"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};x=(0,t[_0x4962("0xc")])({color:"#30a3fb",linewidth:0,radius:10,opacity:.5},x);var _=esmap[_0x4962("0x33")][_0x4962("0x3a")];if(this[_0x4962("0x17f")]){if(this[_0x4962("0x17f")][_0x4962("0x17c")]||(this[_0x4962("0x17f")].visible=!0),this[_0x4962("0x17f")][_0x4962("0xf1")][_0x4962("0x138")].radius==x[_0x4962("0x69c")])return;var e=x.radius/this[_0x4962("0x17f")][_0x4962("0xf1")][_0x4962("0x10a7")];return this[_0x4962("0x17f")][_0x4962("0x1fe")][_0x4962("0xd8")](e,e,1),void(this[_0x4962("0x17f")][_0x4962("0xf1")].points[_0x4962("0x69c")]=x[_0x4962("0x69c")])}var i=new esmap.ESPolygonMarker({bid:0,alpha:x[_0x4962("0x145")],color:x[_0x4962("0x147")],lineWidth:x.linewidth,seeThrough:!0,points:{type:_0x4962("0x17f"),center:{x:_[_0x4962("0x131")].x,y:_[_0x4962("0x131")].y},radius:x.radius,segments:40},height:-.1,lineType:esmap[_0x4962("0x129")][_0x4962("0x10a8")]});i[_0x4962("0x10a7")]=x.radius,this[_0x4962("0xf2")][_0x4962("0x17b")][_0x4962("0xda")](i[_0x4962("0xf2")]),this[_0x4962("0x17f")]=i[_0x4962("0xf2")]}},{key:_0x4962("0x251"),value:function(x){var _=this;"number"==typeof x&&(x={angle:x});var e,t=(0,o.getValues)(x,"time",_0x4962("0x1a8"),.3),i=_[_0x4962("0x411")],a=esmap[_0x4962("0x8c")][_0x4962("0x660")](i,x[_0x4962("0x234")]);return _[_0x4962("0xb46")]&&_._rotateToID.stop(),_[_0x4962("0xb46")]=esmap.TWEEN[_0x4962("0x6d6")](t,(function(x){(e=i+a*x[_0x4962("0xe3")])<=0?e=360+e:e>=360&&(e-=360),_.direction=e}),null,(function(){x[_0x4962("0x1b0")]&&x[_0x4962("0x1b0")]()})),_[_0x4962("0xb46")]}},{key:"setPosition",value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")];this.x=x.x,this.y=x.y;var e=(0,o[_0x4962("0x14")])(x,_0x4962("0x132"),_0x4962("0xcbb"),_0x4962("0x2d9"),null),t=(0,o.getValues)(x,_0x4962("0x1a4"),_0x4962("0x10a9"),_0x4962("0x15c"),_0x4962("0x2a"),0),i=(0,o.getValues)(x,_0x4962("0x130"),_.id),a=_[_0x4962("0x139")](i);_[_0x4962("0x3c")]===esmap[_0x4962("0x40")].City&&-1===_._cityLocMarkers[_0x4962("0xaf")](this)&&_[_0x4962("0x10aa")][_0x4962("0x3")](this);var n={x:x.x,y:x.y};e=e||a.focusFloorNum,this[_0x4962("0x132")]=e,this[_0x4962("0xf2")].initY_=(t||0)+a.o3d_[_0x4962("0x106")].y,a[_0x4962("0x673")](e)[_0x4962("0xf2")][_0x4962("0xda")](this[_0x4962("0xf2")]);var r=_[_0x4962("0x10ab")]({x:n.x,y:n.y}),s=_[_0x4962("0x2c3")]({x:r.x,y:r.y});this.position[_0x4962("0xd8")](s.x,this[_0x4962("0xf2")][_0x4962("0x19e")],s.z),this[_0x4962("0x130")]=i,this[_0x4962("0x52")]=a}},{key:_0x4962("0x10a5"),value:function(){this[_0x4962("0xf2")][_0x4962("0xf1")]&&this.o3d_.updateScreenSize(esmap[_0x4962("0x33")].instance[_0x4962("0x1c6")]),this[_0x4962("0x17f")]&&(this.circle[_0x4962("0x106")][_0x4962("0x6a9")](this[_0x4962("0xf2")].position)||this.circle[_0x4962("0x106")][_0x4962("0x206")](this[_0x4962("0xf2")][_0x4962("0x106")]))}},{key:_0x4962("0x10ac"),value:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x208")](this[_0x4962("0x106")]);return x.z=this[_0x4962("0xf2")].initY_||0,x[_0x4962("0x132")]=this[_0x4962("0x132")],x}},{key:_0x4962("0xf5"),value:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];if(x.mode===esmap.MapMode[_0x4962("0x41")]){var _=x._cityLocMarkers.indexOf(this);_>-1&&x._cityLocMarkers.splice(_,1)}this[_0x4962("0xf2")]&&this.o3d_[_0x4962("0x17b")]&&(esmap[_0x4962("0x33")].instance[_0x4962("0x6b")](_0x4962("0x165"),this[_0x4962("0x10a4")]),this[_0x4962("0xf2")][_0x4962("0x17b")].remove(this[_0x4962("0xf2")]))}},{key:_0x4962("0x411"),get:function(){return this.o3d_[_0x4962("0x415")][_0x4962("0x210")].z/Math.PI*180},set:function(x){this.o3d_[_0x4962("0x415")][_0x4962("0x210")][_0x4962("0xd8")](0,0,x/180*Math.PI,_0x4962("0xbb3"))}},{key:_0x4962("0x4d"),get:function(){return this[_0x4962("0x54f")][_0x4962("0x4d")]},set:function(x){this.opts_[_0x4962("0x4d")]=x,this[_0x4962("0xf2")][_0x4962("0x10ad")](x)}},{key:_0x4962("0x16a"),set:function(x){this.o3d_.arrow=x},get:function(){return this[_0x4962("0xf2")].arrow}},{key:_0x4962("0x10ae"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x10ae")]},set:function(x){this[_0x4962("0xf2")].fixedAngle=x}},{key:_0x4962("0x17c"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x321")]},set:function(x){this.o3d_.forceVisible_=x,this.o3d_[_0x4962("0x17c")]=x}},{key:"height",set:function(x){this[_0x4962("0xf2")][_0x4962("0x19e")]=x},get:function(){return this.o3d_[_0x4962("0x106")].y}},{key:_0x4962("0xcbb"),get:function(){return this[_0x4962("0x132")]},set:function(x){this[_0x4962("0x132")]=x}},{key:_0x4962("0x106"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x106")]}}]),_}(l(e(82)).default);_[_0x4962("0xc")]=f},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var t=f(e(7)),i=f(e(8)),a=f(e(5)),n=f(e(0)),r=f(e(1)),s=f(e(10)),o=f(e(11)),c=e(83),l=e(4);function f(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var d=function(x){function _(){return(0,n[_0x4962("0xc")])(this,_),(0,s[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,a[_0x4962("0xc")])(_))[_0x4962("0xf")](this))}var e,f;return(0,o[_0x4962("0xc")])(_,x),(0,r[_0x4962("0xc")])(_,[{key:"init",value:(f=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")].mark((function x(_,e,i){var a,n,r,s,o,f,d,u,h,g,b,v,p,m,A=this;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return a=new THREE.Mesh,(n=new(THREE[_0x4962("0xfb2")])({transparent:!0,side:THREE[_0x4962("0x436")]})).visible=!1,a[_0x4962("0xf6")]=n,r=new(THREE[_0x4962("0x71e")])(1,1,1,1),a[_0x4962("0xf4")]=r,this[_0x4962("0x3e6")]=_,this[_0x4962("0x24f")]=_[_0x4962("0x24f")],this[_0x4962("0x10ae")]=_[_0x4962("0x10ae")],this[_0x4962("0xda")](a),this[_0x4962("0x140")]=a,this.width_=1,this[_0x4962("0x325")]=1,_[_0x4962("0x16a")]?this[_0x4962("0x10af")]():this.outline=this[_0x4962("0x140")],s=esmap[_0x4962("0x33")][_0x4962("0x3a")],o=_[_0x4962("0xdd")],f=_[_0x4962("0x1fe")],d=_[_0x4962("0x34d")],(0,l[_0x4962("0x10b0")])(o)&&(o={w:o,h:o}),this[_0x4962("0xdd")]=o,x[_0x4962("0x286")]=21,(0,c[_0x4962("0x15a")])({image:e,imageStyle:{size:o,clip:d}});case 21:u=x[_0x4962("0x33c")],h=u.texture,g=u.width,b=u[_0x4962("0x1a4")],n[_0x4962("0x48")]=h,n[_0x4962("0x187")]=!0,this[_0x4962("0x24f")]&&(this.main.material[_0x4962("0x17c")]=!0,this[_0x4962("0x17c")]=!0),s.on(_0x4962("0x165"),(function(){A.fixedAngle&&A[_0x4962("0x140")][_0x4962("0x210")][_0x4962("0xd8")](0,0,-s[_0x4962("0x230")]/180*Math.PI,_0x4962("0xbb3"))})),this[_0x4962("0x3e6")][_0x4962("0x16c")]&&(n.depthWrite=!1,n[_0x4962("0x16d")]=!1),this[_0x4962("0x140")][_0x4962("0x170")]=esmap[_0x4962("0x171")].locationMarker,p=(v={w:g,h:b}).w/32*10,m=v.h/32*10,this[_0x4962("0x1fe")][_0x4962("0xd8")](p,m,1),this[_0x4962("0x210")][_0x4962("0xd8")](-Math.PI/2,0,Math.PI,_0x4962("0xbb3")),this[_0x4962("0x324")]=v.w,this.height_=v.h,this[_0x4962("0x323")]=f,i&&i(this);case 37:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,_,e){return f[_0x4962("0x2a4")](this,arguments)})},{key:"initArrow",value:function(){var x=this[_0x4962("0x3e6")],_=this[_0x4962("0x10b1")]({color:x[_0x4962("0x109c")],scale:x[_0x4962("0x109a")]/x[_0x4962("0x1096")],offset:x.arrowOffset});this[_0x4962("0x3e6")][_0x4962("0x16c")]&&(_[_0x4962("0xf6")].depthWrite=!1,_[_0x4962("0xf6")].depthTest=!1),_.renderOrder=esmap[_0x4962("0x171")][_0x4962("0x695")]-.5,_[_0x4962("0x106")].z-=.05;var e=new(THREE[_0x4962("0x1e1")]);e[_0x4962("0xda")](_),this[_0x4962("0xda")](e),this[_0x4962("0x415")]=e,this[_0x4962("0x10b2")]=e}},{key:_0x4962("0x10b1"),value:function(x){var _=x[_0x4962("0x147")],e=x.scale,t=x[_0x4962("0x15c")],i=document[_0x4962("0x24")](_0x4962("0x336")),a=64;i[_0x4962("0x1ce")]=a,i[_0x4962("0x1a4")]=a;var n=i.getContext("2d");n[_0x4962("0x34f")](),n.moveTo(0,a),n.lineTo(32,0),n[_0x4962("0x564")](a,a),n[_0x4962("0x564")](a,a),n[_0x4962("0xa9a")](),n.stroke(),n[_0x4962("0x343")]=_,n.fill();var r=new(THREE[_0x4962("0x368")])(i),s=new(THREE[_0x4962("0x581")])({map:r,transparent:!0});s.visible=!0,s[_0x4962("0x48")].needsUpdate=!0;var o=new(THREE[_0x4962("0x71e")])(e,e,e,e),c=new(THREE[_0x4962("0x198")])(o,s);return c.name=_0x4962("0x16a"),c[_0x4962("0x170")]=esmap.ESRenderOrder[_0x4962("0x695")]-1,c[_0x4962("0x106")].y+=t,c}},{key:_0x4962("0x10ad"),value:(e=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,i,a;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return e=this[_0x4962("0x140")][_0x4962("0xf6")],x[_0x4962("0x286")]=3,(0,c[_0x4962("0x15a")])({image:_,imageStyle:{size:this.size,clip:this[_0x4962("0x3e6")][_0x4962("0x34d")]}});case 3:i=x[_0x4962("0x33c")],a=i[_0x4962("0x702")],e[_0x4962("0x48")]=a,e[_0x4962("0x187")]=!0;case 7:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x232"),value:function(){esmap[_0x4962("0x27c")][_0x4962("0x232")][_0x4962("0xf")](this)}},{key:_0x4962("0x31d"),value:function(){}},{key:_0x4962("0x16a"),get:function(){return this.arrowGroup&&this.arrowGroup[_0x4962("0x17c")]},set:function(x){x?(this[_0x4962("0x10b2")]?this.arrowGroup[_0x4962("0x17c")]=!0:this[_0x4962("0x10af")](),this[_0x4962("0x415")]=this[_0x4962("0x10b2")]):(this.arrowGroup&&(this[_0x4962("0x10b2")][_0x4962("0x17c")]=!1),this[_0x4962("0x415")]=this[_0x4962("0x140")])}}]),_}(THREE[_0x4962("0x20c")]);_[_0x4962("0xc")]=d},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=u(e(6)),i=u(e(2)),a=u(e(5)),n=u(e(0)),r=u(e(1)),s=u(e(10)),o=u(e(11)),c=u(e(352)),l=u(e(63)),f=u(e(82)),d=e(51);function u(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var h=function(x){function _(x){(0,n.default)(this,_);var e=(0,s[_0x4962("0xc")])(this,(_.__proto__||(0,a[_0x4962("0xc")])(_)).call(this,esmap[_0x4962("0x134")].POLYGON_MARKER,{},new(THREE[_0x4962("0x198")])));return e[_0x4962("0x39")](x),e}return(0,o[_0x4962("0xc")])(_,x),(0,r.default)(_,[{key:_0x4962("0x39"),value:function(x){var _=this;this[_0x4962("0xa6c")]="polygonMarker";var e={id:null,color:"#1ee3cf",alpha:.5,name:"",imageRepeat:{x:1,y:1},lineStyle:{lineWidth:1,fixedWidth:!1,lineType:esmap[_0x4962("0x129")][_0x4962("0x10a8")]},seeThrough:!1,imageAngle:180,height:6,pickAlpha:1,thickness:0,showLevel:null,pickable:!0,light:!1,roughness:.5,metalness:.5,renderOrder:esmap[_0x4962("0x171")][_0x4962("0x696")],bid:0,points:{type:_0x4962("0x10b3"),center:this[_0x4962("0x48")].center,width:30,height:30},onError:null};(0,d[_0x4962("0x12d")])(e,x),this[_0x4962("0x3b")]=e,e[_0x4962("0x88b")]&&(this[_0x4962("0xf2")].material=new(THREE[_0x4962("0x143")])({transparent:!0,roughness:e.roughness,metalness:e[_0x4962("0x146")],side:THREE[_0x4962("0x10b4")]})),this.ID=e.id,this[_0x4962("0x107")]=e[_0x4962("0x107")],this[_0x4962("0x311")]=e[_0x4962("0x311")],this.o3d_[_0x4962("0xf6")][_0x4962("0x144")]=!0,this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x16f")]=!0,this[_0x4962("0xf2")].material[_0x4962("0x15e")]=THREE[_0x4962("0x436")],this.o3d_[_0x4962("0x170")]=e[_0x4962("0x170")],this[_0x4962("0x10b5")]=x[_0x4962("0x10b5")]||null,e[_0x4962("0x16c")]&&(this.o3d_[_0x4962("0xf6")][_0x4962("0x16d")]=!1),e.pickable&&this[_0x4962("0x48")][_0x4962("0x194")].addObject(this[_0x4962("0xf2")],this[_0x4962("0x130")]||_0x4962("0x140"));var t=this[_0x4962("0x6a7")](e[_0x4962("0x138")]);if(t){if(this.points=t,0==e.thickness){var i=this[_0x4962("0x10b6")](t);this[_0x4962("0xf2")][_0x4962("0xf4")]=i,this[_0x4962("0xf2")].rotateX(-Math.PI/2),this.o3d_[_0x4962("0x106")].y=e[_0x4962("0x1a4")],this[_0x4962("0x31c")](e.color),this[_0x4962("0xf2")][_0x4962("0xf6")].opacity=e[_0x4962("0x12e")],e[_0x4962("0x10b7")]&&this[_0x4962("0x10b8")](e[_0x4962("0x10b7")]),e[_0x4962("0x326")]&&this[_0x4962("0x10b9")](e[_0x4962("0x326")])}else this[_0x4962("0x88b")]?this[_0x4962("0xf2")][_0x4962("0xf6")]=new(THREE[_0x4962("0x143")])({transparent:!0,roughness:this[_0x4962("0x827")],metalness:this[_0x4962("0x146")],side:THREE[_0x4962("0x436")]}):this[_0x4962("0xf2")][_0x4962("0xf6")]=new(THREE[_0x4962("0x581")])({transparent:!0,side:THREE[_0x4962("0x436")]}),this[_0x4962("0x10ba")](this,!0);this[_0x4962("0xf2")][_0x4962("0x25e")](_0x4962("0x228"),(function(){_[_0x4962("0xad6")]&&(_[_0x4962("0xad6")][_0x4962("0xf5")](),_[_0x4962("0xad6")]=null)}))}}},{key:_0x4962("0x24f"),value:function(){this[_0x4962("0x17c")]=!1}},{key:_0x4962("0x24e"),value:function(){this[_0x4962("0x17c")]=!0}},{key:_0x4962("0x10b9"),value:function(x){var _=esmap[_0x4962("0x8c")][_0x4962("0x611")](x);this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")]=_,this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x131")].x=.5,this[_0x4962("0xf2")].material[_0x4962("0x48")].center.y=.5,this.options[_0x4962("0x10bb")]&&(this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x8a3")]=this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15b")].x=this[_0x4962("0x3b")][_0x4962("0x10bb")].x,this[_0x4962("0xf2")][_0x4962("0xf6")].map[_0x4962("0x15b")].y=this.options[_0x4962("0x10bb")].y),this[_0x4962("0xf2")][_0x4962("0xf6")].map[_0x4962("0x210")]=this.options[_0x4962("0x10bc")]*THREE[_0x4962("0x20e")][_0x4962("0x599")],this[_0x4962("0xf2")].material[_0x4962("0x147")].setStyle(this.options[_0x4962("0x147")]),this[_0x4962("0xf2")].material[_0x4962("0x48")][_0x4962("0x187")]=!0,this.o3d_[_0x4962("0xf6")][_0x4962("0x187")]=!0}},{key:_0x4962("0x2f0"),value:function(){for(var x=esmap[_0x4962("0x8c")][_0x4962("0x10bd")](this[_0x4962("0x138")]),_=0,e=0,t=this.points[_0x4962("0x0")];e<t;e++)_+=this[_0x4962("0x138")][e].z||0;var i=_/this[_0x4962("0x138")][_0x4962("0x0")]+this.z,a=esmap[_0x4962("0x8c")].getCenterByExtent(x);return a.z=i,a}},{key:"_processUvs",value:function(x){if(!this.o3d_.userData[_0x4962("0x10be")]){this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x10be")]=!0;var _=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],e=x[_0x4962("0xe06")],t=x.faces,i=e[_0x4962("0x0")];x[_0x4962("0x566")](),x.faceVertexUvs[0]=[],x[_0x4962("0x566")]();for(var a=x.boundingBox[_0x4962("0x300")],n=x[_0x4962("0x567")].min,r=new THREE.Vector2(0-n.x,0-n.y),s=new(THREE[_0x4962("0x568")])(a.x-n.x,a.y-n.y),o=i-2,c=0;c<o;c++){var l=t[c];if(l||(_||(console[_0x4962("0xe0")](_0x4962("0x10bf"),this),this.onError&&this.onError()),(l=t[c-1])||(l=t[c+1]),l||(l=t[0]),l)){var f=x.vertices[l.a],d=x[_0x4962("0xe06")][l.b],u=x[_0x4962("0xe06")][l.c];x[_0x4962("0x10c0")][0][c]=[new(THREE[_0x4962("0x568")])((f.x+r.x)/s.x,(f.y+r.y)/s.y),new THREE.Vector2((d.x+r.x)/s.x,(d.y+r.y)/s.y),new THREE.Vector2((u.x+r.x)/s.x,(u.y+r.y)/s.y)]}}x.uvsNeedUpdate=!0,x[_0x4962("0x10c1")]=!0}}},{key:_0x4962("0x10c2"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};this._processUvs(this.o3d_.geometry);var _=esmap[_0x4962("0x8c")].getExtentByPoints(this[_0x4962("0x138")]);x[_0x4962("0x5ca")]=_[_0x4962("0x5ca")],x[_0x4962("0x5b8")]=_[_0x4962("0x5b8")],x[_0x4962("0x5cb")]=_.maxY,x[_0x4962("0x5bb")]=_[_0x4962("0x5bb")],this[_0x4962("0x9a8")]=new c.default(x);var e=this[_0x4962("0x9a8")][_0x4962("0x10c3")]();this.heatmap[_0x4962("0x10c4")]=this[_0x4962("0xf2")][_0x4962("0xf6")],this[_0x4962("0xf2")].material=e}},{key:_0x4962("0x10c5"),value:function(x){this[_0x4962("0x9a8")][_0x4962("0x10c6")](x)}},{key:_0x4962("0x10c7"),value:function(){this.heatmap[_0x4962("0x10c8")]()}},{key:_0x4962("0x10c9"),value:function(){this[_0x4962("0x9a8")].clearPoints(),this[_0x4962("0x9a8")][_0x4962("0x728")](),this[_0x4962("0x9a8")][_0x4962("0x10c4")]&&(this[_0x4962("0xf2")].material=this[_0x4962("0x9a8")][_0x4962("0x10c4")])}},{key:_0x4962("0x10ca"),value:function(){this[_0x4962("0x9a8")][_0x4962("0x165")]()}},{key:_0x4962("0x10cb"),value:function(x){this[_0x4962("0x9a8")][_0x4962("0x9ba")](x)}},{key:_0x4962("0x10cc"),value:function(x){this[_0x4962("0x9a8")][_0x4962("0x9b6")](x.x,x.y,x[_0x4962("0xe3")])}},{key:_0x4962("0x31d"),value:function(x,_){esmap[_0x4962("0x27c")][_0x4962("0x31d")][_0x4962("0xf")](this.o3d_,x,_),esmap[_0x4962("0x27c")][_0x4962("0x31d")].call(this[_0x4962("0xad6")],x,_)}},{key:"setColor",value:function(x){this.o3d_[_0x4962("0xf6")][_0x4962("0x147")].setStyle(x)}},{key:_0x4962("0x10cd"),value:function(x){this[_0x4962("0xad6")]&&(this[_0x4962("0xad6")].dispose(),this[_0x4962("0xad6")]=null),this[_0x4962("0x3b")][_0x4962("0x10b7")]||(this.options.lineStyle={}),(0,i[_0x4962("0xc")])(this[_0x4962("0x3b")][_0x4962("0x10b7")],x),this._createLine(this[_0x4962("0x3b")][_0x4962("0x10b7")])}},{key:"_normalizePoints",value:function(x){var _=this;return x[_0x4962("0x48")]((function(x){var e=_[_0x4962("0x48")][_0x4962("0x10ab")]({x:x.x,y:x.y}),t=_[_0x4962("0x48")][_0x4962("0x2c3")](e);return new THREE.Vector2(t.x,-t.z)}))}},{key:_0x4962("0x10ba"),value:function(x,_){var e=this;if(_||(0,i[_0x4962("0xc")])(e,x),x[_0x4962("0x138")]){var a=null;if(x[_0x4962("0x138")]instanceof Array){if((a=x[_0x4962("0x138")])[_0x4962("0x0")]<3)return}else if("object"==(0,t[_0x4962("0xc")])(x[_0x4962("0x138")])&&!(a=e[_0x4962("0x10ce")](x[_0x4962("0x138")])))return;e.o3d_[_0x4962("0xf4")][_0x4962("0xf5")](),e[_0x4962("0x138")]=a;var n=e[_0x4962("0x10cf")](a),r=new(THREE[_0x4962("0x562")])(n),s=new(THREE[_0x4962("0x565")])(r,{depth:20,bevelEnabled:!1,material:0,extrudeMaterial:0});e[_0x4962("0xf2")][_0x4962("0xf4")]=s,_&&(e[_0x4962("0xf2")][_0x4962("0x10d0")](-Math.PI/2),e[_0x4962("0xf2")].position.y=e[_0x4962("0x1a4")]),e[_0x4962("0xf2")].renderOrder=e[_0x4962("0x170")]}x.color&&e[_0x4962("0xf2")][_0x4962("0xf6")].color.setStyle(e[_0x4962("0x147")]),null!=x.alpha&&e.o3d_[_0x4962("0xf6")][_0x4962("0x145")]&&(e[_0x4962("0xf2")][_0x4962("0xf6")].opacity=e.alpha)}},{key:_0x4962("0x10b8"),value:function(x){var _=this;_.map[_0x4962("0x139")](0);_[_0x4962("0x130")]&&_.map.getBuildingById(_[_0x4962("0x130")]),_[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0x2e7")],_[_0x4962("0x48")].mapScene[_0x4962("0x2e8")];var e=_[_0x4962("0xf2")].geometry[_0x4962("0xe06")].map((function(x){return new THREE.Vector3(x.x,-x.z,x.y)}));e[_0x4962("0x3")](e[0][_0x4962("0x126")]());var t=(0,i[_0x4962("0xc")])({color:_.options[_0x4962("0x147")],fixedWidth:!1,notCenter:!0,lineWidth:1,lineType:esmap.ESLineType.FULL,hiddenByFloor:!1,light:!1},x);t[_0x4962("0xa43")]!=esmap[_0x4962("0x129")][_0x4962("0x12a")]?_.line=new(esmap[_0x4962("0x64e")])(e,t,!1):_.line=new l.default(e,t,!1),_[_0x4962("0xad6")].rotateX(-Math.PI/2),_[_0x4962("0xf2")].add(_[_0x4962("0xad6")]),_[_0x4962("0xad6")][_0x4962("0x106")][_0x4962("0xd8")](0,0,0),_[_0x4962("0xad6")][_0x4962("0xf6")].visible=!0,_[_0x4962("0xad6")][_0x4962("0x170")]=_[_0x4962("0x170")],_[_0x4962("0xad6")][_0x4962("0xf3")][0]&&(_[_0x4962("0xad6")][_0x4962("0xf3")][0].renderOrder=_[_0x4962("0x170")])}},{key:"_createPoints",value:function(x){switch(x[_0x4962("0x9d")]){case"circle":if(x[_0x4962("0x131")]&&x[_0x4962("0x69c")]){for(var _=x[_0x4962("0x131")],e=x[_0x4962("0x69c")]||30,t=x[_0x4962("0x6aa")]||40,i=[],a=0;a<t;a++)i[_0x4962("0x3")]({x:_.x+e*Math[_0x4962("0x6bc")](2*Math.PI/t*a),y:_.y+e*Math[_0x4962("0x66d")](2*Math.PI/t*a)});return i}break;case"rectangle":if(x[_0x4962("0x1ce")]&&x.height&&(x[_0x4962("0x927")]||x[_0x4962("0x131")])){_=x.center||this.map[_0x4962("0x131")];if(!(n=x[_0x4962("0x927")]))var n={x:_.x-x[_0x4962("0x1ce")]/2,y:_.y-x[_0x4962("0x1a4")]/2};return[{x:n.x,y:n.y},{x:n.x+x[_0x4962("0x1ce")],y:n.y},{x:n.x+x[_0x4962("0x1ce")],y:n.y+x[_0x4962("0x1a4")]},{x:n.x,y:n.y+x[_0x4962("0x1a4")]}]}}}},{key:"update",value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};x.points&&this[_0x4962("0x10d1")](x[_0x4962("0x138")])}},{key:"updatePoints",value:function(x){this.o3d_[_0x4962("0xf4")].dispose();var _=void 0;if(Array[_0x4962("0x123")](x))_=this.createPlaneGeometry(x);else{this[_0x4962("0x3b")][_0x4962("0x138")]=(0,i[_0x4962("0xc")])(this[_0x4962("0x3b")][_0x4962("0x138")],x);var e=this.getPoints(this.options[_0x4962("0x138")]);_=this[_0x4962("0x10b6")](e)}this[_0x4962("0xf2")][_0x4962("0xf4")]=_,this[_0x4962("0xad6")]&&(this[_0x4962("0xad6")].dispose(),this[_0x4962("0xad6")]=null,this[_0x4962("0x10b8")](this[_0x4962("0x3b")][_0x4962("0x10b7")]))}},{key:"getPoints",value:function(x){var _=[];if(Array[_0x4962("0x123")](x)){if(x.length<3)return void console[_0x4962("0xe0")](_0x4962("0x10d2"));_=x}else if((typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t.default)(x))===_0x4962("0x9")&&!(_=this._createPoints(x)))return void console[_0x4962("0xe0")](_0x4962("0x10d3"));return _}},{key:_0x4962("0x10d4"),value:function(x){for(var _=0,e=x[_0x4962("0x0")],t=0;t<e;t++){var i=x[t],a=x[(t+1)%e];_+=i.x*a.y-a.x*i.y}return _>0}},{key:_0x4962("0x10b6"),value:function(x){this[_0x4962("0x10d4")](x)&&x[_0x4962("0x2df")]();var _=this[_0x4962("0x10cf")](x),e=new THREE.ShapeGeometry(new(THREE[_0x4962("0x562")])(_));this._processUvs(e);for(var t=0;t<e[_0x4962("0xe06")][_0x4962("0x0")];t++)e[_0x4962("0xe06")][t].z=x[t].z||0;return e.verticesNeedUpdate=!0,e[_0x4962("0x566")](),e.computeBoundingSphere(),e}},{key:_0x4962("0x10d5"),value:function(x){var _=(0,i[_0x4962("0xc")])(x);_=this[_0x4962("0x10cf")]([_])[0];var e=new(THREE[_0x4962("0x12c")])(_.x,this[_0x4962("0xf2")][_0x4962("0x216")](new(THREE[_0x4962("0x12c")])).y+30,-_.y),t=new(THREE[_0x4962("0x12c")])(0,-1,0);return new(THREE[_0x4962("0x528")])(e,t)[_0x4962("0xb9c")](this[_0x4962("0xf2")])[_0x4962("0x0")]>0}},{key:"map",get:function(){return esmap[_0x4962("0x33")].instance}}]),_}(f[_0x4962("0xc")]);_.default=h},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=s(e(14)),i=s(e(0)),a=s(e(1)),n=e(19),r=s(e(142));function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(){function x(_){(0,i[_0x4962("0xc")])(this,x),this[_0x4962("0x51e")](_),this[_0x4962("0x10d6")]={},this[_0x4962("0x702")]=null,this[_0x4962("0x138")]=[],this[_0x4962("0x10d7")]=new r.default({duration:_[_0x4962("0x2")](_0x4962("0x1a8"))?_.duration:1,colorStr:_[_0x4962("0x1d3")],isShowBackground:!!_[_0x4962("0x2")]("isShowBackground")&&_[_0x4962("0x4b5")]}),this[_0x4962("0x10c4")]=null,this.heatMapMaterial=null}return(0,a[_0x4962("0xc")])(x,[{key:_0x4962("0x991"),value:function(x){var _=this,e=_.maxX-_[_0x4962("0x5b8")],t=_[_0x4962("0x5cb")]-_[_0x4962("0x5bb")],i={w:parseFloat(e),h:parseFloat(t)},a=(0,n[_0x4962("0x1c")])();i.w=i.w*a[0]/15,i.h=i.h*a[1]/15;var r=1,s=x[_0x4962("0x995")]||8192;return(e>500||t>500)&&s>=8192&&(s=2048),(i.w>=s||i.h>=s)&&(i.w>=i.h?(r=i.h/i.w,i.w=s,i.h=s*r):(r=i.w/i.h,i.h=s,i.w=s*r)),i}},{key:_0x4962("0x993"),value:function(x,_){var e={x:1-(x-this.minX)/(this[_0x4962("0x5ca")]-this.minX),y:(_-this.minY)/(this.maxY-this[_0x4962("0x5bb")])};return e.x=e.x*this[_0x4962("0x3b")][_0x4962("0x1ce")],e.y=e.y*this[_0x4962("0x3b")][_0x4962("0x1a4")],e}},{key:"getColorAt",value:function(x,_){var e=this[_0x4962("0x3b")][_0x4962("0x99a")].getImageData(x,_,1,1).data;return{r:e[0],g:e[1],b:e[2]}}},{key:"hexToRgb",value:function(x){var _=parseInt(x[_0x4962("0x1e7")](1),16);return{r:_>>16&255,g:_>>8&255,b:255&_}}},{key:_0x4962("0x10d8"),value:function(x,_,e){return{r:Math[_0x4962("0x36c")](x.r+e*(_.r-x.r)),g:Math.round(x.g+e*(_.g-x.g)),b:Math[_0x4962("0x36c")](x.b+e*(_.b-x.b))}}},{key:_0x4962("0x10d9"),value:function(x){for(var _=this.options.gradient,e=(0,t[_0x4962("0xc")])(_).map(parseFloat)[_0x4962("0x46f")]((function(x,_){return x-_})),i=0;i<e.length-1;i++){var a=e[i],n=e[i+1],r=this.hexToRgb(_[a]),s=this[_0x4962("0x654")](_[n]);if(x.r>=Math.min(r.r,s.r)&&x.r<=Math[_0x4962("0x300")](r.r,s.r)&&x.g>=Math[_0x4962("0x301")](r.g,s.g)&&x.g<=Math[_0x4962("0x300")](r.g,s.g)&&x.b>=Math[_0x4962("0x301")](r.b,s.b)&&x.b<=Math[_0x4962("0x300")](r.b,s.b))return 1*(a+(x.r-r.r)/(s.r-r.r)*(n-a))[_0x4962("0x65f")](3)}return null}},{key:_0x4962("0x51e"),value:function(x){var _=this;_[_0x4962("0x5b8")]=x.minX,_[_0x4962("0x5ca")]=x.maxX,_.minY=x[_0x4962("0x5bb")],_.maxY=x[_0x4962("0x5cb")];var e=_[_0x4962("0x991")](x),t=e.w,i=e.h;_[_0x4962("0x3b")]={width:t,height:i,radius:x[_0x4962("0x69c")]?x.radius:30,opacity:x.hasOwnProperty("opacity")?x[_0x4962("0x145")]:1,mapOpacity:x[_0x4962("0x2")](_0x4962("0x994"))?x[_0x4962("0x994")]:1,bshadow:x.radius?x[_0x4962("0x69c")]/20:1.5,maxSize:x.maxSize||8192,boundVal:15e3,shadowBlur:15,points:{max:x[_0x4962("0x300")]?x.max:100,data:[]},useGradientAlpha:x[_0x4962("0x10da")],gradient:x[_0x4962("0x997")]?x[_0x4962("0x997")]:{.45:_0x4962("0x998"),.55:_0x4962("0x10db"),.65:_0x4962("0x10dc"),.95:_0x4962("0x10dd"),1:_0x4962("0x999")}};var a=document[_0x4962("0x24")]("canvas"),n=a[_0x4962("0x337")]("2d",{willReadFrequently:!0});a[_0x4962("0x1ce")]=t,a.height=i,_.options[_0x4962("0x99a")]=n,_[_0x4962("0x3b")].canvas=a}},{key:"renderShadow",value:function(x,_,e,t){var i=this,a=i.options[_0x4962("0x99a")],n=(i.options[_0x4962("0x69c")],i[_0x4962("0x3b")].boundVal),r=parseFloat(e/i[_0x4962("0x3b")][_0x4962("0x138")][_0x4962("0x300")],10);a.shadowColor=_0x4962("0x99e")+r+")",a.shadowOffsetX=n,a[_0x4962("0x348")]=n,a.shadowBlur=i.options.shadowBlur,a[_0x4962("0x34f")](),a.arc(x-n,_-n,i.options[_0x4962("0x69c")],0,2*Math.PI,!0),a[_0x4962("0xa9a")](),a[_0x4962("0x47b")]()}},{key:_0x4962("0x99f"),value:function(){for(var x=this,_=x[_0x4962("0x3b")][_0x4962("0x1ce")],e=x[_0x4962("0x3b")][_0x4962("0x1a4")],t=x.options[_0x4962("0x10da")],i=x[_0x4962("0x3b")].ctx,a=i[_0x4962("0x9b4")](0,0,_,e),n=a[_0x4962("0x57b")],r=n[_0x4962("0x0")],s=x[_0x4962("0x9a0")](),o=x[_0x4962("0x3b")][_0x4962("0x145")]?255*x[_0x4962("0x3b")].opacity:25500,c=3;c<r;c+=4){var l=n[c],f=4*l;if(f>=0){var d=l<o?l:o;n[c-3]=s[f],n[c-2]=s[f+1],n[c-1]=s[f+2],n[c]=t?s[f+3]:d}}a[_0x4962("0x57b")][_0x4962("0xd8")](n),i[_0x4962("0x10de")](a,0,0)}},{key:_0x4962("0x10c3"),value:function(){var x=this.getTexture();return x[_0x4962("0x187")]=!0,this[_0x4962("0x10df")]||(this[_0x4962("0x10df")]=this[_0x4962("0x10d7")][_0x4962("0x482")](x,new THREE.Texture),this[_0x4962("0x10df")].userData[_0x4962("0x107")]="heatmap"),this[_0x4962("0x10df")]}},{key:_0x4962("0x165"),value:function(){var x=this;x[_0x4962("0x728")]();for(var _=x[_0x4962("0x138")],e=0;e<_[_0x4962("0x0")];e++){var t=_[e];x[_0x4962("0x99c")](t.x,t.y,t[_0x4962("0xe3")])}x[_0x4962("0x99f")]();var i=x[_0x4962("0x10e0")]();i[_0x4962("0x187")]=!0,x.heatMapTool.update(i)}},{key:_0x4962("0x10e0"),value:function(){var x=this[_0x4962("0x3b")][_0x4962("0x336")];return new THREE.Texture(x)}},{key:_0x4962("0x9a0"),value:function(){var x=document[_0x4962("0x24")](_0x4962("0x336")),_=x[_0x4962("0x337")]("2d",{willReadFrequently:!0});x.width=1,x.height=256;var e=this[_0x4962("0x3b")].gradient,t=_[_0x4962("0x9b1")](0,0,1,256);for(var i in e)t[_0x4962("0x9b2")](i,e[i]);return _.fillStyle=t,_.fillRect(0,0,1,256),_[_0x4962("0x9b4")](0,0,1,256)[_0x4962("0x57b")]}},{key:_0x4962("0x9b5"),value:function(x,_,e){var t=this[_0x4962("0x3b")][_0x4962("0x138")],i=t.data;e>t[_0x4962("0x300")]&&(t.max=e),i.push([x,_,e])}},{key:_0x4962("0x10c8"),value:function(){this.points=[]}},{key:_0x4962("0x9b6"),value:function(x,_,e){if(x&&_&&e){var t=this[_0x4962("0x993")](x,_);if(t){this[_0x4962("0x138")][_0x4962("0x3")]({x:t.x,y:t.y,value:e})}}}},{key:"clear",value:function(){this.options[_0x4962("0x99a")][_0x4962("0x9b7")](0,0,this[_0x4962("0x3b")].width,this[_0x4962("0x3b")].height)}},{key:"addPoints",value:function(x){for(var _=x.length,e=0;e<_;e++){var t=x[e].value;if(t){var i=this[_0x4962("0x993")](x[e].x,x[e].y);this[_0x4962("0x138")][_0x4962("0x3")]({x:i.x,y:i.y,value:t})}}}},{key:_0x4962("0x10c6"),value:function(x){var _=this,e=_[_0x4962("0x3b")][_0x4962("0x1ce")],t=_[_0x4962("0x3b")][_0x4962("0x1a4")],i=_[_0x4962("0x3b")].points[_0x4962("0x300")];_[_0x4962("0x138")]=[];for(var a=0;a<x;a++){var n=Math[_0x4962("0x31")](Math[_0x4962("0x1e6")]()*e+1),r=Math[_0x4962("0x31")](Math.random()*t+1),s=Math[_0x4962("0x31")](Math.random()*i+1);_.points[_0x4962("0x3")]({x:n,y:r,value:s})}}}]),x}();_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=s(e(5)),i=s(e(0)),a=s(e(1)),n=s(e(10)),r=s(e(11));function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=function(x){function _(x){var e;(0,i[_0x4962("0xc")])(this,_),(e=(0,n.default)(this,(_[_0x4962("0x1e2")]||(0,t.default)(_))[_0x4962("0xf")](this,x)))[_0x4962("0xa69")]=esmap[_0x4962("0x61e")][_0x4962("0x597")];var a=new(THREE[_0x4962("0x71e")])(1,1,1,1),r=new(THREE[_0x4962("0xfb2")])({transparent:!0,side:THREE[_0x4962("0x436")],depthWrite:!1});return r[_0x4962("0x17c")]=!1,e[_0x4962("0xf2")]=new(THREE[_0x4962("0x198")])(a,r),e[_0x4962("0xf2")][_0x4962("0xf1")]=e,1==x[_0x4962("0x25")].angle?e.o3d_[_0x4962("0x210")].set(-Math.PI/2,0,Math.PI-x[_0x4962("0x25")][_0x4962("0xcaa")]*THREE[_0x4962("0x20e")][_0x4962("0x599")],_0x4962("0x59a")):e[_0x4962("0xf2")].rotation.set(Math.PI,-x[_0x4962("0x25")][_0x4962("0xcaa")]*THREE[_0x4962("0x20e")][_0x4962("0x599")],Math.PI,_0x4962("0x59a")),e.o3d_[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x598")],e[_0x4962("0x190")](e.params[_0x4962("0x25")]),e}return(0,r[_0x4962("0xc")])(_,x),(0,a.default)(_,[{key:_0x4962("0x190"),value:function(x){var _=this;_[_0x4962("0x3df")]=setInterval((function(){_[_0x4962("0xf2")]&&(x.image,x[_0x4962("0x326")][_0x4962("0x326")]&&(clearInterval(_._id),_.o3d_.material.visible=!0,_[_0x4962("0xf2")].material[_0x4962("0x48")]=x.image,_[_0x4962("0xf2")].material[_0x4962("0x48")][_0x4962("0x18e")]=THREE[_0x4962("0x362")],_[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x363")]=16))}),0),this.o3d_.scale[_0x4962("0xd8")](x.size[_0x4962("0x1ce")],x[_0x4962("0xdd")].height,1);var e=esmap.ESMap[_0x4962("0x3a")][_0x4962("0x237")](x[_0x4962("0x1b5")]);this[_0x4962("0xf2")][_0x4962("0x106")].set(e.x+x[_0x4962("0x15c")].x,x[_0x4962("0x1a4")]+x[_0x4962("0x15c")].z,e.z+x.offset.y)}}]),_}(esmap[_0x4962("0x63b")]);_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=d(e(7)),i=d(e(8)),a=d(e(5)),n=d(e(0)),r=d(e(1)),s=d(e(10)),o=d(e(11)),c=e(4),l=d(e(81)),f=e(20);function d(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var u=function(x){function _(x){var e;(0,n[_0x4962("0xc")])(this,_);var t=(0,c[_0x4962("0x13")])(x,_0x4962("0xdd"),_0x4962("0x33a"));return(0,c[_0x4962("0x19")])(t)||"auto"!=t&&(t={w:t,h:t}),(e=(0,s.default)(this,(_[_0x4962("0x1e2")]||(0,a.default)(_)).call(this,esmap[_0x4962("0x134")][_0x4962("0xc10")],{}))).alias=_0x4962("0x10e1"),e[_0x4962("0x10e2")]=t,e[_0x4962("0x54f")]=x||{},e[_0x4962("0x54f")][_0x4962("0x234")]?(f[_0x4962("0x37")][_0x4962("0x1dc")]({msg:_0x4962("0x10e3"),level:_0x4962("0xe0")}),(0,s[_0x4962("0xc")])(e)):(e.init(),e)}var e;return(0,o[_0x4962("0xc")])(_,x),(0,r[_0x4962("0xc")])(_,[{key:_0x4962("0x39"),value:(e=(0,i.default)(t[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _,e,i,a,n,r,s,o,l,d,u,h,g,b,v,p,m;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return f[_0x4962("0x37")][_0x4962("0x1dc")]({msg:"ESImageMarkerå·²ä¸åç»´æ¤ãè¯·ä½¿ç¨ESTextMarkeræ æ³¨æ¿ä»£",level:_0x4962("0xa9e")}),_=esmap[_0x4962("0x33")].instance,e=_[_0x4962("0x34")],i=-e[_0x4962("0x2e7")],a=e[_0x4962("0x2e8")],n=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],"x",i),r=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],"y",a),this[_0x4962("0x107")]=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x107"),null),this.ID=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],"id",1),this.bid=(0,c.getValue)(this.opts_,_0x4962("0x130"),0),this[_0x4962("0x1017")]=(0,c.getValue)(this[_0x4962("0x54f")],"spritify",!0),this[_0x4962("0x311")]=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x311"),null),s=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x131"),null),(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x34d"),null),o=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x16c"),!1),l=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],"scale",1),d=(0,c[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x170"),esmap[_0x4962("0x171")][_0x4962("0x10e1")]),u=this.o3d_,this[_0x4962("0x170")]=d,h=_[_0x4962("0x10ab")]({x:n,y:r}),this.x_=h.x,this.y_=h.y,g=this,u[_0x4962("0x321")],b=0,b=null!=g[_0x4962("0x54f")].height?g.opts_[_0x4962("0x1a4")]:null!=g[_0x4962("0x54f")].z?g[_0x4962("0x54f")].z:6,v=this[_0x4962("0x54f")].url,p={padding:0,size:this[_0x4962("0x10e2")],scale:1},x[_0x4962("0x286")]=28,u[_0x4962("0x39")]({image:v,imageStyle:p});case 28:u[_0x4962("0x323")]=l,u[_0x4962("0x170")]=d,m=_[_0x4962("0x2c3")]({x:g.x_,y:g.y_}),u[_0x4962("0x106")][_0x4962("0xd8")](m.x,b,m.z),u[_0x4962("0x17b")]&&u[_0x4962("0x17b")].datas_[_0x4962("0x10e4")]&&_[_0x4962("0x1f6")]>=u[_0x4962("0x17b")][_0x4962("0xf1")][_0x4962("0x10e5")]&&(_[_0x4962("0x260")].target[_0x4962("0x23a")](u[_0x4962("0x106")])>u[_0x4962("0x17b")][_0x4962("0xf1")].viewRadius&&(g[_0x4962("0xf2")][_0x4962("0x321")]=!1,g[_0x4962("0x17c")]=!1)),g.opts_[_0x4962("0x1b3")]&&g.opts_[_0x4962("0x1b3")](g),_[_0x4962("0xa3e")](!0),s&&u[_0x4962("0x131")][_0x4962("0xd8")](g[_0x4962("0x54f")][_0x4962("0x131")].x,g[_0x4962("0x54f")][_0x4962("0x131")].y),u[_0x4962("0xf6")][_0x4962("0x187")]=!0,u[_0x4962("0x16c")]=o;case 38:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)})}]),_}(l[_0x4962("0xc")]);_[_0x4962("0xc")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=d(e(7)),i=d(e(8)),a=d(e(5)),n=d(e(0)),r=d(e(1)),s=d(e(10)),o=d(e(11)),c=d(e(81)),l=e(4),f=e(83);function d(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var u=function(x){function _(x){(0,n[_0x4962("0xc")])(this,_);var e=(0,s[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,a.default)(_)).call(this,esmap.ESNodeType[_0x4962("0xc11")],{}));return e[_0x4962("0x54f")]=x||{},e[_0x4962("0x10e6")]=[],e.init(),e}var e;return(0,o[_0x4962("0xc")])(_,x),(0,r[_0x4962("0xc")])(_,[{key:_0x4962("0x39"),value:(e=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _,e,i,a,n,r,s,o,c,d,u,h,g,b,v,p,m,A;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:return _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=this.opts_,"string"!=typeof(i=(0,l[_0x4962("0x13")])(this[_0x4962("0x54f")],"text",""))&&(i=i[_0x4962("0x18b")]()),a=(0,l[_0x4962("0x14")])(e,_0x4962("0x326"),_0x4962("0x4d"),""),n=Number((0,l.getValue)(this[_0x4962("0x54f")],"x",_.center.x)),r=Number((0,l.getValue)(this[_0x4962("0x54f")],"y",_[_0x4962("0x131")].y)),s=(0,l[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x1a4"),6),o=(0,l.getValue)(this[_0x4962("0x54f")],"scale",1),this.ID=(0,l[_0x4962("0x13")])(this[_0x4962("0x54f")],"id",1),this[_0x4962("0x107")]=(0,l[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x107"),""),this[_0x4962("0x1f3")]=(0,l.getValue)(this[_0x4962("0x54f")],_0x4962("0x1f3"),!0),c=(0,l[_0x4962("0x13")])(this[_0x4962("0x54f")],_0x4962("0x131"),null),d=(0,l.getValue)(e,"seeThrough",!1),u=(0,l[_0x4962("0x13")])(e,"renderOrder",esmap[_0x4962("0x171")].textMarker),h=(0,l[_0x4962("0x13")])(e,_0x4962("0x1b3"),null),g=(0,l[_0x4962("0x14")])(e,"fixedSize",_0x4962("0x1097"),!0),this[_0x4962("0x311")]=(0,l[_0x4962("0x13")])(e,"showLevel",null),b={fontSize:12,fillStyle:_0x4962("0x128"),strokeWidth:2,strokeStyle:_0x4962("0x338"),shadowBlur:4,shadowColor:_0x4962("0xfab"),shadowOffsetX:0,shadowOffsetY:0,padding:2},v={scale:1,align:_0x4962("0x131"),size:_0x4962("0x33a"),space:5},e[_0x4962("0xc39")]?(0,l[_0x4962("0xfd2")])(b,(0,f[_0x4962("0x33d")])(e[_0x4962("0xc39")])):(0,l[_0x4962("0xfd2")])(b,(0,f.getTextStyle)(e)),e[_0x4962("0x10e7")]?(0,l[_0x4962("0xfd2")])(v,e[_0x4962("0x10e7")]):(v[_0x4962("0xbd7")]=(0,l[_0x4962("0x13")])(e,_0x4962("0xea0"),v[_0x4962("0xbd7")]),v[_0x4962("0xdd")]=(0,l[_0x4962("0x14")])(e,_0x4962("0x10e8"),"size",v[_0x4962("0xdd")]),v.space=(0,l[_0x4962("0x13")])(e,"imageSpace",v[_0x4962("0x356")]),typeof v[_0x4962("0xdd")]==_0x4962("0x18a")&&(v[_0x4962("0xdd")]={w:v.size,h:v[_0x4962("0xdd")]})),this[_0x4962("0xf2")].scaleRatio=o,this[_0x4962("0xf2")].fixedSize=g,this[_0x4962("0xf2")][_0x4962("0x166")].seeThrough=d,x.next=27,this[_0x4962("0xf2")][_0x4962("0x39")]({text:i,textStyle:b,image:a,imageStyle:v,opacityFix:this[_0x4962("0x54f")][_0x4962("0x10e9")]});case 27:p=this[_0x4962("0xf2")],m=_[_0x4962("0x10ab")]({x:n,y:r}),A=_[_0x4962("0x2c3")]({x:m.x,y:m.y}),p.position.set(A.x,s,A.z),this[_0x4962("0x170")]=this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0x16c")]?u+1:u,p.modelViewMatrix[_0x4962("0x3eb")](_[_0x4962("0x3ec")].matrixWorldInverse,p[_0x4962("0x3ee")]),this.o3d_.data_.ShowLevel=this[_0x4962("0x311")],c&&this.o3d_[_0x4962("0x131")].set(c.x,c.y),h&&h(this);case 36:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x131"),set:function(x){x.x&&x.y&&this.o3d_&&this[_0x4962("0xf2")][_0x4962("0x131")].set(x.x,x.y)}},{key:_0x4962("0x265"),set:function(x){if(this.o3d_)return this[_0x4962("0xf2")].enableCollide=x},get:function(){if(this.o3d_)return this[_0x4962("0xf2")][_0x4962("0x265")]}}]),_}(c[_0x4962("0xc")]);_[_0x4962("0xc")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=c(e(2)),i=c(e(15)),a=c(e(5)),n=c(e(0)),r=c(e(1)),s=c(e(10)),o=c(e(11));function c(x){return x&&x.__esModule?x:{default:x}}var l=function(x){function _(x,e){(0,n[_0x4962("0xc")])(this,_);var t=(0,s[_0x4962("0xc")])(this,(_.__proto__||(0,a[_0x4962("0xc")])(_))[_0x4962("0xf")](this,0,e,new(THREE[_0x4962("0x20c")]),x));return t[_0x4962("0x3c3")]=new(esmap[_0x4962("0x642")])(t[_0x4962("0xf2")]),t[_0x4962("0x328")]={},t}return(0,o[_0x4962("0xc")])(_,x),(0,r[_0x4962("0xc")])(_,[{key:_0x4962("0x10ea"),value:function(x){var _=x[_0x4962("0xe3")],e=[][_0x4962("0x12")](x.name),t=[][_0x4962("0x12")](x.type),i=[];this[_0x4962("0xa68")].forEach((function(x){x.name&&e[_0x4962("0x63")](x[_0x4962("0x107")])&&i[_0x4962("0x3")](x),x[_0x4962("0xa69")]&&t.includes(x[_0x4962("0xa69")])&&i[_0x4962("0x3")](x)})),i[_0x4962("0x20")]((function(x){x[_0x4962("0x17c")]=_}))}},{key:_0x4962("0x10eb"),value:function(x){var _=!0,e=!1,t=void 0;try{for(var a,n=(0,i[_0x4962("0xc")])(this.layerManager[_0x4962("0xf2")].children);!(_=(a=n[_0x4962("0x286")]()).done);_=!0){var r=a.value;if(r[_0x4962("0xf1")][_0x4962("0xa69")]===_0x4962("0x613")){var s=r[_0x4962("0xf3")][0];if(s){s[_0x4962("0xf6")][0].visible=x;break}}}}catch(x){e=!0,t=x}finally{try{!_&&n.return&&n[_0x4962("0x28c")]()}finally{if(e)throw t}}}},{key:_0x4962("0x406"),value:function(x){this[_0x4962("0x3c3")][_0x4962("0x406")](x)}},{key:_0x4962("0x407"),value:function(x,_){return this[_0x4962("0x3c3")].getOrCreateLayerByName(x,_)}},{key:_0x4962("0x408"),value:function(x,_){return this[_0x4962("0x3c3")].getLayersByTypes(x,_)}},{key:_0x4962("0x409"),value:function(x,_){return this[_0x4962("0x3c3")][_0x4962("0x409")](x,_)}},{key:"getObjectsByAlias",value:function(x,_){return this[_0x4962("0x3c3")].getObjectsByAlias(x,_)}},{key:_0x4962("0x10ec"),value:function(x){return this[_0x4962("0x3c3")].getFirstLayer(x)}},{key:_0x4962("0x10ed"),value:function(x){this[_0x4962("0x3c3")][_0x4962("0x10ed")](x)}},{key:_0x4962("0x10ee"),value:function(x){this[_0x4962("0x3c3")][_0x4962("0x10ee")](x)}},{key:"removeLayersByNames",value:function(x){this[_0x4962("0x3c3")][_0x4962("0x10ef")](x)}},{key:_0x4962("0x10f0"),value:function(x){x&&this[_0x4962("0xf2")][_0x4962("0x3e6")][_0x4962("0xcbb")]&&x[_0x4962("0x9a3")](this[_0x4962("0xf2")][_0x4962("0x3e6")].floornum)}},{key:_0x4962("0x10f1"),value:function(x){x&&this.o3d_[_0x4962("0x3e6")][_0x4962("0xcbb")]&&x[_0x4962("0x9b0")](this[_0x4962("0xf2")].data_.floornum)}},{key:_0x4962("0x10f2"),value:function(x){var _=this[_0x4962("0x328")][_0x4962("0x331")];x=(0,t[_0x4962("0xc")])({},x),_&&_[_0x4962("0x1b2")](),x.z=x.y,x.y=x[_0x4962("0x1a4")],x.easing=esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x10f3")][_0x4962("0x1ac")];var e=esmap[_0x4962("0x27c")].moveTo[_0x4962("0xf")](this[_0x4962("0xf2")],x);e&&(this[_0x4962("0x328")].moveTo=e)}},{key:_0x4962("0x104"),value:function(x){this[_0x4962("0x3c3")][_0x4962("0x104")](x)}},{key:"FloorNum",get:function(){return this.o3d_[_0x4962("0x3e6")].floornum}},{key:_0x4962("0xa8b"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x3e6")][_0x4962("0xee4")]}},{key:_0x4962("0x10f4"),get:function(){return this[_0x4962("0xf2")][_0x4962("0x3e6")][_0x4962("0x107")]}},{key:_0x4962("0x10f5"),get:function(){return this[_0x4962("0xf2")].data_[_0x4962("0xb29")]}},{key:_0x4962("0x10f6"),get:function(){return this.o3d_.data_[_0x4962("0xee4")]}},{key:_0x4962("0x217"),get:function(){return new(esmap[_0x4962("0x639")])(this[_0x4962("0x34")].map[_0x4962("0x131")].x,this.mapScene[_0x4962("0x48")][_0x4962("0x131")].y,this[_0x4962("0xf2")][_0x4962("0x1043")][_0x4962("0xb29")])}},{key:_0x4962("0xa68"),get:function(){return this.layerManager[_0x4962("0xa68")]}},{key:"bid",get:function(){return this[_0x4962("0x17b")].id}}]),_}(esmap[_0x4962("0x335")]);_[_0x4962("0xc")]=l},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(15)),i=o(e(5)),a=o(e(0)),n=o(e(1)),r=o(e(10)),s=o(e(11));function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c=function(x){function _(x){(0,a.default)(this,_);var e=(0,r.default)(this,(_[_0x4962("0x1e2")]||(0,i[_0x4962("0xc")])(_)).call(this,0,{},new(THREE[_0x4962("0x20c")])));return e._type_="global_layer",e[_0x4962("0x107")]=x,e[_0x4962("0x10f7")]=!1,e[_0x4962("0x3c3")]=new(esmap[_0x4962("0x642")])(e[_0x4962("0xf2")]),e[_0x4962("0x10f8")]=0,e[_0x4962("0xa68")]={text:null,polygon:null,card:null,model3d:null},e}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:_0x4962("0xd5b"),value:function(x){var _=esmap[_0x4962("0x33")].instance;if(_)switch(this[_0x4962("0x10f7")]||(_.mapScene[_0x4962("0xb2f")][_0x4962("0xda")](this[_0x4962("0xf2")]),this._listenMapEvents(_),this[_0x4962("0x10f7")]=!0),x.nodeType){case esmap[_0x4962("0x134")][_0x4962("0xc10")]:case esmap[_0x4962("0x134")][_0x4962("0xc11")]:this[_0x4962("0xa68")][_0x4962("0x327")]||(this.layers[_0x4962("0x327")]=new esmap.ESLayer(esmap[_0x4962("0x3d6")].TEXT_MARKER),this[_0x4962("0x3c3")][_0x4962("0x406")](this[_0x4962("0xa68")].text)),this.layers[_0x4962("0x327")].addMarker(x),x[_0x4962("0x247")]=this,this[_0x4962("0x1021")](x);break;case esmap.ESNodeType[_0x4962("0x10f9")]:this[_0x4962("0xa68")][_0x4962("0x10fa")]||(this[_0x4962("0xa68")][_0x4962("0x10fa")]=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType[_0x4962("0x10f9")]),this[_0x4962("0x3c3")][_0x4962("0x406")](this[_0x4962("0xa68")][_0x4962("0x10fa")])),this[_0x4962("0xa68")].card[_0x4962("0xd5b")](x),x[_0x4962("0x247")]=this,this._checkMarker(x);break;case esmap.ESNodeType[_0x4962("0x1e3")]:this.layers[_0x4962("0x1e8")]||(this[_0x4962("0xa68")][_0x4962("0x1e8")]=new esmap.ESLayer(esmap.ESLayerType.MODEL3D),this[_0x4962("0x3c3")][_0x4962("0x406")](this[_0x4962("0xa68")][_0x4962("0x1e8")])),this[_0x4962("0xa68")].model3d[_0x4962("0xd5b")](x),x._globalLayer=this,this[_0x4962("0x1021")](x);break;case esmap[_0x4962("0x134")][_0x4962("0xac1")]:this.layers.polygon||(this[_0x4962("0xa68")][_0x4962("0x69a")]=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0xac1")]),this.layerManager[_0x4962("0x406")](this.layers[_0x4962("0x69a")])),this.layers[_0x4962("0x69a")][_0x4962("0xd5b")](x),x[_0x4962("0x247")]=this,this._checkMarker(x);break;default:return console[_0x4962("0x293")]("è¯·ä½¿ç¨æ¯æçæ æ³¨ç±»åï¼"),!1}}},{key:"remove",value:function(x){this[_0x4962("0x10fb")](x)}},{key:_0x4962("0x10fb"),value:function(x){switch(x.nodeType){case esmap.ESNodeType.IMAGE_MARKER:case esmap.ESNodeType[_0x4962("0xc11")]:this.layers.text&&this[_0x4962("0xa68")].text[_0x4962("0x197")](x);break;case esmap.ESNodeType[_0x4962("0x10f9")]:this[_0x4962("0xa68")][_0x4962("0x10fa")]&&this[_0x4962("0xa68")][_0x4962("0x10fa")][_0x4962("0x197")](x);break;case esmap[_0x4962("0x134")][_0x4962("0x1e3")]:this.layers[_0x4962("0x1e8")]&&this[_0x4962("0xa68")][_0x4962("0x1e8")].remove(x);break;case esmap.ESNodeType[_0x4962("0xac1")]:this[_0x4962("0xa68")][_0x4962("0x69a")]&&this[_0x4962("0xa68")][_0x4962("0x69a")][_0x4962("0x197")](x);break;default:return console[_0x4962("0x293")]("è¯·ä½¿ç¨æ¯æçæ æ³¨ç±»åï¼"),!1}}},{key:_0x4962("0x87b"),value:function(){this.layers.text&&this[_0x4962("0xa68")].text.removeAll(),this[_0x4962("0xa68")][_0x4962("0x10fa")]&&this[_0x4962("0xa68")][_0x4962("0x10fa")].removeAll(),this.layers[_0x4962("0x1e8")]&&this[_0x4962("0xa68")][_0x4962("0x1e8")][_0x4962("0x87b")](),this.layers[_0x4962("0x69a")]&&this.layers[_0x4962("0x69a")][_0x4962("0x87b")]()}},{key:_0x4962("0x10fc"),value:function(x,_){this[_0x4962("0xa68")][_0x4962("0x327")]&&this[_0x4962("0x10fd")](this[_0x4962("0xa68")][_0x4962("0x327")][_0x4962("0xf2")][_0x4962("0xf3")],x,_),this[_0x4962("0xa68")][_0x4962("0x10fa")]&&this[_0x4962("0x10fd")](this.layers[_0x4962("0x10fa")].o3d_[_0x4962("0xf3")],x,_),this[_0x4962("0xa68")][_0x4962("0x1e8")]&&this[_0x4962("0x10fd")](this.layers[_0x4962("0x1e8")][_0x4962("0xf2")][_0x4962("0xf3")],x,_),this[_0x4962("0xa68")].polygon&&this[_0x4962("0x10fd")](this[_0x4962("0xa68")][_0x4962("0x69a")][_0x4962("0xf2")][_0x4962("0xf3")],x,_)}},{key:_0x4962("0x10fe"),value:function(x,_){for(var e in this[_0x4962("0xa68")])this[_0x4962("0xa68")][e]&&this[_0x4962("0xa68")][e][_0x4962("0xf2")].children[_0x4962("0x20")]((function(e){e.datas_[_0x4962("0x54f")][_0x4962("0x130")]&&e.datas_[_0x4962("0x54f")].bid===x&&(e[_0x4962("0xf1")][_0x4962("0x17c")]=_)}))}},{key:_0x4962("0x10fd"),value:function(x,_,e){var i=!0,a=!1,n=void 0;try{for(var r,s=(0,t.default)(x);!(i=(r=s.next()).done);i=!0){var o=r[_0x4962("0xe3")];e&&e==(o[_0x4962("0xf1")][_0x4962("0x130")]||o[_0x4962("0xf1")][_0x4962("0x54f")].bid)?this.checkMarkerVisible(o[_0x4962("0xf1")],_):this[_0x4962("0x10ff")](o[_0x4962("0xf1")],_)}}catch(x){a=!0,n=x}finally{try{!i&&s.return&&s[_0x4962("0x28c")]()}finally{if(a)throw n}}}},{key:"checkMarkerVisible",value:function(x,_){for(var e in _)_[1*e+1]&&_[e][_0x4962("0x1a4")]<=x[_0x4962("0xf2")][_0x4962("0x106")].y&&x[_0x4962("0xf2")].position.y<_[1*e+1].height?x[_0x4962("0x17c")]=_[e][_0x4962("0x17c")]:!_[1*e+1]&&x[_0x4962("0xf2")][_0x4962("0x106")].y>_[e][_0x4962("0x1a4")]&&(x.visible=_[e].visible)}},{key:"checkHeightInFloor",value:function(x,_){for(var e in _){if(_[1*e+1]&&_[e]<=x&&x<_[1*e+1])return e;if(!_[1*e+1]&&x>_[e])return e}}},{key:_0x4962("0x1021"),value:function(x){if(x[_0x4962("0x34")].map[_0x4962("0x3b")].mode===esmap.MapMode[_0x4962("0x41")]){if(x[_0x4962("0x130")]||x.opts_[_0x4962("0x130")]){var _=x.mapScene.map[_0x4962("0x139")](x[_0x4962("0x130")]||x.opts_[_0x4962("0x130")]);if(_){var e=this[_0x4962("0x1100")](_);this[_0x4962("0x10ff")](x,e)}else x.visible=!1}}else{var t=x.mapScene[_0x4962("0x48")].getBuilding();this.spanScale=t[_0x4962("0x1101")];var i=this[_0x4962("0x1100")](t);if(x._floorState=i,!x[_0x4962("0x1102")])for(var a in x[_0x4962("0x1102")]={},x[_0x4962("0x1103")])x[_0x4962("0x1103")][a][_0x4962("0x1a4")]>0?x[_0x4962("0x1102")][a]=x[_0x4962("0x1103")][a][_0x4962("0x1a4")]-t.floorSpanOffset*(a-1):x._originFloorHeight[a]=0;this[_0x4962("0x10ff")](x,i)}}},{key:"getFloorState",value:function(x){var _={},e=!0,i=!1,a=void 0;try{for(var n,r=(0,t[_0x4962("0xc")])(x[_0x4962("0x699")]);!(e=(n=r.next())[_0x4962("0x426")]);e=!0){var s=n.value;_[s]={visible:x[_0x4962("0xcbc")][_0x4962("0xaf")](s)>-1,height:x.getFloorHeight(s)}}}catch(x){i=!0,a=x}finally{try{!e&&r[_0x4962("0x28c")]&&r[_0x4962("0x28c")]()}finally{if(i)throw a}}return _}},{key:"_listenMapEvents",value:function(x){var _=this;if(x.options[_0x4962("0x3c")]===esmap[_0x4962("0x40")].Building){var e=x[_0x4962("0x578")]();x.on(_0x4962("0x177"),(function(x){_[_0x4962("0x10fc")](_.getFloorState(e))})),e&&e.on(_0x4962("0x1104"),(function(x){_.spanScale=x[_0x4962("0xd3b")],_.toggleMarkerByFloors(_.getFloorState(e))}))}else x.on(_0x4962("0xa35"),(function(e){_.toggleMarkerByFloors(_[_0x4962("0x1100")](e),e.id),x.on(_0x4962("0x177"),(function(x){_[_0x4962("0x10fc")](_.getFloorState(e),e.id)}))})),x.on(_0x4962("0x177"),(function(_){if(_.bid){var e=x[_0x4962("0x139")](_[_0x4962("0x130")]);console[_0x4962("0x223")]("ð ~ ESGlobalLayer ~ map_.on ~ building:",e)}}))}}]),_}(esmap[_0x4962("0x335")]);_[_0x4962("0xc")]=c},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=e(4);function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0xf2")]=_}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x406"),value:function(x){!x instanceof esmap[_0x4962("0x3d5")]?console[_0x4962("0x44a")](_0x4962("0x1105")):this[_0x4962("0xf2")].add(x[_0x4962("0xf2")])}},{key:"getOrCreateLayerByName",value:function(x,_){var e=this[_0x4962("0x409")](x);if(0==e[_0x4962("0x0")]){switch(_){case _0x4962("0x10e1"):e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0xc10")]);break;case _0x4962("0x619"):e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0xc11")]);break;case _0x4962("0x696"):e=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType[_0x4962("0xac1")]);break;case _0x4962("0x1106"):e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0x1107")]);case _0x4962("0x1e8"):e=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0x1e3")]);break;case _0x4962("0x288"):e=new esmap.ESLayer(esmap.ESLayerType[_0x4962("0x678")]);break;case _0x4962("0x598"):e=new esmap.ESLayer(esmap.ESLayerType.MODEL_IMAGE);break;case _0x4962("0x1108"):e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0xe22")]);break;case _0x4962("0x1109"):e=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType.WEBVIEW_MARKER);break;case"boardMarker":e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0x110a")]);break;case _0x4962("0x61a"):e=new esmap.ESLayer(esmap.ESLayerType.CARD_MARKER);break;case _0x4962("0x618"):e=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0xac3")])}e[_0x4962("0x107")]=x,this.addLayer(e)}else e=e[0];return e}},{key:_0x4962("0x408"),value:function(x,_){x=[][_0x4962("0x12")](x);for(var e=!1,t=[],i=0;i<this.layers[_0x4962("0x0")];i++){var a=this[_0x4962("0xa68")][i];if(a._type_&&x[_0x4962("0xaf")](a[_0x4962("0xa69")])>-1&&(_&&(e=_(a,a[_0x4962("0xa69")])),t[_0x4962("0x3")](a)),e)return 0==t[_0x4962("0x0")]?null:1==t[_0x4962("0x0")]?t[0]:t}return t}},{key:_0x4962("0x409"),value:function(x,_){x=[][_0x4962("0x12")](x);for(var e=[],t=0;t<this[_0x4962("0xa68")].length;t++){var i=this.layers[t];i[_0x4962("0x107")]&&x[_0x4962("0xaf")](i[_0x4962("0x107")])>-1&&(_&&_(i,i.name)&&t--,e[_0x4962("0x3")](i))}return e}},{key:"getObjectsByAlias",value:function(x,_){var e=[];return this[_0x4962("0x408")](x,(function(x){if(null!=_)for(var t=x[_0x4962("0xf2")][_0x4962("0xf3")],i=0;i<t;i++)_(x[_0x4962("0xf2")][_0x4962("0xf3")][i])&&e[_0x4962("0x3")](x[_0x4962("0xf2")][_0x4962("0xf3")][i]);else e[_0x4962("0x3")][_0x4962("0x2a4")](e,x[_0x4962("0xf2")].children)})),e}},{key:"getFirstLayer",value:function(x){var _=this[_0x4962("0x408")](x);return _?_.length?_[0]:_:null}},{key:_0x4962("0x10ed"),value:function(x){x[_0x4962("0xf2")][_0x4962("0x17c")]=!1;for(var _=0;x[_0x4962("0xf2")][_0x4962("0xf3")][_0x4962("0x0")]>_;){var e=x[_0x4962("0xf2")][_0x4962("0xf3")][_];e.em&&e.em[_0x4962("0xf5")]?e.em[_0x4962("0xf5")]():_++}this[_0x4962("0xf2")][_0x4962("0x197")](x.o3d_)}},{key:"removeLayersByTypes",value:function(x){for(var _=[][_0x4962("0x12")](x),e=0;e<this.layers[_0x4962("0x0")];e++){var t=this.layers[e];if(t[_0x4962("0xa69")]&&(0,a[_0x4962("0x18")])(_,t[_0x4962("0xa69")])){t[_0x4962("0xf2")].visible=!1;for(var i=0;t[_0x4962("0xf2")].children[_0x4962("0x0")]>i;){var n=t[_0x4962("0xf2")][_0x4962("0xf3")][i];n.em&&n.em[_0x4962("0xf5")]?n.em[_0x4962("0xf5")]():i++}this[_0x4962("0xf2")][_0x4962("0x197")](t[_0x4962("0xf2")]),e--}}}},{key:_0x4962("0x10ef"),value:function(x){for(var _=[][_0x4962("0x12")](x),e=0;e<this.layers[_0x4962("0x0")];e++){var t=this[_0x4962("0xa68")][e];if(t[_0x4962("0x107")]&&(0,a[_0x4962("0x18")])(_,t[_0x4962("0x107")])){t[_0x4962("0xf2")].visible=!1;for(var i=0;t[_0x4962("0xf2")][_0x4962("0xf3")].length>i;){var n=t[_0x4962("0xf2")][_0x4962("0xf3")][i];n[_0x4962("0xf1")]&&n[_0x4962("0xf1")][_0x4962("0xf5")]&&n[_0x4962("0xf1")][_0x4962("0xf5")](),i++}this.o3d_[_0x4962("0x197")](t[_0x4962("0xf2")]),e--}}}},{key:_0x4962("0x10f0"),value:function(x){x&&this.data_[_0x4962("0xcbb")]&&x[_0x4962("0x9a3")](this)}},{key:_0x4962("0x10f1"),value:function(x){x&&this[_0x4962("0x3e6")][_0x4962("0xcbb")]&&x[_0x4962("0x9b0")](this.data_[_0x4962("0xcbb")])}},{key:_0x4962("0x104"),value:function(x){return this[_0x4962("0x110b")](x,this[_0x4962("0xf2")],!1)}},{key:"traverse_",value:function(x,_,e){if(_[_0x4962("0xf1")]&&(e=x(_[_0x4962("0xf1")])),e)return!0;for(var t=0;t<_[_0x4962("0xf3")][_0x4962("0x0")];t++){if(this.traverse_(x,_[_0x4962("0xf3")][t],e))return!0}}},{key:"mapCoord",get:function(){return new(esmap[_0x4962("0x639")])(-this[_0x4962("0x34")][_0x4962("0x2e7")],this.mapScene[_0x4962("0x2e8")],this[_0x4962("0xf2")][_0x4962("0x1043")][_0x4962("0xb29")])}},{key:_0x4962("0xa68"),get:function(){for(var x=[],_=0;_<this[_0x4962("0xf2")][_0x4962("0xf3")][_0x4962("0x0")];_++){var e=this[_0x4962("0xf2")][_0x4962("0xf3")][_][_0x4962("0xf1")];e&&x[_0x4962("0x3")](e)}return x}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=s(e(5)),i=s(e(0)),a=s(e(1)),n=s(e(10)),r=s(e(11));function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o=0,c=function(x){function _(x,e){(0,i[_0x4962("0xc")])(this,_);var a=(0,n[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t.default)(_))[_0x4962("0xf")](this,0,e,new(THREE[_0x4962("0x20c")])));switch(a[_0x4962("0xa69")]=x||esmap.ESLayerType[_0x4962("0xc62")],a[_0x4962("0x107")]="",x){case esmap.ESLayerType.IMAGE_MARKER:case esmap[_0x4962("0x3d6")][_0x4962("0xc11")]:a.o3d_[_0x4962("0x3d8")]=new esmap.ESMapBoxCollision,a[_0x4962("0x1034")]=!1;break;case esmap[_0x4962("0x3d6")].MODEL:break;case esmap[_0x4962("0x3d6")][_0x4962("0x110c")]:case esmap[_0x4962("0x3d6")][_0x4962("0x3da")]:case esmap[_0x4962("0x3d6")][_0x4962("0x3d7")]:a[_0x4962("0x1034")]=!0;case esmap.ESLayerType[_0x4962("0x10f9")]:}if(a[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc11")]||a[_0x4962("0xa69")]==esmap[_0x4962("0x3d6")][_0x4962("0xc10")]||a._type_==esmap[_0x4962("0x3d6")].MODEL_LABEL||a[_0x4962("0xa69")]==esmap.ESLayerType.MODEL_POI){var r=esmap[_0x4962("0x33")][_0x4962("0x3a")],s=r[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x3b8")]?r.id:null;r.on(_0x4962("0x165"),(function(){if(a.o3d_)if("3D"!=r[_0x4962("0x9c4")])a.o3d_.position.y=.2;else{var x=r.controls[_0x4962("0x32f")]();a[_0x4962("0xf2")][_0x4962("0x106")].y=x<=.11689?.2:0}}),null,s)}return a[_0x4962("0x10e4")]=null,a}return(0,r[_0x4962("0xc")])(_,x),(0,a.default)(_,[{key:_0x4962("0x110d"),value:function(x){this[_0x4962("0xf2")][_0x4962("0x104")]((function(_){_[_0x4962("0x2")](_0x4962("0x170"))&&(_[_0x4962("0x170")]=x)}))}},{key:_0x4962("0x265"),value:function(){this[_0x4962("0x1034")]=!0}},{key:"disableColide",value:function(){this[_0x4962("0x1034")]=!1}},{key:_0x4962("0xd5b"),value:function(x){var _=esmap.ESMap[_0x4962("0x3a")],e=x,t=this;if(this[_0x4962("0x110e")](e[_0x4962("0x125")]))switch(e.nodeType){case esmap.ESNodeType[_0x4962("0xc10")]:var i=e[_0x4962("0x130")];e[_0x4962("0xf2")].dispatchEvent({type:"onBeforeAdd"}),this[_0x4962("0xf2")][_0x4962("0xda")](e[_0x4962("0xf2")]),_.mapPicker[_0x4962("0x3f0")](e[_0x4962("0xf2")],i||_0x4962("0x140"));break;case esmap[_0x4962("0x134")][_0x4962("0xc11")]:i=e[_0x4962("0x130")];e[_0x4962("0xf2")][_0x4962("0x44")]({type:_0x4962("0x3e5")}),this.o3d_[_0x4962("0xda")](e[_0x4962("0xf2")]),e[_0x4962("0x1f3")]&&_[_0x4962("0x194")][_0x4962("0x3f0")](e[_0x4962("0xf2")],i||_0x4962("0x140"));break;case esmap.ESNodeType[_0x4962("0x10f9")]:e[_0x4962("0xf2")][_0x4962("0x44")]({type:_0x4962("0x3e5")}),this.o3d_[_0x4962("0xda")](e[_0x4962("0xf2")]);break;case esmap[_0x4962("0x134")][_0x4962("0x1e3")]:var a=_[_0x4962("0xaff")]().modelLoadManager,n=!1;if(_[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?_[_0x4962("0x7f")].getState("sk")||_[_0x4962("0x3b")][_0x4962("0x1f5")]||(_[_0x4962("0x7f")][_0x4962("0x80")]("ul")>>1&1||0)<1&&(console[_0x4962("0x293")](esmap[_0x4962("0x289")][_0x4962("0xa8a")]),n=!0):e[_0x4962("0x12d")]&&(a=_[_0x4962("0x67e")][0][_0x4962("0x264")]),n&&!_[_0x4962("0x7f")][_0x4962("0xb0e")])return void console[_0x4962("0x293")](esmap[_0x4962("0x289")][_0x4962("0xa8a")]);t[_0x4962("0x110f")]=a,t[_0x4962("0x1110")](e,t),t[_0x4962("0x110f")][_0x4962("0xdc5")]=!1,o++;break;case esmap.ESNodeType[_0x4962("0xac1")]:e.o3d_.dispatchEvent({type:_0x4962("0x3e5")}),this.o3d_[_0x4962("0xda")](e[_0x4962("0xf2")])}else console[_0x4962("0x293")](_0x4962("0x1111"));e._init_&&e[_0x4962("0x1112")]()}},{key:_0x4962("0x1113"),value:function(){var x=this[_0x4962("0xf2")][_0x4962("0x195")];this[_0x4962("0x110f")].userModelLoadStatus[x]=!0}},{key:"checkO1",value:function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x7f")][_0x4962("0xd29")]||0;return o>x||0==x}},{key:"load3dmarker",value:function(x,_){var e=_[_0x4962("0xf2")].uuid;this.loadManger[_0x4962("0xdb1")]({data:x[_0x4962("0x57b")],model:x[_0x4962("0x288")],name:x[_0x4962("0x107")],scale:x.scale,rotation:x[_0x4962("0x234")],merge:x[_0x4962("0x12d")],layerid:e,url:x[_0x4962("0x4d")],seeThrough:x.seeThrough,showLevel:x[_0x4962("0x311")],position:x[_0x4962("0x106")],parent:_[_0x4962("0xf2")],marker:x,id:x.ID,bclick:x[_0x4962("0x1114")]||!1,spritify:x.spritify,onError:x[_0x4962("0x10b5")],callback:x[_0x4962("0x1b3")]}),x[_0x4962("0x12d")]&&(this[_0x4962("0x110f")].userModelLoadStatus[e]=!0)}},{key:_0x4962("0x1115"),value:function(x){for(var _=this[_0x4962("0xf2")][_0x4962("0xf3")],e=esmap.ESMap[_0x4962("0x3a")][_0x4962("0x260")][_0x4962("0x2c5")],t=0;t<_[_0x4962("0x0")];t++){var i=_[t];i[_0x4962("0x106")][_0x4962("0x23a")](e)>x?(i[_0x4962("0x321")]=!1,i[_0x4962("0x17c")]=!1):(i.forceVisible_=!0,i.visible=!0)}}},{key:_0x4962("0x1116"),value:function(x){var _=this,e=x.onLevel,t=x[_0x4962("0xe3")],i=(this.o3d_[_0x4962("0xf3")],e),a=esmap[_0x4962("0x33")][_0x4962("0x3a")],n=!1;this[_0x4962("0x10e4")]=t,this[_0x4962("0x10e5")]=e,a.on(_0x4962("0x179"),(function(x){x>=i?1!=n&&(n=!0,_[_0x4962("0x1115")](t)):0!=n&&(n=!1,_[_0x4962("0x1115")](1/0))}));var r=null;a.on("controlUpdated",(function(){if(a[_0x4962("0x1f6")]>=i&&(n||(n=!0)),n){var x=a[_0x4962("0x260")].target,e={x:1*x.x[_0x4962("0x65f")](1),y:1*x.z.toFixed(1)};r&&r.x==e.x&&r.y==e.y||_[_0x4962("0x1115")](t),r=e}}))}},{key:"checkType",value:function(x){var _=this._type_,e=null;for(var t in esmap[_0x4962("0x3d6")])if(esmap.ESLayerType[t]==_){e=t;break}return esmap[_0x4962("0x134")][e]==x||(console[_0x4962("0x293")](_0x4962("0x1117")),!1)}},{key:_0x4962("0xda"),value:function(x){this.o3d_[_0x4962("0xda")](x[_0x4962("0xf2")])}},{key:_0x4962("0x197"),value:function(x){x[_0x4962("0xf5")]()}},{key:_0x4962("0x87b"),value:function(){for(var x=0;this[_0x4962("0xf2")][_0x4962("0xf3")][_0x4962("0x0")]>x;){var _=this.o3d_[_0x4962("0xf3")][x];_[_0x4962("0xf1")]&&_.datas_[_0x4962("0xf5")]&&(_[_0x4962("0xf1")][_0x4962("0xf5")](),x--),x++}}},{key:_0x4962("0x104"),value:function(x){return this[_0x4962("0x110b")](x,this[_0x4962("0xf2")],!1)}},{key:_0x4962("0x110b"),value:function(x,_,e){if(_[_0x4962("0xf1")]&&(e=x(_[_0x4962("0xf1")])),e)return!0;for(var t=0;t<_[_0x4962("0xf3")][_0x4962("0x0")];t++){if(this.traverse_(x,_[_0x4962("0xf3")][t],e))return!0}}},{key:_0x4962("0x1118"),get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x34")][_0x4962("0x1118")]}}]),_}(esmap[_0x4962("0x335")]);_[_0x4962("0xc")]=c},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=a(e(2)),i=a(e(0));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}_.default=function x(_){(0,i[_0x4962("0xc")])(this,x);var e=esmap[_0x4962("0x8c")].getPlatform()[_0x4962("0x3b6")];(0,t[_0x4962("0xc")])(this,_),this[_0x4962("0xdd")]=_&&_.size?_[_0x4962("0xdd")]:e?esmap[_0x4962("0x62e")][_0x4962("0x1119")]:esmap[_0x4962("0x62e")][_0x4962("0x111a")],this.position=_&&_.position?_.position:null,this[_0x4962("0x111b")]=_&&_[_0x4962("0x111b")]?_[_0x4962("0x111b")]:null,this.offset=_&&_[_0x4962("0x15c")]?_.offset:e?new(esmap[_0x4962("0x644")])(20,50):new(esmap[_0x4962("0x644")])(10,10),this[_0x4962("0x111c")]=_&&_[_0x4962("0x111c")]?_[_0x4962("0x111c")]:"image/wedgets/",this[_0x4962("0x111d")]=_&&_[_0x4962("0x2")]("expandSpan")?_[_0x4962("0x111d")]:10}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t,i=e(0),a=(t=i)&&t[_0x4962("0xa")]?t:{default:t};_[_0x4962("0xc")]=function x(_,e){(0,a.default)(this,x),this.x=_||0,this.y=e||0}},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=l(e(15)),i=l(e(23)),a=l(e(2)),n=l(e(0)),r=l(e(1)),s=e(19),o=e(84),c=e(20);function l(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var f=function(){function x(_,e){var t=this;(0,n[_0x4962("0xc")])(this,x),window.esmap._fControlInstance&&window[_0x4962("0xe7")][_0x4962("0x111e")][_0x4962("0xf5")](),this.map=_,this[_0x4962("0x111f")]=null,this.taped=!1,this[_0x4962("0x1120")]={},this[_0x4962("0x1121")]=!1,this[_0x4962("0x1122")]=!1,this[_0x4962("0x1123")]=!1,this.building=null,this[_0x4962("0x1124")]=!1;var i=new(esmap[_0x4962("0x643")])(e);if((0,a.default)(i,{scale:null,textColor:_0x4962("0x1125"),toggleColor:_0x4962("0x1126"),bgColor:"#FFF",focusTextColor:_0x4962("0x357"),focusBgColor:_0x4962("0x1126"),showBtnCount:3,borderRadius:5,marginBottom:5,textSize:14,fnumToggleBtn:this[_0x4962("0x48")][_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")],viewModeBtn:this.map[_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")],expandBtn:!0,expandSpan:20,scrollMode:!0,size:null,exitBtn:!0,onUpdated:null},e),i[_0x4962("0x106")]=i.position||2,this[_0x4962("0x1127")]=i.scrollMode,i.showBtnCount>5&&(i[_0x4962("0x1128")]=5),this[_0x4962("0x530")]=i,this.isPC=esmap[_0x4962("0x8c")][_0x4962("0x33e")]()[_0x4962("0x3b6")],this[_0x4962("0x35c")]=20,this[_0x4962("0x35e")]=10,this[_0x4962("0x361")]=10,this[_0x4962("0x1129")]=!1,this[_0x4962("0x112a")]=!1,_.on(_0x4962("0xaef"),(function(){t[_0x4962("0xf5")]()})),_.on(_0x4962("0xa35"),(function(x){setTimeout((function(){t._checkBuildingIsHaveLocMarker({bid:x.id})}),1e3)})),_[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")]&&_.on(_0x4962("0xd44"),(function(x){if(2==x[_0x4962("0x3e8")]&&x[_0x4962("0x130")]&&t[_0x4962("0x112b")]){var e=_[_0x4962("0x139")](x[_0x4962("0x130")]);t[_0x4962("0x52")]&&t[_0x4962("0x52")].id!=x.bid||t[_0x4962("0x1129")]?(t[_0x4962("0x165")](e),e.floorSpanOffset>0?(t[_0x4962("0x112b")][_0x4962("0x25")][_0x4962("0x1d0")]="none",t[_0x4962("0x112c")].style.display=_0x4962("0x112d")):(t[_0x4962("0x112b")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x112d"),t.shrinkIcon[_0x4962("0x25")].display=_0x4962("0x612"))):t[_0x4962("0x52")]||t[_0x4962("0x165")](e),t._checkBuildingIsHaveLocMarker(x)}})),_[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")])_.on(_0x4962("0xa35"),(function(x){t[_0x4962("0x165")](x),_.options[_0x4962("0xaf2")]&&2==x[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3bb")]&&t[_0x4962("0xa07")](x[_0x4962("0x699")][x[_0x4962("0x699")][_0x4962("0x0")]-1])}));else{var r=_[_0x4962("0x578")]();r?this[_0x4962("0x165")](r):_.on("buildingLoadComplete",(function(x){t.update(x)}))}esmap[_0x4962("0x111e")]=this}return(0,r[_0x4962("0xc")])(x,[{key:"update",value:function(x){var _=this[_0x4962("0x530")];_.scrollMode=this[_0x4962("0x1127")],this.$box&&this[_0x4962("0xf5")](),this[_0x4962("0x1129")]=!1,this[_0x4962("0x52")]=x;var e=x[_0x4962("0x699")].length;e>=3&&_.showBtnCount<3&&(_[_0x4962("0x1128")]=3),e<_[_0x4962("0x1128")]&&(_[_0x4962("0x1128")]=e),4==_[_0x4962("0x112e")]&&(_[_0x4962("0x112e")]=3),e<=2&&(_[_0x4962("0x1127")]=!1);_[_0x4962("0xdd")]||(_.size=this[_0x4962("0x3b6")]?"normal":_0x4962("0x62f"));var t={small:42,normal:42}[_.size]||_[_0x4962("0xdd")];this[_0x4962("0x112f")]=t,this[_0x4962("0x39")]()}},{key:_0x4962("0x22c"),value:function(x){var _=this.configs[_0x4962("0x15c")].x,e=this[_0x4962("0x530")][_0x4962("0x15c")].y,t=this.configs[_0x4962("0x106")];switch(x[_0x4962("0x25")][_0x4962("0x35c")]=_0x4962("0x1130"),x.style.left=_0x4962("0x1130"),x[_0x4962("0x25")][_0x4962("0x361")]=_0x4962("0x1130"),t){case 1:x[_0x4962("0x25")][_0x4962("0x35c")]=e+"px",x.style[_0x4962("0x35e")]=_+"px";break;case 2:x[_0x4962("0x25")][_0x4962("0x35d")]=e+"px",x.style.left=_+"px";break;case 3:x[_0x4962("0x25")][_0x4962("0x35c")]=e+"px",x[_0x4962("0x25")][_0x4962("0x361")]=_+"px";break;case 4:x[_0x4962("0x25")][_0x4962("0x35d")]=e+"px",x[_0x4962("0x25")][_0x4962("0x361")]=_+"px"}}},{key:_0x4962("0x190"),value:function(x){if(this[_0x4962("0x1124")]){var _={bgColor:1,borderRadius:1,textColor:2,toggleColor:3,focusBgColor:[4,7],focusTextColor:4,marginBottom:5},e=[{keys:[],getStyle:function(){return"\n                    ."+t+_0x4962("0x1131")}},{keys:[_0x4962("0x4b6"),"borderRadius"],getStyle:function(){return"  \n                    ."+t+_0x4962("0x1132")+t+_0x4962("0x1133")+t+_0x4962("0x1134")+n[_0x4962("0x4b6")]+_0x4962("0x1135")+n[_0x4962("0xd39")]+"px;\n                        box-shadow: 2px 2px 3px rgba(0,0,0, 0.3);\n                    }\n                    "}},{keys:[_0x4962("0x1136")],getStyle:function(){return _0x4962("0x1137")+t+" .floor-item .floor-item-devide{\n                        color:"+n[_0x4962("0x1136")]+_0x4962("0x1138")}},{keys:[_0x4962("0x1139")],getStyle:function(){return"."+t+_0x4962("0x113a")+t+_0x4962("0x113b")+t+_0x4962("0x113c")+t+_0x4962("0x113d")+t+_0x4962("0x113e")+n.toggleColor+_0x4962("0x113f")}},{keys:[_0x4962("0x1140"),_0x4962("0x1141")],getStyle:function(){return _0x4962("0x1142")+t+_0x4962("0x1143")+n[_0x4962("0x1140")]+_0x4962("0x1144")+n[_0x4962("0x1141")]+_0x4962("0x1138")}},{keys:[_0x4962("0x1145")],getStyle:function(){return _0x4962("0x1142")+t+" .layersToggle , ."+t+" .viewModeToggle{\n                        margin-bottom:"+n[_0x4962("0x1145")]+_0x4962("0x1146")}},{keys:[_0x4962("0x1147")],getStyle:function(){return _0x4962("0x1142")+t+" .floor-item-devide{\n                        font-size: "+n.textSize+"px;\n                    }\n                    "}},{keys:["focusBgColor"],getStyle:function(){return _0x4962("0x1142")+t+" .arrows {\n                        fill:"+n[_0x4962("0x1140")]+_0x4962("0x1138")}}],t=this[_0x4962("0x1148")];(0,a[_0x4962("0xc")])(this.configs,x);var i=[],n=this[_0x4962("0x530")];for(var r in x)if(_[r]){var s=[].concat(_[r]);for(var o in s){var l=s[o];if(!i.includes(l)){var f=e[l][_0x4962("0xc0e")]();this[_0x4962("0x1149")][_0x4962("0x114a")](l),this.styleSheet.insertRule(f,l),i[_0x4962("0x3")](l)}}}}else c[_0x4962("0x37")][_0x4962("0x1dc")]({msg:"æ¥¼å±æ§ä»¶æªåå§å",level:_0x4962("0xe0")})}},{key:_0x4962("0x114b"),value:function(x){2==x||(this.$scroller.style[_0x4962("0x35c")]="unset");var _=this[_0x4962("0x112f")];this[_0x4962("0x530")][_0x4962("0x1127")]&&(this[_0x4962("0x114c")].style.height=x*_-0+"px"),this.configs[_0x4962("0x1128")]=x}},{key:_0x4962("0xf5"),value:function(){this[_0x4962("0x114d")]&&(this[_0x4962("0x114d")][_0x4962("0x2b")]&&this.$box[_0x4962("0x2b")][_0x4962("0x4e9")](this[_0x4962("0x114d")]),this[_0x4962("0x114d")]=null),this[_0x4962("0x1129")]=!0,this.building=null,this.updated=!1}},{key:_0x4962("0x114e"),value:function(x){var _=this,e=this[_0x4962("0x112f")];this[_0x4962("0x114f")]={};var t=document[_0x4962("0x24")]("div");t[_0x4962("0x25")][_0x4962("0x1ce")]=e+"px",t[_0x4962("0x25")].height=e+"px",t[_0x4962("0x25")][_0x4962("0x1d5")]=_0x4962("0x1150"),this[_0x4962("0x530")][_0x4962("0x1151")]&&(t[_0x4962("0x25")].margin=_0x4962("0xd3e")),t.style[_0x4962("0x1152")]=_0x4962("0x1153"),t.style[_0x4962("0x1d7")]=_0x4962("0x1d8"),t.className=_0x4962("0x1154"),t[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),t[_0x4962("0x25")][_0x4962("0x1d2")]="center",t.style[_0x4962("0x1155")]=_0x4962("0x1156");var i=document[_0x4962("0x24")](_0x4962("0x1cd"));i[_0x4962("0x25")].width=_0x4962("0x1cf"),i[_0x4962("0x25")][_0x4962("0x1a4")]=_0x4962("0x1cf"),i[_0x4962("0x4fc")]=_0x4962("0x1157"),i.style[_0x4962("0x1d0")]=_0x4962("0x112d"),i.innerHTML=this.iconExpand,t[_0x4962("0x28")](i),this[_0x4962("0x112b")]=i;var a=document[_0x4962("0x24")](_0x4962("0x1cd"));a[_0x4962("0x25")][_0x4962("0x1ce")]=_0x4962("0x1cf"),a[_0x4962("0x25")][_0x4962("0x1a4")]=_0x4962("0x1cf"),a[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612"),a[_0x4962("0x1d9")]=this[_0x4962("0x1158")],a[_0x4962("0x4fc")]=_0x4962("0x1159"),this.shrinkIcon=a,t.appendChild(a),t.addEventListener("mousedown",(function(x){x[_0x4962("0x37b")](),x[_0x4962("0x4c9")]()})),t[_0x4962("0x25e")](_0x4962("0xbf8"),(function(x){x[_0x4962("0x37b")](),x[_0x4962("0x4c9")](),_.toggleExpanded()})),t[_0x4962("0x25e")]("touchend",(function(x){_[_0x4962("0x115a")]()})),x[_0x4962("0x28")](t),this[_0x4962("0x115b")]=t}},{key:_0x4962("0x115a"),value:function(){this[_0x4962("0x52")].emit(_0x4962("0x115c")),this[_0x4962("0x52")][_0x4962("0x1101")]>0?this.expanded=!0:this.expanded=!1,this[_0x4962("0x112a")]?(this[_0x4962("0x52")][_0x4962("0x115d")](0),this[_0x4962("0x112b")][_0x4962("0x25")][_0x4962("0x1d0")]="inline-block",this.shrinkIcon[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612")):(this[_0x4962("0x52")].updateFloorSpan(this[_0x4962("0x530")][_0x4962("0x111d")]),this[_0x4962("0x112b")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612"),this[_0x4962("0x112c")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x112d")),this.expanded=!this[_0x4962("0x112a")]}},{key:_0x4962("0x39"),value:function(){var x=this,_=this[_0x4962("0x48")],e=this.building;this[_0x4962("0x115e")]=_0x4962("0x115f"),this.icon3d=_0x4962("0x1160"),this[_0x4962("0x1161")]=_0x4962("0x1162"),this.iconLayers=_0x4962("0x1163"),this[_0x4962("0x1164")]=_0x4962("0x1165"),this.iconExpand=_0x4962("0x1166"),this[_0x4962("0x1158")]=_0x4962("0x1167"),this[_0x4962("0x1168")]=_0x4962("0x1169");var t=[][_0x4962("0x12")]((0,i[_0x4962("0xc")])(e[_0x4962("0x699")])),a=t[_0x4962("0x46f")]((function(x,_){return x-_})),n=this[_0x4962("0x530")];n[_0x4962("0x1127")]||(a=t[_0x4962("0x46f")]((function(x,_){return _-x})));var r=this[_0x4962("0x112f")],o="F"+(0,s[_0x4962("0x1f")])(5),l=document[_0x4962("0x24")]("style");l.type=_0x4962("0x116a"),l[_0x4962("0x1d9")]=_0x4962("0x116b")+o+" .floor-scroller.smooth{\n            -webkit-transition: -webkit-transform .5s ease;\n            transition: -webkit-transform .5s ease;\n            transition: transform .5s ease;\n            transition: transform .5s ease,-webkit-transform .5s ease;\n        }\n        ."+o+" .layersToggle , ."+o+" .viewModeToggle , ."+o+_0x4962("0x116c")+n[_0x4962("0x4b6")]+";\n            border-radius:"+n[_0x4962("0xd39")]+_0x4962("0x116d")+o+_0x4962("0x116e")+n.textColor+";\n        }\n        ."+o+_0x4962("0x113a")+o+_0x4962("0x113b")+o+_0x4962("0x113c")+o+_0x4962("0x113d")+o+_0x4962("0x116f")+n[_0x4962("0x1139")]+_0x4962("0x1170")+o+_0x4962("0x1171")+n.focusBgColor+_0x4962("0x1172")+n[_0x4962("0x1141")]+_0x4962("0x1170")+o+_0x4962("0x1132")+o+_0x4962("0x1173")+n.marginBottom+_0x4962("0x1174")+o+" .floor-item-devide{\n            font-size: "+n.textSize+_0x4962("0x1174")+o+_0x4962("0x1175")+n[_0x4962("0x1140")]+_0x4962("0x1176"),this[_0x4962("0x1148")]=o,document[_0x4962("0x1177")]("head")[_0x4962("0x28")](l),this[_0x4962("0x1149")]=l.sheet;var f=document.createElement(_0x4962("0x1cd"));f.className=o,f.style.position="absolute",f[_0x4962("0x25")][_0x4962("0x750")]="999",f[_0x4962("0x25")].display=_0x4962("0xc24"),n[_0x4962("0x1151")]&&(f.style.display=_0x4962("0x1d1")),f.style.boxSizing=_0x4962("0x1d8"),n[_0x4962("0x1fe")]&&(f[_0x4962("0x25")][_0x4962("0x4d7")]=_0x4962("0x1178")+n[_0x4962("0x1fe")]+")"),f[_0x4962("0x25e")]("mousewheel",(function(x){x[_0x4962("0x37b")]()}));var d=document[_0x4962("0x24")](_0x4962("0x1cd"));d[_0x4962("0x25")][_0x4962("0x1ce")]=r+"px",d[_0x4962("0x25")].height=r+"px",d.style.padding="8px",n.isLayoutRow&&(d[_0x4962("0x25")][_0x4962("0xf73")]=_0x4962("0xd3e")),d[_0x4962("0x25")].cursor=_0x4962("0x1153"),d[_0x4962("0x25")].boxSizing=_0x4962("0x1d8"),d[_0x4962("0x4fc")]=_0x4962("0x1154");var u=e[_0x4962("0xcbc")][_0x4962("0x0")]==e[_0x4962("0x699")][_0x4962("0x0")];e[_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?x[_0x4962("0x1179")]=u:2==e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3bb")]&&(x[_0x4962("0x1179")]=!0);var h=document.createElement("div");h.style[_0x4962("0x1ce")]="100%",h.style[_0x4962("0x1a4")]=_0x4962("0x1cf"),h[_0x4962("0x4fc")]="layers",h[_0x4962("0x25")][_0x4962("0x1d0")]=u?_0x4962("0x112d"):"none",h[_0x4962("0x1d9")]=this[_0x4962("0x117a")],d.appendChild(h),this[_0x4962("0x117b")]=d,this[_0x4962("0x117c")]=h;var g=document[_0x4962("0x24")](_0x4962("0x1cd"));g.style[_0x4962("0x1ce")]=_0x4962("0x1cf"),g.style[_0x4962("0x1a4")]="100%",g[_0x4962("0x25")].display=_0x4962(u?"0x612":"0x112d"),g[_0x4962("0x1d9")]=this.iconLayer,g[_0x4962("0x4fc")]=_0x4962("0xe42");var b=1==a.length;d[_0x4962("0x28")](g),this[_0x4962("0x117d")]=g,d[_0x4962("0x25e")]("mousedown",(function(x){x[_0x4962("0x4c9")](),x.stopPropagation()})),d[_0x4962("0x25e")](_0x4962("0xbf8"),(function(_){x.isTapping||(_[_0x4962("0x4c9")](),_[_0x4962("0x37b")](),x[_0x4962("0x117e")](!x[_0x4962("0x1179")]))})),d[_0x4962("0x25e")]("touchstart",(function(_){x.isTapping||(_[_0x4962("0x4c9")](),_[_0x4962("0x37b")]())})),d[_0x4962("0x25e")](_0x4962("0xbf9"),(function(_){_.preventDefault(),_[_0x4962("0x37b")](),x.setAllFloorState(!x.allFloorsState)})),b&&(d[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612")),this[_0x4962("0x117f")]=_[_0x4962("0x9c4")];var v=document[_0x4962("0x24")](_0x4962("0x1cd"));v[_0x4962("0x25")][_0x4962("0x1ce")]=r+"px",v[_0x4962("0x25")][_0x4962("0x1a4")]=r+"px",v.style[_0x4962("0x1d5")]=_0x4962("0x1150"),v.style.cursor=_0x4962("0x1153"),v.style.boxSizing=_0x4962("0x1d8"),v.className=_0x4962("0x1180");var p="2D"==this[_0x4962("0x117f")],m=document[_0x4962("0x24")]("div");m[_0x4962("0x25")].width=_0x4962("0x1cf"),m[_0x4962("0x25")].height="100%",m[_0x4962("0x4fc")]="view2d",m[_0x4962("0x25")].display=p?"inline-block":_0x4962("0x612"),m[_0x4962("0x1d9")]=this[_0x4962("0x115e")],v[_0x4962("0x28")](m),this.view2d=m;var A=document[_0x4962("0x24")](_0x4962("0x1cd"));A[_0x4962("0x25")].width=_0x4962("0x1cf"),A.style.height="100%",A[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962(p?"0x612":"0x112d"),A.innerHTML=this[_0x4962("0x1181")],A.className="view3d",v[_0x4962("0x28")](A),this[_0x4962("0x1159")]=A,v[_0x4962("0x25e")](_0x4962("0x98b"),(function(x){x[_0x4962("0x4c9")](),x[_0x4962("0x37b")]()})),v[_0x4962("0x25e")]("mouseup",(function(_){x[_0x4962("0x1121")]||(_[_0x4962("0x4c9")](),_[_0x4962("0x37b")](),x[_0x4962("0x1182")]())})),v[_0x4962("0x25e")](_0x4962("0x1183"),(function(_){x[_0x4962("0x1121")]||(_[_0x4962("0x4c9")](),_.stopPropagation())})),v[_0x4962("0x25e")](_0x4962("0xbf9"),(function(_){_[_0x4962("0x4c9")](),_[_0x4962("0x37b")](),x[_0x4962("0x1182")]()})),n[_0x4962("0x1184")]&&f[_0x4962("0x28")](v),n[_0x4962("0x1185")]&&f.appendChild(d),!b&&n[_0x4962("0x1186")]&&this[_0x4962("0x114e")](f),this[_0x4962("0x114d")]=f,this.configs[_0x4962("0x1187")]&&_[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]&&this[_0x4962("0x1188")]();var y=document.createElement("div");y[_0x4962("0x4fc")]=_0x4962("0x1189"),n.isLayoutRow?y[_0x4962("0x25")][_0x4962("0x1ce")]="auto":y.style.width=r+"px",y.style[_0x4962("0x740")]=_0x4962("0xb96"),y.style[_0x4962("0xd43")]=_0x4962("0x612"),y[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),y[_0x4962("0x25")][_0x4962("0x118a")]="center",y[_0x4962("0x25")][_0x4962("0x1d2")]=_0x4962("0x131"),y[_0x4962("0x25")].perspective=_0x4962("0x118b"),y[_0x4962("0x25")][_0x4962("0x393")]=_0x4962("0x118b"),y[_0x4962("0x25")][_0x4962("0x118c")]=_0x4962("0x118b"),y[_0x4962("0x25")][_0x4962("0x118d")]=_0x4962("0x118e"),y.style[_0x4962("0x118f")]=_0x4962("0x118e"),y.style[_0x4962("0x1190")]=_0x4962("0x131");var C=document.createElement(_0x4962("0x1cd"));this[_0x4962("0x1191")]=C,C.style[_0x4962("0x106")]=_0x4962("0x741"),C.style[_0x4962("0x1ce")]=_0x4962("0x1cf"),n[_0x4962("0x1127")]?C.style.height=r+"px":(C[_0x4962("0x25")][_0x4962("0x1a4")]="100%",y[_0x4962("0x25")].padding="5px 0",n[_0x4962("0x1151")]&&(y[_0x4962("0x25")].padding=_0x4962("0x1192"))),this[_0x4962("0x114c")]=y,this[_0x4962("0x114b")](n[_0x4962("0x1127")]?this.configs[_0x4962("0x1128")]:a.length),n.scrollMode&&(C[_0x4962("0x25")][_0x4962("0x1193")]="preserve-3d",C[_0x4962("0x25")][_0x4962("0x1194")]=_0x4962("0x1195")),C[_0x4962("0x4fc")]="floor-scroller smooth",n[_0x4962("0x1151")]&&(C[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"));var I=0,E=5==this[_0x4962("0x530")][_0x4962("0x1128")]?2:1;a.length>=3&&(E+=2);var w=Math[_0x4962("0x301")](360/(a[_0x4962("0x0")]+E),25.714);this[_0x4962("0x1196")]=w;var T=e[_0x4962("0x58a")];if(!b){var k=void 0;if(this.configs.scrollMode){k=w<25.714?8*a.length:3==this.configs[_0x4962("0x1128")]?100:110;var M=document.createElement("div");M.classList[_0x4962("0xda")](_0x4962("0x1197")),M[_0x4962("0x25")][_0x4962("0x1a4")]=r+"px",M.style.lineHeight=r+"px",M[_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0xd3d"),M[_0x4962("0x25")][_0x4962("0x35d")]=_0x4962("0x1130"),M[_0x4962("0x25")][_0x4962("0x1d7")]=_0x4962("0x1d8"),M[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),M[_0x4962("0x25")].justifyContent=_0x4962("0x131"),M[_0x4962("0x25")][_0x4962("0x118a")]=_0x4962("0x131"),M[_0x4962("0x25")].cursor=_0x4962("0x1153"),M[_0x4962("0x25")][_0x4962("0x1ce")]=r+"px";var S=I-w;M[_0x4962("0x25")][_0x4962("0x1198")]="rotateX("+S+_0x4962("0x1199")+k+"px)",M[_0x4962("0x25")].transform=_0x4962("0x119a")+S+"deg) translateZ("+k+_0x4962("0x501"),M.style.backfaceVisibility="hidden",M[_0x4962("0x25")][_0x4962("0x119b")]="hidden",M[_0x4962("0x25")]["-moz-backface-visibility"]=_0x4962("0xb96"),M[_0x4962("0x25")]["-ms-backface-visibility"]="hidden",M[_0x4962("0x1da")](_0x4962("0x234"),-w),M[_0x4962("0x1d9")]=this[_0x4962("0x1164")],M.childNodes[0][_0x4962("0x25")][_0x4962("0x4d7")]=_0x4962("0x119c"),M[_0x4962("0x119d")][0][_0x4962("0x25")][_0x4962("0x1ce")]=_0x4962("0x119e"),M[_0x4962("0x119d")][0][_0x4962("0x25")][_0x4962("0x1a4")]=_0x4962("0x119e"),M[_0x4962("0x25e")](_0x4962("0x98b"),(function(x){x[_0x4962("0x4c9")](),x.stopPropagation()})),M.addEventListener(_0x4962("0xbf8"),(function(_){if(!(x[_0x4962("0x1122")]>1)){var e=_.currentTarget[_0x4962("0x44d")](_0x4962("0x234"));x[_0x4962("0x119f")](e),x[_0x4962("0x11a0")](e),_[_0x4962("0x37b")](),_[_0x4962("0x4c9")]()}})),M[_0x4962("0x25e")](_0x4962("0xbf9"),(function(_){if(!(x[_0x4962("0x1122")]>1)){var e=_[_0x4962("0x11a1")][_0x4962("0x44d")](_0x4962("0x234"));x[_0x4962("0x119f")](e),x[_0x4962("0x11a0")](e),_[_0x4962("0x37b")](),_[_0x4962("0x4c9")]()}})),C.appendChild(M)}else k=60;for(var R=0;R<a[_0x4962("0x0")];R++){var L=a[R],H=e[_0x4962("0x673")](L);if(H){var D=H[_0x4962("0xa8b")],O=document.createElement(_0x4962("0x1cd"));O[_0x4962("0x4fc")]=_0x4962("0x11a3"),O[_0x4962("0x25")][_0x4962("0x1a4")]=r+"px",O[_0x4962("0x25")][_0x4962("0x33f")]=r+"px",O[_0x4962("0x25")].bottom="unset",O[_0x4962("0x25")][_0x4962("0x1d7")]=_0x4962("0x1d8"),O[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x1d1"),O[_0x4962("0x25")][_0x4962("0x1d2")]=_0x4962("0x131"),O[_0x4962("0x25")][_0x4962("0x118a")]=_0x4962("0x131"),O.style.cursor=_0x4962("0x1153"),O[_0x4962("0x25")][_0x4962("0x1ce")]=r+"px",n.scrollMode&&(O[_0x4962("0x25")]["-webkit-transform"]=_0x4962("0x119a")+I+_0x4962("0x1199")+k+_0x4962("0x501"),O[_0x4962("0x25")][_0x4962("0x4d7")]=_0x4962("0x119a")+I+_0x4962("0x1199")+k+_0x4962("0x501"),O.style[_0x4962("0x11a4")]=_0x4962("0xb96"),O[_0x4962("0x25")][_0x4962("0x119b")]=_0x4962("0xb96"),O[_0x4962("0x25")][_0x4962("0x11a5")]=_0x4962("0xb96"),O[_0x4962("0x25")][_0x4962("0x11a6")]=_0x4962("0xb96"),O.style[_0x4962("0x106")]=_0x4962("0xd3d"),O[_0x4962("0x1da")](_0x4962("0x234"),-I)),T==L&&(this[_0x4962("0x119f")](-I),O.className+=_0x4962("0x11a7")),O[_0x4962("0x1da")](_0x4962("0x132"),L);var P=document[_0x4962("0x24")](_0x4962("0xd3b"));P[_0x4962("0x11a8")]=D,P[_0x4962("0x25")][_0x4962("0x11a9")]=_0x4962("0x11aa"),P[_0x4962("0x25")][_0x4962("0x1ce")]="80%",P[_0x4962("0x25")][_0x4962("0x1a4")]=_0x4962("0x11ab"),P[_0x4962("0x25")][_0x4962("0x1d0")]="flex",P.style[_0x4962("0x1d2")]=_0x4962("0x131"),P[_0x4962("0x25")][_0x4962("0x118a")]=_0x4962("0x131"),P[_0x4962("0x25")].textAlign="center",P.style[_0x4962("0x33f")]="100%",P.style[_0x4962("0x11ac")]=_0x4962("0x11ad"),P[_0x4962("0x25")][_0x4962("0xd39")]="100%",P[_0x4962("0x25")][_0x4962("0x740")]=_0x4962("0xb96"),P[_0x4962("0x25")].transition="all .5s ease-in",P.style[_0x4962("0x11ae")]="all .5s ease-in",P[_0x4962("0x4fc")]=_0x4962("0x11af"),O[_0x4962("0x28")](P),C.appendChild(O),I+=w}else c[_0x4962("0x37")].post({msg:"ESScrollFloorControl: "+e.id+_0x4962("0x11a2")+L,level:_0x4962("0xa9e")})}if(n[_0x4962("0x1127")]){var N=document[_0x4962("0x24")]("div");N[_0x4962("0x4f8")].add(_0x4962("0x1197")),N[_0x4962("0x25")][_0x4962("0x1a4")]=r+"px",N[_0x4962("0x25")].lineHeight=r+"px",N[_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0xd3d"),N[_0x4962("0x25")].bottom=_0x4962("0x1130"),N[_0x4962("0x25")].boxSizing="border-box",N.style[_0x4962("0x1d0")]=_0x4962("0x1d1"),N[_0x4962("0x25")][_0x4962("0x1d2")]=_0x4962("0x131"),N[_0x4962("0x25")][_0x4962("0x118a")]=_0x4962("0x131"),N[_0x4962("0x25")].cursor=_0x4962("0x1153"),N[_0x4962("0x25")].width=r+"px",N[_0x4962("0x25")][_0x4962("0x1198")]=_0x4962("0x119a")+I+_0x4962("0x1199")+k+_0x4962("0x501"),N[_0x4962("0x25")].transform=_0x4962("0x119a")+I+_0x4962("0x1199")+k+_0x4962("0x501"),N[_0x4962("0x25")][_0x4962("0x11a4")]=_0x4962("0xb96"),N[_0x4962("0x25")]["-webkit-backface-visibility"]="hidden",N[_0x4962("0x25")]["-moz-backface-visibility"]=_0x4962("0xb96"),N[_0x4962("0x25")][_0x4962("0x11a6")]="hidden",N[_0x4962("0x1da")](_0x4962("0x234"),-(I-2*w)),N.innerHTML=this[_0x4962("0x1164")],N[_0x4962("0x119d")][0][_0x4962("0x25")][_0x4962("0x4d7")]=_0x4962("0x11b0"),N[_0x4962("0x119d")][0][_0x4962("0x25")][_0x4962("0x1ce")]=_0x4962("0x119e"),N.childNodes[0].style.height=_0x4962("0x119e"),N.addEventListener(_0x4962("0x98b"),(function(x){x[_0x4962("0x4c9")](),x.stopPropagation()})),N[_0x4962("0x25e")](_0x4962("0xbf8"),(function(_){if(!(x[_0x4962("0x1122")]>1)){var e=_[_0x4962("0x11a1")][_0x4962("0x44d")](_0x4962("0x234"));x[_0x4962("0x119f")](e),x[_0x4962("0x11a0")](e),_[_0x4962("0x37b")](),_[_0x4962("0x4c9")]()}})),N[_0x4962("0x25e")](_0x4962("0xbf9"),(function(_){if(!(x.tapCount>1)){var e=_.currentTarget.getAttribute(_0x4962("0x234"));x.setTransformAngle(e),x[_0x4962("0x11a0")](e),_[_0x4962("0x37b")](),_.preventDefault()}})),C.appendChild(N)}this[_0x4962("0x11b1")]=-1*(I-w),this[_0x4962("0x114c")].appendChild(C),f.appendChild(y)}_[_0x4962("0x1c6")][_0x4962("0x1c7")][_0x4962("0x1c8")][_0x4962("0x28")](f),this[_0x4962("0x22c")](f),n[_0x4962("0x1127")]&&(y[_0x4962("0x11b2")]=this[_0x4962("0x11b3")][_0x4962("0xe")](this));for(var F=document[_0x4962("0x11b4")](_0x4962("0x11a3")),B=function(_){if(x[_0x4962("0x1123")]=!0,!(x[_0x4962("0x1122")]>1)){var e=_[_0x4962("0x11a1")];if(n[_0x4962("0x1127")]){var t=e[_0x4962("0x44d")](_0x4962("0x234"));x.setTransformAngle(t),x[_0x4962("0x11a0")](t)}else{var i=e[_0x4962("0x44d")]("fnum");x.toggleTargetClassByFnum(i),x.changeFocusFloor(i)}_.stopPropagation(),_[_0x4962("0x4c9")]()}},z=function(_){if(x.triggerSkip=!0,!(x.tapCount>1)){var e=_[_0x4962("0x11a1")];if(n[_0x4962("0x1127")]){var t=e[_0x4962("0x44d")](_0x4962("0x234")),i=x[_0x4962("0x1191")];i.classList[_0x4962("0x4f9")]("smooth")||i.classList[_0x4962("0xda")](_0x4962("0xa40")),x.setTransformAngle(t),x.toggleTargetClass(t)}else{var a=e[_0x4962("0x44d")]("fnum");x[_0x4962("0x11b5")](a),x[_0x4962("0xa07")](a)}_[_0x4962("0x37b")](),_[_0x4962("0x4c9")]()}},U=0;U<F.length;U++){var V=F[U];V[_0x4962("0x25e")]("mousedown",(function(x){x[_0x4962("0x4c9")](),x.stopPropagation()})),V[_0x4962("0x25e")](_0x4962("0xbf8"),B),V[_0x4962("0x25e")](_0x4962("0xbf9"),z)}this[_0x4962("0x3b6")]?y[_0x4962("0x25e")](_0x4962("0x98b"),this.onmousedown[_0x4962("0xe")](this),!1):(n[_0x4962("0x1127")]&&(y[_0x4962("0x25e")]("touchstart",this[_0x4962("0x511")][_0x4962("0xe")](this),!1),y[_0x4962("0x25e")](_0x4962("0xbfd"),this[_0x4962("0x11b6")][_0x4962("0xe")](this),!1)),y.addEventListener(_0x4962("0xbf9"),this[_0x4962("0x11b7")][_0x4962("0xe")](this),!1)),e.on(_0x4962("0x9e1"),(function(_){x[_0x4962("0x1129")]||(x[_0x4962("0x1123")]?x[_0x4962("0x1123")]=!1:x[_0x4962("0x11b5")](_))})),_.on(_0x4962("0x9e2"),(function(_){x.disposed||(x.triggerSkip?x[_0x4962("0x1123")]=!1:x.setViewModeState(_))})),e.on(_0x4962("0x177"),(function(_){x[_0x4962("0x1129")]||(_.length==e.floorNums[_0x4962("0x0")]?x[_0x4962("0x117e")](!0,!0):x[_0x4962("0x117e")](!1,!0))})),x.configs[_0x4962("0x1127")]&&this[_0x4962("0x11b8")](),this[_0x4962("0x530")][_0x4962("0x11b9")]&&this[_0x4962("0x530")][_0x4962("0x11b9")](this),this[_0x4962("0x1124")]=!0}},{key:"reComputeHeight",value:function(){if(5==this[_0x4962("0x530")].showBtnCount&&this[_0x4962("0x52")][_0x4962("0x699")].length>=5){var x=this[_0x4962("0x1191")][_0x4962("0xf3")],_=this[_0x4962("0x1191")][_0x4962("0x1177")](_0x4962("0x11ba")),e=Array.prototype[_0x4962("0xaf")].call(x,_),t=_[_0x4962("0x4f4")](),i=[],a=(i=x[e+1]&&x[e+2]?[x[e+1],x[e+2]]:[x[e-1],x[e-2]])[0][_0x4962("0x4f4")](),n=i[1][_0x4962("0x4f4")](),r=t[_0x4962("0x1a4")]/2+a[_0x4962("0x1a4")]+n.height;this[_0x4962("0x114c")][_0x4962("0x25")][_0x4962("0x1a4")]=2*r+"px"}}},{key:_0x4962("0x1188"),value:function(){var x=this,_=this[_0x4962("0x112f")],e=document[_0x4962("0x24")](_0x4962("0x1cd"));e[_0x4962("0x25")].width=_+"px",e[_0x4962("0x25")][_0x4962("0x1a4")]=_+"px",e.style.padding=_0x4962("0x1150"),this[_0x4962("0x530")][_0x4962("0x1151")]&&(e[_0x4962("0x25")][_0x4962("0xf73")]=_0x4962("0xd3e")),e[_0x4962("0x25")].cursor=_0x4962("0x1153"),e.style[_0x4962("0x1d7")]=_0x4962("0x1d8"),e[_0x4962("0x4fc")]=_0x4962("0x1154");var t=document.createElement(_0x4962("0x1cd"));t[_0x4962("0x25")].width=_0x4962("0x1cf"),t.style[_0x4962("0x1a4")]=_0x4962("0x1cf"),t[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x112d"),t[_0x4962("0x4fc")]="exit",t[_0x4962("0x1d9")]=this[_0x4962("0x1168")],e.appendChild(t),e[_0x4962("0x25e")](_0x4962("0x98b"),(function(x){x[_0x4962("0x4c9")](),x.stopPropagation()})),e[_0x4962("0x25e")](_0x4962("0xbf8"),(function(_){0==x[_0x4962("0x48")]._buildingAnimating&&(_[_0x4962("0x4c9")](),_[_0x4962("0x37b")](),x[_0x4962("0xaf6")]())})),e[_0x4962("0x25e")](_0x4962("0x1183"),(function(_){0==x[_0x4962("0x48")][_0x4962("0x9cc")]&&(_.stopPropagation(),_[_0x4962("0x4c9")](),x[_0x4962("0xaf6")]())})),this[_0x4962("0x11bb")]=e,this[_0x4962("0x114d")][_0x4962("0x28")](e)}},{key:_0x4962("0xaf6"),value:function(){var x=this[_0x4962("0x52")];this[_0x4962("0x48")][_0x4962("0x695")]&&this[_0x4962("0x48")][_0x4962("0x695")].bid==x.id?console.info("navi is running,please wait for stop navi!"):x.map.closeBuildingById(x.id)&&this.dispose()}},{key:"setViewModeState",value:function(x){"2D"==x?(this.view2d[_0x4962("0x25")].display=_0x4962("0x112d"),this[_0x4962("0x1159")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612")):(this.view3d[_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x112d"),this[_0x4962("0x1157")].style[_0x4962("0x1d0")]=_0x4962("0x612")),this[_0x4962("0x117f")]=x}},{key:_0x4962("0x1182"),value:function(x){var _="3D"==this.viewModeState?"2D":"3D";this[_0x4962("0x11bc")](_),this[_0x4962("0x1179")]&&this[_0x4962("0x117e")](!1,!1),!x&&this[_0x4962("0x11bd")](_)}},{key:_0x4962("0x11bd"),value:function(x){window[_0x4962("0xe7")][_0x4962("0xb62")]?esmap.ESTileMap.viewMode=x:this[_0x4962("0x48")][_0x4962("0x387")]=x}},{key:"setAllFloorState",value:function(x,_){var e=this[_0x4962("0x52")],t=this.map.mode==esmap[_0x4962("0x40")][_0x4962("0x3b8")]||1==this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3bb")];(this[_0x4962("0x48")][_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")]&&this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xd0a")]===esmap[_0x4962("0x61c")][_0x4962("0xd0c")]&&(t=!0),x!=this[_0x4962("0x1179")]&&this.layerImage)&&(x?("2D"!=this[_0x4962("0x117f")]&&"top"!=this[_0x4962("0x117f")]||this.setMapViewMode("3D"),t&&!_&&(e[_0x4962("0xcbc")]=e[_0x4962("0x699")]),this[_0x4962("0x48")][_0x4962("0x3b")].buildingFocusMode===esmap[_0x4962("0x631")][_0x4962("0x11be")]&&(e[_0x4962("0x58a")]=1),this[_0x4962("0x117d")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612"),this[_0x4962("0x117c")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x112d"),this.allFloorsState=!0):(t&&!_&&(e.visibleFloorNums=[e[_0x4962("0x58a")]]),this[_0x4962("0x117c")].style[_0x4962("0x1d0")]="none",this[_0x4962("0x117d")].style[_0x4962("0x1d0")]=_0x4962("0x112d"),this[_0x4962("0x1179")]=!1))}},{key:_0x4962("0x11b3"),value:function(x){window[_0x4962("0x267")](this.timer2);var _=this,e=this[_0x4962("0x1191")],t=0;x[_0x4962("0x11bf")]?x[_0x4962("0x11bf")]<0?t+=10:t-=10:x[_0x4962("0x3e")];var i=-1*e[_0x4962("0x25")][_0x4962("0x4d7")][_0x4962("0x2a8")](/[0-9]\d*/)[0],a=this.limitValue(i+t);e[_0x4962("0x25")][_0x4962("0x4d7")]=_0x4962("0x119a")+a+"deg)",this[_0x4962("0x11c0")]||(this[_0x4962("0x11c0")]=!0),_.timer2=setTimeout((function(){_[_0x4962("0x11c1")][_0x4962("0xf")](_)}),300)}},{key:_0x4962("0x11c2"),value:function(){for(var x=document[_0x4962("0x11b4")]("floor-item"),_=0;_<x[_0x4962("0x0")];_++){var e=x[_];if(e[_0x4962("0x4f8")].contains("active"))return 1*e.getAttribute(_0x4962("0x234"))}}},{key:_0x4962("0x119f"),value:function(x){this.configs[_0x4962("0x1127")]&&(this[_0x4962("0x1191")][_0x4962("0x25")].transform=_0x4962("0x119a")+x+_0x4962("0x11c3"))}},{key:_0x4962("0x11c4"),value:function(){return-1*this[_0x4962("0x1191")].style[_0x4962("0x4d7")][_0x4962("0x2a8")](/[0-9]\d*/)[0]}},{key:_0x4962("0x511"),value:function(x){this[_0x4962("0x1121")]=!0,x[_0x4962("0x37b")](),this[_0x4962("0x1122")]=0,this.taped=!0,this[_0x4962("0x1120")]=x[_0x4962("0xc22")]?x.touches[0][_0x4962("0x977")]:x[_0x4962("0x977")],this[_0x4962("0x11c5")]=this.getCurrentAngle()}},{key:"onmousedown",value:function(x){x[_0x4962("0x4c9")](),x[_0x4962("0x37b")]()}},{key:"ontouchmove",value:function(x){if(!this.disposed&&(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),this[_0x4962("0x1122")]++,this[_0x4962("0x11c0")])){var _=this[_0x4962("0x1191")];_[_0x4962("0x4f8")][_0x4962("0x4f9")](_0x4962("0xa40"))&&_[_0x4962("0x4f8")][_0x4962("0x197")](_0x4962("0xa40"));var e=x[_0x4962("0xc22")]?x[_0x4962("0xc22")][0][_0x4962("0x977")]:x[_0x4962("0x977")];e>this.tapedPos?1:-1;var t=this[_0x4962("0x1120")]-e,i=this.limitValue(t+this[_0x4962("0x11c5")]);this[_0x4962("0x119f")](i)}}},{key:_0x4962("0xc21"),value:function(x){if(!this[_0x4962("0x1129")]&&this[_0x4962("0x11c0")]){x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),this.tapCount++;var _=this[_0x4962("0x1191")];_[_0x4962("0x4f8")].contains(_0x4962("0xa40"))&&_[_0x4962("0x4f8")][_0x4962("0x197")](_0x4962("0xa40"));var e=x[_0x4962("0xc22")]?x[_0x4962("0xc22")][0][_0x4962("0x977")]:x[_0x4962("0x977")],t=this[_0x4962("0x1120")]-e,i=this[_0x4962("0x11c6")](t+this[_0x4962("0x11c5")]);this[_0x4962("0x119f")](i)}}},{key:_0x4962("0x11b7"),value:function(x){if(!this[_0x4962("0x1129")]){x&&(x[_0x4962("0x37b")](),x[_0x4962("0x4c9")]());var _=this[_0x4962("0x1191")];_.classList[_0x4962("0x4f9")](_0x4962("0xa40"))||_[_0x4962("0x4f8")][_0x4962("0xda")](_0x4962("0xa40")),this[_0x4962("0x11c0")]=!1,this.tapedPos=null,this[_0x4962("0x11c5")]=null,this[_0x4962("0x11c7")](),this[_0x4962("0x1121")]=!1}}},{key:_0x4962("0x11c1"),value:function(x){if(!this[_0x4962("0x1129")]&&this.taped){x&&(x[_0x4962("0x37b")](),x.preventDefault());var _=this[_0x4962("0x1191")];_[_0x4962("0x4f8")][_0x4962("0x4f9")](_0x4962("0xa40"))||_[_0x4962("0x4f8")][_0x4962("0xda")]("smooth"),this[_0x4962("0x11c0")]=!1,this[_0x4962("0x1120")]=null,this.tapedAngle=null,this[_0x4962("0x11c7")](),this[_0x4962("0x1121")]=!1}}},{key:_0x4962("0x11c6"),value:function(x){return x>0?x=0:x<this.$maxAngle&&(x=this[_0x4962("0x11b1")]),x}},{key:_0x4962("0x11b5"),value:function(x){for(var _=document[_0x4962("0x11b4")]("floor-item"),e=0;e<_[_0x4962("0x0")];e++){var t=_[e];if(1*t[_0x4962("0x44d")](_0x4962("0x132"))==x){if(!t[_0x4962("0x4f8")][_0x4962("0x4f9")]("active")){var i=t[_0x4962("0x44d")](_0x4962("0x234"));t[_0x4962("0x4f8")][_0x4962("0xda")](_0x4962("0xcde")),this[_0x4962("0x119f")](i)}}else t.classList[_0x4962("0x4f9")](_0x4962("0xcde"))&&t.classList[_0x4962("0x197")]("active")}}},{key:_0x4962("0x11a0"),value:function(x){for(var _=document[_0x4962("0x11b4")](_0x4962("0x11a3")),e=!1,t=0;t<_[_0x4962("0x0")];t++){var i=_[t],a=i.getAttribute("angle");if(Math.abs((0,o.toDecimal5)(x))==Math[_0x4962("0x231")]((0,o.toDecimal5)(a))){if(e=!0,!i.classList.contains(_0x4962("0xcde"))){var n=i[_0x4962("0x44d")]("fnum");i[_0x4962("0x4f8")].add(_0x4962("0xcde")),this[_0x4962("0xa07")](n)}}else i[_0x4962("0x4f8")][_0x4962("0x4f9")]("active")&&i.classList[_0x4962("0x197")](_0x4962("0xcde"))}if(!e&&x>200){var r=_[_[_0x4962("0x0")]-1];if(!r[_0x4962("0x4f8")][_0x4962("0x4f9")]("active")){r[_0x4962("0x4f8")][_0x4962("0xda")](_0x4962("0xcde"));var s=r.getAttribute(_0x4962("0x132"));this[_0x4962("0xa07")](s)}}}},{key:_0x4962("0xa07"),value:function(x){if(this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x11c8")])this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0x11c9"),{bid:this[_0x4962("0x52")].id,fnum:x});else{x*=1;var _=this[_0x4962("0x52")];if(this.building[_0x4962("0x48")].mode==esmap.MapMode[_0x4962("0x41")]){var e=_.floorNums[_0x4962("0x46f")]((function(x,_){return x-_}))[_0x4962("0x1e7")](0,x);if(2==this[_0x4962("0x52")].options[_0x4962("0xcba")]){var t=this[_0x4962("0x52")][_0x4962("0x3b")][_0x4962("0xcaf")];this.map[_0x4962("0x3b")][_0x4962("0xf80")]&&(e=x>t?e[_0x4962("0x2e2")]((function(x){return x>t})):e.filter((function(x){return x<=t}))),_[_0x4962("0xcbc")]=e}else _[_0x4962("0xcbc")]=[x]}else this[_0x4962("0x1179")]||(_.visibleFloorNums=[x]);_[_0x4962("0x58a")]=x}}},{key:_0x4962("0x11c7"),value:function(){for(var x=1*this[_0x4962("0x1191")].style[_0x4962("0x4d7")][_0x4962("0x2a8")](/[0-9]\d*/)[0],_=document.getElementsByClassName("floor-item"),e=null,t=0;t<_.length;t++){var i=_[t][_0x4962("0x44d")](_0x4962("0x234"));if(e){var a=Math[_0x4962("0x231")](Math[_0x4962("0x231")](1*i)-Math[_0x4962("0x231")](x));Math[_0x4962("0x231")](a)<Math[_0x4962("0x231")](e[_0x4962("0x6a2")])&&(e[_0x4962("0x6a2")]=a,e[_0x4962("0xdc9")]=t,e[_0x4962("0x234")]=1*i)}else e={dis:Math[_0x4962("0x231")](Math[_0x4962("0x231")](1*i)-Math[_0x4962("0x231")](x)),ind:t,angle:1*i}}this.setTransformAngle(e.angle),this[_0x4962("0x11a0")](e[_0x4962("0x234")])}},{key:_0x4962("0x11ca"),value:function(x){var _=!0,e=!0,i=!1,a=void 0;try{for(var n,r=(0,t[_0x4962("0xc")])(this[_0x4962("0x48")][_0x4962("0x10aa")]);!(e=(n=r[_0x4962("0x286")]())[_0x4962("0x426")]);e=!0){if(n[_0x4962("0xe3")].bid_===x.bid){_=!1;break}}}catch(x){i=!0,a=x}finally{try{!e&&r[_0x4962("0x28c")]&&r[_0x4962("0x28c")]()}finally{if(i)throw a}}this[_0x4962("0x11bb")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962(_?"0xc24":"0x612")}},{key:"x",get:function(){return this[_0x4962("0x530")][_0x4962("0x15c")].x},set:function(x){this[_0x4962("0x530")][_0x4962("0x15c")].x=x,this[_0x4962("0x22c")](this[_0x4962("0x114d")])}},{key:"y",get:function(){return this[_0x4962("0x530")][_0x4962("0x15c")].y},set:function(x){this.configs[_0x4962("0x15c")].y=x,this.setPosition(this.$box)}},{key:"position",get:function(){return this[_0x4962("0x530")][_0x4962("0x106")]},set:function(x){this[_0x4962("0x530")][_0x4962("0x106")]=x,this.setPosition(this[_0x4962("0x114d")])}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0x114d")]&&(this.$box.style[_0x4962("0x1d0")]=_0x4962(x?"0xc24":"0x612"))},get:function(){return!(!this[_0x4962("0x114d")]||"block"!=this[_0x4962("0x114d")][_0x4962("0x25")][_0x4962("0x1d0")])}}]),x}();_[_0x4962("0xc")]=f},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=n(e(112));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_,e){(0,t.default)(this,x),this[_0x4962("0x53b")]=new(esmap[_0x4962("0x643")])(e),"normal"==this[_0x4962("0x53b")].size?(this.w_=42,this.h_=42,this[_0x4962("0x11cb")]=14):(this.w_=28,this.h_=28,this.padding_=8),this.x_=this[_0x4962("0x53b")].offset.x,this.y_=this[_0x4962("0x53b")].offset.y,this[_0x4962("0x11cc")]=this[_0x4962("0x53b")][_0x4962("0x106")]?this[_0x4962("0x53b")].position:4,this[_0x4962("0x11cd")]=20,this[_0x4962("0x11ce")]=10,this.right_=10,this[_0x4962("0x11cf")]="2px 2px 3px rgba(0,0,0, 0.3)",this[_0x4962("0x11d0")]=_0x4962("0x11d1"),this.imgURL_=this[_0x4962("0x53b")][_0x4962("0x111c")],this[_0x4962("0x541")]=!0,_&&(this[_0x4962("0x48")]=_,this.init(_))}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x39"),value:function(x){var _=(0,a.default)(_0x4962("0x1cd")).attr("class",_0x4962("0x11d2"))[_0x4962("0x25")]({zIndex:10,position:_0x4962("0xd3d"),backgroundColor:"white",boxShadow:this.defaultShadow_,borderRadius:this[_0x4962("0x11d0")]})[_0x4962("0x472")],e=(0,a[_0x4962("0xc")])(_0x4962("0x1cd")).attr(_0x4962("0xbdf"),"zoom-in-btn")[_0x4962("0x25")]({padding:this.padding_+"px",cursor:_0x4962("0x1153"),height:this.h_}).addEvent(_0x4962("0xa51"),this.scaleLevelIn.bind(this))[_0x4962("0x472")],t=(0,a.default)(_0x4962("0x545"))[_0x4962("0x473")](_0x4962("0x4ee"),this.imgURL_+_0x4962("0x11d3"))[_0x4962("0x25")]({width:this.w_-2*this.padding_+"px",height:this.h_-2*this[_0x4962("0x11cb")]+"px"}).element;e[_0x4962("0x28")](t);var i=(0,a.default)(_0x4962("0x1cd")).attr("class",_0x4962("0x11d4"))[_0x4962("0x25")]({padding:this.padding_+"px",cursor:"pointer",height:this.h_})[_0x4962("0x474")](_0x4962("0xa51"),this[_0x4962("0xaba")][_0x4962("0xe")](this))[_0x4962("0x472")],n=(0,a[_0x4962("0xc")])(_0x4962("0x545"))[_0x4962("0x473")]("src",this[_0x4962("0x11d5")]+_0x4962("0x11d6"))[_0x4962("0x25")]({width:this.w_-2*this[_0x4962("0x11cb")]+"px",height:this.h_-2*this[_0x4962("0x11cb")]+"px"})[_0x4962("0x472")];i[_0x4962("0x28")](n),_[_0x4962("0x28")](e),_[_0x4962("0x28")](this[_0x4962("0x11d7")]()),_[_0x4962("0x28")](i);var r=x[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x7ac")](_0x4962("0x336"))[0];x[_0x4962("0x1c6")][_0x4962("0x547")][_0x4962("0x749")](_,r),this[_0x4962("0x11d8")](_),this[_0x4962("0x11d9")]()}},{key:_0x4962("0x11d9"),value:function(){if(this[_0x4962("0x48")]){var x=this;this[_0x4962("0x48")].on("update",(function(){var _=document[_0x4962("0x1177")](_0x4962("0x11da"));x[_0x4962("0x11d8")](_)}))}}},{key:_0x4962("0x11d8"),value:function(x,_){switch(this[_0x4962("0x11cc")]){case 1:(0,a[_0x4962("0xc")])(x)[_0x4962("0x25")]({top:this[_0x4962("0x11cd")]+this.y_+"px",left:this[_0x4962("0x11ce")]+this.x_+"px"});break;case 2:_=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x11db")][_0x4962("0x2a")]-x.clientHeight-60;(0,a[_0x4962("0xc")])(x).style({top:_-this.y_+"px",left:this[_0x4962("0x11ce")]+this.x_+"px"});break;case 3:(0,a[_0x4962("0xc")])(x)[_0x4962("0x25")]({top:this[_0x4962("0x11cd")]+this.y_+"px",right:this[_0x4962("0x11dc")]+this.x_+"px"});break;case 4:_=this[_0x4962("0x48")].mapView.container_[_0x4962("0x2a")]-x[_0x4962("0x503")]-60;(0,a[_0x4962("0xc")])(x)[_0x4962("0x25")]({top:_-this.y_+"px",right:this[_0x4962("0x11dc")]+this.x_+"px"})}}},{key:"hrEl",value:function(){return(0,a[_0x4962("0xc")])("hr")[_0x4962("0x25")]({height:_0x4962("0x11dd"),border:_0x4962("0x612"),borderTop:_0x4962("0x11de"),width:_0x4962("0x11df"),margin:_0x4962("0x11e0"),filter:_0x4962("0x11e1")})[_0x4962("0x472")]}},{key:_0x4962("0xaba"),value:function(x){this.map&&this[_0x4962("0x48")][_0x4962("0xaba")](),_0x4962("0x121")==typeof x&&x(this[_0x4962("0x11e2")])}},{key:_0x4962("0xab9"),value:function(x){this[_0x4962("0x48")]&&this[_0x4962("0x48")][_0x4962("0xab9")](),_0x4962("0x121")==typeof x&&x(this[_0x4962("0x11e2")])}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=p(e(47)),i=p(e(15)),a=p(e(64)),n=p(e(33)),r=p(e(23)),s=p(e(9)),o=p(e(7)),c=p(e(8)),l=p(e(2)),f=p(e(0)),d=p(e(1)),u=p(e(72)),h=e(84),g=p(e(365)),b=e(19),v=e(20);function p(x){return x&&x.__esModule?x:{default:x}}var m=new(u[_0x4962("0xc")]),A=new(u[_0x4962("0xc")]),y=new u.default,C=new(u[_0x4962("0xc")]),I={x:0,y:0},E={"ä¸è¡":"up","ä¸è¡":_0x4962("0x11e3"),"å·¦è½¬":_0x4962("0x35e"),"å³è½¬":_0x4962("0x361"),"å·¦åæ¹ç´è¡":"keepLeft","å³åæ¹ç´è¡":_0x4962("0x11e4"),"ç´è¡":_0x4962("0x692"),"å³å°å°è¾¾ç®çå°":_0x4962("0x11e5")},w=function(){function x(_){(0,f[_0x4962("0xc")])(this,x),this.appKey=null,this[_0x4962("0x11e6")]=0,this[_0x4962("0x11e7")]=[new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")][_0x4962("0xc11")]),new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0xc11")])],this[_0x4962("0x11e8")]=[],this[_0x4962("0x11e9")]=[_0x4962("0x11ea"),_0x4962("0x11eb")],this[_0x4962("0x404")]=[],this[_0x4962("0x11ec")]=null,this.realNaviClock=null,this[_0x4962("0x11ed")]=null,this[_0x4962("0x11ee")]=_0x4962("0x38e"),this[_0x4962("0x11ef")]=.01086500000124215,this.timer=new(THREE[_0x4962("0x1ea")]),this[_0x4962("0x11f0")]=[],this[_0x4962("0x11f1")]={},this.lastAngle=null,this.isCrossingFuti=!1,this[_0x4962("0x11f2")]={},this.curLadder=null,this[_0x4962("0x11f3")]=!0,this.isNaving=!1,this[_0x4962("0x2b3")]=!1,this[_0x4962("0x11f4")]=(new Date)[_0x4962("0x86")](),this[_0x4962("0x11f5")]=null,this.toSubDis=0,this[_0x4962("0x11f6")]={},this[_0x4962("0x11f7")]=null,this.blockList=[],this[_0x4962("0x11f8")]={index:0,dis2next:0},this.audioPlayed={},this[_0x4962("0x182")]={deviateCount:0,arrivalCount:0,backcount:0,surDistance:0},this._toPos=null,this[_0x4962("0x11f9")]=null,this[_0x4962("0x11fa")]=0,this[_0x4962("0x11fb")]=0,this[_0x4962("0x11fc")]=!1,this[_0x4962("0x11fd")]=null,this[_0x4962("0x11fe")]=null,this[_0x4962("0x11ff")]=null,this[_0x4962("0x1200")]=null,this[_0x4962("0x1201")]=null,this[_0x4962("0x1202")]=0,this.routePlanner=new(g[_0x4962("0xc")]);var e=this;em.Evento[_0x4962("0x1e4")](e),(0,l[_0x4962("0xc")])(e,{map:esmap[_0x4962("0x33")][_0x4962("0x3a")],changeTiltAngle:!0,speed:4,followPosition:!0,followAngle:!1,followGap:0,lockViewMove:!1,isMultiFloors:0,showMultiFloor:!1,flyToFocus:!0,inTime:1.2,tiltAngle:10,changeFloorTiltAngle:30,minScale:.2,scaleLevel:1,rotateTimer:0,linkStartEnd:!0,linkMinDistance:1,height:0,mode:1,reRouteDis:null,offsetHeight:1,arrivalCount:3,parkAriveDelay:2,directionAssert:10,combineAsset:3,autoStop:!0,locationMarkerSpritify:1,locationMarkerSeeThough:!1,autoClearNaviLine:!1,audioPlay:!1,audioTipEnd:!0,reRouteLimit:5,crossPauseTime:1.5,tipDistance:6,locationMarkerOptions:{},lineStyle:{lineType:esmap.ESLineType.ESARROW,curvature:0,color:"#33cc61",lineWidth:6,offsetHeight:.5},ladderType:1,maxEnd:2,scaleAnimate:!0,isAnimate:1,audioCountDown:20,bestViewMinDistance:5},_),e.lineStyle[_0x4962("0xa44")]=!0;var t=e[_0x4962("0x48")];if(e.audioPlay){if(!t[_0x4962("0xa2b")])try{t.initESAudioTool()}catch(x){console[_0x4962("0x293")]("init audiotool error")}}else t[_0x4962("0xa2b")]||(t[_0x4962("0xa2b")]={playSoundByName:function(){}});this[_0x4962("0x1203")][_0x4962("0x1204")]=this[_0x4962("0x1204")]}var _,e;return(0,d[_0x4962("0xc")])(x,[{key:"setPreferCrosses",value:function(x){this.routePlanner[_0x4962("0x1205")](x)}},{key:_0x4962("0x1206"),value:function(x,_){if(this[_0x4962("0x1207")](),!this._isEnd_&&this[_0x4962("0x1b2")](),this[_0x4962("0x404")][_]=(0,l[_0x4962("0xc")])({bid:this[_0x4962("0x48")].id},this[_0x4962("0x404")][_],x),!x[_0x4962("0x1208")]){this[_0x4962("0x11e8")][_]&&this.navMarker[_][_0x4962("0xf5")]();var e=x[_0x4962("0x4d")]||this[_0x4962("0x11e9")][_],t=this.navLayer[_],i=this[_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&this[_0x4962("0x48")][_0x4962("0x3b")].useScaleLevel?23:12,a=null==x.height?6:x.height,n=new(esmap[_0x4962("0x640")])({name:x[_0x4962("0x107")],x:x.x,y:x.y,image:e,imageStyle:x[_0x4962("0x10e7")],text:x[_0x4962("0x327")],textStyle:x[_0x4962("0xc39")],height:a,seeThrough:x.seeThrough||!1,showLevel:x.showLevel||i,scale:x[_0x4962("0x1fe")]||1,size:x[_0x4962("0xdd")]||_0x4962("0x33a"),pickable:x.pickable||!0,renderOrder:x.renderOrder,callback:function(){x[_0x4962("0x1b3")]&&x[_0x4962("0x1b3")](n)}});t.addMarker(n),this[_0x4962("0x11e8")][_]=n;var r=x[_0x4962("0x130")]||this[_0x4962("0x48")].id,s=this.map.getBuildingById(r),o=x[_0x4962("0x132")]||1;s[_0x4962("0x673")](o)[_0x4962("0x406")](t)}}},{key:_0x4962("0x1209"),value:function(x){var _=this[_0x4962("0x48")],e=null==x[_0x4962("0x1a5")]?1:x[_0x4962("0x1a5")],t="3D"===_[_0x4962("0x387")];x[_0x4962("0x2")]("tiltAngle")&&t&&_[_0x4962("0xab1")]({angle:x[_0x4962("0x330")],time:e}),x.hasOwnProperty(_0x4962("0x1f6"))?_[_0x4962("0x120a")]({value:x[_0x4962("0x1f6")],time:e}):x[_0x4962("0x2")](_0x4962("0x21e"))&&_[_0x4962("0x9f1")]({value:x[_0x4962("0x21e")],time:e}),x[_0x4962("0x2")](_0x4962("0x230"))&&_.rotateTo({angle:x[_0x4962("0x234")],time:e}),x[_0x4962("0x2")](_0x4962("0x1b5"))&&_[_0x4962("0x331")]({x:x[_0x4962("0x1b5")].x,y:x[_0x4962("0x1b5")].y,time:.5*e,height:x[_0x4962("0x1b5")].z}),x[_0x4962("0x1b0")]&&setTimeout(x[_0x4962("0x1b0")],1e3*e)}},{key:_0x4962("0x120b"),value:function(x){this[_0x4962("0x120c")]||(this[_0x4962("0x120c")]=this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2b0")]),x?this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2b0")]=x:this[_0x4962("0x48")][_0x4962("0x260")].maxDistance=this[_0x4962("0x120c")]}},{key:_0x4962("0x120d"),value:function(x){this._createMarker(x,0)}},{key:_0x4962("0x120e"),value:function(x){this._createMarker(x,1)}},{key:_0x4962("0x120f"),value:function(){this[_0x4962("0x404")][0]&&this[_0x4962("0x404")][1]&&(this[_0x4962("0x11f7")]=null,this[_0x4962("0x1207")](),this.getRouteResult({drawRoute:!0}))}},{key:"setNaviData",value:function(x){this[_0x4962("0xcc5")](),this[_0x4962("0x404")][0]={x:x[0][_0x4962("0x1210")][0].x,y:x[0][_0x4962("0x1210")][0].y,fnum:x[0].fnum};var _=x[x.length-1][_0x4962("0x1210")];this[_0x4962("0x404")][1]={x:_[_[_0x4962("0x0")]-1].x,y:_[_[_0x4962("0x0")]-1].y,fnum:x[x[_0x4962("0x0")]-1].fnum},this[_0x4962("0x1211")]={result:x},this[_0x4962("0x11ec")]=this[_0x4962("0x1211")][_0x4962("0xcd3")],this[_0x4962("0x1212")]();var e=this[_0x4962("0x1213")](this[_0x4962("0x11ec")]);this[_0x4962("0x11f0")]=e[0],this.naviDescriptionsData=e[1],this[_0x4962("0x11e6")]=e[2],this[_0x4962("0x1214")]()}},{key:"_getFloorsPoints",value:function(){var x=this[_0x4962("0x1211")].result;if(x){for(var _=[],e=null,t=null,i=0;i<x.length;i++){var a=x[i],n=e==a.fnum;0==a[_0x4962("0x0")]&&0!=i&&i!=x.length-1||(n||(e=a.fnum,t&&_[_0x4962("0x3")](t),t={fnum:a[_0x4962("0x132")],pointList:[]}),Array.prototype.push[_0x4962("0x2a4")](t[_0x4962("0x1210")],a.pointList))}return t&&_[_0x4962("0x3")](t),this[_0x4962("0x1215")]=_,_}}},{key:_0x4962("0x29a"),value:function(){this.getRouteResult()}},{key:_0x4962("0x1216"),value:function(){for(var x=[],_=this[_0x4962("0x1211")][_0x4962("0xcd3")],e=0;e<_[_0x4962("0x0")];e++)if(0==_[e][_0x4962("0x0")]&&1==_[e][_0x4962("0x1210")][_0x4962("0x0")]){var t=(0,l[_0x4962("0xc")])({},_[e][_0x4962("0x1210")][0]);_[e][_0x4962("0x1210")][0].id;if(t.id){var i=this[_0x4962("0x1203")][_0x4962("0x1217")](t[_0x4962("0x130")],t.id);t[_0x4962("0x88")]=i[_0x4962("0x88")]||0,x.push(t)}}return x}},{key:"queryByPoints",value:function(x){var _,e=[],t=this.mode,i=this[_0x4962("0x1218")],a=this[_0x4962("0x48")],n=0;if(!esmap.ESMapUtil[_0x4962("0x655")](1))return v[_0x4962("0x37")][_0x4962("0x1dc")]({msg:[""+esmap[_0x4962("0x289")][_0x4962("0xa8a")]],level:_0x4962("0xe0")}),[];for(var r=0;r<x[_0x4962("0x0")]-1;r++){var s=x[r];s[_0x4962("0x130")]||(s[_0x4962("0x130")]=this[_0x4962("0x48")].id);var o=x[r+1];if(o[_0x4962("0x130")]||(o[_0x4962("0x130")]=this[_0x4962("0x48")].id),s.x!==o.x||s.y!==o.y){!_&&(_=s[_0x4962("0x132")]);var c=this[_0x4962("0x1203")][_0x4962("0x1219")]({bid:a[_0x4962("0xb69")],startPoint:s,endPoint:o,mode:t,ladderType:i,linkStartEnd:this[_0x4962("0x121a")],linkMinDistance:this[_0x4962("0x121b")],useAMap:!1,type:null});c&&(n+=c[_0x4962("0x121c")],c[_0x4962("0xcd3")].forEach((function(x,_,t){e[_0x4962("0x3")](x)})))}}for(var l={},f=0;f<e.length;f++)for(var d=0;d<e[f].pointList.length;d++)l[e[f][_0x4962("0x1210")][d].id]?d!=e[f].pointList[_0x4962("0x0")]-1&&(e[f][_0x4962("0x1210")][d].x+=.2,e[f][_0x4962("0x1210")][d].y+=.2):l[e[f][_0x4962("0x1210")][d].id]=1;for(var u=0;u<e.length-1;u++)e[u][_0x4962("0x132")]==e[u+1].fnum&&0!=e[u].length&&0!=e[u+1][_0x4962("0x0")]&&(e[u].length+=e[u+1].length,e[u].pointList=e[u][_0x4962("0x1210")].concat(e[u+1][_0x4962("0x1210")]),e.splice(u+1,1),u--);this[_0x4962("0x404")][0]={x:x[0].x,y:x[0].y,fnum:x[0][_0x4962("0x132")],bid:x[0][_0x4962("0x130")]},this.navData[1]={x:x[x[_0x4962("0x0")]-1].x,y:x[x[_0x4962("0x0")]-1].y,fnum:x[x[_0x4962("0x0")]-1].fnum,bid:x[x[_0x4962("0x0")]-1][_0x4962("0x130")]},this[_0x4962("0x1211")]={result:e,isMultiPointsNav:!0,costDistance:n},this._naviResult=e,this[_0x4962("0x1212")]();x=this[_0x4962("0x1213")](this[_0x4962("0x11ec")]);this.naviDescriptions=x[0],this.naviDescriptionsData=x[1],this[_0x4962("0x11e6")]=x[2]}},{key:_0x4962("0x121d"),value:function(x){var _=x[0],e=x[1];_[_0x4962("0x130")]||(_[_0x4962("0x130")]=map.sceneId_),_[_0x4962("0x132")]||(_[_0x4962("0x132")]=1),e[_0x4962("0x130")]||(e[_0x4962("0x130")]=map[_0x4962("0xb69")]),e[_0x4962("0x132")]||(e[_0x4962("0x132")]=1);var t=this[_0x4962("0x48")].transformCoord({from:this[_0x4962("0x48")][_0x4962("0x3b")].userCrs,to:this.map[_0x4962("0x1b8")],coord:{x:_.x,y:_.y}}),i=this[_0x4962("0x48")][_0x4962("0x1b7")]({from:this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1ba")],to:this.map[_0x4962("0x1b8")],coord:{x:e.x,y:e.y}});return[(0,l[_0x4962("0xc")])({},_,t),(0,l.default)({},e,i)]}},{key:_0x4962("0x121e"),value:(e=(0,c[_0x4962("0xc")])(o[_0x4962("0xc")].mark((function x(){var _,e,t,i,a,n,r,s=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};return o.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return s=(0,l[_0x4962("0xc")])({mode:1,type:_0x4962("0x121f")},s),_=this[_0x4962("0x121d")]([s[_0x4962("0x1b1")],s[_0x4962("0x308")]]),e=_[0],t=_[1],i=s[_0x4962("0x3c")],a=this[_0x4962("0x48")],x[_0x4962("0x286")]=8,this[_0x4962("0x1203")][_0x4962("0x1219")]({bid:a[_0x4962("0xb69")],startPoint:e,endPoint:t,mode:i,ladderType:this[_0x4962("0x1218")],linkStartEnd:this[_0x4962("0x121a")],linkMinDistance:this[_0x4962("0x121b")],useAMap:!0,type:s[_0x4962("0x9d")]});case 8:n=x[_0x4962("0x33c")],r=null,n.pointList&&n[_0x4962("0x1210")][_0x4962("0x0")]>0&&(r=this[_0x4962("0x48")].transformCoordArray({from:this[_0x4962("0x48")][_0x4962("0x1b8")],to:this.map.DEFAULT_COORDSYSTEM,coords:n[_0x4962("0x1210")]})),s[_0x4962("0x1b3")]&&s[_0x4962("0x1b3")](r);case 12:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x1219"),value:(_=(0,c[_0x4962("0xc")])(o[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _,e,t,i,a,n,r,c,f,d,u,h,g,b,v,p,m,A,y,C,I,E,w,T,k,M,S=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return x.next=2,new(s[_0x4962("0xc")])((function(x){setTimeout(x,0)}));case 2:if(x.prev=2,_=R.drawRoute||!1,e=R[_0x4962("0x1220")]||!1,t=R.type||"driving",!this[_0x4962("0x404")][0]||!this.navData[1]){x[_0x4962("0x286")]=59;break}if(i=this[_0x4962("0x3c")],a=this[_0x4962("0x48")],n=this[_0x4962("0x121d")](this.navData),r=n[0],c=n[1],!e){x.next=27;break}return this[_0x4962("0x11ee")]=_0x4962("0x1221"),x.next=16,this.routePlanner[_0x4962("0x1219")]({bid:a[_0x4962("0xb69")],startPoint:r,endPoint:c,mode:i,ladderType:this[_0x4962("0x1218")],linkStartEnd:this[_0x4962("0x121a")],linkMinDistance:this[_0x4962("0x121b")],useAMap:e,type:t});case 16:f=x[_0x4962("0x33c")],d=f[_0x4962("0x1222")],u=f.distance,h=f.des,g=f[_0x4962("0x1210")],this[_0x4962("0x1223")]=h,this[_0x4962("0x1224")]=d.map((function(x){var _=new(THREE[_0x4962("0x12c")]);(0,l.default)(_,x);var e=S[_0x4962("0x48")][_0x4962("0x1b7")]({from:S.map[_0x4962("0x1b8")],to:S.map[_0x4962("0x3e9")],coord:{x:x.x,y:x.z}});return _.x=e.x,_.z=e.y,_})),this[_0x4962("0x11e6")]=u,b=this[_0x4962("0x48")][_0x4962("0x3fd")]({from:this[_0x4962("0x48")][_0x4962("0x1b8")],to:this[_0x4962("0x48")].DEFAULT_COORDSYSTEM,coords:g}),_&&(v=new(esmap[_0x4962("0x401")])({id:_0x4962("0x1225"),bid:0,points:b,style:this[_0x4962("0x10b7")]}),this[_0x4962("0x10b7")].renderOrder&&setTimeout((function(){v.renderOrder=S[_0x4962("0x10b7")].renderOrder}),0),this[_0x4962("0x1226")]=v,this[_0x4962("0x48")][_0x4962("0x403")](v)),this[_0x4962("0x227")](_0x4962("0x493"),b),x[_0x4962("0x286")]=59;break;case 27:if(this[_0x4962("0x11ee")]=_0x4962("0x38e"),this[_0x4962("0x1211")]=this[_0x4962("0x1203")][_0x4962("0x1219")]({bid:a[_0x4962("0xb69")],startPoint:r,endPoint:c,mode:i,ladderType:this[_0x4962("0x1218")],linkStartEnd:this[_0x4962("0x121a")],linkMinDistance:this[_0x4962("0x121b")],useAMap:e,type:t}),this[_0x4962("0x1211")]&&this[_0x4962("0x1211")][_0x4962("0x121c")]){x.next=31;break}throw _0x4962("0x1227");case 31:if(this[_0x4962("0x48")].mode!=esmap[_0x4962("0x40")][_0x4962("0x41")]){x[_0x4962("0x286")]=51;break}p=0;case 33:if(!(p<this[_0x4962("0x1211")][_0x4962("0xcd3")][_0x4962("0x0")])){x.next=50;break}m=this[_0x4962("0x1211")][_0x4962("0xcd3")][p][_0x4962("0x1210")],x.t0=o[_0x4962("0xc")][_0x4962("0xaf3")](m);case 36:if((x.t1=x.t0()).done){x[_0x4962("0x286")]=47;break}if(A=x.t1.value,!(y=m[A])[_0x4962("0x1228")]){x[_0x4962("0x286")]=41;break}return x[_0x4962("0x28b")](_0x4962("0x692"),36);case 41:C=this.map[_0x4962("0x1b7")]({from:this.map[_0x4962("0x1b8")],to:this[_0x4962("0x48")].options[_0x4962("0x1ba")],coord:{x:y.x,y:y.y}}),y.x=C.x,y.y=C.y,y[_0x4962("0x1228")]=!0,x[_0x4962("0x286")]=36;break;case 47:p++,x[_0x4962("0x286")]=33;break;case 50:this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xf80")]||(I=!1,E=null,w=null,r[_0x4962("0x130")]===this[_0x4962("0x48")].id?I=!0:(E=r[_0x4962("0x130")],w=r[_0x4962("0x132")]),c[_0x4962("0x130")]===this.map.id?I=!0:(E=c[_0x4962("0x130")],w=c[_0x4962("0x132")]),I&&r[_0x4962("0x130")]!==c[_0x4962("0x130")]&&(T=this.map[_0x4962("0x139")](E))[_0x4962("0x3b")][_0x4962("0xcaf")]>0&&(k=T[_0x4962("0x3b")][_0x4962("0xcaf")]+1,w<k&&(T.visibleFloorNums=T.floorNums[_0x4962("0x1e7")](0,k))));case 51:this._naviResult=this[_0x4962("0x1211")][_0x4962("0xcd3")],this[_0x4962("0x1212")](),M=this[_0x4962("0x1213")](this[_0x4962("0x11ec")]),this[_0x4962("0x11f0")]=M[0],this[_0x4962("0x1229")]=M[1],this[_0x4962("0x11e6")]=M[2],_&&this.drawNaviLine(),this[_0x4962("0x227")](_0x4962("0x493"),this.outcome);case 59:x[_0x4962("0x286")]=65;break;case 61:x[_0x4962("0x285")]=61,x.t2=x[_0x4962("0x880")](2),console[_0x4962("0xe0")](x.t2),this[_0x4962("0x227")]("error",x.t2);case 65:case _0x4962("0x308"):return x.stop()}}),x,this,[[2,61]])}))),function(){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x122a"),value:function(){var x=this[_0x4962("0x48")],_=this.outcome;for(var e in _[_0x4962("0xcd3")]){var t=_[_0x4962("0xcd3")][e][_0x4962("0x1210")];for(var i in t){var a=t[i],n=(0,l.default)({},a);if(!n[_0x4962("0x1228")]){var r=x[_0x4962("0x1b7")]({from:x[_0x4962("0x1b8")],to:x[_0x4962("0x3b")].userCrs,coord:{x:a.x,y:a.y}});n.x=r.x,n.y=r.y,n._trs=!0,t[i]=n}}}}},{key:"clearLocationMarker",value:function(){var x=y[_0x4962("0xdb")](this);x&&(this[_0x4962("0x48")][_0x4962("0x194")].findAndDelete(x[_0x4962("0xf2")]),x&&(this[_0x4962("0x48")][_0x4962("0x122b")](x),y[_0x4962("0xd8")](this,null)))}},{key:_0x4962("0x122c"),value:function(){for(var x=0;x<2;x++)this[_0x4962("0x11e8")][x]&&(this.navMarker[x].dispose(),this.navMarker[x]=null,this[_0x4962("0x404")][x]=null);this._naviResult=null}},{key:"removeStartMarker",value:function(){this[_0x4962("0x11e8")][_0x4962("0x0")]>0&&this[_0x4962("0x11e8")][0]&&(this[_0x4962("0x11e8")][0][_0x4962("0xf5")](),this[_0x4962("0x11e8")][0]=null,this.navData[0]=null,this[_0x4962("0x11ec")]=null)}},{key:_0x4962("0x122d"),value:function(){this[_0x4962("0x11e8")][_0x4962("0x0")]>0&&this[_0x4962("0x11e8")][1]&&(this[_0x4962("0x11e8")][1][_0x4962("0xf5")](),this.navMarker[1]=null,this[_0x4962("0x404")][1]=null,this[_0x4962("0x11ec")]=null)}},{key:_0x4962("0x1207"),value:function(){this[_0x4962("0x48")][_0x4962("0xa3b")](_0x4962("0x1225"))}},{key:_0x4962("0xcc5"),value:function(){this[_0x4962("0x1b2")](),this.clearMarkers(),this[_0x4962("0x1207")](),this[_0x4962("0x122e")](),this.navData[0]=null,this[_0x4962("0x404")][1]=null}},{key:"_drawLines",value:function(x,_){var e=this;(_=null==_||_)&&e[_0x4962("0x1207")]();for(var t=[],i=0;i<x[_0x4962("0x0")];i++){var a=x[i][_0x4962("0x303")],n=(0,l[_0x4962("0xc")])({},a);if(n._trs)t.push(n);else{var r=e.map[_0x4962("0x1b7")]({from:e[_0x4962("0x48")][_0x4962("0x1b8")],to:e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1ba")],coord:{x:a.x,y:a.y}});n.x=r.x,n.y=r.y,n[_0x4962("0x1228")]=!0,t[_0x4962("0x3")](n)}}e[_0x4962("0x122f")](t,_)}},{key:_0x4962("0x122f"),value:function(x,_){var e=this;(_=null==_||_)&&this.clearNaviLines();var t=new esmap.ESLineMarker({id:_0x4962("0x1225"),name:_0x4962("0x1225"),points:x,style:this[_0x4962("0x10b7")],renderOrder:this[_0x4962("0x10b7")][_0x4962("0x170")]});this[_0x4962("0x10b7")].renderOrder&&setTimeout((function(){t.renderOrder=e.lineStyle[_0x4962("0x170")]}),0),this.lineObj=t,_0x4962("0x16a")==this[_0x4962("0x10b7")][_0x4962("0x9d")]||_0x4962("0x62c")==this[_0x4962("0x10b7")][_0x4962("0x9d")]?this.lineStyle.yScale=.3:this.lineStyle[_0x4962("0x1230")]=1,this[_0x4962("0x48")][_0x4962("0x403")](t)}},{key:_0x4962("0x1214"),value:function(x,_){if(this[_0x4962("0x1207")](),this.navData[0]&&this[_0x4962("0x404")][1]&&this[_0x4962("0x1211")]){this[_0x4962("0x10b7")].up=new(THREE[_0x4962("0x12c")])(0,1,0),this[_0x4962("0x10b7")][_0x4962("0x1231")]=!1,!this[_0x4962("0x1232")]&&_&&this[_0x4962("0x1207")]();this[_0x4962("0x1233")](this[_0x4962("0x1224")],this[_0x4962("0x1232")]),this[_0x4962("0x1234")](),this[_0x4962("0x1211")][_0x4962("0x1235")]&&this[_0x4962("0x227")](_0x4962("0x493"),this[_0x4962("0x1211")])}}},{key:_0x4962("0x1236"),value:function(x){if(this[_0x4962("0x11ec")]){var _=this[_0x4962("0x11ec")][0][_0x4962("0x1210")][0],e=this[_0x4962("0x11ec")][0][_0x4962("0x132")],t=this[_0x4962("0x11ec")][0].bid||0;x=null==x?3:x,this[_0x4962("0x695")][_0x4962("0x22c")]({x:_.x,y:_.y,bid:t,fnum:e,offsetHeight:_.z+(x||1.01*this.offsetHeight)})}}},{key:_0x4962("0x1237"),value:function(x,_,e){return null==_&&(_=0),this[_0x4962("0x48")].moveTo({x:x.x,y:x.y,time:_,FloorNum:x[_0x4962("0x132")],callback:e})}},{key:_0x4962("0x1238"),value:function(x){if(this[_0x4962("0x1239")]){for(var _=0;_<x[_0x4962("0x0")];_++)"string"==typeof x[_]&&x[_][_0x4962("0x2a8")](/\s/)&&x[_0x4962("0x4")][_0x4962("0x2a4")](x,[_,1][_0x4962("0x12")]((0,r[_0x4962("0xc")])(x[_][_0x4962("0x2d")](" "))));this.map[_0x4962("0xa2b")].playAudioByText(x)}}},{key:_0x4962("0x123a"),value:function(x){E[x]&&this.lastNavCode!=E[x]&&(this[_0x4962("0x11f5")]=E[x],this[_0x4962("0x227")](_0x4962("0x123b"),this[_0x4962("0x11f5")]))}},{key:_0x4962("0x123c"),value:function(x){var _=this[_0x4962("0x48")],e=_.mapView[_0x4962("0x669")][_0x4962("0x66e")];return{radius:"3D"==_[_0x4962("0x387")]?x/(2*Math[_0x4962("0x671")](e/2*Math.PI/180)):x/(2*Math.tan(e/2*Math.PI/180))}}},{key:_0x4962("0x123d"),value:function(x,_,e){}},{key:"_broadcast",value:function(x,_,e,t,i){var a=this,n=a[_0x4962("0x11f0")][x],r=a.naviDescriptionsData[x],s=a[_0x4962("0x11f0")][x+1],o=a[_0x4962("0x1229")][x+1],c=(a[_0x4962("0x11f0")][_0x4962("0x0")],r[_0x4962("0x23b")]-_),l=1==a[_0x4962("0x3c")]?a[_0x4962("0x1244")]+5:a[_0x4962("0x1244")]+12,f=a.map[_0x4962("0x7f")][_0x4962("0xaea")],d=null,u="",h=!1;if(e<=l)d=f[_0x4962("0x1245")](_0x4962("0xf3f")),a[_0x4962("0x1246")].tipAlmosted||(a[_0x4962("0x123a")]("å³å°å°è¾¾ç®çå°"),a[_0x4962("0x1238")](["å³å°å°è¾¾ç®çå°"]),a[_0x4962("0x1246")].tipAlmosted=!0);else if(e<=a.maxEnd)d=f.getDesFromNavLib("å·²å°è¾¾ç®çå°éè¿"),a[_0x4962("0x1246")][_0x4962("0x1247")]||(a.audioPlayed.tipEnded=!0);else if(a[_0x4962("0x2af")]&&a[_0x4962("0x123d")](r,c,_),1==a[_0x4962("0x3c")])!r[_0x4962("0x1248")]&&c>=1&&(a[_0x4962("0x123a")](n[0]),u=[n[0],Math[_0x4962("0xff")](_)-2,"ç±³","å",n[2]],a.playAudio(u),r[_0x4962("0x1248")]=!0),_<=a[_0x4962("0x1249")]?(d=f[_0x4962("0x1245")](n[2]),r.manModeTipEnded||(a[_0x4962("0x123a")](n[2]),u=[n[2]],a.playAudio(u),r.manModeTipEnded=!0),h=!0):_>=20&&c>=r[_0x4962("0x124a")]&&(a[_0x4962("0x123a")]("ç´è¡"),r[_0x4962("0x124a")]+=30,u=[Math.ceil(_)-2,"ç±³","å",n[2]],a.playAudio(u));else if(!r.carModeTipStarted&&c>=1&&(u=[n[0],Math.ceil(_)-2,"ç±³","å",n[2]],a[_0x4962("0x1238")](u),r[_0x4962("0x124b")]=!0),_<=12&&(d=o[_0x4962("0x23b")]<=12?f[_0x4962("0x1245")](n[2])+f[_0x4962("0x1245")]("å")+f[_0x4962("0x1245")](s[2]):f[_0x4962("0x1245")](n[2])),_<=12&&!r[_0x4962("0x124c")]){if(o[_0x4962("0x23b")]<12&&"ç»"!=o[_0x4962("0x124d")]){var g=n[2],b=s[2];n[2][_0x4962("0xaf")]("å·¦")>-1?g="å·¦è½¬":n[2][_0x4962("0xaf")]("å³")>-1&&(g="å³è½¬"),s[2][_0x4962("0xaf")]("å·¦")>-1?b="å·¦è½¬":s[2][_0x4962("0xaf")]("å³")>-1&&(b="å³è½¬"),a[_0x4962("0x123a")](b),u=[g+"å"+b],a[_0x4962("0x1238")](u),h=!0}else u=[n[2]],a[_0x4962("0x1238")](u),a[_0x4962("0x123a")](n[2]);r.carModeTipEnded=!0}else r.distance>=50&&_<=37?r[_0x4962("0x124e")]||(a[_0x4962("0x1238")]([_0x4962("0xf4b")]),r[_0x4962("0x124e")]=!0):c>=r[_0x4962("0x124f")]&&(r.carWalkedCount+=40,u=[Math[_0x4962("0xff")](_)-2,"ç±³","å",n[2]],a[_0x4962("0x1238")](u));a[_0x4962("0x1229")][x][_0x4962("0x1250")]||(a[_0x4962("0x1229")][x][_0x4962("0x1250")]=!0),d||(a[_0x4962("0x123a")](n[0]),d=f.getDesFromNavLib(n[0])+" "+Math[_0x4962("0xff")](_)+" "+f[_0x4962("0x1245")]("ç±³")+" "+f[_0x4962("0x1245")]("å")+" "+f[_0x4962("0x1245")](n[2])),a[_0x4962("0x1251")]=d,t&&h?(null===this._walkingCrossTime&&(this[_0x4962("0x1202")]=(new Date)[_0x4962("0x86")]()),i-this._walkingCrossTime<1e3*this.crossPauseTime?this[_0x4962("0x11ef")]=0:0===this[_0x4962("0x11ef")]&&(this[_0x4962("0x11ef")]=.01086500000124215)):null!=this[_0x4962("0x1202")]&&(this[_0x4962("0x1202")]=null)}},{key:"_checkDeviated",value:function(x,_){for(var e=x[_0x4962("0x132")],t={x:x.x,y:x.y},i=x[_0x4962("0x130")]||this[_0x4962("0x48")].sceneId_,r=this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x89b")][i][_0x4962("0xd8f")][e-1][_0x4962("0xd4d")],s=this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x89b")][i][_0x4962("0xd8f")][e-1][_0x4962("0xd4b")],o=this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][i].nearbyLine,c=(new(n[_0x4962("0xc")]),new(a[_0x4962("0xc")])),l=new n.default,f=0;f<this[_0x4962("0x1211")][_0x4962("0xcd3")][_0x4962("0x0")];f++){this[_0x4962("0x1211")].result[f][_0x4962("0x1254")][_0x4962("0x20")]((function(x){l[_0x4962("0xda")](1*x)}))}for(var d in r){var u=r[d],g={x:u.X,y:u.Y};if((0,h[_0x4962("0x11d")])(g,x)<100){var b=o[u._id];if(b)for(var v in b){var p=1*b[v];if(!l[_0x4962("0x1255")](p)){var m=s[p];if(m&&!c.has(p)){var A=r[m[_0x4962("0xe72")]==u[_0x4962("0x3df")]?m.eid:m[_0x4962("0xe72")]];if(A){if((0,h[_0x4962("0x1256")])({x:t.x,y:t.y},{x:u.X,y:u.Y},{x:A.X,y:A.Y},{})<_)return!0;c.set(p,!0)}}}}}}return!1}},{key:_0x4962("0x1257"),value:function(x,_,e,t){var i=this,a=i[_0x4962("0x182")],n=this.navMode,r=(new Date)[_0x4962("0x86")]();if(i[_0x4962("0x1258")]&&r-i[_0x4962("0x1259")]>250*i[_0x4962("0x125a")]&&(i.isCrossingFuti=!1,i[_0x4962("0x1259")]=(new Date)[_0x4962("0x86")]()),!i[_0x4962("0x1258")]){var s="3"==i[_0x4962("0x1203")][_0x4962("0x1218")]?3:1,o=i.reRouteDis?i.reRouteDis:8*s;if(x[_0x4962("0x15c")]>o)this[_0x4962("0x125b")](_,x[_0x4962("0x15c")])&&a[_0x4962("0x125c")]++;else a[_0x4962("0x125c")]=0;if(a.deviateCount>=i[_0x4962("0x125d")]){i[_0x4962("0x1b2")](),i[_0x4962("0x1239")]&&i[_0x4962("0x48")][_0x4962("0xa2b")][_0x4962("0xf6c")]([_0x4962("0xf44")]);var c=_;if(i.locationMarker.moveTo({x:c.x,y:c.y,z:c.z||0}),i.navData[0][_0x4962("0x130")]=_[_0x4962("0x130")],i[_0x4962("0x404")][0].x=_.x,i[_0x4962("0x404")][0].y=_.y,i[_0x4962("0x404")][0][_0x4962("0x132")]=_[_0x4962("0x132")],i[_0x4962("0x227")](_0x4962("0x125e")),i[_0x4962("0x11e8")][0])if(i[_0x4962("0x11e8")][0][_0x4962("0x2d9")]!=_[_0x4962("0x132")]){var f=i.navMarker[0][_0x4962("0x54f")][_0x4962("0x311")],d=i[_0x4962("0x11e8")][0][_0x4962("0x54f")][_0x4962("0x1a4")],u=i.navMarker[0].url,h=i.navMarker[0][_0x4962("0x1096")],g=(0,l.default)({},i.navData[1]);i[_0x4962("0x122c")](),i[_0x4962("0x120d")]({bid:_[_0x4962("0x130")],x:_.x,y:_.y,showLevel:f,fnum:_.fnum,height:d,url:u,size:h}),i[_0x4962("0x120e")](g),i[_0x4962("0x1207")](),i[_0x4962("0x1219")]({drawRoute:!0}),i[_0x4962("0xaa3")](_0x4962("0x493"),(function(){a[_0x4962("0x125c")]=0,i[_0x4962("0x1b1")](!0)}))}else i.navMarker[0][_0x4962("0x331")](_),i[_0x4962("0x1207")](),i[_0x4962("0x1219")]({drawRoute:!0}),i[_0x4962("0xaa3")](_0x4962("0x493"),(function(){a[_0x4962("0x125c")]=0,i.start(!0)}));return}if(0!=a[_0x4962("0x125f")]&&a[_0x4962("0x125f")]<x[_0x4962("0x1260")]?a[_0x4962("0x1261")]++:a.backcount=0,e&&(a.backcount=0),0==a[_0x4962("0x1261")]||a[_0x4962("0x1261")]>=i[_0x4962("0x125d")]*s){var b=i[_0x4962("0x48")][_0x4962("0x2c3")](x[_0x4962("0x303")]);if(b[_0x4962("0x132")]=x[_0x4962("0x303")][_0x4962("0x132")],b.bid=x.point.bid,this[_0x4962("0x227")]("walking",x),this[_0x4962("0x1262")](b,x[_0x4962("0x234")],x[_0x4962("0x303")],x[_0x4962("0x261")],t),a.surDistance=x.remain,x[_0x4962("0x1260")]<i[_0x4962("0x1244")]?a.arrivalCount++:a[_0x4962("0x1263")]=0,a[_0x4962("0x1263")]>i[_0x4962("0x1263")]||x.remain<=1){if(i.autoStop){var v=null;if(n==_0x4962("0x38e")&&(40004==i[_0x4962("0x404")][1][_0x4962("0x88")]?i.naviDescriptionsData[i.naviDescriptionsData[_0x4962("0x0")]-1][_0x4962("0x1264")]&&(v=i[_0x4962("0x1229")][i[_0x4962("0x1229")][_0x4962("0x0")]-1][_0x4962("0x1264")]):!i[_0x4962("0x1229")][i[_0x4962("0x1229")][_0x4962("0x0")]-1][_0x4962("0x1250")]&&i[_0x4962("0x1229")][i[_0x4962("0x1229")].length-2]&&i[_0x4962("0x1229")][i.naviDescriptionsData.length-2][_0x4962("0x1250")]&&(v=i.naviDescriptionsData[i[_0x4962("0x1229")][_0x4962("0x0")]-2].endDirection)),i[_0x4962("0x1b2")](),i[_0x4962("0x1265")](0,!0),i[_0x4962("0x1239")]&&i.audioTipEnd)if(v){var p="ç®çå°å¨éè·¯"+(v=v[_0x4962("0xaf")]("å·¦")<0?"å³":"å·¦")+"ä¾§";this[_0x4962("0x1238")]([p,_0x4962("0xf3e")])}else this[_0x4962("0x1238")](["å¯¼èªç»æ"])}i.restoreState(),i[_0x4962("0x227")](_0x4962("0x2d7")),!1===i[_0x4962("0x48")].controls.enablePan&&(i[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0xc56")]=!0)}else if(i[_0x4962("0x11ee")]==_0x4962("0x38e"))i[_0x4962("0x1266")](x[_0x4962("0x1267")],x[_0x4962("0x1268")],x.remain,x.crossing,r);else{var m=i.combinePoints[x[_0x4962("0x2cd")]][_0x4962("0x1269")];if(x.remain<=10){if(i[_0x4962("0x1251")]=_0x4962("0xf3f"),x.remain<=1)return i[_0x4962("0x1251")]=_0x4962("0x126a"),i[_0x4962("0x1b2")](),i[_0x4962("0x126b")](),i[_0x4962("0x227")]("complete"),void(!1===i[_0x4962("0x48")].controls[_0x4962("0xc56")]&&(i.map[_0x4962("0x260")][_0x4962("0xc56")]=!0))}else i[_0x4962("0x1251")]=i.outDoorNaviDescriptions[m][_0x4962("0x126c")]}}}}},{key:_0x4962("0x126b"),value:function(){}},{key:_0x4962("0x126d"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{},_=(0,l[_0x4962("0xc")])({far:1.2,points:null},x),e=void 0;if(_[_0x4962("0x138")]?e=_[_0x4962("0x138")]:this[_0x4962("0x1211")]&&(e=this[_0x4962("0x1211")][_0x4962("0xcd3")][0].pointList),e){var t=esmap[_0x4962("0x8c")][_0x4962("0x10bd")](e),i=e[0][_0x4962("0x132")],a=esmap[_0x4962("0x8c")][_0x4962("0x66c")](t),n=a.radius*_.far;if(n<this[_0x4962("0x126e")]&&(n=this[_0x4962("0x126e")]),"3D"!=this[_0x4962("0x48")].viewMode){var r=n/this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0xaa5")];this[_0x4962("0x48")][_0x4962("0x9f1")]({value:r,raw:!0,time:1}),this.map[_0x4962("0x331")](a[_0x4962("0x2c5")]),this[_0x4962("0x48")].rotateTo(0)}else this[_0x4962("0x48")][_0x4962("0x25a")]({x:a[_0x4962("0x2c5")].x,y:a.target.y,z:1,fnum:i,radius:n,pitchAngle:1})}}},{key:_0x4962("0x1b2"),value:function(){I={x:0,y:0},this[_0x4962("0x126f")]?(clearInterval(this[_0x4962("0x11fd")]),this[_0x4962("0x1270")]&&this[_0x4962("0x1270")][_0x4962("0x1b2")](),this[_0x4962("0x1271")]&&clearInterval(this._scaleLevelToID),this[_0x4962("0x48")].__moveToId&&this[_0x4962("0x48")][_0x4962("0x1272")][_0x4962("0x1b2")](),this[_0x4962("0x11ff")]&&this[_0x4962("0x11ff")][_0x4962("0x1b2")]&&this[_0x4962("0x11ff")][_0x4962("0x1b2")](),this._animateFun&&this.map[_0x4962("0x6b")](_0x4962("0x165"),this[_0x4962("0x11fe")]),this[_0x4962("0x11fa")]=0,this[_0x4962("0x11fb")]=0,this[_0x4962("0x1273")]=null,this[_0x4962("0x1274")]=0,this[_0x4962("0x1275")]=this._toRot=null,this[_0x4962("0x9cd")][_0x4962("0x1b2")](),this[_0x4962("0x126f")]=!1,this._gpsData=null,this[_0x4962("0x11f3")]=!0):this[_0x4962("0x1276")]&&(this.isNaving=!1,this.count[_0x4962("0x125c")]=0,this.count[_0x4962("0x1263")]=0,this[_0x4962("0x182")].backcount=0,this[_0x4962("0x182")][_0x4962("0x125f")]=0,window[_0x4962("0x1277")](this[_0x4962("0x1278")]),this[_0x4962("0x1278")]=0,this[_0x4962("0x11f8")].index=0,this[_0x4962("0x11f8")][_0x4962("0x1279")]=0,this[_0x4962("0x127a")]=20,this[_0x4962("0x11f1")]={},this[_0x4962("0x127b")]=[],this[_0x4962("0x11f6")]={}),this[_0x4962("0x11f8")]={index:0,dis2next:0},this[_0x4962("0x1246")]={},this[_0x4962("0x11f2")]={},this[_0x4962("0x11fb")]=null,this[_0x4962("0x1273")]=null,this.moveTimer=null,this[_0x4962("0x1224")]=null,this[_0x4962("0x11f7")]=null,this[_0x4962("0x127c")]=null,this[_0x4962("0x48")][_0x4962("0x260")].zoomToCursor=!0,!1===this[_0x4962("0x48")].controls.enablePan&&(this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0xc56")]=!0)}},{key:_0x4962("0x1265"),value:function(x,_){for(var e=this[_0x4962("0x1226")][_0x4962("0xf2")][_0x4962("0xf3")],t=0,i=0;i<e[_0x4962("0x0")];i++)if(_)e[i][_0x4962("0x186")]=1;else{var a=t;if(e[i][_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x314"))<0?t+=e[i].length:e[i][_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x127d"))>=0&&(e[i].passPercent=1,t+=e[i][_0x4962("0x0")]),!e[i][_0x4962("0x166")][_0x4962("0x127e")]){if(e[i].name[_0x4962("0xaf")]("cross")<0||e[i][_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x127d"))>=0){if(x<t){e[i][_0x4962("0x186")]=(x-a)/e[i][_0x4962("0x0")];break}}else e[i][_0x4962("0x166")][_0x4962("0x127e")]||(e[i-1]&&e[i-1][_0x4962("0x166")].passed?(e[i-1][_0x4962("0x186")]=1,e[i].passPercent=1):e[i][_0x4962("0x186")]=1);e[i][_0x4962("0x166")][_0x4962("0x127e")]=!0}}}},{key:"_linesVisible",value:function(){}},{key:_0x4962("0x127f"),value:function(x,_){if(this.timerDelta=.01086500000124215,this.navData[0]&&this[_0x4962("0x404")][1]){this.analysedData||(this[_0x4962("0x11f7")]=this[_0x4962("0x1282")]().map((function(x){return{x:x.x,y:x.z,z:x.y||0,distance:x[_0x4962("0x23b")],bid:x[_0x4962("0x130")],fnum:x[_0x4962("0x132")],index:x._index}})));var e=this;(_=_||{})[_0x4962("0x1283")]||e[_0x4962("0x1283")];if(e[_0x4962("0x48")].controls[_0x4962("0x9be")]=!1,_.scaleLevel=_[_0x4962("0x21e")]||e.scaleLevel||0,e._locMarkerToStartPoint((0,b.getValues)(_,_0x4962("0x1a4"),_0x4962("0x10a9"),"offset",1.01*e[_0x4962("0x2a")])),(e[_0x4962("0x1284")]||(0,b[_0x4962("0x14")])(_,_0x4962("0x730"),!1))&&e[_0x4962("0x1214")](null,!0),e.isMultiFloors||this[_0x4962("0x1234")]([e[_0x4962("0x404")][0][_0x4962("0x132")]]),e[_0x4962("0x2af")]&&e.scaleAnimate){var t=e.map[_0x4962("0x139")](this[_0x4962("0x404")][0].bid);if(e[_0x4962("0x48")].mode===esmap[_0x4962("0x40")][_0x4962("0x41")]&&t.id==e[_0x4962("0x48")].id&&e[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x80")](_0x4962("0xd96"))&&e.map.tileService.toggleTilesLayer(!0),e[_0x4962("0x1285")]||(t[_0x4962("0xcbc")]=[e[_0x4962("0x404")][0][_0x4962("0x132")]]),t.focusFloorNum!=e[_0x4962("0x404")][0][_0x4962("0x132")])t.focusFloorNum={floornum:e[_0x4962("0x404")][0][_0x4962("0x132")],time:.3},setTimeout((function(){e.setView({time:1.5,coord:{x:e[_0x4962("0x404")][0].x,y:e.navData[0].y},scaleLevel:e[_0x4962("0x21e")],zoomLevel:e[_0x4962("0x1f6")],tiltAngle:e[_0x4962("0x330")]||10,onComplete:function(){x(),e.emit(_0x4962("0x1286"))}})}),300);else if(e[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x1287")])if(e[_0x4962("0x1288")]){var a=e[_0x4962("0x48")][_0x4962("0xa0e")](),n=e[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0xaa6")](e.zoomLevel||e[_0x4962("0x48")].zoomLevel);e[_0x4962("0x48")].cameraFlyTo({directionAngle:a[_0x4962("0xaa2")],pitchAngle:e[_0x4962("0x330")],radius:n,x:e.navData[0].x,y:e.navData[0].y,z:this[_0x4962("0x404")][0][_0x4962("0x1a4")],time:1.5,callback:function(){x(),e[_0x4962("0x227")](_0x4962("0x1286")),e[_0x4962("0x1289")]&&(e[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0xc56")]=!1)}})}else x(),e[_0x4962("0x1289")]&&(e.map.controls[_0x4962("0xc56")]=!1);else{var r=0;this[_0x4962("0x404")][0][_0x4962("0x132")]&&(r=e[_0x4962("0x48")][_0x4962("0x139")](this[_0x4962("0x404")][0][_0x4962("0x130")])[_0x4962("0x2da")](this[_0x4962("0x404")][0][_0x4962("0x132")])),e[_0x4962("0x1209")]({time:1.5,coord:{x:e[_0x4962("0x404")][0].x,y:e[_0x4962("0x404")][0].y,z:r+this[_0x4962("0x404")][0].height},scaleLevel:e[_0x4962("0x21e")],zoomLevel:e[_0x4962("0x1f6")],tiltAngle:e[_0x4962("0x330")]||10,onComplete:function(){x(),e[_0x4962("0x227")](_0x4962("0x1286")),e.lockViewMove&&(e.map[_0x4962("0x260")][_0x4962("0xc56")]=!1)}})}}else!function(){if(e[_0x4962("0x48")][_0x4962("0x3c")]==esmap.MapMode.Building||e[_0x4962("0x404")][0][_0x4962("0x130")]!=e[_0x4962("0x48")].id){var _=e[_0x4962("0x48")][_0x4962("0x139")](e[_0x4962("0x404")][0].bid);if(e[_0x4962("0x1280")]){e[_0x4962("0x1281")]?e._finalVisibleFloors[_0x4962("0x0")]=0:e._finalVisibleFloors=[];var t=[],a=!0,n=!1,r=void 0;try{for(var s,o=(0,i[_0x4962("0xc")])(e[_0x4962("0x404")]);!(a=(s=o[_0x4962("0x286")]())[_0x4962("0x426")]);a=!0){var c=s[_0x4962("0xe3")];t[_0x4962("0x3")](c[_0x4962("0x132")])}}catch(x){n=!0,r=x}finally{try{!a&&o[_0x4962("0x28c")]&&o[_0x4962("0x28c")]()}finally{if(n)throw r}}var l=Math[_0x4962("0x300")][_0x4962("0x2a4")](Math,t);e[_0x4962("0x1281")]=_[_0x4962("0x699")][_0x4962("0x2e2")]((function(x){return x<=l})),_[_0x4962("0xcbc")]=e[_0x4962("0x1281")]}else _[_0x4962("0xcbc")]=[e[_0x4962("0x404")][0][_0x4962("0x132")]];_[_0x4962("0x58a")]={floornum:e[_0x4962("0x404")][0][_0x4962("0x132")],time:.3},setTimeout((function(){x()}),300)}else x()}()}}},{key:"start",value:function(){var x=this;x._onstartNavi((function(){x[_0x4962("0x1276")]=!0}))}},{key:_0x4962("0x128a"),value:function(x){var _=this;_[_0x4962("0x1224")]||_[_0x4962("0x29a")](),_[_0x4962("0x127f")]((function(){_[_0x4962("0x11f3")]=!1,_[_0x4962("0x128b")]()}),x)}},{key:_0x4962("0x128c"),value:function(x,_){var e=this,t=x,i=t[_0x4962("0x239")];if(!t[_0x4962("0x132")]){var a=e[_0x4962("0x48")][_0x4962("0x578")]();t[_0x4962("0x132")]=a[_0x4962("0x58a")]}if(typeof t.x===_0x4962("0x18a")&&typeof t.y===_0x4962("0x18a")&&(0==e[_0x4962("0x11ef")]||t.x!=I.x||t.y!=I.y)){(e[_0x4962("0x1276")]||e[_0x4962("0x126f")])&&function(){var a=e[_0x4962("0x128d")](t);if(a){var n=0;if(e[_0x4962("0x1226")]&&e[_0x4962("0x1226")][_0x4962("0xf2")])for(var r=0;r<e[_0x4962("0x1226")][_0x4962("0xf2")][_0x4962("0xf3")][_0x4962("0x0")];r++)if(e.lineObj[_0x4962("0xf2")].children[r][_0x4962("0x132")]==a[_0x4962("0x1b5")].fnum){n=e[_0x4962("0x1226")][_0x4962("0xf2")].children[r][_0x4962("0x186")];break}var s={remain:a.remain,walk:e[_0x4962("0x11e6")]-a[_0x4962("0x1260")],distanceToNext:a[_0x4962("0x1268")],angle:a[_0x4962("0x234")],point:a[_0x4962("0x1b5")],linesProgress:n,pIndex:a.index,index:a[_0x4962("0x128e")],isReal:!0,descriptionIndex:a[_0x4962("0x128e")],offset:a[_0x4962("0x23b")],nexbid:a.nexbid,nexfnum:a[_0x4962("0x128f")],disToNexBid:a[_0x4962("0x1290")],disToNexFnum:a[_0x4962("0x1291")],crossing:a[_0x4962("0x1292")]};(x[_0x4962("0x132")]!=s[_0x4962("0x132")]||s[_0x4962("0x261")])&&(e._preGid||(e[_0x4962("0x11fb")]=e[_0x4962("0x404")][0][_0x4962("0x132")]),e[_0x4962("0x1273")]||(e._preBid=e.navData[0][_0x4962("0x130")]),_=_||!1,e[_0x4962("0x11f8")]={index:a[_0x4962("0x2cd")],desIndex:a[_0x4962("0x128e")],dis2next:s[_0x4962("0x1268")]},e._walkingfunction(s,t,_,i))}}(),I.x=t.x,I.y=t.y}}},{key:_0x4962("0x128d"),value:function(x){var _=this;if(x[_0x4962("0x130")]||(x[_0x4962("0x130")]=this[_0x4962("0x48")].id),_[_0x4962("0x404")][0]&&_.navData[1]){for(var e={coord:{fnum:x[_0x4962("0x132")]},distance:null,angle:0,balanceValue:null},t=_[_0x4962("0x11f7")],i={},a=function(x,_){var e=new(THREE[_0x4962("0x568")])(x.x,x.y),t=new(THREE[_0x4962("0x568")])(_.x,_.y);return e[_0x4962("0x23a")](t)},n=function(x,_){var e=new THREE.Vector3(x.x,x.z,x.y),t=new(THREE[_0x4962("0x12c")])(_.x,_.z,_.y);return e[_0x4962("0x23a")](t)},r=function(x){for(var _=0,e=t[_0x4962("0x0")]-1;e>x[_0x4962("0x2cd")];e--)if(e-1>x[_0x4962("0x2cd")]){var i=t[e],r=t[e-1];i[_0x4962("0x130")]==r[_0x4962("0x130")]?i[_0x4962("0x132")]==r[_0x4962("0x132")]&&(_+=n(i,r)):_+=a(i,r)}return x[_0x4962("0x1b5")].z=t[e].z,_+=n(t[x[_0x4962("0x2cd")]+1],x[_0x4962("0x1b5")])},s=_[_0x4962("0x48")].coordThreeToMap(_.locationMarker[_0x4962("0x106")]),o=r({coord:s,index:_[_0x4962("0x11f8")][_0x4962("0x2cd")]}),c=1;c<t[_0x4962("0x0")];c++){var f=t[c-1],d=t[c];if(x[_0x4962("0x130")]===f[_0x4962("0x130")]&&f[_0x4962("0x132")]===x[_0x4962("0x132")]){var u=(0,h[_0x4962("0x1256")])(x,f,d,i);d.fnum!=x.fnum&&(u=a(x,f)),i.z=x.z||0,i[_0x4962("0x130")]=f[_0x4962("0x130")],i[_0x4962("0x132")]=f.fnum;var g=o-r({index:f[_0x4962("0x2cd")],coord:i}),b=.5;_.isSimulating&&(b=-1/0),Math[_0x4962("0x231")](g)<b&&0==(g*=10)&&(g=10);var v=.8*u+(u>1?Math[_0x4962("0x231")](.2*g):0);(null==e.balanceValue||v<e[_0x4962("0x1294")])&&(e[_0x4962("0x23b")]=u,e.balanceValue=v,(0,l[_0x4962("0xc")])(e[_0x4962("0x1b5")],i),e[_0x4962("0x234")]=_.getRouteAngle(f,d),e[_0x4962("0x2cd")]=f[_0x4962("0x2cd")],e[_0x4962("0x132")]=f[_0x4962("0x132")])}}if(null==e[_0x4962("0x23b")]&&(f=t[0],e.remain=e[_0x4962("0x23b")]=a(x,s),x[_0x4962("0x130")]==f.bid&&x[_0x4962("0x132")]==f[_0x4962("0x132")]||(e[_0x4962("0x1260")]=e[_0x4962("0x23b")]=1e4),(0,l[_0x4962("0xc")])(e[_0x4962("0x1b5")],f),e[_0x4962("0x2cd")]=f.index,e[_0x4962("0x132")]=f.fnum),null!=e[_0x4962("0x23b")]){var p=r(e);e[_0x4962("0x1260")]=p-_[_0x4962("0x1295")];var m=function(x){for(var e=_.naviDescriptionsData,t=_[_0x4962("0x11e6")]-x,i=1/0,a=null,n=0,r=0,s=null,o=1,c=null,l=1/0,f=!1,d=0;d<e[_0x4962("0x0")];d++){var u=e[d];if(t<u.totalDisntance&&null===s)n=u[_0x4962("0x927")][_0x4962("0x130")],r=u[_0x4962("0x1293")]-t,s=d,o=u.startPoint.fnum;else if(0!=n&&(u[_0x4962("0x927")][_0x4962("0x132")]!=o&&null===c&&(c=u[_0x4962("0x927")][_0x4962("0x132")],l=u[_0x4962("0x1293")]-t),u[_0x4962("0x927")][_0x4962("0x130")]!=n&&null===a&&(a=u.startPoint[_0x4962("0x130")],i=u[_0x4962("0x1293")]-t),null!=c&&null!=a))break}return e[s+1]&&(o==e[s+1][_0x4962("0x927")].fnum&&n==e[s+1][_0x4962("0x927")][_0x4962("0x130")]||(f=!0)),{distonex:r,index:s,distancetonexbid:i,bid:n,fnum:o,nexbid:a,nexfnum:c,disToNexBid:i,disToNexFnum:l,crossing:f}}(p-_[_0x4962("0x1295")]);e[_0x4962("0x1268")]=m[_0x4962("0x1296")],e[_0x4962("0x128e")]=m[_0x4962("0x2cd")],e.nexbid=m[_0x4962("0x1297")],e[_0x4962("0x128f")]=m[_0x4962("0x128f")],e[_0x4962("0x1290")]=m[_0x4962("0x1290")],e[_0x4962("0x1291")]=m.disToNexFnum,e[_0x4962("0x1292")]=m[_0x4962("0x1292")]}return e}}},{key:"getRouteAngle",value:function(x,_){var e=new(THREE[_0x4962("0x12c")])(0,0,1),t=new THREE.Vector3(x.x,0,x.y),i=new THREE.Vector3(_.x,0,_.y)[_0x4962("0x126")]()[_0x4962("0x52d")](t)[_0x4962("0x30e")](),a=i[_0x4962("0x22d")](e)*THREE[_0x4962("0x20e")][_0x4962("0x6ac")];return isNaN(a)&&(a=0),i[_0x4962("0x126")]()[_0x4962("0x314")](e).y>0?360-a:a}},{key:_0x4962("0x1298"),value:function(x,_,e){if(_>=e)return x[x[_0x4962("0x0")]-1];if(x){if(0==_)return x[0];for(var t,i,a=0,n=0,r=x[0],s=1;s<x[_0x4962("0x0")];s++){var o=(t=x[s])[_0x4962("0x126")]();if(t[_0x4962("0x130")]==r[_0x4962("0x130")]){if(t[_0x4962("0x132")]!=r[_0x4962("0x132")]){(r=t[_0x4962("0x126")]())[_0x4962("0x132")]=t.fnum,r[_0x4962("0x2cd")]=t._index,r[_0x4962("0x130")]=t[_0x4962("0x130")];continue}}else o.y=r.y;if((a+=(i=o[_0x4962("0x126")]()[_0x4962("0x52d")](r))[_0x4962("0x0")]())>=_){i.normalize();var c=r[_0x4962("0x126")]()[_0x4962("0xda")](i.clone().multiplyScalar(_-n));return c[_0x4962("0x132")]=r[_0x4962("0x132")],c[_0x4962("0x2cd")]=r[_0x4962("0x1299")],c.bid=r[_0x4962("0x130")],c}(r=t[_0x4962("0x126")]())[_0x4962("0x132")]=t[_0x4962("0x132")],r[_0x4962("0x2cd")]=t[_0x4962("0x1299")],r[_0x4962("0x130")]=t[_0x4962("0x130")],n=a}var f=(0,l[_0x4962("0xc")])(new(THREE[_0x4962("0x12c")]),x[x[_0x4962("0x0")]-1]);return f[_0x4962("0x2cd")]=f[_0x4962("0x1299")],f}}},{key:_0x4962("0x129a"),value:function(x,_){var e=this,t=x[_0x4962("0x130")]||e[_0x4962("0x48")].id;if(x.id){var i,a;if(e.map.mode==esmap[_0x4962("0x40")].City&&x.bid==e[_0x4962("0x48")].id)return this[_0x4962("0x129b")]="å®¤å","å®¤å";if(1==e[_0x4962("0x3c")]){if(!e[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][t][_0x4962("0x129c")].manModeAllScheme[x.id])return null;i=e[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][t][_0x4962("0x129c")].manModeAllScheme[x.id][0],a=e[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][t].allLineMap[i]}else{if(!e[_0x4962("0x1203")].routeCore.dataList[t][_0x4962("0x129c")][_0x4962("0x129d")][x.id])return null;i=e[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][t][_0x4962("0x129c")][_0x4962("0x129d")][x.id][0],a=e[_0x4962("0x1203")].routeCore.dataList[t][_0x4962("0x129e")][i]}switch(1*a[_0x4962("0xd4c")]||0){case 1:return this[_0x4962("0x129b")]="æ¥¼æ¢¯","æ¥¼æ¢¯";case 2:return this[_0x4962("0x129b")]="çµæ¢¯","çµæ¢¯";case 3:return this[_0x4962("0x129b")]="æ¶æ¢¯","æ¶æ¢¯";case 4:case 5:return this.curLadder="å¡é","å¡é"}}return"æ¢¯"}},{key:_0x4962("0x1213"),value:function(x){function _(x,_){var e=Math.PI/4,t=x/e,i=parseInt(t),a=t%1*e;return i%2==0?a>_&&(i+=1):a>=e-_&&(i+=1),i}function e(x,_){var e=_[_0x4962("0x22d")](x);return _[_0x4962("0x126")]()[_0x4962("0x314")](x).y<0&&(e=2*Math.PI-e),e}function t(x,t){if(t==x[_0x4962("0x0")]-1)return{index:x[x[_0x4962("0x0")]-1].index};var i=new(THREE[_0x4962("0x12c")])(0,0,1),a=0==t?i:x[t][_0x4962("0x126")]()[_0x4962("0x52d")](x[t-1])[_0x4962("0x30e")](),n=x[t][_0x4962("0x126")]();x[t][_0x4962("0x130")]!=x[t+1].bid&&(n.y=x[t+1].y);var r=x[t+1][_0x4962("0x126")]().sub(n),s=r[_0x4962("0x0")](),o=r[_0x4962("0x30e")](),c=_(e(i,o),22.5*THREE[_0x4962("0x20e")][_0x4962("0x599")]),l=e(a,o),f=_(l,22.5*THREE.Math.DEG2RAD),d=null;return x[t+1][_0x4962("0x130")]!=x[t][_0x4962("0x130")]&&(d=x[t+1][_0x4962("0x130")]),{relField:f,relDesc:m[f],relAngle:l*THREE[_0x4962("0x20e")][_0x4962("0x6ac")],absField:c,absDesc:p[c],distance:s,index:x[t][_0x4962("0x2cd")],crossBid:d}}function i(x,_){for(var e=x[_0x4962("0x48")]((function(x,_){var e=(0,l[_0x4962("0xc")])(new THREE.Vector3,x),t=r[_0x4962("0x48")][_0x4962("0x237")](x);return e.x=t.x,e.y=t.y,e.z=t.z,e[_0x4962("0x2cd")]=_,e})),i=[],a=0;a<e[_0x4962("0x0")];a++){var n=t(e,a);n.point=x[a],n.fnum=_,i[_0x4962("0x3")](n)}var s=[i[0]];for(a=1;a<i[_0x4962("0x0")];a++)!i[a].crossBid&&(i[a][_0x4962("0x129f")]<=r[_0x4962("0x12a0")]||360-i[a][_0x4962("0x129f")]<=r[_0x4962("0x12a0")])?s[s[_0x4962("0x0")]-1][_0x4962("0x23b")]+=i[a].distance:s.push(i[a]);return s}function a(x,_,e,t,i,a,n){var s=x[_],o=x[_+1],c=A[o[_0x4962("0x12a1")]];if(r._boo=0,!c||r[_0x4962("0x12a2")])if(t){if(r[_0x4962("0x12a2")]=!1,!c){var l=r[_0x4962("0x48")][_0x4962("0x139")](n);c="è¿å¥ "+r[_0x4962("0x129a")](o.point,e)+" "+(t>e?"ä¸è¡":"ä¸è¡")+" åå¾ "+l[_0x4962("0x673")](t)[_0x4962("0x10f4")]+" å±"}}else r[_0x4962("0x12a2")]&&(r[_0x4962("0x12a3")]=o.distance),c=_0x4962("0xf43");s.crossBid&&(c+=_0x4962("0x12a4")+r[_0x4962("0x48")].getBuildingById(s[_0x4962("0x12a5")])[_0x4962("0x107")]);var f=[];return 0==_?f[_0x4962("0x3")]("ç´è¡",Math[_0x4962("0xff")](s[_0x4962("0x23b")]),c):f[_0x4962("0x3")]("ç´è¡",Math[_0x4962("0xff")](s[_0x4962("0x23b")]+(r[_0x4962("0x12a2")]&&!t?o[_0x4962("0x23b")]:0)),c),f}function n(x,_,e,t,i,a,n){var s=x[_],o=x[_+1];if(!A[x[_+1][_0x4962("0x12a1")]]||r[_0x4962("0x12a2")])if(t){var c=t>e?"ä¸":"ä¸";o[_0x4962("0x12a6")]=c}else o[_0x4962("0x12a6")]="ç»";var l=s[_0x4962("0x23b")]+(r[_0x4962("0x12a2")]&&!t?o[_0x4962("0x23b")]:0),f=o[_0x4962("0x1264")],d=!1,u=!1,h=!1,g=!1;return l<=40&&(h=!0),l<=20&&(d=!0),_==x[_0x4962("0x0")]-1&&(u=!0,g=!0),{startPoint:s[_0x4962("0x303")],startFloor:s[_0x4962("0x132")],startIndex:s[_0x4962("0x2cd")],totalDisntance:s[_0x4962("0x1293")],endPoint:o.point,manModeTipStarted:d,manWalkedCount:30,carWalkedCount:40,parkDir:f,manModeTipEnded:u,carModeTipStarted:h,carModeTipEnded:g,endFloor:o.fnum,endIndex:o[_0x4962("0x2cd")],startDirection:s[_0x4962("0x12a7")],endDirection:o[_0x4962("0x12a6")],distance:l}}var r=this;r[_0x4962("0x1224")]=[],r[_0x4962("0x12a2")]=!1,r[_0x4962("0x12a3")]=0;for(var s,o,c,f,d,u=[],h=[],g=null,b=0,v=[],p=["å","ä¸å","ä¸","ä¸å","å","è¥¿å","è¥¿","è¥¿å","å"],m=["å","å³å","å³","å³å","å","å·¦å","å·¦","å·¦å","å"],A=[_0x4962("0x12a8"),_0x4962("0xf42"),"å³è½¬",_0x4962("0xf40"),"åé",_0x4962("0xf41"),"å·¦è½¬",_0x4962("0x12a9"),_0x4962("0x12a8")],y=null,C=0,I=null,E=0;E<x[_0x4962("0x0")];E++){if(g=(s=x[E])[_0x4962("0x132")],c=null,E<x[_0x4962("0x0")]-1)for(d=E;d<x.length;d++)if(x[d][_0x4962("0x132")]!=g){if(1===x[d][_0x4962("0x1210")][_0x4962("0x0")]){for(var w=d;w<x[_0x4962("0x0")];w++)if(x[w][_0x4962("0x1210")][_0x4962("0x0")]>1){I=x[w][_0x4962("0x132")];break}}else I=x[d][_0x4962("0x132")];c=x[d].fnum,f=x[d].bid;break}null==c&&(I=null);var T=s[_0x4962("0x130")];if(T,E<x.length-1)for(var k=E;k<x.length;k++)if(x[k][_0x4962("0x130")]!=T){x[k][_0x4962("0x130")];break}var M,S=i(o=s[_0x4962("0x1210")],g);M=o[0][_0x4962("0x130")]==r[_0x4962("0x48")].id?r[_0x4962("0x48")][_0x4962("0x139")](0):r[_0x4962("0x48")][_0x4962("0x139")](o[0][_0x4962("0x130")]),S[_0x4962("0x0")]>1&&Array[_0x4962("0x1")][_0x4962("0x3")][_0x4962("0x2a4")](r[_0x4962("0x1224")],S);r.combinePoints.length;if(1==S.length&&0!=s.length&&Array[_0x4962("0x1")][_0x4962("0x3")][_0x4962("0x2a4")](r.combinePoints,S),1==S.length){if(c&&0==s[_0x4962("0x0")]&&(y==g||null==y)){var R=r._getLadderType(S[0][_0x4962("0x303")]);R||(R=M.id);var L=M.getFloor(c),H=void 0;H=(H=c>1&&0==M.id?"å®¤å":L[_0x4962("0x10f4")])[_0x4962("0x2d")]("")[_0x4962("0x32")](" ");var D=[_0x4962("0x12aa")+R+" åå¾ "+H+" å±"];u.push(D),h.push({startPoint:o[0],startDirection:c>g?"ä¸":"ä¸",startFloor:g,endFloor:c,endPoint:x[d][_0x4962("0x1210")][0]})}}else{for(var O=[(0,l[_0x4962("0xc")])({},S[0])],P=1;P<S[_0x4962("0x0")]-1;P++){var N=(0,l[_0x4962("0xc")])({},S[P]);Math[_0x4962("0x301")](N.relAngle,360-N[_0x4962("0x129f")])<=22.5&&!N.crossBid?O[O[_0x4962("0x0")]-1][_0x4962("0x23b")]+=N.distance:O[_0x4962("0x3")](N)}O[_0x4962("0x3")]((0,l[_0x4962("0xc")])({},S[S.length-1])),40004==r[_0x4962("0x404")][1][_0x4962("0x88")]&&E==x[_0x4962("0x0")]-1&&O.length>=3&&(O[_0x4962("0xdf")](),O[O[_0x4962("0x0")]-1][_0x4962("0x23b")]<8&&(r[_0x4962("0x1295")]=O[O[_0x4962("0x0")]-1][_0x4962("0x23b")],O[O[_0x4962("0x0")]-1]={index:O[O[_0x4962("0x0")]-1][_0x4962("0x2cd")],point:O[O[_0x4962("0x0")]-1][_0x4962("0x303")],fnum:O[O[_0x4962("0x0")]-1][_0x4962("0x132")],parkDir:O[O[_0x4962("0x0")]-1][_0x4962("0x12a6")]}));for(var F=0;F<O.length-1&&!r[_0x4962("0x12a2")];F++)C+=O[F].distance,O[F].totalDisntance=C,u[_0x4962("0x3")](a(O,F,g,I,0,0,f)),h[_0x4962("0x3")](n(O,F,g,I))}if(y=g,S[_0x4962("0x0")]>1){var B=S[_0x4962("0x122")]((function(x,_){return x+(_[_0x4962("0x23b")]||0)}),0);v[_0x4962("0x3")]({fnum:g,distance:B}),b+=B}}return[u,h,b-=r[_0x4962("0x1295")],v]}},{key:_0x4962("0x1262"),value:function(x,_,e,t,i){var a=this;function n(){a.locationMarker[_0x4962("0x132")]=x[_0x4962("0x132")],a.locationMarker[_0x4962("0x17c")]=!0}if(a[_0x4962("0x11fb")]!=x[_0x4962("0x132")]||a[_0x4962("0x1273")]!=x[_0x4962("0x130")]){a[_0x4962("0x11fb")]=x[_0x4962("0x132")],a._preBid=x[_0x4962("0x130")],a[_0x4962("0x1274")]++,a[_0x4962("0x695")][_0x4962("0x17c")]=!1;var r={x:-x.x-a[_0x4962("0x48")].mapScene[_0x4962("0x2e7")],y:x.z+a[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0x2e8")]};r.fnum=x[_0x4962("0x132")],function(_){if(!a[_0x4962("0x1285")]){var e=a[_0x4962("0x48")][_0x4962("0x139")](x.bid);0!=e.id&&(a[_0x4962("0x1280")]&&a[_0x4962("0x1281")]?e[_0x4962("0xcbc")]=a._finalVisibleFloors:e[_0x4962("0xcbc")]=[x[_0x4962("0x132")]],e[_0x4962("0x58a")]={fnum:x[_0x4962("0x132")],notMove:!0});var t=a[_0x4962("0x695")].getPosition(),i=a[_0x4962("0x1215")][a._groupPointsIndex];i&&i.pointList&&i.pointList[_0x4962("0x0")]>0&&(t=a[_0x4962("0x1215")][a[_0x4962("0x1274")]][_0x4962("0x1210")][0]),t[_0x4962("0x132")]=x[_0x4962("0x132")],a[_0x4962("0x695")][_0x4962("0x22c")]({x:t.x,y:t.y,fnum:t[_0x4962("0x132")],bid:x[_0x4962("0x130")],offsetHeight:(t.z||0)+1.01*a[_0x4962("0x2a")]})}_?(a[_0x4962("0x48")][_0x4962("0x12ab")]=!0,a[_0x4962("0x1237")](r,a[_0x4962("0x1283")],(function(){var x=a[_0x4962("0x48")].scaleLevels_[a[_0x4962("0x21e")]]<.2?a.minScale:a[_0x4962("0x48")].scaleLevels_[a[_0x4962("0x21e")]];a[_0x4962("0x48")][_0x4962("0x9f1")]({value:x,time:a[_0x4962("0x1283")],onComplete:function(){a[_0x4962("0x11fc")]=!1,a.map.isNaviAnimating=!1}}),n(),a[_0x4962("0x12ac")]&&(a[_0x4962("0x1270")]=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(a.map).to({tiltAngle:a[_0x4962("0x330")]},1e3*a[_0x4962("0x1283")])[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")].InOut).start())}))):(n(),a[_0x4962("0x11fc")]=!1,a[_0x4962("0x48")][_0x4962("0x12ab")]=!1)}(!1),a.emit(_0x4962("0x12ad"),x[_0x4962("0x132")])}a[_0x4962("0x25b")]&&(null===a[_0x4962("0x127c")]||!isNaN(_)&&Math[_0x4962("0x231")](a[_0x4962("0x127c")]-_)>.1)&&(a[_0x4962("0x11ff")]=a[_0x4962("0x48")][_0x4962("0x251")]({angle:_,time:.6}));var s=1;if(i&&a[_0x4962("0x127c")]!=_){var o=-_;o<0&&(o=360+o),a[_0x4962("0x695")][_0x4962("0x251")]({angle:o,time:a[_0x4962("0x12ae")]}),s=.2}a.lastAngle=_;var c={x:e.x,y:e.y,z:e.z+1.01*a.offsetHeight,time:s};a[_0x4962("0x695")][_0x4962("0x17c")]||(a.locationMarker.visible=!0),a.isSimulating?c[_0x4962("0x1a5")]=0:null!=a[_0x4962("0x11ed")]&&(c.time=a[_0x4962("0x11ed")]);var l={x:c.x,y:c.y,z:c.z};l[_0x4962("0x1a5")]=c[_0x4962("0x1a5")],a.locationMarker[_0x4962("0x331")](l),a.lineObj.o3d_[_0x4962("0xf3")][0]&&t&&a[_0x4962("0x1265")](t);var f=a[_0x4962("0x12af")],d=1;!f&&a[_0x4962("0x126f")]&&(d=0);var u=(new Date)[_0x4962("0x86")]();if(u-a.moveTimer>1e3*f+1e3*d){var h=0;e[_0x4962("0x130")]&&e[_0x4962("0x132")]&&(h=a.map[_0x4962("0x139")](e[_0x4962("0x130")])[_0x4962("0x2da")](e.fnum)),a[_0x4962("0x2af")]&&a[_0x4962("0x48")].moveTo({x:l.x,y:l.y,height:h+l.z,time:d}),a[_0x4962("0x11f4")]=u}}},{key:_0x4962("0x128b"),value:function(){var x=this;x[_0x4962("0x11fd")]&&clearInterval(x._animID);var _=x[_0x4962("0x1282")]();x[_0x4962("0x9cd")].start(),x.isSimulating=!0,x[_0x4962("0x1274")]=0,x._tailLen=0,x[_0x4962("0x11fd")]=setInterval((function(){if(!x[_0x4962("0x11f3")]){var e=x.timerDelta;if(x.vvs=x[_0x4962("0x2db")]*e,!x[_0x4962("0x11fc")]&&!x[_0x4962("0x2b3")]&&(x[_0x4962("0x11fa")]+=x.vvs,0!=x[_0x4962("0x11fa")])){var t=x[_0x4962("0x1298")](_,x[_0x4962("0x11fa")]),i=x[_0x4962("0x11e6")]-x[_0x4962("0x11fa")],a=(0,l[_0x4962("0xc")])({},t),n=(0,l[_0x4962("0xc")])(new THREE.Vector3,t);a.y;if(!t)return void(x[_0x4962("0x11f3")]=!0);if(i<=0&&(x._isEnd_=!0,x[_0x4962("0x695")][_0x4962("0x22c")]({x:n.x,y:n.z,bid:n.bid,fnum:n[_0x4962("0x132")],height:n.y+1.01*x[_0x4962("0x2a")]})),x[_0x4962("0x11ee")]==_0x4962("0x38e"))x[_0x4962("0x128c")]({bid:n[_0x4962("0x130")],fnum:n[_0x4962("0x132")],x:n.x,y:n.z,z:n.y,orientToPath:!0});else{var r={bid:n[_0x4962("0x130")],fnum:n[_0x4962("0x132")],x:n.x,y:n.z,z:n.y},s=0;if(_[t[_0x4962("0x2cd")]]){var o={bid:_[t[_0x4962("0x2cd")]][_0x4962("0x130")],fnum:_[t.index][_0x4962("0x132")],x:_[t.index].x,y:_[t[_0x4962("0x2cd")]].z,z:_[t[_0x4962("0x2cd")]].y};s=x[_0x4962("0x238")](r,o)}x[_0x4962("0x1257")]({angle:s,remain:i,walk:x[_0x4962("0x11fa")],point:r,fnum:t.fnum||1,index:t[_0x4962("0x2cd")]-1},r,100,!0)}}}}),10)}},{key:_0x4962("0x1282"),value:function(){if(this.navData[0]&&this[_0x4962("0x404")][1]){if(this.navMode==_0x4962("0x1221")){var x=-1,_=this[_0x4962("0x1224")][_0x4962("0x48")]((function(_,e){var t=new(THREE[_0x4962("0x12c")])(_.x,0,_.z);return t[_0x4962("0x132")]=_[_0x4962("0x132")]||1,t[_0x4962("0x130")]=_[_0x4962("0x130")]||0,t[_0x4962("0x1299")]=e,t._segindex=_.segindex,x=e,t})),e=this.combinePoints[this.combinePoints[_0x4962("0x0")]-1];return(t=new(THREE[_0x4962("0x12c")])(e.x,0,e.z))[_0x4962("0x132")]=e[_0x4962("0x12b0")],t[_0x4962("0x1299")]=x+1,t.bid=e[_0x4962("0x130")],_[_0x4962("0x3")](t),_}var t;x=-1,_=this[_0x4962("0x1224")][_0x4962("0x48")]((function(_,e){var t=new(THREE[_0x4962("0x12c")])(_[_0x4962("0x303")].x,_[_0x4962("0x303")].z,_[_0x4962("0x303")].y);return t.fnum=_[_0x4962("0x303")][_0x4962("0x132")],t._index=e,t[_0x4962("0x23b")]=_[_0x4962("0x23b")],t[_0x4962("0x130")]=_.point[_0x4962("0x130")],x=e,t})),e=this[_0x4962("0x1224")][this[_0x4962("0x1224")][_0x4962("0x0")]-1];return(t=new(THREE[_0x4962("0x12c")])(e[_0x4962("0x303")].x,e[_0x4962("0x303")].z,e.point.y)).fnum=e[_0x4962("0x303")][_0x4962("0x132")],t._index=x+1,t.distance=e[_0x4962("0x23b")],t[_0x4962("0x130")]=e[_0x4962("0x303")][_0x4962("0x130")],_.push(t),_}}},{key:_0x4962("0x12b1"),value:function(x){for(var _=this[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0xaf1")][_0x4962("0xd8f")],e=0;e<_.length;e++){if(_[e][_0x4962("0xd4b")][x])return{floornum:_[e][_0x4962("0xcbb")]}}return null}},{key:"getTileLineById",value:function(x){for(var _ in this[_0x4962("0x48")][_0x4962("0x2b4")].navData){var e=map.tileService.navData[_];if(e[_0x4962("0xd4b")][x])return e}return!1}},{key:_0x4962("0x12b2"),value:function(x){for(var _ in this[_0x4962("0x1203")].routeCore[_0x4962("0x1253")][this.map[_0x4962("0xb69")]]={isReload:!0,allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}},this.routePlanner.routeCore[_0x4962("0x89b")][this[_0x4962("0x48")][_0x4962("0xb69")]]=null,this[_0x4962("0x48")].tileService[_0x4962("0x404")]){var e=this[_0x4962("0x48")].tileService[_0x4962("0x404")][_],t={},a=e[_0x4962("0xd4d")],n={},r=!0,s=!1,o=void 0;try{for(var c,f=(0,i.default)(x);!(r=(c=f[_0x4962("0x286")]()).done);r=!0){var d=c[_0x4962("0xe3")];n[d.id]=d[_0x4962("0x720")]}}catch(x){s=!0,o=x}finally{try{!r&&f[_0x4962("0x28c")]&&f[_0x4962("0x28c")]()}finally{if(s)throw o}}for(var u in e.Lines){var h=(0,l[_0x4962("0xc")])({},e.Lines[u]);if(h[_0x4962("0x3df")]&&n[_0x4962("0x2")](h._id))switch(n[h._id]){case 0:continue;case 1:t[u]=h;break;case 2:h[_0x4962("0x411")]="1",t[u]=h;break;case 3:h[_0x4962("0x411")]="1";var g=h[_0x4962("0xe72")];h.sid=h[_0x4962("0x5d0")],h[_0x4962("0x5d0")]=g,t[u]=h;break;case 4:h[_0x4962("0x411")]="0",t[u]=h}else t[u]=h}var b={floornum:1,Lines:t,Nodes:a};this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x12b3")](b)}}},{key:_0x4962("0x12b4"),value:function(x){var _=this[_0x4962("0x48")],e=this.map.sceneId_,i=null;if(_.mode!==esmap[_0x4962("0x40")][_0x4962("0x41")])if((i=_[_0x4962("0x578")]()[_0x4962("0xaf1")])[_0x4962("0xd8f")]&&i.navs.length){for(var a=(0,t[_0x4962("0xc")])({},e,{}),n=0;n<x[_0x4962("0x0")];n++){var r=x[n],s=r.floornum;if(!s){var o=this[_0x4962("0x12b1")](r.id);if(!o){r.id;continue}s=o[_0x4962("0xcbb")]}a[e][s]||(a[e][s]={}),a[e][s][r.id]=r.state}for(var c in a){for(var f=a[c],d={navs:[]},u=0;u<i[_0x4962("0xd8f")][_0x4962("0x0")];u++){var h=i.navs[u],g=h[_0x4962("0xcbb")],b={},v=h.Nodes,p=f[g];for(var m in h[_0x4962("0xd4b")]){var A=(0,l[_0x4962("0xc")])({},h[_0x4962("0xd4b")][m]);if(p&&p[_0x4962("0x2")](m))switch(p[m]){case 0:continue;case 1:b[m]=A;break;case 2:A[_0x4962("0x411")]="1",b[m]=A;break;case 3:A[_0x4962("0x411")]="1";var y=A[_0x4962("0xe72")];A[_0x4962("0xe72")]=A[_0x4962("0x5d0")],A[_0x4962("0x5d0")]=y,b[m]=A;break;case 4:A[_0x4962("0x411")]="0",b[m]=A}else b[m]=A}d[_0x4962("0xd8f")][_0x4962("0x3")]({floornum:g,Lines:b,Nodes:v})}this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x1253")][c]={isReload:!0,allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}},this[_0x4962("0x1203")][_0x4962("0x1252")][_0x4962("0x89b")][c]=d,this.routePlanner[_0x4962("0x1252")].preprocess(c,d[_0x4962("0xd8f")])}}else console[_0x4962("0xe0")](_0x4962("0x12b5")+bid);else this[_0x4962("0x12b2")](x)}},{key:_0x4962("0x12b6"),get:function(){return this[_0x4962("0x404")][0]}},{key:_0x4962("0x12b7"),get:function(){return this[_0x4962("0x404")][1]}},{key:"navidata",get:function(){return this._groupsPoints}},{key:_0x4962("0x3c"),get:function(){return m.get(this)},set:function(x){this.mode!=x?(m[_0x4962("0xd8")](this,x),this[_0x4962("0x120f")]()):m[_0x4962("0xd8")](this,x)}},{key:_0x4962("0x1251"),get:function(){return C[_0x4962("0xdb")](this)},set:function(x){var _=this[_0x4962("0x1251")];C[_0x4962("0xd8")](this,x),_!=x&&this[_0x4962("0x227")](_0x4962("0x12b8"),x)}},{key:_0x4962("0x1218"),get:function(){return A[_0x4962("0xdb")](this)},set:function(x){this.ladderType!=x?(A[_0x4962("0xd8")](this,x),this.reRoute()):A[_0x4962("0xd8")](this,x)}},{key:_0x4962("0x695"),get:function(){if(!y[_0x4962("0xdb")](this)){var x=this[_0x4962("0x12b9")];x[_0x4962("0x4d")]=this[_0x4962("0x12ba")]||_0x4962("0x12bb"),x.size=this[_0x4962("0x12bc")]||50,x.spritify=this[_0x4962("0x12bd")],x[_0x4962("0x16c")]=this.locationMarkerSeeThough,x.x=0,x.y=0,y.set(this,new(esmap[_0x4962("0x63c")])(x)),this[_0x4962("0x48")].addLocationMarker(y.get(this))}return y[_0x4962("0xdb")](this)},set:function(x){x instanceof esmap.ESLocationMarker&&(y[_0x4962("0xd8")](this,x),this[_0x4962("0x48")].addLocationMarker(y.get(this)))}}]),x}();_[_0x4962("0xc")]=w},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=o(e(15)),i=o(e(9)),a=o(e(0)),n=o(e(1)),r=o(e(366)),s=e(84);function o(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var c=function(){function x(){(0,a[_0x4962("0xc")])(this,x),this[_0x4962("0x1252")]=new(r[_0x4962("0xc")]),this[_0x4962("0x1211")]=null,this[_0x4962("0x1204")]=null}return(0,n[_0x4962("0xc")])(x,[{key:_0x4962("0x12be"),value:function(x){for(var _={distance:x[_0x4962("0x38")][0].distance,posList:[]},e=x.paths[0][_0x4962("0x12bf")],t=0,i=0,a=e[_0x4962("0x0")];i<a;i++)for(var n=e[i],r=this[_0x4962("0x12c0")](n[_0x4962("0x12c1")]),o=this.transLLPointsToWorldPosPoints(r),c=i==e[_0x4962("0x0")]-1?o[_0x4962("0x0")]:o[_0x4962("0x0")]-1,l=0;l<c;l++){var f=o[l],d=(new(THREE[_0x4962("0x12c")])).copy(f);if(d.segindex=i,_[_0x4962("0x12c2")][_0x4962("0x3")](d),_[_0x4962("0x12c2")][_0x4962("0x0")]>1){var u=_[_0x4962("0x12c2")][_[_0x4962("0x12c2")].length-2],h=_[_0x4962("0x12c2")][_.posList[_0x4962("0x0")]-1];t+=(0,s[_0x4962("0x11d")])({x:u.x,y:u.z},{x:h.x,y:h.z})}}return _[_0x4962("0x12c3")]=t,_}},{key:_0x4962("0x12c4"),value:function(x,_){var e=this;return new(i[_0x4962("0xc")])((function(t,i){var a=_[_0x4962("0x4d")]+"?",n=!1;for(var r in _.param)n&&(a+="&"),a+=r+"="+_.param[r],n=!0;esmap[_0x4962("0xd1c")][_0x4962("0xdb")]({url:a}).success((function(_){var a=JSON[_0x4962("0x71")](_);if("1"===a.status||0===a[_0x4962("0x12c5")]){var n,r=null;x!==_0x4962("0x12c6")?(n=a[_0x4962("0x12c7")][_0x4962("0x38")][0],r=a[_0x4962("0x12c7")]):(n=a[_0x4962("0x57b")][_0x4962("0x38")][0],r=a[_0x4962("0x57b")]);for(var s=e[_0x4962("0x12be")](r),o=s[_0x4962("0x12c3")],c=[],l=s[_0x4962("0x12c2")],f=null,d=0;d<l.length;d++){var u=l[d];f&&u.x===f.x&&u.z===f.z||(c.push({x:u.x,y:u.z}),f=u)}t({pointList:c,rawPointList:s[_0x4962("0x12c2")],distance:o,des:n[_0x4962("0x12bf")]})}else i(),e.emit(_0x4962("0x12c8"),0)}))}))}},{key:_0x4962("0x12c0"),value:function(x){var _=x[_0x4962("0x2d")](";"),e=[],i=!0,a=!1,n=void 0;try{for(var r,s=(0,t[_0x4962("0xc")])(_);!(i=(r=s[_0x4962("0x286")]())[_0x4962("0x426")]);i=!0){var o=r[_0x4962("0xe3")][_0x4962("0x2d")](","),c=[parseFloat(o[0]),parseFloat(o[1])];e[_0x4962("0x3")](c)}}catch(x){a=!0,n=x}finally{try{!i&&s[_0x4962("0x28c")]&&s[_0x4962("0x28c")]()}finally{if(a)throw n}}return e}},{key:_0x4962("0x12c9"),value:function(x){var _=[],e=!0,i=!1,a=void 0;try{for(var n,r=(0,t[_0x4962("0xc")])(x);!(e=(n=r.next())[_0x4962("0x426")]);e=!0){var s=n[_0x4962("0xe3")],o=esmap[_0x4962("0x8c")][_0x4962("0xfc")](s[0],s[1]);_[_0x4962("0x3")](new THREE.Vector3(o[0],0,o[1]))}}catch(x){i=!0,a=x}finally{try{!e&&r.return&&r[_0x4962("0x28c")]()}finally{if(i)throw a}}return _}},{key:_0x4962("0x12ca"),value:function(x,_,e){var t="";return x===_0x4962("0x121f")&&(t="https://restapi.amap.com/v3/direction/driving"),x===_0x4962("0x12cb")&&(t="https://restapi.amap.com/v3/direction/walking"),x===_0x4962("0x12c6")&&(t=_0x4962("0x12cc")),{url:t,param:{origin:_[0][_0x4962("0x65f")](6)+","+_[1][_0x4962("0x65f")](6),destination:e[0][_0x4962("0x65f")](6)+","+e[1][_0x4962("0x65f")](6),output:_0x4962("0x102"),key:this[_0x4962("0x1204")]}}}},{key:_0x4962("0x1219"),value:function(x){var _=x[_0x4962("0x130")],e=x[_0x4962("0x927")],t=x.endPoint,i=x.mode,a=x[_0x4962("0x1218")],n=x[_0x4962("0x121a")],r=x.linkMinDistance,s=x[_0x4962("0x1220")],o=x.type,c=esmap[_0x4962("0x8c")][_0x4962("0xf8")](e.x,e.y),l=esmap[_0x4962("0x8c")][_0x4962("0xf8")](t.x,t.y);if(s){var f=this[_0x4962("0x12ca")](o,c,l);return this.requestAMapData(o,f)}return this[_0x4962("0x1252")][_0x4962("0x12cd")]({linkMinDistance:r,linkStartEnd:n,bid:_,startPoint:e,endPoint:t,mode:i,ladderType:a})}},{key:_0x4962("0x1217"),value:function(x,_){return this[_0x4962("0x1252")][_0x4962("0x12ce")](x,_)}},{key:_0x4962("0x12cf"),value:function(x){this.routeCore[_0x4962("0x89b")]=x}},{key:"routeBetweenBuildings",value:function(x,_,e,t){return this[_0x4962("0x1252")][_0x4962("0x12d0")](x,_,e,t)}},{key:"setPreferCrosses",value:function(x){this[_0x4962("0x1252")][_0x4962("0x12d1")]=[];for(var _=0;_<x[_0x4962("0x0")];_++)this[_0x4962("0x1252")].preferCrosses.push(x[_]+"")}}]),x}();_[_0x4962("0xc")]=c},function(x,_,e){"use strict";(function(x){Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=v(e(6)),i=v(e(78)),a=v(e(7)),n=v(e(367)),r=v(e(33)),s=v(e(23)),o=v(e(47)),c=v(e(8)),l=v(e(9)),f=v(e(2)),d=v(e(0)),u=v(e(1)),h=e(84),g=e(19),b=e(368);function v(x){return x&&x.__esModule?x:{default:x}}var p=function(){function _(){(0,d[_0x4962("0xc")])(this,_);var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];this[_0x4962("0x1253")]={},this.source={},this[_0x4962("0x12d1")]=[],this[_0x4962("0x121b")]=5,this[_0x4962("0x121a")]=!0,this[_0x4962("0x12d2")]={},this[_0x4962("0x12d3")]={},this.baseSceneId=x.id,this[_0x4962("0x12d4")]={},this.linkPoints={},this[_0x4962("0x12d5")]=1,this.preprocessMain()}var e;return(0,u.default)(_,[{key:"isBuildingAccessable",value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")];return x===_.id||0===x||!!_[_0x4962("0x139")](x)}},{key:_0x4962("0x12d6"),value:function(){var x=this,_=esmap.ESMap[_0x4962("0x3a")],e=_[_0x4962("0x2b4")][_0x4962("0x404")],t=_.id;for(var i in this.dataList[t]||(this.dataList[t]={allPointMap:{},allLineMap:{},nearbyLine:{},crossSchemes:{carModeScheme:{},manModeScheme:{},manModeAllScheme:{}}}),e){var a=e[i];a[_0x4962("0xd4b")]&&a[_0x4962("0xd4d")]&&this.preprocessTileNav(a)}_.on(_0x4962("0x12d7"),(function(e){e[_0x4962("0x130")];var t=e[_0x4962("0x57b")],i=_.mapTheme[_0x4962("0xfc3")][_0x4962("0x8bd")][0][_0x4962("0x1a4")]?1*_.mapTheme[_0x4962("0xfc3")][_0x4962("0x8bd")][0].height:0;for(var a in t[_0x4962("0xd4d")])t[_0x4962("0xd4d")][a].Z+=i;x[_0x4962("0x12b3")](t)}));var n=_[_0x4962("0xb4c")][_0x4962("0x404")];for(var r in n){var s=n[r];this[_0x4962("0x12d8")](r,s)}_.on(_0x4962("0xd90"),(function(_){var e=_[_0x4962("0x130")],t=_[_0x4962("0x57b")];x[_0x4962("0x12d8")](e,t)}))}},{key:_0x4962("0x12d9"),value:function(x){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=_.id,t=x[_0x4962("0x415")][_0x4962("0x7d")](2,x[_0x4962("0x415")][_0x4962("0x0")]-2).split(/,/),i={x:0,y:0},a=[];if(0==t[_0x4962("0x0")])return!1;for(var n={x:0,y:0,z:0},r=0;r<t[_0x4962("0x0")];r++){var s=t[r][_0x4962("0x2d")](" "),o=1*s[2]||0,c=_[_0x4962("0x1b7")]({from:_[_0x4962("0x3e9")],to:_[_0x4962("0x1b8")],coord:{x:1*s[0]+i.x+n.x,y:1*s[1]+i.y+n.y}});a[_0x4962("0x3")]({X:c.x,Y:c.y,bid:e,fnum:1,offset:o+n.z}),0==r&&(i.x=1*s[0],i.y=1*s[1])}return a}},{key:"preprocessTileNav",value:function(x){var _=this,e=esmap[_0x4962("0x33")][_0x4962("0x3a")].id;_[_0x4962("0x89b")][e]||(_[_0x4962("0x89b")][e]={navs:[{floornum:1,Lines:{},Nodes:{}}]}),(0,f[_0x4962("0xc")])(_[_0x4962("0x89b")][e][_0x4962("0xd8f")][0].Lines,x[_0x4962("0xd4b")]),(0,f[_0x4962("0xc")])(_[_0x4962("0x89b")][e][_0x4962("0xd8f")][0][_0x4962("0xd4d")],x.Nodes);var t=_[_0x4962("0x1253")][e][_0x4962("0x12da")],i=_[_0x4962("0x1253")][e][_0x4962("0x129e")],a=_[_0x4962("0x1253")][e][_0x4962("0x12db")],n=x,r=n[_0x4962("0xd4d")];for(var s in r){var o=r[s];o[_0x4962("0x132")]=1,o[_0x4962("0x130")]=e,t[s]=o}var c=n[_0x4962("0xd4b")];for(var s in c)c[s][_0x4962("0x0")]=c[s].dis,i[s]=c[s];for(var l in c){var d=c[l],u=null;if(d.points&&d[_0x4962("0x138")].length>=3)u=this[_0x4962("0x12d9")](d);else{var h=this[_0x4962("0x12d9")](d);h.length>=3&&(u=h)}var g=d.sid,b=d[_0x4962("0x5d0")];if(u){var v=g+"_"+b,p=b+"_"+g;this[_0x4962("0x12d4")][v]=u,this[_0x4962("0x12d4")][p]=u[_0x4962("0x1e7")]()[_0x4962("0x2df")]()}var m=l;if(a[g])a[g].push(m);else{var A=[m];a[g]=A}if(a[b])a[b].push(m);else{A=[m];a[b]=A}}}},{key:_0x4962("0x12dc"),value:function(){var x=this,_=esmap[_0x4962("0x33")][_0x4962("0x3a")].id;for(var e in this[_0x4962("0x12dd")]){var t=this[_0x4962("0x12dd")][e];t[_0x4962("0x0")]>=2&&function(){for(var e=function(e){var a=t[e],n=t[_0x4962("0x1e7")](e+1)[_0x4962("0x2e2")]((function(x){var _=(0,h[_0x4962("0x11d")])({x:a[_0x4962("0x303")].X,y:a[_0x4962("0x303")].Y},{x:x[_0x4962("0x303")].X,y:x[_0x4962("0x303")].Y});return x[_0x4962("0x130")]!=a[_0x4962("0x130")]&&_<=10}));if(1===n[_0x4962("0x0")]){var r=t[_0x4962("0x12de")]((function(x){return x.point[_0x4962("0x3df")]===n[0][_0x4962("0x303")][_0x4962("0x3df")]})),s=a[_0x4962("0x303")],o=n[0].point,c={sid:s[_0x4962("0x3df")],eid:o[_0x4962("0x3df")],length:1,bstair:"0",direction:"0",efnum:o[_0x4962("0x132")],rank:1e3,_id:x[_0x4962("0x12d5")]};x[_0x4962("0x12d5")]++,x[_0x4962("0x1253")][_][_0x4962("0x129e")][c[_0x4962("0x3df")]]=c,x[_0x4962("0x1253")][_][_0x4962("0x12db")][s._id].push(c._id),x.dataList[_].nearbyLine[o[_0x4962("0x3df")]][_0x4962("0x3")](c._id),t[_0x4962("0x4")](r,1),t.splice(e,1),e--}i=e},i=0;i<t[_0x4962("0x0")];i++)e(i)}()}}},{key:_0x4962("0x12df"),value:function(x,_){var e=esmap[_0x4962("0x33")][_0x4962("0x3a")];return new l.default((function(t){esmap[_0x4962("0x8c")][_0x4962("0x508")](e,{bid:x,fnum:_},{nodeType:5},(function(x){return t(x)}))}))}},{key:"assignToRoom",value:function(x,_){for(var e=this[_0x4962("0x12d3")][x],t=0;t<e[_0x4962("0x0")];t++)if(esmap.ESMapUtil.pointInArea(_,e[t][_0x4962("0x138")])){this.roomNodeMap[e[t].id]||(this[_0x4962("0x12d2")][e[t].id]=[]),this.roomNodeMap[e[t].id][_0x4962("0x3")](_.id);break}}},{key:_0x4962("0x12d8"),value:(e=(0,c.default)(a.default[_0x4962("0x283")]((function _(e,t){var i,c,l,f,d,u,h,g,b,v,p,m,A,y,C,I,E,w,T,k,M,S,R,L,H,D,O,P,N,F,B,z,U,V,j,Y,Z,W,G,X,Q,J,K,q,$,xx,_x,ex,tx,ix,ax;return a[_0x4962("0xc")].wrap((function(_){for(;;)switch(_.prev=_[_0x4962("0x286")]){case 0:if(x[_0x4962("0xd26")],_0x4962("0xd27"),i=this,c=esmap.ESMap[_0x4962("0x3a")],!i[_0x4962("0x1253")][e]||i[_0x4962("0x1253")][e][_0x4962("0x12e0")]||!i[_0x4962("0x89b")][e]){_[_0x4962("0x286")]=5;break}return _[_0x4962("0x28b")](_0x4962("0x28c"));case 5:l=c.id,this[_0x4962("0x89b")][e]={navs:t},this[_0x4962("0x1218")]=null,this.multiLinesUsed=[],f={},d={1:[],2:[],3:[],6:[]},u={},h={},g={},b=t,v=c[_0x4962("0x139")](e),p=v[_0x4962("0x3b")][_0x4962("0xcaf")],m=0;case 18:if(!(m<b.length)){_[_0x4962("0x286")]=87;break}if(A=b[m],y=A[_0x4962("0xcbb")],esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3c")]!==esmap.MapMode[_0x4962("0x3b8")]){_[_0x4962("0x286")]=27;break}return this[_0x4962("0x12d3")][y]=[],_[_0x4962("0x286")]=25,this[_0x4962("0x12df")](e,y);case 25:for(I in C=_[_0x4962("0x33c")])E=C[I],w=E[_0x4962("0x138")][_0x4962("0x48")]((function(x){return{x:-x.x,y:x.y}})),this[_0x4962("0x12d3")][y][_0x4962("0x3")]({id:E.ID,points:w});case 27:if(A){_[_0x4962("0x286")]=29;break}return _[_0x4962("0x28b")](_0x4962("0x692"),84);case 29:for(k in T=A[_0x4962("0xd4d")]){if((M=T[k])[_0x4962("0x132")]=y,esmap[_0x4962("0x33")][_0x4962("0x3a")].mode===esmap[_0x4962("0x40")].Building&&(S={x:M.X,y:M.Y,id:M[_0x4962("0x3df")]},this[_0x4962("0x12e1")](y,S)),M[_0x4962("0x88")]&&11==M[_0x4962("0x88")])if(1==(R=y-p)){if(l!=e)if((L=this[_0x4962("0x12e2")]({bid:l,x:M.X,y:M.Y}))[_0x4962("0x6a2")]<15){if(H=L[_0x4962("0x6a0")]._id){for(D=i[_0x4962("0x1253")][l][_0x4962("0x12db")][H],O=0;O<D[_0x4962("0x0")];O++)(P=i[_0x4962("0x1253")][l].allLineMap[D[O]])[_0x4962("0xe72")]==H?P[_0x4962("0xe72")]=M[_0x4962("0x3df")]:P[_0x4962("0x5d0")]=M[_0x4962("0x3df")];i.dataList[l][_0x4962("0x12db")][M._id]=D,delete i[_0x4962("0x1253")][l].allPointMap[H]}}else this.linkPoints[R]||(this.linkPoints[R]=[]),this[_0x4962("0x12dd")][R].push({bid:e,fnum:y,point:M,uoffset:p}),_0x4962("0x12e3"),_0x4962("0x12e4"),_0x4962("0x12e5"),M[_0x4962("0x3df")]}else this[_0x4962("0x12dd")][R]||(this[_0x4962("0x12dd")][R]=[]),this[_0x4962("0x12dd")][R].push({bid:e,fnum:y,point:M,uoffset:p});l!=e&&(M[_0x4962("0x130")]=e,i[_0x4962("0x1253")][l][_0x4962("0x12da")][k],i.dataList[l][_0x4962("0x12da")][k]=M),u[k]=M}for(F in N=A[_0x4962("0xd4b")])l!=e&&(i[_0x4962("0x1253")][l].allLineMap[F]&&console[_0x4962("0xe0")]("éå¤ççº¿",F),i[_0x4962("0x1253")][l].allLineMap[F]=N[F]),N[F][_0x4962("0x130")]=e,h[F]=N[F];_.t0=a.default[_0x4962("0xaf3")](N);case 34:if((_.t1=_.t0())[_0x4962("0x426")]){_.next=84;break}if(B=_.t1[_0x4962("0xe3")],z=N[B],U=z.sid,V=z[_0x4962("0x5d0")],j=B,Y=z[_0x4962("0xd4c")],Z=["1","2","3","6"],y==z[_0x4962("0xf0f")]){_[_0x4962("0x286")]=79;break}if(!(Z.indexOf(Y)<0)){_[_0x4962("0x286")]=48;break}f[U]?f[U].push(j):(W=[j],f[U]=W),f[V]?f[V][_0x4962("0x3")](j):(W=[j],f[V]=W),_.next=77;break;case 48:if("5"==Y||"0"==Y||"6"==Y){_[_0x4962("0x286")]=77;break}if(G=d[Y]){_[_0x4962("0x286")]=53;break}return _0x4962("0x12e6"),_.abrupt(_0x4962("0x28c"));case 53:if(0!=G[_0x4962("0x0")]){_[_0x4962("0x286")]=57;break}G.push({pointids:[U,V],fnums:[y,z[_0x4962("0xf0f")]],lineids:[B],ladderType:Y,crosses:(X={},(0,o.default)(X,U,[B]),(0,o[_0x4962("0xc")])(X,V,[B]),X),fnumPoints:[(Q={},(0,o[_0x4962("0xc")])(Q,U,{at:y,to:z[_0x4962("0xf0f")]}),(0,o.default)(Q,V,{at:z[_0x4962("0xf0f")],to:y}),Q)]}),_[_0x4962("0x286")]=77;break;case 57:J=0;case 58:if(!(J<G[_0x4962("0x0")])){_[_0x4962("0x286")]=77;break}if(!((K=G[J]).pointids[_0x4962("0xaf")](U)>-1||K[_0x4962("0x12e7")][_0x4962("0xaf")](V)>-1)){_[_0x4962("0x286")]=73;break}return K[_0x4962("0x12e7")][_0x4962("0x3")](U,V),K[_0x4962("0x191")][_0x4962("0x3")](y,z[_0x4962("0xf0f")]),K[_0x4962("0x12e8")][_0x4962("0x3")](B),K[_0x4962("0x12e8")]=[][_0x4962("0x12")]((0,s[_0x4962("0xc")])(new r.default(K[_0x4962("0x12e8")]))),K[_0x4962("0x191")]=[][_0x4962("0x12")]((0,s[_0x4962("0xc")])(new(r[_0x4962("0xc")])(K[_0x4962("0x191")]))),K[_0x4962("0x12e7")]=[].concat((0,s.default)(new(r[_0x4962("0xc")])(K[_0x4962("0x12e7")]))),K[_0x4962("0x12e9")][_0x4962("0x3")]((q={},(0,o[_0x4962("0xc")])(q,U,{at:y,to:z.efnum}),(0,o[_0x4962("0xc")])(q,V,{at:z[_0x4962("0xf0f")],to:y}),q)),K[_0x4962("0x12ea")][U]?K[_0x4962("0x12ea")][U][_0x4962("0x3")](B):K[_0x4962("0x12ea")][U]=[B],2==K[_0x4962("0x12ea")][U].length&&K[_0x4962("0x12ea")][U][0]==K[_0x4962("0x12ea")][U][1]&&K[_0x4962("0x12ea")][U][_0x4962("0x4")](1,1),K[_0x4962("0x12ea")][V]?K[_0x4962("0x12ea")][V][_0x4962("0x3")](B):K[_0x4962("0x12ea")][V]=[B],2==K.crosses[V][_0x4962("0x0")]&&K.crosses[V][0]==K[_0x4962("0x12ea")][V][1]&&K[_0x4962("0x12ea")][V][_0x4962("0x4")](1,1),_[_0x4962("0x28b")](_0x4962("0xaf5"),77);case 73:J==G[_0x4962("0x0")]-1&&G[_0x4962("0x3")]({pointids:[U,V],fnums:[y,z.efnum],lineids:[B],ladderType:Y,fnumPoints:[($={},(0,o.default)($,U,{at:y,to:z.efnum}),(0,o[_0x4962("0xc")])($,V,{at:z[_0x4962("0xf0f")],to:y}),$)],crosses:(xx={},(0,o[_0x4962("0xc")])(xx,U,[B]),(0,o[_0x4962("0xc")])(xx,V,[B]),xx)});case 74:J++,_[_0x4962("0x286")]=58;break;case 77:_[_0x4962("0x286")]=82;break;case 79:l!=e&&((_x=i[_0x4962("0x1253")][l].nearbyLine)[U]?_x[U].push(j):(ex=[j],_x[U]=ex),_x[V]?_x[V][_0x4962("0x3")](j):(tx=[j],_x[V]=tx)),g[U]?g[U][_0x4962("0x3")](j):(W=[j],g[U]=W),g[V]?g[V][_0x4962("0x3")](j):(W=[j],g[V]=W);case 82:_.next=34;break;case 84:m++,_.next=18;break;case 87:this[_0x4962("0x12dc")](),ix=[][_0x4962("0x12")]((0,s.default)(d[1]),(0,s[_0x4962("0xc")])(d[2]),(0,s[_0x4962("0xc")])(d[3])),ax={},ix.forEach((function(x){ax=(0,n[_0x4962("0xc")])({},ax,x[_0x4962("0x12ea")])})),ax=(0,n.default)({},ax,f),i[_0x4962("0x1253")][l].crossSchemes[_0x4962("0x12eb")]=[][_0x4962("0x12")]((0,s[_0x4962("0xc")])(ix),(0,s.default)(i[_0x4962("0x1253")][l][_0x4962("0x129c")][_0x4962("0x12eb")])),i[_0x4962("0x1253")][l][_0x4962("0x129c")][_0x4962("0x12ec")]=(0,n[_0x4962("0xc")])({},ax,i[_0x4962("0x1253")][l][_0x4962("0x129c")].manModeAllScheme,i[_0x4962("0x1253")][l][_0x4962("0x129c")].carModeScheme),i[_0x4962("0x1253")][l][_0x4962("0x129c")].carModeScheme=(0,n[_0x4962("0xc")])({},f,i[_0x4962("0x1253")][l][_0x4962("0x129c")][_0x4962("0x129d")]),i.dataList[e]={allPointMap:u,allLineMap:h,nearbyLine:g,crossSchemes:{carModeScheme:f,manModeScheme:ix,manModeAllScheme:ax}},x[_0x4962("0xd26")],_0x4962("0xd27"),c[_0x4962("0xe5")](_0x4962("0x12ed"),{bid:e});case 98:case"end":return _.stop()}}),_,this)}))),function(x,_){return e[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x12cd"),value:function(x){this.linkStartEnd=x[_0x4962("0x121a")],this.linkMinDistance=x[_0x4962("0x121b")];var _=x[_0x4962("0x3c")];this.multiLinesUsed=[],x.startPoint[_0x4962("0x132")]||(x[_0x4962("0x927")][_0x4962("0x132")]=1),x[_0x4962("0x92c")][_0x4962("0x132")]||(x[_0x4962("0x92c")][_0x4962("0x132")]=1);var e=this[_0x4962("0x12ee")](x[_0x4962("0x927")][_0x4962("0x130")],x[_0x4962("0x927")].fnum),t=this.getSource(x[_0x4962("0x92c")].bid,x[_0x4962("0x92c")].fnum);if(!e||!t)return console[_0x4962("0x223")](_0x4962("0x12ef")),[new esmap.ESNaviResult(x[_0x4962("0x927")][_0x4962("0x130")],x[_0x4962("0x12f0")],0,[])];var i=this[_0x4962("0x12f1")](x[_0x4962("0x927")][_0x4962("0x130")],x.startPoint,_),a=this[_0x4962("0x12f1")](x.endPoint[_0x4962("0x130")],x[_0x4962("0x92c")],_);if(!i||!a)return null;var n=e[_0x4962("0xd4d")][i[_0x4962("0x3df")]],r=t.Nodes[a._id];return n&&r?(x.endPoint.id=a[_0x4962("0x3df")],this[_0x4962("0x12f3")]({startPoint:x[_0x4962("0x927")],endPoint:x[_0x4962("0x92c")],mode:x[_0x4962("0x3c")],ladderType:x[_0x4962("0x1218")]})):(console[_0x4962("0x293")](_0x4962("0x12f2")),null)}},{key:"getPointById",value:function(x,_){for(var e=this[_0x4962("0x89b")][x].navs,t=0;t<e[_0x4962("0x0")];t++){var i=e[t][_0x4962("0xd4d")];if(i[_])return i[_]}return null}},{key:"getSource",value:function(x,_){for(var e=this[_0x4962("0x89b")][x][_0x4962("0xd8f")],t=0;t<e[_0x4962("0x0")];t++)if(e[t][_0x4962("0xcbb")]==_)return e[t]}},{key:_0x4962("0x12f3"),value:function(x){var _=null,e=this,a=x.startPoint,r=x.endPoint,s=a[_0x4962("0x132")],o=r.fnum,c=x[_0x4962("0x3c")],l=x[_0x4962("0x1218")],d=x[_0x4962("0x12f4")],u=this[_0x4962("0x12f5")],g=this[_0x4962("0x12f1")](a[_0x4962("0x130")],x[_0x4962("0x927")],x.mode,d),v=this.getNearestNode(r.bid,x.endPoint,c,d),p=g[_0x4962("0x3df")],m=v[_0x4962("0x3df")],A=esmap[_0x4962("0x33")].instance,y=A.mode===esmap[_0x4962("0x40")][_0x4962("0x41")];if(p==m)return null;var C,I,E,w,T,k,M,S,R=null,L=e.dataList[u][_0x4962("0x12da")];if(1==c)if(s==o||a[_0x4962("0x130")]!=r[_0x4962("0x130")])(R=this[_0x4962("0x12f6")]({},p,m,c,u,l))&&0!=R[_0x4962("0x0")]||(R=this[_0x4962("0x12f6")](e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x12ec")],p,m,c,u,l));else{var H=[],D=e[_0x4962("0x1253")][u][_0x4962("0x129c")].manModeScheme;(0,i[_0x4962("0xc")])(D).forEach((function(x){x.rank=0,x.hold=!1,x[_0x4962("0x191")].indexOf(s)>-1&&x[_0x4962("0x191")].indexOf(o)>-1&&(1==l?(Math[_0x4962("0x231")](s-o)>=3&&2==x[_0x4962("0x1218")]&&(x.rank+=20),H[_0x4962("0x3")](x)):2==l&&2==x.ladderType?H.push(x):(3==l&&1==x.ladderType||4==l&&3==x[_0x4962("0x1218")])&&H[_0x4962("0x3")](x))})),H[_0x4962("0x20")]((function(x){for(var _,e=void 0,t=o-s>0,i=0;i<x[_0x4962("0x12e9")][_0x4962("0x0")];i++){var n=x[_0x4962("0x12e9")][i];if(_&&e)break;for(var c in n){var l=n[c].to-n[c].at>0;n[c].at==s&&l==t?_=c:n[c].at==o&&l==!t&&(e=c)}}if(_&&e){var f=null;if(p==_)f=.001;else{var d=L[_],u=(0,h[_0x4962("0x11d")])(a,{x:d.X,y:d.Y}),g=L[e];f=u+(0,h[_0x4962("0x11d")])(r,{x:g.X,y:g.Y})+(0,b[_0x4962("0x12f7")])({X:a.x,Y:a.y},d)}x[_0x4962("0x414")]+=500/f}})),H[_0x4962("0x46f")]((function(x,_){return _[_0x4962("0x414")]-x.rank}));for(var O=0;O<H[_0x4962("0x0")];O++)if(!H[O][_0x4962("0x12f8")])try{if((R=this.getShortestPath(H[O][_0x4962("0x12ea")],p,m,c,u,l))&&0!=R[_0x4962("0x0")])break;continue}catch(x){continue}if(!R||0==R[_0x4962("0x0")]){var P=null;if(this[_0x4962("0x12d1")][_0x4962("0x0")]>0)for(var N in P={},e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x12ec")]){for(var F=!1,B=e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x12ec")][N],z=0;z<B[_0x4962("0x0")];z++)if(this[_0x4962("0x12d1")][_0x4962("0xaf")](B[z])>-1){F=!0;break}F&&(P[N]=B)}if(1==l)P&&(R=this[_0x4962("0x12f6")](P,p,m,c,u,l));else{var U={};for(var V in e.dataList[u].crossSchemes[_0x4962("0x12eb")])"1"==e.dataList[u][_0x4962("0x129c")][_0x4962("0x12eb")][V].ladderType&&3==l?U=(0,n[_0x4962("0xc")])({},U,e.dataList[u][_0x4962("0x129c")][_0x4962("0x12eb")][V][_0x4962("0x12ea")]):"2"==e[_0x4962("0x1253")][u].crossSchemes[_0x4962("0x12eb")][V].ladderType&&2==l?U=(0,n[_0x4962("0xc")])({},U,e[_0x4962("0x1253")][u].crossSchemes.manModeScheme[V][_0x4962("0x12ea")]):"3"==e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x12eb")][V][_0x4962("0x1218")]&&4==l&&(U=(0,n[_0x4962("0xc")])({},U,e[_0x4962("0x1253")][u].crossSchemes[_0x4962("0x12eb")][V][_0x4962("0x12ea")]));P&&(R=this.getShortestPath(P,p,m,c,u,l)),R&&0!=R[_0x4962("0x0")]||(R=this[_0x4962("0x12f6")](U,p,m,c,u,l))}R&&0!=R[_0x4962("0x0")]||(R=this[_0x4962("0x12f6")](e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x12ec")],p,m,c,u,l))}}else if(s==o)R=this[_0x4962("0x12f6")]({},p,m,c,u,l);else{var j=e[_0x4962("0x1253")][u][_0x4962("0x129c")][_0x4962("0x129d")];R=this[_0x4962("0x12f6")](j,p,m,c,u,l)}if(R&&R[_0x4962("0x12f9")]&&0!=R[_0x4962("0x12f9")][_0x4962("0x0")]){x[_0x4962("0x12fa")]&&(this[_0x4962("0x12fb")]=this[_0x4962("0x12fb")][_0x4962("0x12")](R[_0x4962("0x12fc")]));for(var Y=R[_0x4962("0x12f9")],Z=R[_0x4962("0x121c")],W=R.walkLines,G={x:L[Y[0]].X,y:L[Y[0]].Y,z:L[Y[0]].Z||0,fnum:L[Y[0]][_0x4962("0x132")],id:L[Y[0]][_0x4962("0x3df")],bid:L[Y[0]][_0x4962("0x130")]||u},X=[new esmap.ESNaviResult(G[_0x4962("0x130")],s,Z,[G])],Q=0;Q<Y[_0x4962("0x0")]-1;Q++){var J=Y[Q],K=Y[Q+1];if((typeof J===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(J))!=_0x4962("0x9")&&"object"!=(typeof K===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(K))){var q=J+"_"+K;if(this[_0x4962("0x12d4")][q]){for(var $=[],xx=this.nodeLinkMap[q][_0x4962("0x0")],_x=0;_x<xx;_x++)if(0!=_x&&_x!=xx-1){var ex=(0,f[_0x4962("0xc")])({},this[_0x4962("0x12d4")][q][_x]);$[_0x4962("0x3")](ex)}Y[_0x4962("0x4")].apply(Y,[Q+1,0].concat($)),Q+=$[_0x4962("0x0")]}}}for(var tx=0;tx<Y.length-1;tx++){var ix=void 0,ax=(ix=(0,t.default)(Y[tx])!=_0x4962("0x9")?L[Y[tx]]:Y[tx])[_0x4962("0x132")],nx=void 0,rx=(nx=(0,t[_0x4962("0xc")])(Y[tx+1])!=_0x4962("0x9")?L[Y[tx+1]]:Y[tx+1])[_0x4962("0x132")],sx=X[X[_0x4962("0x0")]-1],ox=ix[_0x4962("0x130")]||this.baseSceneId,cx=nx[_0x4962("0x130")]||this[_0x4962("0x12f5")],lx=A.getBuildingById(ox);ox!=this.baseSceneId&&lx||(lx=A[_0x4962("0x139")](0));var fx=A[_0x4962("0x139")](cx);cx!=this[_0x4962("0x12f5")]&&fx||(fx=A.getBuildingById(0));var dx=ox!=cx;if(ax-lx[_0x4962("0x3b")][_0x4962("0xcaf")]==rx-fx[_0x4962("0x3b")][_0x4962("0xcaf")])dx&&sx[_0x4962("0x1210")][sx[_0x4962("0x1210")][_0x4962("0x0")]-1]&&(sx[_0x4962("0x1210")][sx.pointList[_0x4962("0x0")]-1][_0x4962("0x12fd")]=!0),void 0===nx[_0x4962("0x3df")]&&void 0===nx.Z&&(nx.Z=nx[_0x4962("0x15c")]),sx.pointList[_0x4962("0x3")]({x:nx.X,y:nx.Y,z:nx.Z||0,bid:cx,fnum:nx[_0x4962("0x132")],id:nx._id,entries:dx}),W[tx]&&sx[_0x4962("0x1254")][_0x4962("0x3")](W[tx]);else{ix.X,ix.Y,nx.Z,ix[_0x4962("0x132")],ix[_0x4962("0x3df")];var ux={x:nx.X,y:nx.Y,z:nx.Z||0,bid:cx,fnum:nx[_0x4962("0x132")],id:nx[_0x4962("0x3df")]};X[_0x4962("0x3")](new(esmap[_0x4962("0x646")])(cx,rx,Z,[ux]))}}for(var hx=0;hx<X[_0x4962("0x0")];hx++)if(0==X[hx][_0x4962("0x1210")].length)X[_0x4962("0x4")](hx,1),hx--;else if(y)for(var gx=X[hx].pointList,bx=0;bx<gx[_0x4962("0x0")];bx++)gx[bx][_0x4962("0x130")]==this[_0x4962("0x12f5")]&&1!=gx[bx][_0x4962("0x132")]&&(gx[bx].fnum=1);for(var vx=1;vx<X[_0x4962("0x0")]-1;vx++){var px=X[vx];0!=px[_0x4962("0x0")]&&1==px[_0x4962("0x1210")][_0x4962("0x0")]&&X[vx-1][_0x4962("0x132")]==px[_0x4962("0x132")]&&X[vx+1].fnum==px[_0x4962("0x132")]&&(X[_0x4962("0x4")](vx-1,3),vx-=3)}if(this.linkStartEnd){var mx=this.linkMinDistance;if(X[0]&&X[0].pointList.length>=2){var Ax=new(THREE[_0x4962("0x12c")])(X[0].pointList[0].x,0,X[0][_0x4962("0x1210")][0].y),yx=new(THREE[_0x4962("0x12c")])(a.x,0,a.y),Cx=new(THREE[_0x4962("0x12c")])(X[0][_0x4962("0x1210")][1].x,0,X[0].pointList[1].y),Ix=Ax[_0x4962("0x22d")](yx),Ex=Ax.angleTo(Cx),wx=Ax.distanceTo(yx),Tx=s;if(Math.abs(Ix-Ex)<=90){var kx={};(0,h[_0x4962("0x1256")])({x:a.x,y:a.y},{x:X[0][_0x4962("0x1210")][0].x,y:X[0][_0x4962("0x1210")][0].y},{x:X[0][_0x4962("0x1210")][1].x,y:X[0][_0x4962("0x1210")][1].y},kx),X[0][_0x4962("0x1210")][0].x=kx.x,X[0][_0x4962("0x1210")][0].y=kx.y}wx>=mx&&X[0][_0x4962("0x1210")].unshift({x:a.x,y:a.y,z:X[0].pointList[0].z||0,bid:a[_0x4962("0x130")],fnum:Tx})}if(X[X.length-1]&&X[X[_0x4962("0x0")]-1][_0x4962("0x1210")][_0x4962("0x0")]>=2){var Mx=X[X[_0x4962("0x0")]-1][_0x4962("0x1210")],Sx=new(THREE[_0x4962("0x12c")])(Mx[Mx[_0x4962("0x0")]-1].x,0,Mx[Mx[_0x4962("0x0")]-1].y),Rx=new(THREE[_0x4962("0x12c")])(r.x,0,r.y),Lx=new THREE.Vector3(Mx[Mx[_0x4962("0x0")]-2].x,0,Mx[Mx[_0x4962("0x0")]-2].y),Hx=Sx[_0x4962("0x22d")](Rx),Dx=Sx[_0x4962("0x22d")](Lx),Ox=Sx[_0x4962("0x23a")](Rx),Px=o;if(Math.abs(Hx-Dx)<=90){var Nx={};(0,h[_0x4962("0x1256")])({x:r.x,y:r.y},{x:Mx[Mx.length-1].x,y:Mx[Mx[_0x4962("0x0")]-1].y},{x:Mx[Mx[_0x4962("0x0")]-2].x,y:Mx[Mx[_0x4962("0x0")]-2].y},Nx),Mx[Mx[_0x4962("0x0")]-1].x=Nx.x,Mx[Mx[_0x4962("0x0")]-1].y=Nx.y}Ox>=mx&&Mx[_0x4962("0x3")]({x:r.x,y:r.y,z:Mx[Mx[_0x4962("0x0")]-1].z||0,bid:r[_0x4962("0x130")],fnum:Px})}}for(var Fx=0,Bx=0;Bx<X.length;Bx++){var zx=X[Bx];if(zx[_0x4962("0x1210")][_0x4962("0x0")]>=2)for(var Ux=zx[_0x4962("0x1210")],Vx=0;Vx<Ux[_0x4962("0x0")]-1;Vx++){var jx=Ux[Vx],Yx=Ux[Vx+1];jx.bid==Yx[_0x4962("0x130")]?jx[_0x4962("0x132")]==Yx[_0x4962("0x132")]&&(Fx+=(T=jx,k=Yx,M=void 0,S=void 0,M=new(THREE[_0x4962("0x12c")])(T.x,T.z,T.y),S=new(THREE[_0x4962("0x12c")])(k.x,k.z,k.y),M[_0x4962("0x23a")](S))):Fx+=(C=jx,I=Yx,E=void 0,w=void 0,E=new THREE.Vector2(C.x,C.y),w=new THREE.Vector2(I.x,I.y),E[_0x4962("0x23a")](w))}}_={costDistance:Fx,result:X}}return _}},{key:_0x4962("0x12f6"),value:function(x,_,e,t,i,a){if(_!=e){var n=this,r=n[_0x4962("0x1253")][i].allPointMap,s=n[_0x4962("0x1253")][i][_0x4962("0x129e")],o=n.dataList[i].nearbyLine,c={};c[_0x4962("0x92c")]=_,c[_0x4962("0x121c")]=0,c[_0x4962("0x12ff")]=0,c.walkPath=[_],c[_0x4962("0x12fc")]=[];for(var l=[],f=[],d=r[e],u=o[e],h=1;h<1e4&&c;h++){if(c[_0x4962("0x92c")]==e)return c;if((0,g[_0x4962("0x18")])(l,c[_0x4962("0x92c")]))f[_0x4962("0x46f")](this[_0x4962("0x1300")]("JudgeCostDistance")),c=f[0],f.shift();else{var b=this[_0x4962("0x1301")](_,c,r,s,o,x,l,t,d,i,a);l.push(c[_0x4962("0x92c")]);for(var v=0;v<b[_0x4962("0x0")];v++)f[_0x4962("0x3")](b[v]);if(f[_0x4962("0x46f")](this[_0x4962("0x1300")](_0x4962("0x12ff"))),!(c=f[0]))return[];var p=o[c[_0x4962("0x92c")]];if(u&&p&&1==p[_0x4962("0x0")]&&1!=h)0!=p[_0x4962("0x2e2")]((function(x){return u[_0x4962("0xaf")](x)>=0}))[_0x4962("0x0")]||x[c[_0x4962("0x92c")]]||l[_0x4962("0x3")](c[_0x4962("0x92c")]);f.shift()}}return[]}console[_0x4962("0x293")](_0x4962("0x12fe"))}},{key:_0x4962("0x1301"),value:function(x,_,e,t,i,a,n,r,s,o,c){var l=[],f=_[_0x4962("0x92c")],d={2:2,3:1,4:3,1:999},u=e[f][_0x4962("0x130")]||0;if(!this[_0x4962("0x1302")](u))return[];if(i[f])for(var v=i[f],p=0;p<v[_0x4962("0x0")];p++){var m=(C=t[y=v[p]])[_0x4962("0x130")]||0;if(this[_0x4962("0x1302")](m)){var A=C.eid;if(!(0,g[_0x4962("0x18")])(this[_0x4962("0x12fb")],y)&&(2!=r||"4"==C[_0x4962("0xd4c")]||"5"==C[_0x4962("0xd4c")])){if(f==C[_0x4962("0x5d0")]){if(2==r&&"1"==C.direction)continue;if(1==r&&"1"==C[_0x4962("0x411")]&&("0"==C.bstair||"4"==C[_0x4962("0xd4c")]||"6"==C[_0x4962("0xd4c")]))continue;if(1==r&&"8"==C[_0x4962("0xd4c")])continue;A=C[_0x4962("0xe72")]}if(!(0,g[_0x4962("0x18")])(n,A))(I=(0,b[_0x4962("0x1303")])(_))[_0x4962("0x92c")]=A,I[_0x4962("0x12f9")][_0x4962("0x3")](A),I[_0x4962("0x12fc")].push(y),I[_0x4962("0x121c")]+=C[_0x4962("0x0")],1e3!=C[_0x4962("0x414")]&&(I[_0x4962("0x121c")]+=1e3/C[_0x4962("0x414")]),e[A]||console[_0x4962("0x293")](_0x4962("0x1304")),I[_0x4962("0x12ff")]=(0,b[_0x4962("0x12f7")])(e[A],s,1),I[_0x4962("0x12ff")]+=I[_0x4962("0x121c")],l[_0x4962("0x3")](I)}}}if(a[f])for(v=a[f],p=0;p<v[_0x4962("0x0")];p++){var y,C;A=(C=t[y=v[p]])[_0x4962("0x5d0")];if(1*f==C[_0x4962("0x5d0")]){if(2==r&&"1"==C[_0x4962("0x411")])continue;if(1==r&&"1"==C[_0x4962("0x411")]&&("1"==C.bstair||"3"==C[_0x4962("0xd4c")]))continue;A=C[_0x4962("0xe72")]}if(!(0,g.exitInArray)(n,A)){var I;(I=(0,b.deepClone)(_))[_0x4962("0x92c")]=A,I[_0x4962("0x12f9")][_0x4962("0x3")](A),I[_0x4962("0x12fc")][_0x4962("0x3")](y);var E=1e3;1e3!=C[_0x4962("0x414")]&&(E=C[_0x4962("0x414")]);var w,T=null;if(x==f||s[_0x4962("0x3df")]==f)T=.001;else{var k=e[f],M=e[x],S=(0,h[_0x4962("0x11d")])({x:M.X,y:M.Y},{x:k.X,y:k.Y}),R=e[A];T=S+(0,h[_0x4962("0x11d")])({x:s.X,y:s.Y},{x:R.X,y:R.Y})+(0,b[_0x4962("0x12f7")])(M,k)}E+=T;for(var L=this.source[o].navs,H=0;H<L[_0x4962("0x0")];H++)if(L[H][_0x4962("0xd4d")][C[_0x4962("0xe72")]]){w=H;break}w&&C[_0x4962("0xf0f")]&&Math[_0x4962("0x231")](w-C.efnum)>1&&(I.costDistance+=10);var D=d[c]==1*C[_0x4962("0xd4c")]?1:20;I[_0x4962("0x121c")]+=D+1e3/E,l[_0x4962("0x3")](I)}}return l}},{key:"getNearestNode",value:function(x,_,e,t){var i=this[_0x4962("0x12ee")](x,_[_0x4962("0x132")]),a=_.mapcoord||{x:_.x,y:_.y},n=i[_0x4962("0xd4d")],r=[1/0,0],s=[];if(esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")]){var o=this[_0x4962("0x12d3")][_[_0x4962("0x132")]||_[_0x4962("0xcbb")]],c=null;for(var l in o){var f=o[l][_0x4962("0x138")];if(esmap.ESMapUtil.pointInArea(a,f)){c=o[l].id;break}}c&&(s=this[_0x4962("0x12d2")][c]||[])}if(2==e){for(var d in n)if(!(esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&s[_0x4962("0x0")]>0&&s[_0x4962("0xaf")](1*d)<0)){var u=n[d];if(!t||!u[_0x4962("0x88")]||11!=u[_0x4962("0x88")])if(4==u.tid||5==u[_0x4962("0x88")]||54==u[_0x4962("0x88")])(h=Math.abs(Math[_0x4962("0x120")](Math[_0x4962("0xf7")](u.X-a.x,2)+Math[_0x4962("0xf7")](u.Y-a.y,2))))<r[0]&&(r[0]=h,r[1]=d)}}else for(var d in n)if(!(esmap[_0x4962("0x33")][_0x4962("0x3a")].mode===esmap[_0x4962("0x40")].Building&&s[_0x4962("0x0")]>0&&s[_0x4962("0xaf")](1*d)<0)){var h;u=n[d];if(!t||!u[_0x4962("0x88")]||11!=u.tid)(h=Math[_0x4962("0x231")](Math[_0x4962("0x120")](Math[_0x4962("0xf7")](u.X-a.x,2)+Math[_0x4962("0xf7")](u.Y-a.y,2))))<r[0]&&(r[0]=h,r[1]=d)}return n[r[1]]}},{key:_0x4962("0x1305"),value:function(x){var _=this.source[x[_0x4962("0x130")]].navs,e=[];return _[_0x4962("0x20")]((function(x){var _=x[_0x4962("0xd4d")];for(var t in _){var i=_[t];i[_0x4962("0x88")]&&11==i[_0x4962("0x88")]&&e[_0x4962("0x3")](i)}})),e}},{key:_0x4962("0x12e2"),value:function(x,_){var e=this[_0x4962("0x89b")][x[_0x4962("0x130")]][_0x4962("0xd8f")],t=[1/0,0,{},1];return e[_0x4962("0x20")]((function(_){var e=_[_0x4962("0xd4d")],i=_[_0x4962("0xcbb")];for(var a in e){var n=e[a];if(n[_0x4962("0x88")]&&11==n[_0x4962("0x88")]){var r=Math.abs(Math[_0x4962("0x120")](Math[_0x4962("0xf7")](n.X-x.x,2)+Math.pow(n.Y-x.y,2)));r<t[0]&&(t[0]=r,t[1]=a,t[2]=n,t[3]=i)}}})),{node:t[2],fnum:t[3],dis:t[0]}}},{key:_0x4962("0x1300"),value:function(x){return function(_,e){return _[x]-e[x]}}}]),_}();_.default=p})[_0x4962("0xf")](this,e(62))},,function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t,i=e(6),a=(t=i)&&t[_0x4962("0xa")]?t:{default:t};_.manhattenCost=function(x,_){return Math[_0x4962("0x231")](x.X-_.X)+Math[_0x4962("0x231")](x.Y-_.Y)},_.deepClone=function x(_){var e;if((typeof _===_0x4962("0x21")?"undefined":(0,a.default)(_))==_0x4962("0x9"))if(null===_)e=null;else if(_ instanceof Array){e=[];for(var t=0,i=_.length;t<i;t++)e[_0x4962("0x3")](x(_[t]))}else for(var n in e={},_)e[n]=x(_[n]);else e=_;return e}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_,e,i,a){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x132")]=e,this.bid=_,this[_0x4962("0x0")]=i,this.pointList=a,this[_0x4962("0x1254")]=[]}return(0,i.default)(x,[{key:_0x4962("0x1306"),value:function(){return this.fnum}},{key:_0x4962("0x1307"),value:function(){return this[_0x4962("0x0")]}},{key:_0x4962("0x1308"),value:function(){for(var x=[],_=0,e=this[_0x4962("0x1210")][_0x4962("0x0")];_<e;_++)x[_0x4962("0x3")]({x:this[_0x4962("0x1210")][_].x,y:this.pointList[_].y,fnum:this[_0x4962("0x132")]});return x}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=d(e(9)),i=d(e(7)),a=d(e(8)),n=d(e(2)),r=d(e(0)),s=d(e(1)),o=e(65),c=e(42),l=d(e(110)),f=d(e(24));function d(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var u=function(){function x(_){(0,r[_0x4962("0xc")])(this,x),this[_0x4962("0x530")]=(0,n[_0x4962("0xc")])({type:_0x4962("0x52"),useCrst:!0,merge:!0,model:"",url:"",bid:0,fnum:1,gid:0,id:null,name:"",bclick:!1,points:[],height:0,repeatset:1,heightset:1,thickset:1,showLevel:12.5,error:null,created:null},_),this.ID=this[_0x4962("0x530")].id,this[_0x4962("0x107")]=this.configs[_0x4962("0x107")],this[_0x4962("0xf2")]=new THREE.Object3D,this[_0x4962("0x125")]=6,this.o3d_[_0x4962("0xf1")]=this,this[_0x4962("0xf2")][_0x4962("0x107")]=_0x4962("0x108"),this[_0x4962("0x195")]=this[_0x4962("0xf2")][_0x4962("0x195")],this[_0x4962("0xdd7")]=!0,this[_0x4962("0x4d")]=this[_0x4962("0x530")][_0x4962("0x4d")],this[_0x4962("0x48")]=esmap[_0x4962("0x33")][_0x4962("0x3a")],this.inited=!1,this[_0x4962("0x1129")]=!1,this[_0x4962("0x17b")]=null,this[_0x4962("0x1309")]=null,this[_0x4962("0x20a")](),this[_0x4962("0x39")](),this[_0x4962("0x48")][_0x4962("0x1f6")]<this.configs[_0x4962("0x311")]&&(this[_0x4962("0xf2")].visible=!1)}var _;return(0,s[_0x4962("0xc")])(x,[{key:_0x4962("0x20a"),value:function(){var x=this;this[_0x4962("0x48")].on(_0x4962("0xb23"),(function(){var _=x[_0x4962("0x48")][_0x4962("0x1f6")];x[_0x4962("0xf2")]&&(_<x[_0x4962("0x530")][_0x4962("0x311")]?x[_0x4962("0xf2")][_0x4962("0x17c")]&&(x.o3d_[_0x4962("0x17c")]=!1):x[_0x4962("0xf2")][_0x4962("0x17c")]||(x[_0x4962("0xf2")][_0x4962("0x17c")]=!0))}))}},{key:_0x4962("0xf5"),value:function(){var x=this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3fb")][this.configs[_0x4962("0x130")]];if(x){var _=x[_0x4962("0xaf")](this[_0x4962("0xf2")]);_>-1&&x[_0x4962("0x4")](_,1)}this[_0x4962("0xf2")]&&(this[_0x4962("0xf2")][_0x4962("0x17c")]=!1,this[_0x4962("0xf2")][_0x4962("0x17b")]&&this.o3d_[_0x4962("0x17b")][_0x4962("0x197")](this[_0x4962("0xf2")]),(0,o[_0x4962("0xeb")])(this.o3d_,!1))}},{key:_0x4962("0x39"),value:(_=(0,a[_0x4962("0xc")])(i[_0x4962("0xc")].mark((function x(){var _,e,t,a,n,r,s,o,d,u,h,g,b,v,p,m;return i[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(!this.inited){x[_0x4962("0x286")]=2;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 2:if(_=this[_0x4962("0x48")],e=this[_0x4962("0x530")],t=e[_0x4962("0x130")],a=e[_0x4962("0x138")],n=e[_0x4962("0x43e")],r=e[_0x4962("0x9d")],0!=a.length){x[_0x4962("0x286")]=9;break}return console[_0x4962("0xe0")]("ESWallåå§åå¤±è´¥:pointsä¸è½æªç©º"),this[_0x4962("0xa26")]=!0,x[_0x4962("0x28b")](_0x4962("0x28c"));case 9:return(s=this[_0x4962("0x48")][_0x4962("0x310")](t))||(s=this[_0x4962("0x48")][_0x4962("0x139")](t)),s||(o=t[_0x4962("0x2d")]("_"),d=(0,c[_0x4962("0xec")])(1*o[0],1*o[1],_[_0x4962("0x3b")][_0x4962("0x1b6")],!0),u=(d[_0x4962("0xf9")]-d[_0x4962("0xfd")])/2+d[_0x4962("0xfd")],h=(d[_0x4962("0xfa")]-d[_0x4962("0xfe")])/2+d[_0x4962("0xfe")],(g=new l.default({id:t,map:_}))[_0x4962("0x131")]=[u,h],g[_0x4962("0x213")]=1,g[_0x4962("0xf2")].position[_0x4962("0xd8")](0,0,0),_[_0x4962("0x34")].getTileScene().add(g[_0x4962("0xf2")]),s=g),b=null,1==s[_0x4962("0x213")]?s[_0x4962("0x3c3")][_0x4962("0x407")](_0x4962("0x130a"),esmap.ESLayerType[_0x4962("0x1e3")]).o3d_[_0x4962("0xda")](this[_0x4962("0xf2")]):(b=s,s.getFloor(this[_0x4962("0x530")].fnum)[_0x4962("0x407")](_0x4962("0x130a"),esmap[_0x4962("0x3d6")][_0x4962("0x1e3")]).o3d_[_0x4962("0xda")](this.o3d_)),this.parent=s,this[_0x4962("0x264")]=s[_0x4962("0x264")],this.url[_0x4962("0xaf")](_0x4962("0x130b"))<0&&(v=this.configs[_0x4962("0x288")][_0x4962("0x14d")](".gltf",""),r==_0x4962("0x52")?this[_0x4962("0x4d")]=f[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0xc05"),{filename:v,buildingId:this[_0x4962("0x530")][_0x4962("0x130")],modeltoken:_[_0x4962("0xad")]}):this[_0x4962("0x4d")]=f[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x60"),{filename:v,modeltoken:_.__mtn}),this[_0x4962("0x4d")]=this.url[_0x4962("0x14d")](/([^:]\/)\/+/g,"$1")),x.next=20,this[_0x4962("0x130c")]();case 20:(p=x.sent)?(m=p.scene[_0x4962("0x126")](),this[_0x4962("0x1309")]=m,this._oriModelObj=p,n&&this[_0x4962("0x48")][_0x4962("0x194")].addObject(this[_0x4962("0xf2")],t),this.mapCoord={x:a[0].x,y:a[0].y},this.inited=!0,this[_0x4962("0x130d")](a,b),this[_0x4962("0x530")][_0x4962("0x1ef")]&&this[_0x4962("0x530")][_0x4962("0x1ef")](this)):(this[_0x4962("0xa26")]=!0,this.configs[_0x4962("0xe0")]&&this.configs[_0x4962("0xe0")](this));case 22:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x130d"),value:function(x,_){if(this.inited){for(;this.o3d_[_0x4962("0xf3")][_0x4962("0x0")]>0;){this[_0x4962("0xf2")].children[0];this.o3d_[_0x4962("0xf3")].pop()}var e=this.configs[_0x4962("0x130e")],t=this[_0x4962("0x1309")],i=this,a=this[_0x4962("0x530")],r=a[_0x4962("0x288")],s=a[_0x4962("0x130f")],o=a.heightset,c=a[_0x4962("0x1a4")],l=a.id,f=a[_0x4962("0x1310")],d=a.merge;this.configs[_0x4962("0x138")]=x,this[_0x4962("0x530")][_0x4962("0x12d")]=!1;var u=this[_0x4962("0x48")],h=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](this[_0x4962("0x1309")]),g=h[_0x4962("0x300")].x-h[_0x4962("0x301")].x,b=[];x.forEach((function(x){var _=x;e&&(_=u.transformCoord({from:u.DEFAULT_COORDSYSTEM,to:u[_0x4962("0x1b8")],coord:{x:x.x,y:x.y}})),b[_0x4962("0x3")](new(THREE[_0x4962("0x568")])(_.x,_.y))}));var v=[],p=g/f;if(this[_0x4962("0x1311")](b,0,v,p,g),0==v[_0x4962("0x0")])return console[_0x4962("0x44a")](_0x4962("0x1312")+l+" ,æ¨¡å:"+r),void(this[_0x4962("0xa26")]=!0);var m=[];if(v.forEach((function(x,e){var t=new(THREE[_0x4962("0x12c")])(parseFloat(x.scale),parseFloat(o),parseFloat(s));0==t.x&&(t.x=1),0==t.y&&(t.y=1),0==t.z&&(t.z=1);var a=Math.PI/180,n=new(THREE[_0x4962("0x241")])(0,parseFloat(x.angle)*a,0),f=null;(f=i.map[_0x4962("0x3c")]===esmap.MapMode[_0x4962("0x41")]&&_?i[_0x4962("0x48")][_0x4962("0xb4c")][_0x4962("0xe8c")](x,_):i[_0x4962("0x48")][_0x4962("0x2c3")](x,!0)).y=0,f.y+=parseFloat(c),m[_0x4962("0x3")]({id:l+"-"+e,model:r,rotation:n,position:f,scale:t})})),d){t[_0x4962("0x104")]((function(x){x.material&&(x[_0x4962("0xf6")]=x.material[_0x4962("0x126")]())}));var A=(0,n[_0x4962("0xc")])({},this[_0x4962("0x1313")],{scene:t,scenes:[t]}),y=this.modelLoadManager[_0x4962("0xa30")][_0x4962("0x12d")](A,m);this[_0x4962("0xf2")][_0x4962("0xda")](y),this[_0x4962("0xf2")][_0x4962("0x166")][_0x4962("0xacf")]=!0}else{t.traverse((function(x){x.material&&(x[_0x4962("0xf6")]=x.material[_0x4962("0x126")]())}));for(var C=0;C<m.length;C++){var I=m[C],E=t[_0x4962("0x126")](!0);(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](E)[_0x4962("0x2f0")](E.position),E.position[_0x4962("0x250")](-1);var w=new(THREE[_0x4962("0x20c")]);w[_0x4962("0xda")](E),E[_0x4962("0x166")].id=I.id,w.rotation[_0x4962("0x206")](I[_0x4962("0x210")]),w[_0x4962("0x1fe")][_0x4962("0x206")](I[_0x4962("0x1fe")]),w[_0x4962("0x106")][_0x4962("0x206")](I[_0x4962("0x106")]),this[_0x4962("0xf2")][_0x4962("0xda")](w)}}this[_0x4962("0x217")]={x:x[0].x,y:x[0].y}}}},{key:_0x4962("0x130c"),value:function(){var x=this,_=this[_0x4962("0x530")].model;return new t.default((function(e){if(x[_0x4962("0x48")].mapService[_0x4962("0x287")][_])e(x[_0x4962("0x48")].mapService[_0x4962("0x287")][_][_0x4962("0x2ee")]);else{if(!x[_0x4962("0x264")][_0x4962("0x2f2")][_]){var t={name:_0x4962("0xdda"),layerid:x.uuid,model:x.configs[_0x4962("0x288")],url:x.url,id:_0x4962("0xdda"),bclick:0,fnum:1,iswall:!0,gid:0,scale:new THREE.Vector3(1,1,1),rotation:new THREE.Vector3(0,0,0),position:new(THREE[_0x4962("0x12c")])(1,1,1),parent:new THREE.Group};x.modelLoadManager.addUserModel(t)}x[_0x4962("0x48")].on(_0x4962("0xdaa"),(function(x){x[_0x4962("0x107")]==_&&e(x[_0x4962("0x2ee")])})),x[_0x4962("0x48")].on("modelPrefetchFailed",(function(x){x[_0x4962("0x107")]==_&&e(null)}))}}))}},{key:_0x4962("0x1311"),value:function(x,_,e,t,i){if(_==x[_0x4962("0x0")]-1)return!0;var a,n,r,s,o,c,l=x[_],f=x[_+1],d=f[_0x4962("0x126")]()[_0x4962("0x52d")](l),u=t/2,h=(a=f,n=l,r=new(THREE[_0x4962("0x12c")])(1,0,0),s=new(THREE[_0x4962("0x12c")])(a.x,0,a.y),o=new(THREE[_0x4962("0x12c")])(n.x,0,n.y).clone().sub(s)[_0x4962("0x30e")](),c=o.angleTo(r)*THREE.Math[_0x4962("0x6ac")],o[_0x4962("0x126")]()[_0x4962("0x314")](r).y>0?c:360-c),g=d[_0x4962("0x0")]();if(d[_0x4962("0x30e")](),0!=g){if(g>t){var b=Math[_0x4962("0x31")](g/t),v=g%t,p=l[_0x4962("0x126")]().add(d[_0x4962("0x126")]()[_0x4962("0x250")](u));p[_0x4962("0x234")]=h,p[_0x4962("0x1fe")]=t/i,e.push(p);for(var m=1;m<b;m++){var A=e[e[_0x4962("0x0")]-1].clone().add(d[_0x4962("0x126")]()[_0x4962("0x250")](t));A[_0x4962("0x234")]=h,A[_0x4962("0x1fe")]=t/i,e[_0x4962("0x3")](A)}if(v>0)if(v>=i/2){var y=e[e.length-1][_0x4962("0x126")]()[_0x4962("0xda")](d[_0x4962("0x126")]().multiplyScalar(u+v/2));y.angle=h,y.scale=v/i,e[_0x4962("0x3")](y)}else{var C=e[e[_0x4962("0x0")]-1];C.scale=(v+t)/i;var I=C[_0x4962("0x126")]()[_0x4962("0xda")](d[_0x4962("0x126")]()[_0x4962("0x250")](v/2));C.x=I.x,C.y=I.y}}else{var E=l[_0x4962("0x126")]()[_0x4962("0xda")](d.clone().multiplyScalar(g/2));E[_0x4962("0x234")]=h,E[_0x4962("0x1fe")]=g/i,e.push(E)}this[_0x4962("0x1311")](x,++_,e,t,i)}}},{key:"changeColor",value:function(x){var _=!1===x,e=this[_0x4962("0x530")][_0x4962("0x12d")];this[_0x4962("0xf2")][_0x4962("0x104")]((function(t){if(t[_0x4962("0xf6")])if(t[_0x4962("0xf6")]instanceof Array)if(e)t[_0x4962("0xf6")][0][_0x4962("0x166")].originEMS||(t[_0x4962("0xf6")][0][_0x4962("0x166")].originEMS=t[_0x4962("0xf6")][0][_0x4962("0x439")][_0x4962("0x126")]()),_?(t[_0x4962("0xf6")][0].emissive=t[_0x4962("0xf6")][0][_0x4962("0x166")][_0x4962("0xad0")],t[_0x4962("0xf6")][0].userData[_0x4962("0xad0")]=null):t.material[0][_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(x);else for(var i=0;i<t[_0x4962("0xf6")][_0x4962("0x0")];i++){var a=t[_0x4962("0xf6")][i][_0x4962("0x126")]();a[_0x4962("0x2")]("emissive")&&(a[_0x4962("0x166")][_0x4962("0xad0")]||(a[_0x4962("0x166")][_0x4962("0xad0")]=a.emissive.clone()),_?a[_0x4962("0x439")]=a.userData[_0x4962("0xad0")]instanceof THREE[_0x4962("0x188")]?a[_0x4962("0x166")][_0x4962("0xad0")]:new THREE.Color(a[_0x4962("0x166")][_0x4962("0xad0")]):a.emissive=new(THREE[_0x4962("0x188")])(x),t.material[i]=a,a[_0x4962("0x187")]=!0)}else{var n=t[_0x4962("0xf6")];n[_0x4962("0x2")](_0x4962("0x439"))&&(_?n[_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(n.userData[_0x4962("0xad0")]):((n=t[_0x4962("0xf6")][_0x4962("0x126")]())[_0x4962("0x166")][_0x4962("0xad0")]||(n[_0x4962("0x166")][_0x4962("0xad0")]=t[_0x4962("0xf6")][_0x4962("0x439")][_0x4962("0xad2")]()),n[_0x4962("0x439")]=new(THREE[_0x4962("0x188")])(x),t.material=n),t[_0x4962("0xf6")].needsUpdate=!0)}}))}}]),x}();_[_0x4962("0xc")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=f(e(5)),i=f(e(6)),a=f(e(0)),n=f(e(1)),r=f(e(10)),s=f(e(11)),o=f(e(79)),c=e(4),l=f(e(24));function f(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var d=function(x){function _(x){(0,a[_0x4962("0xc")])(this,_);var e=esmap[_0x4962("0x33")][_0x4962("0x3a")],n=e.mapView.getCenter();0==x.x&&(x.x=n.x),0==x.y&&(x.y=n.y);var s=e[_0x4962("0x237")]({x:x.x,y:x.y,z:x[_0x4962("0x1a4")]||0}),o=void 0;if((0,i[_0x4962("0xc")])(x[_0x4962("0x234")])===_0x4962("0x9"))o={x:THREE.Math[_0x4962("0x242")](x[_0x4962("0x234")].x||0),y:THREE[_0x4962("0x20e")][_0x4962("0x242")](x.angle.y||0),z:THREE[_0x4962("0x20e")].degToRad(x.angle.z||0)};else{var f;if(isNaN(x[_0x4962("0x234")])&&null!=x[_0x4962("0x234")])return f=console.error("angle must be a object or number!"),(0,r.default)(A,f);o={x:0,y:THREE[_0x4962("0x20e")][_0x4962("0x242")]((0,c[_0x4962("0x13")])(x,"angle",0)),z:0}}var d=(0,c[_0x4962("0x13")])(x,_0x4962("0xdd"),1),u=(typeof d===_0x4962("0x21")?"undefined":(0,i.default)(d))===_0x4962("0x9")?{x:d.x||1,y:d.y||1,z:d.z||1}:{x:d,y:d,z:d},h=(0,c[_0x4962("0x13")])(x,_0x4962("0x4d"),_0x4962("0x288")),g="",b=h[_0x4962("0x7c")]("/");g=b>=0?h[_0x4962("0x1e7")](b+1):h,e[_0x4962("0x7f")][_0x4962("0x80")]("sk")&&h[_0x4962("0xaf")](_0x4962("0x130b"))<0&&(g=h||x.name,h=h[_0x4962("0x14d")](/\.gltf$/,"")+_0x4962("0x84"),h=e[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x3b8")]?l.default[_0x4962("0x6a")](_0x4962("0xc05"),{filename:h,modeltoken:e[_0x4962("0xad")],buildingId:e.id}):l[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x60"),{filename:h,modeltoken:e.__mtn}));var v=(0,c.getValue)(x,"id",1),p=e[_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?20:12,m=(0,c[_0x4962("0x13")])(x,_0x4962("0x130"),e.id),A=(0,r[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t[_0x4962("0xc")])(_))[_0x4962("0xf")](this,{model:g,ID:v,bid:m,url:h,alias:_0x4962("0xa6d"),scale:u,rotation:o,position:s,name:x[_0x4962("0x107")]||_0x4962("0xa6d"),pickable:x.pickable,onError:x[_0x4962("0x10b5")]||null,callback:x[_0x4962("0x1b3")]||x[_0x4962("0x1b0")]||null,clickAnimation:(0,c[_0x4962("0x13")])(x,_0x4962("0x1314"),!1)}));return A[_0x4962("0x1114")]=!x[_0x4962("0x2")](_0x4962("0x1114"))||x[_0x4962("0x1114")],A[_0x4962("0x57b")]=x.data||null,A[_0x4962("0xf2")][_0x4962("0x106")].y=s.y,A[_0x4962("0x16c")]=null!=x[_0x4962("0x16c")]&&x[_0x4962("0x16c")],A.merge=null!=x[_0x4962("0x12d")]&&x[_0x4962("0x12d")],A[_0x4962("0xdd5")]=!0,A[_0x4962("0x311")]=(0,c[_0x4962("0x13")])(x,_0x4962("0x311"),p),A.isTransparent=x.transparent||null,A}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:_0x4962("0x1b2"),value:function(){this.o3d_[_0x4962("0x1b2")]()}},{key:"height",get:function(){return this[_0x4962("0xf2")][_0x4962("0x106")].y},set:function(x){this.o3d_[_0x4962("0x106")].y=x}}]),_}(o[_0x4962("0xc")]);d[_0x4962("0x1315")]=o[_0x4962("0xc")],_[_0x4962("0xc")]=d},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=n(e(0)),i=n(e(1)),a=n(e(112));function n(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var r=function(){function x(_){(0,t.default)(this,x),this[_0x4962("0x990")]=_;var e=_.options,i=_[_0x4962("0x1c6")][_0x4962("0x1c7")][_0x4962("0x1c8")];this[_0x4962("0x1316")]=i.getBoundingClientRect();this[_0x4962("0x1316")];var n=e[_0x4962("0x3b7")],r=(0,a.default)(_0x4962("0x1cd"))[_0x4962("0x25")]({position:_0x4962("0xd3d"),bottom:e.scalerOffet[1]+"px",left:e.scalerOffet[0]+"px",width:n+"px",height:_0x4962("0x1d6"),webkitTextSizeAdjust:"none",msTextSizeAdjust:_0x4962("0x612")}).element;i.appendChild(r);var s=(0,a[_0x4962("0xc")])(_0x4962("0x1cd")).style({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),fontSize:_0x4962("0x1317"),fontFamily:_0x4962("0x1318"),textAlign:_0x4962("0x131"),color:"#fff",width:_0x4962("0x1cf"),cursor:_0x4962("0xc"),lineHeight:"18px",textShadow:_0x4962("0x1319")})[_0x4962("0x472")];r.appendChild(s),this[_0x4962("0x131a")]=s;var o=(0,a[_0x4962("0xc")])(_0x4962("0x1cd")).style({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),background:_0x4962("0x131b"),width:_0x4962("0x1cf"),height:"5px",fontSize:"0",bottom:_0x4962("0x131c")})[_0x4962("0x472")];r.appendChild(o);var c=(0,a[_0x4962("0xc")])("div")[_0x4962("0x25")]({position:"absolute",overflow:_0x4962("0xb96"),background:_0x4962("0x131b"),width:"3px",height:_0x4962("0x131d"),fontSize:"0",bottom:"0",right:_0x4962("0x131c")})[_0x4962("0x472")];r[_0x4962("0x28")](c);var l=(0,a[_0x4962("0xc")])(_0x4962("0x1cd")).style({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),background:_0x4962("0x131b"),width:_0x4962("0x131e"),height:_0x4962("0x131d"),fontSize:"0",bottom:"0",left:_0x4962("0x131c")})[_0x4962("0x472")];r[_0x4962("0x28")](l);var f=(0,a[_0x4962("0xc")])(_0x4962("0x1cd"))[_0x4962("0x25")]({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),background:"#000",width:"100%",height:"3px",fontSize:"0",bottom:"0"})[_0x4962("0x472")];r[_0x4962("0x28")](f);var d=(0,a[_0x4962("0xc")])(_0x4962("0x1cd")).style({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),background:_0x4962("0x338"),width:_0x4962("0x11dd"),height:_0x4962("0x131f"),fontSize:"0",bottom:"0",left:"0"})[_0x4962("0x472")];r[_0x4962("0x28")](d);var u=(0,a[_0x4962("0xc")])(_0x4962("0x1cd"))[_0x4962("0x25")]({position:_0x4962("0xd3d"),overflow:_0x4962("0xb96"),background:_0x4962("0x338"),width:_0x4962("0x11dd"),height:"6px",fontSize:"0",bottom:"0",right:"0"})[_0x4962("0x472")];r.appendChild(u),this[_0x4962("0x1320")]=r[_0x4962("0x4f4")](),this.barBoxer=r}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x11d"),value:function(x,_){return Math[_0x4962("0x120")]((x.x-_.x)*(x.x-_.x)+(x.y-_.y)*(x.y-_.y))}},{key:_0x4962("0xb21"),value:function(){var x=this;if("3D"!=this[_0x4962("0x990")][_0x4962("0x9c4")]){var _=this.map_[_0x4962("0xa5a")](x[_0x4962("0x1320")][_0x4962("0x35e")]-x[_0x4962("0x1316")][_0x4962("0x35e")],x.barBox[_0x4962("0x35c")]-x.box[_0x4962("0x35c")],0),e=this[_0x4962("0x990")][_0x4962("0xa5a")](x[_0x4962("0x1320")][_0x4962("0x361")]-x.box[_0x4962("0x35e")],x[_0x4962("0x1320")][_0x4962("0x35c")]-x.box[_0x4962("0x35c")],0);if(_&&e){var t=x[_0x4962("0x11d")](_,e),i=void 0;i=t<50?t.toFixed(1)+_0x4962("0x1321"):t>=50&&t<1e3?t[_0x4962("0x65f")](0)+_0x4962("0x1321"):(t/1e3)[_0x4962("0x65f")](1)+_0x4962("0x1322"),x.textBox.innerHTML=i}}else{var a=60*this.map_.mapView[_0x4962("0xbdc")],n=void 0;n=a<50?a.toFixed(1)+"&nbsp;ç±³":a>=50&&a<1e3?a[_0x4962("0x65f")](0)+_0x4962("0x1321"):(a/1e3)[_0x4962("0x65f")](1)+_0x4962("0x1322"),this.textBox.innerHTML=n}}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0x1323")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962(x?"0xc24":"0x612")},get:function(){return this.barBoxer[_0x4962("0x25")][_0x4962("0x1d0")]!=_0x4962("0x612")}}]),x}();_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=f(e(2)),i=f(e(6)),a=f(e(23)),n=f(e(0)),r=f(e(1)),s=f(e(33)),o=e(19),c=e(65),l=e(4);function f(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var d=new(s[_0x4962("0xc")]),u=function(){function x(_){(0,n[_0x4962("0xc")])(this,x);var e=esmap[_0x4962("0x33")][_0x4962("0x3a")];this[_0x4962("0x1324")]=!1,this[_0x4962("0xb96")]=!1,this[_0x4962("0x458")]=!1,this._animateState={},this[_0x4962("0x53b")]=_,this[_0x4962("0x53b")][_0x4962("0xdd")]=_0x4962("0x141"),_0x4962("0x141")==this[_0x4962("0x53b")][_0x4962("0xdd")]?(this.w_=this.options_[_0x4962("0x1ce")]?this[_0x4962("0x53b")][_0x4962("0x1ce")]:300,this.h_=this[_0x4962("0x53b")].height?this.options_.height:150,this[_0x4962("0x11cb")]=10):(this.w_=32,this.h_=32,this[_0x4962("0x11cb")]=8),this[_0x4962("0x11cf")]=_0x4962("0x1325"),this[_0x4962("0x11d0")]=this[_0x4962("0x53b")][_0x4962("0xd39")]?this[_0x4962("0x53b")][_0x4962("0xd39")]:_0x4962("0x131f"),this[_0x4962("0x1326")]=this[_0x4962("0x53b")].screenCoord?this[_0x4962("0x53b")][_0x4962("0x1327")]:null,this[_0x4962("0x1328")]=!!this[_0x4962("0x53b")][_0x4962("0x1328")]&&this[_0x4962("0x53b")][_0x4962("0x1328")],this.className=this.options_[_0x4962("0x4fc")]?this[_0x4962("0x53b")][_0x4962("0x4fc")]:null,this[_0x4962("0x130")]=this[_0x4962("0x53b")].mapCoord[_0x4962("0x130")]?this[_0x4962("0x53b")][_0x4962("0x217")].bid:0,this[_0x4962("0x1329")]=this[_0x4962("0x53b")].marker?this[_0x4962("0x53b")].marker:null,this[_0x4962("0x132a")]=this.options_[_0x4962("0x217")]?this[_0x4962("0x53b")].mapCoord:null,this[_0x4962("0x1015")]=this[_0x4962("0x53b")][_0x4962("0x311")]?this[_0x4962("0x53b")].showLevel:null,this[_0x4962("0x132a")]&&this[_0x4962("0x132a")][_0x4962("0x1a4")]&&(this[_0x4962("0x132a")].z=this[_0x4962("0x132a")][_0x4962("0x1a4")]),this[_0x4962("0x132b")]=this.options_.transformOrigin?this[_0x4962("0x53b")][_0x4962("0x4dc")]:_0x4962("0x132c"),this[_0x4962("0x132d")]=this[_0x4962("0x53b")][_0x4962("0x132e")]?this[_0x4962("0x53b")][_0x4962("0x132e")]:_0x4962("0x132f");var t=void 0;if(t=this.options_[_0x4962("0x2")]("id")&&null!=this[_0x4962("0x53b")].id?this[_0x4962("0x53b")].id:(0,o[_0x4962("0x1f")])(8),this.ID=t,d[_0x4962("0x1255")](this.ID)&&console[_0x4962("0x44a")](_0x4962("0x1330")+this.ID),d[_0x4962("0xda")](this.ID),this[_0x4962("0x132a")]){null==this.mapCoord_.x&&(this[_0x4962("0x132a")].x=e[_0x4962("0x131")].x),null==this[_0x4962("0x132a")].y&&(this.mapCoord_.y=e[_0x4962("0x131")].y);var i=e[_0x4962("0x10ab")]({x:this.mapCoord_.x,y:this[_0x4962("0x132a")].y});this[_0x4962("0x132a")].x=i.x,this.mapCoord_.y=i.y}this[_0x4962("0x219")]=null,this[_0x4962("0x21a")]=null,Array[_0x4962("0x123")](this[_0x4962("0x1015")])?(this[_0x4962("0x219")]=Math.min[_0x4962("0x2a4")](Math,(0,a[_0x4962("0xc")])(this[_0x4962("0x1015")])),this[_0x4962("0x21a")]=Math[_0x4962("0x300")][_0x4962("0x2a4")](Math,(0,a.default)(this[_0x4962("0x1015")]))):this[_0x4962("0x21a")]=this[_0x4962("0x1015")],this.onVisibleCallBack=null,this[_0x4962("0x132a")]&&!this[_0x4962("0x132a")].fnum&&(this[_0x4962("0x132a")][_0x4962("0x132")]=1,this.options_[_0x4962("0x217")][_0x4962("0x132")]=1),this[_0x4962("0x53b")][_0x4962("0x217")][_0x4962("0x130")]||(this[_0x4962("0x53b")].mapCoord[_0x4962("0x130")]=0),this[_0x4962("0x1326")]&&this.screenCoord_[_0x4962("0x1a4")]&&(this.screenCoord_.z=this[_0x4962("0x1326")].height),this.building=e[_0x4962("0x139")](this[_0x4962("0x130")]),(this[_0x4962("0x1326")]||this[_0x4962("0x132a")])&&(this[_0x4962("0x1331")]=!!this[_0x4962("0x1326")],this.$=function(x){return document.querySelector(x)},this.defaultPadding_=null==this.options_[_0x4962("0x1d5")]?20:this[_0x4962("0x53b")].padding,this.contentHeight_=this.h_-2*this.defaultPadding_,this[_0x4962("0x1332")]=this[_0x4962("0x53b")][_0x4962("0x7bd")]?this[_0x4962("0x53b")][_0x4962("0x7bd")]:null,this.borderStyle_=this[_0x4962("0x53b")][_0x4962("0x1333")]?this[_0x4962("0x53b")][_0x4962("0x1333")]:_0x4962("0x1334"),this[_0x4962("0x1335")]=this[_0x4962("0x53b")][_0x4962("0x1335")]?this[_0x4962("0x53b")][_0x4962("0x1335")]:_0x4962("0x1336"),this[_0x4962("0x1d3")]=this[_0x4962("0x53b")][_0x4962("0x1d3")]?this[_0x4962("0x53b")][_0x4962("0x1d3")]:_0x4962("0xdfe"),this[_0x4962("0x1337")]=this[_0x4962("0x53b")][_0x4962("0x1337")]?this[_0x4962("0x53b")].maxScale:1,this.opacity=1,this[_0x4962("0x1338")]=null!=this[_0x4962("0x53b")][_0x4962("0xa4c")]&&this[_0x4962("0x53b")][_0x4962("0xa4c")],this.map=e,this[_0x4962("0xaaf")]=null,this[_0x4962("0x1fd")]=1,this.computedScale=1,this[_0x4962("0x1339")]())}return(0,r[_0x4962("0xc")])(x,[{key:_0x4962("0x311"),set:function(x){null!==x&&(this.showLevel_=x,Array[_0x4962("0x123")](x)?(this[_0x4962("0x219")]=Math[_0x4962("0x301")][_0x4962("0x2a4")](Math,(0,a[_0x4962("0xc")])(x)),this.maxShowLevel=Math.max[_0x4962("0x2a4")](Math,(0,a[_0x4962("0xc")])(x))):this.maxShowLevel=x)},get:function(){return this[_0x4962("0x1015")]}}]),x}();u[_0x4962("0x1")]={_tryInit:function(){var x=this,_=this,e=this[_0x4962("0x48")],t=document[_0x4962("0x24")]("div");if(t[_0x4962("0x25")].transformOrigin=_0x4962("0x132c"),t[_0x4962("0xbfc")]=function(x){x[_0x4962("0x37b")]()},t[_0x4962("0x11c1")]=function(x){_[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x133a")](),x[_0x4962("0x37b")]()},t[_0x4962("0x511")]=function(x){x[_0x4962("0x37b")]()},t.ontouchend=function(x){x[_0x4962("0x37b")]()},t[_0x4962("0x11b6")]=function(x){x[_0x4962("0x37b")]()},!this[_0x4962("0x4fc")]&&this[_0x4962("0x1332")]){this[_0x4962("0x1332")]=_0x4962("0x133b")+this.contentHeight_+_0x4962("0x133c")+this[_0x4962("0x1332")]+_0x4962("0x133d"),t[_0x4962("0x25")].width=this.w_+"px",t.style[_0x4962("0x1a4")]=this.h_+"px",t[_0x4962("0x25")][_0x4962("0x106")]="relative",t[_0x4962("0x1da")](_0x4962("0xbdf"),_0x4962("0x133e")),t[_0x4962("0x25")][_0x4962("0x1d5")]=this[_0x4962("0x133f")]+"px",t[_0x4962("0x25")][_0x4962("0x1d3")]=_0x4962("0x65a")+this[_0x4962("0x1d3")]+","+this[_0x4962("0x145")]+")",t.style[_0x4962("0x1340")]=this[_0x4962("0x1341")],t[_0x4962("0x25")].borderRadius=this.defaultRadius_,t[_0x4962("0x25")].boxSizing=_0x4962("0x1d8");var i=document[_0x4962("0x24")](_0x4962("0xd3b"));i[_0x4962("0x1da")]("class",_0x4962("0x1342")),i[_0x4962("0x25")][_0x4962("0x1ce")]=0,i.style[_0x4962("0x1a4")]=0,i[_0x4962("0x25")][_0x4962("0x33b")]=0,i.style.overflow="hidden",i.style[_0x4962("0x106")]=_0x4962("0xd3d"),i[_0x4962("0x25")][_0x4962("0x1343")]=_0x4962("0x1d6"),i.style[_0x4962("0x1333")]=_0x4962("0x1344"),i[_0x4962("0x25")][_0x4962("0x1335")]=this[_0x4962("0x1335")]+_0x4962("0x1345"),i[_0x4962("0x25")][_0x4962("0x35e")]=this.w_/2-25+"px",i.style[_0x4962("0x35d")]=_0x4962("0x1346");var a=document.createElement("span");a[_0x4962("0x1da")](_0x4962("0xbdf"),_0x4962("0xd3c")),a.style[_0x4962("0x1ce")]=0,a.style[_0x4962("0x1a4")]=0,a[_0x4962("0x25")].fontSize=0,a[_0x4962("0x25")].overflow=_0x4962("0x33a"),a.style[_0x4962("0x106")]=_0x4962("0xd3d"),a[_0x4962("0x25")][_0x4962("0x1333")]=_0x4962("0x1344"),a.style[_0x4962("0x1343")]=_0x4962("0x1d6"),a[_0x4962("0x25")][_0x4962("0x1335")]="rgba("+this[_0x4962("0x1d3")]+","+this[_0x4962("0x145")]+_0x4962("0xd40"),a[_0x4962("0x25")][_0x4962("0x35e")]=this.w_/2-25+"px",a[_0x4962("0x25")][_0x4962("0x35d")]=_0x4962("0x1347");var n=document[_0x4962("0x24")](_0x4962("0x8e2"));n.type=_0x4962("0x974"),n[_0x4962("0xe3")]="â",n[_0x4962("0x25")][_0x4962("0x106")]="absolute",n.style[_0x4962("0x361")]=_0x4962("0x1348"),n[_0x4962("0x25")].top=_0x4962("0x1150"),n.style[_0x4962("0x1349")]=_0x4962("0x134a"),n[_0x4962("0x25")][_0x4962("0x1ce")]=_0x4962("0x134b"),n[_0x4962("0x25")][_0x4962("0x1a4")]=_0x4962("0x134b"),n[_0x4962("0x25")][_0x4962("0x1340")]=0,n.style[_0x4962("0x134c")]=_0x4962("0x612"),n[_0x4962("0x25")][_0x4962("0x1d5")]="0",n[_0x4962("0x134d")]=this[_0x4962("0x134e")].bind(this),n.ontouchend=this[_0x4962("0x134e")][_0x4962("0xe")](this),t[_0x4962("0x28")](n),t[_0x4962("0x28")](i),t[_0x4962("0x28")](a)}else this[_0x4962("0x4fc")]&&t[_0x4962("0x1da")](_0x4962("0xbdf"),this[_0x4962("0x4fc")]);var r=e[_0x4962("0x139")](this[_0x4962("0x130")]),s=r[_0x4962("0x673")](this[_0x4962("0x53b")][_0x4962("0x217")][_0x4962("0x132")]),o=new(THREE[_0x4962("0x1e1")]);o[_0x4962("0x166")].id=this.ID,o[_0x4962("0x107")]=_0x4962("0xb3a"),s.o3d_[_0x4962("0xda")](o),r.on("visibleFloorNumsChanged",(function(_){_[_0x4962("0xaf")](x[_0x4962("0x53b")][_0x4962("0x217")][_0x4962("0x132")])<0?x[_0x4962("0x134f")]=!1:x[_0x4962("0xb96")]&&(x[_0x4962("0x134f")]=!0)}));var c=document[_0x4962("0x24")](_0x4962("0x1cd"));c[_0x4962("0x28")](t);var l=new(THREE[_0x4962("0x73e")])(c);this[_0x4962("0x1ef")]=!1;var f=e[_0x4962("0x2c3")](this[_0x4962("0x53b")].mapCoord);o.position[_0x4962("0x206")](f);var d=this[_0x4962("0x53b")][_0x4962("0x217")].height||0;o[_0x4962("0x106")].y=d,o.initY=d,l[_0x4962("0x1329")]=this[_0x4962("0x1329")],l[_0x4962("0xf1")]={nodeType:100};var u=t[_0x4962("0x4f4")](),h=u[_0x4962("0x1ce")],g=u[_0x4962("0x1a4")];l.width_=h,l[_0x4962("0x325")]=g,l.userData[_0x4962("0x744")]=1,l[_0x4962("0x166")][_0x4962("0x1328")]=this[_0x4962("0x1328")],o[_0x4962("0xda")](l),this[_0x4962("0x1350")]=l,o[_0x4962("0x324")]=64,o.height_=64,this.group=o,o[_0x4962("0xf1")]=this,_[_0x4962("0x1329")]&&(t[_0x4962("0x25")][_0x4962("0x35d")]=d+"px");var b=function(){_.bindMarker&&_[_0x4962("0x1329")][_0x4962("0xf2")]&&(o.position.y=_[_0x4962("0x1329")][_0x4962("0xf2")][_0x4962("0x106")].y);var x=o.getWorldPosition(new THREE.Vector3),e=_[_0x4962("0x48")].isCoordInView(x,!0),t=_[_0x4962("0x134f")];e&&_[_0x4962("0x1351")]&&t?_.hidden&&_[_0x4962("0x1352")](!0):!_[_0x4962("0xb96")]&&_[_0x4962("0x1352")](!1)},v=function(){if(_[_0x4962("0x1338")]){var x=esmap[_0x4962("0x27c")][_0x4962("0x101f")](l,_.map[_0x4962("0x1c6")]);_[_0x4962("0x24d")]||(x[_0x4962("0x1019")]<=0?_.originalScale=1:_.originalScale=x[_0x4962("0x1019")]);var e=_.originalScale/x[_0x4962("0x1019")];e<=0&&(e=_[_0x4962("0x24d")]);var t=Math[_0x4962("0x301")](_[_0x4962("0x1337")],e);l[_0x4962("0x166")][_0x4962("0x744")]=t,_.computedScale=t}},p=_[_0x4962("0x48")].options.useScaleLevel;function m(x){if(_.map[_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")]&&p){var e=_.map.scaleLevel;if(_[_0x4962("0x458")])return;e>_[_0x4962("0x1015")]?_[_0x4962("0xb96")]||(_[_0x4962("0x1352")](!1),_.inLevel=!1,_[_0x4962("0x1354")]&&_.onVisibleCallBack(!1)):_[_0x4962("0xb96")]&&(_.setVisible(!0),_[_0x4962("0x1351")]=!0,_[_0x4962("0x1354")]&&_.onVisibleCallBack(!0))}else{if(_.locked)return;null!=_.minShowLevel&&null!=_[_0x4962("0x21a")]?x<_.minShowLevel||x>_.maxShowLevel?(_[_0x4962("0x1351")]=!1,_[_0x4962("0xb96")]||(_[_0x4962("0x1352")](!1),_.onVisibleCallBack&&_[_0x4962("0x1354")](!1))):(_[_0x4962("0x1351")]=!0,_.hidden||(_.setVisible(!0),_.onVisibleCallBack&&_.onVisibleCallBack(!0))):x<_.showLevel_?(_.inLevel=!1,_[_0x4962("0xb96")]||(_[_0x4962("0x1352")](!1),_[_0x4962("0x1354")]&&_.onVisibleCallBack(!1))):(_[_0x4962("0x1351")]=!0,_[_0x4962("0xb96")]||(_[_0x4962("0x1352")](!0),_[_0x4962("0x1354")]&&_[_0x4962("0x1354")](!0)))}}_.showLevel_?_[_0x4962("0x48")][_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")]&&p?_[_0x4962("0x48")][_0x4962("0x21e")]<_[_0x4962("0x1015")]?_[_0x4962("0x1351")]=!0:_[_0x4962("0x1351")]=!1:null!=_[_0x4962("0x219")]&&null!=_.maxShowLevel?_[_0x4962("0x48")].zoomLevel<_.minShowLevel||_[_0x4962("0x48")].zoomLevel>_[_0x4962("0x21a")]?_[_0x4962("0x1351")]=!1:_.inLevel=!0:_[_0x4962("0x48")][_0x4962("0x1f6")]<_.showLevel_?_[_0x4962("0x1351")]=!1:_[_0x4962("0x1351")]=!0:_[_0x4962("0x1351")]=!0,_[_0x4962("0x48")].on(_0x4962("0x165"),b),_[_0x4962("0x178")]=b,_[_0x4962("0x1353")]=v,_[_0x4962("0x48")].on(_0x4962("0x179"),v),_[_0x4962("0x1015")]&&(m(_[_0x4962("0x48")].zoomLevel),_[_0x4962("0x48")].on("zoomed",(function(x){m(x)}))),this[_0x4962("0x1332")]&&t[_0x4962("0x1355")](_0x4962("0x1356"),this[_0x4962("0x1332")]),this[_0x4962("0xaaf")]=t,this._inFloor=!0,s[_0x4962("0xf2")][_0x4962("0x17c")]||(this.setVisible(!1),this[_0x4962("0x134f")]=!1),document[_0x4962("0x25e")](_0x4962("0x1357"),(function(x){x[_0x4962("0x74d")]==c&&(_[_0x4962("0x1351")]||_[_0x4962("0x1352")](!1),_[_0x4962("0x1ef")]||(_[_0x4962("0x53b")][_0x4962("0x1ef")]&&_[_0x4962("0x53b")][_0x4962("0x1ef")](t.children[0],_),_[_0x4962("0x1ef")]=!0))}))},onUpdatePosition:function(x){var _=this,e=this;e.cssOnUpdate=function(_){var t={x:_[_0x4962("0x1054")].x,y:_[_0x4962("0x1054")].y,display:_[_0x4962("0x1054")][_0x4962("0x1d0")],zIndex:e[_0x4962("0x1350")][_0x4962("0x472")][_0x4962("0x25")][_0x4962("0x750")]};e.locked||e[_0x4962("0x1351")]||(t[_0x4962("0x1d0")]=_0x4962("0x612"));var i=1;if(e[_0x4962("0x1338")]){var a=esmap[_0x4962("0x27c")].getPerspectiveScale(e[_0x4962("0xd46")],e[_0x4962("0x48")][_0x4962("0x1c6")]);e.originalScale||(e[_0x4962("0x24d")]=a.meterperpixel);var n=e[_0x4962("0x24d")]/a[_0x4962("0x1019")];n<=0&&(n=e.originalScale),i=Math[_0x4962("0x301")](e.maxScale,n)}x(_0x4962("0x500")+e[_0x4962("0x132d")]+_0x4962("0x745")+t.x+_0x4962("0x4ff")+t.y+_0x4962("0x746")+i+")",t)},this[_0x4962("0x1350")].addEventListener(_0x4962("0x165"),e[_0x4962("0x1358")]),this.cssObject[_0x4962("0x25e")](_0x4962("0x228"),(function(){x(_0x4962("0x1130"),{display:_0x4962("0x612")}),_[_0x4962("0x1350")][_0x4962("0x2a1")]("update",e[_0x4962("0x1358")])}))},onVisibleChanged:function(x){this[_0x4962("0x1354")]=x},getMapCoord_Z:function(x,_){return _?this[_0x4962("0x52")].getFloorHeight(x)+_:this[_0x4962("0x52")][_0x4962("0x2da")](x)+2},getMapCoord_:function(x){if("object"!=(typeof x===_0x4962("0x21")?"undefined":(0,i[_0x4962("0xc")])(x))||!x.x||!x.y||!x[_0x4962("0x132")])return null;var _={x:x.x,y:x.y,z:this[_0x4962("0x1359")](x[_0x4962("0x132")],x.z)};return this.map.coordScreenToMap(_.x,_.y,_.z)},getScreenCoord_:function(x){return _0x4962("0x9")==(void 0===x?_0x4962("0x21"):(0,i[_0x4962("0xc")])(x))&&x.x&&x.y&&x.z?this[_0x4962("0x48")][_0x4962("0xb34")](x.x,x.y,x.z):null},bindCloseClick_:function(){this.close(),this[_0x4962("0x53b")].closed&&_0x4962("0x121")==typeof this[_0x4962("0x53b")][_0x4962("0x135a")]&&this[_0x4962("0x53b")][_0x4962("0x135a")](!0)},close:function(){if(this[_0x4962("0xaaf")]){var x=this.building.getFloor(this[_0x4962("0x132a")][_0x4962("0x132")]);this[_0x4962("0xd46")][_0x4962("0x197")](this.group[_0x4962("0xf3")][0]),x.o3d_.remove(this[_0x4962("0xd46")]),d[_0x4962("0x282")](this.ID),this[_0x4962("0xaaf")][_0x4962("0x25")].display=_0x4962("0x612"),this[_0x4962("0x53b")][_0x4962("0x135a")]&&_0x4962("0x121")==typeof this[_0x4962("0x53b")][_0x4962("0x135a")]&&this[_0x4962("0x53b")][_0x4962("0x135a")](!0),this[_0x4962("0x48")][_0x4962("0x6b")](_0x4962("0x165"),this[_0x4962("0x178")])}},setVisible:function(x){this[_0x4962("0x458")]||(x?(this[_0x4962("0xaaf")]&&(this[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0xc24"),this[_0x4962("0xb96")]=!1),this.cssObject[_0x4962("0x17c")]=!0):(this[_0x4962("0xaaf")]&&(this[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612"),this[_0x4962("0xb96")]=!0),this[_0x4962("0x1350")].visible=!1))},hide:function(){this.locked||(this[_0x4962("0x458")]=!0),this[_0x4962("0xaaf")]&&(this[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0x612"),this[_0x4962("0xb96")]=!0),this[_0x4962("0x1350")][_0x4962("0x17c")]=!1},show:function(){this.locked||(this[_0x4962("0x458")]=!0),this[_0x4962("0xaaf")]&&(this[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x1d0")]="block",this[_0x4962("0xb96")]=!1),this.cssObject[_0x4962("0x17c")]=!0},toggle:function(){this[_0x4962("0xaaf")]&&("none"==this[_0x4962("0xaaf")].style.display?this[_0x4962("0xaaf")][_0x4962("0x25")][_0x4962("0x1d0")]=_0x4962("0xc24"):this[_0x4962("0xaaf")][_0x4962("0x25")].display=_0x4962("0x612"))},setHeight:function(x){this[_0x4962("0xd46")].position.y=x},moveTo:function(x){var _=this._animateState.moveTo;x=(0,t.default)({},x);var e={x:(0,l[_0x4962("0x13")])(x,"x",this[_0x4962("0x132a")].x),y:(0,l.getValue)(x,"y",this[_0x4962("0x132a")].y),z:(0,l[_0x4962("0x13")])(x,"z",this.group[_0x4962("0x106")].y)};_&&_[_0x4962("0x1b2")]();var i=(0,c.userCoordToThree)(e);x.x=i.x,x.y=i.y,x.z=i.z;var a=esmap[_0x4962("0x27c")][_0x4962("0x331")][_0x4962("0xf")](this[_0x4962("0xd46")],x);this[_0x4962("0x328")][_0x4962("0x331")]=a}},_[_0x4962("0xc")]=u},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=p(e(6)),i=p(e(9)),a=p(e(2)),n=p(e(0)),r=p(e(1)),s=p(e(15)),o=p(e(64)),c=p(e(63)),l=p(e(375)),f=p(e(377)),d=p(e(24)),u=p(e(35)),h=e(113),g=e(27),b=e(43),v=e(66);function p(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var m=new o.default,A={x:0,y:0},y=function(){var x=esmap[_0x4962("0x33")][_0x4962("0x3a")];x[g[_0x4962("0xb4")]](),window[g[_0x4962("0xb3")]]((function(){return x[g[_0x4962("0xd3")]]()}),0)};function C(x,_){var e=arguments[_0x4962("0x0")]>2&&void 0!==arguments[2]?arguments[2]:0,t=new RegExp(_,"g"),i=x.slice(e)[_0x4962("0x508")](t);return-1===i?-1:i+e}var I=!1,E=function(){function x(_,e,t){var i=this;(0,n[_0x4962("0xc")])(this,x),m.set(_0x4962("0x579"),null),this.id=_,this[_0x4962("0x107")]="",this[_0x4962("0xaf0")]=null,this[_0x4962("0x48")]=t,this[_0x4962("0x135c")]=1,this[_0x4962("0x131")],this[_0x4962("0x135d")]=[],this.floorNums=[],this[_0x4962("0x135e")]=[],this[_0x4962("0x992")]={},this[_0x4962("0x680")]={},this[_0x4962("0x135f")]={},this[_0x4962("0xf2")]=new(THREE[_0x4962("0x20c")]),this.o3d_.datas_=this,this[_0x4962("0xaf1")]=null,this[_0x4962("0x3c0")]=this[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0x3c0")],this[_0x4962("0x3b")]=e,null==this[_0x4962("0x3b")][_0x4962("0x383")]&&(this[_0x4962("0x3b")].mergeModels=!0),this[_0x4962("0x1360")]={},this.animatingId_=[],this[_0x4962("0x1361")]=!1,this[_0x4962("0x1362")]={},this[_0x4962("0xdbb")]={},this.isLoadedAll=!1,this[_0x4962("0x264")]=new(l[_0x4962("0xc")])(this),this[_0x4962("0xa11")]=new(f[_0x4962("0xc")])(this),this[_0x4962("0x1363")]=!1,this[_0x4962("0x1101")]=0,em[_0x4962("0x635")][_0x4962("0x1e4")](this),this[_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]&&this[_0x4962("0x48")].on(_0x4962("0x9e2"),(function(x){x==esmap[_0x4962("0x62d")][_0x4962("0xa9b")]&&i[_0x4962("0xcbc")][_0x4962("0x0")]>1&&(i[_0x4962("0xcbc")]=[i[_0x4962("0x58a")]])}),null,this.id),this[_0x4962("0xaa4")]=[],this[_0x4962("0x9d")]=0,u[_0x4962("0xc")][_0x4962("0xe9")](this.id)}return(0,r.default)(x,[{key:"convertBuildingToWorld",value:function(x){var _=this;return x.map((function(x){return(0,a[_0x4962("0xc")])({},x,{x:x.x+_[_0x4962("0x15c")].x,y:x.y+_.offset.y})}))}},{key:_0x4962("0x1364"),value:function(x){for(var _=0;_<this.listFloors[_0x4962("0x0")];_++){if(this[_0x4962("0x1365")][_][_0x4962("0xb73")][_0x4962("0xb5f")]()==x)return this[_0x4962("0x1365")][_][_0x4962("0xcbb")]}return _0x4962("0x1366"),null}},{key:"getFloorBounds",value:function(x){var _=this,e=this.map,t=e[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")];try{var i=[];return this.floors_[x][_0x4962("0x1367")][_0x4962("0x20")]((function(x){var a={points:[],holes:[]};x.points.forEach((function(x){a.points[_0x4962("0x3")]({x:-x.x,y:x.y})})),x.holes[_0x4962("0x20")]((function(x){var _=[];x[_0x4962("0x20")]((function(x){_[_0x4962("0x3")]({x:-x.x,y:x.y})})),a[_0x4962("0x56b")][_0x4962("0x3")](_)})),t&&(a[_0x4962("0x138")]=a.points.map((function(x){return{x:x.x+_[_0x4962("0xa88")].x+_[_0x4962("0x15c")].x,y:x.y+_.delta.y-_[_0x4962("0x15c")].y}})),a[_0x4962("0x56b")][_0x4962("0x20")]((function(x){x=e[_0x4962("0x3fd")]({from:e.coordSystem,to:e[_0x4962("0x3e9")],coords:x})}))),i[_0x4962("0x3")](a)})),i}catch(x){return console[_0x4962("0x293")]("esmap.ESInfo.GETFLOORBOUNDS_ERR"),null}}},{key:_0x4962("0xa07"),value:function(x,_){var e=this;return new(i[_0x4962("0xc")])((function(t){x=+x;var i=e;if(2==i[_0x4962("0x3b")][_0x4962("0xcba")])i[_0x4962("0xcbc")]=[x];else{var a=i.floorNums[_0x4962("0x46f")](),n=[];for(var r in a)a[r]<=x&&n[_0x4962("0x3")](a[r]);i.visibleFloorNums=n}i.focusFloorNum={fnum:x,callback:function(){_&&_(),t()}}}))}},{key:_0x4962("0x1368"),value:function(x,_,e){var t=this,i=new THREE.Promise,a=x[_0x4962("0xd75")],n=this.progressHandler,r=new esmap.ESLayer(esmap.ESLayerType[_0x4962("0x1369")]);return _[_0x4962("0xda")](r[_0x4962("0xf2")]),setTimeout((function(){for(var x=0;x<a[_0x4962("0x0")];x++){for(var _=a[x],r=0;r<_[_0x4962("0x138")].length;r++)_[_0x4962("0x138")][r].x=-_[_0x4962("0x138")][r].x,_.points[r][_0x4962("0x132")]=e;var s=d[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x5d"),{filename:_.RoomLogo,type:"roomtexture",buildingId:t.id});_[_0x4962("0x3fe")];var o={lineType:esmap[_0x4962("0x129")].TEXTURE,lineWidth:5,noAnimate:!0,color:_0x4962("0x128"),smooth:!1,pickable:!0,offsetHeight:0,lineWidthMeter:!0};if(o[_0x4962("0x4d")]=s,_.RoomLogoSize){var c=_.RoomLogoSize.split(",");1*c[1]?(o.lineWidth=1*c[1],o.up=new(THREE[_0x4962("0x12c")])(0,1,0)):(o[_0x4962("0x160")]=1*c[0],o.up=new(THREE[_0x4962("0x12c")])(1,0,0)),o[_0x4962("0x2a")]=_[_0x4962("0xd48")];var l=new(esmap[_0x4962("0x401")])({id:_[_0x4962("0x402")],points:_[_0x4962("0x138")],style:o});l.data_=_,l[_0x4962("0x2d9")]=e,t[_0x4962("0x48")][_0x4962("0x403")](l),n[_0x4962("0xdf")](_[_0x4962("0x402")])}}i[_0x4962("0xdc")]()}),t.asyncWaitTime),i}},{key:"findRoomById",value:function(x){var _,e=this,t=e[_0x4962("0x699")],i=!1,a=!1;x instanceof Object?(i=x[_0x4962("0x2")](_0x4962("0x136a"))?x[_0x4962("0x136a")]:i,a=!!x[_0x4962("0x2")](_0x4962("0x136b"))&&x[_0x4962("0x136b")],_=x.id,t=x[_0x4962("0x132")]?x[_0x4962("0x132")]:t):typeof x==_0x4962("0x18a")&&(_=x);var n=null;return esmap[_0x4962("0x8c")].search(this.map,{fnum:t,bid:this.id},{nodeType:5,ID:_},(function(x){if(0!=x[_0x4962("0x0")]){if(i)e.map.lastSelectStore[0]&&e.map[_0x4962("0x9bb")][0].ID==x[0].ID||(e.map.selectNull(),e[_0x4962("0x48")][_0x4962("0xab0")](x[0]));var _=x[0];if(a){var t=_.o3d_.geometry,r=t[_0x4962("0x45d")];t[_0x4962("0x166")][_0x4962("0x45d")]=r,t[_0x4962("0x45e")](),e.map[_0x4962("0x136c")](_[_0x4962("0x109")][0],_[_0x4962("0x109")][1],r)[_0x4962("0x20")]((function(x){t[_0x4962("0x181")](x.start,x[_0x4962("0x182")],x[_0x4962("0x45f")])})),_.hided=!0}else if(_.hided){var s=_.o3d_[_0x4962("0xf4")];s.clearGroups(),s[_0x4962("0x166")][_0x4962("0x45d")][_0x4962("0x20")]((function(x){s[_0x4962("0x181")](x[_0x4962("0x1b1")],x[_0x4962("0x182")],x[_0x4962("0x45f")])})),_.hided=!1}n=x[0]}})),n}},{key:_0x4962("0x115d"),value:function(x){var _,e=this,t=1,i=null,a=x;a instanceof Object?(t=null==a[_0x4962("0x1a5")]?1:a.time,_=1*a[_0x4962("0x1a4")],i=a[_0x4962("0x1b3")]||null):_=1*a;for(var n=0;n<e[_0x4962("0x136d")][_0x4962("0x0")];n++)e[_0x4962("0x136d")][n][_0x4962("0x1b2")]();e[_0x4962("0x136d")]=[];var r=e.focusFloorNum,s=e[_0x4962("0x1362")][2]-e[_0x4962("0x1362")][1];if(this[_0x4962("0x1101")]!=a){this[_0x4962("0x1101")]=_;var o=e[_0x4962("0x699")];e[_0x4962("0x1361")]=!0;for(var c=e.options.focusMode,l=function(){if(1==c){if(o[f]===r)return _0x4962("0x692")}else _;var a=o[f];d=e[_0x4962("0x673")](a)[_0x4962("0xf2")];var n=void 0;n=2==c?e.originFloorHeights[a]+(a-1)*_:(a-r)*(_+s),u=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(d.position).to({y:n},1e3*t)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Quadratic.Out).onComplete((function(){e[_0x4962("0x1361")]&&i&&i(),e[_0x4962("0x1361")]=!1,e[_0x4962("0x227")]("floorHeightChangeComplete",{span:x}),a===o.length&&e[_0x4962("0x227")](_0x4962("0x1104"),{span:x})}))[_0x4962("0x173")]((function(x){e[_0x4962("0x227")](_0x4962("0x13b"),{fnum:a,value:x.y})})).start(),e[_0x4962("0x136d")][_0x4962("0x3")](u)},f=0;f<o[_0x4962("0x0")];f++){var d,u;l()}}}},{key:_0x4962("0x136e"),value:function(x){return this[_0x4962("0x680")][x]}},{key:_0x4962("0x673"),value:function(x){var _=this[_0x4962("0x680")][x];return null==_?null:_[_0x4962("0xf1")]}},{key:_0x4962("0x2da"),value:function(x){return this.getO3dFloor(x)[_0x4962("0x106")].y}},{key:_0x4962("0xd0d"),value:function(){_0x4962("0x0");var x=this.map[_0x4962("0x3b")].showBuildingMode,_=null,e={time:1,scaleZ:.25};if(x===esmap.ShowBuildingMode[_0x4962("0xd0c")])_=esmap.ShowBuildingMode[_0x4962("0xd0c")];else if(x===esmap.ShowBuildingMode.PLANISH)_=esmap.ShowBuildingMode[_0x4962("0xc4b")];else{if(x===esmap[_0x4962("0x61c")][_0x4962("0xc62")])return;_=x[_0x4962("0x3c")],(0,a[_0x4962("0xc")])(e,x)}var t={mode:_};(0,a.default)(t,e),this[_0x4962("0x136f")]=t,this.map.tileService.toggleTilesLayer(!1),this[_0x4962("0x3b")].focusAnimateMode=!0,this[_0x4962("0x1363")]=!0,this.emit(_0x4962("0xd0d")),this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0x1370"),this)}},{key:_0x4962("0xd11"),value:function(){var x=this;return new(i[_0x4962("0xc")])((function(_){if(!x[_0x4962("0x136f")])return _(),void x[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0x1371"),x);x[_0x4962("0x48")].tileService[_0x4962("0xd93")](!0),x[_0x4962("0x3b")][_0x4962("0x1372")]=!1,x[_0x4962("0x1363")]=!1,x[_0x4962("0x227")](_0x4962("0xd11")),x.map.fire(_0x4962("0x1371"),x),_()}))}},{key:_0x4962("0x1373"),value:function(x,_){var e=this[_0x4962("0x135f")][x];e[_0x4962("0x1374")]=_;var t=new(esmap[_0x4962("0x551")])(this,e)[_0x4962("0xf2")];t[_0x4962("0x17c")]=!0,t[_0x4962("0x1043")]=e,t[_0x4962("0x106")][_0x4962("0xd8")](0,e.Elevation,0),this[_0x4962("0x680")][x]=t,this.o3d_[_0x4962("0xda")](t),this.originFloorHeights[x]=t[_0x4962("0x106")][_0x4962("0x126")]().y}},{key:_0x4962("0x1375"),value:function(x,_){var e=this;e[_0x4962("0x135c")]=x,_=_||{};var t=this.sourceData[_0x4962("0xb28")],i=e[_0x4962("0x48")][_0x4962("0x260")];if(this[_0x4962("0x48")]){var a=-this[_0x4962("0x680")][x][_0x4962("0x106")].y,n=_[_0x4962("0x10f7")]||!1,r=0;for(var s in this.originFloorHeights&&(r=this[_0x4962("0x1362")][this[_0x4962("0x3b")][_0x4962("0xcaf")]+1]),t){var o=t[s].floornum,c=this[_0x4962("0x680")][o];if(o==x){var l=new(THREE[_0x4962("0x12c")]);l.y=this[_0x4962("0x680")][x][_0x4962("0x106")].y,this.options.focusAlphaMode&&esmap.ESMapUtil[_0x4962("0x67f")]({fnum:x,bid:e.id,time:0});var f=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x126")](),d=this.map[_0x4962("0x260")].target[_0x4962("0x126")](),u=f.y-d.y;l.x=d.x,l.z=d.z;var h=l[_0x4962("0x126")]()[_0x4962("0x52d")](d),g=l.y+u-f.y,b=null==_.time?this[_0x4962("0x3b")].focusAnimateMode?this[_0x4962("0x3b")][_0x4962("0x1376")]:0:_[_0x4962("0x1a5")];if(e.map[_0x4962("0x1272")]&&e[_0x4962("0x48")][_0x4962("0x1272")].stop(),2==e.options[_0x4962("0xcba")])_[_0x4962("0x1377")]?(e[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x106")].y=f.y+g,i[_0x4962("0x2c5")].y=l.y,i[_0x4962("0x165")]()):e.options[_0x4962("0x1372")]&&(this.__moveToId&&this[_0x4962("0x1272")][_0x4962("0x1b2")](),this.__moveToId=new(esmap[_0x4962("0x1a6")].Tween)({value:0}).to({value:1},1e3*b).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1378")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x,_){e[_0x4962("0x48")]&&(e.map.mapView[_0x4962("0x669")][_0x4962("0x106")].y=f.y+g*_,i[_0x4962("0x2c5")].y=d.y+h.y*_,i[_0x4962("0x165")]())}))[_0x4962("0x1b0")]((function(e){_[_0x4962("0x1b3")]&&_.callback(x)}))[_0x4962("0x1b1")]());else{c[_0x4962("0x106")].fnum=o;var v=c[_0x4962("0x106")].clone();c[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0xa3f"))||(c.userData[_0x4962("0xa3f")]=v.y),v[_0x4962("0x132")]=o,v.y=v.y+a+this[_0x4962("0x1379")],n?e[_0x4962("0x1362")][o]=v.y:v.y=r,_[_0x4962("0x1377")]?(c[_0x4962("0x106")][_0x4962("0x206")](v),e.emit(_0x4962("0x13b"),{value:v.y,fnum:o})):new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(c[_0x4962("0x106")]).to(v,800)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1378")][_0x4962("0x1af")])[_0x4962("0x173")]((function(x){e[_0x4962("0x227")]("floorHeightChanged",{value:x.y,fnum:x.fnum})})).onComplete((function(){}))[_0x4962("0x1b1")]()}}else if(c&&c[_0x4962("0x17c")]&&this[_0x4962("0x3b")].focusAlphaMode&&esmap[_0x4962("0x8c")].setFloorAlpha({bid:this.id,fnum:o,alpha:this[_0x4962("0x3b")][_0x4962("0x58c")]}),c&&1==e[_0x4962("0x3b")].focusMode){var p=c[_0x4962("0x106")][_0x4962("0x126")]();c[_0x4962("0x106")][_0x4962("0x132")]=o,c[_0x4962("0x166")][_0x4962("0x2")](_0x4962("0xa3f"))||(c[_0x4962("0x166")].originHeight=p.y);c[_0x4962("0x166")][_0x4962("0xa3f")];p.y=p.y+a,p[_0x4962("0x132")]=o,n&&(e.originFloorHeights[o]=p.y),new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(c[_0x4962("0x106")]).to(p,800)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1378")][_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){})).onUpdate((function(x){e.emit("floorHeightChanged",{value:x.y,fnum:x[_0x4962("0x132")]})})).start()}}}}},{key:_0x4962("0x137a"),value:function(x,_){var e=this.getO3dFloor(x);if(e){var t=this[_0x4962("0x135f")][x][_0x4962("0x1374")];this[_0x4962("0x137b")](t,e,x,!0)}}},{key:"asyncLoadFloors",value:function(x,_,e){var t=this;x==_.length?(x=0,e&&e()):t.loadedFloorNums.indexOf(_[x])>-1?(x++,t[_0x4962("0xcbd")](x,_,e)):setTimeout((function(){t[_0x4962("0x137c")](_[x],(function(){x++,t[_0x4962("0xcbd")](x,_,e)}),x==_.length-1)}),0)}},{key:_0x4962("0x137c"),value:function(x,_,e){var t,i=this;(i[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")].Building&&function(x){if(!I){var _=esmap[_0x4962("0x33")][_0x4962("0x3a")],e=_[_0x4962("0x3b")].s&&_[_0x4962("0x3b")].k,t=!1;if(!e||(t=_[_0x4962("0xb4c")][_0x4962("0xeb6")](x[g[_0x4962("0xc0")]]))){if((0,b[_0x4962("0x10d")])(_.id))return!0;if(!(e&&t||x[g[_0x4962("0xc0")]]===_0x4962("0xb0f"))){var i=(0,h[_0x4962("0x475")])(document[g[_0x4962("0xbd")]]);if(v[_0x4962("0x1c3")][_0x4962("0xaf")](i)<0){var a=x[g[_0x4962("0xbe")]][_0x4962("0x2d")](",");if(a[_0x4962("0x0")]>0){var n=!1,r=!0,o=!1,c=void 0;try{for(var l,f=(0,s[_0x4962("0xc")])(a);!(r=(l=f[_0x4962("0x286")]())[_0x4962("0x426")]);r=!0){var d=l[_0x4962("0xe3")];C(document[g[_0x4962("0xbd")]],d)>=0&&(n=!0)}}catch(x){o=!0,c=x}finally{try{!r&&f[_0x4962("0x28c")]&&f[_0x4962("0x28c")]()}finally{if(o)throw c}}n||y()}}}I=!0}}}(i[_0x4962("0xaf1")]),x>i[_0x4962("0xaf1")][_0x4962("0xb28")][_0x4962("0x0")])||(i[_0x4962("0x135f")][x]=i.sourceData[_0x4962("0xb28")][x-1],i.map.buildingService.queryFloor(i,x,(function(t){i[_0x4962("0xdbb")][x][_0x4962("0x27a")]=t[_0x4962("0x137d")],i[_0x4962("0x135e")].push(x),i[_0x4962("0x1373")](x,t),"top"==i.options[_0x4962("0xcb8")]?e&&(i[_0x4962("0x3b")][_0x4962("0xcb8")]=x,i.focusFloorNum=x):x==i[_0x4962("0x3b")].focusFloor&&(i[_0x4962("0x58a")]={notMove:!0,isInit:!0,floornum:i.options[_0x4962("0xcb8")],time:.3}),i[_0x4962("0x137e")](x,(function(_){_[_0x4962("0xf1")].nodeType==esmap[_0x4962("0x134")][_0x4962("0x678")]&&(_[_0x4962("0xf6")]=i[_0x4962("0xfb4")](_[_0x4962("0x1043")][_0x4962("0x137f")]),_.userData={sid:i[_0x4962("0xb69")],fnum:x},!i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&i[_0x4962("0x48")].mapPicker[_0x4962("0x1380")](i.id,_))}),function(){_&&_(x)}[_0x4962("0xe")](i),(function(){}),e)})),i[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")].Building&&((t=esmap[_0x4962("0x33")].instance).zonTempObj.sprite_&&t[_0x4962("0x135b")][_0x4962("0x53c")][_0x4962("0x54b")]&&t[_0x4962("0x135b")][_0x4962("0x53c")][_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x326")][_0x4962("0x4ee")]||y()))}},{key:_0x4962("0x405"),value:function(x,_,e){if(!(x[_0x4962("0x414")]<15)){console[_0x4962("0x223")](x);x[_0x4962("0x411")];var t=x[_0x4962("0xd4c")][_0x4962("0x7d")](2,x[_0x4962("0xd4c")][_0x4962("0x0")]-2)[_0x4962("0x2d")](/,/),i=this,a={x:0,y:0},n=[],r=i[_0x4962("0x48")][_0x4962("0xd60")].split(","),s=1*r[0],o=1*r[1],l=1*r[2];if(0!=t[_0x4962("0x0")]){for(var f=0;f<t[_0x4962("0x0")];f++){var d=t[f][_0x4962("0x2d")](" "),u=new(THREE[_0x4962("0x12c")])(-(1*d[0]+a.x+s),l-.3,1*d[1]+a.y+o);u[_0x4962("0x132")]=1,u[_0x4962("0x130")]=0,u.offset=0,n[_0x4962("0x3")](u),0==f&&(a.x=1*d[0],a.y=1*d[1])}var h=i[_0x4962("0x48")].options[_0x4962("0x40f")].lineWidth,g=new(c[_0x4962("0xc")])(n,{color:i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x40f")].color,isMapRoad:!0,roadType:x[_0x4962("0x414")],lineWidthMeter:!0,lineWidth:h,lineType:i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x40f")][_0x4962("0xa43")],offsetHeight:Math[_0x4962("0x1e6")]()+2,url:i[_0x4962("0x48")][_0x4962("0x3b")].roadStyle.url},!1);g[_0x4962("0x1381")]=2e-5*i.map.options[_0x4962("0x40f")].speed,g[_0x4962("0x107")]=e,i[_0x4962("0xf2")][_0x4962("0xda")](g)}}}},{key:_0x4962("0x1382"),value:function(){var x=this,_=x[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x404")][x.id];if(_){var e=_[_0x4962("0xd8f")][0][_0x4962("0xd4b")],t=0;for(var i in e)t++,x[_0x4962("0x405")](e[i],t,x.id)}}},{key:_0x4962("0x137e"),value:function(x,_,e,t,i){var a=this[_0x4962("0x136e")](x);if(a){this[_0x4962("0xcbc")].indexOf(x)<0&&(a[_0x4962("0x17c")]=!1);var n=this[_0x4962("0x135f")][x].floorTempData,r=this;r[_0x4962("0x137b")](n,a,x,!1)[_0x4962("0x2dd")]((function(){e(),t&&t(),r[_0x4962("0x3c0")][_0x4962("0x3d2")](n,x,r),r.meshHandler[_0x4962("0x3d3")](n,x,r)}))[_0x4962("0x2dd")](r[_0x4962("0x1383")][_0x4962("0xe")](r,n,a,x)).then(r[_0x4962("0x1384")][_0x4962("0xe")](r,n,a,x))[_0x4962("0x2dd")](r[_0x4962("0x1368")][_0x4962("0xe")](r,n,a,x))}}},{key:_0x4962("0x137b"),value:function(x,_,e,t){var i=this,a=new(THREE[_0x4962("0x60c")]),n=x[_0x4962("0x104a")],r=i[_0x4962("0x135f")][e],s=(r[_0x4962("0xeaa")],i[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xfa4")][i[_0x4962("0x72")]]),o=s[_0x4962("0xff8")][e]?s[_0x4962("0xff8")][e][_0x4962("0x1a4")]:s.floorStyleBase[0]?s[_0x4962("0xff8")][0][_0x4962("0x1a4")]:1;return i[_0x4962("0x1360")][e]=o,r[_0x4962("0x1367")]=n[0][_0x4962("0x1385")],setTimeout((function(){i[_0x4962("0x48")][_0x4962("0x3b")].tileMode&&i[_0x4962("0x213")]==esmap[_0x4962("0xd63")][_0x4962("0xb13")]&&!t?i.toLoaded[e][_0x4962("0x613")]--:i.meshHandler.handleFloors(x,e,o,i),a[_0x4962("0xdc")]()}),i[_0x4962("0x102d")]),a}},{key:_0x4962("0x1383"),value:function(x,_,e){var t=this,i=this[_0x4962("0x48")].mapScene,a=new(THREE[_0x4962("0x60c")]),n=t.options.scaleOffset,r=this.progressHandler,s=this.map[_0x4962("0x3c")]==esmap.MapMode[_0x4962("0x41")];if(t[_0x4962("0x3b")].loadPoi)return i.poiLayer=null,setTimeout((function(){for(var o in x[_0x4962("0x1386")]){var c=x[_0x4962("0x1386")][o],l=new esmap.ESLayer(esmap.ESLayerType[_0x4962("0x3da")]);_[_0x4962("0xda")](l[_0x4962("0xf2")]),l[_0x4962("0xf2")].boxCollision_=new(esmap[_0x4962("0x3d9")]);var f=c[_0x4962("0x1387")];for(var d in f){var u=f[d],h=u[_0x4962("0x326")];u[_0x4962("0x326")]||(h=u[_0x4962("0x3f2")]);var g=i[_0x4962("0x3f3")].getPoiAssetUrl(t[_0x4962("0x72")],h,t.id,2);u.url=g;var b=new esmap.ESFacility(u);t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3f1")]&&"number"==typeof t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3f1")]&&(b[_0x4962("0x1fe")]=t.map[_0x4962("0x3b")].poiScale);var v=b[_0x4962("0xf2")];b.bid=t.id,v[_0x4962("0x44")]({type:_0x4962("0x3e5")}),l[_0x4962("0xf2")][_0x4962("0xda")](v),r[_0x4962("0xdf")](u[_0x4962("0x402")]),v.data_[_0x4962("0x3e7")]=n;var p=u[_0x4962("0x313")]||3,m=void 0;if(s)m=t[_0x4962("0x48")].buildingService[_0x4962("0xe8c")]({x:u.X,y:u.Y},t);else{var A=t[_0x4962("0x48")][_0x4962("0x1b7")]({from:t[_0x4962("0x48")].DEFAULT_COORDSYSTEM,to:t.map[_0x4962("0x1b8")],coord:{x:u.X,y:u.Y}});m=t[_0x4962("0x48")][_0x4962("0x2c3")](A)}v[_0x4962("0x106")][_0x4962("0xd8")](m.x,p,m.z),v[_0x4962("0x3f7")]=_0x4962("0x3f8"),v[_0x4962("0x131")][_0x4962("0xd8")](u.center.x,u[_0x4962("0x131")].y),v[_0x4962("0x166")][_0x4962("0x1f4")]=v[_0x4962("0x106")],v[_0x4962("0x3ea")][_0x4962("0x3eb")](i.map[_0x4962("0x3ec")].matrixWorldInverse,v[_0x4962("0x3ee")]),!i.map[_0x4962("0x3b")].disableIndoorClick&&i.map[_0x4962("0x194")][_0x4962("0x3f0")](v,t.id)}}i.map[_0x4962("0xe5")](_0x4962("0x1388"),{bid:t.id,fnum:e,type:_0x4962("0x614")}),t[_0x4962("0xdbb")][e][_0x4962("0x61f")]--,t[_0x4962("0x1389")](e),a.resolve()}),i.asyncWaitTime),a;t[_0x4962("0xdbb")][e].poi=0}},{key:_0x4962("0x1384"),value:function(x,_,e){var t=this,i=new(THREE[_0x4962("0x60c")]),a=(t[_0x4962("0x48")][_0x4962("0x34")],t[_0x4962("0x3b")][_0x4962("0x3e7")]),n=this.progressHandler,r=this[_0x4962("0x48")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x41")];if(t[_0x4962("0x3b")][_0x4962("0x3a1")])return setTimeout((function(){for(var s in x.labellayers){var o=x.labellayers[s],c=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType[_0x4962("0x3d7")]);_[_0x4962("0xda")](c.o3d_),c.o3d_[_0x4962("0x3d8")]=new esmap.ESMapBoxCollision;var l=o[_0x4962("0x138a")];for(var f in l){var d=l[f];if(""!=d[_0x4962("0x107")]){var u=void 0;if(r)u=t[_0x4962("0x48")][_0x4962("0xb4c")][_0x4962("0xe8c")]({x:d.X,y:d.Y},t),d[_0x4962("0x130")]=t.id;else{var h=t[_0x4962("0x48")][_0x4962("0x1b7")]({from:t.map[_0x4962("0x3e9")],to:t.map[_0x4962("0x1b8")],coord:{x:d.X,y:d.Y}});u=t.map[_0x4962("0x2c3")](h)}var g=d[_0x4962("0x313")]||2.5,b=t[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xfa4")][t[_0x4962("0x72")]],v=b[_0x4962("0xff1")][d[_0x4962("0x138b")]]||b[_0x4962("0xff1")][_0x4962("0xc")];d[_0x4962("0x130")]=t.id,t[_0x4962("0x48")][_0x4962("0x3b")].buildingLabelCenter&&(d[_0x4962("0x131")]=d[_0x4962("0x131")]);var p=new esmap.ESLabel(d,v);t.map[_0x4962("0x3b")][_0x4962("0x3f1")]&&typeof t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3f1")]===_0x4962("0x18a")&&(p.scale=t[_0x4962("0x48")].options[_0x4962("0x3f1")]);var m=p[_0x4962("0xf2")];m.forceVisible_=!0,m.dispatchEvent({type:_0x4962("0x3e5")}),c[_0x4962("0xf2")][_0x4962("0xda")](m),m[_0x4962("0x3e6")][_0x4962("0x3e7")]=a,m[_0x4962("0x131")][_0x4962("0xd8")](d.center.x,d[_0x4962("0x131")].y),m[_0x4962("0x106")].set(u.x,g,u.z),m.userData[_0x4962("0x1f4")]=m.position[_0x4962("0x126")](),n[_0x4962("0xdf")](d[_0x4962("0x402")]),m.modelViewMatrix[_0x4962("0x3eb")](t[_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")],m[_0x4962("0x3ee")]),!t.map[_0x4962("0x3b")][_0x4962("0xdba")]&&t[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](m,t.id)}}}t.map[_0x4962("0xe5")](_0x4962("0x1388"),{bid:t.id,fnum:e,type:_0x4962("0x615")}),t[_0x4962("0xdbb")][e][_0x4962("0x615")]--,t[_0x4962("0x1389")](e),i.resolve()}),t[_0x4962("0x102d")]),i;t[_0x4962("0xdbb")][e][_0x4962("0x615")]=0}},{key:_0x4962("0x1389"),value:function(x){if(0==this.id)return!0;var _=this[_0x4962("0xdbb")];for(var e in _[x])if(e!=_0x4962("0x27a")&&_[x][e])return!1;for(var t in this[_0x4962("0x3b")][_0x4962("0x138c")]&&this[_0x4962("0x3b")][_0x4962("0x138c")](x),this.map[_0x4962("0xe5")](_0x4962("0x138d"),{fnum:x,bid:this.id}),this[_0x4962("0x3b")][_0x4962("0x58b")]&&this[_0x4962("0x3b")][_0x4962("0xcb8")]!=x&&esmap.ESMapUtil[_0x4962("0x679")]({bid:this.id,fnum:x,alpha:this[_0x4962("0x3b")][_0x4962("0x58c")],time:0}),_)if(t!=x)for(var i in _[t])if(i!=_0x4962("0x27a")&&_[t][i])return!1;var a=!0;for(var t in _){if(!a)break;for(var i in _[t])if(_[t][i]){a=!1;break}}return a&&!this[_0x4962("0x138e")]&&(this.mapModelsLoadedAll=!0,this.emit("modelLoadedAll"),this[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xa36"),{bid:this.id})),this[_0x4962("0x48")][_0x4962("0x687")].indexOf(this)<0&&(this[_0x4962("0x48")][_0x4962("0x687")].push(this),this[_0x4962("0x3c0")][_0x4962("0x1044")][_0x4962("0x728")](),this[_0x4962("0x3c0")].modelWorker.closeAll(),this.map.options[_0x4962("0x39f")]&&this[_0x4962("0xa11")][_0x4962("0xe1b")](),0!=this.id&&this[_0x4962("0x48")].fire(_0x4962("0xa35"),this),this.map[_0x4962("0x2b4")][_0x4962("0x68d")][this.id]&&(this.map[_0x4962("0x2b4")].bidList[this.id][_0x4962("0xaf4")]=!0),this[_0x4962("0x48")][_0x4962("0x3c")]!=esmap.MapMode[_0x4962("0x3b8")]&&this.id!=this.map[_0x4962("0x2b4")][_0x4962("0xa04")]||(this[_0x4962("0x48")].fire(_0x4962("0xb06"),{}),esmap[_0x4962("0x33")].IsMapLoading=!1,this[_0x4962("0x48")].fire(_0x4962("0xcbe"),{bid:this.id}))),!0}},{key:"loadModel3D",value:function(){this.meshLoader[_0x4962("0xe1b")]()}},{key:_0x4962("0x138f"),value:function(x){var _=!0,e=!1,t=void 0;try{for(var i,a=(0,s[_0x4962("0xc")])(this[_0x4962("0x699")]);!(_=(i=a.next()).done);_=!0){var n=i[_0x4962("0xe3")],r=this[_0x4962("0x673")](n)[_0x4962("0x408")](esmap.ESLayerType.MODEL3D),o=!0,c=!1,l=void 0;try{for(var f,d=(0,s[_0x4962("0xc")])(r);!(o=(f=d[_0x4962("0x286")]())[_0x4962("0x426")]);o=!0){var u=f[_0x4962("0xe3")];if(u[_0x4962("0x1390")]){u[_0x4962("0x17c")]=x;break}}}catch(x){c=!0,l=x}finally{try{!o&&d[_0x4962("0x28c")]&&d[_0x4962("0x28c")]()}finally{if(c)throw l}}}}catch(x){e=!0,t=x}finally{try{!_&&a.return&&a.return()}finally{if(e)throw t}}}},{key:_0x4962("0x41b"),get:function(){return u[_0x4962("0xc")].get(this.id)}},{key:_0x4962("0x15c"),get:function(){return A},set:function(x){A=x}},{key:"themeID",get:function(){return m[_0x4962("0xdb")](_0x4962("0x579"))},set:function(x){m[_0x4962("0xd8")](_0x4962("0x579"),x)}},{key:_0x4962("0x579"),get:function(){return this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0xfa4")][this.themeID]}},{key:_0x4962("0x17c"),set:function(x){this[_0x4962("0xf2")]&&(this.o3d_[_0x4962("0x17c")]=x)},get:function(){if(this[_0x4962("0xf2")])return this[_0x4962("0xf2")].visible}},{key:"scaleLevel",get:function(){for(var x=this[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x9")].position,_=this[_0x4962("0x48")][_0x4962("0x237")](this[_0x4962("0x131")]),e=x[_0x4962("0x23a")](_)/this[_0x4962("0xe8b")],t=0;t<this.scaleLevels_[_0x4962("0x0")];t++)if(Math[_0x4962("0x231")](this[_0x4962("0xaa4")][t]-e)>.001&&e<this[_0x4962("0xaa4")][t])return t-1<0?0:t-1;return t-1<0?0:t-1}},{key:_0x4962("0x1391"),get:function(){return this[_0x4962("0xaf1")][_0x4962("0xec7")][_0x4962("0x2d")](",")||null}},{key:_0x4962("0x1365"),get:function(){return this[_0x4962("0xaf1")][_0x4962("0xb28")]}},{key:_0x4962("0x58a"),set:function(x){if(!this.map[_0x4962("0x12ab")]){var _=!1,e=null,i=this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")],a=null,n=this;if(_0x4962("0x9")==(typeof x===_0x4962("0x21")?_0x4962("0x21"):(0,t[_0x4962("0xc")])(x))&&(a=x,_=x[_0x4962("0x10f7")],e=x[_0x4962("0x1b3")],x=null==x[_0x4962("0xcbb")]?x.fnum:x[_0x4962("0xcbb")]),this[_0x4962("0x135c")]!=x){if(n.map[_0x4962("0x9d3")]!=this&&(n[_0x4962("0x48")][_0x4962("0x9d3")]=this,1!=n[_0x4962("0x213")]&&n.map.fire(_0x4962("0x1392"),this)),n[_0x4962("0x3b")].undergroundOffset&&2==n[_0x4962("0x3b")].focusMode){var r=n.originHeight_;if(x<=n[_0x4962("0x3b")].undergroundOffset){for(var s=n[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0xa34")],o=0;o<s[_0x4962("0xf3")][_0x4962("0x0")];o++){var c=s[_0x4962("0xf3")][o];i&&c[_0x4962("0xf1")].id==this[_0x4962("0x48")].id||c[_0x4962("0xf1")].id!=this.id&&c[_0x4962("0x17c")]&&(c[_0x4962("0x17c")]=!1,n[_0x4962("0x48")][_0x4962("0xe5")]("visibleBuildingsChanged",n[_0x4962("0x48")][_0x4962("0xb51")]))}n[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0x166")][_0x4962("0x1393")]=!0}else{if(n[_0x4962("0x48")][_0x4962("0x34")][_0x4962("0xa34")][_0x4962("0x166")][_0x4962("0x1393")])for(var l=n[_0x4962("0x48")].mapScene[_0x4962("0xa34")],f=0;f<l[_0x4962("0xf3")][_0x4962("0x0")];f++){var d=l[_0x4962("0xf3")][f];i&&d.datas_.id==this[_0x4962("0x48")].id||(d.visible||(d.visible=!0,n[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xd95"),n[_0x4962("0x48")][_0x4962("0xb51")])))}new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(n.o3d_[_0x4962("0x106")]).to({y:r},1e3)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")].Quadratic[_0x4962("0x1af")])[_0x4962("0x1b1")]()}}(-1!=this[_0x4962("0x135c")]||(this[_0x4962("0x135c")]=x,this[_0x4962("0x48")].fire(_0x4962("0x9e1"),{floornum:x,bid:this.id}),this.options.focusOnLoaded))&&(esmap.ESMap.IsMapLoading&&!a||(this[_0x4962("0x680")][x]?(this.focusFloor_(x,a),_||(this.emit("focusFloorNumChanged",x),this.map[_0x4962("0xe5")]("focusFloorNumChanged",{floornum:x,bid:this.id}))):this.on(_0x4962("0x138d"),(function e(t){t==x&&(n.off(_0x4962("0x138d"),e),n[_0x4962("0x1375")](x,a),_&&(n.emit(_0x4962("0x9e1"),x),n[_0x4962("0x48")].fire("focusFloorNumChanged",{floornum:x,bid:n.id})))}))))}else e&&e()}},get:function(){return this[_0x4962("0x135c")]}},{key:"naviData",get:function(){return this[_0x4962("0xaf1")][_0x4962("0xd8f")]}},{key:_0x4962("0xcbc"),get:function(){return this[_0x4962("0x135d")]},set:function(x){if(this[_0x4962("0x135d")][_0x4962("0x18b")]()!=x[_0x4962("0x18b")]()&&x[_0x4962("0x0")]>0){for(var _ in this[_0x4962("0x135d")]=x,this[_0x4962("0x48")].mapView[_0x4962("0x2e6")][_0x4962("0xf3")][_0x4962("0x20")]((function(_){_[_0x4962("0xf1")]instanceof esmap[_0x4962("0x63c")]&&x[_0x4962("0xaf")](_.datas_[_0x4962("0xcbb")])>-1&&(_[_0x4962("0xf1")][_0x4962("0x17c")]=!0)})),this.o3dFloors_){var e=this[_0x4962("0x680")][_];e.visible=x[_0x4962("0xaf")](e[_0x4962("0x1043")][_0x4962("0xcbb")])>=0}this[_0x4962("0x227")]("visibleFloorNumsChanged",x),this[_0x4962("0x48")].fire("visibleFloorNumsChanged",{bid:this.id,fnums:x})}}}]),x}();_[_0x4962("0xc")]=E},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=d(e(78)),i=d(e(9)),a=d(e(7)),n=d(e(8)),r=d(e(0)),s=d(e(1)),o=d(e(79)),c=d(e(111)),l=d(e(376)),f=d(e(35));function d(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var u=0;function h(x){if(x){if(x[_0x4962("0xf1")]&&x[_0x4962("0xf1")].o3d_&&(x[_0x4962("0xf1")][_0x4962("0xf2")]=void 0,x.datas_=void 0),x.children)for(var _=0;_<x[_0x4962("0xf3")][_0x4962("0x0")];_++)h(x.children[_]);x[_0x4962("0xf4")]&&(x.geometry[_0x4962("0xf5")](),x[_0x4962("0xf4")]=void 0),x[_0x4962("0xf6")]&&(x[_0x4962("0xf6")]instanceof Array?x[_0x4962("0xf6")].forEach((function(x){x&&(x[_0x4962("0x48")]&&(x[_0x4962("0x48")][_0x4962("0xf5")](),x[_0x4962("0x48")]=void 0),x[_0x4962("0xf5")](),x=void 0)})):(x[_0x4962("0xf6")][_0x4962("0xf5")](),x[_0x4962("0xf6")]=void 0))}x=void 0}var g=function(){function x(_){(0,r.default)(this,x),this[_0x4962("0x2e6")]=_[_0x4962("0x48")][_0x4962("0x34")],this.loader=this[_0x4962("0x2e6")][_0x4962("0x102e")],this[_0x4962("0x2f2")]={},this.toLoadedCount=0,this.autoLoad=1,this.concurrencyLimit=20,this[_0x4962("0xda9")]=0,this[_0x4962("0xda0")]={},this[_0x4962("0xa1b")]=[],this[_0x4962("0xda2")]=[],this[_0x4962("0xb12")]=[],this.delayLoadQueue={},this[_0x4962("0xdc5")]=!1,this[_0x4962("0x266")]=!1,this.mapModelLoadStatus={},this.userModelLoadStatus={},this[_0x4962("0xdb4")]={},this[_0x4962("0xda5")]=null,this[_0x4962("0xda6")]=50,this[_0x4962("0xda7")]=1e4,this[_0x4962("0xa30")]=new(c[_0x4962("0xc")]),this[_0x4962("0x383")]=!_[_0x4962("0x48")][_0x4962("0x3b")].editMode&&(null==_[_0x4962("0x48")].options[_0x4962("0x1394")]?_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a7")]:_[_0x4962("0x48")].options[_0x4962("0x1394")]),this.modelStatic={modelTypesCount:0,roomModelsCount:0,bimModelsCount:0},this[_0x4962("0xbf0")]=new(THREE[_0x4962("0x926")]);var e=this;_[_0x4962("0x48")].on(_0x4962("0xda8"),(function(){u=0,e.mapModelsCount=0,e[_0x4962("0x3cf")][_0x4962("0x681")]=0,e[_0x4962("0x3cf")].roomModelsCount=0}),null,_.id),this[_0x4962("0x130")]=_.id,this[_0x4962("0x52")]=_,this[_0x4962("0xf84")]=new(l[_0x4962("0xc")])(_),this.compressionModel3D=_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a8")],this[_0x4962("0xcf2")]={},this[_0x4962("0x3a8")]&&(this[_0x4962("0x7b2")]=new(THREE[_0x4962("0x753")]),THREE.DRACOLoader.setDecoderPath(_[_0x4962("0x48")][_0x4962("0xb4c")].mapOptions.mapDataSrc),THREE[_0x4962("0x753")][_0x4962("0x7a3")]({type:_0x4962("0x1395")}),this[_0x4962("0x3c9")][_0x4962("0xdac")](this.dracoLoader))}var _,e,d,g,b;return(0,s[_0x4962("0xc")])(x,[{key:"setFrustum",value:function(){this.frustum.inited||(this[_0x4962("0xbf0")][_0x4962("0xc07")]((new(THREE[_0x4962("0x23f")]))[_0x4962("0x3eb")](this[_0x4962("0x2e6")].map[_0x4962("0x3ec")].projectionMatrix,this.scene[_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")])),this[_0x4962("0xbf0")][_0x4962("0xa26")]=!0)}},{key:_0x4962("0x92d"),value:function(){this[_0x4962("0xbf0")].setFromMatrix((new(THREE[_0x4962("0x23f")]))[_0x4962("0x3eb")](this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")].projectionMatrix,this.scene.map.currentCamera[_0x4962("0x3ed")]))}},{key:_0x4962("0x1396"),value:function(){this[_0x4962("0xf84")][_0x4962("0x1b1")]()}},{key:_0x4962("0x1397"),value:function(x){this.modelStatic[_0x4962("0x1398")]++,this[_0x4962("0xf84")][_0x4962("0x1399")](x)}},{key:_0x4962("0xdae"),value:function(x,_){var e=arguments[_0x4962("0x0")]>2&&void 0!==arguments[2]&&arguments[2],t=x[_0x4962("0x288")],i=x.url,a=x[_0x4962("0x132")];if(this[_0x4962("0xcf2")][t])a&&this[_0x4962("0x52")].toLoaded[a][_0x4962("0x27a")]--;else if(_=_||!1,this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")].isLazyLoadModel3D&&x[_0x4962("0x414")]<24&&(x[_0x4962("0x414")]=24),!(t[_0x4962("0xaf")]("__singlemesh")>-1&&this.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3aa")]==_0x4962("0x5e4"))){if(this[_0x4962("0xd9d")]++,t[_0x4962("0xaf")](_0x4962("0xdaf"))>-1&&(_=!0),!this.preHandleModel(x)&&!e&&this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xaee")])return this[_0x4962("0x139a")](x),void(x[_0x4962("0x139b")]=_);this.mergeModels&&!_?(this.modelStore[t]||this[_0x4962("0x2f2")][t]||(this[_0x4962("0x2f2")][t]=!0,this[_0x4962("0x2f3")](t,i)),this[_0x4962("0xda0")][a]||(this[_0x4962("0xda0")][a]={}),this[_0x4962("0xda0")][a][t]||(this.mergeQueue[a][t]=[]),this[_0x4962("0xda0")][a][t][_0x4962("0x3")](x)):x.rank>=24?(this[_0x4962("0x287")][t]||this[_0x4962("0x2f2")][t]||(this[_0x4962("0x2f2")][t]=!0,this[_0x4962("0x2f3")](t,i)),this[_0x4962("0xda2")][_0x4962("0x3")](x),this.rankRequisites()):(this[_0x4962("0xbf0")][_0x4962("0x938")](x[_0x4962("0x106")])&&(this[_0x4962("0x287")][t]||this[_0x4962("0x2f2")][t]||(this.loadingList[t]=!0,this.preFetchModel3D(t,i))),this[_0x4962("0xdcb")](x))}}},{key:_0x4962("0xdb0"),value:function(){this[_0x4962("0xda2")][_0x4962("0x46f")]((function(x,_){return _[_0x4962("0x414")]-x.rank}))}},{key:_0x4962("0xdb1"),value:function(x){var _=x[_0x4962("0x288")],e=x[_0x4962("0x4d")];this[_0x4962("0xcf2")][_]||(this[_0x4962("0xd9d")]++,this[_0x4962("0x287")][_]||this[_0x4962("0x2f2")][_]||(this[_0x4962("0x2f2")][_]=!0,this[_0x4962("0x2f3")](_,e)),x[_0x4962("0x12d")]?(this.userMergeQueue[x[_0x4962("0xdb5")]]||(this[_0x4962("0xdb4")][x.layerid]={}),this[_0x4962("0xdb4")][x.layerid][_]||(this[_0x4962("0xdb4")][x.layerid][_]=[]),this[_0x4962("0xdb4")][x[_0x4962("0xdb5")]][_][_0x4962("0x3")](x)):this[_0x4962("0xdcb")](x))}},{key:"start",value:(b=(0,n[_0x4962("0xc")])(a.default[_0x4962("0x283")]((function x(_){return a.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return x[_0x4962("0x286")]=2,this[_0x4962("0xdb6")](_);case 2:if(!(this[_0x4962("0xda2")][_0x4962("0x0")]>0)){x[_0x4962("0x286")]=5;break}return x.next=5,this.applyRequisitToMap();case 5:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x){return b.apply(this,arguments)})},{key:_0x4962("0xdbd"),value:function(x,_){var e=this,t=e.mergeQueue[_],i=f[_0x4962("0xc")][_0x4962("0xdb")](x.id);for(var a in t){var n=t[a],r=!1;if(e[_0x4962("0x287")][a]&&n[_0x4962("0x0")]>0){n[0][_0x4962("0xdb9")]&&(r=!0),!r&&a[_0x4962("0xaf")]("__singlemesh")<0&&(e.mapModelsCount+=n[_0x4962("0x0")]);for(var s=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](e[_0x4962("0x287")][a].gltfObj[_0x4962("0x2e6")]),o=n[0][_0x4962("0x17b")],c=n[0][_0x4962("0x4d")],l=s[_0x4962("0x300")].y-s[_0x4962("0x301")].y,d=0;d<n[_0x4962("0x0")];d++){var h=n[d],g=l*h[_0x4962("0x1fe")].y,b=g+h[_0x4962("0x106")].y-g/2;h[_0x4962("0x313")]=1*b.toFixed(2),h[_0x4962("0x125")]=esmap[_0x4962("0x134")].MODEL3D,h.ID=h.id;var v=e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x208")](h.position);h[_0x4962("0x217")]=v}if(0!=e[_0x4962("0x287")][a][_0x4962("0x2ee")][_0x4962("0x296")][_0x4962("0x0")]){for(var p=0;p<n[_0x4962("0x0")];p++)e.addMapModel(n[p],!0);e[_0x4962("0xda0")][_][a]=[];continue}var m=e[_0x4962("0xa30")][_0x4962("0x12d")](e[_0x4962("0x287")][a][_0x4962("0x2ee")],n);if(!m){for(var A=0;A<n[_0x4962("0x0")];A++)n[A][_0x4962("0x12d")]=!1,u-=1,e.addMapModel(n[A]);return void(e.mergeQueue[_][a]=[])}m[_0x4962("0x107")]=_0x4962("0x108"),m[_0x4962("0x166")][_0x4962("0xa6b")]=!0,m.datas_={isWall:r,model:a,bid:e[_0x4962("0x52")].id,bType:2,FloorNum:_,nodeType:esmap[_0x4962("0x134")][_0x4962("0x1e3")],brothers:n,animations:[],o3d_:m,url:c},m.renderOrder=esmap[_0x4962("0x171")][_0x4962("0x27a")],n[0][_0x4962("0x43e")]&&(2==x.buildingType?!e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")].disableIndoorClick&&e[_0x4962("0x2e6")].map[_0x4962("0x194")][_0x4962("0x3f0")](m,x.id):e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](m,x.id)),o[_0x4962("0xda")](m);for(var y=[],C=0;C<n[_0x4962("0x0")];C++)y.push(n[C].id),n[C][_0x4962("0xf2")]=m;var I=(new THREE.Box3).setFromObject(m),E={};[I[_0x4962("0x300")].x-I.min.x,I[_0x4962("0x300")].z-I[_0x4962("0x301")].z,I.max.y-I[_0x4962("0x301")].y][_0x4962("0x46f")](),E[_0x4962("0x2ff")]=I,m.userData[_0x4962("0x2fe")]=E,e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x3d1")]-=n.length,e[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xdbc"),m[_0x4962("0xf1")]),x[_0x4962("0xdbb")][_][_0x4962("0x27a")]-=n[_0x4962("0x0")],x[_0x4962("0x1389")](_),i[_0x4962("0xde")](y),2==x.buildingType&&x[_0x4962("0x3b")].focusAlphaMode&&x[_0x4962("0x3b")][_0x4962("0x58c")]<1&&x[_0x4962("0x58a")]!=_&&esmap[_0x4962("0x8c")][_0x4962("0x679")]({bid:x.id,fnum:_,alpha:x.options.focusAlpha,time:0,isCloneMat:!0}),e.mergeQueue[_][a]=[]}}}},{key:_0x4962("0xdb7"),value:function(){var x=this;return new(i[_0x4962("0xc")])((function(_){for(var e=0,t=0;t<x[_0x4962("0xda2")][_0x4962("0x0")];t++){var i=x[_0x4962("0xda2")][t];if(e>=x.concurrencyLimit)break;x.modelStore[i[_0x4962("0x288")]]?(x[_0x4962("0xda2")][_0x4962("0x4")](t,1),t--,x[_0x4962("0xdbe")](i),e++):x[_0x4962("0x2f2")][i[_0x4962("0x288")]]||(x.loadingList[i.model]=!0,x.preFetchModel3D(i[_0x4962("0x288")],i.url))}_()}))}},{key:_0x4962("0xdbf"),value:function(){var x=this;if(x[_0x4962("0x383")]&&x.scene.map.enableCollide&&!this[_0x4962("0x266")]&&x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x381")]){for(var _=x[_0x4962("0x2e6")].map[_0x4962("0x21e")],e=x[_0x4962("0x52")][_0x4962("0x699")],t=0;t<e[_0x4962("0x0")];t++){var i=x[_0x4962("0x52")][_0x4962("0x673")](e[t]);if(!i)return;var a=i[_0x4962("0x409")](_0x4962("0xdc0"))[0];if(!a)return;var n=a[_0x4962("0xf2")][_0x4962("0xf3")];this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")]?this.scene[_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")].distanceTo(this[_0x4962("0x2e6")].map[_0x4962("0x3ec")].position):this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")].target.distanceTo(this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x106")]);for(var r=0;r<n[_0x4962("0x0")];r++){for(var s=n[r],o=s[_0x4962("0xf1")][_0x4962("0x480")],c=[],l=[],f=0;f<o[_0x4962("0x0")];f++){var d=o[f],u=d.position[_0x4962("0x126")]();u[_0x4962("0xb35")](this.scene[_0x4962("0x48")][_0x4962("0x3ec")]);var h=!1;(Math[_0x4962("0x231")](u.x)>=1.5||Math[_0x4962("0x231")](u.y)>=1.5)&&(h=!0);var g=x[_0x4962("0xa30")].isModelVisible(s,d.id);d[_0x4962("0x311")]<_||h?g&&c.push(d.id):!g&&l[_0x4962("0x3")](d.id)}x[_0x4962("0xa30")][_0x4962("0x46d")](s,c,!1),x[_0x4962("0xa30")][_0x4962("0x46d")](s,l,!0)}}this[_0x4962("0x266")]=!0}}},{key:"disposeInvisible",value:function(){var x=this;if(!x[_0x4962("0x383")]&&x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]&&!this.viewRangeUpdated){var _=x.building,e=new(THREE[_0x4962("0x926")]);e[_0x4962("0xc07")]((new THREE.Matrix4)[_0x4962("0x3eb")](this[_0x4962("0x2e6")].map[_0x4962("0x3ec")][_0x4962("0x752")],this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")]));for(var t=_.floorNums,i=0;i<t[_0x4962("0x0")];i++){var a=_[_0x4962("0x673")](t[i]);if(!a)return;var n=a[_0x4962("0x409")](_0x4962("0xa66"))[0];if(!n)return;var r=n.o3d_[_0x4962("0xf3")];this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xb47")]?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")].target[_0x4962("0x23a")](this[_0x4962("0x2e6")][_0x4962("0x48")].currentCamera[_0x4962("0x106")]):this[_0x4962("0x2e6")].map.controls[_0x4962("0x2c5")].distanceTo(this.scene.map[_0x4962("0x3ec")][_0x4962("0x106")]);for(var s=0;s<r[_0x4962("0x0")];s++){var o=r[s],c=(o[_0x4962("0x106")],o[_0x4962("0x166")].modelinfo[_0x4962("0xdc1")],o[_0x4962("0x166")][_0x4962("0x2fe")][_0x4962("0x2ff")]);e.intersectsBox(c)||(x[_0x4962("0xb12")][_0x4962("0x3")](o.userData[_0x4962("0x2fe")]),o[_0x4962("0xf1")][_0x4962("0xf5")](),s--)}}this[_0x4962("0x266")]=!0}}},{key:_0x4962("0xdc2"),value:function(x,_,e,t){var a=this;return new(i[_0x4962("0xc")])((function(i){if(a[_0x4962("0x287")][e]&&_[_0x4962("0x0")]>0){a.mapModelsCount+=_.length;var n=_[0][_0x4962("0x17b")],r=_[0][_0x4962("0x4d")],s=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](a.modelStore[e][_0x4962("0x2ee")][_0x4962("0x2e6")]),o=(s[_0x4962("0x300")].y-s[_0x4962("0x301")].y)/2,c=0,l=0;if(0!=a[_0x4962("0x287")][e][_0x4962("0x2ee")][_0x4962("0x296")].length){for(var f=0;f<_[_0x4962("0x0")];f++)_[f].merge=!1,u-=1,a[_0x4962("0xdb1")](_[f]);return void(a[_0x4962("0xdb4")][t][e]=[])}for(var d=!1,g=!1,b=0;b<_.length;b++){_[b][_0x4962("0x106")].y+=o*_[b][_0x4962("0x1fe")].y,0==b&&_[b][_0x4962("0xdb9")]&&(d=!0),2==x.buildingType&&(0==x.id?(c=0,l=0):(c=x[_0x4962("0xaf1")].DefaultCenX-a[_0x4962("0x2e6")][_0x4962("0x2e7")],l=x[_0x4962("0xaf1")][_0x4962("0xcb5")]-a[_0x4962("0x2e6")][_0x4962("0x2e8")]));var v=_[b][_0x4962("0x106")];_[b][_0x4962("0x106")].x=v.x-c,_[b][_0x4962("0x106")].z=v.z-l,_[b][_0x4962("0x16c")]&&!g&&(g=!0)}var p=a[_0x4962("0xa30")][_0x4962("0x12d")](a[_0x4962("0x287")][e][_0x4962("0x2ee")],_);if(!p){for(var m=0;m<_.length;m++)_[m][_0x4962("0x12d")]=!1,u-=1,a.addUserModel(_[m]);return void(a[_0x4962("0xdb4")][t][e]=[])}p[_0x4962("0x107")]=_0x4962("0x108");var A=_[0][_0x4962("0x132")];p[_0x4962("0x166")][_0x4962("0xa6b")]=!0;p[_0x4962("0xf1")]={isWall:d,model:e,bid:x.id,FloorNum:A,nodeType:esmap.ESNodeType[_0x4962("0x1e3")],brothers:_,animations:[],url:r,bType:2,o3d_:p,dispose:function(x){(x=x||this)[_0x4962("0x17c")]=!1;var _=x.parent;return _?(_[_0x4962("0x197")](x),h(x),!0):void 0}[_0x4962("0xe")](p)},p[_0x4962("0x170")]=esmap[_0x4962("0x171")].model3D,g&&p.traverse((function(x){x[_0x4962("0xf6")]&&(x[_0x4962("0xf6")]instanceof Array?x.material.map((function(x){x[_0x4962("0x16d")]=!1})):x[_0x4962("0xf6")].depthTest=!1)}));var y=_[0].bclick;for(var C in y&&(2==x[_0x4962("0x213")]?!a.scene[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&a.scene[_0x4962("0x48")][_0x4962("0x194")].addObject(p,x.id):a[_0x4962("0x2e6")][_0x4962("0x48")].mapPicker[_0x4962("0x3f0")](p,x.id)),n[_0x4962("0xda")](p),_)_[C][_0x4962("0xf2")]=p;a.scene[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x3d1")]-=_[_0x4962("0x0")],a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0xdbc"),p[_0x4962("0xf1")]),x[_0x4962("0xdbb")][A][_0x4962("0x27a")]-=_.length,x[_0x4962("0x1389")](A),x[_0x4962("0x3b")][_0x4962("0x58b")]&&x[_0x4962("0x3b")][_0x4962("0x58c")]<1&&x[_0x4962("0x58a")]!=A&&esmap[_0x4962("0x8c")][_0x4962("0x679")]({bid:x.id,alpha:x.options[_0x4962("0x58c")],fnum:A,time:0,isCloneMat:!0}),a[_0x4962("0xdb4")][t][e]=[]}i()}))}},{key:"loadUserMergeModel",value:(g=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e){var t,i,n,r,s;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x.next){case 0:for(n in i=(t=this).userMergeQueue[e])i[n].length;x.t0=a.default[_0x4962("0xaf3")](i);case 5:if((x.t1=x.t0())[_0x4962("0x426")]){x.next=12;break}return r=x.t1.value,s=i[r],x[_0x4962("0x286")]=10,t.applyMergeToMap(_,s,r,e);case 10:x.next=5;break;case 12:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,_){return g.apply(this,arguments)})},{key:"checkO1",value:function(){var x=this.scene.map[_0x4962("0x7f")][_0x4962("0xd28")]||0;return u>x||0==x}},{key:"checkIfNeedLoad",value:function(){var x=this,_=this[_0x4962("0x52")];if(this[_0x4962("0x383")]&&x[_0x4962("0xda9")]<x[_0x4962("0x3cf")].roomModelsCount)for(var e in this[_0x4962("0xda3")])this.mapModelLoadStatus[e]&&this[_0x4962("0xdbd")](_,e);for(var t in this[_0x4962("0xdb4")])this.userModelLoadStatus[t]&&this.loadUserMergeModel(_,t);if(this[_0x4962("0xd9e")]&&x.requisitesQueue.length>0&&x[_0x4962("0x1b1")](),this[_0x4962("0xd9e")]&&x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]&&(x.queue[_0x4962("0x0")]>0||x[_0x4962("0xb12")].length>0)){if(!this[_0x4962("0xdc5")]){var i=x.scene[_0x4962("0x48")].firstPersonMode;if(this[_0x4962("0xda5")]||(this[_0x4962("0xda5")]=i?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")][_0x4962("0x126")]():this.scene[_0x4962("0x48")].controls[_0x4962("0x2c5")][_0x4962("0x126")]()),x[_0x4962("0xa1b")]=x[_0x4962("0xa1b")].concat(x[_0x4962("0xb12")]),x[_0x4962("0xb12")]=[],x[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x381")]){var a=new(THREE[_0x4962("0x926")]);i?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")][_0x4962("0x23a")](this[_0x4962("0x2e6")].map[_0x4962("0x3ec")][_0x4962("0x106")]):this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x23a")](this[_0x4962("0x2e6")].map.currentCamera[_0x4962("0x106")]);var n=i?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")].target:this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")];a.setFromMatrix((new THREE.Matrix4).multiplyMatrices(this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x752")],this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3ec")][_0x4962("0x3ed")]));for(var r=0;r<x[_0x4962("0xa1b")][_0x4962("0x0")];r++){if(x[_0x4962("0xa1b")][r][_0x4962("0xdc6")]=1/x[_0x4962("0xa1b")][r][_0x4962("0x106")][_0x4962("0x23a")](n),x[_0x4962("0xa1b")][r][_0x4962("0x2ff")]){if(!a[_0x4962("0x939")](x[_0x4962("0xa1b")][r][_0x4962("0x2ff")])){x[_0x4962("0xb12")][_0x4962("0x3")](x[_0x4962("0xa1b")][r]),x.queue.splice(r,1),r--;continue}x[_0x4962("0xa1b")][r][_0x4962("0xdc6")]=1/x[_0x4962("0xa1b")][r][_0x4962("0x106")][_0x4962("0x23a")](n)}}for(var s=_[_0x4962("0x673")](1)[_0x4962("0x409")]("mapmodel3ds")[0][_0x4962("0xf2")].children,o=[],c=0;c<s.length;c++){var l=s[c],f=(l[_0x4962("0x166")][_0x4962("0x2fe")][_0x4962("0xdc1")],x[_0x4962("0x2e6")][_0x4962("0x48")].scaleLevel_,{modelrank:1/l.position[_0x4962("0x23a")](n),model:l,ind:c});o[_0x4962("0x3")](f)}var d=[];(d=[].concat(o,x[_0x4962("0xa1b")]))[_0x4962("0x46f")]((function(x,_){return _[_0x4962("0xdc6")]-x[_0x4962("0xdc6")]}));var u=[];if(d[_0x4962("0x0")]>x[_0x4962("0xda7")]){u=d.splice(x.maxShowModels);for(var h=0;h<u[_0x4962("0x0")];h++)u[h][_0x4962("0x2")](_0x4962("0xdc9"))?(x[_0x4962("0xb12")].push(u[h][_0x4962("0x288")][_0x4962("0x166")][_0x4962("0x2fe")]),u[h].model[_0x4962("0xf1")][_0x4962("0xf5")](),u[h][_0x4962("0x288")]=null):x[_0x4962("0xb12")][_0x4962("0x3")](u[h]),u[_0x4962("0x4")](h,1),h--}for(var g=0;g<d[_0x4962("0x0")];g++)d[g][_0x4962("0x2")](_0x4962("0xdc9"))&&(d[_0x4962("0x4")](g,1),g--);x[_0x4962("0xa1b")]=d}this.rankAllModels(),this[_0x4962("0xdc5")]=!0,this[_0x4962("0xda5")]=i?this[_0x4962("0x2e6")].map.firstPersonControls[_0x4962("0x2c5")].clone():this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")][_0x4962("0x126")]()}x[_0x4962("0x1b1")](_)}this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")].isLazyLoadModel3D&&0!==_[_0x4962("0x21e")]&&this[_0x4962("0x139c")](_.scaleLevel,_.focusFloorNum)}},{key:_0x4962("0xdcb"),value:function(x){for(var _=this[_0x4962("0x2e6")].map[_0x4962("0xb47")]?this[_0x4962("0x2e6")][_0x4962("0x48")].firstPersonControls.target:this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x260")].target,e=this[_0x4962("0xa1b")][_0x4962("0x0")],t=x.position[_0x4962("0x23a")](_),i=0;i<e;i++){if(this[_0x4962("0xa1b")][i][_0x4962("0x106")].distanceTo(_)>=t)return void this.queue[_0x4962("0x4")](i,0,x)}this.toAddQueue[_0x4962("0x3")](x),this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x265")]=!0}},{key:_0x4962("0xdca"),value:function(){var x=this[_0x4962("0x2e6")][_0x4962("0x48")].firstPersonMode?this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")]:this.scene[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")];this.queue[_0x4962("0x0")];this.queue[_0x4962("0x46f")]((function(_,e){return _.position[_0x4962("0x23a")](x)-e[_0x4962("0x106")].distanceTo(x)})),this[_0x4962("0xa1b")]}},{key:_0x4962("0xdb6"),value:function(){var x=this;return new(i[_0x4962("0xc")])((function(_){for(var e=0,t=0;t<x[_0x4962("0xa1b")][_0x4962("0x0")];t++){var i=x.queue[t];if(e>=x[_0x4962("0xd9f")])break;x[_0x4962("0x287")][i[_0x4962("0x288")]]?(x.queue[_0x4962("0x4")](t,1),t--,x.loadExist(i),e++):x[_0x4962("0x2f2")][i.model]||(x[_0x4962("0x2f2")][i[_0x4962("0x288")]]=!0,x[_0x4962("0x2f3")](i.model,i[_0x4962("0x4d")]))}_()}))}},{key:"loadExist",value:function(x){var _,e=this,t=this[_0x4962("0x52")],i=x.model,a=e[_0x4962("0x287")][i][_0x4962("0x2ee")][_0x4962("0x2e6")],n=e[_0x4962("0x287")][i][_0x4962("0xdcd")],r=n.length>0,s=!1;a.children[_0x4962("0x20")]((function(x){(x instanceof THREE[_0x4962("0xdce")]||x instanceof THREE.Bone)&&(s=!0)})),(_=s||r?THREE[_0x4962("0x139d")][_0x4962("0x126")](a):a[_0x4962("0x126")](!0)).traverse((function(x){x[_0x4962("0xf6")]&&(x.material=x.material[_0x4962("0x126")]())})),e[_0x4962("0x2a4")](_,x,n,t)}},{key:_0x4962("0x2a4"),value:function(x,_,e){var a=this,n=this,r=this[_0x4962("0x52")],s=f[_0x4962("0xc")][_0x4962("0xdb")](r.id);return new(i[_0x4962("0xc")])((function(i){e=e||[];var c=n.scene[_0x4962("0x48")][_0x4962("0x194")],l=_[_0x4962("0x132")],f=null,d=null;x.traverse((function(x){x&&x[_0x4962("0x107")]&&x[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xdd1"))>-1&&(f=x,d=x.parent)})),f&&d[_0x4962("0x197")](f);var h=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](x);h[_0x4962("0x2f0")](x[_0x4962("0x106")]),x.position[_0x4962("0x250")](-1),f&&d[_0x4962("0xda")](f);var g,b,v=h[_0x4962("0x300")].y-h.min.y;h[_0x4962("0x300")].x,h[_0x4962("0x301")].x;g=v<1?15:20,g*=_.scale.y;var p=_[_0x4962("0x1f7")]||!1;if(_[_0x4962("0xdd5")]){u++;var m=_.url[_0x4962("0x7c")]("/"),A=_[_0x4962("0x4d")];m>-1&&(A=_[_0x4962("0x4d")][_0x4962("0x1e7")](m+1)),b=_[_0x4962("0xdd5")],_.marker[_0x4962("0x209")]=_.parent,_[_0x4962("0xdd5")].callbackparams=_[_0x4962("0xdd6")],_[_0x4962("0xdd5")][_0x4962("0x1fc")]=x,n[_0x4962("0x2e6")][_0x4962("0x48")].mapService[_0x4962("0x80")]("sk")||(_.marker[_0x4962("0x288")]=A),_[_0x4962("0xdd5")][_0x4962("0x296")]=e,_.marker[_0x4962("0x1f7")]=p,_[_0x4962("0xdd5")].init(),_[_0x4962("0xdd5")].on("removed",(function(){u--})),_[_0x4962("0xdb9")]&&(_[_0x4962("0xdd5")][_0x4962("0xdd7")]=!0)}else{var y=_[_0x4962("0x106")];_[_0x4962("0x106")].x=y.x-0,_[_0x4962("0x106")].y=y.y,_[_0x4962("0x106")].z=y.z-0;var C=_[_0x4962("0x414")];n.scene[_0x4962("0x48")][_0x4962("0x3c")]!=esmap[_0x4962("0x40")][_0x4962("0x41")]&&!1!==n[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x21c")]||(C=n.scene[_0x4962("0x48")].buildingService.convertShowLevel(_[_0x4962("0x414")],n.building)),b=new o.default({name:_[_0x4962("0x107")],fnum:_[_0x4962("0x132")],ID:_.id,dataID:_[_0x4962("0x212")],url:_.url,gid:_.gid,mapId:_.mapId,bid:r.id,bType:r[_0x4962("0x213")],model:_[_0x4962("0x288")],callback:_[_0x4962("0x1b3")],top:_[_0x4962("0x35c")],rotation:_[_0x4962("0x210")],position:_[_0x4962("0x106")],scale:_[_0x4962("0x1fe")],scaleRate:g,showLevel:C,child:x,addTo:_.parent,isChildNode:p,animations:e}),_[_0x4962("0xdb9")]&&(b[_0x4962("0xdd7")]=!0),b[_0x4962("0x39")](),_[_0x4962("0xddb")]&&_[_0x4962("0xddb")].MA&&(0,t[_0x4962("0xc")])(_[_0x4962("0xddb")].MA)[_0x4962("0x20")]((function(x){var _=x.n,t=x.t,i=x.dt,a=x.l;e[_0x4962("0xddc")]((function(x){return x==_}))?b.playAnimation({name:_,time:t,delay:i,loop:a}):console[_0x4962("0xe0")]("èªå®ä¹å¨ç» "+_+_0x4962("0xdde"))})),a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x3d1")]--,_.iswall||r.toLoaded&&r[_0x4962("0xdbb")][l]&&r[_0x4962("0xdbb")][l][_0x4962("0x27a")]--,r[_0x4962("0x1389")](),b.ID!=_0x4962("0xdda")&&s[_0x4962("0xdf")](b.ID)}e[_0x4962("0xaf")](_0x4962("0xc42"))>-1&&b[_0x4962("0x263")]({name:_0x4962("0xc42"),time:2});var I=b.o3d_,E=(new THREE.Box3)[_0x4962("0x2f4")](I),w=[E[_0x4962("0x300")].x-E[_0x4962("0x301")].x,E[_0x4962("0x300")].z-E.min.z,E[_0x4962("0x300")].y-E[_0x4962("0x301")].y];w[_0x4962("0x46f")](),_[_0x4962("0xdc1")]=w[1]*w[2],_[_0x4962("0x2ff")]=E,I[_0x4962("0x166")].modelinfo=_,2==r[_0x4962("0x213")]?n[_0x4962("0x26d")](r,I):a.setAlpha2(I),"wallmodel_prefetch"!=_.id&&(_.bclick||n[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")].editMode)&&(2==r[_0x4962("0x213")]?_.marker?c[_0x4962("0x3f0")](I,r.id):n[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]||c[_0x4962("0x3f0")](I,r.id):c.addObject(I,r.id)),b[_0x4962("0x3d")]&&(a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")].targetAndBuildingList[b[_0x4962("0x3d")]]=b),a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x2b4")][_0x4962("0xa39")](),null!==b.isTransparent&&b.o3d_[_0x4962("0x104")]((function(x){x[_0x4962("0x9d")]!==_0x4962("0x198")&&x[_0x4962("0x9d")]!==_0x4962("0xdce")||(x[_0x4962("0xf6")][_0x4962("0x144")]=b[_0x4962("0x139e")])})),b[_0x4962("0x1b3")]&&b[_0x4962("0x1b3")](b[_0x4962("0xdd6")]?b[_0x4962("0xdd6")]:b),a[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0xe5")]("modelLoadComplete",b),i()}))}},{key:"preFetchModel3D",value:function(x,_,e){var t=this,i=esmap[_0x4962("0x33")][_0x4962("0x3a")],a=i.mapTheme[_0x4962("0xfa9")],n=esmap[_0x4962("0x171")][_0x4962("0x27a")];if(i[_0x4962("0x3b")][_0x4962("0x1f5")]&&!1,!this[_0x4962("0xcf2")][x]){var r=null;r=i[_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x3b8")]?i[_0x4962("0xb4c")][_0x4962("0x3c2")][_0x4962("0x80")](_0x4962("0x130")):t[_0x4962("0x130")],this[_0x4962("0x3c9")][_0x4962("0x18d")](_,(function(_){t[_0x4962("0xd9d")]--,t[_0x4962("0x3cf")][_0x4962("0x681")]++,t[_0x4962("0x2f2")][x]=!1;var r=new THREE.AnimationMixer(_.scene);r[_0x4962("0x29f")]=!1;var s=[];_[_0x4962("0x296")].forEach((function(x){s.push(x[_0x4962("0x107")][_0x4962("0x292")]())})),_[_0x4962("0x2e6")][_0x4962("0x104")]((function(x){x[_0x4962("0x170")]=n,x[_0x4962("0x166")][_0x4962("0x2")]("visible")&&(x[_0x4962("0x17c")]=Boolean(x.userData.visible)),x[_0x4962("0xf6")]&&x[_0x4962("0xf6")][_0x4962("0xde4")]&&(x.material[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0xde5"))>-1&&(x[_0x4962("0xf6")]=new THREE.MeshBasicMaterial({color:x[_0x4962("0xf6")][_0x4962("0x147")],map:x[_0x4962("0xf6")][_0x4962("0x48")],transparent:x.material[_0x4962("0x144")],opacity:x[_0x4962("0xf6")][_0x4962("0x145")]})),x[_0x4962("0xf6")].roughness||(x[_0x4962("0xf6")][_0x4962("0x827")]=.9),x[_0x4962("0xf6")][_0x4962("0x48")]&&(x[_0x4962("0xf6")].map[_0x4962("0x107")][_0x4962("0xaf")]("jpg")>-1&&(x[_0x4962("0xf6")].transparent=!1),a||(x[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x8b1")]=THREE[_0x4962("0xde6")])),!_.scene[_0x4962("0x166")].needDepth&&x.material[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x2fc"))>=0&&(_.scene[_0x4962("0x166")].needDepth=!0))}));var o=null;_.parser&&_[_0x4962("0x100")][_0x4962("0x102")]&&_[_0x4962("0x100")][_0x4962("0x102")].ms&&(o=_[_0x4962("0x100")][_0x4962("0x102")].ms),t.modelStore[x]={mixer:r,gltfObj:_,queue:[],animations:_[_0x4962("0x296")],animNames:s,ms:o},e&&e(_),i.fire(_0x4962("0xdaa"),{name:x,gltfObj:_}),t[_0x4962("0xdc5")]=!1}),(function(){}),(function(e){t.modelStatic[_0x4962("0x681")]++,t[_0x4962("0xcf2")][x]=!0;var a=t[_0x4962("0x52")],n=f[_0x4962("0xc")][_0x4962("0xdb")](a.id),r=null;for(var s in t[_0x4962("0xda0")]){var o=t[_0x4962("0xda0")][s];for(var c in o)if(t.failed[c]){var l=o[c][_0x4962("0x0")];if(l>0){var d=o[c][_0x4962("0x48")]((function(x){return x.id}));o[c]=[],a[_0x4962("0xdbb")][s][_0x4962("0x27a")]-=l,a.checkLoadedAll(s),n[_0x4962("0xde")](d)}}}for(var u=0;u<t[_0x4962("0xda2")].length;u++)if(t.requisitesQueue[u][_0x4962("0x288")]==x){var h=t[_0x4962("0xda2")][u].id;r=h,t[_0x4962("0xda2")][u].onError&&t.requisitesQueue[u][_0x4962("0x10b5")](t.queue[u]);var g=t[_0x4962("0xda2")][u][_0x4962("0x132")];if(!g)continue;"wallModelPrefetch"!=t[_0x4962("0xda2")][u].name&&(0!=a.id&&a.toLoaded[t.requisitesQueue[u][_0x4962("0x132")]][_0x4962("0x27a")]--,n.pop(h)),t.requisitesQueue[_0x4962("0x4")](u,1),u--,a[_0x4962("0x1389")](g)}for(var b=0;b<t[_0x4962("0xa1b")][_0x4962("0x0")];b++)if(t[_0x4962("0xa1b")][b][_0x4962("0x288")]==x){r=v;var v=t[_0x4962("0xa1b")][b].id;t[_0x4962("0xa1b")][b][_0x4962("0x10b5")]&&t[_0x4962("0xa1b")][b][_0x4962("0x10b5")](t[_0x4962("0xa1b")][b]);var p=t[_0x4962("0xa1b")][b][_0x4962("0x132")];if(!p)continue;t[_0x4962("0xa1b")][b][_0x4962("0x107")]!=_0x4962("0xdda")&&(0!=a.id&&a.toLoaded[t.queue[b].fnum][_0x4962("0x27a")]--,n[_0x4962("0xdf")](v)),t[_0x4962("0xa1b")][_0x4962("0x4")](b,1),b--,a.checkLoadedAll(p)}for(var m=0;m<t[_0x4962("0xb12")].length;m++)if(t[_0x4962("0xb12")][m].model==x){var A=t[_0x4962("0xb12")][m][_0x4962("0x132")],y=t[_0x4962("0xb12")][m].id;if(r=y,!A)continue;t.toAddQueue[m].name!=_0x4962("0xdda")&&(0!=a.id&&a.toLoaded[t[_0x4962("0xb12")][m][_0x4962("0x132")]].model3D--,n[_0x4962("0xdf")](y)),t.toAddQueue[_0x4962("0x4")](m,1),m--,a[_0x4962("0x1389")](A)}i[_0x4962("0xe5")](_0x4962("0xde9"),{name:x,id:r});var C=_0x4962("0xdea")+_;console[_0x4962("0xe0")](C,e&&e[_0x4962("0x18b")]&&e[_0x4962("0x18b")]()),e===_0x4962("0xdeb")&&i[_0x4962("0x3b")][_0x4962("0x1f5")]&&i[_0x4962("0x7f")][_0x4962("0x80")]("sk")&&i[_0x4962("0x7f")].cache.enabled&&(i.mapService.cache[_0x4962("0x710")]=!1,i[_0x4962("0x7f")][_0x4962("0x875")][_0x4962("0xcdf")]([i.id])),t[_0x4962("0xd9d")]--}),r)}}},{key:_0x4962("0xdec"),value:function(x){var _=esmap[_0x4962("0x171")][_0x4962("0x27a")];obj[_0x4962("0x170")]=_,x[_0x4962("0x187")]=!0}},{key:_0x4962("0xddf"),value:(d=(0,n.default)(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:e=esmap[_0x4962("0x171")][_0x4962("0x27a")],_[_0x4962("0x104")]((function(x){if(x[_0x4962("0xf6")]){if(x[_0x4962("0xf6")]instanceof Array)for(var _=0;_<x[_0x4962("0xf6")].length;_++)x.material[_];x[_0x4962("0x170")]=e}}));case 2:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(x){return d[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x26d"),value:(e=(0,n.default)(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e){var t,i,n;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:t=e[_0x4962("0xf1")][_0x4962("0x2d9")],i=_[_0x4962("0x680")][t],n=esmap[_0x4962("0x171")].model3D,i&&i[_0x4962("0x17c")]&&(_.options.focusAlpha,e.traverse((function(x){if(x.material){if(x[_0x4962("0xf6")]instanceof Array)for(var _=0;_<x[_0x4962("0xf6")][_0x4962("0x0")];_++)x[_0x4962("0xf6")][_];x.renderOrder=n}})));case 6:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,_){return e.apply(this,arguments)})},{key:_0x4962("0x139f"),value:function(x){return x[_0x4962("0x414")]>=30}},{key:_0x4962("0x13a0"),value:(_=(0,n[_0x4962("0xc")])(a[_0x4962("0xc")][_0x4962("0x283")]((function x(_,e){var t;return a[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:if(_[_0x4962("0x0")]){x[_0x4962("0x286")]=2;break}return x[_0x4962("0x28b")](_0x4962("0x28c"));case 2:t=0;case 3:if(!(t<_[_0x4962("0x0")])){x[_0x4962("0x286")]=13;break}if(!(_[t].rank>e)){x[_0x4962("0x286")]=10;break}return this[_0x4962("0xdae")](_[t],_[t][_0x4962("0x139b")],!0),_.splice(t,1),t--,x[_0x4962("0x286")]=10,new(i[_0x4962("0xc")])((function(x){setTimeout((function(){x()}),0)}));case 10:t++,x[_0x4962("0x286")]=3;break;case 13:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,this)}))),function(x,e){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x139a"),value:function(x){var _=x[_0x4962("0x132")];this[_0x4962("0x13a1")][_0x4962("0x2")](_)?this[_0x4962("0x13a1")][_].push(x):this.delayLoadQueue[_]=[x]}},{key:_0x4962("0x139c"),value:function(x,_){var e=this[_0x4962("0x13a1")][_];e&&this[_0x4962("0x13a0")](e,x)}},{key:_0x4962("0x287"),get:function(){return this.scene[_0x4962("0x48")][_0x4962("0x7f")].modelStore},set:function(x){this[_0x4962("0x2e6")][_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x287")]=x}}]),x}();_[_0x4962("0xc")]=g},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=u(e(23)),i=u(e(71)),a=u(e(2)),n=u(e(7)),r=u(e(8)),s=u(e(9)),o=u(e(0)),c=u(e(1)),l=u(e(141)),f=u(e(24)),d=u(e(35));function u(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var h=function(){function x(_){var e=this;(0,o[_0x4962("0xc")])(this,x),this[_0x4962("0x13a2")]={},this[_0x4962("0x131")]=null,this[_0x4962("0x13a3")]={},this[_0x4962("0x13a4")]={},this[_0x4962("0x13a5")]={},this[_0x4962("0x13a6")]={},this[_0x4962("0x52")]=_,this[_0x4962("0xcc2")]=2592e5,this[_0x4962("0x2e6")]=_[_0x4962("0x48")][_0x4962("0x34")],this.map=_[_0x4962("0x48")],this.layers={},this[_0x4962("0x287")]={},this.total=0,this.pages=0,this[_0x4962("0x13a7")]=0,this[_0x4962("0x13a8")]=null,this[_0x4962("0xf85")]={},this[_0x4962("0x13a9")]=[],this[_0x4962("0x13aa")]=null,this.userIntersecting=!1,this[_0x4962("0x13ab")]=this.map[_0x4962("0x3b")][_0x4962("0x3a7")];var t=this,i=null;this[_0x4962("0xcc1")]=null,this.db=null,this.controlstate=!1,this.map.on(_0x4962("0xb99"),(function(){e[_0x4962("0x13ac")]=!0}),null,_.id),this.map.on("controlchange",(function(){e[_0x4962("0x13ac")]&&(t[_0x4962("0x96e")]=!0,window[_0x4962("0x267")](i))}),null,_.id),this[_0x4962("0x48")].on(_0x4962("0x9e0"),(function(){t.userIntersecting||t[_0x4962("0x13ad")]()}),null,_.id),this.map.on(_0x4962("0xb9a"),(function(){e[_0x4962("0x13ac")]=!1,i=setTimeout((function(){t.userIntersecting=!1}),800)}),null,_.id)}var _;return(0,c[_0x4962("0xc")])(x,[{key:_0x4962("0x39"),value:function(x){for(var _=this[_0x4962("0x52")],e=0;e<_.floorNums[_0x4962("0x0")];e++){var t=_[_0x4962("0x699")][e],i=_.getFloor(t)[_0x4962("0x409")]("mapmodel3ds");i[0]?this[_0x4962("0xa68")][t]=i[0][_0x4962("0xf2")]:console[_0x4962("0x223")](_0x4962("0x13ae"))}this.bins=x[_0x4962("0x13af")],this[_0x4962("0xdd")]=x[_0x4962("0x13b0")],this.pages=x[_0x4962("0x13b1")],this[_0x4962("0xd5")]=x[_0x4962("0xd5")]}},{key:"handleTanks",value:function(){if(this[_0x4962("0x13a9")][_0x4962("0x0")]>0){var x=this[_0x4962("0x13a9")][_0x4962("0x224")]();this[_0x4962("0x13ab")]?this[_0x4962("0x13b2")](x):this[_0x4962("0x13b3")](x),this[_0x4962("0x13b4")]()}}},{key:_0x4962("0x1056"),value:function(x){x.message==_0x4962("0x1055")?this[_0x4962("0x13a9")].push(x):x[_0x4962("0x1054")]==_0x4962("0x13a8")&&this.onGetBimInfo(x),this[_0x4962("0x13b4")]()}},{key:_0x4962("0x13b5"),value:function(x,_){var e=this.db[_0x4962("0xccc")]([x],"readwrite").objectStore(x)[_0x4962("0xcd0")](_);e.onsuccess=function(x){},e[_0x4962("0x632")]=function(x){}}},{key:_0x4962("0x13b6"),value:function(x,_){var e=this.db;return new(s[_0x4962("0xc")])((function(t){var i=e.transaction([x],_0x4962("0xcce"))[_0x4962("0xccf")](x).add(_);i[_0x4962("0xcd2")]=function(x){t()},i[_0x4962("0x632")]=function(x){}}))}},{key:_0x4962("0x13b4"),value:function(){if(this[_0x4962("0x13b1")]&&this[_0x4962("0x13a7")]===this[_0x4962("0x13b1")]&&this[_0x4962("0x13a3")]){var x=(new Date)[_0x4962("0x86")]()-this[_0x4962("0xcc1")];console[_0x4962("0x293")](_0x4962("0x13b7")+x+"ms"),this[_0x4962("0x13a3")]=null,this.map[_0x4962("0xe5")](_0x4962("0x13b8"),{}),this[_0x4962("0x48")][_0x4962("0xe5")]("modelLoadedAll",{bid:this.building.id})}}},{key:_0x4962("0x13b9"),value:function(x){var _=this;return new s.default((function(e,t){var i=_.db[_0x4962("0xccc")](_0x4962("0x13ba")).objectStore(_0x4962("0x13ba"))[_0x4962("0xdb")](x);i.onsuccess=function(){var x=i.result;e(x||null)},i[_0x4962("0x632")]=function(x){console[_0x4962("0x223")](x),t(null)}}))}},{key:_0x4962("0xce5"),value:function(){var x={db:_0x4962("0xce1"),collections:["bimDatas","bimInfos",_0x4962("0x13ba")]},_=window[_0x4962("0xcd6")][_0x4962("0x2e4")](x.db);_[_0x4962("0xcd2")]=function(){for(var e=_[_0x4962("0xcd3")],t=x[_0x4962("0x13bb")],i=0;i<t.length;i++){var a=t[i];e.objectStoreNames[_0x4962("0x4f9")](a)&&e[_0x4962("0xce5")](a)}}}},{key:_0x4962("0x13bc"),value:function(){var x={db:_0x4962("0xce1"),collections:[_0x4962("0x13bd"),_0x4962("0x13a8"),"bimSets"]},_=window.indexedDB[_0x4962("0x2e4")](x.db);_[_0x4962("0xcd2")]=function(){for(var e=_.result,t=x[_0x4962("0x13bb")],i=0;i<t[_0x4962("0x0")];i++){var a=t[i],n=e[_0x4962("0xccc")]([a],"readwrite")[_0x4962("0xccf")](a)[_0x4962("0x728")]();n[_0x4962("0xcd2")]=function(x){},n.onerror=function(x){}}}}},{key:_0x4962("0x1b1"),value:(_=(0,r.default)(n[_0x4962("0xc")][_0x4962("0x283")]((function x(){var _,e,t,i,a,r,s,o,c,l;return n.default[_0x4962("0x284")]((function(x){for(;;)switch(x.prev=x[_0x4962("0x286")]){case 0:return this[_0x4962("0xcc1")]=(new Date).getTime(),x[_0x4962("0x286")]=3,this[_0x4962("0xcc3")]({db:_0x4962("0xce1"),version:2});case 3:if(_=x[_0x4962("0x33c")],e=!0,_){x[_0x4962("0x286")]=23;break}return _0x4962("0x13be"),e=!1,x[_0x4962("0x286")]=10,this[_0x4962("0x13bf")]();case 10:if(t=x[_0x4962("0x33c")]){x[_0x4962("0x286")]=14;break}return console[_0x4962("0xe0")](_0x4962("0x13c0")),x[_0x4962("0x28b")](_0x4962("0x28c"));case 14:for(this[_0x4962("0x39")](t),this.bimSetData=t,i=this[_0x4962("0x48")][_0x4962("0xb69")],t[_0x4962("0x677")]=i,t.id=i,a=0;a<this[_0x4962("0x13b1")];a++)this[_0x4962("0x13c1")](a,!1,e);return this.dispatchBimPageByControlIndex(_0x4962("0x293"),!1,e),x.abrupt(_0x4962("0x28c"));case 23:return this.db=_,x[_0x4962("0x286")]=26,this[_0x4962("0x13bf")]();case 26:if(r=x[_0x4962("0x33c")]){x[_0x4962("0x286")]=30;break}return console[_0x4962("0xe0")](_0x4962("0x13c0")),x[_0x4962("0x28b")](_0x4962("0x28c"));case 30:return this[_0x4962("0x39")](r),this.bimSetData=r,s=this[_0x4962("0x48")].sceneId_,r[_0x4962("0x677")]=s,r.id=s,x.next=37,this[_0x4962("0x13b9")](s);case 37:if(o=x[_0x4962("0x33c")],c=!0,o){x[_0x4962("0x286")]=47;break}return x[_0x4962("0x286")]=42,this.clearCache();case 42:return x[_0x4962("0x286")]=44,this[_0x4962("0x13b6")](_0x4962("0x13ba"),r);case 44:c=!1,x.next=53;break;case 47:if(c=r.filetime===o[_0x4962("0x13c2")]){x[_0x4962("0x286")]=53;break}return x[_0x4962("0x286")]=51,this[_0x4962("0x13c3")]();case 51:return x[_0x4962("0x286")]=53,this[_0x4962("0x13b5")]("bimSets",r);case 53:for(l=0;l<this[_0x4962("0x13b1")];l++)this[_0x4962("0x13c1")](l,c,e);this[_0x4962("0x13c1")]("info",c,e);case 55:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(){return _[_0x4962("0x2a4")](this,arguments)})},{key:_0x4962("0x13c3"),value:function(){var x=this.db,_=this[_0x4962("0x48")][_0x4962("0xb69")],e=new(s[_0x4962("0xc")])((function(e){x[_0x4962("0xccc")]("bimDatas",_0x4962("0xcce"))[_0x4962("0xccf")](_0x4962("0x13bd"))[_0x4962("0xcdb")]()[_0x4962("0xcd2")]=function(x){var t=x[_0x4962("0x2c5")][_0x4962("0xcd3")];t?(t[_0x4962("0xe3")][_0x4962("0x677")]==_&&t[_0x4962("0x282")](),t[_0x4962("0x692")]()):e()}})),t=new(s[_0x4962("0xc")])((function(e){x[_0x4962("0xccc")](_0x4962("0x13a8"),_0x4962("0xcce")).objectStore(_0x4962("0x13a8")).openCursor()[_0x4962("0xcd2")]=function(x){var t=x[_0x4962("0x2c5")].result;t?(t[_0x4962("0xe3")][_0x4962("0x677")]==_&&t[_0x4962("0x282")](),t[_0x4962("0x692")]()):e()}})),i=new s.default((function(e){x[_0x4962("0xccc")](_0x4962("0x13ba"),_0x4962("0xcce"))[_0x4962("0xccf")](_0x4962("0x13ba"))[_0x4962("0xcdb")]().onsuccess=function(x){var t=x[_0x4962("0x2c5")].result;t?(t[_0x4962("0xe3")].bids==_&&t[_0x4962("0x282")](),t[_0x4962("0x692")]()):e()}}));return s.default[_0x4962("0x698")]([e,t,i])}},{key:_0x4962("0x13bf"),value:function(){var x=this[_0x4962("0x52")].id,_=f[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x5d"),{filename:x+_0x4962("0x13c4"),type:"",buildingId:x,isBim:!0});return new(s[_0x4962("0xc")])((function(x,e){l[_0x4962("0xc")][_0x4962("0x498")]({url:_})[_0x4962("0x493")]((function(_){x(_)}))[_0x4962("0xe0")](e)}))}},{key:"replaceExtraSlashes",value:function(x){return x[_0x4962("0x2a8")](/^(https?:\/\/)/)?x:x[_0x4962("0x14d")](/([^:]\/)\/+/g,"$1")}},{key:_0x4962("0x13c1"),value:function(x,_,e){var t=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x46")],i=this[_0x4962("0x48")].options.devMode,a=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a7")],n=(window[_0x4962("0x79")][_0x4962("0x116")],this[_0x4962("0x52")].id),r=f.default[_0x4962("0x6a")]("buildingAsset",{filename:n+_0x4962("0x13c5")+x+".bin",type:"",isBim:!0,buildingId:n});r=this.replaceExtraSlashes(r),this.scene.meshHandler[_0x4962("0x1044")][_0x4962("0x1048")]({messageType:2,url:r,mapDataSrc:t,mapid:n,sceneX:this.scene.sceneX_,sceneZ:this[_0x4962("0x2e6")].sceneZ_,datas:this[_0x4962("0x13a3")],controlIndex:x,useCache:_,useIDB:e,mergeMode:a,devMode:i},this.building)}},{key:_0x4962("0x13c6"),value:function(x){for(var _={},e=this[_0x4962("0x13a8")][_0x4962("0x13c7")],t=0;t<x[_0x4962("0x0")];t++){var i=x[t][_0x4962("0x2d")]("-"),a=e[i[0]],n=e[i[1]];_[a]=n}return _}},{key:_0x4962("0xf86"),value:function(x){if(!this.bimInfos)return null;var _=this.bimInfos.infos,e=this[_0x4962("0x13a8")][_0x4962("0x13c8")];for(var t in _){var i=_[t];if(x==i[_0x4962("0x13c9")]){var a=i[_0x4962("0x293")],n={};for(var r in a){var s=e[r];s||(s=r);var o=a[r][_0x4962("0x13ca")],c=this[_0x4962("0x13c6")](o);n[s]=c}return{bimid:i.bimid,infoList:n,uuid:i[_0x4962("0x195")]}}}return null}},{key:"bindBimInfo",value:function(){var x=this[_0x4962("0x13a3")];for(var _ in x){var e=x[_];for(var t in e)for(var i=e[t],a=0;a<i.length;a++){var n=i[a],r=this[_0x4962("0xf86")](n.id);this[_0x4962("0xf85")][n.id]=r,r?(i[a].uuid=r[_0x4962("0x195")],i[a][_0x4962("0xf87")]=r[_0x4962("0xf87")],i[a][_0x4962("0x13cb")]=r[_0x4962("0x13c9")]):console[_0x4962("0x223")]("bimInfoä¸å­å¨:"+n.id)}}}},{key:_0x4962("0x13cc"),value:function(x){this[_0x4962("0x13a8")]=x[_0x4962("0x57b")]}},{key:_0x4962("0x13b3"),value:function(x){var _=x[_0x4962("0x57b")],e=this[_0x4962("0x52")].id,t=this[_0x4962("0x52")][_0x4962("0x72")];for(var i in this[_0x4962("0x131")]||(this.center=x.center),_){var a=_[i];for(var n in a)for(var r=a[n],s=0;s<r[_0x4962("0x0")];s++){var o=r[s];if(o)for(var c=0;c<o[_0x4962("0x0")];c++){var l,f=new(THREE[_0x4962("0x20c")]),d=o[c],u=d[_0x4962("0x596")][0].id,h=d[_0x4962("0x106")],g=d.uv,b=d[_0x4962("0x596")],v=d[_0x4962("0x25")],p=d[_0x4962("0x2cd")];l=v;var m=new THREE.BufferGeometry;m[_0x4962("0x456")](new THREE.BufferAttribute(p,1)),m[_0x4962("0x454")](_0x4962("0x106"),new(THREE[_0x4962("0x455")])(h,3)),m[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(g,2)),m[_0x4962("0x450")](),m[_0x4962("0x16b")](),m.addGroup(0,m[_0x4962("0x2cd")][_0x4962("0x182")],0),m.userData[_0x4962("0x445")]=b;var A=this[_0x4962("0x48")][_0x4962("0x13e")][_0x4962("0x1006")](t,v,""),y=A[_0x4962("0x126")]();y[_0x4962("0x147")]=new THREE.Color(1,0,0);var C=[A,y],I=new(THREE[_0x4962("0x198")])(m,C);f.add(I),f[_0x4962("0x166")][_0x4962("0xa6b")]=!0;var E=this[_0x4962("0x131")],w=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](f);f[_0x4962("0x166")][_0x4962("0x2fe")]={box3:w};var T=w.max.y-w[_0x4962("0x301")].y,k=this[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],M=this[_0x4962("0x13a4")][u],S=M[_0x4962("0x15c")][_0x4962("0x2d")](","),R=new(THREE[_0x4962("0x12c")])(E.x+1*S[0],0+1*S[1],E.z+1*S[2]),L={};L[_0x4962("0x106")]=R,L[_0x4962("0x313")]=T*M[_0x4962("0x1fe")].y+L[_0x4962("0x106")].y-T/2,L[_0x4962("0xf89")]=!0,L[_0x4962("0x57f")]=1*l,L[_0x4962("0x212")]=M[_0x4962("0x212")],L[_0x4962("0x43e")]=M[_0x4962("0x43e")],L[_0x4962("0x125")]=esmap[_0x4962("0x134")][_0x4962("0x1e3")],L.ID=u,L.id=u,L.name=M[_0x4962("0x107")],L[_0x4962("0x2d9")]=1*n,L[_0x4962("0x130")]=e,L[_0x4962("0xf2")]=f,L[_0x4962("0xcaa")]=M[_0x4962("0xcaa")],L[_0x4962("0x1fe")]=M[_0x4962("0x1fe")],L[_0x4962("0x15c")]=M.offset,L.mapCoord=this[_0x4962("0x48")][_0x4962("0x208")](R),k&&(L[_0x4962("0x43e")]=1);var H=[L];f.datas_={bid:e,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:n,model:i,brothers:H,o3d_:f};var D=L[_0x4962("0x43e")];f[_0x4962("0x107")]=_0x4962("0x108"),this[_0x4962("0xa68")][n].add(f),D&&this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](f,e)}else console[_0x4962("0x44a")](i+_0x4962("0x13cd"))}}this[_0x4962("0x13a7")]++}},{key:"onQueueMerged",value:function(x){var _=x[_0x4962("0x57b")],e=this.building.id,t=d[_0x4962("0xc")].get(e),i=this[_0x4962("0x52")][_0x4962("0x72")];for(var n in this[_0x4962("0x131")]||(this[_0x4962("0x131")]=x[_0x4962("0x131")]),_){var r=_[n];for(var s in r){for(var o=r[s],c=new THREE.Object3D,l=0,f=0;f<o[_0x4962("0x0")];f++){var u=o[f];if(u)for(var h=0;h<u.length;h++){var g=u[h],b=g[_0x4962("0x106")],v=g.uv,p=g[_0x4962("0x596")],m=g[_0x4962("0x25")],A=g.index;l=m;var y=new(THREE[_0x4962("0x570")]);y[_0x4962("0x456")](new(THREE[_0x4962("0x455")])(A,1)),y.addAttribute("position",new THREE.BufferAttribute(b,3)),y[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(v,2)),y.computeVertexNormals(),y[_0x4962("0x16b")](),y[_0x4962("0x181")](0,y[_0x4962("0x2cd")][_0x4962("0x182")],0),y[_0x4962("0x166")][_0x4962("0x445")]=p;var C=this.map[_0x4962("0x13e")].getModelMaterial(i,m,""),I=C[_0x4962("0x126")]();I.color=new(THREE[_0x4962("0x188")])(1,0,0);var E=[C,I],w=new(THREE[_0x4962("0x198")])(y,E);c[_0x4962("0xda")](w)}else console[_0x4962("0x44a")](n+_0x4962("0x13cd"))}var T=this.queues[n][s],k=this.center,M=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](c);c[_0x4962("0x166")][_0x4962("0xa6b")]=!0,c[_0x4962("0x166")].modelinfo={box3:M};var S=M.max.y-M[_0x4962("0x301")].y,R=this.map.options[_0x4962("0x1f5")];T=T[_0x4962("0x48")]((function(x){return(0,a[_0x4962("0xc")])({},x)}));for(var L=[],H=0;H<T[_0x4962("0x0")];H++){L[_0x4962("0x3")](T[H].id);var D=this[_0x4962("0x13a4")][T[H].id],O=D[_0x4962("0x15c")][_0x4962("0x2d")](","),P=new THREE.Vector3(k.x+1*O[0],0+1*O[1],k.z+1*O[2]);T[H][_0x4962("0x106")]=P,T[H].Height=S*D.scale.y+T[H][_0x4962("0x106")].y-S/2,T[H][_0x4962("0xf89")]=!0,T[H][_0x4962("0x57f")]=1*l,T[H].dataID=D.dataID,T[H][_0x4962("0x43e")]=D[_0x4962("0x43e")],T[H][_0x4962("0x107")]=D[_0x4962("0x107")],T[H].nodeType=esmap.ESNodeType.MODEL3D,T[H].ID=T[H].id,T[H][_0x4962("0x2d9")]=1*s,T[H][_0x4962("0x130")]=e,T[H].mapCoord=this[_0x4962("0x48")][_0x4962("0x208")](P),R&&(T[H].bclick=1)}c.datas_={bid:e,bType:2,animations:[],nodeType:6,isBim:!0,FloorNum:s,model:n,brothers:T,o3d_:c};var N=T[0][_0x4962("0x43e")];c[_0x4962("0x107")]="_root_",this[_0x4962("0xa68")][s][_0x4962("0xda")](c),t[_0x4962("0xde")](L),N&&this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](c,e)}}this[_0x4962("0x13a7")]++}},{key:"addToQueue",value:function(x){this[_0x4962("0x13a3")][x[_0x4962("0x288")]]||(this[_0x4962("0x13a3")][x[_0x4962("0x288")]]={}),this[_0x4962("0x13a3")][x[_0x4962("0x288")]][x[_0x4962("0x132")]]||(this[_0x4962("0x13a3")][x.model][x[_0x4962("0x132")]]=[]),x[_0x4962("0xcaa")]||(x[_0x4962("0xcaa")]="0,0,0");var _={x:1,y:1,z:1};x[_0x4962("0x1fe")]&&(_.x=x.scale.x,_.y=x.scale.y,_.z=x.scale.z),this.queues[x[_0x4962("0x288")]][x.fnum][_0x4962("0x3")]({id:x.id,offset:x[_0x4962("0x15c")],rotate:x[_0x4962("0xcaa")],scale:_,center:{x:x.x,y:x.y}}),this.allDataMap[x.id]=x}},{key:"IDBUpgrade",value:function(x){var _=this;return new(s[_0x4962("0xc")])((function(e,t){var i=window[_0x4962("0xcd6")].open(x.db,x.version);i[_0x4962("0xcd2")]=function(){_.db=i.db,e(!0)},i[_0x4962("0x632")]=function(){i[_0x4962("0xce8")];t(!1)},i[_0x4962("0xce3")]=function(_){var e=_[_0x4962("0x2c5")][_0x4962("0xcd3")];e[_0x4962("0xce4")].contains(_0x4962("0x13bd"))&&e[_0x4962("0xce5")](_0x4962("0x13bd")),e.objectStoreNames[_0x4962("0x4f9")](_0x4962("0x13a8"))&&e.deleteObjectStore(_0x4962("0x13a8")),e[_0x4962("0xce4")].contains(_0x4962("0x13ba"))&&e[_0x4962("0xce5")](_0x4962("0x13ba"));for(var t=0;t<x[_0x4962("0x13bb")].length;t++){var i=x[_0x4962("0x13bb")][t];if(i==_0x4962("0x13bd"))e.createObjectStore(i,{keyPath:"id"}).createIndex(_0x4962("0x13ce"),[_0x4962("0x677"),_0x4962("0x13cf")],{unique:!1});else if("bimSets"==i){e[_0x4962("0xce6")](i,{keyPath:"id"})[_0x4962("0x691")](_0x4962("0x13ce"),[_0x4962("0x677")],{unique:!0})}else if(i==_0x4962("0x13a8")){e[_0x4962("0xce6")](i,{keyPath:_0x4962("0x677")})[_0x4962("0x691")](_0x4962("0x13ce"),["bids"],{unique:!0})}}}}))}},{key:_0x4962("0xcc3"),value:function(x){return new(s[_0x4962("0xc")])((function(_,e){var t=window[_0x4962("0xcd6")][_0x4962("0x2e4")](x.db,x.version);t[_0x4962("0xce3")]=function(x){var _=x[_0x4962("0x2c5")].result,e=x[_0x4962("0x2c5")][_0x4962("0xccc")];_[_0x4962("0xce4")][_0x4962("0x4f9")](_0x4962("0x13bd"))?e.objectStore(_0x4962("0x13bd"))[_0x4962("0x728")]():_.createObjectStore(_0x4962("0x13bd"),{keyPath:"id"})[_0x4962("0x691")]("myIndex",["bids","page"],{unique:!1});_.objectStoreNames[_0x4962("0x4f9")](_0x4962("0x13a8"))?e[_0x4962("0xccf")](_0x4962("0x13a8"))[_0x4962("0x728")]():_[_0x4962("0xce6")](_0x4962("0x13a8"),{keyPath:"bids"}).createIndex(_0x4962("0x13ce"),[_0x4962("0x677")],{unique:!0});_[_0x4962("0xce4")][_0x4962("0x4f9")]("bimSets")?e[_0x4962("0xccf")](_0x4962("0x13ba"))[_0x4962("0x728")]():_.createObjectStore(_0x4962("0x13ba"),{keyPath:"id"})[_0x4962("0x691")](_0x4962("0x13ce"),[_0x4962("0x677")],{unique:!0})},t[_0x4962("0xcd2")]=function(){var x=t.result;_(x)},t[_0x4962("0x632")]=function(){t[_0x4962("0xce8")];_0x4962("0xce9"),_(!1)}}))}},{key:_0x4962("0x13d0"),value:function(){var x,_=function(x){return new s.default((function(_){var a,n=indexedDB[_0x4962("0x2e4")](x);n.onerror=function(x){alert("Why didn't you allow my web app to use IndexedDB?!")},n[_0x4962("0xcd2")]=function(x){a=x.target[_0x4962("0xcd3")],function(x,t){var a=x.reduce((function(x,_){return x[_0x4962("0x3")](function(x,_){var e=this;return new(s[_0x4962("0xc")])((function(t,a){if(null==x)return a();var n=0,r=(x=event[_0x4962("0x2c5")][_0x4962("0xcd3")])[_0x4962("0xccc")]([_])[_0x4962("0xccf")](_)[_0x4962("0xcdb")]();r[_0x4962("0xcd2")]=function(x){var _=x[_0x4962("0x2c5")][_0x4962("0xcd3")];if(_){var e=_[_0x4962("0xe3")],a=(0,i[_0x4962("0xc")])(e);n+=a[_0x4962("0x0")],_.continue()}else t(n)}.bind(e),r[_0x4962("0x632")]=function(x){a(_0x4962("0x13d1")+_+": "+x)}}))}(t,_)),x}),[]);s[_0x4962("0xc")][_0x4962("0x698")](a)[_0x4962("0x2dd")]((function(_){t.name,_0x4962("0x13d2"),x.forEach((function(x,t){console[_0x4962("0x223")](_0x4962("0x13d3")+x+_0x4962("0x13d4")+e(_[t]))}));var i=_[_0x4962("0x122")]((function(x,_){return x+_}),0);e(i)}))[_0x4962("0x2dd")](_)}([].concat((0,t[_0x4962("0xc")])(a.objectStoreNames)),a)}}))},e=function(x){var _=1024;if(Math.abs(x)<_)return x+" B";var e=["KB","MB","GB","TB","PB","EB","ZB","YB"],t=-1;do{x/=_,++t}while(Math[_0x4962("0x231")](x)>=_&&t<e[_0x4962("0x0")]-1);return x[_0x4962("0x65f")](1)+" "+e[t]},a=(x=(0,r[_0x4962("0xc")])(n[_0x4962("0xc")][_0x4962("0x283")]((function x(){var e=this;return n[_0x4962("0xc")].wrap((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:return console.time(_0x4962("0x13d5")),x[_0x4962("0x286")]=3,indexedDB.databases()[_0x4962("0x2dd")](function(){var x=(0,r[_0x4962("0xc")])(n[_0x4962("0xc")].mark((function x(t){var i;return n.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:i=0;case 1:if(!(i<t.length)){x[_0x4962("0x286")]=7;break}return x[_0x4962("0x286")]=4,_(t[i].name);case 4:i++,x[_0x4962("0x286")]=1;break;case 7:case _0x4962("0x308"):return x[_0x4962("0x1b2")]()}}),x,e)})));return function(_){return x[_0x4962("0x2a4")](this,arguments)}}());case 3:console[_0x4962("0x13d6")](_0x4962("0x13d5"));case 4:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(){return x.apply(this,arguments)});a()}}]),x}();_[_0x4962("0xc")]=h},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=u(e(7)),i=u(e(8)),a=u(e(23)),n=u(e(0)),r=u(e(1)),s=e(32),o=u(e(114)),c=u(e(24)),l=u(e(152)),f=(e(4),e(66)),d=e(27);function u(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var h=null,g=function(){function x(_){var e=this;(0,n.default)(this,x),this.building=_;var t=_[_0x4962("0x48")][_0x4962("0x34")];this[_0x4962("0x2e6")]=t,this[_0x4962("0xa13")]={},this[_0x4962("0xdee")]={},this[_0x4962("0xa14")]={},this.modelLineLayers={},this[_0x4962("0xa12")]={},this.modelImageGeos={},this[_0x4962("0xa18")]={},this.modelMats={},this[_0x4962("0xa1a")]={},this.modelImageDatas=[],this[_0x4962("0xa16")]=[],this.modelManagerStarted=!1,this[_0x4962("0xdf0")]=new(l[_0x4962("0xc")])(this);var i=this.scene.map;i.on(_0x4962("0x165"),(function(){e[_0x4962("0xdf0")].checkTasks()}));i.on("scaleLevelChanged",(function(x){x[_0x4962("0x36")]}),null,_.id)}return(0,r[_0x4962("0xc")])(x,[{key:_0x4962("0x13d7"),value:function(x){var _=this;for(var e in _.dynamicShows)if(x>=1*e){if(_[_0x4962("0xa1a")][e][_0x4962("0x17c")]){for(var t=_[_0x4962("0xa1a")][e].queue,i=function(x){var e=t[x][_0x4962("0x288")][_0x4962("0xf4")],i=e.groups;e.userData[_0x4962("0x45d")]=i,e[_0x4962("0x45e")]();var a=t[x][_0x4962("0x13d8")],n=[];a[_0x4962("0x20")]((function(x){n=_.scene[_0x4962("0x48")][_0x4962("0x136c")](x[0],x[1],i),i=n})),n[_0x4962("0x20")]((function(x){e[_0x4962("0x181")](x.start,x[_0x4962("0x182")],x[_0x4962("0x45f")])}));var r=new(THREE[_0x4962("0x581")]);r.visible=!1,t[x][_0x4962("0x288")].material[100]=r},a=0;a<t[_0x4962("0x0")];a++)i(a);_[_0x4962("0xa1a")][e][_0x4962("0x17c")]=!1}}else if(!_.dynamicShows[e][_0x4962("0x17c")]){var n=_[_0x4962("0xa1a")][e].queue,r=function(x){var _=n[x][_0x4962("0x288")][_0x4962("0xf4")];if(!_[_0x4962("0x166")].groups)return _0x4962("0x692");_[_0x4962("0x45e")](),_.userData[_0x4962("0x45d")].forEach((function(x){_[_0x4962("0x181")](x.start,x[_0x4962("0x182")],x[_0x4962("0x45f")])}))};for(a=0;a<n.length;a++){r(a);_0x4962("0x692")}_[_0x4962("0xa1a")][e][_0x4962("0x17c")]=!0}}},{key:"loadFloors",value:function(x){var _=this.building,e=this.progressHandler,t=this.scene,i=_.id,a=_[_0x4962("0x72")],n=t.mapTheme_[_0x4962("0xfa4")][a],r=x.types,s=x.fnum,o=_.getO3dFloor(s),l=_[_0x4962("0x135f")][s],f=(_.options[_0x4962("0x73")],x[_0x4962("0x45d")]),d=new esmap.ESLayer(esmap[_0x4962("0x3d6")].FLOOR_BASE);o[_0x4962("0xda")](d[_0x4962("0xf2")]),_[_0x4962("0x9d")]>=100&&(d.visible=!1);var u=_[_0x4962("0xaf1")],h=!1;h=Array[_0x4962("0x123")](t[_0x4962("0x48")][_0x4962("0x3b")].hideFloorBase)?t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xa38")][_0x4962("0xaf")](s)>-1:t[_0x4962("0x48")].options[_0x4962("0xa38")];var g,b=Math.max(u[_0x4962("0x5ca")]-u[_0x4962("0x5b8")],u[_0x4962("0x5cb")]-u[_0x4962("0x5bb")]),v=0;for(var p in b>1e3&&(v=b/300),t[_0x4962("0x48")].on(_0x4962("0x13d9"),(function(x){var _=-x/2.95*v;d[_0x4962("0xf2")]&&(d[_0x4962("0xf2")][_0x4962("0x106")].y=_)}),null,i),r){var m=n[_0x4962("0xff8")][s];null==m&&(m=n[_0x4962("0xff8")][0]);var A=n[_0x4962("0xff7")],y=t[_0x4962("0x3f3")].floorOpacity_,C=null,I=null;m&&((m[_0x4962("0x147")]||0===m[_0x4962("0x147")])&&(A=m[_0x4962("0x147")]),(m[_0x4962("0x145")]||0===m[_0x4962("0x145")])&&(y=m[_0x4962("0x145")]),m[_0x4962("0x326")]&&(C=m[_0x4962("0x326")],I=m[_0x4962("0xee3")])),l.image&&(C=l.image,I=l[_0x4962("0xee3")]);var E,w=new(THREE[_0x4962("0x570")]);w[_0x4962("0x454")](_0x4962("0x106"),new(THREE[_0x4962("0x455")])(x[_0x4962("0xe06")],3)),w[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(x[_0x4962("0xe07")],3)),w[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(x[_0x4962("0x13da")],2)),w[_0x4962("0x454")](_0x4962("0x9aa"),new(THREE[_0x4962("0x455")])(x[_0x4962("0x9aa")],2)),E=m[_0x4962("0x88b")]?new(THREE[_0x4962("0xfb2")])({color:A,transparent:1*y!=1,opacity:y}):new(THREE[_0x4962("0x581")])({color:A,transparent:1*y!=1,opacity:y});var T=new THREE.Mesh(w,[E]);T[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,_0x4962("0xbb3")),T[_0x4962("0x106")].setY(esmap[_0x4962("0x60e")][_0x4962("0x13db")]),T[_0x4962("0x170")]=esmap.ESRenderOrder.floorBase,T.datas_={floor:s,FloorNum:s,bid:i,nodeType:esmap[_0x4962("0x134")].FLOOR,bType:2},h&&(E[_0x4962("0x17c")]=!1,T[_0x4962("0x17c")]=!1);var k=[],M=0;if(f[0][_0x4962("0x20")]((function(x){var _=0;x.forEach((function(x){k[_0x4962("0x3")]({start:x.start+M,count:x[_0x4962("0x182")],materialIndex:x[_0x4962("0x45f")]}),_+=x[_0x4962("0x182")]})),M+=_})),C&&C.length>1){var S=I[_0x4962("0x2d")](","),R=[Number(S[0]),Number(S[1])],L=T.material[0],H=L[_0x4962("0x126")]();try{g=void 0,g=c[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0x5b"),{themeID:a,filename:C,buildingId:_.id}),esmap.ESMapUtil[_0x4962("0x611")](g,(function(x){!function(x,e){e[_0x4962("0x8a3")]=e.wrapT=THREE[_0x4962("0x18f")],e.anisotropy=t[_0x4962("0x48")].mapView.renderer[_0x4962("0x369")][_0x4962("0x36a")](),e.magFilter=1006,e.minFilter=1008;var i=_[_0x4962("0x992")][x],a=(i[_0x4962("0xf9")]-i.minx)/2+i.minx,n=(i.maxy,i.miny,i[_0x4962("0xfe")],_[_0x4962("0xaf1")][_0x4962("0xcb4")]),r=_.sourceData[_0x4962("0xcb5")];Math[_0x4962("0x231")](a),Math[_0x4962("0x231")](n),Math[_0x4962("0x231")](n),Math[_0x4962("0x231")](r);var s=S[2]*THREE[_0x4962("0x20e")][_0x4962("0x599")];e.offset.set(0,0),e[_0x4962("0x131")].set(.5,.5),e[_0x4962("0x15b")][_0x4962("0xd8")](R[0],R[1]),e[_0x4962("0x210")]=isNaN(s)?0:s,L[_0x4962("0x48")]=e,L[_0x4962("0x147")][_0x4962("0xd8")](16777215),e.needsUpdate=!0,L.needsUpdate=!0;var o=[L,H];k.forEach((function(x){w[_0x4962("0x181")](x[_0x4962("0x1b1")],x[_0x4962("0x182")],x[_0x4962("0x45f")])})),h&&(o.visible=!1),T[_0x4962("0xf6")]=o}(s,x)}),null,(function(){w[_0x4962("0x45e")](),w[_0x4962("0x181")](0,w[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0)}))}catch(x){w[_0x4962("0x45e")](),w[_0x4962("0x181")](0,w[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0)}}else w[_0x4962("0x181")](0,w[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0);w.userData.groups=k,d.o3d_[_0x4962("0xda")](T),!t[_0x4962("0x48")].options.disableIndoorClick&&t[_0x4962("0x48")][_0x4962("0x194")].addObject(T,i),t[_0x4962("0x48")][_0x4962("0xe5")](_0x4962("0x1388"),{fnum:s,type:_0x4962("0x13dc")})}_[_0x4962("0xdbb")][s][_0x4962("0x613")]--,_[_0x4962("0x1389")](s),e[_0x4962("0xdf")](_0x4962("0xebd")+s),x[_0x4962("0xe07")]=null,x[_0x4962("0x13da")]=null,x.pointGeometrys=null,x[_0x4962("0xe06")]=null,x.types=null,x=null}},{key:_0x4962("0x13dd"),value:function(x){for(var _=0;_<x.length;_++){var e=x[_],t=x[_+1];t&&e[1]==t[0]&&(x[_][1]=t[1],x.splice(_+1,1),_--)}}},{key:_0x4962("0x13de"),value:function(x){var _=this,e=this[_0x4962("0x2e6")],t=x[_0x4962("0x132")],i=this[_0x4962("0x52")],n=i.id,r=i[_0x4962("0x72")],o=(e[_0x4962("0x3f3")].themeList[r],x[_0x4962("0xdf9")]),c=null,l=x.groups,u=i.getO3dFloor(t),h=n+"_"+t+"_"+o,g=e[_0x4962("0x48")].mode==esmap[_0x4962("0x40")][_0x4962("0x41")];e[_0x4962("0x48")].options.mergeModels||(h=x[_0x4962("0x58d")]);var b=this[_0x4962("0x41b")];if(x[_0x4962("0x694")]&&u){if(x.errorIds&&x[_0x4962("0x13df")].length>0&&b[_0x4962("0xde")](x.errorIds),o)if(this[_0x4962("0xa13")][t])c=this.modelLayers[t];else{var v=new(esmap[_0x4962("0x3d5")])(esmap.ESLayerType[_0x4962("0x678")],{});this[_0x4962("0xa13")][t]=v,u[_0x4962("0xda")](v[_0x4962("0xf2")]),c=v}else if(this.baseLayers[t])c=this[_0x4962("0xdee")][t];else{var p=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0xa6a")],{});this[_0x4962("0xdee")][t]=p,u.add(p[_0x4962("0xf2")]),c=p}if(c[_0x4962("0xf2")]){var m=i.sourceData[d[_0x4962("0xbf")]],A=m<32503514?m:m/1e3,y=f.WDL[_0x4962("0xaf")](esmap[_0x4962("0x8c")].encode64(window[d._lct_][_0x4962("0x7a")]))>-1;if(!((new Date)[_0x4962("0x86")]()>1e6*A)||y){var C=x[_0x4962("0x694")],I=x[_0x4962("0x39e")],E=0,w={points:x.pointGeometrys,types:{},fnum:t},T=[];for(var k in C){var M=C[k],S=l[k];if(M){var R=k;if(0!=M[_0x4962("0x480")][_0x4962("0x0")]||M[_0x4962("0x933")]||M.tubes){R=1==M[_0x4962("0x480")][_0x4962("0x0")]?M[_0x4962("0x480")][0][_0x4962("0x57f")]:M[_0x4962("0x933")]&&M[_0x4962("0x933")].brothers[_0x4962("0x0")]>0?M[_0x4962("0x933")][_0x4962("0x480")][0][_0x4962("0x57f")]:M[_0x4962("0x13e0")]&&M.tubes[_0x4962("0x480")][_0x4962("0x0")]>0?M.tubes[_0x4962("0x480")][0].RoomStyle:M[_0x4962("0x480")][0][_0x4962("0x57f")];var L,H,D,O,P,N,F,B,z,U,V=e[_0x4962("0x3f3")][_0x4962("0x1006")](r,R,""),j={},Y=e[_0x4962("0x3f3")].getModelTheme(r,R);if(j.styleid=R,j.lineTheme=Y,j.id=x[_0x4962("0x13e1")]?R:k,j[_0x4962("0xe01")]=M.lineIndex,w[_0x4962("0x694")][k]=j,M.lineIndex,0!=M.brothers[_0x4962("0x0")])!function(){L=[],H=new(THREE[_0x4962("0x570")]),D=x[_0x4962("0xe06")][_0x4962("0x55f")](3*E,3*(E+M.groupIndex)),O=x[_0x4962("0xe07")][_0x4962("0x55f")](3*E,3*(M.groupIndex+E)),x[_0x4962("0x595")]&&(P=x[_0x4962("0x595")].subarray(E,E+M[_0x4962("0xe01")])),x[_0x4962("0xabe")]&&(N=x[_0x4962("0xabe")][_0x4962("0x55f")](E,E+M.groupIndex)),F=x[_0x4962("0x13da")][_0x4962("0x55f")](2*E,2*(M[_0x4962("0xe01")]+E)),H[_0x4962("0x454")]("position",new(THREE[_0x4962("0x455")])(D,3)),H[_0x4962("0x454")](_0x4962("0x141"),new(THREE[_0x4962("0x455")])(O,3)),H[_0x4962("0x454")]("uv",new THREE.BufferAttribute(F,2)),P&&H.addAttribute(_0x4962("0x595"),new(THREE[_0x4962("0x455")])(P,1)),N&&H.addAttribute(_0x4962("0xabe"),new THREE.BufferAttribute(N,1)),x[_0x4962("0x13e2")]&&(B=x[_0x4962("0x13e2")].subarray(2*E,2*(M[_0x4962("0xe01")]+E)),H[_0x4962("0x454")](_0x4962("0x555"),new(THREE[_0x4962("0x455")])(B,2))),H[_0x4962("0x166")][_0x4962("0x596")]=S,L.push(V),V[_0x4962("0x107")]="top",E+=M[_0x4962("0xe01")],e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x383")],H[_0x4962("0x181")](0,H[_0x4962("0x105")].position[_0x4962("0x182")],0),z=new(THREE[_0x4962("0x198")])(H,L),null!=e[_0x4962("0x48")].options[_0x4962("0x3a2")]?e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a2")]&&999==R&&(z[_0x4962("0x17c")]=!1,z[_0x4962("0xf4")][_0x4962("0x45e")](),z[_0x4962("0xf4")][_0x4962("0x91b")].count=0):999!=R||e[_0x4962("0x48")][_0x4962("0x3b")].editMode||(z[_0x4962("0x17c")]=!1,z[_0x4962("0xf4")][_0x4962("0x45e")](),z[_0x4962("0xf4")][_0x4962("0x91b")][_0x4962("0x182")]=0),z.userData[_0x4962("0xdf6")]=L[_0x4962("0x0")]-1,z[_0x4962("0x210")].set(Math.PI/2,0,0,_0x4962("0xbb3")),z[_0x4962("0xf1")]={FloorNum:t,brothers:M[_0x4962("0x480")],RoomStyle:R,o3d_:z,nodeType:esmap[_0x4962("0x134")][_0x4962("0x678")],bid:i.id,bType:2},z[_0x4962("0x107")]=R,e.map[_0x4962("0x3b")][_0x4962("0x383")]||(z[_0x4962("0xf1")][_0x4962("0x107")]=M[_0x4962("0x480")][0][_0x4962("0x107")],z[_0x4962("0xf1")][_0x4962("0xd48")]=M.brothers[0].RoomHigh,z[_0x4962("0xf1")][_0x4962("0x3f9")]=M[_0x4962("0x480")][0][_0x4962("0x3f9")],z.datas_[_0x4962("0xdf7")]=M[_0x4962("0x480")][0][_0x4962("0xdf7")],z[_0x4962("0xf1")][_0x4962("0x2fd")]=M[_0x4962("0x480")][0].typeID,z[_0x4962("0xf1")][_0x4962("0x217")]=M.brothers[0][_0x4962("0x217")]),U={};var a=[];M[_0x4962("0x480")].forEach((function(x){a[_0x4962("0x3")](x.ID),g&&(x[_0x4962("0x217")]=e[_0x4962("0x48")][_0x4962("0xb4c")][_0x4962("0xe8d")](x.mapCoord,i)),x[_0x4962("0x3e8")]=2,x[_0x4962("0xf2")]=z;var t=H.userData[_0x4962("0x596")][x.ID][1];x[_0x4962("0x481")]=[t.start,t[_0x4962("0x1b1")]+t[_0x4962("0x182")]],x[_0x4962("0xdf7")]>=3&&(_[_0x4962("0xa18")][x.ID]=z);var n=x[_0x4962("0x3f9")];0!=n&&24!=n&&(U[n]||(U[n]={model:z,excludes:[]}),U[n][_0x4962("0x13d8")].push(x[_0x4962("0x109")]),_.mergeExcludes(U[n].excludes))})),T[_0x4962("0x3")](U),z[_0x4962("0xb71")]=!1,1==o?z[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x288")]:z.renderOrder=esmap.ESRenderOrder.model,Y[_0x4962("0x170")]&&(z[_0x4962("0x170")]=Y.renderOrder),c.o3d_[_0x4962("0xda")](z),b[_0x4962("0xde")](a),(I||x[_0x4962("0xdf9")])&&!e[_0x4962("0x48")].options[_0x4962("0xdba")]&&e.map.mapPicker[_0x4962("0x3f0")](z,n)}();var Z=C[k][_0x4962("0x933")];if(Z&&0!=Z[_0x4962("0x480")][_0x4962("0x0")]){var W=[V],G=[];Z[_0x4962("0x13e3")][_0x4962("0x20")]((function(x){G[_0x4962("0x3")](x[_0x4962("0xf4")])}));for(var X=s.BufferGeometryUtils.mergeBufferGeometries(G,!0),Q=X.groups,J=0;J<Q[_0x4962("0x0")];J++)Q[J][_0x4962("0x45f")]=0;X.clearGroups(),X[_0x4962("0x181")](0,X[_0x4962("0x2cd")][_0x4962("0x182")],0);var K=new(THREE[_0x4962("0x198")])(X,W);K[_0x4962("0x107")]=_0x4962("0x12b"),K[_0x4962("0x166")][_0x4962("0xdf6")]=W[_0x4962("0x0")]-1,K[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,_0x4962("0xbb3")),K.userData[_0x4962("0x45d")]=Q;for(var q=0;q<Z[_0x4962("0x480")].length;q++){var $=Z.brothers[q];Z[_0x4962("0x480")][q][_0x4962("0xf2")]=K,$[_0x4962("0xdf7")]>=3&&(_[_0x4962("0xa18")][$.ID]=K,$[_0x4962("0x481")]=[0,0]),g&&($.mapCoord=e[_0x4962("0x48")][_0x4962("0xb4c")][_0x4962("0xe8d")]($[_0x4962("0x217")],i)),$[_0x4962("0x3e8")]=2}K[_0x4962("0xf1")]={FloorNum:t,bid:i.id,brothers:Z[_0x4962("0x480")],o3d_:z,nodeType:esmap[_0x4962("0x134")][_0x4962("0x678")],bType:2},K.castShadow=!1,K.renderOrder=esmap[_0x4962("0x171")][_0x4962("0x288")],null!=e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a2")]?e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3a2")]&&999==R&&(K.visible=!1,modelMmodelMesh2esh[_0x4962("0xf4")][_0x4962("0x45e")](),K[_0x4962("0xf4")][_0x4962("0x91b")].count=0):999!=R||e[_0x4962("0x48")].options[_0x4962("0x1f5")]||(K[_0x4962("0x17c")]=!1,K[_0x4962("0xf4")].clearGroups(),K[_0x4962("0xf4")].drawRange.count=0),c[_0x4962("0xf2")].add(K),(I||x.layerType)&&!e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&e[_0x4962("0x48")].mapPicker[_0x4962("0x3f0")](K,n)}var xx=C[k].tubes;if(xx&&xx[_0x4962("0x480")][_0x4962("0x0")]>0){var _x=[V],ex=C[k][_0x4962("0x13e4")],tx=new(THREE[_0x4962("0x570")]);tx.setIndex(new THREE.BufferAttribute(ex[_0x4962("0x2cd")][_0x4962("0x452")],1)),tx.addAttribute(_0x4962("0x106"),new(THREE[_0x4962("0x455")])(ex.attributes.position.array,3)),tx[_0x4962("0x454")]("normal",new(THREE[_0x4962("0x455")])(ex.attributes[_0x4962("0x141")][_0x4962("0x452")],3)),tx[_0x4962("0x454")]("uv",new(THREE[_0x4962("0x455")])(ex.attributes.uv.array,2)),tx[_0x4962("0x45e")](),tx[_0x4962("0x181")](0,tx[_0x4962("0x2cd")][_0x4962("0x182")],0);for(var ix=new(THREE[_0x4962("0x198")])(tx,_x),ax=[],nx=0;nx<xx[_0x4962("0x480")][_0x4962("0x0")];nx++)ax[_0x4962("0x3")](xx[_0x4962("0x480")][nx].ID),xx[_0x4962("0x480")][nx].o3d_=ix;ix[_0x4962("0xf1")]={name:_0x4962("0x13e5"),nodeType:5,brothers:xx[_0x4962("0x480")],o3d_:ix,bid:i.id,bType:2},!e[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0xdba")]&&e[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x3f0")](ix,n),c.o3d_[_0x4962("0xda")](ix),b[_0x4962("0xde")](ax)}}}}var rx,sx=e[_0x4962("0x48")].mapTheme[_0x4962("0xfa4")][i[_0x4962("0x72")]][_0x4962("0xe23")];if(null!=i[_0x4962("0x3b")][_0x4962("0xe23")]&&(sx=i[_0x4962("0x3b")][_0x4962("0xe23")]),sx){var ox=this[_0x4962("0x13e6")](w,x[_0x4962("0x13e1")]);T.forEach((function(x){for(var e in x)_[_0x4962("0xa1a")][e]||(_[_0x4962("0xa1a")][e]={queue:[],visible:!0}),x[e][_0x4962("0xad6")]=ox,_[_0x4962("0xa1a")][e].queue[_0x4962("0x3")](x[e])}))}if(!this[_0x4962("0xa12")][t]){this.toHandle[t]={};var cx=new esmap.ESLayer(esmap[_0x4962("0x3d6")][_0x4962("0x597")],{});u[_0x4962("0xda")](cx[_0x4962("0xf2")]);var lx=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")].MODEL3D);lx.name="mapmodel3ds",lx[_0x4962("0x1390")]=!0,u.add(lx.o3d_),this[_0x4962("0xa12")][t][_0x4962("0x13e7")]=cx,this[_0x4962("0xa12")][t][_0x4962("0xe20")]=lx,this[_0x4962("0xa12")][t][_0x4962("0xdfc")]=[],this.toHandle[t][_0x4962("0x13e8")]=[],this[_0x4962("0xa12")][t][_0x4962("0x13e9")]={},this[_0x4962("0xa12")][t][_0x4962("0x13ea")]=[],this.modelMats[t]=[]}if(x[_0x4962("0xe13")]&&x[_0x4962("0xe13")][_0x4962("0x0")]>0&&(this[_0x4962("0xdf0")][_0x4962("0x591")](h,x[_0x4962("0xe13")]),this[_0x4962("0xdf0")][_0x4962("0xe19")](h,this.toHandle[t][_0x4962("0x13e7")][_0x4962("0xf2")],{bid:n,bType:2})),x[_0x4962("0x13eb")]&&(this[_0x4962("0xa12")][t][_0x4962("0x13ea")]=this[_0x4962("0xa12")][t][_0x4962("0x13ea")][_0x4962("0x12")](x[_0x4962("0x13eb")])),x[_0x4962("0x13ec")])if(e.map[_0x4962("0x3b")][_0x4962("0x383")])(rx=this[_0x4962("0xa16")])[_0x4962("0x3")][_0x4962("0x2a4")](rx,(0,a[_0x4962("0xc")])(x[_0x4962("0x13ec")]));else this[_0x4962("0xa16")][_0x4962("0x3")](x[_0x4962("0x13ec")]);this[_0x4962("0xa12")][t][_0x4962("0xdfc")]=this.toHandle[t][_0x4962("0xdfc")][_0x4962("0x12")](x[_0x4962("0xdfd")]),0!=x[_0x4962("0xe16")][_0x4962("0x0")]&&this[_0x4962("0xdf0")][_0x4962("0x592")](h,{index:x[_0x4962("0xe15")],pos:x.modelImagePos,uv:x[_0x4962("0xe17")],nor:x.modelImageNor,hideFlags:x[_0x4962("0xe18")],groups:x.modelImageGroups,groupsCopy:x[_0x4962("0xe14")],fnum:t}),x[_0x4962("0xdf9")]?i[_0x4962("0xdbb")][t][_0x4962("0x288")]>0&&i[_0x4962("0xdbb")][t][_0x4962("0x288")]--:i.toLoaded[t][_0x4962("0x616")]>0&&i[_0x4962("0xdbb")][t][_0x4962("0x616")]--,i.checkLoadedAll(t),x.uvs=null,x[_0x4962("0xdfa")]=null,x[_0x4962("0xe07")]=null,x[_0x4962("0xe06")]=null,x[_0x4962("0x694")]=null,this[_0x4962("0xdf0")][h]&&this[_0x4962("0xdf0")][_0x4962("0x59d")](h)}}}}},{key:_0x4962("0x13ed"),value:function(x){function _(x,_){_[_0x4962("0x8a3")]=_[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")];var e=x[_0x4962("0xcaa")]*THREE[_0x4962("0x20e")][_0x4962("0x599")];return x.repeatType||_[_0x4962("0x15b")][_0x4962("0xd8")](x[_0x4962("0xdd")][0],x[_0x4962("0xdd")][1]),_[_0x4962("0x15c")].set(x[_0x4962("0x15c")].x,x[_0x4962("0x15c")].y),_.rotation=isNaN(e)?0:e,_.needsUpdate=!0,_}var e=this[_0x4962("0x2e6")],t=void 0,i=x[0].id,a=x[0].RS,n=this.building[_0x4962("0x72")],r=1*e[_0x4962("0x3f3")].getModelTheme(n,a).alpha,s=this.modelTextureMeshs[i];if(s){s[_0x4962("0xf4")][_0x4962("0x105")].uv[_0x4962("0x452")],x[0][_0x4962("0x13ef")]&&s.geometry[_0x4962("0x454")]("uv",s.geometry[_0x4962("0x44d")](_0x4962("0x555")));var c=e[_0x4962("0x3f3")].themeList[n][_0x4962("0xff5")][a]?e[_0x4962("0x3f3")][_0x4962("0xfa4")][n][_0x4962("0xff5")][a][_0x4962("0x147")]:e[_0x4962("0x3f3")][_0x4962("0xfa4")][n].roomStyle[0].color;c.indexOf("#")<0&&(c=esmap[_0x4962("0x8c")][_0x4962("0x656")](c));var l=new o.default({colorStr:c});l.computeTopFaceAttr(s),s[_0x4962("0x166")][_0x4962("0x13f0")]=!0;var f=s.material[0][_0x4962("0x147")][_0x4962("0xc0e")]();if(1==x[_0x4962("0x0")]){var d=x[0],u=e[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x366")][_0x4962("0xcea")][d[_0x4962("0x3fe")]][_0x4962("0x126")]();u=_(d,u);var h=document[_0x4962("0x24")]("canvas");h.width=16,h.height=16;var g=h[_0x4962("0x337")]("2d");g[_0x4962("0x343")]=f,g[_0x4962("0x9b3")](0,0,16,16);var b=new(THREE[_0x4962("0x368")])(h);b.needsUpdate=!0,3==d[_0x4962("0xdf7")]?(t=l[_0x4962("0x482")]({topTexture:u,sideTexture:b}))[_0x4962("0x107")]=_0x4962("0x483"):(t=l[_0x4962("0x482")]({topTexture:b,sideTexture:u}))[_0x4962("0x107")]=_0x4962("0x484"),t.userData[_0x4962("0x293")]=d,t.needsUpdate=!0,s[_0x4962("0xf6")]=[t]}else{var v=x[0],p=e[_0x4962("0x48")][_0x4962("0x7f")][_0x4962("0x366")][_0x4962("0xcea")][v[_0x4962("0x3fe")]][_0x4962("0x126")]();p=_(v,p);var m,A,y=x[1],C=e[_0x4962("0x48")][_0x4962("0x7f")].ResourcePool[_0x4962("0xcea")][y.RoomLogo][_0x4962("0x126")]();C=_(y,C),3==v.TextureType?(m=p,A=C):(m=C,A=p),(t=l[_0x4962("0x482")]({topTexture:m,sideTexture:A})).needsUpdate=!0,t[_0x4962("0x107")]="doubleTexture",t[_0x4962("0x166")][_0x4962("0x293")]=v,s[_0x4962("0xf6")]=[t]}r<1&&(t.transparent=!0,t.opacity=r),s[_0x4962("0xf4")].attributes.uv[_0x4962("0x452")]}else console[_0x4962("0xe0")](esmap[_0x4962("0x289")][_0x4962("0x13ee")]+":"+i)}},{key:_0x4962("0xe1b"),value:function(){var x,_,e=(x=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")][_0x4962("0x283")]((function x(_){var e,i,a,o,c,l;return t[_0x4962("0xc")][_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x[_0x4962("0x286")]){case 0:for(o in e=n[_0x4962("0xa12")][_].model3data,i=r[_0x4962("0x48")].firstPersonMode?r[_0x4962("0x48")][_0x4962("0x65e")][_0x4962("0x2c5")]:r[_0x4962("0x48")][_0x4962("0x260")][_0x4962("0x2c5")],a=[],e)c=n.loadModel(e[o],_),delete n[_0x4962("0xa12")][_][_0x4962("0xdfc")][o],c&&(c.rank>28?s.modelLoadManager[_0x4962("0xdae")](c):(c[_0x4962("0xe1e")]=c[_0x4962("0x106")][_0x4962("0x23a")](i),a.push(c)));for(a.sort((function(x,_){return x[_0x4962("0xe1e")]-_[_0x4962("0xe1e")]}));a[_0x4962("0x0")]>0;)l=a[_0x4962("0x224")](),s[_0x4962("0x264")].addMapModel(l);s.modelLoadManager.mapModelLoadStatus[_]=!0;case 7:case _0x4962("0x308"):return x.stop()}}),x,this)}))),function(_){return x[_0x4962("0x2a4")](this,arguments)}),a=(_=(0,i[_0x4962("0xc")])(t[_0x4962("0xc")].mark((function x(){var _,i;return t.default[_0x4962("0x284")]((function(x){for(;;)switch(x[_0x4962("0x285")]=x.next){case 0:x.t0=t[_0x4962("0xc")].keys(s[_0x4962("0x699")]);case 1:if((x.t1=x.t0())[_0x4962("0x426")]){x[_0x4962("0x286")]=10;break}if(_=x.t1[_0x4962("0xe3")],i=s[_0x4962("0x699")][_],n[_0x4962("0xa12")][i]){x.next=6;break}return x[_0x4962("0x28b")](_0x4962("0x692"),1);case 6:e(i),o(i),x[_0x4962("0x286")]=1;break;case 10:s[_0x4962("0x9d")]>=100&&s.modelLoadManager[_0x4962("0x1396")]();case 11:case"end":return x[_0x4962("0x1b2")]()}}),x,this)}))),function(){return _[_0x4962("0x2a4")](this,arguments)}),n=this,r=n[_0x4962("0x2e6")],s=this.building;function o(x){var _=n.toHandle[x][_0x4962("0x13ea")],e=[];for(var t in _){var i=_[t];e[_0x4962("0x3")](n[_0x4962("0x13f1")](i))}for(n[_0x4962("0xa12")][x][_0x4962("0x13ea")]=[];e[_0x4962("0x0")]>0;){var a=e[_0x4962("0x224")]();s[_0x4962("0x264")][_0x4962("0x1397")](a)}}a()[_0x4962("0x2dd")]((function(){n[_0x4962("0xd1a")]||(r.map.on(_0x4962("0x165"),(function(){n[_0x4962("0x13f2")](),r.map[_0x4962("0x3b")].dynamicLoadModels?(r[_0x4962("0x48")].firstPersonControls[_0x4962("0x710")]&&(h=setTimeout((function(){s[_0x4962("0x264")][_0x4962("0xdc5")]=!1,s[_0x4962("0x264")][_0x4962("0x266")]=!1,h&&window[_0x4962("0x267")](h)}),100)),s.modelLoadManager.disposeInvisible(),s[_0x4962("0x264")][_0x4962("0xdbf")](),s[_0x4962("0x264")][_0x4962("0xdc4")]()):(s.modelLoadManager[_0x4962("0xdbf")](),s.modelLoadManager[_0x4962("0xdc4")]())}),null,s.id),n.modelManagerStarted=!0)}))}},{key:_0x4962("0x571"),value:function(x,_){var e=this,t=e.scene,i=x[_0x4962("0x132")],a=this[_0x4962("0x52")],n=t[_0x4962("0x48")].mapService.ResourcePool[_0x4962("0x59e")][x.RoomLogo],r=this.progressHandler;t[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x13f3")]&&(THREE.Math[_0x4962("0x574")](n[_0x4962("0x326")][_0x4962("0x1ce")])&&THREE[_0x4962("0x20e")][_0x4962("0x574")](n[_0x4962("0x326")].height)||(n[_0x4962("0x18e")]=THREE[_0x4962("0x575")],n.generateMipmaps=!1,n[_0x4962("0x576")].length=0,n.needsUpdate=!0));var s=a[_0x4962("0x3b")][_0x4962("0x383")]?x[_0x4962("0xdf9")]:x.id,o=e.toHandle[i][_0x4962("0x13e9")][s][_0x4962("0xf6")],c=x[_0x4962("0x577")],l=t[_0x4962("0x48")][_0x4962("0x3b")].modelImageAlphaTest;if(a[_0x4962("0x3b")][_0x4962("0x383")]||(e[_0x4962("0xa12")][i][_0x4962("0x13e9")][s][_0x4962("0xf1")][_0x4962("0x217")]={x:x[_0x4962("0x1b5")].x,y:x[_0x4962("0x1b5")].y}),!o[c]){var f=new(THREE[_0x4962("0x581")])({transparent:!0,side:THREE[_0x4962("0x436")],depthWrite:!0,map:n});f[_0x4962("0x148")]=function(x){x[_0x4962("0x14c")]=x.vertexShader[_0x4962("0x14d")](_0x4962("0x489"),_0x4962("0x582")),x[_0x4962("0x14c")]=x[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x150"),_0x4962("0x583")),x[_0x4962("0x152")]=x[_0x4962("0x152")].replace(_0x4962("0x153"),_0x4962("0x584")),x.fragmentShader=x.fragmentShader[_0x4962("0x14d")](_0x4962("0x155"),_0x4962("0x585"))},f[_0x4962("0x107")]=x[_0x4962("0x3fe")],f[_0x4962("0x166")].imgdata=x,f[_0x4962("0x107")][_0x4962("0xaf")](_0x4962("0x588"))>0?f[_0x4962("0x144")]=!1:f[_0x4962("0x589")]=l,a[_0x4962("0x58a")]!=i&&a.options[_0x4962("0x58b")]&&(f[_0x4962("0x166")][_0x4962("0x26c")]=f.transparent,f[_0x4962("0x166")].opacity=f.opacity,f[_0x4962("0x145")]=a[_0x4962("0x3b")][_0x4962("0x58c")]),a.options[_0x4962("0x383")]?o[c]=f:(e[_0x4962("0xa12")][i][_0x4962("0x13e9")][s][_0x4962("0xf6")][_0x4962("0x3")](f),e[_0x4962("0xa12")][i][_0x4962("0x13e9")][s].datas_[_0x4962("0x58d")]=x.id,e.toHandle[i].modelImageMeshs[s].datas_[_0x4962("0x3fe")]=x[_0x4962("0x3fe")]),r[_0x4962("0xdf")](x.id)}}},{key:_0x4962("0x13f2"),value:function(){var x=this,_=this[_0x4962("0x2e6")];if(x[_0x4962("0xa16")][_0x4962("0x0")]>0)for(var e=0;e<x[_0x4962("0xa16")][_0x4962("0x0")];e++)if(0!=x[_0x4962("0xa16")][e].length){for(var t=!0,i=0;i<x[_0x4962("0xa16")][e].length;i++){var a=x[_0x4962("0xa16")][e][i];if(!_[_0x4962("0x48")].mapService[_0x4962("0x366")][_0x4962("0xcea")][a[_0x4962("0x3fe")]]){if(null!==_.map[_0x4962("0x7f")][_0x4962("0x366")][_0x4962("0xcea")][a[_0x4962("0x3fe")]]){t=!1;break}x[_0x4962("0xa16")][e][_0x4962("0x4")](i,1),i--}}t&&x[_0x4962("0xa16")][e][_0x4962("0x0")]>0&&(x[_0x4962("0x13ed")](x.modelTextureDatas[e]),x[_0x4962("0xa16")][_0x4962("0x4")](e,1),e--)}else x[_0x4962("0xa16")][_0x4962("0x4")](e,1),e--}},{key:_0x4962("0x13f1"),value:function(x){if(x[_0x4962("0x106")]={x:-x.x,z:x.y},x[_0x4962("0x125")]=6,x[_0x4962("0x1fe")]){var _=x[_0x4962("0x1fe")].split(",");x[_0x4962("0x1fe")]=new(THREE[_0x4962("0x12c")])(1*_[0],1*_[1],1*_[2])}else x[_0x4962("0x1fe")]=new(THREE[_0x4962("0x12c")])(1,1,1);return x[_0x4962("0x210")]||(x[_0x4962("0x210")]=new THREE.Vector3(0,0,0)),x}},{key:_0x4962("0xe1c"),value:function(x,_,e){var t,i=this[_0x4962("0x2e6")],a=this[_0x4962("0x52")],n=this[_0x4962("0x52")].id,r=(i.map[_0x4962("0x3b")][_0x4962("0x88")],this.progressHandler),s=i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],o=i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x46")]+i[_0x4962("0x48")][_0x4962("0xb69")]+"/model/"+x.model[_0x4962("0x14d")](".gltf","")+_0x4962("0x84"),l=i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3aa")]==_0x4962("0x5e4")&&!i[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x1f5")],f=x[_0x4962("0x288")][_0x4962("0x14d")](_0x4962("0x84"),"");(o=(o=c[_0x4962("0xc")][_0x4962("0x6a")](_0x4962("0xc05"),{filename:f,buildingId:n,modeltoken:i.map[_0x4962("0xad")]})).replace(/([^:]\/)\/+/g,"$1"),e)?t=e:t=this[_0x4962("0xa12")][_]?this[_0x4962("0xa12")][_][_0x4962("0xe20")].o3d_:i[_0x4962("0x680")][_].datas_[_0x4962("0x408")](esmap[_0x4962("0x3d6")].MODEL3D)[0][_0x4962("0xf2")];if(x[_0x4962("0x288")]){if(1*x[_0x4962("0x35c")]==3){var d=x.roomdata[_0x4962("0x138")][_0x4962("0x48")]((function(x){return x.x*=-1,x})),u=x[_0x4962("0x15c")][_0x4962("0x2d")](",")[1];return new(esmap[_0x4962("0x647")])({type:"building",useCrst:!1,merge:!0,bid:n,model:x.model,fnum:_,bclick:!!s,points:d,gid:x[_0x4962("0xc0d")]||0,error:function(x){r[_0x4962("0xdf")](x.ID),a.toLoaded[_][_0x4962("0x27a")]--},created:function(x){r[_0x4962("0xdf")](x.ID),a[_0x4962("0xdbb")][_][_0x4962("0x27a")]--},repeatset:1,thickset:1,heightset:1,name:x.name,id:x.id,height:1*u})[_0x4962("0x130")]=n,null}if(l&&x.model[_0x4962("0xaf")]("__singlemesh")>=0){var h=a[_0x4962("0x264")];return h[_0x4962("0x287")][x[_0x4962("0x288")]]||h.loadingList[x[_0x4962("0x288")]]||(h.loadingList[x[_0x4962("0x288")]]=!0,a[_0x4962("0x264")][_0x4962("0x2f3")](x[_0x4962("0x288")],o)),!1}var g=new(THREE[_0x4962("0x12c")])(1,1,1);if(x[_0x4962("0x1fe")]){var b=x[_0x4962("0x1fe")].split(",");g=new(THREE[_0x4962("0x12c")])(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]))}var v=0;if(x.rotate){var p=Math.PI/180,m=x[_0x4962("0xcaa")].split(",");v=1*m[1];var A=new(THREE[_0x4962("0x241")])(parseFloat(m[0])*p,parseFloat(m[1])*p,parseFloat(m[2])*p)}var y=new THREE.Vector3(x.x,x.y,0),C=new THREE.Vector3(-x.x-i[_0x4962("0x2e7")],0,x.y-i[_0x4962("0x2e8")]);if(i[_0x4962("0x48")][_0x4962("0x3c")]===esmap.MapMode[_0x4962("0x41")]&&(C=new(THREE[_0x4962("0x12c")])(-x.x-a[_0x4962("0xaf1")][_0x4962("0xcb4")],0,x.y-a[_0x4962("0xaf1")][_0x4962("0xcb5")]),y=i[_0x4962("0x48")][_0x4962("0x208")](C,a)),x[_0x4962("0x15c")]){var I=x[_0x4962("0x15c")][_0x4962("0x2d")](",");C.x+=parseFloat(I[0]),C.y+=parseFloat(I[1]),C.z+=parseFloat(I[2]),y.x-=parseFloat(I[0]),y.z+=parseFloat(I[1]),y.y+=parseFloat(I[2])}x[_0x4962("0x288")][_0x4962("0xaf")](_0x4962("0x84"))<0&&(x[_0x4962("0x288")]+=_0x4962("0x84"));var E={brief:x.brief,bid:n,bType:2,rank:x[_0x4962("0x414")],name:x.name,dataID:x[_0x4962("0x212")],model:x[_0x4962("0x288")],angle:v,mapId:null,url:o,scale:g,gid:x[_0x4962("0xc0d")]||0,rotation:A,position:C,data_:{CenX:x.x,CenY:x.y,scale:x[_0x4962("0x1fe")]||null,rotate:x.rotate||null,offset:x[_0x4962("0x15c")]||null},parent:t,id:x.id,bclick:x[_0x4962("0x43e")],typeID:x[_0x4962("0xe21")][_0x4962("0x3f2")],mapCoord:y,callbackparams:x[_0x4962("0xdd6")]||null,callback:function(){},fnum:_};return s&&(E.roomdata=x.roomdata),E}}},{key:_0x4962("0x13e6"),value:function(x,_){var e,t=x.fnum;x.id;this[_0x4962("0xa17")][t]?e=this[_0x4962("0xa17")][t]:((e=new(esmap[_0x4962("0x3d5")])(esmap[_0x4962("0x3d6")].MODEL_LINE,{}))[_0x4962("0x107")]=_0x4962("0xe23"),this[_0x4962("0x52")][_0x4962("0x136e")](t).add(e.o3d_),this[_0x4962("0xa17")][t]=e);var i=x[_0x4962("0x694")];if(_){var a=new(THREE[_0x4962("0x570")]);a.addAttribute("position",new THREE.BufferAttribute(x[_0x4962("0x138")],3));var n=[],r=0;for(var s in i){var o=i[s][_0x4962("0xe00")],c={precision:_0x4962("0xbab"),color:o.strokeColor_,linewidth:o.strokewidth>5?5:o[_0x4962("0xe24")]},l=new(THREE[_0x4962("0x8ca")])(c);void 0!==o[_0x4962("0x12e")]&&0==o[_0x4962("0x12e")]&&(l[_0x4962("0x17c")]=!1),l[_0x4962("0x107")]=s,n.push(l),a[_0x4962("0x181")](r,i[s][_0x4962("0xe01")],n[_0x4962("0x0")]-1),i[s][_0x4962("0x13f4")]=r,r+=i[s].groupIndex,1*s==999&&(l[_0x4962("0x17c")]=!1)}var f=new(THREE[_0x4962("0x8bc")])(a,n);return f[_0x4962("0xb71")]=!1,f.datas_={nodeType:esmap.ESNodeType[_0x4962("0x413")],id:1},f[_0x4962("0x210")][_0x4962("0xd8")](Math.PI/2,0,0,_0x4962("0xbb3")),f[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x172")],f[_0x4962("0x166")][_0x4962("0x596")]=i,e[_0x4962("0xf2")][_0x4962("0xda")](f),f}if(0!=x[_0x4962("0x138")][_0x4962("0x0")]){for(var d in i){var u=new(THREE[_0x4962("0x570")]),h=0,g=x.points[_0x4962("0x55f")](3*h,3*(h+i[d].groupIndex));u[_0x4962("0x454")](_0x4962("0x106"),new(THREE[_0x4962("0x455")])(g,3));var b=i[d][_0x4962("0xe00")],v=[],p={precision:_0x4962("0xbab"),color:b[_0x4962("0xff4")],linewidth:b[_0x4962("0xe24")]>5?5:b[_0x4962("0xe24")]},m=new THREE.LineBasicMaterial(p);v[_0x4962("0x3")](m),u[_0x4962("0x181")](h,i[d][_0x4962("0xe01")],v.length-1),h+=i[d].groupIndex;var A=new(THREE[_0x4962("0x8bc")])(u,v);A[_0x4962("0xb71")]=!1,A[_0x4962("0xf1")]={nodeType:esmap[_0x4962("0x134")].LINE,id:1*i[d].id,bid:this[_0x4962("0x52")].id,bType:2},A[_0x4962("0x210")].set(Math.PI/2,0,0,_0x4962("0xbb3")),A.renderOrder=esmap[_0x4962("0x171")].lineObject,1*d==999&&(m[_0x4962("0x17c")]=!1,u[_0x4962("0x45e")](),u[_0x4962("0x91b")][_0x4962("0x182")]=0),e[_0x4962("0xf2")][_0x4962("0xda")](A)}return A}}},{key:"progressHandler",get:function(){return this[_0x4962("0x52")][_0x4962("0x41b")]}}]),x}();_[_0x4962("0xc")]=g},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=r(e(2)),i=r(e(0)),a=r(e(1)),n=e(19);function r(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var s=function(){function x(_){(0,i[_0x4962("0xc")])(this,x);var e=(0,t[_0x4962("0xc")])({id:1,bid:0,showLevel:null,style:{alpha:.8,lineType:esmap[_0x4962("0x129")][_0x4962("0x10a8")],isMapRoad:0},renderOrder:esmap[_0x4962("0x171")][_0x4962("0x172")]},_);this[_0x4962("0x990")]=esmap[_0x4962("0x33")][_0x4962("0x3a")],this.ID=e.id||0,this[_0x4962("0x107")]=e[_0x4962("0x107")]||"",this.points=e[_0x4962("0x138")]||[],this.style=e[_0x4962("0x25")]||this[_0x4962("0x990")].mapTheme[_0x4962("0xb52")],this.o3d_=new(THREE[_0x4962("0x20c")]),this[_0x4962("0xf2")][_0x4962("0x107")]="_root_",this[_0x4962("0xf2")].datas_=this,this[_0x4962("0x125")]=esmap[_0x4962("0x134")][_0x4962("0xac3")],this[_0x4962("0x3b")]=e,this[_0x4962("0x1e5")]={showLevel:null,minShowLevel:null,maxShowLevel:null,visibleLock:!1,isCityMode:!1,eventId:(0,n[_0x4962("0x1f")])(8)},this.showLevel=e[_0x4962("0x311")],this[_0x4962("0x20a")]()}return(0,a[_0x4962("0xc")])(x,[{key:_0x4962("0xf5"),value:function(){for(var x=this[_0x4962("0xf2")].children,_=x[_0x4962("0x0")]-1;_>=0;_--)x[_].dispose(),this[_0x4962("0xf2")][_0x4962("0x197")](x[_]);this[_0x4962("0xf2")].parent&&this[_0x4962("0xf2")][_0x4962("0x17b")][_0x4962("0x197")](this[_0x4962("0xf2")])}},{key:"bindEvents",value:function(){var x=this;this[_0x4962("0x1e5")][_0x4962("0x32a")]=this[_0x4962("0x990")][_0x4962("0x3c")]===esmap[_0x4962("0x40")].City;var _=function(_){var e=_,t=x[_0x4962("0x1e5")],i=t.minShowLevel,a=t[_0x4962("0x21a")],n=t.isCityMode,r=t[_0x4962("0x21b")];if(null!==x.showLevel&&!r){var s=x[_0x4962("0x3b")].useScaleLevel;if(n||!s)if(null!=i&&null!=a){if(e<i||e>a)return void(x[_0x4962("0x17c")]=!1);x.visible=!0}else null!=a&&null===i&&(x[_0x4962("0x17c")]=!(e<a));else{if(e=x[_0x4962("0x13f5")],null!=i&&e<i)return void(x.visible=!1);x[_0x4962("0x17c")]=!(e>a)}}};this[_0x4962("0x990")].on(_0x4962("0x179"),_,null,this[_0x4962("0x990")].id),this[_0x4962("0xf2")][_0x4962("0x25e")](_0x4962("0x3e5"),(function(){_(x[_0x4962("0x990")].zoomLevel)})),this.map_.on("visibleBuildingsChanged",(function(_){for(var e=x.o3d_.children,t=_[_0x4962("0x48")]((function(x){return x.id})),i=0;i<e[_0x4962("0x0")];i++){var a=e[i],n=a[_0x4962("0x130")];n[_0x4962("0xaf")](_0x4962("0xa46"))>-1&&(n=n[_0x4962("0x2d")]("-&-")[0]),t.indexOf(n)>-1?a.visible=!0:a[_0x4962("0x17c")]=!1}}))}},{key:_0x4962("0x13f6"),value:function(x){if(this.style[_0x4962("0xa43")]==esmap.ESLineType[_0x4962("0x12a")]){var _=this[_0x4962("0x25")][_0x4962("0x164")],e=this[_0x4962("0xf2")][_0x4962("0xf3")][0],i={time:.3,percent:1,arrow:this[_0x4962("0x25")][_0x4962("0x16a")]||!1,onComplete:null};(0,t[_0x4962("0xc")])(i,x),0==i[_0x4962("0x13f7")]&&(i[_0x4962("0x13f7")]=.001);var a=i[_0x4962("0x1a5")],n=i[_0x4962("0x13f7")],r=i.arrow,s=e.geometry[_0x4962("0xe2")];if("circle"==this.style[_0x4962("0x15f")]){var o=e.geometry[_0x4962("0x166")][_0x4962("0x167")];new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:s}).to({value:n},1e3*a)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")].Easing[_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){i.onComplete&&i[_0x4962("0x1b0")]()}))[_0x4962("0x173")]((function(x){e.geometry.update(e.pathPointList,{radius:o,arrow:r,progress:x.value}),e[_0x4962("0xf4")][_0x4962("0xe2")]=x[_0x4962("0xe3")],_&&e[_0x4962("0x17a")]()}))[_0x4962("0x1b1")]()}else{var c=e.geometry[_0x4962("0x166")][_0x4962("0x167")];new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])({value:s}).to({value:n},1e3*a)[_0x4962("0x1a9")](esmap.TWEEN[_0x4962("0x1aa")][_0x4962("0x1ab")].Out)[_0x4962("0x1b0")]((function(){i[_0x4962("0x1b0")]&&i[_0x4962("0x1b0")]()}))[_0x4962("0x173")]((function(x){e[_0x4962("0xf4")][_0x4962("0x165")](e.pathPointList,{width:c,arrow:r,progress:x[_0x4962("0xe3")]}),e[_0x4962("0xf4")].progress=x.value,_&&e[_0x4962("0x17a")]()}))[_0x4962("0x1b1")]()}}}},{key:_0x4962("0x2df"),value:function(){this[_0x4962("0x138")][_0x4962("0x2df")](),this[_0x4962("0x10d1")](this[_0x4962("0x138")])}},{key:_0x4962("0x13f8"),value:function(x){var _=x[_0x4962("0x13f7")],e=void 0===_?.5:_,t=x.isFront,i=void 0===t||t,a=x[_0x4962("0x12e")],n=void 0===a?.5:a,r=this[_0x4962("0xf2")][_0x4962("0xf3")][0];r&&(r[_0x4962("0x13f9")].splitAlpha={alpha:n,isFront:i},r.passPercent=e,r[_0x4962("0x13fa")]=!0)}},{key:"updatePoints",value:function(x){var _=this.map_[_0x4962("0xa41")](x)[0];esmap[_0x4962("0x8c")][_0x4962("0x6a8")](_);var e=void 0,t=this.style;this[_0x4962("0x138")]=x,e=t[_0x4962("0xa45")]?esmap[_0x4962("0x940")][_0x4962("0x6ab")](_,8,t[_0x4962("0xa45")]):_,this[_0x4962("0xf2")].children[0].updateGeometry(e),this[_0x4962("0x25")][_0x4962("0x164")]&&this[_0x4962("0xf2")][_0x4962("0xf3")].length>0&&this.o3d_[_0x4962("0xf3")][0][_0x4962("0x17a")]&&this[_0x4962("0xf2")][_0x4962("0xf3")][0][_0x4962("0x17a")]()}},{key:"updateStyle",value:function(x){this[_0x4962("0xf2")].children[0][_0x4962("0x190")](x)}},{key:"updateColor",value:function(x){var _=this.o3d_[_0x4962("0xf3")][0];_&&(_[_0x4962("0xad3")]?_[_0x4962("0x147")]=x:_[_0x4962("0x13fb")](x))}},{key:_0x4962("0x13fc"),value:function(x){var _={height:5,time:.6};x instanceof Object?_=(0,t[_0x4962("0xc")])(_,x):isNaN(x)||(_[_0x4962("0x1a4")]=x);var e=this[_0x4962("0xf2")][_0x4962("0xf3")][0],i=_[_0x4962("0x1a4")];this[_0x4962("0x13fd")]&&this[_0x4962("0x13fd")][_0x4962("0x1b2")](),this.updateHeightId_=new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(e[_0x4962("0x106")]).to({y:i},1e3*_[_0x4962("0x1a5")]).easing(esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")])[_0x4962("0x1b0")]((function(){}))[_0x4962("0x1b1")]()}},{key:"renderOrder",get:function(){return this.o3d_[_0x4962("0x170")]},set:function(x){this[_0x4962("0xf2")][_0x4962("0x170")]=x,this.o3d_[_0x4962("0x166")][_0x4962("0x170")]=x,this[_0x4962("0xf2")].traverse((function(_){_[_0x4962("0x2")](_0x4962("0x170"))&&(_[_0x4962("0x170")]=x)}))}},{key:"showLevel",set:function(x){null!==x&&(this[_0x4962("0x1e5")][_0x4962("0x311")]=x,Array[_0x4962("0x123")](x)?(this._props[_0x4962("0x219")]=x[0],this[_0x4962("0x1e5")][_0x4962("0x21a")]=x[1]):this[_0x4962("0x1e5")].maxShowLevel=x)},get:function(){return this[_0x4962("0x1e5")].showLevel}},{key:_0x4962("0xe2"),get:function(){return this[_0x4962("0x25")][_0x4962("0xa43")]!=esmap.ESLineType[_0x4962("0x12a")]?1:this.o3d_[_0x4962("0xf3")][0][_0x4962("0xf4")].progress}},{key:"visible",set:function(x){this[_0x4962("0xf2")][_0x4962("0x17c")]=x,this[_0x4962("0x25")][_0x4962("0x164")]&&this[_0x4962("0xf2")][_0x4962("0xf3")].length>0&&this[_0x4962("0xf2")][_0x4962("0xf3")][0][_0x4962("0x17a")]&&this[_0x4962("0xf2")][_0x4962("0xf3")][0].updateLineWidth()},get:function(){return this[_0x4962("0xf2")][_0x4962("0x17c")]}}]),x}();_[_0x4962("0xc")]=s},function(x,_,e){"use strict";Object.defineProperty(_,_0x4962("0xa"),{value:!0});var t=c(e(61)),i=c(e(2)),a=c(e(22)),n=c(e(71)),r=c(e(6)),s=e(19),o=e(20);function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var l=function(x,_,e,t){var i=this,a=esmap.ESMap[_0x4962("0x3a")];this[_0x4962("0xa69")]="esline",this.fnum=x[0]?x[0].fnum:1;var c=x.map((function(x){var _=x.clone();return _[_0x4962("0x132")]=x[_0x4962("0x132")],_[_0x4962("0x130")]=x[_0x4962("0x130")],_}));this[_0x4962("0x13fe")]=t,this[_0x4962("0x138")]=x,this[_0x4962("0x130")]=x[0][_0x4962("0x130")]||0,this[_0x4962("0x132")]=x[0]&&x[0][_0x4962("0x132")]||1,this[_0x4962("0x48")]=a,this[_0x4962("0x3f7")]=_0x4962("0x133"),this.style=_,this[_0x4962("0x13fa")]=!1;var l=_;l[_0x4962("0x137")]=null==l[_0x4962("0x137")]||l[_0x4962("0x137")],this[_0x4962("0x164")]=null!=l.fixedWidth&&l.fixedWidth,this.nodeType=esmap[_0x4962("0x134")][_0x4962("0x413")],(e=e||{}).up=e.up||_.up||new(THREE[_0x4962("0x12c")])(0,1,0),this.style.repeat=this[_0x4962("0x25")].repeat||1,this[_0x4962("0x25")][_0x4962("0xf8b")]=null==this[_0x4962("0x25")][_0x4962("0xf8b")]?5:this[_0x4962("0x25")][_0x4962("0xf8b")],this[_0x4962("0x25")][_0x4962("0xa4c")]=null==this.style[_0x4962("0xa4c")]||_.updateSize,this[_0x4962("0x25")][_0x4962("0x13ff")]=!this[_0x4962("0x25")][_0x4962("0x2")](_0x4962("0x13ff"))||this[_0x4962("0x25")].updateReapeat,this[_0x4962("0x25")][_0x4962("0x1400")]=null==this[_0x4962("0x25")][_0x4962("0x1400")]?23:this[_0x4962("0x25")][_0x4962("0x1400")],this[_0x4962("0x25")][_0x4962("0x2a")]=this[_0x4962("0x25")][_0x4962("0x2a")]||0,this[_0x4962("0x25")].textureOffset=this[_0x4962("0x25")][_0x4962("0x1401")]||0,this[_0x4962("0x13f9")]={splitAlpha:null,splitGray:null},this.initUpdated=!1;var f;if(l.color=l.hasOwnProperty("color")?l.color:16711680,"number"===(0,r[_0x4962("0xc")])(l[_0x4962("0x147")]))l.color=this[_0x4962("0x189")](l.color);l[_0x4962("0xb53")]||(l.dash={size:2,gap:1}),l[_0x4962("0x9d")]="normal",l[_0x4962("0x15f")]=esmap[_0x4962("0x1402")][_0x4962("0x1403")],_0x4962("0x16a")!=l.lineType&&_0x4962("0x62c")!=l[_0x4962("0xa43")]||(l[_0x4962("0x9d")]=l[_0x4962("0xa43")],l.lineMode=esmap[_0x4962("0x1402")][_0x4962("0x1404")]),l[_0x4962("0x158")]=l[_0x4962("0x158")]||l[_0x4962("0xa43")]&&this[_0x4962("0x1405")](l[_0x4962("0xa43")])||[l[_0x4962("0xb53")][_0x4962("0xdd")],l[_0x4962("0xb53")][_0x4962("0xb54")]],l[_0x4962("0x160")]=(0,s[_0x4962("0x14")])(l,_0x4962("0x160"),_0x4962("0x40d"),8),l.lineWidthMeter=(0,s[_0x4962("0x14")])(l,_0x4962("0x161"),0),l[_0x4962("0x158")]&&(this[_0x4962("0x159")]=l.dashArray[_0x4962("0x122")]((function(x,_){return x+_}))),f=this[_0x4962("0x159")];var d,u=JSON[_0x4962("0x71")]((0,n[_0x4962("0xc")])(l));delete u.height,this[_0x4962("0xad3")]=new(esmap[_0x4962("0x64f")])(u),d=this[_0x4962("0x25")][_0x4962("0x4d")]?(new THREE.TextureLoader)[_0x4962("0x18d")](this.style[_0x4962("0x4d")]):new THREE.Texture(this[_0x4962("0xad3")][_0x4962("0x336")]),this[_0x4962("0x25")][_0x4962("0x1401")]&&(d[_0x4962("0x15c")].y=this[_0x4962("0x25")][_0x4962("0x1401")]||0),l.lineType==esmap.ESLineType.ESARROW?d[_0x4962("0x18e")]=THREE[_0x4962("0x849")]:d[_0x4962("0x18e")]=THREE[_0x4962("0x575")],this[_0x4962("0x25")].url||(d.needsUpdate=!0);var h=l[_0x4962("0x161")]?l[_0x4962("0x160")]/2:l.lineWidth/16;this.radius=h;var g=l.up||e.up;this[_0x4962("0x1406")]=g,this[_0x4962("0x1407")]=e[_0x4962("0x1408")]||_[_0x4962("0x1408")],this[_0x4962("0x15f")]=l[_0x4962("0x15f")],this[_0x4962("0x186")]=0;var b=c[0][_0x4962("0x6a9")](c[c[_0x4962("0x0")]-1]),v=new(esmap[_0x4962("0x650")])({closed:b,radius:h,pathVertices:c,uvBaseLen:f,segments:_[_0x4962("0x6aa")]||12,up:g,notCenter:this.nocenter,lineMode:l[_0x4962("0x15f")],yScale:l[_0x4962("0x1230")],smooth:l[_0x4962("0xa40")],billboard:l[_0x4962("0x1231")]});this.length=v[_0x4962("0x0")]||0,d.wrapS=d[_0x4962("0x8a4")]=THREE[_0x4962("0x18f")],this[_0x4962("0x1409")]=Math.ceil(v[_0x4962("0x0")]/v[_0x4962("0x140a")]),isNaN(this[_0x4962("0x1409")])?d[_0x4962("0x15b")].x=1:d[_0x4962("0x15b")].x=this[_0x4962("0x1409")],d[_0x4962("0x15b")].y=1,this[_0x4962("0x25")].url||(d.needsUpdate=!0);var p=new(THREE[_0x4962("0x581")]);p[_0x4962("0x144")]=!0,p[_0x4962("0x145")]=null==l[_0x4962("0x145")]?1:l[_0x4962("0x145")],p[_0x4962("0x48")]=d,p[_0x4962("0x187")]=!0,p[_0x4962("0x17c")]=!1,this[_0x4962("0x17c")]=!1,p[_0x4962("0x16f")]=!0,l[_0x4962("0x16c")]&&(p.depthTest=!1),l[_0x4962("0x140b")]&&(p[_0x4962("0x16f")]=!1),this[_0x4962("0x25")][_0x4962("0x4d")]&&(p.color=(new THREE.Color)[_0x4962("0x277")](this.style.color));var m=this;this[_0x4962("0x25")][_0x4962("0xa43")]!==esmap[_0x4962("0x129")][_0x4962("0x10a8")]&&(p.onBeforeCompile=function(x){x.uniforms.passPercent={value:0},x[_0x4962("0x149")][_0x4962("0x140c")]={value:!1},x[_0x4962("0x149")][_0x4962("0x140d")]={value:!0},x[_0x4962("0x149")].sectionAlpha={value:0},x[_0x4962("0x149")][_0x4962("0x140e")]={value:0},x[_0x4962("0x14c")]=x[_0x4962("0x14c")][_0x4962("0x14d")](_0x4962("0x14e"),_0x4962("0x140f")),x.vertexShader=x[_0x4962("0x14c")].replace(_0x4962("0x150"),"\n                    #include <uv_vertex>\n                    nvUv = vec2(uv.x + texOffset, uv.y);\n                    "),x[_0x4962("0x152")]=x[_0x4962("0x152")].replace(_0x4962("0x1410"),_0x4962("0x1411")),x[_0x4962("0x152")]=x[_0x4962("0x152")].replace(_0x4962("0x155"),_0x4962("0x1412")),m.lineMaterialShader=x}),THREE[_0x4962("0x198")][_0x4962("0xf")](this,v,p),this[_0x4962("0x106")].copy(v[_0x4962("0x131")]),this[_0x4962("0x170")]=esmap[_0x4962("0x171")][_0x4962("0x172")],this[_0x4962("0x1413")](),this[_0x4962("0x25e")](_0x4962("0x228"),this[_0x4962("0xf5")]),this[_0x4962("0x10a5")]=this[_0x4962("0x165")][_0x4962("0xe")](this),this[_0x4962("0xf6")][_0x4962("0x15e")]=l.doubleSide?THREE[_0x4962("0x436")]:THREE[_0x4962("0x84d")],this.map.on(_0x4962("0x165"),this[_0x4962("0x10a5")]),this[_0x4962("0x1414")]=this[_0x4962("0x177")][_0x4962("0xe")](this);var A=this[_0x4962("0x48")].getBuildingById(this[_0x4962("0x130")]);if(A)if(l.hiddenByFloor&&(this.map.on(_0x4962("0x177"),this[_0x4962("0x1414")]),A.visibleFloorNums.indexOf(this.fnum)<0&&(this.visible=!1)),this[_0x4962("0x1416")]=A[_0x4962("0x2da")](this[_0x4962("0x132")]),this.building=A,this.style[_0x4962("0x314")]){var y=this[_0x4962("0x138")][0][_0x4962("0x130")],C=this[_0x4962("0x138")][1][_0x4962("0x130")],I=this[_0x4962("0x48")][_0x4962("0x139")](y),E=this[_0x4962("0x48")].getBuildingById(C);I&&I.on(_0x4962("0x13b"),(function(x){var _=x[_0x4962("0x132")],e=x[_0x4962("0xe3")];_==i[_0x4962("0x138")][0][_0x4962("0x132")]&&(i.points[0].y=e),i[_0x4962("0x13a")](i[_0x4962("0x138")])})),E&&E.on(_0x4962("0x13b"),(function(x){var _=x.fnum,e=x[_0x4962("0xe3")];_==i[_0x4962("0x138")][1][_0x4962("0x132")]&&(i[_0x4962("0x138")][1].y=e),i[_0x4962("0x13a")](i[_0x4962("0x138")])}))}else A.on(_0x4962("0x13b"),(function(x){var _=x[_0x4962("0x132")],e=x[_0x4962("0xe3")]-i[_0x4962("0x1416")];_==i[_0x4962("0x132")]&&(i.position.y=i.userData[_0x4962("0xa3f")]+e)}));else o[_0x4962("0x37")][_0x4962("0x1dc")]({msg:_0x4962("0x1415")+this[_0x4962("0x130")],level:"error"});var w=new(THREE[_0x4962("0x198")])(this[_0x4962("0xf4")],this[_0x4962("0xf6")]);w[_0x4962("0x170")]=esmap.ESRenderOrder[_0x4962("0x1417")],this[_0x4962("0xda")](w),this[_0x4962("0x1418")]=w,this[_0x4962("0x48")][_0x4962("0x3c")]===esmap[_0x4962("0x40")].City&&(w[_0x4962("0x170")]+=1)};l[_0x4962("0x1")]=(0,a[_0x4962("0xc")])(THREE[_0x4962("0x198")][_0x4962("0x1")],{height:{get:function(){return this[_0x4962("0x106")].y},set:function(x){this[_0x4962("0x106")].y=x}},color:{get:function(){return this[_0x4962("0x25")].color},set:function(x){_0x4962("0x18a")==typeof x&&(x=this[_0x4962("0x189")](x)),this[_0x4962("0xad3")][_0x4962("0x165")]({color:x}),this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x326")]&&(this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x187")]=!0)}},lineStyle:{get:function(){return this[_0x4962("0x25")]},set:function(x){this[_0x4962("0x190")](x)}},alpha:{get:function(){return this[_0x4962("0xf6")][_0x4962("0x145")]},set:function(x){this[_0x4962("0xf6")][_0x4962("0x145")]=x}},lineWidth:{get:function(){return this.style[_0x4962("0x160")]},set:function(x){this[_0x4962("0x190")]({lineWidth:x})}}}),(0,i[_0x4962("0xc")])(l[_0x4962("0x1")],{updateGeometry:function(x){var _=this.radius;if(this[_0x4962("0xf3")][0]){_=this[_0x4962("0xf4")][_0x4962("0x69c")],this[_0x4962("0xf3")][0][_0x4962("0xf4")][_0x4962("0xf5")](),this[_0x4962("0xf3")][0][_0x4962("0xf4")][_0x4962("0xe06")]=[],this[_0x4962("0xf3")][0][_0x4962("0xf4")][_0x4962("0x1419")]=!0,this[_0x4962("0xf3")][0][_0x4962("0xf4")].groupsNeedUpdate=!0,this[_0x4962("0xf4")][_0x4962("0xf5")](),this[_0x4962("0xf4")][_0x4962("0xe06")]=[],this[_0x4962("0xf4")].verticesNeedUpdate=!0,this[_0x4962("0x132")]=x[0][_0x4962("0x132")];var e=this[_0x4962("0x25")],t=x[_0x4962("0x48")]((function(x){var _=x[_0x4962("0x126")]();return _[_0x4962("0x132")]=x[_0x4962("0x132")],_[_0x4962("0x130")]=x.bid,_})),i=t[0][_0x4962("0x6a9")](t[t[_0x4962("0x0")]-1]),a=new(esmap[_0x4962("0x650")])({closed:i,radius:_,pathVertices:t,uvBaseLen:this.textureLength,segments:e.segments||12,up:this[_0x4962("0x1406")],notCenter:this[_0x4962("0x1407")],lineMode:this.lineMode,yScale:e.yScale,smooth:e[_0x4962("0xa40")],billboard:e[_0x4962("0x1231")]});this[_0x4962("0x0")]=a[_0x4962("0x0")],this[_0x4962("0x1409")]=Math[_0x4962("0xff")](a[_0x4962("0x0")]/a[_0x4962("0x140a")]),this.geometry=a,this[_0x4962("0xf4")][_0x4962("0x1419")]=!0,this.geometry[_0x4962("0x10c1")]=!0,this[_0x4962("0xf3")][0][_0x4962("0xf4")]=this[_0x4962("0xf4")],this[_0x4962("0xf3")][0].geometry.verticesNeedUpdate=!0,this.children[0][_0x4962("0xf4")][_0x4962("0x10c1")]=!0,this[_0x4962("0x106")][_0x4962("0x206")](a.center),this.position.y+=e[_0x4962("0x2a")],this[_0x4962("0x165")](0)}},_colorToStr:function(x){if("number"==typeof x){for(var _=x[_0x4962("0x18b")](16);_[_0x4962("0x0")]<6;)_="0"+_;return"#"+_}return x},getDashArrayByLineType:function(x){if(x instanceof Array)return x;switch(x){case esmap.ESLineType[_0x4962("0x10a8")]:return[1,0];case esmap[_0x4962("0x129")].DOTTED:return[1,1];case esmap[_0x4962("0x129")][_0x4962("0x141a")]:return[2.5,1,.5,1];case esmap[_0x4962("0x129")].CENTER:return[3,1,1.5,1];case esmap[_0x4962("0x129")][_0x4962("0x141b")]:return[2,1];case esmap[_0x4962("0x129")][_0x4962("0x141c")]:return[2.5,.5,.5,.5,.5,.5];case esmap.ESLineType[_0x4962("0x141d")]:return[2.5,.5,.5,.5,.5,.5,.5,.5];case esmap[_0x4962("0x129")][_0x4962("0x141e")]:return[5,0];case esmap.ESLineType.ESARROW:return[7,0]}},visibleFloorNumsChanged:function(x){var _=x.bid,e=x[_0x4962("0x191")];if(_==this[_0x4962("0x130")]){var t=this.fnum,i=!0;_0x4962("0x18a")==typeof t?-1==e[_0x4962("0xaf")](t)&&(i=!1):t instanceof Array&&t[_0x4962("0x20")]((function(x){-1==e[_0x4962("0xaf")](x)&&(i=!1)})),this[_0x4962("0x17c")]=i}},updateStyle:function(x){x.color&&_0x4962("0x18a")==typeof x[_0x4962("0x147")]&&(x[_0x4962("0x147")]=this[_0x4962("0x189")](x.color)),(0,i[_0x4962("0xc")])(this.style,x),this[_0x4962("0x25")][_0x4962("0x9d")]=_0x4962("0x141"),_0x4962("0x16a")!=this[_0x4962("0x25")][_0x4962("0xa43")]&&_0x4962("0x62c")!=this.style[_0x4962("0xa43")]||(this[_0x4962("0x25")][_0x4962("0x9d")]=this[_0x4962("0x25")][_0x4962("0xa43")]),x[_0x4962("0xa43")]&&!x[_0x4962("0x158")]&&(this[_0x4962("0x25")][_0x4962("0x158")]=this.getDashArrayByLineType(x[_0x4962("0xa43")])),delete this[_0x4962("0x25")].height,this[_0x4962("0xad3")][_0x4962("0x165")](this[_0x4962("0x25")]),this[_0x4962("0x1413")](),this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x326")]&&(this.material[_0x4962("0x48")][_0x4962("0x187")]=!0,this[_0x4962("0x159")]=this[_0x4962("0x25")][_0x4962("0x158")].reduce((function(x,_){return x+_})),this[_0x4962("0x480")]&&this[_0x4962("0x480")][_0x4962("0x0")]>0&&this.brothers[_0x4962("0x20")]((function(_){_[_0x4962("0x190")](x)})))},_updateMaterialByNaviMap:function(){if(!this.style[_0x4962("0x4d")]){var x=this[_0x4962("0xad3")].materialInfo;this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15c")].y=x.offset,this[_0x4962("0xf6")].side=(0,s[_0x4962("0x14")])(x,_0x4962("0x15e"),0)}},_firstUpdate:!0,update:function(x){if(this[_0x4962("0xf6")]&&this.material[_0x4962("0x48")]){this[_0x4962("0x48")].options.naviLineAnimation&&!this.style[_0x4962("0x17d")]&&(this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15c")].x-=x*(this.style[_0x4962("0xb53")][_0x4962("0x2db")]||this.style[_0x4962("0x184")]||1));var _,e=this[_0x4962("0x48")][_0x4962("0x1c6")];e[_0x4962("0x669")],this[_0x4962("0x13fe")];this[_0x4962("0xf6")]&&this[_0x4962("0xf6")].map&&(this.lineMaterialShader&&this[_0x4962("0xf4")][_0x4962("0x0")]>0&&(this[_0x4962("0x13fa")]&&(this[_0x4962("0x13f9")][_0x4962("0x13f8")]?(this[_0x4962("0x157")].uniforms[_0x4962("0x140c")][_0x4962("0xe3")]=!0,this[_0x4962("0x157")][_0x4962("0x149")][_0x4962("0x141f")][_0x4962("0xe3")]=this.shaderConfigs[_0x4962("0x13f8")][_0x4962("0x12e")],this[_0x4962("0x157")][_0x4962("0x149")][_0x4962("0x140e")][_0x4962("0xe3")]=this[_0x4962("0x13f9")].splitAlpha[_0x4962("0x1420")]?1:0):this[_0x4962("0x13f9")][_0x4962("0x1421")],this[_0x4962("0x13fa")]=!1),this[_0x4962("0x157")][_0x4962("0x149")][_0x4962("0x186")][_0x4962("0xe3")]=this[_0x4962("0x186")]),this[_0x4962("0xf6")].map[_0x4962("0x326")]&&(this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x187")]=!0),this[_0x4962("0xf6")].needsUpdate=!0),_=esmap[_0x4962("0x8c")][_0x4962("0x169")](this.map),this[_0x4962("0x25")][_0x4962("0xa4c")]&&0!=e.h_&&(this.fixedWidth&&this.geometry[_0x4962("0xad8")](_*this.style.lineWidth*.7),this._billboard(),this.initUpdated||(this[_0x4962("0x1422")]=!0,this[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0x15b")].x=this[_0x4962("0xf4")][_0x4962("0x0")]*this[_0x4962("0x25")].repeat/(this[_0x4962("0x159")]*_*7*1)),this.material&&this[_0x4962("0x48")].zoomLevel<=this[_0x4962("0x25")].minRepeatLevel&&this[_0x4962("0x25")][_0x4962("0x13ff")]&&(this[_0x4962("0xf6")].map[_0x4962("0x15b")].x=this[_0x4962("0xf4")][_0x4962("0x0")]*this.style[_0x4962("0x15b")]/(this.textureLength*_*7*1)))}},_upVec:new(THREE[_0x4962("0x12c")])(0,1,0),_zVec:new(THREE[_0x4962("0x12c")])(0,0,1),_billboard:function(){if(this.style[_0x4962("0x1231")]&&2==this[_0x4962("0xf4")][_0x4962("0x1423")][_0x4962("0x0")]){var x=this[_0x4962("0xf4")][_0x4962("0x1423")],_=x[1].clone()[_0x4962("0x52d")](x[0]).normalize(),e=_[_0x4962("0x907")](this[_0x4962("0x1424")]),i=(0,t[_0x4962("0xc")])(e)*this.map[_0x4962("0x260")].constraint[_0x4962("0x2d3")]();this.quaternion.setFromAxisAngle(_,i)}},alwaysShow:esmap[_0x4962("0x27c")].alwaysShow,picked:function(){},dispose:function(){this[_0x4962("0x480")]&&this[_0x4962("0x480")][_0x4962("0x0")]>0&&this[_0x4962("0x480")][_0x4962("0x20")]((function(x){x.dispose()})),this.map[_0x4962("0x6b")](_0x4962("0x165"),this[_0x4962("0x10a5")]),this[_0x4962("0x48")].off("visibleFloorNumsChanged",this[_0x4962("0x1414")]),this[_0x4962("0x17b")]&&this[_0x4962("0x17b")][_0x4962("0x197")](this),this.map[_0x4962("0x194")].clearByUUID(this[_0x4962("0x195")]),this[_0x4962("0x1418")]=null;var x=this[_0x4962("0xf3")][0];x&&(x.material&&(x[_0x4962("0xf6")][_0x4962("0x48")]&&(x[_0x4962("0xf6")][_0x4962("0x48")][_0x4962("0xf5")](),x[_0x4962("0xf6")].map=null),x[_0x4962("0xf6")][_0x4962("0xf5")](),x[_0x4962("0xf6")]=void 0),x[_0x4962("0xf4")]&&(x[_0x4962("0xf4")].dispose(),x[_0x4962("0xf4")]=void 0),this[_0x4962("0xf3")][0]=null),this[_0x4962("0xf4")]&&(this.geometry[_0x4962("0xf5")](),this[_0x4962("0xf4")]=void 0),this[_0x4962("0xf6")]&&(this.material[_0x4962("0x48")]&&(this[_0x4962("0xf6")].map[_0x4962("0xf5")](),this.material.map=null),this[_0x4962("0xf6")][_0x4962("0xf5")](),this[_0x4962("0xf6")]=void 0)}}),_[_0x4962("0xc")]=l},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t,i=e(2),a=(t=i)&&t.__esModule?t:{default:t},n=e(19);var r=function(x){(0,a[_0x4962("0xc")])(this,{type:_0x4962("0x141"),width:128,height:128,color:_0x4962("0x1425"),arrowHeightPercent:.4,arrowWidthPercent:.7,arrowPercent:.1,lineType:null,dashArray:[2,1],godHeightPercent:.5,godEdgePercent:.2,godArrowPercent:.3,godColor:_0x4962("0x1426"),godEdgeColor:_0x4962("0x1427"),godArrowColor:_0x4962("0x1428"),godArrowXScale:.6,godArrowWidthPercent:.07},x),this[_0x4962("0x1429")]={offset:0},this[_0x4962("0x99a")]=document[_0x4962("0x24")](_0x4962("0x336")).getContext("2d"),this[_0x4962("0x165")]()};r.prototype={constructor:r,get canvas(){return this.ctx.canvas},update:function(x){var _=this;switch((0,a.default)(_,x),_._doColor(),_[_0x4962("0x99a")][_0x4962("0x336")][_0x4962("0x1ce")]=_[_0x4962("0x1ce")],_[_0x4962("0x99a")][_0x4962("0x336")].height=_[_0x4962("0x1a4")],_[_0x4962("0x9d")]){case _0x4962("0x141"):_[_0x4962("0x142a")]();break;case"arrow":_[_0x4962("0x142b")]();break;case _0x4962("0x62c"):_._drawGodArrow()}},_doColor:function(){var x=this;[_0x4962("0x147"),_0x4962("0x142c"),"godEdgeColor","godArrowColor"][_0x4962("0x20")]((function(_){_0x4962("0x18a")==typeof x[_]&&(x[_]=esmap[_0x4962("0x64e")][_0x4962("0x1")][_0x4962("0x189")](x[_]))}))},_setMaterialInfo:function(){this.materialInfo.offset=(0,n.getValues)(arguments,0,0),this.materialInfo[_0x4962("0x15e")]=(0,n[_0x4962("0x14")])(arguments,1,0)},_drawNormal:function(){var x=this,_=x[_0x4962("0x158")].reduce((function(x,_){return x+_})),e=0;x.dashArray[_0x4962("0x20")]((function(t,i){i%2==0&&(x.ctx.fillStyle=x[_0x4962("0x147")],x[_0x4962("0x99a")][_0x4962("0x9b3")](e/_*x[_0x4962("0x1ce")],0,t/_*x[_0x4962("0x1ce")],x.height)),e+=t})),x._setMaterialInfo(0)},_drawArrow:function(){var x=this,_=(1-x[_0x4962("0x142d")])*x[_0x4962("0x1a4")]/2,e=x[_0x4962("0x1a4")]*x[_0x4962("0x142d")];x.ctx[_0x4962("0x34f")](),x[_0x4962("0x99a")][_0x4962("0x331")](0,_);var t=x[_0x4962("0x1ce")]*(x[_0x4962("0x142e")]-x[_0x4962("0x142f")]);x.ctx[_0x4962("0x564")](t,_),x[_0x4962("0x99a")][_0x4962("0x564")](x[_0x4962("0x1ce")]*x[_0x4962("0x142e")],_+e/2),x[_0x4962("0x99a")][_0x4962("0x564")](t,_+e),x[_0x4962("0x99a")][_0x4962("0x564")](0,_+e),x[_0x4962("0x99a")][_0x4962("0x564")](x[_0x4962("0x1ce")]*x[_0x4962("0x142f")],_+e/2),x[_0x4962("0x99a")][_0x4962("0xa9a")](),x[_0x4962("0x99a")][_0x4962("0x343")]=x[_0x4962("0x147")],x[_0x4962("0x99a")][_0x4962("0x47b")](),x[_0x4962("0x1430")](-.25,2)},_drawGodArrow:function(){var x=this;x[_0x4962("0x99a")].fillStyle=x.godEdgeColor,x[_0x4962("0x99a")][_0x4962("0x9b3")](0,(1-x[_0x4962("0x1431")])*x.height/2,x[_0x4962("0x1ce")],x[_0x4962("0x1431")]*x[_0x4962("0x1a4")]),x[_0x4962("0x99a")].fillStyle=x[_0x4962("0x147")];var _=(1-x[_0x4962("0x1431")]+x[_0x4962("0x1432")])*x.height/2,e=(x[_0x4962("0x1431")]-x[_0x4962("0x1432")])*x[_0x4962("0x1a4")];x[_0x4962("0x99a")][_0x4962("0x9b3")](0,_,x[_0x4962("0x1ce")],e),x[_0x4962("0x99a")][_0x4962("0x343")]=_0x4962("0x1433"),x[_0x4962("0x99a")].shadowOffsetX=-2,x[_0x4962("0x99a")][_0x4962("0x348")]=2,x.ctx[_0x4962("0x345")]=4,x.ctx[_0x4962("0x346")]="rgba(0,0,0,0.5)";var t=x[_0x4962("0x1ce")]/2,i=x[_0x4962("0x1a4")]/2,a=x[_0x4962("0x1ce")]*x[_0x4962("0x1434")],n=x[_0x4962("0x1ce")]*x[_0x4962("0x1435")],r=x[_0x4962("0x1ce")]*(x[_0x4962("0x1434")]-x[_0x4962("0x1435")])*x[_0x4962("0x1436")],s=t-a/2*x.godArrowXScale,o=i-a/2;x.ctx[_0x4962("0x34f")](),x[_0x4962("0x99a")][_0x4962("0x331")](s,o),x[_0x4962("0x99a")][_0x4962("0x564")](s+n,o),x[_0x4962("0x99a")][_0x4962("0x564")](s+n+r,o+a/2),x.ctx[_0x4962("0x564")](s+n,o+a),x[_0x4962("0x99a")].lineTo(s,o+a),x.ctx[_0x4962("0x564")](s+r,o+a/2),x[_0x4962("0x99a")].closePath(),x[_0x4962("0x99a")][_0x4962("0x343")]=x[_0x4962("0x1437")],x[_0x4962("0x99a")][_0x4962("0x47b")](),x._setMaterialInfo(-.25,2)}},_[_0x4962("0xc")]=r},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=c(e(2)),i=c(e(5)),a=c(e(0)),n=c(e(1)),r=c(e(10)),s=c(e(11)),o=e(19);function c(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function l(x){for(var _,e=x[_0x4962("0x135a")],t=[],i=2*Math.PI/x[_0x4962("0x6aa")],a=0;a<x.segments;a++){var n=new(THREE[_0x4962("0x12c")])(0,x[_0x4962("0x69c")]*x[_0x4962("0x1230")]*Math[_0x4962("0x66d")](i*a),x.radius*Math[_0x4962("0x6bc")](i*a));t[_0x4962("0x3")](n),0==a&&(_=n)}t.push(_);var r,s,o,c,l=x[_0x4962("0x1423")][_0x4962("0x0")],d=function(x){for(var _=0,e=x[0].clone(),t=1;t<x.length;t++)_+=x[t][_0x4962("0x23a")](x[t-1]),e.add(x[t]);return{length:_,center:e[_0x4962("0x127")](x[_0x4962("0x0")])}}(x.pathVertices);x[_0x4962("0x0")]=d[_0x4962("0x0")],x.center=d[_0x4962("0x131")],x[_0x4962("0x1408")]||function(x,_){x[_0x4962("0x20")]((function(x){x[_0x4962("0x52d")](_)}))}(x[_0x4962("0x1423")],x.center),x[_0x4962("0x1438")]=2*Math.PI*x.radius;var h,g=0,b=0,v=x[_0x4962("0x1438")]/x[_0x4962("0x6aa")];x._uvs=[],u=x.up[_0x4962("0x126")](),x._up_=null;for(a=0;a<l;a++){var p=a;r=0==a?null:x[_0x4962("0x1423")][a-1],o=a==l-1?null:x.pathVertices[a+1],s=x[_0x4962("0x1423")][a],e&&(o=a==l-1?x[_0x4962("0x1423")][1]:o),c=f(r,s,o),x[_0x4962("0x1439")]||(x._up_=new(THREE[_0x4962("0x12c")])(0,1,0)[_0x4962("0x2b7")](c)[_0x4962("0x30e")]()),a>0&&(g+=s.distanceTo(r)),b=0,x[_0x4962("0x143a")][p]=[],s[_0x4962("0x126")]().y=0;for(var m=0;m<t[_0x4962("0x0")];m++){h=t[m].clone()[_0x4962("0x2b7")](c),x.vertices.push(h),x[_0x4962("0x143a")][p].push(h);var A=(g+0)/x[_0x4962("0x0")],y=1-b/x[_0x4962("0x1438")],C=Math[_0x4962("0x300")](A,y);C>x.maxUvVal&&(x.maxUvVal=C),x[_0x4962("0x143b")][_0x4962("0x3")](new(THREE[_0x4962("0x568")])(A,y)),b+=v}}}function f(x,_,e){var t,i=x&&x[_0x4962("0x126")](),a=_[_0x4962("0x126")](),n=e&&e[_0x4962("0x126")](),r=1,s=null;if(x)if(e){var o=a[_0x4962("0x126")]().sub(i).normalize(),c=n[_0x4962("0x52d")](a)[_0x4962("0x30e")]();s=o[_0x4962("0x22d")](c)/2,r=1/Math.cos(s),r=THREE[_0x4962("0x20e")][_0x4962("0x985")](r,1,2),t=o.add(c)[_0x4962("0x30e")]()}else t=a[_0x4962("0x52d")](i)[_0x4962("0x30e")]();else t=n[_0x4962("0x52d")](a).normalize();var l=new(THREE[_0x4962("0x12c")])(0,0,1),f=u[_0x4962("0x126")](),d=(new(THREE[_0x4962("0x12c")]))[_0x4962("0x901")](t,f)[_0x4962("0x30e")]();0==d[_0x4962("0x0")]()&&(f=l,d=(new THREE.Vector3)[_0x4962("0x901")](t,f)[_0x4962("0x30e")]());var h=(new THREE.Vector3).crossVectors(d,t)[_0x4962("0x30e")]();u=h[_0x4962("0x126")](),d[_0x4962("0x250")](r);var g=(new THREE.Matrix4).makeBasis(t,h,d)[_0x4962("0x22c")](_);return g[_0x4962("0x234")]=s,g.vz=d,g}var d=function(x){!x[_0x4962("0x1423")]||x[_0x4962("0x1423")].length<2||(l(x),function(x){var _=x[_0x4962("0x135a")],e=1;_&&(e=2);for(var t,i=x.pathVertices.length,a=x[_0x4962("0x6aa")]+1,n=0;n<i-e;n++){t=n*a;for(var r=0;r<a-1;r++)x[_0x4962("0x143c")].push(new THREE.Face3(t+r+1,t+r,t+a+r)),x[_0x4962("0x143c")].push(new(THREE[_0x4962("0x143d")])(t+r+1,t+r+a,t+a+r+1))}if(_)for(var s=0;s<a-1;s++){var o=(i-2)*a;x.faces[_0x4962("0x3")](new(THREE[_0x4962("0x143d")])(o+s+1,o+s,s)),x[_0x4962("0x143c")].push(new(THREE[_0x4962("0x143d")])(o+s+1,s,s+1))}}(x),function(x){for(var _=x[_0x4962("0x143c")][_0x4962("0x0")],e=0;e<_;e++){var t=x[_0x4962("0x143c")][e];x[_0x4962("0x10c0")][0][_0x4962("0x3")]([x[_0x4962("0x143b")][t.a],x[_0x4962("0x143b")][t.b],x[_0x4962("0x143b")][t.c]])}x[_0x4962("0x143e")]=!0}(x),x[_0x4962("0x143f")]())},u=null,h=function(x){function _(x){(0,a.default)(this,_);var e=(0,r[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,i[_0x4962("0xc")])(_)).call(this)),n=e;return n[_0x4962("0x1423")]=null,n[_0x4962("0x14b")]=0,n[_0x4962("0x69c")]=1,n[_0x4962("0x6aa")]=12,n[_0x4962("0x140a")]=1,(0,t.default)(n,x),n[_0x4962("0x135a")]=!1,n.yScale||(n.lineMode==esmap[_0x4962("0x1402")][_0x4962("0x1404")]?n.yScale=.3:n.lineMode==esmap[_0x4962("0x1402")][_0x4962("0x1403")]&&(n[_0x4962("0x1230")]=1)),n[_0x4962("0xa40")]=(0,o[_0x4962("0x14")])(n,_0x4962("0xa40"),!0),n.up||(n.up=new THREE.Vector3(0,1,0)),e._uvs=[],e[_0x4962("0x143a")]=[],d(n),e}return(0,s[_0x4962("0xc")])(_,x),(0,n[_0x4962("0xc")])(_,[{key:_0x4962("0xad8"),value:function(x){for(var _,e=this[_0x4962("0x135a")],t=this,i=0,a=t[_0x4962("0x143a")],n=1,r=0;r<a[_0x4962("0x0")];r++){var s=a[r],o=t[_0x4962("0x1423")][r];if(e&&(0===r?s=a[a[_0x4962("0x0")]-1]:r===a[_0x4962("0x0")]-1&&(s=a[0])),o)for(var c=0;c<s[_0x4962("0x0")];c++){var l=s[c];0==c&&1!=t[_0x4962("0x1230")]&&(_=s[0][_0x4962("0x126")]()[_0x4962("0x52d")](o)[_0x4962("0x0")]()),1!=t[_0x4962("0x1230")]&&(n=l[_0x4962("0x126")]()[_0x4962("0x52d")](o).length()/_);var f=o.clone()[_0x4962("0xda")](l[_0x4962("0x126")]()[_0x4962("0x52d")](o)[_0x4962("0x30e")]()[_0x4962("0x250")](x*n));t.vertices[i][_0x4962("0x206")](f),i++}}x<.1&&(x=.1),t[_0x4962("0x69c")]=x,t.verticesNeedUpdate=!0,this.radius=x}}]),_}(THREE[_0x4962("0x1440")]);_[_0x4962("0xc")]=h},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=g(e(6)),i=g(e(2)),a=g(e(5)),n=g(e(0)),r=g(e(1)),s=g(e(10)),o=g(e(11)),c=e(19),l=function(x){if(x&&x[_0x4962("0xa")])return x;var _={};if(null!=x)for(var e in x)Object[_0x4962("0x1")][_0x4962("0x2")][_0x4962("0xf")](x,e)&&(_[e]=x[e]);return _[_0x4962("0xc")]=x,_}(e(392)),f=e(383),d=g(e(82)),u=e(83),h=e(4);function g(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var b=function(x){function _(x){(0,n[_0x4962("0xc")])(this,_);var e=(0,s.default)(this,(_[_0x4962("0x1e2")]||(0,a[_0x4962("0xc")])(_))[_0x4962("0xf")](this,esmap.ESNodeType.CARD_MARKER,{},new(THREE[_0x4962("0x198")])));return e.inited=!1,e[_0x4962("0x1441")]=!1,e.init(x),e}return(0,o.default)(_,x),(0,r.default)(_,[{key:_0x4962("0x31b"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{};isNaN(x)||(x={value:x});var _=x[_0x4962("0xe3")],e=null==x[_0x4962("0x1a5")]?1:x[_0x4962("0x1a5")];new(esmap[_0x4962("0x1a6")].Tween)(this[_0x4962("0xf2")].scale).to({x:_,y:_},1e3*e)[_0x4962("0x1a9")](esmap[_0x4962("0x1a6")][_0x4962("0x1aa")][_0x4962("0x1ab")][_0x4962("0x1af")]).start()}},{key:"toImage",value:function(){var x=this,_=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:{quality:1,delay:0},e=this[_0x4962("0x3b")];setTimeout((function(){l[_0x4962("0x1442")](x.domElement,_).then((function(x){var _=document[_0x4962("0x24")]("a"),t=(0,c[_0x4962("0x1e")])(x);document[_0x4962("0x74a")](_0x4962("0x74b"))[_0x4962("0x74c")]("click",!0,!0),_.download=e[_0x4962("0x107")],_.href=URL[_0x4962("0x89d")](t),_[_0x4962("0xa51")]()}))}),_[_0x4962("0x1a3")])}},{key:_0x4962("0x31f"),value:function(x){var _=this,e=this[_0x4962("0x3b")],a=e[_0x4962("0x10e7")];if(a){var n=(0,i[_0x4962("0xc")])({},a,x);this[_0x4962("0x3b")][_0x4962("0x10e7")]=n,(0,u.createTexture)({image:e.url,text:e[_0x4962("0x327")],textStyle:e[_0x4962("0xc39")],imageStyle:e[_0x4962("0x10e7")]})[_0x4962("0x2dd")]((function(x){var i=x[_0x4962("0x702")];(0,t[_0x4962("0xc")])(e[_0x4962("0xdd")])==_0x4962("0x9")?_[_0x4962("0x1443")](i,{width:e[_0x4962("0xdd")].w,height:e[_0x4962("0xdd")].h}):_[_0x4962("0x1443")](i)}))}}},{key:"updateTextStyle",value:function(x){var _=this,e=this[_0x4962("0x3b")],a=e.textStyle;if(a){var n=(0,i[_0x4962("0xc")])({},a,x);this[_0x4962("0x3b")][_0x4962("0xc39")]=n,(0,u.createTexture)({image:e[_0x4962("0x4d")],text:e.text,textStyle:e[_0x4962("0xc39")],imageStyle:e[_0x4962("0x10e7")]})[_0x4962("0x2dd")]((function(x){var i=x[_0x4962("0x702")];(0,t.default)(e[_0x4962("0xdd")])==_0x4962("0x9")?_.createCard(i,{width:e[_0x4962("0xdd")].w,height:e.size.h}):_[_0x4962("0x1443")](i)}))}}},{key:_0x4962("0x39"),value:function(x){var _=this,e=null,a=esmap[_0x4962("0x33")][_0x4962("0x3a")][_0x4962("0x3c")]==esmap[_0x4962("0x40")][_0x4962("0x3b8")]?20:12;for(var n in x)null==x[n]&&delete x[n];var r=(0,i[_0x4962("0xc")])({id:(0,c[_0x4962("0x1f")])(8),name:_0x4962("0x61a"),url:null,dom:null,data:{},x:null,y:null,angle:null,videoStyle:{autoplay:!0,loop:!0,muted:!0},textStyle:null,imageStyle:null,center:{x:.5,y:0},text:"",template:null,opacity:1,lookAt:!0,pickable:!0,isUseMipmap:!1,showLevel:a},x),s=(0,h[_0x4962("0x14")])(x,_0x4962("0x1ef"),"onCreated",_0x4962("0x1b3"),null),o=(0,h[_0x4962("0x14")])(x,_0x4962("0x2a"),"height",0),d=(0,h.getValues)(x,_0x4962("0x1fe"),"size",30);r[_0x4962("0xdd")]=d,r.height=o,r.callback=s,this[_0x4962("0x3b")]=r;var g=r[_0x4962("0x311")];if(this[_0x4962("0x311")]=g,r.url||r[_0x4962("0x327")])if(r[_0x4962("0x4d")]){var b=(0,f[_0x4962("0x1444")])(r[_0x4962("0x4d")]);if(b===_0x4962("0x326"))(0,u[_0x4962("0x15a")])({image:r[_0x4962("0x4d")],text:r.text,textStyle:r[_0x4962("0xc39")],imageStyle:r.imageStyle})[_0x4962("0x2dd")]((function(x){var e=x[_0x4962("0x702")];(0,t.default)(r[_0x4962("0xdd")])==_0x4962("0x9")?_[_0x4962("0x1443")](e,{width:r[_0x4962("0xdd")].w,height:r[_0x4962("0xdd")].h}):_[_0x4962("0x1443")](e)}));else if("video"===b){var v=document[_0x4962("0x24")]("video");v[_0x4962("0x7ba")]="anonymous",v[_0x4962("0x4ee")]=r[_0x4962("0x4d")],v[_0x4962("0x1445")]=r[_0x4962("0x1446")][_0x4962("0x1445")],v[_0x4962("0x28d")]=r.videoStyle[_0x4962("0x28d")],v[_0x4962("0x1447")]=r[_0x4962("0x1446")][_0x4962("0x1447")],v[_0x4962("0x25e")](_0x4962("0x1448"),(function(x){var e=v[_0x4962("0x1449")],t=v[_0x4962("0x144a")],i=new(THREE[_0x4962("0x144b")])(v);i.minFilter=THREE[_0x4962("0x362")],i[_0x4962("0x8a2")]=THREE.LinearFilter,i[_0x4962("0x144c")]=THREE[_0x4962("0x85f")],i.image[_0x4962("0x1ce")]=e,i[_0x4962("0x326")].height=t,_.createCard(i,{width:e,height:t}),_[_0x4962("0x48")].on(_0x4962("0x165"),(function(){i.needsUpdate=!0}));document[_0x4962("0x27")].addEventListener("click",(function x(){v[_0x4962("0x29e")](),document[_0x4962("0x27")].removeEventListener("click",x)}))}))}else console[_0x4962("0xe0")](_0x4962("0x144d"))}else(0,u[_0x4962("0x15a")])({image:null,text:r.text,textStyle:r[_0x4962("0xc39")]})[_0x4962("0x2dd")]((function(x){var e=x[_0x4962("0x702")];_[_0x4962("0x1443")](e,{width:e[_0x4962("0x326")][_0x4962("0x1ce")],height:e[_0x4962("0x326")].height},!0)}));else if(r[_0x4962("0x103e")])setTimeout((function(){_.domElement=r[_0x4962("0x103e")],l.toCanvas(r[_0x4962("0x103e")])[_0x4962("0x2dd")]((function(x){var e=new THREE.Texture(x);_[_0x4962("0x1443")](e)}))[_0x4962("0x880")]((function(x){console[_0x4962("0x223")](x)}))}),0);else if(r[_0x4962("0x144e")]){var p=document[_0x4962("0x24")]("div");p.style[_0x4962("0x106")]="absolute",p[_0x4962("0x25")].left="-9999px",p[_0x4962("0x1355")](_0x4962("0x1356"),r.template),document[_0x4962("0x27")][_0x4962("0x28")](p),e=p[_0x4962("0xf3")][0],setTimeout((function(){_[_0x4962("0x1c8")]=e,l.toCanvas(e,{})[_0x4962("0x2dd")]((function(x){var e=new(THREE[_0x4962("0x368")])(x);_[_0x4962("0x1443")](e)}))}),0)}}},{key:_0x4962("0x1443"),value:function(x,_,e){var i=!1;if(this[_0x4962("0xf2")]){if(!this.inited){i=!0;var a=esmap.ESMap[_0x4962("0x3a")],n=this[_0x4962("0x3b")],r=x[_0x4962("0x326")],s=n[_0x4962("0x131")],o=_?_.width/_[_0x4962("0x1a4")]:r[_0x4962("0x1ce")]/r.height,c=new(THREE[_0x4962("0x71e")])(1,1/o);_&&e&&(c=new THREE.PlaneBufferGeometry(_.width*n.size/100,_[_0x4962("0x1a4")]*n[_0x4962("0xdd")]/100)),c[_0x4962("0x181")](0,c[_0x4962("0x105")][_0x4962("0x106")][_0x4962("0x182")],0);var l=new(THREE[_0x4962("0x581")])({transparent:!0,side:2});l[_0x4962("0x145")]=n[_0x4962("0x145")];var f=this.o3d_;if(f.geometry=c,f.material=l,f[_0x4962("0x170")]=esmap.ESRenderOrder[_0x4962("0x61a")],n[_0x4962("0x147")]&&f[_0x4962("0xf6")].color[_0x4962("0x277")](n.color),!n[_0x4962("0x144f")]){var d=(new(THREE[_0x4962("0x2ef")]))[_0x4962("0x2f4")](f),u=(d.max.y-d.min.y)*(.5-s.y),g=(d[_0x4962("0x300")].x-d[_0x4962("0x301")].x)*(.5-s.x);f.geometry[_0x4962("0x106e")](g,u,0)}if(null!=n[_0x4962("0x234")])if((0,t[_0x4962("0xc")])(n[_0x4962("0x234")])===_0x4962("0x9")){var b={x:(0,h[_0x4962("0x14")])(n.angle,"x",0)*THREE[_0x4962("0x20e")][_0x4962("0x599")],y:(0,h[_0x4962("0x14")])(n.angle,"z",180)*THREE[_0x4962("0x20e")][_0x4962("0x599")],z:(0,h.getValues)(n.angle,"y",0)*THREE[_0x4962("0x20e")][_0x4962("0x599")]},v=(new(THREE[_0x4962("0x200")]))[_0x4962("0x201")](new(THREE[_0x4962("0x241")])(b.x,b.y,b.z,_0x4962("0x202")));f[_0x4962("0x205")][_0x4962("0x206")](v)}else f[_0x4962("0x210")].y=n[_0x4962("0x234")]*THREE[_0x4962("0x20e")][_0x4962("0x599")];else n[_0x4962("0x240")]||(f[_0x4962("0x210")].y=Math.PI);var p=a.coordMapToThree({x:n.x,y:n.y});p.y=n[_0x4962("0x1a4")],f[_0x4962("0x106")][_0x4962("0x206")](p),f.datas_=this,f[_0x4962("0x3f7")]=_0x4962("0x10fa"),this[_0x4962("0x3b")].pickable&&a.mapPicker[_0x4962("0x3f0")](f),e||(typeof n[_0x4962("0xdd")]==_0x4962("0x18a")?f[_0x4962("0x1fe")].set(n.size,n[_0x4962("0xdd")],1):f[_0x4962("0x1fe")][_0x4962("0xd8")](n.size.w,n.size.w,1)),n[_0x4962("0x240")]&&a.on("update",(function(){f[_0x4962("0x240")](a.currentCamera.position)})),n[_0x4962("0x333")]&&this[_0x4962("0x333")](n[_0x4962("0x333")]),this[_0x4962("0xa26")]=!0}this.options[_0x4962("0x1450")]?(x[_0x4962("0x18e")]=THREE[_0x4962("0x849")],x.generateMipmaps=!0):x[_0x4962("0x18e")]=THREE.LinearFilter,this.o3d_[_0x4962("0xf6")].map=x,this[_0x4962("0xf2")][_0x4962("0xf6")].map[_0x4962("0x187")]=!0,i&&this.options[_0x4962("0x1b3")]&&this[_0x4962("0x3b")].callback(this)}}},{key:_0x4962("0x48"),get:function(){return esmap[_0x4962("0x33")][_0x4962("0x3a")]}},{key:"ID",get:function(){return this.options.id}},{key:"name",get:function(){return this[_0x4962("0x3b")][_0x4962("0x107")]}},{key:"mapCoord",get:function(){return{x:this[_0x4962("0x3b")].x,y:this[_0x4962("0x3b")].y}}},{key:_0x4962("0x313"),get:function(){return this[_0x4962("0x3b")].height}},{key:"floor",get:function(){return this.o3d_[_0x4962("0x17b")][_0x4962("0x17b")].datas_}},{key:_0x4962("0x16c"),set:function(x){this[_0x4962("0xf2")][_0x4962("0xf6")][_0x4962("0x16d")]=!x}},{key:_0x4962("0x2d9"),get:function(){return this[_0x4962("0x31")].FloorNum}},{key:_0x4962("0x4d"),get:function(){return this[_0x4962("0x3b")][_0x4962("0x4d")]},set:function(x){var _=this;this[_0x4962("0x3b")][_0x4962("0x4d")]=x,esmap.ESMapUtil[_0x4962("0x611")](x,(function(x){_[_0x4962("0x1443")](x)}))}}]),_}(d[_0x4962("0xc")]);_.default=b},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x1444")]=function(x){return x[_0x4962("0x2a8")](/\.(jpeg|jpg|gif|png)$/)?_0x4962("0x326"):x.match(/\.(mp4|mpeg|mpg|avi|wmv)$/)?_0x4962("0x1454"):_0x4962("0x1455")},_[_0x4962("0x1451")]=o,_[_0x4962("0x1452")]=c,_.getExternalResources=function(x,_){if(!x)return[];var e=x;Array[_0x4962("0x123")](x)||(e=[x]);for(var t=[],i=Symbolizer.resourceProperties,a=void 0,n=void 0,r=void 0,o=void 0,f=e[_0x4962("0x0")]-1;f>=0;f--)if(x=e[f]){_&&(x=l(x));for(var d=0;d<i.length;d++)if(a=x[i[d]],isFunctionDefinition(a)&&(a=getFunctionTypeResources(a)),a){Array.isArray(a)||(a=[a]);for(var u=0;u<a[_0x4962("0x0")];u++)a[u][_0x4962("0x1e7")](0,4)===_0x4962("0x146e")&&(a[u]=(0,s[_0x4962("0x146f")])(a[u])),n=Symbolizer[_0x4962("0x1470")][d],t.push([a[u],x[n[0]],x[n[1]]])}if(x[_0x4962("0x1471")]===_0x4962("0x2c1")&&x[_0x4962("0x145e")])if(r=isFunctionDefinition(x.markerWidth)?200:x[_0x4962("0x1472")],o=isFunctionDefinition(x.markerHeight)?200:x[_0x4962("0x1473")],isFunctionDefinition(x.markerPath)){a=getFunctionTypeResources(x[_0x4962("0x145e")]);for(var h=x[_0x4962("0x145e")],g=0;g<a[_0x4962("0x0")];g++)x[_0x4962("0x145e")]=a[g],t[_0x4962("0x3")]([c(x),r,o]);x[_0x4962("0x145e")]=h}else t[_0x4962("0x3")]([c(x),r,o])}return t},_[_0x4962("0x1453")]=l;var t,i=e(77),a=e(144),n=(t=a)&&t[_0x4962("0xa")]?t:{default:t},r=e(4),s=e(384);function o(x){var _={stroke:{stroke:x.markerLineColor,"stroke-width":x[_0x4962("0x1456")],"stroke-opacity":x[_0x4962("0x1457")],"stroke-dasharray":null,"stroke-linecap":_0x4962("0x1458"),"stroke-linejoin":_0x4962("0x36c")},fill:{fill:x[_0x4962("0x1459")],"fill-opacity":x.markerFillOpacity}};return _[_0x4962("0x350")]["stroke-linecap"]===_0x4962("0x1458")&&n[_0x4962("0xc")].vml&&(_[_0x4962("0x350")][_0x4962("0x145a")]=_0x4962("0x145b")),0===_[_0x4962("0x350")][_0x4962("0x145c")]&&(_[_0x4962("0x350")][_0x4962("0x145d")]=0),_}function c(x,_,e){if(!x[_0x4962("0x145e")])return null;var t=1,i=o(x);(0,r[_0x4962("0x10b0")])(x[_0x4962("0x145f")])&&(t=x[_0x4962("0x145f")]),(0,r[_0x4962("0x10b0")])(x[_0x4962("0x145")])&&(t*=x[_0x4962("0x145")]);var a={};if(i){for(var n in i[_0x4962("0x350")])i[_0x4962("0x350")][_0x4962("0x2")](n)&&((0,r[_0x4962("0x375")])(i[_0x4962("0x350")][n])||(a[n]=i[_0x4962("0x350")][n]));for(var c in i[_0x4962("0x47b")])i[_0x4962("0x47b")][_0x4962("0x2")](c)&&((0,r.isNil)(i[_0x4962("0x47b")][c])||(a[c]=i[_0x4962("0x47b")][c]))}for(var l=Array[_0x4962("0x123")](x[_0x4962("0x145e")])?x[_0x4962("0x145e")]:[x[_0x4962("0x145e")]],f=void 0,d=[],u=0;u<l[_0x4962("0x0")];u++)f=(0,r[_0x4962("0x36d")])(l[u])?{path:l[u]}:l[u],(f=(0,r[_0x4962("0x526")])({},f,a)).d=f.path,delete f.path,d[_0x4962("0x3")](f);var h=[_0x4962("0x1460"),_0x4962("0x1461")];t<1&&h[_0x4962("0x3")](_0x4962("0x1462")+t+'"'),x[_0x4962("0x1463")]&&x[_0x4962("0x1464")]&&h[_0x4962("0x3")](_0x4962("0x1465")+x[_0x4962("0x1463")]+" "+x[_0x4962("0x1464")]+'"'),h[_0x4962("0x3")](_0x4962("0x1466")),_&&h.push(_0x4962("0x1467")+_+'"'),e&&h[_0x4962("0x3")](_0x4962("0x1468")+e+'"'),h[_0x4962("0x3")](_0x4962("0x1469"));for(var g=0;g<d[_0x4962("0x0")];g++){var b=_0x4962("0x146a");for(var v in d[g])d[g][_0x4962("0x2")](v)&&(b+=" "+v+'="'+d[g][v]+'"');b+=_0x4962("0x146b"),h[_0x4962("0x3")](b)}return h[_0x4962("0x3")](_0x4962("0x146c")),_0x4962("0xcf0")+(0,s[_0x4962("0x146d")])(h.join(" "))}function l(x){if(!x)return null;var _=x;if(i.IS_NODE)return _;for(var e=Symbolizer[_0x4962("0x1474")],t=void 0,a=0,n=e[_0x4962("0x0")];a<n;a++)(t=_[e[a]])&&(_[e[a]]=f(t));return _}function f(x){if(isFunctionDefinition(x)){for(var _=x[_0x4962("0x1475")],e=0;e<_[_0x4962("0x0")];e++)_[e][1]=f(_[e][1]);return x}var t=_0x4962("0x1476");return x[_0x4962("0x1e7")](0,4)===_0x4962("0x146e")&&(x=(0,s[_0x4962("0x146f")])(x)),!(0,s[_0x4962("0x1477")])(x)&&(x[_0x4962("0x0")]<=t[_0x4962("0x0")]||x.substring(0,t[_0x4962("0x0")])!==t)&&(x=function(x,_){var e=x[_0x4962("0x2d")]("/"),t=_[_0x4962("0x2d")]("/");if(0===_.slice(0,1))return e[_0x4962("0x1e7")](0,3)[_0x4962("0x32")]("/")+_;e[_0x4962("0xdf")]();for(var i=0;i<t[_0x4962("0x0")];i++)"."!==t[i]&&(".."===t[i]?e[_0x4962("0xdf")]():e[_0x4962("0x3")](t[i]));return e.join("/")}(location[_0x4962("0x116")],x)),x}},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0}),_[_0x4962("0x1478")]=_.GUID=_[_0x4962("0x1479")]=_[_0x4962("0x147a")]=void 0;var t,i=e(61),a=(t=i)&&t[_0x4962("0xa")]?t:{default:t};_[_0x4962("0x147b")]=function(x){var _=_0x4962("0x1488");if(x[_0x4962("0x0")]>4&&x[_0x4962("0x1e7")](-4)===_0x4962("0x1489"))return 1;if(x[_0x4962("0x1e7")](0,_[_0x4962("0x0")])===_)return 2;return 0},_[_0x4962("0x147c")]=function x(_,e){if(n.IS_NODE&&x.node)return void x.node(_,e);_[_0x4962("0x4ee")]=e[0]},_.UID=l,_[_0x4962("0x147d")]=function(x){if(!x||!(0,r[_0x4962("0x36d")])(x))return x;return JSON[_0x4962("0x71")](x)},_[_0x4962("0x147e")]=function(x,_){for(var e=0,t=_.length;e<t;e++)x[_0x4962("0x3")](_[e]);return x.length},_[_0x4962("0x147f")]=function(x,_){var e=_[_0x4962("0xaf")](x);e>-1&&_.splice(e,1)},_[_0x4962("0x1480")]=function x(_,e,t){if(!Array[_0x4962("0x123")](_))return t?e[_0x4962("0xf")](t,_):e(_);for(var i=[],a=void 0,n=void 0,s=0,o=_[_0x4962("0x0")];s<o;s++)a=_[s],(0,r[_0x4962("0x375")])(a)?i[_0x4962("0x3")](null):Array[_0x4962("0x123")](a)?i[_0x4962("0x3")](x(a,e,t)):(n=t?e[_0x4962("0xf")](t,a):e(a),i.push(n));return i},_[_0x4962("0x1481")]=function(x,_){return void 0===x?_:x},_[_0x4962("0x1482")]=function(x){if(a[_0x4962("0xc")])return(0,a[_0x4962("0xc")])(x);if(0===(x=+x)||isNaN(x))return Number(x);return x>0?1:-1},_.interpolate=function(x,_,e){return x*(1-e)+_*e},_.wrap=function(x,_,e){var t=e-_,i=((x-_)%t+t)%t+_;return i===_?e:i},_[_0x4962("0x985")]=function(x,_,e){return Math[_0x4962("0x301")](e,Math[_0x4962("0x300")](_,x))},_[_0x4962("0x1483")]=function(x){return Array[_0x4962("0x123")](x)&&x.length>0},_[_0x4962("0x1477")]=function(x){if(!x)return!1;var _=x.slice(0,6);if(_===_0x4962("0x148a")||_===_0x4962("0x148b")||_===_0x4962("0x148c"))return!0;return!1},_.isCssUrl=u,_[_0x4962("0x146f")]=function(x){var _=u(x);if(3===_)return x;return 1===_?d[_0x4962("0x148d")](x)[1]:2===_?f[_0x4962("0x148d")](x)[2]:x},_.btoa=function(x){if(typeof window!==_0x4962("0x21")&&window[_0x4962("0x146d")])return window[_0x4962("0x146d")](x);for(var _,e,t=String(x),i="",a=0,n=h;t[_0x4962("0x47a")](0|a)||(n="=",a%1);i+=n[_0x4962("0x47a")](63&_>>8-a%1*8)){if((e=t[_0x4962("0x30")](a+=3/4))>255)throw new Error(_0x4962("0x148f"));_=_<<8|e}return i},_[_0x4962("0x1484")]=function(x,_){var e=_.x-x.x,t=_.y-x.y;return Math.atan2(t,e)},_.equalMapView=function(x,_){if(!x&&!_)return!0;if(!x||!_)return!1;for(var e in x)if(e===_0x4962("0x131")){if(!_[e]||!g(x[e][0],_[e][0])||!g(x[e][1],_[e][1]))return!1}else if(x[e]!==_[e])return!1;return!0},_[_0x4962("0x24b")]=function(x,_,e,t){x||(x=100);_||(_=4);var i=this;_*=2,this[_0x4962("0x1491")]&&clearTimeout(this[_0x4962("0x1491")]);return this[_0x4962("0x1491")]=setTimeout((function a(){if(0===_)return i.show(),void(e&&(t?e[_0x4962("0xf")](t):e()));_%2==0?i[_0x4962("0x24f")]():i[_0x4962("0x24e")]();_--,i._flashTimeout=setTimeout(a,x)}),x),this};var n=e(77),r=e(4);var s=void 0,o=void 0;!function(){if(n[_0x4962("0x1dd")])return _[_0x4962("0x147a")]=s=function(x){return setTimeout(x,16)},void(_.cancelAnimFrame=o=clearTimeout);var x=void 0,e=void 0;function t(x){return setTimeout(x,33.333333333333336)}function i(x){return window["webkit"+x]||window[_0x4962("0xb95")+x]||window["ms"+x]}"undefined"!=typeof window?(x=window[_0x4962("0x1485")]||i(_0x4962("0x1486"))||t,e=window[_0x4962("0xb86")]||i(_0x4962("0x1487"))||i("CancelRequestAnimationFrame")||function(x){window[_0x4962("0x267")](x)}):(x=t,e=clearTimeout),_.requestAnimFrame=s=function(_){return x(_)},_[_0x4962("0x1479")]=o=function(x){x&&e(x)}}(),_[_0x4962("0x147a")]=s,_[_0x4962("0x1479")]=o;var c=0;function l(){return c++}_.GUID=l;var f=/^url\((['"])(.+)\1\)$/i,d=/^url\(([^'"].*[^'"])\)$/i;function u(x){if(!(0,r[_0x4962("0x36d")])(x))return 0;var _=x.slice(0,6);return _===_0x4962("0x148a")||_===_0x4962("0x148b")?3:d[_0x4962("0x2c")](x)?1:f[_0x4962("0x2c")](x)?2:0}var h=_0x4962("0x148e");_[_0x4962("0x1478")]=_0x4962("0x1490");function g(x,_,e){return null==e&&(e=1e-6),x>=_-e&&x<=_+e}},function(x,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var t=s(e(5)),i=s(e(0)),a=s(e(1)),n=s(e(10)),r=s(e(11));function s(x){return x&&x.__esModule?x:{default:x}}var o=function(x){function _(x){return(0,i[_0x4962("0xc")])(this,_),(0,n[_0x4962("0xc")])(this,(_[_0x4962("0x1e2")]||(0,t[_0x4962("0xc")])(_))[_0x4962("0xf")](this,x))}return(0,r[_0x4962("0xc")])(_,x),(0,a[_0x4962("0xc")])(_,[{key:_0x4962("0x165"),value:function(){this[_0x4962("0x187")]=!0}}]),_}(THREE[_0x4962("0x368")]);_[_0x4962("0xc")]=o},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}e(387);var n=void 0,r=void 0,s=function(){function x(_){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x3b")]=_,this[_0x4962("0x1492")]=[],this[_0x4962("0x48")]=esmap[_0x4962("0x33")].instance,this[_0x4962("0x364")]=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x364")],this.scene=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x2e6")],this.slider=[],this.init()}return(0,i.default)(x,[{key:_0x4962("0x39"),value:function(){for(var x=this,_=this,e=_[_0x4962("0x3b")][_0x4962("0x182")],t=0;t<e;++t){var i=_[_0x4962("0x3b")].viewsSettings[t];_.views[_0x4962("0x3")](i);var a=document[_0x4962("0x24")](_0x4962("0x1cd"));if(a[_0x4962("0x4fc")]=_0x4962("0x1493")+t,a.style.position=_0x4962("0xd3d"),"horizontal"===_[_0x4962("0x3b")][_0x4962("0x9d")]){var n=Math[_0x4962("0x31")](1/e*window[_0x4962("0x971")]),r=window.innerHeight;a.style[_0x4962("0x35e")]=t*n+"px",a[_0x4962("0x25")][_0x4962("0x35d")]="0px",a[_0x4962("0x25")][_0x4962("0x1ce")]=n+"px",a[_0x4962("0x25")].height=r+"px",a.style.zIndex="999",a[_0x4962("0x25")][_0x4962("0x1349")]=_0x4962("0x1494"),i[_0x4962("0x35e")]=t*n/window[_0x4962("0x971")],i[_0x4962("0x35d")]=0,i[_0x4962("0x1ce")]=1/e,i[_0x4962("0x1a4")]=1,t>0&&_[_0x4962("0x1495")]({top:0,left:t*n,type:_0x4962("0x1496")})}else if(_.options[_0x4962("0x9d")]===_0x4962("0x1497")){var s=window[_0x4962("0x971")],o=Math[_0x4962("0x31")](1/e*window.innerHeight);a[_0x4962("0x25")][_0x4962("0x35e")]="0px",a[_0x4962("0x25")][_0x4962("0x35d")]=window[_0x4962("0xbaf")]-(t+1)*o+"px",a.style[_0x4962("0x1ce")]=s+"px",a[_0x4962("0x25")][_0x4962("0x1a4")]=o+"px",i.left=0,i[_0x4962("0x35d")]=1-(t+1)*o/window[_0x4962("0xbaf")],i[_0x4962("0x1ce")]=1,i[_0x4962("0x1a4")]=1/e,t>0&&_[_0x4962("0x1495")]({top:t*o,left:0,type:_0x4962("0x1497")})}if(a[_0x4962("0x25")][_0x4962("0x1349")]=_0x4962("0x1498"),document.body.appendChild(a),i[_0x4962("0x1499")]=a,0===t){var c=_[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")][_0x4962("0x126")]();_[_0x4962("0x48")][_0x4962("0x3b")][_0x4962("0x3c")]===esmap[_0x4962("0x40")][_0x4962("0x41")]?(_[_0x4962("0x1492")][t][_0x4962("0x260")]=new(ESTileMap[_0x4962("0x149a")])(esmap[_0x4962("0x6b0")].tileMapView,_[_0x4962("0x1492")][t][_0x4962("0x1499")],_[_0x4962("0x48")]),esmap[_0x4962("0x6b0")][_0x4962("0xd83")][_0x4962("0x669")][_0x4962("0x149b")][_0x4962("0x260")]=_.views[t][_0x4962("0x260")],_.map[_0x4962("0xb8e")](_[_0x4962("0x1492")][t][_0x4962("0x260")])):_[_0x4962("0x1492")][t][_0x4962("0x260")]=new(_[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x260")].constructor)(c,_[_0x4962("0x1492")][t][_0x4962("0x1499")]);var l=this[_0x4962("0x48")][_0x4962("0x237")](i.cameraPosition);c[_0x4962("0x106")][_0x4962("0x206")](l),_[_0x4962("0x1492")][t][_0x4962("0x669")]=c,c[_0x4962("0x107")]="view1",_[_0x4962("0x48")][_0x4962("0x1c6")]._originCamera=_[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")],_.map[_0x4962("0x1c6")][_0x4962("0x669")]=c,_[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")].cam2control=_[_0x4962("0x48")].mapView[_0x4962("0x149c")].cam2control,_[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")].userData=_.map[_0x4962("0x1c6")]._originCamera[_0x4962("0x166")]}else{var f=_[_0x4962("0x48")].mapView[_0x4962("0x669")][_0x4962("0x126")]();_[_0x4962("0x1492")][t].controls=new(_[_0x4962("0x48")][_0x4962("0x1c6")].controls[_0x4962("0x604")])(f,_[_0x4962("0x1492")][t][_0x4962("0x1499")]);var d=this[_0x4962("0x48")][_0x4962("0x237")](i.cameraPosition);f[_0x4962("0x106")][_0x4962("0x206")](d),i[_0x4962("0x669")]=f,_[_0x4962("0x1492")][t].camera=f}}this[_0x4962("0x20a")](),this[_0x4962("0x48")][_0x4962("0x1c6")].showMultiView=!0,this[_0x4962("0x48")].on(_0x4962("0x165"),this[_0x4962("0xbd8")][_0x4962("0xe")](this)),document[_0x4962("0x25e")](_0x4962("0x98f"),(function(_){"Escape"===_[_0x4962("0x686")]&&x[_0x4962("0x786")]()}))}},{key:_0x4962("0x20a"),value:function(){for(var x=this,_=function(_){var e=x[_0x4962("0x1492")][_];e[_0x4962("0x1499")].addEventListener("mouseup",(function(_){x[_0x4962("0x11c1")](_,e)})),e[_0x4962("0x1499")].addEventListener(_0x4962("0xbf9"),(function(_){x[_0x4962("0x11c1")](_,e)})),e[_0x4962("0x1499")][_0x4962("0x25e")](_0x4962("0x98b"),(function(_){x[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0xbfc")](_)})),e.layout[_0x4962("0x25e")]("touchstart",(function(_){x[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0xbfc")](_)})),e.layout[_0x4962("0x25e")](_0x4962("0x98e"),(function(_){x[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0xc21")](_)})),e[_0x4962("0x1499")][_0x4962("0x25e")]("touchmove",(function(_){x.map.mapPicker[_0x4962("0xc21")](_)}))},e=0;e<x.views[_0x4962("0x0")];e++)_(e)}},{key:_0x4962("0x11c1"),value:function(x,_){var e=new(THREE[_0x4962("0x568")]),t=(x.clientX-_[_0x4962("0x149d")].left)/_[_0x4962("0x149d")][_0x4962("0x1ce")]*2-1,i=-(x[_0x4962("0x950")]-_.rect[_0x4962("0x35c")])/_.rect[_0x4962("0x1a4")]*2+1;e.x=t,e.y=i,this.map.mapPicker[_0x4962("0x165")](!1,{mouse:e,camera:_[_0x4962("0x669")]}),this[_0x4962("0x48")][_0x4962("0x194")][_0x4962("0x11c1")](x)}},{key:"createSlider",value:function(x){var _=x[_0x4962("0x35c")],e=x[_0x4962("0x35e")],t=x[_0x4962("0x9d")],i=this,a=document.createElement(_0x4962("0x1cd"));this[_0x4962("0x149e")][_0x4962("0x3")](a),a[_0x4962("0x4fc")]=_0x4962("0x149e");var n="horizontal"===t?e/window.innerWidth:_/window[_0x4962("0xbaf")];if(a[_0x4962("0x25")][_0x4962("0x106")]=_0x4962("0xd3d"),a.style[_0x4962("0x1ce")]=_0x4962("horizontal"===t?"0x149f":"0x1cf"),a[_0x4962("0x25")].height=t===_0x4962("0x1496")?"100%":"12px",a[_0x4962("0x25")].zIndex="1000",a[_0x4962("0x25")][_0x4962("0x35c")]=_+"px",a[_0x4962("0x25")].left=e+"px",a.style[_0x4962("0x4d7")]=_0x4962("0x500")+(t===_0x4962("0x1496")?_0x4962("0x14a0"):"0")+", "+(t===_0x4962("0x1496")?"0":_0x4962("0x14a0"))+")",a.style.background=_0x4962("0x14a1"),a[_0x4962("0x25")][_0x4962("0x1152")]=i[_0x4962("0x3b")][_0x4962("0x14a2")]?_0x4962("0x14a3"):"default",document.body[_0x4962("0x28")](a),i.options.drag){var r=document.createElement(_0x4962("0x1cd"));r.style[_0x4962("0x106")]="absolute",r[_0x4962("0x25")].width=t===_0x4962("0x1496")?_0x4962("0xd3a"):_0x4962("0x14a4"),r.style[_0x4962("0x1a4")]=t===_0x4962("0x1496")?_0x4962("0x14a4"):"4px",r.style[_0x4962("0xd39")]=_0x4962("0x11d1"),r[_0x4962("0x25")][_0x4962("0x1349")]=_0x4962("0x14a5"),r.style[_0x4962("0x35e")]="50%",r[_0x4962("0x25")].top=_0x4962("0x14a6"),r[_0x4962("0x25")].transform=_0x4962("0x14a7"),a[_0x4962("0x28")](r)}function s(){i[_0x4962("0x1492")].map((function(x){return x.controls.enabled=!0})),window[_0x4962("0x2a1")]("pointermove",o),window[_0x4962("0x2a1")]("pointerup",s)}function o(x){!1!==x[_0x4962("0x14a8")]&&(t===_0x4962("0x1496")?(n=Math[_0x4962("0x301")](Math[_0x4962("0x300")]((x[_0x4962("0x951")]-20)/window.innerWidth,.1),.9),a[_0x4962("0x25")].left=n*window.innerWidth+"px"):t===_0x4962("0x1497")&&(n=Math[_0x4962("0x301")](Math[_0x4962("0x300")]((x[_0x4962("0x950")]-20)/window[_0x4962("0xbaf")],.1),.9),a[_0x4962("0x25")].top=n*window[_0x4962("0xbaf")]+"px"),i[_0x4962("0x1492")][_0x4962("0x48")]((function(x,_){t===_0x4962("0x1496")?(x[_0x4962("0x1ce")]=0===_?n:1-n,x.left=0===_?0:n):"vertical"===t&&(x[_0x4962("0x1a4")]=(0===_?n:1-n)[_0x4962("0x65f")](5),x[_0x4962("0x35d")]=(0===_?1-n:0)[_0x4962("0x65f")](5))})))}i.options[_0x4962("0x14a2")]&&a[_0x4962("0x25e")](_0x4962("0x949"),(function(x){!1!==x[_0x4962("0x14a8")]&&(i[_0x4962("0x1492")].map((function(x){return x[_0x4962("0x260")].enabled=!1})),window[_0x4962("0x25e")]("pointermove",o),window[_0x4962("0x25e")]("pointerup",s))}))}},{key:_0x4962("0xa4c"),value:function(){n==window[_0x4962("0x971")]&&r==window.innerHeight||(n=window[_0x4962("0x971")],r=window[_0x4962("0xbaf")],this.renderer[_0x4962("0x31b")](n,r))}},{key:_0x4962("0xbd8"),value:function(){this[_0x4962("0xa4c")]();for(var x=this[_0x4962("0x3b")][_0x4962("0x9d")],_=0;_<this[_0x4962("0x1492")].length;_++){var e=this[_0x4962("0x1492")][_],t=e.camera;e.controls[_0x4962("0x165")]();var i=Math[_0x4962("0x31")](n*e[_0x4962("0x35e")]),a=Math[_0x4962("0x31")](r*e[_0x4962("0x35d")]),s=Math[_0x4962("0x31")](n*e[_0x4962("0x1ce")]),o=Math[_0x4962("0x31")](r*e[_0x4962("0x1a4")]);e[_0x4962("0x1499")][_0x4962("0x25")][_0x4962("0x35e")]=i+"px",e[_0x4962("0x1499")].style[_0x4962("0x35d")]=a+"px",e[_0x4962("0x1499")][_0x4962("0x25")][_0x4962("0x1ce")]=s+"px",e.layout[_0x4962("0x25")][_0x4962("0x1a4")]=o+"px","horizontal"===x?(e[_0x4962("0x149d")]={bottom:(1-e.bottom)*e.height*r,left:e.left*window[_0x4962("0x971")],top:(1-e[_0x4962("0x1a4")]-e.bottom)*window[_0x4962("0x971")],right:-1*(e.width-e[_0x4962("0x35e")]-1)*window[_0x4962("0x971")],width:s,height:o},this[_0x4962("0x364")][_0x4962("0x14a9")](i,a,s,o),this[_0x4962("0x364")].setScissor(i,a,s,o),this[_0x4962("0x364")][_0x4962("0x14aa")](!0)):"vertical"===x&&(e[_0x4962("0x149d")]={bottom:(1-e[_0x4962("0x1a4")]-e[_0x4962("0x35d")])*r,left:e.left*window[_0x4962("0x971")],top:(1-e[_0x4962("0x35d")])*e[_0x4962("0x1a4")]*r,right:-1*(e[_0x4962("0x1ce")]-e.left-1)*window[_0x4962("0x971")],width:s,height:o},this[_0x4962("0x364")].setViewport(i,a,s,o),this.renderer[_0x4962("0x14ab")](i,a,s,o),this[_0x4962("0x364")][_0x4962("0x14aa")](!0)),t[_0x4962("0x670")]=s/o,t.updateProjectionMatrix(),this[_0x4962("0x364")].render(this[_0x4962("0x2e6")],t)}}},{key:_0x4962("0x786"),value:function(){for(var x=0;x<this[_0x4962("0x1492")][_0x4962("0x0")];x++){this[_0x4962("0x1492")][x].layout[_0x4962("0x197")]()}this[_0x4962("0x48")].off(_0x4962("0x165"),this[_0x4962("0xbd8")][_0x4962("0xe")](this)),this.slider.map((function(x){return x[_0x4962("0x197")]()})),this[_0x4962("0x364")][_0x4962("0x14aa")](!1),this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0xba4")]=!1,this[_0x4962("0x364")][_0x4962("0x31b")](window[_0x4962("0x971")],window[_0x4962("0xbaf")]),this.map[_0x4962("0x3ec")][_0x4962("0x670")]=window[_0x4962("0x971")]/window[_0x4962("0xbaf")],this.map[_0x4962("0x3ec")][_0x4962("0x92f")](),this.map[_0x4962("0x1c6")].enabled=!0,this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x669")]=this[_0x4962("0x48")][_0x4962("0x1c6")][_0x4962("0x149c")],this.map.mapView[_0x4962("0x669")][_0x4962("0xbb1")]=this[_0x4962("0x48")].mapView[_0x4962("0x149c")][_0x4962("0xbb1")],this.views=[]}}]),x}();_[_0x4962("0xc")]=s},function(x,_,e){"use strict";var t=a(e(60)),i=a(e(22));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}THREE[_0x4962("0x14ac")]=function(x,_){var e,t,i,a,n;this[_0x4962("0x9")]=x,this[_0x4962("0x1c8")]=void 0!==_?_:document,this[_0x4962("0x710")]=!0,this.target=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x2b1")]=0,this.maxDistance=1/0,this[_0x4962("0xc70")]=0,this[_0x4962("0xc71")]=1/0,this[_0x4962("0xb66")]=0,this[_0x4962("0xb5d")]=Math.PI,this[_0x4962("0xc6a")]=-1/0,this[_0x4962("0xc4f")]=1/0,this.enableDamping=!1,this[_0x4962("0xc51")]=.25,this[_0x4962("0xc52")]=!0,this.zoomSpeed=1,this[_0x4962("0xc54")]=!0,this[_0x4962("0xc73")]=1,this[_0x4962("0xc56")]=!0,this.panSpeed=1,this.screenSpacePanning=!1,this[_0x4962("0xc59")]=7,this[_0x4962("0xc65")]=!1,this[_0x4962("0xc5a")]=2,this[_0x4962("0xc82")]=!0,this[_0x4962("0xaf3")]={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this[_0x4962("0xb80")]={LEFT:THREE.MOUSE[_0x4962("0xb83")],MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE[_0x4962("0xb81")][_0x4962("0xb82")]},this[_0x4962("0xc5d")]=this[_0x4962("0x2c5")][_0x4962("0x126")](),this[_0x4962("0xc61")]=this[_0x4962("0x9")][_0x4962("0x106")][_0x4962("0x126")](),this[_0x4962("0xc5e")]=this[_0x4962("0x9")][_0x4962("0x66a")],this[_0x4962("0x32f")]=function(){return u[_0x4962("0x962")]},this[_0x4962("0x2d3")]=function(){return u[_0x4962("0x963")]},this[_0x4962("0xc60")]=function(){r.target0[_0x4962("0x206")](r[_0x4962("0x2c5")]),r.position0[_0x4962("0x206")](r.object[_0x4962("0x106")]),r.zoom0=r[_0x4962("0x9")][_0x4962("0x66a")]},this[_0x4962("0x29a")]=function(){r[_0x4962("0x2c5")][_0x4962("0x206")](r.target0),r[_0x4962("0x9")][_0x4962("0x106")].copy(r[_0x4962("0xc61")]),r[_0x4962("0x9")][_0x4962("0x66a")]=r[_0x4962("0xc5e")],r[_0x4962("0x9")][_0x4962("0x92f")](),r[_0x4962("0x44")](s),r[_0x4962("0x165")](),f=l[_0x4962("0xc62")]},this[_0x4962("0x165")]=(e=new(THREE[_0x4962("0x12c")]),t=(new(THREE[_0x4962("0x200")]))[_0x4962("0xc63")](x.up,new(THREE[_0x4962("0x12c")])(0,1,0)),i=t[_0x4962("0x126")]()[_0x4962("0x535")](),a=new THREE.Vector3,n=new(THREE[_0x4962("0x200")]),function(){var x=r[_0x4962("0x9")][_0x4962("0x106")];return e[_0x4962("0x206")](x)[_0x4962("0x52d")](r[_0x4962("0x2c5")]),e[_0x4962("0x20d")](t),u.setFromVector3(e),r[_0x4962("0xc65")]&&f===l[_0x4962("0xc62")]&&M(2*Math.PI/60/60*r.autoRotateSpeed),u[_0x4962("0x963")]+=h[_0x4962("0x963")],u.phi+=h[_0x4962("0x962")],u[_0x4962("0x963")]=Math.max(r[_0x4962("0xc6a")],Math[_0x4962("0x301")](r[_0x4962("0xc4f")],u[_0x4962("0x963")])),u[_0x4962("0x962")]=Math.max(r[_0x4962("0xb66")],Math[_0x4962("0x301")](r[_0x4962("0xb5d")],u[_0x4962("0x962")])),u[_0x4962("0xc6b")](),u[_0x4962("0x69c")]*=g,u[_0x4962("0x69c")]=Math[_0x4962("0x300")](r[_0x4962("0x2b1")],Math[_0x4962("0x301")](r[_0x4962("0x2b0")],u[_0x4962("0x69c")])),r[_0x4962("0x2c5")][_0x4962("0xda")](b),e[_0x4962("0xc6c")](u),e[_0x4962("0x20d")](i),x[_0x4962("0x206")](r[_0x4962("0x2c5")])[_0x4962("0xda")](e),r[_0x4962("0x9")][_0x4962("0x240")](r.target),!0===r.enableDamping?(h[_0x4962("0x963")]*=1-r[_0x4962("0xc51")],h[_0x4962("0x962")]*=1-r[_0x4962("0xc51")],b[_0x4962("0x250")](1-r[_0x4962("0xc51")])):(h[_0x4962("0xd8")](0,0,0),b[_0x4962("0xd8")](0,0,0)),g=1,!!(v||a[_0x4962("0x74e")](r[_0x4962("0x9")][_0x4962("0x106")])>d||8*(1-n[_0x4962("0x907")](r[_0x4962("0x9")][_0x4962("0x205")]))>d)&&(r[_0x4962("0x44")](s),a[_0x4962("0x206")](r[_0x4962("0x9")].position),n[_0x4962("0x206")](r[_0x4962("0x9")][_0x4962("0x205")]),v=!1,!0)}),this[_0x4962("0xf5")]=function(){r[_0x4962("0x1c8")][_0x4962("0x2a1")]("contextmenu",X,!1),r[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0x98b"),z,!1),r[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0xc6d"),j,!1),r[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0x1183"),Z,!1),r.domElement.removeEventListener(_0x4962("0xbf9"),G,!1),r[_0x4962("0x1c8")][_0x4962("0x2a1")](_0x4962("0xbfd"),W,!1),document[_0x4962("0x2a1")](_0x4962("0x98e"),U,!1),document[_0x4962("0x2a1")](_0x4962("0xbf8"),V,!1),window[_0x4962("0x2a1")](_0x4962("0x98f"),Y,!1)};var r=this,s={type:_0x4962("0xb90")},o={type:_0x4962("0x1b1")},c={type:_0x4962("0x308")},l={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},f=l[_0x4962("0xc62")],d=1e-6,u=new(THREE[_0x4962("0xc6e")]),h=new(THREE[_0x4962("0xc6e")]),g=1,b=new(THREE[_0x4962("0x12c")]),v=!1,p=new(THREE[_0x4962("0x568")]),m=new THREE.Vector2,A=new(THREE[_0x4962("0x568")]),y=new THREE.Vector2,C=new THREE.Vector2,I=new(THREE[_0x4962("0x568")]),E=new(THREE[_0x4962("0x568")]),w=new(THREE[_0x4962("0x568")]),T=new(THREE[_0x4962("0x568")]);function k(){return Math[_0x4962("0xf7")](.95,r[_0x4962("0xc53")])}function M(x){h[_0x4962("0x963")]-=x}function S(x){h.phi-=x}var R,L,H,D=(R=new(THREE[_0x4962("0x12c")]),function(x,_){R[_0x4962("0xc6f")](_,0),R[_0x4962("0x250")](-x),b[_0x4962("0xda")](R)}),O=(L=new(THREE[_0x4962("0x12c")]),function(x,_){!0===r[_0x4962("0xc58")]?L[_0x4962("0xc6f")](_,1):(L.setFromMatrixColumn(_,0),L[_0x4962("0x901")](r[_0x4962("0x9")].up,L)),L.multiplyScalar(x),b.add(L)}),P=(H=new(THREE[_0x4962("0x12c")]),function(x,_){var e=r[_0x4962("0x1c8")]===document?r[_0x4962("0x1c8")][_0x4962("0x27")]:r[_0x4962("0x1c8")];if(r.object[_0x4962("0x930")]){var t=r[_0x4962("0x9")][_0x4962("0x106")];H[_0x4962("0x206")](t).sub(r.target);var i=H.length();i*=Math[_0x4962("0x671")](r.object[_0x4962("0x66e")]/2*Math.PI/180),D(2*x*i/e[_0x4962("0x503")],r[_0x4962("0x9")][_0x4962("0x22b")]),O(2*_*i/e[_0x4962("0x503")],r[_0x4962("0x9")][_0x4962("0x22b")])}else r[_0x4962("0x9")].isOrthographicCamera?(D(x*(r[_0x4962("0x9")][_0x4962("0x361")]-r[_0x4962("0x9")].left)/r[_0x4962("0x9")].zoom/e[_0x4962("0x548")],r[_0x4962("0x9")][_0x4962("0x22b")]),O(_*(r[_0x4962("0x9")][_0x4962("0x35c")]-r[_0x4962("0x9")][_0x4962("0x35d")])/r[_0x4962("0x9")][_0x4962("0x66a")]/e[_0x4962("0x503")],r[_0x4962("0x9")][_0x4962("0x22b")])):(_0x4962("0x14ad"),r[_0x4962("0xc56")]=!1)});function N(x){r[_0x4962("0x9")][_0x4962("0x930")]?g/=x:r[_0x4962("0x9")][_0x4962("0xc67")]?(r.object[_0x4962("0x66a")]=Math[_0x4962("0x300")](r[_0x4962("0xc70")],Math[_0x4962("0x301")](r[_0x4962("0xc71")],r[_0x4962("0x9")].zoom*x)),r[_0x4962("0x9")].updateProjectionMatrix(),v=!0):(_0x4962("0x14ae"),r[_0x4962("0xc52")]=!1)}function F(x){r.object.isPerspectiveCamera?g*=x:r.object.isOrthographicCamera?(r[_0x4962("0x9")][_0x4962("0x66a")]=Math.max(r.minZoom,Math.min(r[_0x4962("0xc71")],r[_0x4962("0x9")][_0x4962("0x66a")]/x)),r[_0x4962("0x9")][_0x4962("0x92f")](),v=!0):(console[_0x4962("0x44a")](_0x4962("0x14ae")),r[_0x4962("0xc52")]=!1)}function B(x){y[_0x4962("0xd8")](x.clientX,x[_0x4962("0x950")])}function z(x){if(!1!==r[_0x4962("0x710")]){switch(x[_0x4962("0x4c9")](),r[_0x4962("0x1c8")][_0x4962("0x973")]?r[_0x4962("0x1c8")][_0x4962("0x973")]():window[_0x4962("0x973")](),x[_0x4962("0x974")]){case r[_0x4962("0xb80")][_0x4962("0xb83")]:if(x[_0x4962("0x14af")]||x[_0x4962("0x14b0")]||x[_0x4962("0x14b1")]){if(!1===r[_0x4962("0xc56")])return;B(x),f=l[_0x4962("0xc7b")]}else{if(!1===r[_0x4962("0xc54")])return;e=x,p[_0x4962("0xd8")](e[_0x4962("0x951")],e[_0x4962("0x950")]),f=l[_0x4962("0xc77")]}break;case r.mouseButtons[_0x4962("0xb92")]:if(!1===r[_0x4962("0xc52")])return;_=x,E[_0x4962("0xd8")](_[_0x4962("0x951")],_.clientY),f=l[_0x4962("0xc7a")];break;case r[_0x4962("0xb80")][_0x4962("0xb82")]:if(!1===r[_0x4962("0xc56")])return;B(x),f=l[_0x4962("0xc7b")]}var _,e;f!==l.NONE&&(document[_0x4962("0x25e")](_0x4962("0x98e"),U,!1),document[_0x4962("0x25e")](_0x4962("0xbf8"),V,!1),r[_0x4962("0x44")](o))}}function U(x){var _,e;if(!1!==r.enabled)switch(x[_0x4962("0x4c9")](),f){case l.ROTATE:if(!1===r[_0x4962("0xc54")])return;!function(x){m[_0x4962("0xd8")](x[_0x4962("0x951")],x[_0x4962("0x950")]),A[_0x4962("0x905")](m,p)[_0x4962("0x250")](r[_0x4962("0xc73")]);var _=r[_0x4962("0x1c8")]===document?r[_0x4962("0x1c8")].body:r.domElement;M(2*Math.PI*A.x/_[_0x4962("0x503")]),S(2*Math.PI*A.y/_.clientHeight),p[_0x4962("0x206")](m),r.update()}(x);break;case l.DOLLY:if(!1===r[_0x4962("0xc52")])return;e=x,w[_0x4962("0xd8")](e.clientX,e[_0x4962("0x950")]),T[_0x4962("0x905")](w,E),T.y>0?N(k()):T.y<0&&F(k()),E[_0x4962("0x206")](w),r[_0x4962("0x165")]();break;case l[_0x4962("0xc7b")]:if(!1===r.enablePan)return;_=x,C.set(_[_0x4962("0x951")],_[_0x4962("0x950")]),I[_0x4962("0x905")](C,y)[_0x4962("0x250")](r[_0x4962("0xc57")]),P(I.x,I.y),y[_0x4962("0x206")](C),r[_0x4962("0x165")]()}}function V(x){!1!==r.enabled&&(document[_0x4962("0x2a1")](_0x4962("0x98e"),U,!1),document[_0x4962("0x2a1")](_0x4962("0xbf8"),V,!1),r[_0x4962("0x44")](c),f=l[_0x4962("0xc62")])}function j(x){var _;!1===r[_0x4962("0x710")]||!1===r[_0x4962("0xc52")]||f!==l[_0x4962("0xc62")]&&f!==l[_0x4962("0xc77")]||(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),r[_0x4962("0x44")](o),(_=x)[_0x4962("0xc75")]<0?F(k()):_[_0x4962("0xc75")]>0&&N(k()),r[_0x4962("0x165")](),r.dispatchEvent(c))}function Y(x){!1!==r[_0x4962("0x710")]&&!1!==r.enableKeys&&!1!==r[_0x4962("0xc56")]&&function(x){var _=!1;switch(x.keyCode){case r[_0x4962("0xaf3")].UP:P(0,r.keyPanSpeed),_=!0;break;case r.keys.BOTTOM:P(0,-r[_0x4962("0xc59")]),_=!0;break;case r[_0x4962("0xaf3")].LEFT:P(r.keyPanSpeed,0),_=!0;break;case r[_0x4962("0xaf3")][_0x4962("0xb82")]:P(-r[_0x4962("0xc59")],0),_=!0}_&&(x[_0x4962("0x4c9")](),r[_0x4962("0x165")]())}(x)}function Z(x){if(!1!==r.enabled){switch(x.preventDefault(),x[_0x4962("0xc22")][_0x4962("0x0")]){case 1:if(!1===r[_0x4962("0xc54")])return;_=x,p[_0x4962("0xd8")](_[_0x4962("0xc22")][0][_0x4962("0x976")],_[_0x4962("0xc22")][0][_0x4962("0x977")]),f=l[_0x4962("0x14b2")];break;case 2:if(!1===r.enableZoom&&!1===r[_0x4962("0xc56")])return;!function(x){if(r[_0x4962("0xc52")]){var _=x[_0x4962("0xc22")][0][_0x4962("0x976")]-x[_0x4962("0xc22")][1][_0x4962("0x976")],e=x.touches[0][_0x4962("0x977")]-x[_0x4962("0xc22")][1][_0x4962("0x977")],t=Math[_0x4962("0x120")](_*_+e*e);E.set(0,t)}if(r.enablePan){var i=.5*(x[_0x4962("0xc22")][0][_0x4962("0x976")]+x.touches[1].pageX),a=.5*(x[_0x4962("0xc22")][0][_0x4962("0x977")]+x[_0x4962("0xc22")][1][_0x4962("0x977")]);y[_0x4962("0xd8")](i,a)}}(x),f=l[_0x4962("0x14b3")];break;default:f=l[_0x4962("0xc62")]}var _;f!==l[_0x4962("0xc62")]&&r[_0x4962("0x44")](o)}}function W(x){if(!1!==r[_0x4962("0x710")])switch(x.preventDefault(),x[_0x4962("0x37b")](),x[_0x4962("0xc22")].length){case 1:if(!1===r.enableRotate)return;if(f!==l[_0x4962("0x14b2")])return;!function(x){m[_0x4962("0xd8")](x[_0x4962("0xc22")][0][_0x4962("0x976")],x[_0x4962("0xc22")][0].pageY),A[_0x4962("0x905")](m,p)[_0x4962("0x250")](r[_0x4962("0xc73")]);var _=r[_0x4962("0x1c8")]===document?r[_0x4962("0x1c8")][_0x4962("0x27")]:r[_0x4962("0x1c8")];M(2*Math.PI*A.x/_[_0x4962("0x503")]),S(2*Math.PI*A.y/_.clientHeight),p[_0x4962("0x206")](m),r[_0x4962("0x165")]()}(x);break;case 2:if(!1===r[_0x4962("0xc52")]&&!1===r.enablePan)return;if(f!==l.TOUCH_DOLLY_PAN)return;!function(x){if(r[_0x4962("0xc52")]){var _=x.touches[0][_0x4962("0x976")]-x[_0x4962("0xc22")][1].pageX,e=x.touches[0][_0x4962("0x977")]-x[_0x4962("0xc22")][1][_0x4962("0x977")],t=Math[_0x4962("0x120")](_*_+e*e);w[_0x4962("0xd8")](0,t),T.set(0,Math[_0x4962("0xf7")](w.y/E.y,r[_0x4962("0xc53")])),N(T.y),E[_0x4962("0x206")](w)}if(r.enablePan){var i=.5*(x[_0x4962("0xc22")][0][_0x4962("0x976")]+x[_0x4962("0xc22")][1][_0x4962("0x976")]),a=.5*(x[_0x4962("0xc22")][0][_0x4962("0x977")]+x.touches[1][_0x4962("0x977")]);C[_0x4962("0xd8")](i,a),I[_0x4962("0x905")](C,y).multiplyScalar(r[_0x4962("0xc57")]),P(I.x,I.y),y[_0x4962("0x206")](C)}r[_0x4962("0x165")]()}(x);break;default:f=l.NONE}}function G(x){!1!==r[_0x4962("0x710")]&&(r[_0x4962("0x44")](c),f=l[_0x4962("0xc62")])}function X(x){!1!==r[_0x4962("0x710")]&&x.preventDefault()}r[_0x4962("0x1c8")].addEventListener("contextmenu",X,!1),r[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0x98b"),z,!1),r[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0xc6d"),j,!1),r[_0x4962("0x1c8")].addEventListener(_0x4962("0x1183"),Z,!1),r[_0x4962("0x1c8")][_0x4962("0x25e")](_0x4962("0xbf9"),G,!1),r.domElement[_0x4962("0x25e")](_0x4962("0xbfd"),W,!1),window[_0x4962("0x25e")](_0x4962("0x98f"),Y,!1),this[_0x4962("0x165")]()},THREE[_0x4962("0x14ac")][_0x4962("0x1")]=(0,i.default)(THREE[_0x4962("0xc7d")][_0x4962("0x1")]),THREE[_0x4962("0x14ac")].prototype[_0x4962("0x604")]=THREE[_0x4962("0x14ac")],(0,t[_0x4962("0xc")])(THREE[_0x4962("0x14ac")][_0x4962("0x1")],{center:{get:function(){return console[_0x4962("0x44a")]("THREE.OrbitControls: .center has been renamed to .target"),this[_0x4962("0x2c5")]}},noZoom:{get:function(){return console[_0x4962("0x44a")](_0x4962("0x14b4")),!this.enableZoom},set:function(x){this[_0x4962("0xc52")]=!x}},noRotate:{get:function(){return console[_0x4962("0x44a")](_0x4962("0x14b5")),!this.enableRotate},set:function(x){_0x4962("0x14b5"),this.enableRotate=!x}},noPan:{get:function(){return console[_0x4962("0x44a")](_0x4962("0x14b6")),!this[_0x4962("0xc56")]},set:function(x){console[_0x4962("0x44a")](_0x4962("0x14b6")),this[_0x4962("0xc56")]=!x}},noKeys:{get:function(){return console[_0x4962("0x44a")]("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(x){_0x4962("0x14b7"),this.enableKeys=!x}},staticMoving:{get:function(){return _0x4962("0x14b8"),!this[_0x4962("0xc50")]},set:function(x){console[_0x4962("0x44a")](_0x4962("0x14b8")),this[_0x4962("0xc50")]=!x}},dynamicDampingFactor:{get:function(){return console[_0x4962("0x44a")](_0x4962("0x14b9")),this[_0x4962("0xc51")]},set:function(x){this.dampingFactor=x}}})},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var n=function(){function x(_,e){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x3a")]=_,this[_0x4962("0x14ba")]=!0,this[_0x4962("0x14bb")]=!1,this[_0x4962("0x14bc")]=!1,this[_0x4962("0x14bd")]=10,this[_0x4962("0x14be")]=9.8,this[_0x4962("0x14bf")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x260")]=null,this[_0x4962("0x296")]={},this.animateNameList=[],this._controlMode=null,this[_0x4962("0xbe1")]=new(THREE[_0x4962("0x528")]),this[_0x4962("0x411")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x14c0")]=performance[_0x4962("0x6d4")](),this[_0x4962("0x964")]=!1,this[_0x4962("0x965")]=!1,this[_0x4962("0x97b")]=!1,this[_0x4962("0x966")]=!1,this.moveByLeft=!1,this[_0x4962("0x2c5")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x2b1")]=.001,this[_0x4962("0x2b0")]=.1,this[_0x4962("0x2db")]=.1,this.local=new(THREE[_0x4962("0x20c")]),this[_0x4962("0x14c1")]=10,this[_0x4962("0x14c2")]=Math.PI/18,this[_0x4962("0x14c3")]=.5,this.t=0,this[_0x4962("0x14c4")]=10,this[_0x4962("0x14c5")]=3,this[_0x4962("0x14c6")]=5,this[_0x4962("0x14c7")]=new(THREE[_0x4962("0x12c")]),this[_0x4962("0x14c8")]=.06,this[_0x4962("0x14c9")]=3,this[_0x4962("0x23b")]=0,this[_0x4962("0x669")]=_[_0x4962("0x3ec")],this[_0x4962("0x14ca")]=e,this[_0x4962("0x1fa")]=null,this.isLookAt=!0,this[_0x4962("0x14cb")]=!1,this[_0x4962("0x14cc")]=new THREE.Vector3,this[_0x4962("0x14cd")]=null,this[_0x4962("0x14ce")]=[],this[_0x4962("0x39")]()}return(0,i.default)(x,[{key:_0x4962("0x39"),value:function(){var x=this;this[_0x4962("0x260")]=new(THREE[_0x4962("0xb7f")])(this[_0x4962("0x669")],this[_0x4962("0x3a")].mapView[_0x4962("0x547")]),this[_0x4962("0x260")][_0x4962("0xc56")]=!1,this[_0x4962("0x260")][_0x4962("0xc82")]=!1,this.bindEvent(),this[_0x4962("0x260")][_0x4962("0xb80")]={MIDDLE:THREE[_0x4962("0xb81")][_0x4962("0xb92")],RIGHT:THREE[_0x4962("0xb81")].RIGHT},this[_0x4962("0x710")](),this[_0x4962("0x260")][_0x4962("0x710")]=!0,this[_0x4962("0x260")][_0x4962("0x14cf")]=!1,this[_0x4962("0x260")][_0x4962("0xb5d")]=2*Math.PI/3;var _=new(THREE[_0x4962("0x12c")]),e=Math.atan2(1*_.x,-1*_.z),t=this;this[_0x4962("0x14ca")]&&(this.controltarget.o3d_[_0x4962("0xbde")](_),this[_0x4962("0x3a")][_0x4962("0x25a")]({x:this.controltarget.x,y:this[_0x4962("0x14ca")].y,z:this[_0x4962("0x14ca")].z,radius:1e3,directionAngle:e,pitchAngle:45,callback:function(){t[_0x4962("0x14d0")]=!0}})),this.instance.on(_0x4962("0x165"),this[_0x4962("0x165")].bind(this)),document[_0x4962("0x25e")]("keydown",(function(_){_[_0x4962("0x1c9")]===_0x4962("0x14d1")&&x[_0x4962("0xd11")]()})),t[_0x4962("0x3a")][_0x4962("0x194")].on("pickerNone_",(function(x){t[_0x4962("0x14ba")]&&t[_0x4962("0x14d2")]&&(t[_0x4962("0x14d3")](x),console[_0x4962("0x223")](_0x4962("0xf90"),x))}))}},{key:_0x4962("0x14d4"),value:function(x,_){var e=this;if(x instanceof esmap[_0x4962("0x648")]){if(!x.o3d_)return void console[_0x4962("0x44a")]("ç®æ æªå è½½å®æ");e[_0x4962("0x14ca")]=null,e[_0x4962("0x14ca")]=x,e[_0x4962("0x14d5")]=_||_0x4962("0x14d6"),e[_0x4962("0x3a")][_0x4962("0x25a")]({x:x.x,y:x.y,z:x.z,radius:1e3,pitchAngle:45,time:1,callback:function(){e.isLookAt=!0}})}}},{key:"bindEvent",value:function(){document[_0x4962("0x25e")]("keydown",this[_0x4962("0x97a")][_0x4962("0xe")](this)),document[_0x4962("0x25e")](_0x4962("0x25f"),this[_0x4962("0x97e")][_0x4962("0xe")](this))}},{key:_0x4962("0x14d7"),value:function(){document[_0x4962("0x2a1")](_0x4962("0x98f"),this[_0x4962("0x97a")][_0x4962("0xe")](this)),document.removeEventListener(_0x4962("0x25f"),this[_0x4962("0x97e")].bind(this))}},{key:"setPosition",value:function(x,_,e){this[_0x4962("0x669")][_0x4962("0x106")][_0x4962("0xd8")](x,_,e)}},{key:_0x4962("0x97a"),value:function(x){if(this[_0x4962("0x14ba")]&&!this[_0x4962("0x14d2")])switch(x[_0x4962("0x1c9")]){case"ArrowUp":case"KeyW":this[_0x4962("0x964")]=!0;break;case _0x4962("0x14d8"):case _0x4962("0x14d9"):this.moveBackward=!0;break;case _0x4962("0x14da"):case _0x4962("0x14db"):this[_0x4962("0x97b")]=!0;break;case"ArrowRight":case _0x4962("0x14dc"):this.moveRight=!0;break;case"Space":!0===this.canJump&&(this[_0x4962("0x14c7")].y+=350),this[_0x4962("0x14dd")]=!1}}},{key:_0x4962("0x97e"),value:function(x){if(this.isEnable&&!this[_0x4962("0x14d2")])switch(x[_0x4962("0x1c9")]){case _0x4962("0x14de"):case _0x4962("0x14df"):this[_0x4962("0x964")]=!1;break;case _0x4962("0x14d8"):case _0x4962("0x14d9"):this[_0x4962("0x965")]=!1,this.controlMode==_0x4962("0x14e0")&&this[_0x4962("0x14e1")](Math.PI);break;case _0x4962("0x14da"):case _0x4962("0x14db"):this.moveLeft=!1;break;case _0x4962("0x14e2"):case _0x4962("0x14dc"):this[_0x4962("0x966")]=!1}}},{key:_0x4962("0x710"),value:function(){this[_0x4962("0x14ba")]=!0}},{key:_0x4962("0x14e3"),value:function(){this[_0x4962("0x14ba")]=!1}},{key:_0x4962("0x14e4"),value:function(){this[_0x4962("0x14d7")]()}},{key:_0x4962("0x14e5"),value:function(x){this.instance=x}},{key:_0x4962("0x165"),value:function(){if(this[_0x4962("0x14ba")]&&this.controltarget&&this[_0x4962("0x14ca")].o3d_){this[_0x4962("0x14d0")]&&(this[_0x4962("0x669")][_0x4962("0x240")](this.controltarget[_0x4962("0xf2")][_0x4962("0x106")]),this.controls[_0x4962("0x2c5")]=this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0x126")]());var x=this.instance[_0x4962("0x9cd")].getDelta();this.mixer&&this[_0x4962("0x14e6")]&&this.mixer[_0x4962("0x165")](x),this.tween&&this.tween.update(x);var _=this.camera[_0x4962("0x106")][_0x4962("0x126")]().sub(this[_0x4962("0x260")].target);this.direction=_[_0x4962("0x126")](),_.y=0,_[_0x4962("0x30e")]();var e=this[_0x4962("0x411")][_0x4962("0x126")]();e.y=0,e[_0x4962("0x30e")]();var t=new(THREE[_0x4962("0x12c")]);t[_0x4962("0x901")](this[_0x4962("0x411")],new(THREE[_0x4962("0x12c")])(0,1,0)),t[_0x4962("0x30e")]();var i=new(THREE[_0x4962("0x12c")]);this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0xbde")](i);(i=i.applyAxisAngle(new(THREE[_0x4962("0x12c")])(0,1,0),Math.PI)).clone();var a=new THREE.Vector3;a.crossVectors(i,new(THREE[_0x4962("0x12c")])(0,1,0)),a[_0x4962("0x30e")]();i[_0x4962("0x126")]()[_0x4962("0xa0c")](),a[_0x4962("0x126")]()[_0x4962("0xa0c")]();var n=this[_0x4962("0x2fb")](this[_0x4962("0x14ca")].o3d_[_0x4962("0x106")],new(THREE[_0x4962("0x12c")])(0,-1,0),5);this[_0x4962("0x14bc")]=null==n,n&&(n[_0x4962("0x23b")]>0||n[_0x4962("0x23b")]<1)&&(this[_0x4962("0x14bc")]=!1),this[_0x4962("0x14bc")]||(this[_0x4962("0x14ca")].o3d_[_0x4962("0x106")].y=n[_0x4962("0x303")].y+this.modelOffsetY,this[_0x4962("0x14c7")].y=0),this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x106")].y<0&&(this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x106")].y=0,this.velocity.y=0),this[_0x4962("0x14e7")](),this[_0x4962("0x14cc")]=this[_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x126")](),this.t=.1,this.moveControl(!0,!0,i),"vehicle"==this[_0x4962("0x14d5")]?this[_0x4962("0x964")]?(this[_0x4962("0x14e8")](this[_0x4962("0x296")].forward,1,this[_0x4962("0x14c8")]),this[_0x4962("0x14e8")](this.animations[_0x4962("0x23d")],0,this.animateDamper)):this[_0x4962("0x965")]?(this[_0x4962("0x14e8")](this[_0x4962("0x296")][_0x4962("0x23d")],1,this[_0x4962("0x14c8")]),this[_0x4962("0x14e8")](this[_0x4962("0x296")].forward,0,this[_0x4962("0x14c8")])):(this.adjustWeight(this[_0x4962("0x296")][_0x4962("0x23c")],0,this[_0x4962("0x14c8")]),this.adjustWeight(this[_0x4962("0x296")].backward,0,this[_0x4962("0x14c8")])):this.moveForward?(!this.enableMouseMode&&this[_0x4962("0x14e8")](this[_0x4962("0x296")][_0x4962("0x14e9")],0,this[_0x4962("0x14c8")]),!this[_0x4962("0x14ea")]&&this[_0x4962("0x14e8")](this.animations.run,1,this.animateDamper)):(!this[_0x4962("0x14ea")]&&this[_0x4962("0x14e8")](this[_0x4962("0x296")][_0x4962("0x14e9")],1,this[_0x4962("0x14c8")]),!this.enableMouseMode&&this.adjustWeight(this[_0x4962("0x296")][_0x4962("0x14eb")],0,this[_0x4962("0x14c8")])),this.moveLeft&&this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x14ec")](.05),this[_0x4962("0x966")]&&this[_0x4962("0x14ca")][_0x4962("0xf2")].rotateY(-.05),this[_0x4962("0x260")][_0x4962("0x165")]({forceTheta:this.controls.getAzimuthalAngle()}),this._enableRotate&&this[_0x4962("0x14ed")](),this[_0x4962("0x14d2")]&&this[_0x4962("0x14ee")]()}}},{key:_0x4962("0xd11"),value:function(){this[_0x4962("0x14e3")](),this[_0x4962("0x14e4")](),this[_0x4962("0x14d0")]=!1,this.controls[_0x4962("0x710")]=!1,this.instance[_0x4962("0x260")][_0x4962("0x710")]=!0}},{key:_0x4962("0x14ef"),value:function(x,_){this[_0x4962("0x14f0")]=[],this[_0x4962("0x14f0")][_0x4962("0x3")](x,_),this[_0x4962("0x14e6")]=!0,this.mixer=new(THREE[_0x4962("0x28e")])(this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0xf3")][0]);var e=this[_0x4962("0x3a")][_0x4962("0x7f")].modelStore[this.controltarget[_0x4962("0x288")]],t=e[_0x4962("0x296")][_0x4962("0xddc")]((function(_){return _[_0x4962("0x107")]===x})),i=e.animations[_0x4962("0xddc")]((function(x){return x[_0x4962("0x107")]===_}));i&&t?(this[_0x4962("0x14d5")]===_0x4962("0x14e0")?(this.animations[_0x4962("0x14e9")]=this[_0x4962("0x1fa")].clipAction(t),this[_0x4962("0x296")][_0x4962("0x14eb")]=this[_0x4962("0x1fa")][_0x4962("0x28f")](i),this[_0x4962("0x296")][_0x4962("0x23c")]&&delete this[_0x4962("0x296")][_0x4962("0x23c")],this.animations[_0x4962("0x23d")]&&delete this[_0x4962("0x296")][_0x4962("0x23d")]):(this[_0x4962("0x296")].forward=this[_0x4962("0x1fa")][_0x4962("0x28f")](t),this.animations[_0x4962("0x23d")]=this[_0x4962("0x1fa")].clipAction(i),this[_0x4962("0x296")][_0x4962("0x14e9")]&&delete this[_0x4962("0x296")][_0x4962("0x14e9")],this[_0x4962("0x296")].run&&delete this[_0x4962("0x296")][_0x4962("0x14eb")]),this[_0x4962("0x14f2")]()):console[_0x4962("0x44a")](_0x4962("0x14f1"),i,t)}},{key:_0x4962("0x14f3"),value:function(x,_){x.enabled=!0,x[_0x4962("0x29b")](1)}},{key:_0x4962("0x14f2"),value:function(){for(var x in this[_0x4962("0x296")])this.setWeight(this[_0x4962("0x296")][x],0),this[_0x4962("0x296")][x][_0x4962("0x14f4")]=0,this[_0x4962("0x296")][x][_0x4962("0x14f5")](THREE[_0x4962("0x2a5")])[_0x4962("0x29e")]();this[_0x4962("0x14d5")]===_0x4962("0x14e0")&&(this.setWeight(this.animations[_0x4962("0x14e9")],1),this[_0x4962("0x296")][_0x4962("0x14e9")][_0x4962("0x14f4")]=1)}},{key:_0x4962("0x2fb"),value:function(x,_,e){var t=this,i=new THREE.Raycaster(x,_),a=this[_0x4962("0x3a")].mapPicker[_0x4962("0x449")],n=i.intersectObjects(a,!0);try{for(var r=function(x){t.controltarget.o3d_[_0x4962("0x104")]((function(_){_===n[x][_0x4962("0x9")]&&(n[x].object=null)}))},s=0;s<n[_0x4962("0x0")];s++)r(s)}catch(x){console[_0x4962("0x44a")]("å°çº¿ç¢°ææ£æµå¼å¸¸",x)}return(n=n.filter((function(x){return null!==x.object})))[_0x4962("0x0")]>0&&n[0][_0x4962("0x23b")]<e?n[0]:void 0}},{key:_0x4962("0x332"),value:function(x,_,e){if(x)return this[_0x4962("0x14f6")]=new(esmap[_0x4962("0x1a6")].Tween)(x).to(_,1e3*e)[_0x4962("0x1b1")](),this[_0x4962("0x14f6")]}},{key:_0x4962("0x14e1"),value:function(x){return new(esmap.TWEEN[_0x4962("0x1a7")])(this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x210")]).to({y:this[_0x4962("0x14ca")].o3d_[_0x4962("0x210")].y+x},200)[_0x4962("0x1b1")]()}},{key:_0x4962("0x14f7"),value:function(x,_,e){if(this[_0x4962("0x964")])this.velocity.z<this[_0x4962("0x14c4")]&&(this[_0x4962("0x14c7")].z+=this[_0x4962("0x14c5")]*this.t),this[_0x4962("0x14f8")](e,x?this[_0x4962("0x14c7")].z:0);else if(this[_0x4962("0x965")]){if(this[_0x4962("0x14d5")]===_0x4962("0x14e0"))return;this.velocity.z>-1*this[_0x4962("0x14c4")]&&(this[_0x4962("0x14c7")].z-=this[_0x4962("0x14c5")]*this.t),this[_0x4962("0x14f8")](e[_0x4962("0xa0c")](),_?-1*this.velocity.z:0)}else this[_0x4962("0x14f9")](e,x)}},{key:_0x4962("0x14f8"),value:function(x,_){var e=this[_0x4962("0x14ca")].o3d_[_0x4962("0x106")][_0x4962("0x126")]()[_0x4962("0xda")](x[_0x4962("0x126")]()[_0x4962("0x250")](_));this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x106")].lerp(e,this.t);var t=this[_0x4962("0x669")][_0x4962("0x106")][_0x4962("0x126")]()[_0x4962("0xda")](x[_0x4962("0x126")]()[_0x4962("0x250")](_));this[_0x4962("0x669")][_0x4962("0x106")][_0x4962("0xc66")](t,this.t)}},{key:_0x4962("0x14f9"),value:function(x,_){this[_0x4962("0x14c7")].z>0?(this[_0x4962("0x14f8")](x,this[_0x4962("0x14c7")].z),this[_0x4962("0x14c7")].z-=this[_0x4962("0x14c6")]*this.t,this.velocity.z<0&&(this.velocity.z=0)):this[_0x4962("0x14c7")].z<0&&(this[_0x4962("0x14f8")](x[_0x4962("0xa0c")](),-this[_0x4962("0x14c7")].z),this[_0x4962("0x14c7")].z+=this.brake*this.t,this[_0x4962("0x14c7")].z>0&&(this[_0x4962("0x14c7")].z=0))}},{key:"adjustWeight",value:function(x,_,e){x&&(x.weight<_?x.weight=Math[_0x4962("0x301")](x[_0x4962("0x14f4")]+e,_):x[_0x4962("0x14f4")]>_&&(x[_0x4962("0x14f4")]=Math[_0x4962("0x300")](x.weight-e,_)))}},{key:"setVehiclePitchAngle",value:function(){if(this[_0x4962("0x14d5")]===_0x4962("0x14d6")){var x=new THREE.Vector3(0,0,3),_=new(THREE[_0x4962("0x12c")])(0,0,-3),e=this.controltarget.o3d_.position[_0x4962("0x126")]().add(x),t=this[_0x4962("0x14ca")].o3d_.position[_0x4962("0x126")]()[_0x4962("0xda")](_),i=this[_0x4962("0x2fb")](e,new(THREE[_0x4962("0x12c")])(0,-1,0),5),a=this.raycast(t,new(THREE[_0x4962("0x12c")])(0,-1,0),5),n=i?i[_0x4962("0x303")]:null,r=a?a.point:null;if(n&&r){var s=(new THREE.Vector3)[_0x4962("0x905")](n,r)[_0x4962("0x30e")]()[_0x4962("0x22d")](new(THREE[_0x4962("0x12c")])(0,0,1));this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x210")].x=s}}}},{key:"adjustModelRotation",value:function(){if(this[_0x4962("0x14d5")]===_0x4962("0x14e0")){var x=new(THREE[_0x4962("0x12c")]);this.controltarget[_0x4962("0xf2")].getWorldDirection(x);var _=new(THREE[_0x4962("0x12c")]);this[_0x4962("0x669")][_0x4962("0xbde")](_);var e=new(THREE[_0x4962("0x568")])(x.x,x.z)[_0x4962("0x30e")](),t=new THREE.Vector2(_.x,_.z)[_0x4962("0x30e")](),i=Math[_0x4962("0x14fa")](t.y,t.x)-Math.atan2(e.y,e.x);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI),Math[_0x4962("0x231")](i)>this.limitAngle&&(i>0?this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x210")].y+=.05:this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x210")].y-=.05)}}},{key:_0x4962("0x14d3"),value:function(x){if(0!==x[_0x4962("0x14fb")][_0x4962("0x0")])if(x[_0x4962("0x14fb")][0].face[_0x4962("0x141")].y<0)_0x4962("0x14fd");else{var _=x.intersect[0][_0x4962("0x303")];if(this[_0x4962("0x14ea")]&&this.controltarget&&_){var e=this;esmap.TWEEN[_0x4962("0x87b")](),_.y+=2*e.modelOffsetY,e.controlMode==_0x4962("0x14d6")&&e.controltarget[_0x4962("0xf2")][_0x4962("0x240")](_);var t=e.controltarget[_0x4962("0xf2")][_0x4962("0x106")][_0x4962("0x23a")](_)/e[_0x4962("0x14c4")]*300,i=void 0;new(esmap[_0x4962("0x1a6")][_0x4962("0x1a7")])(e.controltarget.o3d_.position).to(_,t)[_0x4962("0x2d8")]((function(){i=e[_0x4962("0x14fe")](_),e.lockCameraDistance(),setTimeout((function(){e[_0x4962("0x14ff")](i)}),1e3)}))[_0x4962("0x173")]((function(){"human"==e[_0x4962("0x1500")]?(e[_0x4962("0x14e8")](e[_0x4962("0x296")][_0x4962("0x14eb")],1,.06),e[_0x4962("0x14e8")](e[_0x4962("0x296")].idle,0,.06)):e[_0x4962("0x14e8")](e[_0x4962("0x296")][_0x4962("0x23c")],1,.06)})).onComplete((function(){e[_0x4962("0x1500")]==_0x4962("0x14e0")?(e.animations[_0x4962("0x14eb")][_0x4962("0x14f4")]=0,e[_0x4962("0x296")][_0x4962("0x14e9")][_0x4962("0x14f4")]=1):e[_0x4962("0x296")][_0x4962("0x23c")][_0x4962("0x14f4")]=0,e.clearAllIndicator(),e[_0x4962("0x1501")](1/0)}))[_0x4962("0x1b1")]()}}else console[_0x4962("0x44a")](_0x4962("0x14fc"))}},{key:_0x4962("0x1502"),value:function(x,_){var e=this,t=0;return function(){for(var i=arguments[_0x4962("0x0")],a=Array(i),n=0;n<i;n++)a[n]=arguments[n];var r=Date[_0x4962("0x6d4")]();r-t>_&&(x[_0x4962("0x2a4")](e,a),t=r)}}},{key:_0x4962("0x1503"),value:function(x,_){var e=this,t=null;return function(){for(var i=arguments[_0x4962("0x0")],a=Array(i),n=0;n<i;n++)a[n]=arguments[n];t&&clearTimeout(t),t=setTimeout((function(){x[_0x4962("0x2a4")](e,a)}),_)}}},{key:"pickPoint",value:function(x){var _=new THREE.Vector2;_.x=x.clientX/window[_0x4962("0x971")]*2-1,_.y=-x.clientY/window[_0x4962("0xbaf")]*2+1;var e=new(THREE[_0x4962("0x528")]);e.setFromCamera(_,this[_0x4962("0x669")]),this[_0x4962("0x3a")][_0x4962("0x305")].updateWatchingList();var t=e[_0x4962("0x536")](this[_0x4962("0x3a")][_0x4962("0x305")][_0x4962("0x3fb")]);if(t.length>0){var i=t[0];if(i.face.normal.y>0)return i}}},{key:_0x4962("0x14ee"),value:function(){var x=this[_0x4962("0x14ca")][_0x4962("0xf2")][_0x4962("0x106")].clone();if(this[_0x4962("0x14cd")]){var _=x[_0x4962("0x126")]()[_0x4962("0x52d")](this[_0x4962("0x14cd")]);0!==_[_0x4962("0x0")]()&&(this[_0x4962("0x14ca")].o3d_[_0x4962("0x240")](x[_0x4962("0x126")]().add(_)),this.controltarget[_0x4962("0xf2")][_0x4962("0x210")].y+=Math.PI,this[_0x4962("0x14cd")]=x)}else this[_0x4962("0x14cd")]=x[_0x4962("0x126")]()}},{key:_0x4962("0x14fe"),value:function(x){if(this._enableMouseMode){var _=new(THREE[_0x4962("0x1504")])(.5,1,32),e=new(THREE[_0x4962("0x581")])({color:16776960}),t=new(THREE[_0x4962("0x198")])(_,e);this[_0x4962("0x3a")][_0x4962("0x1c6")].scene[_0x4962("0xda")](t),this[_0x4962("0x14ce")][_0x4962("0x3")](t);var i=this;return this[_0x4962("0x3a")].on("update",(function(){t&&i.controltarget&&e&&t.position[_0x4962("0x206")](x)})),t}}},{key:_0x4962("0x14ff"),value:function(x){this[_0x4962("0x3a")][_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0x197")](x),x[_0x4962("0xf4")].dispose(),x.material[_0x4962("0xf5")](),this[_0x4962("0x14ce")]=this[_0x4962("0x14ce")][_0x4962("0x2e2")]((function(_){return _!==x})),x=null}},{key:"clearAllIndicator",value:function(){var x=this;this[_0x4962("0x14ce")][_0x4962("0x20")]((function(_){x[_0x4962("0x3a")][_0x4962("0x1c6")][_0x4962("0x2e6")][_0x4962("0x197")](_),_[_0x4962("0xf4")][_0x4962("0xf5")](),_[_0x4962("0xf6")][_0x4962("0xf5")](),_=null})),this.indicators=[]}},{key:_0x4962("0x1501"),value:function(){var x=arguments[_0x4962("0x0")]>0&&void 0!==arguments[0]?arguments[0]:50;this[_0x4962("0x260")][_0x4962("0x2b0")]=x}},{key:_0x4962("0x14d5"),get:function(){return this[_0x4962("0x1500")]},set:function(x){this[_0x4962("0x1500")]=x,x===_0x4962("0x14e0")?(this[_0x4962("0x14c5")]=1,this[_0x4962("0x14c4")]=3,this[_0x4962("0x14c6")]=2):(this[_0x4962("0x14c5")]=4,this[_0x4962("0x14c4")]=10,this[_0x4962("0x14c6")]=5)}},{key:_0x4962("0x14ea"),get:function(){return this[_0x4962("0x14d2")]},set:function(x){this[_0x4962("0x14d2")]=x,x?(this[_0x4962("0x260")][_0x4962("0xb80")][_0x4962("0xb83")]=THREE[_0x4962("0xb81")][_0x4962("0xb83")],this[_0x4962("0xc54")]=!1):this[_0x4962("0x260")][_0x4962("0xb80")].LEFT=null}},{key:_0x4962("0xc54"),get:function(){return this[_0x4962("0x1505")]},set:function(x){this._enableRotate=x,x&&(this[_0x4962("0x14ea")]=!1)}}]),x}();_.default=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,_0x4962("0xa"),{value:!0});var t=a(e(0)),i=a(e(1));function a(x){return x&&x.__esModule?x:{default:x}}var n=function(){function x(_,e){(0,t[_0x4962("0xc")])(this,x),this[_0x4962("0x669")]=_,this[_0x4962("0x9")]=_,this.domElement=e,this[_0x4962("0xc3d")]=!1,this[_0x4962("0x954")]=1,this[_0x4962("0x955")]=null,this[_0x4962("0x3a")]=esmap[_0x4962("0x33")][_0x4962("0x3a")],this.target=null,this[_0x4962("0x1506")]=null,this[_0x4962("0x1507")]=null,this.controlState={up:!1,down:!1,left:!1,right:!1,forward:!1,back:!1,rotate:!1},this[_0x4962("0x1508")]=window,this[_0x4962("0x39")]()}return(0,i[_0x4962("0xc")])(x,[{key:_0x4962("0x1509"),value:function(x){this[_0x4962("0x1508")]=x}},{key:_0x4962("0x39"),value:function(){this.lookSpeed=.001}},{key:_0x4962("0x150a"),value:function(){document[_0x4962("0x25e")](_0x4962("0x98e"),this[_0x4962("0x150b")][_0x4962("0xe")](this),!1),document.addEventListener(_0x4962("0x98b"),this[_0x4962("0x150c")][_0x4962("0xe")](this),!1),document[_0x4962("0x25e")](_0x4962("0xbf8"),this[_0x4962("0x150d")].bind(this),!1),this[_0x4962("0x1508")].addEventListener(_0x4962("0x98f"),this[_0x4962("0x150e")][_0x4962("0xe")](this),!1),this.customWindow[_0x4962("0x25e")](_0x4962("0x25f"),this[_0x4962("0x150f")].bind(this),!1)}},{key:_0x4962("0x1510"),value:function(){document[_0x4962("0x2a1")](_0x4962("0x98e"),this[_0x4962("0x150b")].bind(this),!1),document[_0x4962("0x2a1")](_0x4962("0x98b"),this.mouseDown.bind(this),!1),document[_0x4962("0x2a1")](_0x4962("0xbf8"),this.mouseUp.bind(this),!1),this[_0x4962("0x1508")][_0x4962("0x2a1")]("keydown",this[_0x4962("0x150e")].bind(this),!1),this.customWindow.removeEventListener(_0x4962("0x25f"),this[_0x4962("0x150f")][_0x4962("0xe")](this),!1)}},{key:_0x4962("0x150b"),value:function(x){if(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),this[_0x4962("0x710")]&&this[_0x4962("0x1511")][_0x4962("0xcaa")]){var _=x.movementX||x[_0x4962("0x1512")]||x[_0x4962("0x1513")]||0,e=x[_0x4962("0x1514")]||x.mozMovementY||x[_0x4962("0x1515")]||0;this[_0x4962("0x1507")]=new(THREE[_0x4962("0x241")])(0,0,0,_0x4962("0x1516")),this[_0x4962("0x1507")][_0x4962("0x1517")](this[_0x4962("0x669")].quaternion),this[_0x4962("0x1507")].y+=_*this[_0x4962("0x955")],this[_0x4962("0x1507")].x+=e*this.lookSpeed,this[_0x4962("0x1507")].x=Math[_0x4962("0x300")](-Math.PI/2,Math.min(Math.PI/2,this[_0x4962("0x1507")].x)),this.camera[_0x4962("0x205")][_0x4962("0x201")](this[_0x4962("0x1507")])}}},{key:_0x4962("0x150e"),value:function(x){if(this.enabled)switch(x[_0x4962("0x1c9")]){case _0x4962("0x14de"):case _0x4962("0x14df"):this[_0x4962("0x1511")][_0x4962("0x23c")]=!0;break;case _0x4962("0x14d8"):case _0x4962("0x14d9"):this[_0x4962("0x1511")].back=!0;break;case"ArrowLeft":case _0x4962("0x14db"):this.controlState.left=!0;break;case _0x4962("0x14e2"):case _0x4962("0x14dc"):this[_0x4962("0x1511")][_0x4962("0x361")]=!0;break;case"KeyR":this[_0x4962("0x1511")].up=!0;break;case _0x4962("0x1518"):this[_0x4962("0x1511")].down=!0}}},{key:_0x4962("0x150f"),value:function(x){if(this[_0x4962("0x710")])switch(x[_0x4962("0x1c9")]){case _0x4962("0x14de"):case _0x4962("0x14df"):this[_0x4962("0x1511")][_0x4962("0x23c")]=!1;break;case"ArrowDown":case _0x4962("0x14d9"):this[_0x4962("0x1511")][_0x4962("0x1519")]=!1;break;case _0x4962("0x14da"):case _0x4962("0x14db"):this[_0x4962("0x1511")].left=!1;break;case _0x4962("0x14e2"):case _0x4962("0x14dc"):this[_0x4962("0x1511")][_0x4962("0x361")]=!1;break;case"KeyR":this.controlState.up=!1;break;case _0x4962("0x1518"):this.controlState[_0x4962("0x11e3")]=!1}}},{key:_0x4962("0x150c"),value:function(x){this[_0x4962("0x710")]&&0===x[_0x4962("0x974")]&&(this[_0x4962("0x1511")].rotate=!0)}},{key:_0x4962("0x150d"),value:function(x){this[_0x4962("0x710")]&&0===x[_0x4962("0x974")]&&(this[_0x4962("0x1511")][_0x4962("0xcaa")]=!1)}},{key:_0x4962("0x165"),value:function(){if(this[_0x4962("0x710")]){var x=this[_0x4962("0x1511")],_=x[_0x4962("0x23c")],e=x[_0x4962("0x1519")],t=x.left,i=x[_0x4962("0x361")],a=x.up,n=x[_0x4962("0x11e3")];x.rotate;if(_&&this[_0x4962("0x669")][_0x4962("0x982")](-this.movementSpeed),e&&this[_0x4962("0x669")].translateZ(this[_0x4962("0x954")]),t&&this.camera.translateX(-this[_0x4962("0x954")]),i&&this[_0x4962("0x669")][_0x4962("0x983")](this[_0x4962("0x954")]),a&&this[_0x4962("0x669")][_0x4962("0x984")](this[_0x4962("0x954")]),n&&this[_0x4962("0x669")][_0x4962("0x984")](-this[_0x4962("0x954")]),typeof this[_0x4962("0x1506")]===_0x4962("0x18a"))this[_0x4962("0x669")][_0x4962("0x106")].y=this[_0x4962("0x1506")];else if(Array[_0x4962("0x123")](this[_0x4962("0x1506")])){var r=this[_0x4962("0x1506")][0],s=this.fixedHeight[1],o=this[_0x4962("0x669")][_0x4962("0x106")].y;o<r?this.camera[_0x4962("0x106")].y=r:o>s&&(this[_0x4962("0x669")][_0x4962("0x106")].y=s)}this[_0x4962("0x151a")]()}}},{key:"exit",value:function(){this[_0x4962("0x1510")](),this[_0x4962("0x710")]=!1}},{key:_0x4962("0x151a"),value:function(){var x=new(THREE[_0x4962("0x568")]);x.x=0,x.y=0;var _=new(THREE[_0x4962("0x528")]);if(_.setFromCamera(x,this[_0x4962("0x669")]),this[_0x4962("0x3a")][_0x4962("0x194")]&&this[_0x4962("0x3a")][_0x4962("0x194")][_0x4962("0x449")][_0x4962("0x0")]>0){var e=_[_0x4962("0x536")](this[_0x4962("0x3a")][_0x4962("0x194")][_0x4962("0x449")],!1);if(e[_0x4962("0x0")]>0){var t=e[0];this[_0x4962("0x2c5")]=t.point}else this[_0x4962("0x2c5")]=null}}},{key:"enabled",get:function(){return this._enabled},set:function(x){this._enabled=x,x?this[_0x4962("0x150a")]():this[_0x4962("0x1510")]()}}]),x}();_[_0x4962("0xc")]=n},function(x,_,e){"use strict";Object[_0x4962("0x6")](_,"__esModule",{value:!0});var t=s(e(5)),i=s(e(0)),a=s(e(1)),n=s(e(10)),r=s(e(11));function s(x){return x&&x[_0x4962("0xa")]?x:{default:x}}var o={type:_0x4962("0x151b")},c={type:"unlock"},l=function(x){function _(x,e){(0,i.default)(this,_);var a=(0,n[_0x4962("0xc")])(this,(_.__proto__||(0,t[_0x4962("0xc")])(_))[_0x4962("0xf")](this));return a.camera=x,a[_0x4962("0x1c8")]=e||document,a[_0x4962("0xc3d")]=!0,a[_0x4962("0x954")]=1,a.lookSpeed=3e-4,a[_0x4962("0x3a")]=esmap[_0x4962("0x33")].instance,a[_0x4962("0x1511")]={up:!1,down:!1,left:!1,right:!1,forward:!1,back:!1,rotate:!1},a[_0x4962("0x151c")]=a[_0x4962("0x151d")].bind(a),a._onPointerlockError=a[_0x4962("0x151e")][_0x4962("0xe")](a),a[_0x4962("0x1c8")][_0x4962("0x151f")][_0x4962("0x25e")](_0x4962("0x1520"),a[_0x4962("0x151c")],!1),a.domElement[_0x4962("0x151f")].addEventListener(_0x4962("0x1521"),a._onPointerlockError,!1),a[_0x4962("0x1522")]=!1,a[_0x4962("0x39")](),a}return(0,r[_0x4962("0xc")])(_,x),(0,a[_0x4962("0xc")])(_,[{key:_0x4962("0x39"),value:function(){this[_0x4962("0x1c8")][_0x4962("0x151f")]===document||console[_0x4962("0xe0")](_0x4962("0x1523"))}},{key:_0x4962("0x1524"),value:function(x){if(x[_0x4962("0x4c9")](),x[_0x4962("0x37b")](),this[_0x4962("0x710")]&&document.pointerLockElement===this[_0x4962("0x1c8")]){var _=x[_0x4962("0x1525")]||x[_0x4962("0x1512")]||x[_0x4962("0x1513")]||0,e=x[_0x4962("0x1514")]||x.mozMovementY||x[_0x4962("0x1515")]||0,t=new(THREE[_0x4962("0x241")])(0,0,0,_0x4962("0x1516"));t[_0x4962("0x1517")](this.camera[_0x4962("0x205")]),t.y-=_*this[_0x4962("0x955")],t.x-=e*this.lookSpeed,t.x=Math.max(-Math.PI/2,Math.min(Math.PI/2,t.x)),this[_0x4962("0x669")][_0x4962("0x205")].setFromEuler(t)}}},{key:_0x4962("0x97a"),value:function(x){if(this[_0x4962("0x710")])switch(x[_0x4962("0x1c9")]){case _0x4962("0x14de"):case _0x4962("0x14df"):this.controlState[_0x4962("0x23c")]=!0;break;case _0x4962("0x14d8"):case _0x4962("0x14d9"):this[_0x4962("0x1511")][_0x4962("0x1519")]=!0;break;case _0x4962("0x14da"):case"KeyA":this[_0x4962("0x1511")][_0x4962("0x35e")]=!0;break;case _0x4962("0x14e2"):case _0x4962("0x14dc"):this[_0x4962("0x1511")][_0x4962("0x361")]=!0;break;case _0x4962("0x1526"):this[_0x4962("0x1511")].up=!0;break;case _0x4962("0x1518"):this[_0x4962("0x1511")][_0x4962("0x11e3")]=!0;break;case _0x4962("0x1527"):this.controlState.rotate=!0}}},{key:"onKeyUp",value:function(x){if(this.enabled)switch(x[_0x4962("0x1c9")]){case _0x4962("0x14de"):case"KeyW":this.controlState[_0x4962("0x23c")]=!1;break;case _0x4962("0x14d8"):case _0x4962("0x14d9"):this[_0x4962("0x1511")][_0x4962("0x1519")]=!1;break;case"ArrowLeft":case _0x4962("0x14db"):this[_0x4962("0x1511")][_0x4962("0x35e")]=!1;break;case"ArrowRight":case _0x4962("0x14dc"):this.controlState[_0x4962("0x361")]=!1;break;case _0x4962("0x1526"):this[_0x4962("0x1511")].up=!1;break;case _0x4962("0x1518"):this[_0x4962("0x1511")].down=!1;break;case _0x4962("0x1527"):this.controlState[_0x4962("0xcaa")]=!1}}},{key:_0x4962("0x165"),value:function(){if(this[_0x4962("0x710")]){var x=this[_0x4962("0x1511")],_=x[_0x4962("0x23c")],e=x[_0x4962("0x1519")],t=x[_0x4962("0x35e")],i=x.right,a=x.up,n=x[_0x4962("0x11e3")],r=x.rotate;_&&this[_0x4962("0x669")].translateZ(-this.movementSpeed),e&&this[_0x4962("0x669")][_0x4962("0x982")](this[_0x4962("0x954")]),t&&this[_0x4962("0x669")][_0x4962("0x983")](-this[_0x4962("0x954")]),i&&this[_0x4962("0x669")][_0x4962("0x983")](this.movementSpeed),a&&this[_0x4962("0x669")].translateY(this[_0x4962("0x954")]),n&&this[_0x4962("0x669")][_0x4962("0x984")](-this[_0x4962("0x954")]),r&&(this[_0x4962("0x669")][_0x4962("0x210")].y-=this[_0x4962("0x955")])}}},{key:"exit",value:function(){this.unlock(),this[_0x4962("0x710")]=!1,this.unbind()}},{key:_0x4962("0x150a"),value:function(){this.domElement[_0x4962("0x151f")][_0x4962("0x25e")](_0x4962("0x98e"),this.onMouseMove[_0x4962("0xe")](this),!1),this.domElement[_0x4962("0x151f")][_0x4962("0x25e")](_0x4962("0x98f"),this[_0x4962("0x97a")][_0x4962("0xe")](this),!1),this[_0x4962("0x1c8")][_0x4962("0x151f")].addEventListener("keyup",this[_0x4962("0x97e")][_0x4962("0xe")](this),!1)}},{key:_0x4962("0x1510"),value:function(){this[_0x4962("0x1c8")].ownerDocument[_0x4962("0x2a1")](_0x4962("0x98e"),this[_0x4962("0x1524")][_0x4962("0xe")](this)),this[_0x4962("0x1c8")][_0x4962("0x151f")].removeEventListener(_0x4962("0x98f"),this[_0x4962("0x97a")][_0x4962("0xe")](this)),this[_0x4962("0x1c8")][_0x4962("0x151f")][_0x4962("0x2a1")](_0x4962("0x25f"),this[_0x4962("0x97e")][_0x4962("0xe")](this))}},{key:_0x4962("0x151b"),value:function(){this[_0x4962("0x1c8")][_0x4962("0x1528")]()}},{key:"unlock",value:function(){this.domElement[_0x4962("0x151f")][_0x4962("0x1529")](),this[_0x4962("0x3a")][_0x4962("0x260")].enabled=!0}},{key:_0x4962("0x151d"),value:function(){this.domElement[_0x4962("0x151f")][_0x4962("0x152a")]===this[_0x4962("0x1c8")]?this[_0x4962("0x1522")]||(this.dispatchEvent(o),this[_0x4962("0x1522")]=!0):this.isLocked&&(this[_0x4962("0x44")](c),this[_0x4962("0x1522")]=!1,this.exit())}},{key:_0x4962("0x151e"),value:function(){console[_0x4962("0xe0")](_0x4962("0x152b"))}},{key:_0x4962("0x710"),set:function(x){this._enabled=x,x?this[_0x4962("0x150a")]():this[_0x4962("0x1510")]()},get:function(){return this[_0x4962("0xc3d")]}}]),_}(THREE.EventDispatcher);_[_0x4962("0xc")]=l},function(x,_,e){"use strict";var t,i,a,n,r,s,o,c,l,f,d,u,h=v(e(64)),g=v(e(78)),b=v(e(14));function v(x){return x&&x[_0x4962("0xa")]?x:{default:x}}function p(x,_,e){e(x,_);for(var t=0;t<x[_0x4962("0xf3")].length;t++)p(x[_0x4962("0xf3")][t],_.children[t],e)}THREE[_0x4962("0x139d")]={retarget:(o=new(THREE[_0x4962("0x12c")]),c=new(THREE[_0x4962("0x200")]),l=new(THREE[_0x4962("0x12c")]),f=new(THREE[_0x4962("0x23f")]),d=new(THREE[_0x4962("0x23f")]),u=new THREE.Matrix4,function(x,_,e){(e=e||{})[_0x4962("0x152c")]=void 0===e.preserveMatrix||e.preserveMatrix,e[_0x4962("0x152d")]=void 0===e.preservePosition||e[_0x4962("0x152d")],e[_0x4962("0x152e")]=void 0!==e[_0x4962("0x152e")]&&e[_0x4962("0x152e")],e.useTargetMatrix=void 0!==e[_0x4962("0x152f")]&&e[_0x4962("0x152f")],e.hip=void 0!==e[_0x4962("0x1530")]?e[_0x4962("0x1530")]:_0x4962("0x1530"),e.names=e[_0x4962("0x1531")]||{};var t,i,a,n,r,s,h=_[_0x4962("0x1532")]?_.skeleton[_0x4962("0x1533")]:this.getBones(_),g=x[_0x4962("0x1532")]?x[_0x4962("0x1534")].bones:this[_0x4962("0x1535")](x);if(x[_0x4962("0x1532")]?x[_0x4962("0x1534")][_0x4962("0x1536")]():(e[_0x4962("0x152f")]=!0,e[_0x4962("0x152c")]=!1),e.preservePosition)for(r=[],s=0;s<g[_0x4962("0x0")];s++)r[_0x4962("0x3")](g[s][_0x4962("0x106")][_0x4962("0x126")]());if(e[_0x4962("0x152c")])for(x[_0x4962("0x751")](),x[_0x4962("0x3ee")][_0x4962("0x1537")](),s=0;s<x[_0x4962("0xf3")][_0x4962("0x0")];++s)x[_0x4962("0xf3")][s][_0x4962("0x751")](!0);if(e[_0x4962("0x1046")])for(t=[],s=0;s<g[_0x4962("0x0")];++s)i=g[s],a=e.names[i[_0x4962("0x107")]]||i[_0x4962("0x107")],e.offsets&&e[_0x4962("0x1046")][a]&&(i[_0x4962("0x22b")][_0x4962("0x204")](e[_0x4962("0x1046")][a]),i[_0x4962("0x22b")].decompose(i.position,i[_0x4962("0x205")],i.scale),i[_0x4962("0x751")]()),t[_0x4962("0x3")](i[_0x4962("0x3ee")][_0x4962("0x126")]());for(s=0;s<g[_0x4962("0x0")];++s){if(i=g[s],a=e.names[i[_0x4962("0x107")]]||i.name,n=this[_0x4962("0x1538")](a,h),u.copy(i.matrixWorld),n){if(n.updateMatrixWorld(),e[_0x4962("0x152f")]?d.copy(n[_0x4962("0x3ee")]):(d.getInverse(x[_0x4962("0x3ee")]),d[_0x4962("0x204")](n[_0x4962("0x3ee")])),l.setFromMatrixScale(d),d.scale(l[_0x4962("0xd8")](1/l.x,1/l.y,1/l.z)),u.makeRotationFromQuaternion(c[_0x4962("0x26a")](d)),x[_0x4962("0x1532")]){var b=g.indexOf(i),v=t?t[b]:f[_0x4962("0x1539")](x[_0x4962("0x1534")][_0x4962("0x153a")][b]);u[_0x4962("0x204")](v)}u[_0x4962("0x153b")](d)}i[_0x4962("0x17b")]&&i[_0x4962("0x17b")][_0x4962("0x881")]?(i[_0x4962("0x22b")][_0x4962("0x1539")](i.parent.matrixWorld),i[_0x4962("0x22b")][_0x4962("0x204")](u)):i[_0x4962("0x22b")][_0x4962("0x206")](u),e.preserveHipPosition&&a===e[_0x4962("0x1530")]&&i[_0x4962("0x22b")].setPosition(o[_0x4962("0xd8")](0,i[_0x4962("0x106")].y,0)),i[_0x4962("0x22b")].decompose(i[_0x4962("0x106")],i[_0x4962("0x205")],i[_0x4962("0x1fe")]),i.updateMatrixWorld()}if(e[_0x4962("0x152d")])for(s=0;s<g[_0x4962("0x0")];++s)i=g[s],(a=e[_0x4962("0x1531")][i[_0x4962("0x107")]]||i[_0x4962("0x107")])!==e.hip&&i[_0x4962("0x106")][_0x4962("0x206")](r[s]);e[_0x4962("0x152c")]&&x[_0x4962("0x751")](!0)}),retargetClip:function(x,_,e,t){(t=t||{})[_0x4962("0x153c")]=void 0!==t[_0x4962("0x153c")]&&t[_0x4962("0x153c")],t.fps=void 0!==t.fps?t[_0x4962("0x153d")]:30,t[_0x4962("0x1531")]=t.names||[],_.isObject3D||(_=this[_0x4962("0x153e")](_));var i,a,n,r,s,o,c=Math[_0x4962("0x36c")](e[_0x4962("0x1a8")]*(t[_0x4962("0x153d")]/1e3)*1e3),l=1/t[_0x4962("0x153d")],f=[],d=new(THREE[_0x4962("0x28e")])(_),u=this.getBones(x[_0x4962("0x1534")]),h=[];for(d.clipAction(e)[_0x4962("0x29e")](),d[_0x4962("0x165")](0),_[_0x4962("0x751")](),s=0;s<c;++s){var g=s*l;for(this.retarget(x,_,t),o=0;o<u[_0x4962("0x0")];++o)r=t[_0x4962("0x1531")][u[o].name]||u[o][_0x4962("0x107")],this.getBoneByName(r,_[_0x4962("0x1534")])&&(a=u[o],n=h[o]=h[o]||{bone:a},t[_0x4962("0x1530")]===r&&(n[_0x4962("0x428")]||(n[_0x4962("0x428")]={times:new Float32Array(c),values:new Float32Array(3*c)}),t[_0x4962("0x153c")]&&(0===s&&(i=a[_0x4962("0x106")][_0x4962("0x126")]()),a.position[_0x4962("0x52d")](i)),n[_0x4962("0x428")][_0x4962("0x1a1")][s]=g,a[_0x4962("0x106")].toArray(n[_0x4962("0x428")].values,3*s)),n[_0x4962("0x153f")]||(n[_0x4962("0x153f")]={times:new Float32Array(c),values:new Float32Array(4*c)}),n[_0x4962("0x153f")][_0x4962("0x1a1")][s]=g,a.quaternion[_0x4962("0x1540")](n.quat[_0x4962("0xe4")],4*s));d.update(l),_[_0x4962("0x751")]()}for(s=0;s<h[_0x4962("0x0")];++s)(n=h[s])&&(n[_0x4962("0x428")]&&f[_0x4962("0x3")](new(THREE[_0x4962("0x8e6")])(_0x4962("0x1541")+n.bone[_0x4962("0x107")]+_0x4962("0x1542"),n.pos.times,n[_0x4962("0x428")][_0x4962("0xe4")])),f[_0x4962("0x3")](new THREE.QuaternionKeyframeTrack(_0x4962("0x1541")+n.bone[_0x4962("0x107")]+_0x4962("0x1543"),n[_0x4962("0x153f")].times,n[_0x4962("0x153f")][_0x4962("0xe4")])));return d.uncacheAction(e),new(THREE[_0x4962("0x8ef")])(e[_0x4962("0x107")],-1,f)},getHelperFromSkeleton:function(x){var _=new(THREE[_0x4962("0x1544")])(x[_0x4962("0x1533")][0]);return _.skeleton=x,_},getSkeletonOffsets:(t=new(THREE[_0x4962("0x12c")]),i=new(THREE[_0x4962("0x12c")]),a=new(THREE[_0x4962("0x12c")]),n=new(THREE[_0x4962("0x12c")]),r=new(THREE[_0x4962("0x568")]),s=new THREE.Vector2,function(x,_,e){(e=e||{})[_0x4962("0x1530")]=void 0!==e[_0x4962("0x1530")]?e.hip:"hip",e[_0x4962("0x1531")]=e[_0x4962("0x1531")]||{},_.isObject3D||(_=this[_0x4962("0x153e")](_));var o,c,l,f,d=(0,b[_0x4962("0xc")])(e.names),u=(0,g[_0x4962("0xc")])(e[_0x4962("0x1531")]),h=_.isObject3D?_[_0x4962("0x1534")].bones:this[_0x4962("0x1535")](_),v=x[_0x4962("0x1532")]?x.skeleton[_0x4962("0x1533")]:this[_0x4962("0x1535")](x),p=[];for(x[_0x4962("0x1534")][_0x4962("0x1536")](),f=0;f<v.length;++f)if(o=v[f],l=e[_0x4962("0x1531")][o[_0x4962("0x107")]]||o[_0x4962("0x107")],(c=this.getBoneByName(l,h))&&l!==e.hip){var m=this.getNearestBone(o[_0x4962("0x17b")],d),A=this[_0x4962("0x1545")](c[_0x4962("0x17b")],u);m.updateMatrixWorld(),A[_0x4962("0x751")](),t[_0x4962("0x742")](m.matrixWorld),i[_0x4962("0x742")](o.matrixWorld),a[_0x4962("0x742")](A.matrixWorld),n[_0x4962("0x742")](c[_0x4962("0x3ee")]),r[_0x4962("0x905")](new(THREE[_0x4962("0x568")])(i.x,i.y),new THREE.Vector2(t.x,t.y))[_0x4962("0x30e")](),s.subVectors(new(THREE[_0x4962("0x568")])(n.x,n.y),new(THREE[_0x4962("0x568")])(a.x,a.y))[_0x4962("0x30e")]();var y=r.angle()-s[_0x4962("0x234")](),C=(new(THREE[_0x4962("0x23f")])).makeRotationFromEuler(new(THREE[_0x4962("0x241")])(0,0,y));o.matrix[_0x4962("0x204")](C),o[_0x4962("0x22b")][_0x4962("0x1546")](o.position,o[_0x4962("0x205")],o[_0x4962("0x1fe")]),o[_0x4962("0x751")](),p[l]=C}return p}),renameBones:function(x,_){for(var e=this[_0x4962("0x1535")](x),t=0;t<e[_0x4962("0x0")];++t){var i=e[t];_[i[_0x4962("0x107")]]&&(i[_0x4962("0x107")]=_[i[_0x4962("0x107")]])}return this},getBones:function(x){return Array[_0x4962("0x123")](x)?x:x[_0x4962("0x1533")]},getBoneByName:function(x,_){for(var e=0,t=this[_0x4962("0x1535")](_);e<t[_0x4962("0x0")];e++)if(x===t[e].name)return t[e]},getNearestBone:function(x,_){for(;x.isBone;){if(-1!==_.indexOf(x[_0x4962("0x107")]))return x;x=x.parent}},findBoneTrackData:function(x,_){for(var e=/\[(.*)\]\.(.*)/,t={name:x},i=0;i<_[_0x4962("0x0")];++i){var a=e[_0x4962("0x148d")](_[i][_0x4962("0x107")]);a&&x===a[1]&&(t[a[2]]=i)}return t},getEqualsBonesNames:function(x,_){var e=this[_0x4962("0x1535")](x),t=this[_0x4962("0x1535")](_),i=[];x:for(var a=0;a<e[_0x4962("0x0")];a++)for(var n=e[a][_0x4962("0x107")],r=0;r<t.length;r++)if(n===t[r].name){i.push(n);continue x}return i},clone:function(x){var _=new h.default,e=new(h[_0x4962("0xc")]),t=x[_0x4962("0x126")]();return p(x,t,(function(x,t){_.set(t,x),e[_0x4962("0xd8")](x,t)})),t[_0x4962("0x104")]((function(x){if(x[_0x4962("0x8b9")]){var t=x,i=_[_0x4962("0xdb")](x),a=i.skeleton.bones;t.skeleton=i[_0x4962("0x1534")][_0x4962("0x126")](),t.bindMatrix[_0x4962("0x206")](i[_0x4962("0x1547")]),t[_0x4962("0x1534")].bones=a.map((function(x){return e[_0x4962("0xdb")](x)})),t.bind(t[_0x4962("0x1534")],t.bindMatrix)}})),t}}}]));

/*ESWorldTools 2.0 2025-7-24 16:19:19*/
var _0x4046=['zoom','getPolarAngle','saveState','target0','zoom0','NONE','setFromUnitVectors','inverse','setFromVector3','forceTheta','forcePhi','radioFactor','makeSafe','setFromSpherical','enableDamping','dampingFactor','contextmenu','mousedown','wheel','touchend','touchmove','mousemove','mouseup','zoomSpeed','setFromMatrixColumn','screenSpacePanning','body','clientHeight','isOrthographicCamera','clientWidth','matrix','maxZoom','clientY','preventDefault','focus','button','metaKey','shiftKey','PAN','ROTATE','DOLLY','panSpeed','deltaY','keyCode','BOTTOM','touches','TOUCH_ROTATE','pageX','pageY','TOUCH_DOLLY_PAN','touchstart','miniMapImgPath','miniMapImgHeight','cameraViewImgPath','cameraViewImgHeight','img','onload','relative','absolute','transformOrigin','px\x20','floorEdges','maxx','minx','maxy','miny','transform','deg)','innerHTML','beginTime','prevTime','_tempFrameRateList','_tempResultList','begin','trimmedMean','reduce','computeAverageFps','mark','toFixed','sleep','names','ES3DMarker','ESModel3D','setOutline','singleSelect','setFrameLine','setUvTransform','ESPolygonMarker','removeOutline','ESLineMarker','ESFloorManager','getEffectLayersByNames','_tempRaf','_tileUpdateLock','tileType','amap','tileUrl','tileurl','levelOffset','tileSourceLevelOffset','levelMax','levelExtent','tileSourceLevelExtent','getControlsInfo','tileTheme','isShowTileSourceLicense','isOpenControllerInertia','tileSourceMinLevel','tileSourceMaxLevel','isInitShow','isUseMultiView','isShowMaskExtent','tileSourceZoom','Extent','EPSG:3857','DEFAULT_THEME','waterReplaceColor','waterSkyTexture','maskConfig','maskExtent','PlanarView','tileThemeConfigs','tileMapView','beforeInitTileMapControl','ESTileControls','camera3D','levelChange','tileMapLevelChange','level','change','getShadow','isOpenTileFrozen','16px','fontSize','12px','paddingLeft','rgba(255,\x20255,\x20255,\x200.8)','borderTopLeftRadius','4px','https://www.esmap.cn/','_blank','#000','textDecoration','innerText','google.cn','\x20|\x20Â©\x20è°·æ­å°å¾\x20','http://www.google.cn','autonavi.com','\x20|\x20Â©\x20é«å¾·å°å¾\x20','tianditu.gov.cn','\x20|\x20Â©\x20å¤©å°å¾\x20','https://map.tianditu.gov.cn','\x20|\x20Â©\x20GeoQ\x20','http://www.geoq.cn/index.html','url','text','href','link','paddingRight','100%','backdropFilter','_toggleTileLoadingMask','block','TMSSource','image/png','https://webst02.is.autonavi.com/appmaptile?style=7&x=${x}&y=${y}&z=${z}','GCJ02','ColorLayer','addLayer','currLayer','tileLayer','frozen','notifyChange','controlUpdated','tiltAngle','Before\x20executing\x20the\x20cameraFlyTo,\x20','\x20needs\x20to\x20be\x20opened','getZoomFromSphereRadius','_tempMaxPolarAngle','delay','pitchAnimate','Cannot\x20read\x20property\x20\x27radius\x27\x20of\x20undefined','cameraAnimateStart','cameraAnimateUpdate','cameraAnimateComplete','updateTileView','cameraFlyToHelper','zoomLevelTo','scaleLevel','preLoadBuildingId','setControlsInfo','scaleLevelAnimate','getEarthZoomRadius','startZoom','defaultView','defaultAngle','viewMode_','viewMode','initDistance_','initTop_','maxNearGroundPolarAngle','MODE_3D','checkIsUseNearGroundPolarAngle','_tempMaxNearGroundPolarAngle','maxSubdivisionLevel','tileScene_','targetLevel','initPitchAngle','tileShowLevel','%c\x20The\x20parameter\x20tileShowLevel\x20of\x20the\x20ESMap\x20instance\x20needs\x20to\x20be\x20less\x20than\x20the\x20value\x20of\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','scaleLevelAnimate.targetLevel','\x20in\x20ESTileMap.','color:red;','cursor','wait','isNeedAnimate','pointToPointAnimate','openTileClick','tileClickDebug','dblclick','tileMapInitComplete','_earthZoom','getSkybox','pickableBuildings','tileMapInited','preLoadComplete','__trl','WndNWnQOW24=','encode64','TjEySDU2TS4xSDUyTw==','TjEySDU2TS4xSDU0TA==','X3t3SGlzWmVwSGdO','tile\x20url\x20domain\x20is\x20not\x20permission','updateTile','isExecuteInit','?t=','effects.json','isChangeDefaultTheme','skyColor','colorMapping','steps','lutImg','isOpenLutFilter','contrast','hue','saturation','tileWater','waterSkyTexPath','sparklingColor','waterSparklingColor','_setMaxPolarAngle','viewModeChanged','zoomTo','isLockEarthZoom','minLevel','minEarthZoom','maxLevel','maxEarthZoom','_maxEarthZoom','_sortOrder','_isSetAlpha','colorBCHS','createColorMapping','getPolygonBounds','createPolygonMask','tileView','_mousedown','mouseDown','_mouseup','mouseUp','mouseMove','_touchstart','_touchmove','_touchend','isMouseMove','moveCount','_mousemove','DataTexture','save','closePath','restore','exports','call','undefined','toStringTag','defineProperty','Module','object','__esModule','create','default','string','bind','hasOwnProperty','/dist/','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','length','enumerable','configurable','value','writable','key','prototype','2.6.12','number','Math','return\x20this','wks','Symbol','function','Symbol.','store','apply','get','Accessors\x20not\x20supported!','keys','toString','slice','mode','MapMode','City','ESMap','getConfigAssetsPath','selectCityMapEffectConfigPath','getBuiding','getMapInstance','setPositionFromMc','checkIsParkEngine','checkIsCityEngine','coordTransToThree','innerCoordTransToThree','getBuilding','mapScene','sceneX_','sceneZ_','ESMapUtil','Engine','position','set','mapTheme','roomStyle','getMaterialByRoomStyle','datas_','RoomStyle','material','effectId','onlineEffectThemeId','effectThemeId','tid','serverUrl','/worldeffect/','options','mapDataSrc','/EsmapTileData/','selectBuildingMapEffectConfigPath','/effects/','indexOf','upload/','configUserPath','ESEffectTool','configPath','instance','mapService','getState','EFFECT_EDITOR','effectThemeSrc','switchConfigPath','replace','vertexShader','fragmentShader','directionFromAlphaBeta','Vector3','sin','cos','test','userAgent','Expected\x20a\x20function','random','Symbol(','concat','ceil','floor','Can\x27t\x20call\x20method\x20on\x20\x20','\x20is\x20not\x20a\x20function!','split','propertyIsEnumerable','IE_PROTO','iframe','style','display','appendChild','contentWindow','document','close','__core-js_shared__','versions','push','version','pure','global','Â©\x202020\x20Denis\x20Pushkarev\x20(zloirock.ru)','constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf','createElement','valueOf','Can\x27t\x20convert\x20object\x20to\x20primitive\x20value','Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function,\x20not\x20','__proto__','EventDispatcher','_listeners','splice','target','symbol','constructor','iterator','next','values','\x20Iterator','@@iterator','Array','entries','name','min','charAt','getOwnPropertySymbols','Arguments','Undefined','callee','String','dispose','map','geometry','remove','parent','div','documentElement','ModelFloatShake','ModelGradient','ModelHeatMap','ModelTerrain','ModelFresnelEffect','ModelBlendEffect','GroundBlend','ProjectionVideo','ESInstanceMesh','TextureUvAnimation','PlaneVideo','ClearSkyGround','GroundPoints','MirroWater','WaterShape','EnvTextureLoader','PlaneCrossLine','MulripleMeshLine','StartPoints','Explosion','FloatPoints','WaterSpread','Smoke','FireSmoke','PlaneSnowEffect','PlaneTerrainEffect','PlaneFogEffect','ExtentWallEffect','SphereSpreadEffect','NumberUpEffect','ConeSpreadEffect','CylinderSpreadEffect','CircleRippleEffect','SpriteUvAnimation','ModelUvAnimation','Points','PointsLine','CircleRotateYMarker','CylinderFloatMarker','CameraFlyTo','HeatMapEffect','BuildingsTexture2','SelectPoint','MapTileWater','CubeSkybox','Skybox','ScrollWallEffect','EdgeLineEffect','PlaneWindEffect','SmokeSpread','Fire','DeviceWind','CirclePlane','ModelLightBlend','BoatFoam','componentSize','size','TypedArrayConstructor','array','indexOffset','TypedArrayHelper','setSize','shrink','grow','info','Will\x20not\x20resize.','subarray','setFromArray','setVec2','setVec2Components','setVec3','setVec3Components','setVec4','setVec4Components','elements','setMat4','setColor','setNumber','getValueAtIndex','getComponentValueAtIndex','ShaderAttribute','type','bufferAttribute','dynamicBuffer','updateMin','updateMax','typeSizeMap','setUpdateRange','max','flagUpdate','updateRange','offset','typedArray','needsUpdate','resetUpdateRange','resetDynamic','dynamic','forceUpdateAll','count','_ensureTypedArray','arrayType','_createBufferAttribute','REVISION','itemSize','BufferAttribute','getLength','shaderChunks','#define\x20PACKED_COLOR_DIVISOR\x20255.0','join','uniform\x20float\x20deltaTime;','uniform\x20float\x20runTime;','uniform\x20vec4\x20textureAnimation;','uniform\x20float\x20scale;','uniform\x20float\x20clipHeight;','attribute\x20vec4\x20acceleration;','attribute\x20vec3\x20velocity;','attribute\x20vec4\x20rotation;','attribute\x20vec3\x20rotationCenter;','attribute\x20vec4\x20params;','attribute\x20vec4\x20angle;','attribute\x20vec4\x20color;','varying\x20vec4\x20vColor;','#ifdef\x20SHOULD_ROTATE_TEXTURE','#endif','\x20\x20\x20\x20varying\x20vec4\x20vSpriteSheet;','float\x20when_gt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20max(sign(x\x20-\x20y),\x200.0);','float\x20when_lt(float\x20x,\x20float\x20y)\x20{','\x20\x20\x20\x20return\x20min(\x20max(1.0\x20-\x20sign(x\x20-\x20y),\x200.0),\x201.0\x20);','\x20\x20\x20\x20return\x201.0\x20-\x20abs(\x20sign(\x20x\x20-\x20y\x20)\x20);','float\x20when_ge(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_lt(x,\x20y);','float\x20when_le(float\x20x,\x20float\x20y)\x20{','\x20\x20return\x201.0\x20-\x20when_gt(x,\x20y);','float\x20and(float\x20a,\x20float\x20b)\x20{','\x20\x20\x20\x20return\x20a\x20*\x20b;','float\x20or(float\x20a,\x20float\x20b)\x20{','vec3\x20unpackColor(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20float\x20r\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20float\x20g\x20=\x20mod(\x20(hex\x20/\x20PACKED_COLOR_SIZE),\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c.r\x20=\x20r\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.g\x20=\x20g\x20/\x20PACKED_COLOR_DIVISOR;','\x20\x20\x20c.b\x20=\x20b\x20/\x20PACKED_COLOR_DIVISOR;','vec3\x20unpackRotationAxis(\x20in\x20float\x20hex\x20)\x20{','\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);','\x20\x20\x20c\x20*=\x20vec3(\x202.0\x20);','\x20\x20\x20c\x20-=\x20vec3(\x201.0\x20);','float\x20getFloatOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec4\x20attr\x20)\x20{','\x20\x20\x20\x20highp\x20float\x20value\x20=\x200.0;','\x20\x20\x20\x20float\x20shouldApplyValue\x20=\x200.0;','\x20\x20\x20\x20value\x20+=\x20attr[\x200\x20]\x20*\x20when_eq(\x20deltaAge,\x200.0\x20);','if\x20(VALUE_OVER_LIFETIME_LENGTH\x20>\x201)\x20{','value\x20+=\x20shouldApplyValue\x20*\x20mix(attr[0],\x20attr[1],\x20deltaAge\x20-\x20fIndex);','if\x20(VALUE_OVER_LIFETIME_LENGTH\x20>\x202)\x20{','fIndex\x20=\x201.0;','shouldApplyValue\x20=\x20and(when_gt(deltaAge,\x20fIndex),\x20when_le(deltaAge,\x20fIndex\x20+\x201.0));','value\x20+=\x20shouldApplyValue\x20*\x20mix(attr[1],\x20attr[2],\x20deltaAge\x20-\x20fIndex);','if\x20(VALUE_OVER_LIFETIME_LENGTH\x20>\x203)\x20{','fIndex\x20=\x202.0;','value\x20+=\x20shouldApplyValue\x20*\x20mix(attr[2],\x20attr[3],\x20deltaAge\x20-\x20fIndex);','\x20\x20\x20\x20return\x20value;','\x20\x20\x20\x20value.y\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.y,\x20color2.y,\x20color3.y,\x20color4.y\x20)\x20);','\x20\x20\x20\x20value.z\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.z,\x20color2.z,\x20color3.z,\x20color4.z\x20)\x20);','\x20\x20\x20return\x20params.x;','float\x20getAge()\x20{','\x20\x20\x20return\x20params.y;','float\x20getMaxAge()\x20{','\x20\x20\x20return\x20params.w;','vec4\x20getPosition(\x20in\x20float\x20age\x20)\x20{','vec3\x20getVelocity(\x20in\x20float\x20age\x20)\x20{','\x20\x20\x20return\x20velocity\x20*\x20age;','vec3\x20getAcceleration(\x20in\x20float\x20age\x20)\x20{','#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);','\x20\x20\x20\x20\x20\x20\x20float\x20oc\x20=\x201.0\x20-\x20c;','\x20\x20\x20\x20\x20\x20\x20return\x20mat4(oc\x20*\x20axis.x\x20*\x20axis.x\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20-\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20+\x20axis.y\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.x\x20*\x20axis.y\x20+\x20axis.z\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.y\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20-\x20axis.x\x20*\x20s,\x20\x200.0,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20oc\x20*\x20axis.z\x20*\x20axis.x\x20-\x20axis.y\x20*\x20s,\x20\x20oc\x20*\x20axis.y\x20*\x20axis.z\x20+\x20axis.x\x20*\x20s,\x20\x20oc\x20*\x20axis.z\x20*\x20axis.z\x20+\x20c,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,','\x20\x20\x20}','\x20\x20\x20vec3\x20getRotation(\x20in\x20vec3\x20pos,\x20in\x20float\x20positionInTime\x20)\x20{','\x20\x20\x20\x20\x20\x20if(\x20rotation.y\x20==\x200.0\x20)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20pos;','\x20\x20\x20\x20\x20\x20vec3\x20axis\x20=\x20unpackRotationAxis(\x20rotation.x\x20);','\x20\x20\x20\x20\x20\x20vec3\x20center\x20=\x20rotationCenter;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_eq(\x20rotation.z,\x200.0\x20)\x20*\x20rotation.y;','\x20\x20\x20\x20\x20\x20angle\x20+=\x20when_gt(\x20rotation.z,\x200.0\x20)\x20*\x20mix(\x200.0,\x20rotation.y,\x20positionInTime\x20);','\x20\x20\x20\x20\x20\x20translated\x20=\x20rotationCenter\x20-\x20pos;','\x20\x20\x20\x20\x20\x20rotationMatrix\x20=\x20getRotationMatrix(\x20axis,\x20angle\x20);','\x20\x20\x20\x20vec2\x20vUv\x20=\x20vec2(\x20gl_PointCoord.x,\x201.0\x20-\x20gl_PointCoord.y\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_TEXTURE','\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x201.0\x20-\x20gl_PointCoord.y\x20-\x200.5;','\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20-vAngle\x20);','\x20\x20\x20\x20#endif','\x20\x20\x20\x20#ifdef\x20SHOULD_CALCULATE_SPRITE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20vSpriteSheet.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20vSpriteSheet.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20vSpriteSheet.w;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.x\x20=\x20gl_PointCoord.x\x20*\x20framesX\x20+\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vUv.y\x20=\x201.0\x20-\x20(gl_PointCoord.y\x20*\x20framesY\x20+\x20rowNorm);','\x20\x20\x20\x20vec4\x20rotatedTexture\x20=\x20texture2D(\x20texture1,\x20vUv\x20);','defines','uniforms','attributes','varyings','ShaderChunk','logdepthbuf_pars_vertex','fog_pars_vertex','unpackColor','floatOverLifetime','forceFetchingFunctions','\x20\x20\x20\x20highp\x20float\x20age\x20=\x20getAge();','\x20\x20\x20\x20highp\x20float\x20maxAge\x20=\x20getMaxAge();','\x20\x20\x20\x20highp\x20float\x20positionInTime\x20=\x20(age\x20/\x20maxAge);','\x20\x20\x20\x20highp\x20float\x20isAlive\x20=\x20when_gt(\x20alive,\x200.0\x20);','\x20\x20\x20\x20#ifdef\x20SHOULD_WIGGLE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleAmount\x20=\x20positionInTime\x20*\x20getWiggle();','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleSin\x20=\x20isAlive\x20*\x20sin(\x20wiggleAmount\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20wiggleCos\x20=\x20isAlive\x20*\x20cos(\x20wiggleAmount\x20);','\x20\x20\x20\x20vec3\x20vel\x20=\x20getVelocity(\x20age\x20);','\x20\x20\x20\x20vec3\x20accel\x20=\x20getAcceleration(\x20age\x20);','\x20\x20\x20\x20vec3\x20force\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(\x20position\x20);','\x20\x20\x20\x20float\x20drag\x20=\x201.0\x20-\x20(positionInTime\x20*\x200.5)\x20*\x20acceleration.w;','\x20\x20\x20\x20force\x20+=\x20vel;','\x20\x20\x20\x20force\x20+=\x20accel\x20*\x20age;','\x20\x20\x20\x20pos\x20+=\x20force;','\x20\x20\x20\x20\x20\x20\x20\x20pos.x\x20+=\x20wiggleSin;','\x20\x20\x20\x20\x20\x20\x20\x20pos.y\x20+=\x20wiggleCos;','\x20\x20\x20\x20\x20\x20\x20\x20pos.z\x20+=\x20wiggleSin;','\x20\x20\x20\x20#ifdef\x20SHOULD_ROTATE_PARTICLES','\x20\x20\x20\x20\x20\x20\x20\x20pos\x20=\x20getRotation(\x20pos,\x20positionInTime\x20);','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20pos,\x201.0\x20);','\x20\x20\x20\x20#ifdef\x20HAS_PERSPECTIVE','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x20scale\x20/\x20length(\x20mvPosition.xyz\x20);','\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20float\x20perspective\x20=\x201.0;','\x20\x20\x20\x20#ifdef\x20COLORIZE','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20isAlive\x20*\x20getColorOverLifetime(','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20positionInTime,','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.x\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.y\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.z\x20),','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20unpackColor(\x20color.w\x20)','\x20\x20\x20\x20\x20\x20\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vAngle\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20angle\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20textureAnimation.x;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesY\x20=\x20textureAnimation.y;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20totalFrames\x20=\x20textureAnimation.z;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20frameNumber\x20=\x20mod(\x20(positionInTime\x20*\x20loopCount)\x20*\x20totalFrames,\x20totalFrames\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20column\x20=\x20floor(mod(\x20frameNumber,\x20framesX\x20));','\x20\x20\x20\x20\x20\x20\x20\x20float\x20row\x20=\x20floor(\x20(frameNumber\x20-\x20column)\x20/\x20framesX\x20);','\x20\x20\x20\x20\x20\x20\x20\x20float\x20columnNorm\x20=\x20column\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20float\x20rowNorm\x20=\x20row\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.x\x20=\x201.0\x20/\x20framesX;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.y\x20=\x201.0\x20/\x20framesY;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.z\x20=\x20columnNorm;','\x20\x20\x20\x20\x20\x20\x20\x20vSpriteSheet.w\x20=\x20rowNorm;','\x20\x20\x20\x20gl_PointSize\x20=\x20pointSizePerspective;','logdepthbuf_vertex','fog_vertex','common','fog_pars_fragment','logdepthbuf_pars_fragment','branchAvoidanceFunctions','\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20vColor.xyz;','\x20\x20\x20\x20#ifdef\x20ALPHATEST','\x20\x20\x20\x20\x20\x20\x20if\x20(\x20vColor.w\x20<\x20float(ALPHATEST)\x20)\x20discard;','fog_fragment','utils','boolean','isArray','ensureTypedArg','ensureInstanceOf','_value','_spread','clamp','interpolateArray','clone','lerpTypeAgnostic','types','NUMBER','Vector2','lerp','Vector4','Color','abs','roundToNearestMultiple','copy','getHex','sqrt','randomFloat','round','isClipHeight','clipHeight','multiplyScalar','normalize','add','Group','OBJECT','texture','uuid','generateUUID','fixedTimeStep','Texture','textureFrames','frames','textureFrameCount','loop','hasPerspective','BOOLEAN','colorize','maxParticleCount','blending','AdditiveBlending','transparent','alphaTest','depthWrite','depthTest','scale','emitters','emitterIDs','_pool','_poolCreationSettings','_createNewWhenPoolEmpty','_attributesNeedRefresh','_attributesNeedDynamicReset','textureLoop','valueOverLifetimeLength','attributeKeys','attributeCount','ShaderMaterial','vertex','shaders','fog','BufferGeometry','mesh','SHOULD_ROTATE_TEXTURE','angle','spread','SHOULD_ROTATE_PARTICLES','rotation','angleSpread','wiggle','addAttribute','setDrawRange','Emitter','error','`emitter`\x20argument\x20must\x20be\x20instance\x20of\x20SPE.Emitter.\x20Was\x20provided\x20with:','group','particleCount','maxAge','_setBufferUpdateRanges','_assignPositionValue','_assignForceValue','velocity','acceleration','_assignAbsLifetimeValue','_assignAngleValue','_assignRotationValue','_assignParamsValue','_assignColorValue','_applyAttributesToGeometry','_updateDefines','Emitter\x20already\x20belongs\x20to\x20another\x20group.\x20Will\x20not\x20add\x20to\x20requested\x20group.','removeEmitter','Emitter\x20does\x20not\x20exist\x20in\x20this\x20group.\x20Will\x20not\x20remove.','params','_onRemove','getFromPool','pop','addEmitter','releaseIntoPool','reset','Argument\x20is\x20not\x20instanceof\x20SPE.Emitter:','getPool','addPool','_triggerSingleEmitter','enable','disable','duration','triggerPoolEmitter','_updateUniforms','runTime','deltaTime','_updateBuffers','bufferUpdateRanges','tick','radius','drag','color','opacity','onParticleSpawn','distributions','spreadClamp','distribution','randomise','radiusScale','axis','axisSpread','static','center','ensureArrayInstanceOf','ensureArrayTypedArg','isStatic','activeMultiplier','direction','alive','particlesPerSecond','activationIndex','attributeOffset','attributeEnd','age','paramsArray','resetFlags','updateFlags','updateMap','updateCounts','ensureValueOverLifetimeCompliance','_rotationCenter','rotationCenter','_randomise','POSITIVE_INFINITY','_calculatePPSValue','activationEnd','_assignValue','_distribution','BOX','randomVector3','_spreadClamp','SPHERE','randomVector3OnSphere','_radius','_radiusScale','_distributionClamp','DISC','randomVector3OnDisc','arrayValuesAreEqual','_axis','_axisSpread','_angle','_angleSpread','randomColorAsHex','_updateAttributeUpdateRange','_resetBufferRanges','bufferUpdateKeys','activeParticleCount','_decrementParticleCount','_incrementParticleCount','_checkParticleAges','_activateParticles','_resetParticle','Emitter\x20does\x20not\x20belong\x20to\x20a\x20group,\x20cannot\x20remove.','getPrototypeOf','Bad\x20Promise\x20constructor','resolve','reject','charCodeAt','meta','preventExtensions','Object','getIterator','\x20is\x20not\x20iterable!','done','BREAK','RETURN','textureLoader','TextureLoader','textureList','load','checkTextureIsLoaded','return','multiTexturesLoad','path','textureLoad','all','loadSixPicCubeTexture','CubeTextureLoader','loadTexture','MarkerFuncName','ESModelEffectConstant','ESParkConstant','ESTileConstant','ESMarkerLevel','ESMarkerType','cylinder_float','cylinder_spread','cone_spread','circle_ripple','circle_bips','circles_radian_rotate','circle_breath','transfer_line','points_line','underground_line','extent_wall','fire_smoke','smoke','smoke_spread','fire','explosion','water_spread','float_points','device_wind','sphere_points','up_line','guide_line','plane_fog','plane_terrain','plane_ground','signal_wifi','sprite_sheet','CubeFloatMarker','CircleRippleMarker','CircleRadianMarker','MultiCircleBreathMarker','UnderGroundLine','NumberUpParticle','SphereSpreadMarker','ExtentWallMarker','FireSmokeMarker','SmokeMarker','FireMarker','ExplosionMarker','WaterSpreadMarker','FloatPointsMarker','DeviceWindMarker','SpherePointsMarker','PlaneVideoMarker','GuideLineMarker','PlaneWindMarker','PlaneFogMarker','PlaneTerrainMarker','PlaneGroundMarker','SpriteSheetMarker','CommonConstant','INDOOR','PARK','CITY','dark','light','technology','none','style2','night','day','style1','noface','lineframe','ESEffectsConstant','data','process','setImmediate','clearImmediate','MessageChannel','Dispatch','onreadystatechange','nextTick','now','port2','port1','onmessage','addEventListener','postMessage','message','script','KEY','JSON','stringify','_hidden','toPrimitive','symbols','op-symbols','findChild','Symbol\x20is\x20not\x20a\x20constructor!','hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables','\x20is\x20not\x20a\x20symbol!','[null]','getOwnPropertyNames','asyncIterator','observable','defineProperties',':\x20incorrect\x20invocation!','from','assign','forEach','species','imageHeight','xCount','yCount','fps','xStart','yStart','timer','imageWidth','xSize','yIndex','isNeedTargetFrameStart','targetFrame','isLoop','isLockUpdate','loopCount','repeat','isAutoClip','xIndex','ySize','update','getElapsedTime','dispatchEvent','targetFrameStart','createMaterial','colorStr','lineMaterial','MeshLineMaterial','setStyle','dashArray','dashOffset','sizeAttenuation','lineWidth','near','camera','far','DoubleSide','effect_track_line','makeSquare','Geometry','vertices','makeMeshLineGeometry','makeLineGeometry','MeshLine','linear','setGeometry','parabolic','pow','wavy','meshLines','taper','Mesh','renderOrder','object3d','addLineGeometry','getAngleToNextLine','tempDir','tempEndPoint','tempStartPoint','cross','angleTo','collectPoints','children','merge','Matrix4','makeScale','intersectObject','point','disposeChilds','setResizeListen','resize','resolution','width','height','disposeAll','useFadeOut','fadeOutFactor','Tween','onUpdate','easing','Easing','Quadratic','render','speed','visible','#FFFFFF','lineType','Object3D','wrapT','RepeatWrapping','wrapS','Promise','TypeError','then','6.6','Chrome/66','fail','rejectionHandled','onrejectionhandled','exit','promise','Promise-chain\x20cycle','emit','onunhandledrejection','console','Unhandled\x20promise\x20rejection','Promise\x20can\x27t\x20be\x20resolved\x20itself','domain','MutationObserver','WebKitMutationObserver','navigator','standalone','createTextNode','observe','container','eventName','layer','handleGetPos','callback','init','removeEventListener','_handleGetPos','getOffsetX','event','srcElement','offsetX','getBoundingClientRect','clientX','left','offsetY','getOffsetY','view','pickPosition','colorTextures','image','lonLanToMc','CoordTransform','getWorldPosFromLoLa','google','mcToLonLan','getLoLaFromWorldPos','lut','setColorMap','Lut','maxV','rainbow','minV','getContext','getImageData','putImageData','ColorMapKeywords','isFlying','flyTo','radiusFactor','pitchAngle','complete','ESDirection','distanceTo','_cameraSphericalRadius','NORTH','SOUTH','EAST','NORTH_EAST','SOUTH_EAST','SOUTH_WEST','controls','moveToAnimate','can\x20not\x20find\x20esmap.ESDirection\x20data','cameraPosition','flyFocusTo','targetPos','time','toggleControlsLock','degToRad','rotateAround','Out','onStart','start','checkScaleLevel','updateLookAtPos','enableRotate','enableZoom','_getSegementPointsForVec3','sub','index','_index','getSegementPoints','positions','previous','indices_array','uvs','widthCallback','buffer','UniformsLib','meshline_vert','meshline_frag','useMap','alphaMap','useAlphaMap','useDash','dashRatio','visibility','useChange','setValues','matrixWorld','counters','raycast','Ray','Sphere','linePrecision','computeBoundingSphere','boundingSphere','applyMatrix4','ray','LineSegments','fromArray','origin','distanceSqToSegment','compareV3','side','copyV3','copyArray','setIndex','attribute\x20vec3\x20previous;','attribute\x20vec3\x20next;','attribute\x20vec3\x20changeColor;','attribute\x20float\x20side;','attribute\x20float\x20width;','uniform\x20float\x20lineWidth;','uniform\x20vec3\x20color;','uniform\x20float\x20opacity;','uniform\x20float\x20far;','uniform\x20float\x20sizeAttenuation;','varying\x20vec2\x20vUV;','varying\x20vec3\x20vChangeColor;','varying\x20float\x20vCounters;','vec2\x20fix(\x20vec4\x20i,\x20float\x20aspect\x20)\x20{','\x20\x20\x20\x20res.x\x20*=\x20aspect;','\x09\x20vCounters\x20=\x20counters;','\x20\x20\x20\x20float\x20pixelWidthRatio\x20=\x201.\x20/\x20(resolution.x\x20*\x20projectionMatrix[0][0]);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20color,\x20opacity\x20);','\x20\x20\x20\x20vChangeColor\x20=\x20vec3(\x20changeColor\x20);','\x20\x20\x20\x20vUV\x20=\x20uv;','\x20\x20\x20\x20mat4\x20m\x20=\x20projectionMatrix\x20*\x20modelViewMatrix;','\x20\x20\x20\x20vec4\x20finalPosition\x20=\x20m\x20*\x20vec4(\x20position,\x201.0\x20);','\x20\x20\x20\x20vec4\x20nextPos\x20=\x20m\x20*\x20vec4(\x20next,\x201.0\x20);','\x20\x20\x20\x20vec2\x20currentP\x20=\x20fix(\x20finalPosition,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20prevP\x20=\x20fix(\x20prevPos,\x20aspect\x20);','\x20\x20\x20\x20vec2\x20nextP\x20=\x20fix(\x20nextPos,\x20aspect\x20);','\x20\x20\x20\x20float\x20pixelWidth\x20=\x20finalPosition.w\x20*\x20pixelWidthRatio;','\x20\x20\x20\x20float\x20w\x20=\x201.8\x20*\x20pixelWidth\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20\x20\x20\x20\x20w\x20=\x201.8\x20*\x20lineWidth\x20*\x20width;','\x20\x20\x20\x20}','\x20\x20\x20\x20vec2\x20dir;','\x20\x20\x20\x20else\x20if(\x20prevP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);','\x20\x20\x20\x20else\x20{','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir1\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);','\x20\x20\x20\x20\x20\x20\x20\x20dir\x20=\x20normalize(\x20dir1\x20+\x20dir2\x20);','\x20\x20\x20\x20\x20\x20\x20\x20//w\x20=\x20clamp(\x20w\x20/\x20dot(\x20miter,\x20perp\x20),\x200.,\x204.\x20*\x20lineWidth\x20*\x20width\x20);','\x20\x20\x20\x20//vec2\x20normal\x20=\x20(\x20cross(\x20vec3(\x20dir,\x200.\x20),\x20vec3(\x200.,\x200.,\x201.\x20)\x20)\x20).xy;','\x20\x20\x20\x20normal.x\x20/=\x20aspect;','\x20\x20\x20\x20normal\x20*=\x20.5\x20*\x20w;','\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(\x20normal\x20*\x20side,\x200.0,\x201.0\x20);','\x20\x20\x20\x20finalPosition.xy\x20+=\x20offset.xy;','\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20sampler2D\x20map;','uniform\x20float\x20useMap;','uniform\x20float\x20useAlphaMap;','uniform\x20float\x20useFadeOut;','uniform\x20float\x20dashArray;','uniform\x20float\x20dashOffset;','uniform\x20float\x20visibility;','uniform\x20float\x20fadeOutFactor;','uniform\x20float\x20useChange;','uniform\x20vec2\x20offset;','void\x20main()\x20{','logdepthbuf_fragment','\x20\x20\x20\x20vec4\x20c\x20=\x20vColor;','\x20\x20\x20\x20if(\x20useMap\x20==\x201.\x20)\x20c\x20*=\x20texture2D(\x20map,\x20vUV\x20*\x20repeat\x20+\x20offset\x20);','\x20\x20\x20\x20if(\x20useAlphaMap\x20==\x201.\x20)\x20c.a\x20*=\x20texture2D(\x20alphaMap,\x20vUV\x20*\x20repeat\x20+\x20offset\x20).a;','\x20\x20\x20\x20if(\x20c.a\x20<\x20alphaTest\x20)\x20discard;','\x20\x20\x20\x20if(\x20useDash\x20==\x201.\x20){','\x20\x20\x20\x20\x20\x20\x20\x20c.a\x20*=\x20ceil(mod(vCounters\x20+\x20dashOffset,\x20dashArray)\x20-\x20(dashArray\x20*\x20dashRatio));','\x20\x20\x20\x20gl_FragColor.a\x20*=\x20step(vCounters,\x20visibility);','\x20\x20\x20\x20if(\x20useChange\x20==\x201.\x20)\x20gl_FragColor.rgb\x20=\x20vec3(vChangeColor);','isMeshLineMaterial','setStandardMaterialParams','jsonFileLoader','FileLoader','parse','requestEffectThemeConfig','isRandom','getTime','roughness','metalness','mirrorReflection','hightLightReflection','splitCrossFloorPoints','fnum','crossTo','throw','createSkybox','createTextureCube','cube','BackSide','BoxBufferGeometry','scene','RGBFormat','CubeReflectionMapping','encoding','sRGBEncoding','mapView','gradientShader','skyBox','textureCube','canUpdate','CubeTexture','format','canvas','drawImage','images','createBox','isCullGround','intensity','ShaderLib','tCube2','cullHeight','cullColor','vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','uniform\x20samplerCube\x20tCube;','vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20)\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20cubeUv\x20=\x20vec3(\x20tFlip\x20*\x20vWorldDirection.x,\x20vWorldDirection.yz\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20textureCube(\x20tCube,\x20cubeUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor2\x20=\x20textureCube(\x20tCube2,\x20cubeUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor\x20=\x20mix(\x20texColor,\x20texColor2,\x20transFactor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20=\x20colorSaturation(texColor.rgb,\x203.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texColor.rgb\x20*=\x200.8;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20cullHeight){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullColor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20cullHeight){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texColor.rgb\x20=\x20vec3(cullColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','tCube','envMap','createGradientSky','#0077ff','#ffffff','exponent','MeshBasicMaterial','topColor','skyTex','#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(skyTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x20offset\x20).y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20texCol.rgb,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','createGradientCubeSky','topColorStr','bottomColorStr','bottomColor','#include\x20<common>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20newProject;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<project_vertex>','#define\x20IS_SKY_COLOR','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exponent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bottomColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor.a\x20*=\x20opacity;','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor.a\x20*=\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x20normalize(\x20vModelPos\x20+\x2030000000.0\x20).y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyColor\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SKY_COLOR\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20skyColor\x20=\x20topColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20mix(\x20bottomColor,\x20skyColor,\x20max(\x20pow(\x20max(\x20h,\x200.0\x20),\x20exponent\x20),\x200.0\x20)\x20),\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SphereBufferGeometry','createSphereSky','onBeforeCompile','#include\x20<fog_vertex>','createSphereCubeSky','texturePath','rotateAngle','CylinderBufferGeometry','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','background','skyMaterial','skyMesh','phi','theta','nightSkyConfigs','setSkyConfig','skyConfigs','turbidity','rayleigh','luminance','mieCoefficient','mieDirectionalG','refreshSky','sunPosition','cameraPos','\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20sunPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rayleigh;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20turbidity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20e\x20=\x202.71828182845904523536028747135266249775724709369995957;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20lambda\x20=\x20vec3(\x20680E-9,\x20550E-9,\x20450E-9\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20totalRayleigh\x20=\x20vec3(\x205.804542996261093E-6,\x201.3562911419845635E-5,\x203.0265902468824876E-5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20v\x20=\x204.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20K\x20=\x20vec3(\x200.686,\x200.678,\x200.666\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20MieConst\x20=\x20vec3(\x201.8399918514433978E14,\x202.7798023919660528E14,\x204.0790479543861094E14\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20cutoffAngle\x20=\x201.6110731556870734;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20steepness\x20=\x201.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20EE\x20=\x201000.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20sunIntensity(\x20float\x20zenithAngleCos\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20zenithAngleCos\x20=\x20clamp(\x20zenithAngleCos,\x20-1.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20EE\x20*\x20max(\x200.0,\x201.0\x20-\x20pow(\x20e,\x20-(\x20(\x20cutoffAngle\x20-\x20acos(\x20zenithAngleCos\x20)\x20)\x20/\x20steepness\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20totalMie(\x20float\x20T\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20(\x200.2\x20*\x20T\x20)\x20*\x2010E-18;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.434\x20*\x20c\x20*\x20MieConst;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20worldPosition.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunDirection\x20=\x20normalize(\x20sunPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunE\x20=\x20sunIntensity(\x20dot(\x20vSunDirection,\x20up\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSunfade\x20=\x201.0\x20-\x20clamp(\x201.0\x20-\x20exp(\x20(\x20sunPosition.y\x20/\x20450000.0\x20)\x20),\x200.0,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighCoefficient\x20=\x20rayleigh\x20-\x20(\x201.0\x20*\x20(\x201.0\x20-\x20vSunfade\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaR\x20=\x20totalRayleigh\x20*\x20rayleighCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBetaM\x20=\x20totalMie(\x20turbidity\x20)\x20*\x20mieCoefficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','isShowWater','replaceColor','originColor','updateView','updateLayerNodesMaterial','waterTime','isTileBuilding','texPath','topTexPath','gradientCustom','emissiveTexPath','buildingColorStr','highLightColorStr','emissiveColorStr','isBlending','isOpenScan','isShowHorizonScan','isShowVerticalScan','isShowCenterSpread','isShowRadarScan','centerPos','hlColorStr','#fbfbfb','hlWidth','hlDiffuse','vlColorStr','vlSpeed','spreadValue','csMaxRadius','csCenterPos','radarRadius','radarSpeed','radarCenterPos','radarTexPath','textureLightStrength','topRotate','extentEffectConfig','buildingColor','highLightColor','topTexture','gradientTexture','extentGradientTexture','screenSkyTexture','radarScanTexture','emissiveTexture','wireframeMaterial','emissiveFactor','csTime','rdTime','isOpenWireframScan','isShowScanEffect','hlExtent','hlColor','hlSpeed','vlColor','vlHeight','vlIsTop','csColor','radarColor','isBreathColor','textureRepeat','textureRotate','isUseExtentEffect','extentRadius','extentCenter','gradientImg','isUseScreenSky','themeList','_heightColorConfigs','themeImgMapping','themeTextureList','buildingBaseRepeat','unrealBloom','gradientLut','addColorMap','buildingGradient','getThemeStyleIndex','topImgIndexMap','sideImgIndexMap','computeTopFaceAttr','brothers','filltype','topImage','sideImage','shader','topTexArr','topTextureType','buildingTexRepeat','topTexRepeatArr','topimagerepeat','topTexWrapArr','ClampToEdgeWrapping','sideTexArr','anisotropy','sideTextureType','sideTexWrapArr','sideTexRepeatArr','sideimagerepeat','computeTopFaceAttrForEdit','settingShaderUniforms','typeid','range','computeRoomWidth','getDis','sideTexPath','gradientTexPath','extentGradientTexPath','MeshStandardMaterial','capabilities','renderer','getMaxAnisotropy','CanvasTexture','Uniform','fill','selectedColor_','iTime','extentLightDown','sideTex','buildingTexRotate','topTex','gradientTex','isShowScan','hlTime','vlTime','rdCenterPos','rdRadius','rdColor','rdScanTex','exGradientTex','styleId','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_OPEN_EF','#define\x20IS_TILE_BUILDING','#define\x20IS_USE_SS_SKY','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20faceAspect;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isHideFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20normalizeUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20rUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec4\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20buildingTexRotate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHighLight\x20=\x20highLightFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hideFlags\x20=\x20isHideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20normalizeUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.x,\x20buildingTexRepeat.y,\x20buildingTexRotate.x,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20suvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20buildingTexRepeat.z,\x20buildingTexRepeat.w,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tvUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20svUv\x20=\x20(\x20suvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20newPos\x20=\x20position;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edege\x20of\x20start\x20point\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.x\x20+=\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20newPos.z\x20-=\x20centerPos.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(newPos,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHeight\x20=\x20buildingsHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRandom\x20=\x20randomFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBColor\x20=\x20buildingsColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vHLColor\x20=\x20highLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTopTexIndex\x20=\x20topTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSideTexIndex\x20=\x20sideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSelectedFlag\x20=\x20isSelectFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vRoundUv\x20=\x20vec2(rUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flag\x20=\x20topFaceFlags;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vGlPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_GRADIENT_TEXTURE','#define\x20IS_BREATH_COL','#define\x20VERTICAL_LINE','#define\x20EXTENT_EFFECT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20extentLightDown;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20styleId;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20int\x20TexNum\x20=\x205;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20centerPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texLightStg;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20emissiveTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20emissiveFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20buildingTexRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20selectedColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20isOpenScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlWidth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20hlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20hlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlSpeed;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20vlTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20vlColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spreadValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20csTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20csCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20csColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20rdCenterPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20rdScanTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20extentRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentCenter;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20exGradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vGlPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20topTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20sideTexArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20topTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20sideTexWrapArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20topTexRepeatArr[TexNum];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sideTexRepeatArr[TexNum];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vHLColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vRoundUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSelectedFlag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20flag;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vHighLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vRandom;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20hideFlags;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20SRGB_TO_LINEAR(c)\x20pow(abs(c),\x20vec3(2.2))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20LINEAR_TO_SRGB(c)\x20pow(abs(c),\x20vec3(1.0\x20/\x202.2))\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20gradientNoise(in\x20vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20magic\x20=\x20vec3(0.06711056,\x200.00583715,\x2052.9829189);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(magic.z\x20*\x20fract(dot(uv,\x20magic.xy)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20edge\x20wihte\x20line\x20and\x20dark\x20bg\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20edgeFactor(vec2\x20p){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec2\x20grid\x20=\x20abs(fract(p\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(p)\x20/\x200.1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20min(grid.x,\x20grid.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20gradientBg\x20(vec3\x20col1,\x20vec3\x20col2,\x20vec2\x20a,\x20vec2\x20b,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20ba\x20=\x20b\x20-\x20a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20dot(uv\x20-\x20a,\x20ba)\x20/\x20dot(ba,\x20ba);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Saturate\x20and\x20apply\x20smoothstep\x20to\x20the\x20factor.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20t\x20=\x20smoothstep(0.0,\x201.0,\x20clamp(t,\x200.0,\x201.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Interpolate.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(SRGB_TO_LINEAR(col1),\x20SRGB_TO_LINEAR(col2),\x20t);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Convert\x20color\x20from\x20linear\x20to\x20sRGB\x20color\x20space\x20(=gamma\x20encode).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20LINEAR_TO_SRGB(color);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20Add\x20gradient\x20noise\x20to\x20reduce\x20banding.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color\x20+=\x20(1.0/255.0)\x20*\x20gradientNoise(uv)\x20-\x20(0.5/255.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20horizontalLine\x20(vec4\x20resultColor,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20extent\x20=\x20abs(posValue\x20-\x20time);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extent\x20<\x20hlWidth){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20old\x20-\x20should\x20not\x20use\x20it\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20colorAdd\x20=\x20pow(1.\x20-\x20pow(abs(posValue\x20-\x20time)\x20*\x200.001,\x201.2),\x203.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20colorAdd\x20=\x20colorAdd\x20*\x20hlDiffuse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(resultColor,\x20vec3(1.0,\x201.0,\x201.0),\x20colorAdd);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20a\x20=\x20edgeFactor(nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20mix\x20gradient\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20vec4(hlColor,\x201.0),\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20color\x20=\x20texture2D(scanTexture,\x20vec2(0.0,\x20extent\x20/\x20hlWidth\x20/\x202.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20color.rgb\x20=\x20vec3(1).rgb\x20-\x20color.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20return\x20mix(\x20color.rgb,\x20resultColor,\x20extent\x20/\x20hlWidth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20breathCol(float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20period\x20=\x20fract(time\x20/\x20120.0)\x20*\x203.14159265\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20trans\x20=\x20posValue\x20/\x20100.0\x20+\x20sin(period)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(trans,\x20trans,\x20trans);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20verticalLine(vec3\x20col,\x20float\x20posValue,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(time\x20/\x20360.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hTrans\x20=\x20clamp(posValue\x20/\x20vlHeight,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20abs(f\x20-\x200.5)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20diff\x20=\x20step(0.02,\x20abs(hTrans\x20-\x20f));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20col\x20*\x20(1.0\x20-\x20diff);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec3\x20vPos,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(vPos.xz-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20centerSpreadLine(vec4\x20resultColor,\x20float\x20time)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vModelPos,\x20vec2(csCenterPos.x,\x20csCenterPos.y),\x20time,\x20spreadValue);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec4(csColor,\x201.0),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radarScan()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20rdCenterPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20rdCenterPos.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20rdRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-rdRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20rdRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x20-rdTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20rotationMatrix\x20=\x20mat2(\x20c,\x20s,-s,\x20\x20c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pivot\x20=\x20vec2(0.5,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotationMatrix\x20*\x20(uv\x20-\x20pivot)\x20+\x20pivot;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(rdScanTex,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb\x20*\x20rdColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20extentTexColor()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xOffset\x20=\x20extentCenter.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zOffset\x20=\x20extentCenter.y;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20-extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20extentRadius\x20+\x20xOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20-extentRadius\x20+\x20zOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20extentRadius\x20+\x20zOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20result\x20=\x20texture2D(exGradientTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20result.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vGlPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vGlPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingTopTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20topTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(topTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vTopTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(topTexArr[0],\x20topTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(topTexArr[1],\x20topTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(topTexArr[2],\x20topTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(topTexArr[3],\x20topTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20topTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20color4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20tileBuildingSideTextures(vec2\x20rUv,\x20vec2\x20nUv,\x20inout\x20vec4\x20sideTexColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20originColor\x20=\x20texture2D(sideTex,\x20nUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20vec4(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20index\x20=\x20vSideTexIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color1\x20=\x20texture2D(sideTexArr[0],\x20sideTexWrapArr[0]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[0]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color2\x20=\x20texture2D(sideTexArr[1],\x20sideTexWrapArr[1]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[1]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color3\x20=\x20texture2D(sideTexArr[2],\x20sideTexWrapArr[2]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[2]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color4\x20=\x20texture2D(sideTexArr[3],\x20sideTexWrapArr[3]\x20>\x201000\x20?\x20nUv\x20:\x20rUv\x20*\x20sideTexRepeatArr[3]);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x200.0\x20&&\x20index\x20<\x201.5){\x20//\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x201.5\x20&&\x20index\x20<\x202.5){\x20//\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x202.5\x20&&\x20index\x20<\x203.5){\x20//\x203\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(index\x20>\x203.5\x20&&\x20index\x20<\x204.5){\x20//\x204\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20mapTexelToLinear(color4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<lights_fragment_begin>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GeometricContext\x20geometry;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.position\x20=\x20-\x20vViewPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.normal\x20=\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20geometry.viewDir\x20=\x20normalize(\x20vViewPosition\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20IncidentLight\x20directLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_POINT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20PointLight\x20pointLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_POINT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pointLight\x20=\x20pointLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getPointDirectLightIrradiance(\x20pointLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20pointLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getPointShadow(\x20pointShadowMap[\x20i\x20],\x20pointLight.shadowMapSize,\x20pointLight.shadowBias,\x20pointLight.shadowRadius,\x20vPointShadowCoord[\x20i\x20],\x20pointLight.shadowCameraNear,\x20pointLight.shadowCameraFar\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_SPOT_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20SpotLight\x20spotLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_SPOT_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20spotLight\x20=\x20spotLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getSpotDirectLightIrradiance(\x20spotLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20all(\x20bvec2(\x20spotLight.shadow,\x20directLight.visible\x20)\x20)\x20?\x20getShadow(\x20spotShadowMap[\x20i\x20],\x20spotLight.shadowMapSize,\x20spotLight.shadowBias,\x20spotLight.shadowRadius,\x20vSpotShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isNeedDirectShadow\x20=\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_DIR_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20DirectionalLight\x20directionalLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_DIR_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directionalLight\x20=\x20directionalLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20getDirectionalDirectLightIrradiance(\x20directionalLight,\x20geometry,\x20directLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_SHADOWMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20all(\x20bvec2(\x20directionalLight.shadow,\x20directLight.visible\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20isNeedDirectShadow\x20=\x20vSelectedFlag\x20<=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20directLight.color\x20*=\x20isNeedDirectShadow\x20?\x20getShadow(\x20directionalShadowMap[\x20i\x20],\x20directionalLight.shadowMapSize,\x20directionalLight.shadowBias,\x20directionalLight.shadowRadius,\x20vDirectionalShadowCoord[\x20i\x20]\x20)\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct(\x20directLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_RECT_AREA_LIGHTS\x20>\x200\x20)\x20&&\x20defined(\x20RE_Direct_RectArea\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RectAreaLight\x20rectAreaLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_RECT_AREA_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rectAreaLight\x20=\x20rectAreaLights[\x20i\x20];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20RE_Direct_RectArea(\x20rectAreaLight,\x20geometry,\x20material,\x20reflectedLight\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectDiffuse\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20irradiance\x20=\x20getAmbientLightIrradiance(\x20ambientLightColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getLightProbeIrradiance(\x20lightProbe,\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(\x20NUM_HEMI_LIGHTS\x20>\x200\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#pragma\x20unroll_loop\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(\x20int\x20i\x20=\x200;\x20i\x20<\x20NUM_HEMI_LIGHTS;\x20i\x20++\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20irradiance\x20+=\x20getHemisphereLightIrradiance(\x20hemisphereLights[\x20i\x20],\x20geometry\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20defined(\x20RE_IndirectSpecular\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20radiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20clearCoatRadiance\x20=\x20vec3(\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<map_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20useTopUv,\x20useSideUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingTopTextures(tvUv,\x20nvUv,\x20topTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.x\x20==\x200.0\x20&&\x20buildingTexRepeat.y\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20nvUv;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useTopUv\x20=\x20tvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20topTexColor\x20=\x20texture2D(topTex,\x20useTopUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tileBuildingSideTextures(svUv,\x20nvUv,\x20sideTexColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(buildingTexRepeat.z\x20==\x200.0\x20&&\x20buildingTexRepeat.w\x20==\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20useSideUv\x20=\x20svUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20=\x20texture2D(sideTex,\x20useSideUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20gradientColor\x20=\x20texture2D(gradientTex,\x20vec2(1.0,\x20nvUv.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20topTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_GRADIENT_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sideTexColor\x20*=\x20gradientColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20sideTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.rgb\x20*=\x20texLightStg.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20originColor\x20=\x20vec4(outgoingLight,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(hideFlags\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TILE_BUILDING\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20vBColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BREATH_COL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20breathSpeed\x20=\x20iTime\x20*\x2020.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20breathCol(vModelPos.y,\x20breathSpeed);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20<\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_EMISSIVE_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20oUV\x20=\x20emissiveFactor.w\x20>\x200.0000001\x20?\x20vec2(svUv.x\x20*\x20emissiveFactor.w,\x20svUv.y\x20*\x20emissiveFactor.w\x20+\x20vRandom)\x20:\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveTexCol\x20=\x20texture2D(emissiveTex,\x20vRoundUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveTexCol\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveTexCol.rgb\x20*=\x20emissiveFactor.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20emissiveTexCol.rgb;\x20//\x20it\x20will\x20lost\x20origin\x20mat\x20config\x20effect\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(normalize(cameraPosition.xz));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20skyCol\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20EXTENT_EFFECT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20extentTexColor();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_OPEN_EF\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20VERTICAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(flag\x20>\x200.5){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20verticalLine(vlColor,\x20vModelPos.y,\x20vlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20HORIZONTAL_LINE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20horizonPos\x20=\x20vModelPos.x\x20-\x20centerPos.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20horizontalLine(resultColor,\x20\x20horizonPos,\x20hlTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20CENTER_SPREAD\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20buildingColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20centerSpreadLine(resultColor,\x20csTime);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20RADAR_SCAN\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20radarScan();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(extentLightDown)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(0.1),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vTopTexIndex\x20>\x200.0\x20||\x20vSideTexIndex\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20mix(vec3(1.0),\x20vHLColor.rgb,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vHighLight\x20>\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vHLColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(resultColor.a,\x20vHLColor.a,\x20vHighLight);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vSelectedFlag\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20vec4(originColor.rgb\x20*\x20selectedColor,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderCompileComplete','updateParams','getMaterial','getWireframeMaterial','setHSL','toggleExtentLight','shaderMesh','vlExtent','csSpeed','hypot','gapDistance','pointSize','root','points','deltaDistance','currIndex','animateHandle','routePoints','InterleavedBuffer','InterleavedBufferAttribute','cIndex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIndex\x20=\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIndex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sin2(const\x20float\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20v\x20=\x20mod(value,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20step(0.5,\x20v);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.0\x20-\x20s;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(v\x20*\x20t\x20+\x20(1.0\x20-\x20v)\x20*\x20s)\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20op\x20=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20o\x20=\x201.0\x20-\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20smoothstep(0.25,\x200.75,\x20sin2((iTime\x20/\x202.0\x20-\x20vIndex\x20/\x2016.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20op\x20+=\x20o\x20*\x20s;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20op\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','_addTestBox','MeshLambertMaterial','emissive','_moveObjInPointsLine','_moveObjToTarget','autoScale','#40ffff','isSpread','texture1','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20vec4(0.0,\x200.768,\x201.0,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.018);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texCol.rgb\x20*\x20diffuseColor.rgb,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','PlaneBufferGeometry','offsetHeight','lookAtPos','texOffsetY','isCanUpdate','isNeedUpdateLookAt','list','alphaTex','numTex','#include\x20<uv2_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.01,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20nPos\x20=\x2010.0\x20*\x20vec3(position);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.x\x20+=\x20posOffset.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20modelPos.y\x20+=\x20(fract(iTime\x20*\x20speed)\x20*\x20exRadius)\x20+\x20offsetHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.y\x20+=\x20posOffset.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20modelPos.z\x20+=\x20posOffset.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20numTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','getAttribute','randFloat','Float32BufferAttribute','frustumCulled','createRandomObj','lineHeight','setUpdateListen','setLookAtCamera','end','lookAt','isShowConeScan','coneMaterial','isCanUpdateAnimate','testBox','lookAtPoint','upDelta','upCount','coneMesh1','cone2','intervalHandle','#ffeb3b','magFilter','LinearFilter','minFilter','LinearMipMapLinearFilter','sphere','coneGroup','animate','addCones','rotateX','coneMesh2','cone1','lookAtAnimate','Linear','None','createRadialGradient','addColorStop','rgba(255,\x20255,\x20255,\x201)','rgba(0,\x200,\x200,\x201)','fillStyle','fillRect','enabled','fireSmokeParticle','fireParticle','emitter','centerGroup','_visible','innerTex','outTex','isOpenScreenEffect','spreadFactor','vectorSpread','fireSmokeEmitter','fogColor','fireEmitter','outfire','particleGroup','debug','AxesHelper','closeWater','Invalid\x20attempt\x20to\x20destructure\x20non-iterable\x20instance','regeneratorRuntime','_invoke','method','delegate','arg','resultName','nextLoc','iterator\x20result\x20is\x20not\x20an\x20object','sent','dispatchException','__await','catchLoc','afterLoc','tryEntries','completion','normal','wrap','executing','completed','displayName','GeneratorFunction','setPrototypeOf','awrap','async','isGeneratorFunction','Generator','[object\x20Generator]','reverse','prev','_sent','rval','tryLoc','finallyLoc','break','illegal\x20catch\x20attempt','SimplexNoise','grad4','perm','simplex','dot','dot3','dot4','noise','grad3','noise3d','noise4d','LutAlpha','Incompatible\x20receiver,\x20','TWEEN','_tweens','_tweensAddedDuringUpdate','getId','_isPlaying','_nextId','nextId','hrtime','performance','_object','_valuesStartRepeat','_repeat','_reversed','_delayTime','_startTime','_easingFunction','Interpolation','_chainedTweens','_onStartCallback','_onStartCallbackFired','_onUpdateCallback','_onRepeatCallback','_onCompleteCallback','_onStopCallback','_group','_id','_duration','_valuesEnd','_valuesStart','stopChainedTweens','stop','_repeatDelayTime','_yoyo','_interpolationFunction','Bounce','Utils','Bernstein','CatmullRom','Factorial','setTimeout\x20has\x20not\x20been\x20defined','clearTimeout\x20has\x20not\x20been\x20defined','run','fun','title','browser','env','argv','once','off','removeListener','removeAllListeners','prependListener','prependOnceListener','listeners','process.binding\x20is\x20not\x20supported','process.chdir\x20is\x20not\x20supported','umask','ESMapTools\x20requires\x20esmap.js','ESLayerType','EFFECT_MARKER','ESLayer','effectMarker','lines','buildings','floors','lights','routes','skybox','water','heatMap','screenEffect','switchEffectTheme','switchEffectLight','clearAll','isInitComplete','esmap\x20is\x20not\x20initialized','getFloorHeight','getFloor','_effectLayers','FloorNum','o3d_','effect\x20initialize\x20is\x20not\x20complete!','removeLayer','floorNums','Symbol\x20is\x20not\x20a\x20constructor','__Name__','this\x20is\x20null\x20or\x20not\x20defined','addMarker','markers','removeAll','marker','floatOffset','imgUrl','MARKER_ASSETS','cylinderHeight','moveHeight','isShine','seeThrough','noBloomLight','activeNum','animateType','period','fixedSize','CylinderSpreadMarker','isCilpGround','scanHeight','clipGroundY','cincture','ConeSpreadMarker','alphaTexture','depth','lineNumber','randomCenter','focuseColor','isTransparentLight','isScrollX','scrollImgUrl','scrollXRepeat','scrollClockWise','isHideBackWall','isSetTopAlphaTrans','wallMaterial','extentList','wallHeight','isNoClose','innerTexture','windFactor','directionAngle','SmokeSpreadMarker','smokeTex','explosionTex','dirAngle','isRandomColor','extentHeight','extentWidth','imgStyle','column','row','columnIndex','rowIndex','uvAnimate','UpLine','imgRepeat','isCanChangeStyle','routeList','addLine','createVideoElement','src','planeWidth','planeHeight','thickness','normalImgUrl','clipBorderImgUrl','heightImgUrl','meshHeight','transFactor','materialType','isScanLight','isAutoRepeat','_init','CUBE_FLOAT','_instance','addCube','_bindClick','CIRCLE_ROTATE','setPosition','userData','POINTS','colorIndex','_options','updatePosition','moveTo','updateStyle','CIRCLE_RIPPLE','CYLINDER_SPREAD','CONE_SPREAD','EXTENT_WALL','wallListData','addExtent','addWall','deleteExtentById','extentWallList','FIRE','SMOKE','SMOKE_SPREAD','EXPLOSION','toggleEmitter','WATER_SPREAD','FLOAT_POINTS','updateConfig','SPHERE_POINTS','play','UP_LINE','ROUTES_LINE','coordMapToThree','bid','userId','lastAngle','traverse','_getMaterial','fadeOut','isChangeLineColor','_originLineWidth','PLANE_VIDEO','playVideo','playSound','PLANE_WIND','rotateTo','PLANE_FOG','setAlpha','PLANE_TERRAIN','PLANE_GROUND','controlend','autoRepeat','zoomLevel','debugAxeSize','setRotation','_enabled','_removeListen','_root_','_bindListen','upadateMarker','_setShowLevel','isForceVisible','showLevel','_bindShowLevel','zoomed','_update','markerType','nodeType','mapCoord','noiseTexPath','isShowWaterRipple','repeatTexture','noiseTexture','nextTexture','repeatFactor','texLightFactor','texture2','bgColor','isShowTextureRepeat','noiseTex','repeatTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x09\x09\x09\x09','#define\x20IS_BG','#define\x20IS_TEX_REPEAT','#define\x20IS_WATER_RIPPLE','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20waterRipple();\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_BG\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(bgColor,\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(bgColor,\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(curTexColor.rgb,\x20nextTexColor.rgb,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20curTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20curTexColor.rgb,\x20curTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nextTexColor.rgb\x20=\x20mix(vec3(texLightFactor),\x20nextTexColor.rgb,\x20nextTexColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20repeatTexCol\x20=\x20texture2D(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20repeatTexCol\x20=\x20textureNoTile(repeatTex,\x20(vUV\x20*\x20repeatFactor)\x20/\x2010.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20repeatTexCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#ffc033','wireMaterial','settingShader','cubeShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20floatOffset;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rotateVerticesInY(vec3\x20vertices,\x20float\x20delta)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p\x20=\x20vertices.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_x\x20=\x20p.x*cos(delta)\x20-\x20p.z*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20new_z\x20=\x20p.z*cos(delta)\x20+\x20p.x*sin(delta);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(new_x,\x20p.y,\x20new_z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<logdepthbuf_vertex>','lineShader','moveOpts','centerHeight','swingHeight','textureAngle','rotateSpeed','setDynamic','colIndex','pVisible','PointsMaterial','colorList','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20cIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20colIndex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20pVisible;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20colorMaps[','];\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIsShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rand2(vec2\x20co){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(dot(co.xy,\x20vec2(12.9898,78.233)))\x20*\x2043758.5453);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','gl_PointSize\x20=\x20size;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20animateType;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vIsShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','stride','onComplete','isStart','breath','blink','textures','textureSprites','initLoop','isInit','createTexture','aoMap','alphaMaskTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<alphamap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaMaskTex,\x20vUv2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20alphaTexCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addUv2Channel','uv2Trans','uv2TransSpeed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20tex2UvAni;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_MAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor\x20=\x20texture2D(\x20map,\x20vUv\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texelColor2\x20=\x20texture2D(\x20texture2,\x20vUv2\x20+\x20tex2UvAni);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20=\x20mapTexelToLinear(\x20texelColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor2\x20=\x20mapTexelToLinear(\x20texelColor2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20texelColor\x20+=\x20texelColor2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20texelColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','addSpriteAnimate','imgWidth','imgHeight','uvTranslate','sprite','uvConfigs','setLoop','SpriteMaterial','Sprite','setFixedSize','originalScale','setFromMatrixPosition','lightIntensity','#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20-0.03,\x201.0,\x201.0,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20modelPos\x20=\x20modelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20modelPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol\x20*\x20lightIntensity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCilpGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vModelPos.y\x20<\x20clipGroundY){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','cinctureCount','tan','ConeBufferGeometry','focusColorStr','#ffee98','isClockWise','GrannyKnot','_focusExtentId','deltaSpeed','groundMaterial','_ignoreAlpha','FontSide','lineRep','lineTex','isAlphaMask','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repUv\x20=\x20vec2(nvUv)\x20*\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20repUv.y\x20+=\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20lineTexCol\x20=\x20texture2D(lineTex,\x20repUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20lineTexCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isAlphaMask)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20(1.\x20-\x20pow(nvUv.y,\x205.0));\x20//\x20alpha\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','extentId','addWallScrollXGeometry','addWallScrollYGeometry','computeBoundingBox','CatmullRomCurve3','catmullrom','TubeBufferGeometry','lineParams','extrusionSegments','addGround','createShape','ShapeBufferGeometry','Shape','lineTo','checkIsHaveId','getExtentWall','focusExtent','isAnimate','focusColor','startPopAnimate','switchExtentsVisible','blurExtent','_tempColor','Elastic','groundColorStr','groundColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUv\x20=\x20vec2(uv)\x20*\x200.01;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(100.0,\x20100.0,\x201.0,\x201.0,\x200.7853,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20nUv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20nvUv).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','closed','boundingBox','getCenter','line','mesh_line','LineBasicMaterial','createLineFrame','EdgesGeometry','lineList','dispseMesh','createCircleGradient','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20getAirWave(vec2\x20uv,\x20vec4\x20PerAmpThickDec,\x20float\x20rep,\x20float\x20time)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20val\x20=\x20abs(PerAmpThickDec.z\x20/\x20(uv.y\x20+\x20PerAmpThickDec.y\x20*\x20sin(uv.x\x20/\x20PerAmpThickDec.x\x20+\x20PerAmpThickDec.w)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mask\x20=\x200.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20time;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mod(uv.x,rep)\x20-\x20rep\x20*\x20.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20rep/2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20+=\x20-2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20-=\x20rep/4.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mask\x20=\x20rep/2./dot(uv,uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20val\x20=\x20step(val,\x20.5)\x20+\x20step(mask,\x201.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20step(val,.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x2010.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20-=\x203.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20vec3(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20params\x20=\x20vec4(.65,.37,.198,1.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv,\x20params,\x2010.,\x20iTime\x20*\x205.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(5.,\x202.),\x20params,\x2010.,\x20iTime\x20*\x202.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(10.,\x20-2.),\x20params,\x2010.,\x20iTime\x20*\x207.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20getAirWave(uv\x20+\x20vec2(30.,\x20-5.),\x20params,\x2010.,\x20iTime\x20*\x204.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','imgTex','normalTex','heightTex','terrainDepth','extentWH','GSD','disMapGSD','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentWH;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20disMapGSD;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBorder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<displacementmap_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_DISPLACEMENTMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transformed\x20+=\x20normalize(\x20objectNormal\x20)\x20*\x20(\x20texture2D(\x20displacementMap,\x20uv\x20).x\x20*\x20displacementScale\x20+\x20displacementBias\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20eWidth\x20=\x20extentWH.x\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20eHeight\x20=\x20extentWH.y\x20/\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(transformed.x\x20<=\x20-eWidth\x20||\x20transformed.x\x20>=\x20eWidth\x20||\x20transformed.y\x20<=\x20-eHeight\x20||\x20transformed.y\x20>=\x20eHeight)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transformed.z\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(transformed.x\x20<=\x20-eWidth+disMapGSD.x\x20||\x20transformed.x\x20>=\x20eWidth-disMapGSD.x\x20||\x20transformed.y\x20<=\x20-eHeight+disMapGSD.y\x20||\x20transformed.y\x20>=\x20eHeight-disMapGSD.y\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vBorder\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<worldpos_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<worldpos_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20extentWH;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20clipBorderTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vBorder;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vBorder\x20>\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.8,\x200.71,\x200.6);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if(vBorder\x20>\x200.5\x20&&\x20vWorldPos.x\x20<\x20xMax\x20&&\x20vWorldPos.x\x20>\x20xMin\x20&&\x20vWorldPos.y\x20<\x20zMax\x20&&\x20vWorldPos.y\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(hmTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','clipBorderTex','meshWidth','setHeightMapBorder','ImageLoader','naturalHeight','strokeStyle','beginPath','stroke','displacementMap','displacementScale','displacementBias','rainFall','computeRainFallFactor','rFall','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uniform\x20vec4\x20iDate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rFall;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20date\x20=\x20-vec4(iDate);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec2\x20fragCoord\x20=\x20vec2(gl_FragCoord.x,\x20gl_FragCoord.y)\x20\x20*\x20vec2(vUV.x,\x20vUV.y)\x20*\x200.5;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//float\x20a\x20=\x20.5\x20-\x206.*\x20fract((fragCoord.x*.2+fragCoord.y*.01)\x20*\x20fract(fragCoord.x*.161)-date.w);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a2\x20=\x20.5\x20-\x20rFall\x20*\x20fract((gl_FragCoord.x\x20*\x20.2\x20+\x20gl_FragCoord.y\x20*\x20.01)\x20*\x20fract(\x20gl_FragCoord.x\x20*\x20.61)\x20-\x20(-iTime));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20vec3(a2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20*=\x20vec3(1.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20a2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','snowFall','computeSnowFallFactor','density','sway','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20density;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20depth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20sway;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20mat3\x20p\x20=\x20mat3(13.323122,23.5112,21.71123,21.1212,28.7312,11.9312,21.8112,14.7212,61.3934);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20acc\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dof\x20=\x205.*sin(iTime*.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i=0;\x20i<density;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fi\x20=\x20float(i);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20q\x20=\x20uv*(1.+fi*depth)*40.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20q\x20+=\x20vec2(q.y*(sway*mod(fi*7.238917,1.)-sway*.5),\x20iTime/(1.+fi*depth*.03));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(floor(q),31.189+fi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20m\x20=\x20floor(n)*.00001\x20+\x20fract(n);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mp\x20=\x20(31415.9+m)/fract(p*m);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20r\x20=\x20fract(mp);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20s\x20=\x20abs(mod(q,1.)-.5+.9*r.xy-.45);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20s\x20+=\x20.01*abs(2.*fract(10.*q.yx)-1.);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20.6*max(s.x-s.y,s.x+s.y)+max(s.x,s.y)-.01;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20edge\x20=\x20.005+.05*min(.5*abs(fi-5.-dof),1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20acc\x20+=\x20vec3(smoothstep(edge,-edge,d)*(r.x/(1.+.02*fi*depth)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20acc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20acc.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x2020.0;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shaderParticleEngine','tex','#eeeeee','smokeParticle','NormalBlending','smokeEmitter','pointNum','isSpreadColor','floatPointsParticle','shockwaveParticle','particle','createShockWave','#fcfcfc','coeficient','power','glowColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20+=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vVertexWorldPosition.y\x20<\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(glowColor.rgb,\x20intensity\x20*\x20diffuseColor.a);','shockSphere','playShockWave','Quaternion','setFromAxisAngle','quaternion','must\x20init\x20particle\x20emitter','createLinearGradient','#000000','texRepeat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x20iTime,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20tUv\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vtUv\x20=\x20tUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTexCol\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20alphaTexCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','translate','RGBELoader','envCubeMap','loadHDR','resolutionSize','RGBEEncoding','NearestFilter','flipY','EquirectangularToCubeGenerator','PMREMGenerator','PMREMCubeUVPacker','cubeLods','CubeUVRenderTarget','varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','#include\x20<common>\x0a\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20int\x20faceIndex;\x0a\x09\x09\x09\x09uniform\x20float\x20roughness;\x0a\x09\x09\x09\x09uniform\x20samplerCube\x20envMap;\x0a\x09\x09\x09\x09uniform\x20float\x20mapSize;\x0a\x09\x09\x09\x09uniform\x20float\x20tFlip;\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09float\x20GGXRoughnessToBlinnExponent(\x20const\x20in\x20float\x20ggxRoughness\x20)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20ggxRoughness\x20+\x200.0001;\x0a\x09\x09\x09\x09\x09a\x20*=\x20a;\x0a\x09\x09\x09\x09\x09return\x20(\x202.0\x20/\x20a\x20-\x202.0\x20);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSamplePhong(vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20specPow)\x20{\x0a\x09\x09\x09\x09\x09float\x20phi\x20=\x20uv.y\x20*\x202.0\x20*\x20PI;\x0a\x09\x09\x09\x09\x09float\x20cosTheta\x20=\x20pow(1.0\x20-\x20uv.x,\x201.0\x20/\x20(specPow\x20+\x201.0));\x0a\x09\x09\x09\x09\x09float\x20sinTheta\x20=\x20sqrt(1.0\x20-\x20cosTheta\x20*\x20cosTheta);\x0a\x09\x09\x09\x09\x09vec3\x20sampleDir\x20=\x20vec3(cos(phi)\x20*\x20sinTheta,\x20sin(phi)\x20*\x20sinTheta,\x20cosTheta);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20sampleDir;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09vec3\x20ImportanceSampleGGX(\x20vec2\x20uv,\x20mat3\x20vecSpace,\x20float\x20Roughness\x20)\x0a\x09\x09\x09\x09{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x20Roughness\x20*\x20Roughness;\x0a\x09\x09\x09\x09\x09float\x20Phi\x20=\x202.0\x20*\x20PI\x20*\x20uv.x;\x0a\x09\x09\x09\x09\x09float\x20CosTheta\x20=\x20sqrt(\x20(1.0\x20-\x20uv.y)\x20/\x20(\x201.0\x20+\x20(a*a\x20-\x201.0)\x20*\x20uv.y\x20)\x20);\x0a\x09\x09\x09\x09\x09float\x20SinTheta\x20=\x20sqrt(\x201.0\x20-\x20CosTheta\x20*\x20CosTheta\x20);\x0a\x09\x09\x09\x09\x09return\x20vecSpace\x20*\x20vec3(SinTheta\x20*\x20cos(\x20Phi\x20),\x20SinTheta\x20*\x20sin(\x20Phi\x20),\x20CosTheta);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09mat3\x20matrixFromVector(vec3\x20n)\x20{\x0a\x09\x09\x09\x09\x09float\x20a\x20=\x201.0\x20/\x20(1.0\x20+\x20n.z);\x0a\x09\x09\x09\x09\x09float\x20b\x20=\x20-n.x\x20*\x20n.y\x20*\x20a;\x0a\x09\x09\x09\x09\x09vec3\x20b1\x20=\x20vec3(1.0\x20-\x20n.x\x20*\x20n.x\x20*\x20a,\x20b,\x20-n.x);\x0a\x09\x09\x09\x09\x09vec3\x20b2\x20=\x20vec3(b,\x201.0\x20-\x20n.y\x20*\x20n.y\x20*\x20a,\x20-n.y);\x0a\x09\x09\x09\x09\x09return\x20mat3(b1,\x20b2,\x20n);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x0a\x09\x09\x09\x09vec4\x20testColorMap(float\x20Roughness)\x20{\x0a\x09\x09\x09\x09\x09vec4\x20color;\x0a\x09\x09\x09\x09\x09if(faceIndex\x20==\x200)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x201)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x202)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x203)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,1.0,0.0,1.0);\x0a\x09\x09\x09\x09\x09else\x20if(faceIndex\x20==\x204)\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(0.0,1.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09else\x0a\x09\x09\x09\x09\x09\x09color\x20=\x20vec4(1.0,0.0,1.0,1.0);\x0a\x09\x09\x09\x09\x09color\x20*=\x20(\x201.0\x20-\x20Roughness\x20);\x0a\x09\x09\x09\x09\x09return\x20color;\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec3\x20sampleDirection;\x0a\x09\x09\x09\x09\x09vec2\x20uv\x20=\x20vUv*2.0\x20-\x201.0;\x0a\x09\x09\x09\x09\x09float\x20offset\x20=\x20-1.0/mapSize;\x0a\x09\x09\x09\x09\x09const\x20float\x20a\x20=\x20-1.0;\x0a\x09\x09\x09\x09\x09const\x20float\x20b\x20=\x201.0;\x0a\x09\x09\x09\x09\x09float\x20c\x20=\x20-1.0\x20+\x20offset;\x0a\x09\x09\x09\x09\x09float\x20d\x20=\x201.0\x20-\x20offset;\x0a\x09\x09\x09\x09\x09float\x20bminusa\x20=\x20b\x20-\x20a;\x0a\x09\x09\x09\x09\x09uv.x\x20=\x20(uv.x\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.x\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09uv.y\x20=\x20(uv.y\x20-\x20a)/bminusa\x20*\x20d\x20-\x20(uv.y\x20-\x20b)/bminusa\x20*\x20c;\x0a\x09\x09\x09\x09\x09if\x20(faceIndex==0)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(1.0,\x20-uv.y,\x20-uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==1)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-1.0,\x20-uv.y,\x20uv.x);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==2)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x201.0,\x20uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==3)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-1.0,\x20-uv.y);\x0a\x09\x09\x09\x09\x09}\x20else\x20if\x20(faceIndex==4)\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(uv.x,\x20-uv.y,\x201.0);\x0a\x09\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09\x09sampleDirection\x20=\x20vec3(-uv.x,\x20-uv.y,\x20-1.0);\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09vec3\x20correctedDirection\x20=\x20vec3(\x20tFlip\x20*\x20sampleDirection.x,\x20sampleDirection.yz\x20);\x0a\x09\x09\x09\x09\x09mat3\x20vecSpace\x20=\x20matrixFromVector(\x20normalize(\x20correctedDirection\x20)\x20);\x0a\x09\x09\x09\x09\x09vec3\x20rgbColor\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x09\x09const\x20int\x20NumSamples\x20=\x20SAMPLES_PER_LEVEL;\x0a\x09\x09\x09\x09\x09vec3\x20vect;\x0a\x09\x09\x09\x09\x09float\x20weight\x20=\x200.0;\x0a\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x200;\x20i\x20<\x20NumSamples;\x20i\x20++\x20)\x20{\x0a\x09\x09\x09\x09\x09\x09float\x20sini\x20=\x20sin(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20cosi\x20=\x20cos(float(i));\x0a\x09\x09\x09\x09\x09\x09float\x20r\x20=\x20rand(vec2(sini,\x20cosi));\x0a\x09\x09\x09\x09\x09\x09vect\x20=\x20ImportanceSampleGGX(vec2(float(i)\x20/\x20float(NumSamples),\x20r),\x20vecSpace,\x20roughness);\x0a\x09\x09\x09\x09\x09\x09float\x20dotProd\x20=\x20dot(vect,\x20normalize(sampleDirection));\x0a\x09\x09\x09\x09\x09\x09weight\x20+=\x20dotProd;\x0a\x09\x09\x09\x09\x09\x09vec3\x20color\x20=\x20envMapTexelToLinear(textureCube(envMap,\x20vect)).rgb;\x0a\x09\x09\x09\x09\x09\x09rgbColor.rgb\x20+=\x20color;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09rgbColor\x20/=\x20float(NumSamples);\x0a\x09\x09\x09\x09\x09//rgbColor\x20=\x20testColorMap(\x20roughness\x20).rgb;\x0a\x09\x09\x09\x09\x09gl_FragColor\x20=\x20linearToOutputTexel(\x20vec4(\x20rgbColor,\x201.0\x20)\x20);\x0a\x09\x09\x09\x09}','NoBlending','OrthographicCamera','Scene','isCubeTexture','SAMPLES_PER_LEVEL','faceIndex','sourceTexture','toneMapping','toneMappingExposure','getRenderTarget','LinearToneMapping','gammaInput','numLods','tFlip','mapSize','renderToCubeMapTargetFace','setRenderTarget','samplesPerLevel','LinearEncoding','generateMipmaps','log','WebGLRenderTargetCube','RGBM16Encoding','WebGLRenderTarget','CubeUVReflectionMapping','objects','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','precision\x20highp\x20float;\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20envMap;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mapSize;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20testColor;\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20int\x20faceIndex;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20sampleDirection;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUv;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20uv\x20*\x202.0\x20-\x201.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20*=\x20-1.0;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(faceIndex\x20==\x200)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(1.0,\x20uv.y,\x20-uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x201)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x201.0,\x20uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x202)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20uv.y,\x201.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x203)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-1.0,\x20uv.y,\x20uv.x));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20if(faceIndex\x20==\x204)\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(uv.x,\x20-1.0,\x20-uv.y));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20else\x20{\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sampleDirection\x20=\x20normalize(vec3(-uv.x,\x20uv.y,\x20-1.0));\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20color\x20=\x20envMapTexelToLinear(\x20textureCube(\x20envMap,\x20sampleDirection\x20)\x20);\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20linearToOutputTexel(\x20color\x20);\x20\x20\x20\x20\x20\x20\x20\x20}','right','updateProjectionMatrix','gammaOutput','fromEquirectangular','CubemapFromEquirect','\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09vec3\x20transformDirection(\x20in\x20vec3\x20dir,\x20in\x20mat4\x20matrix\x20)\x20{\x0a\x0a\x09\x09\x09\x09return\x20normalize(\x20(\x20matrix\x20*\x20vec4(\x20dir,\x200.0\x20)\x20).xyz\x20);\x0a\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vWorldDirection\x20=\x20transformDirection(\x20position,\x20modelMatrix\x20);\x0a\x0a\x09\x09\x09\x09#include\x20<begin_vertex>\x0a\x09\x09\x09\x09#include\x20<project_vertex>\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','\x0a\x09\x09\x09uniform\x20sampler2D\x20tEquirect;\x0a\x0a\x09\x09\x09varying\x20vec3\x20vWorldDirection;\x0a\x0a\x09\x09\x09//include\x20<common>\x0a\x09\x09\x09#define\x20RECIPROCAL_PI\x200.31830988618\x0a\x09\x09\x09#define\x20RECIPROCAL_PI2\x200.15915494\x0a\x0a\x09\x09\x09void\x20main()\x20{\x0a\x0a\x09\x09\x09\x09vec3\x20direction\x20=\x20normalize(\x20vWorldDirection\x20);\x0a\x0a\x09\x09\x09\x09vec2\x20sampleUV;\x0a\x0a\x09\x09\x09\x09sampleUV.y\x20=\x20asin(\x20clamp(\x20direction.y,\x20-\x201.0,\x201.0\x20)\x20)\x20*\x20RECIPROCAL_PI\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09sampleUV.x\x20=\x20atan(\x20direction.z,\x20direction.x\x20)\x20*\x20RECIPROCAL_PI2\x20+\x200.5;\x0a\x0a\x09\x09\x09\x09gl_FragColor\x20=\x20texture2D(\x20tEquirect,\x20sampleUV\x20);\x0a\x0a\x09\x09\x09}\x0a\x09\x09\x09','tEquirect','CubeCamera','PerspectiveCamera','varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20localPosition\x20=\x20position;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','#include\x20<common>\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20localPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20equirectangularMap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20EquirectangularSampleUV(vec3\x20v)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(atan(v.z,\x20v.x),\x20asin(v.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20*=\x20vec2(0.1591,\x200.3183);\x20//\x20inverse\x20atan\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20EquirectangularSampleUV(normalize(localPosition));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(equirectangularMap,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}','equirectangularMap','clear','renderTarget','views','CubemapGenerator','manager','DefaultLoadingManager','_parser','THREE.RGBELoader\x20Read\x20Error:\x20','THREE.RGBELoader\x20Write\x20Error:\x20','THREE.RGBELoader\x20Bad\x20File\x20Format:\x20','THREE.RGBELoader:\x20Error:\x20','pos','byteLength','fromCharCode','RGBE','no\x20header\x20found','match','bad\x20initial\x20token','valid','gamma','exposure','missing\x20image\x20size\x20specifier','missing\x20format\x20specifier','unable\x20to\x20allocate\x20buffer\x20space','bad\x20rgbe\x20scanline\x20format','RGBEFormat','UnsignedByteType','FloatType','THREE.RGBELoader:\x20unsupported\x20type:\x20','skyTexture','#00335f','texUvScale','lightColorStr','flowAngle','lightColor','alphaMaskPath','targetMeshes','faceRange','originTexName','IS_USE_ORIGING_MAP','IS_USE_CUS_ALPHA','IS_USE_SS_SKY','waterScale','fluctuate','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20vec2\x20uv2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV2\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<project_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vPos\x20=\x20vec4(gl_Position);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20fluctuate;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texUvScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20flowDirect;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20lightColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaMaskTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20skyTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20varying\x20float\x20isTop;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash(\x20in\x20vec2\x20p\x20)\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(p.x*15.32+p.y*35.78)\x20*\x2043758.23);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash2(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20add\x20=\x20vec2(0.5,\x200.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20floor(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20f\x20=\x20fract(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20f*f*(3.0-2.0*f);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20res\x20=\x20mix(mix(\x20hash2(p),\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20hash2(p\x20+\x20add.xy),f.x),\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mix(\x20hash2(p\x20+\x20add.yx),\x20hash2(p\x20+\x20add.xx),f.x),f.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20res;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20noise2b(\x20in\x20vec2\x20p\x20)//\x20Simplex\x20Noise\x20from\x20IQ\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K1\x20=\x200.366025404;\x20//\x20(sqrt(3)-1)/2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20K2\x20=\x200.211324865;\x20//\x20(3-sqrt(3))/6;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p\x20/=2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20i\x20=\x20floor(\x20p\x20+\x20(p.x+p.y)*K1\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20a\x20=\x20p\x20-\x20i\x20+\x20(i.x+i.y)*K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20o\x20=\x20(a.x>a.y)\x20?\x20vec2(1.0,0.0)\x20:\x20vec2(0.0,1.0);\x20//vec2\x20of\x20=\x200.5\x20+\x200.5*vec2(sign(a.x-a.y),\x20sign(a.y-a.x));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20b\x20=\x20a\x20-\x20o\x20+\x20K2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20c\x20=\x20a\x20-\x201.0\x20+\x202.0*K2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20h\x20=\x20max(\x200.5-vec3(dot(a,a),\x20dot(b,b),\x20dot(c,c)\x20),\x200.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20nx\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+0.0)),\x20dot(b,hash2(i+o)),\x20dot(c,hash2(i+1.0)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20ny\x20=\x20h*h*h*h*vec3(\x20dot(a,hash2(i+4.5)),\x20dot(b,hash2(i+o+4.5)),\x20dot(c,hash2(i+1.0+4.5)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(dot(\x20nx,\x20vec3(fluctuate)\x20),dot(\x20ny,\x20vec3(fluctuate)\x20));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat2\x20m2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20fbm2(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20r\x20=\x20vec2(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20a\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x206;\x20i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20r\x20+=\x20m2*noise2b(x+r)*a;\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x\x20+=.3*r+.4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20r;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20water(vec2\x20x)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=fbm2(x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20x=abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20abs(x)/dot(x,x)-1.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20rotateUV(vec2\x20uv,\x20float\x20rotation)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mid\x20=\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec2(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20sin(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20+\x20mid,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cos(rotation)\x20*\x20(uv.y\x20-\x20mid)\x20-\x20sin(rotation)\x20*\x20(uv.x\x20-\x20mid)\x20+\x20mid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20screenTexture(vec2\x20disturb)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20vCoords\x20=\x20vPos.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20/=\x20vPos.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vCoords\x20=\x20vCoords\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20fract(\x20vCoords\x20*\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20texture2D(skyTex,\x20uv\x20+\x20disturb).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<alphamap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_ALPHA\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texture2D(\x20alphaMaskTex,\x20vUV2\x20).a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','waterColor','Water','#001e0f','FrontSide','updateWater','isViewBackFace','ignoreList','textureWidth','textureHeight','clipBias','alpha','waterNormals','waterMask','sunDirection','sunColor','eye','distortionScale','isPlaneGeo','clipViewValue','useUv2','isPowerOfTwo','IS_USE_MASK_TEXTURE','IS_USE_CLIP_VIEW','aoMapIntensity','mirrorSampler','textureMatrix','isShowWaterFog','waterFog','fogNearColor','#2074a3','fogFarColor','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09viewPosition\x20=\x20viewMatrix\x20*\x20mirrorCoord;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20worldPosition\x20=\x20mirrorCoord.xyzw;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mirrorCoord\x20=\x20textureMatrix\x20*\x20mirrorCoord;\x0a\x09\x09\x09vec4\x20mvPosition1\x20=\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPosition1.z;\x0a\x09\x09\x09//\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x201.5,\x200.0,\x200.0);\x0a\x09\x09\x09//\x20vUV\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x09\x09\x09vUV\x20=\x20uv;\x0a\x09\x09\x09#if\x20defined(\x20USE_AOMAP\x20)\x0a\x09\x09\x09\x09vUV\x20=\x20uv2;\x0a\x09\x09\x09#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#include\x20<shadowmap_pars_fragment>','\x0a\x09\x09\x09#include\x20<shadowmap_pars_fragment>\x0a\x09\x09\x09#include\x20<shadowmask_pars_fragment>\x0a\x09\x09\x09vec3\x20mirroWater()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20noise\x20=\x20getNoise(\x20worldPosition.xz\x20*\x20size\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20surfaceNormal\x20=\x20normalize(\x20noise.xzy\x20*\x20vec3(\x201.5,\x201.0,\x201.5\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20diffuseLight\x20=\x20vec3(0.0);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20specularLight\x20=\x20vec3(0.0);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20worldToEye\x20=\x20eye-worldPosition.xyz;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20eyeDirection\x20=\x20normalize(\x20worldToEye\x20);\x0a\x09\x09\x09\x20\x20\x20\x20sunLight(\x20surfaceNormal,\x20eyeDirection,\x20100.0,\x202.0,\x200.5,\x20diffuseLight,\x20specularLight\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20distance\x20=\x20length(worldToEye);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20vec2\x20distortion\x20=\x20surfaceNormal.xz\x20*\x20(\x200.001\x20+\x201.0\x20/\x20distance\x20)\x20*\x20distortionScale;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20reflectionSample\x20=\x20vec3(\x20texture2D(\x20mirrorSampler,\x20mirrorCoord.xy\x20/\x20mirrorCoord.w\x20+\x20distortion\x20)\x20);\x0a\x0a\x09\x09\x09\x20\x20\x20\x20float\x20theta\x20=\x20max(\x20dot(\x20eyeDirection,\x20surfaceNormal\x20),\x200.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20float\x20rf0\x20=\x200.3;\x0a\x09\x09\x09\x20\x20\x20\x20float\x20reflectance\x20=\x20rf0\x20+\x20(\x201.0\x20-\x20rf0\x20)\x20*\x20pow(\x20(\x201.0\x20-\x20theta\x20),\x205.0\x20);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20scatter\x20=\x20max(\x200.0,\x20dot(\x20surfaceNormal,\x20eyeDirection\x20)\x20)\x20*\x20waterColor;\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20albedo\x20=\x20mix(\x20(\x20sunColor\x20*\x20diffuseLight\x20*\x200.3\x20+\x20scatter\x20)\x20*\x20getShadowMask(),\x20(\x20vec3(\x200.1\x20)\x20+\x20reflectionSample\x20*\x200.9\x20+\x20reflectionSample\x20*\x20specularLight\x20),\x20reflectance);\x0a\x09\x09\x09\x20\x20\x20\x20vec3\x20outgoingLight\x20=\x20albedo;\x0a\x09\x09\x09\x20\x20\x20\x20return\x20outgoingLight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x09\x09\x09vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x09\x09\x09\x09if(isShowWaterFog)\x20{\x0a\x09\x09\x09\x09\x09return\x20vec4(mix(\x20gl_FragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20gl_FragColor.a);\x0a\x09\x09\x09\x09}else{\x0a\x09\x09\x09\x09\x09return\x20vec4(gl_FragColor);\x0a\x09\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x09\x09\x09','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20waterCol\x20=\x20mirroWater();\x0a\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x09\x09\x09\x09vec4\x20maskTex\x20=\x20texture2D(maskTexture,\x20vUV);\x0a\x09\x09\x09\x09//\x20if(maskTex.r\x20==\x200.0){\x0a\x09\x09\x09\x09//\x20\x09discard;\x0a\x09\x09\x09\x09//\x20}\x0a\x09\x09\x09\x09diffuseColor.a\x20=\x20maskTex.a;\x0a\x09\x09\x09#endif\x0a\x09\x09\x09diffuseColor.a\x20*=\x200.9;\x0a\x0a\x09\x09\x09#ifdef\x20IS_USE_CLIP_VIEW\x0a\x09\x09\x09\x09if\x20(gl_FrontFacing)\x20{\x0a\x09\x09\x09\x09\x09if(viewPosition.y\x20<\x20clipViewValue)\x20{\x0a\x09\x09\x09\x09\x09\x09discard;\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x20else\x20{\x0a\x09\x09\x09\x09\x09//\x20if(viewPosition.y\x20>\x20clipViewValue)\x20{\x0a\x09\x09\x09\x09\x09//\x20\x09discard;\x0a\x09\x09\x09\x09\x09//\x20}\x0a\x09\x09\x09\x09\x09waterCol\x20*=\x20vec3(0.545098,0.741176,0.87843);\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09#endif\x0a\x0a\x09\x09\x09//\x20if\x20(!gl_FrontFacing)\x20{\x0a\x09\x09\x09//\x20\x09waterCol\x20*=\x20copyReflectionSample;\x0a\x09\x09\x09//\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20waterCol,\x20diffuseColor.a\x20);\x0a\x09\x09\x09gl_FragColor\x20=\x20fog(waterFog.x,\x20waterFog.y,\x20vFogDepth,\x20fogNearColor,\x20fogFarColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','receiveShadow','subVectors','reflect','negate','extractRotation','updateMatrixWorld','projectionMatrix','multiply','matrixWorldInverse','constant','sign','particles','createPoints','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nvUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-nvUv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-nvUv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20z\x20=\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.x\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.y\x20=\x20z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rippleCol.z\x20=\x20z;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20texColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z\x20*=\x20alphaColor.g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20rippleCol\x20*\x20texColor.rgb\x20*\x20color,\x20z\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','basic','isShowScanLight','scanLightColorStr','scanLightColor','scanTexture','createGround','lambert','standard','gradient_ground_mat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#define\x20IS_TEXTURE','#define\x20IS_SCAN_LIGHT','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20scanLightColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20scanTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20centerSpreadLine(vec3\x20resultColor,\x20float\x20time,\x20vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(uv,\x20vec2(0.5),\x20time,\x20.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(intensity\x20>\x200.0){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(resultColor,\x20vec3(scanLightColor),\x20intensity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20waveSpread(vec2\x20uv)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20speed\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20center\x20=\x20vec2(0.5,0.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20rippleCol\x20=\x20vec3(1.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20(center.x-uv.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20y\x20=\x20(center.y-uv.y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20r\x20=\x20sqrt(x*x\x20+\x20y*y)\x20*\x20-1.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20r\x20=\x20-(x*x\x20+\x20y*y);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x200.1\x20+\x20sin((r+iTime*speed)/0.02);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','videoElement','muted','video','setAttribute','crossOrigin','anonymous','source','video/mp4;\x20codecs=\x22avc1.42E01E,\x20mp4a.40.2','currentTime','VideoTexture','num','shadowCamera','isMorph','isAnimation','morphTargets','setMaterial','setShadow','castShadow','customDepthMaterial','InstancedBufferGeometry','maxInstancedCount','getIndex','offsets','scales','orientations','Euler','DEG2RAD','rand','rot','setFromEuler','offsetAttribute','InstancedBufferAttribute','scaleAttribute','orientationAttribute','orientation','vertexPars_V2','uniform\x20mat4\x20cmtx;','uniform\x20float\x20morpher[\x208\x20];','attribute\x20vec3\x20scales;','attribute\x20vec4\x20orientation;','mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{','float\x20x\x20=\x20quaternion.x,\x20y\x20=\x20quaternion.y,\x20z\x20=\x20quaternion.z,\x20w\x20=\x20quaternion.w;','float\x20x2\x20=\x20x\x20+\x20x,\x09y2\x20=\x20y\x20+\x20y,\x20z2\x20=\x20z\x20+\x20z;','float\x20yy\x20=\x20y\x20*\x20y2,\x20yz\x20=\x20y\x20*\x20z2,\x20zz\x20=\x20z\x20*\x20z2;','float\x20wx\x20=\x20w\x20*\x20x2,\x20wy\x20=\x20w\x20*\x20y2,\x20wz\x20=\x20w\x20*\x20z2;','float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;','mat4\x20B;','B[0][0]\x20=\x20(\x201.0\x20-\x20(\x20yy\x20+\x20zz\x20)\x20)\x20*\x20sx;','B[0][1]\x20=\x20(\x20xy\x20+\x20wz\x20)\x20*\x20sx;','B[0][2]\x20=\x20(\x20xz\x20-\x20wy\x20)\x20*\x20sx;','B[0][3]\x20=\x200.0;','B[1][0]\x20=\x20(\x20xy\x20-\x20wz\x20)\x20*\x20sy;','B[1][1]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20zz\x20)\x20)\x20*\x20sy;','B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;','B[2][1]\x20=\x20(\x20yz\x20-\x20wx\x20)\x20*\x20sz;','B[3][0]\x20=\x20position.x;','B[3][3]\x20=\x201.0;','mat3\x20getNormalMatrix(\x20mat4\x20A\x20)\x20{','return\x20transpose(\x20inverse(\x20mat3(\x20A\x20)\x20)\x20);','vertexPars_V1','attribute\x20vec3\x20offset;','B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;','B[2][3]\x20=\x200.0;','B[3][2]\x20=\x20position.z;','return\x20B;','float\x20n11\x20=\x20A[0][0],\x20n21\x20=\x20A[0][1],\x20n31\x20=\x20A[0][2];','float\x20n12\x20=\x20A[1][0],\x20n22\x20=\x20A[1][1],\x20n32\x20=\x20A[1][2];','float\x20n13\x20=\x20A[2][0],\x20n23\x20=\x20A[2][1],\x20n33\x20=\x20A[2][2];','float\x20t11\x20=\x20n33\x20*\x20n22\x20-\x20n32\x20*\x20n23;','float\x20t12\x20=\x20n32\x20*\x20n13\x20-\x20n33\x20*\x20n12;','float\x20t13\x20=\x20n23\x20*\x20n12\x20-\x20n22\x20*\x20n13;','float\x20detInv\x20=\x201.0\x20/\x20det;','mat3\x20B;','B[0][0]\x20=\x20t11\x20*\x20detInv;','B[0][2]\x20=\x20(\x20n32\x20*\x20n21\x20-\x20n31\x20*\x20n22\x20)\x20*\x20detInv;','B[1][0]\x20=\x20t12\x20*\x20detInv;','B[2][0]\x20=\x20t13\x20*\x20detInv;','B[2][2]\x20=\x20(\x20n22\x20*\x20n11\x20-\x20n21\x20*\x20n12\x20)\x20*\x20detInv;','mat3\x20tmpTranspose(\x20mat3\x20A\x20)\x20{','B[0][0]\x20=\x20A[0][0];','B[0][1]\x20=\x20A[1][0];','B[0][2]\x20=\x20A[2][0];','B[1][0]\x20=\x20A[0][1];','B[1][1]\x20=\x20A[1][1];','B[1][2]\x20=\x20A[2][1];','B[2][0]\x20=\x20A[0][2];','B[2][1]\x20=\x20A[1][2];','B[2][2]\x20=\x20A[2][2];','mat4\x20world\x20=\x20ComposeWorldMatrix(\x20offset,\x20orientation,\x20scales\x20);','mat4\x20viewMatrix\x20=\x20(\x20cmtx\x20*\x20world\x20);','projectVertex','vec4\x20mvPosition\x20=\x20viewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);','gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;','#if\x20defined(\x20USE_ENVMAP\x20)\x20||\x20defined(\x20DISTANCE\x20)\x20||\x20defined\x20(\x20USE_SHADOWMAP\x20)','normalVertex','vec3\x20transformedNormal\x20=\x20normalMtx\x20*\x20objectNormal;','transformedNormal\x20=\x20-\x20transformedNormal;','#ifdef\x20USE_TANGENT','vec3\x20transformedTangent\x20=\x20normalMatrix\x20*\x20objectTangent;','#ifdef\x20FLIP_SIDED','transformedTangent\x20=\x20-\x20transformedTangent;','#ifdef\x20USE_MORPHTARGETS','transformed\x20+=\x20(\x20morphTarget0\x20-\x20position\x20)\x20*\x20morpher[\x200\x20];','transformed\x20+=\x20(\x20morphTarget1\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x201\x20];','transformed\x20+=\x20(\x20morphTarget2\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x202\x20];','transformed\x20+=\x20(\x20morphTarget3\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x203\x20];','#ifndef\x20USE_MORPHNORMALS','transformed\x20+=\x20(\x20morphTarget5\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x205\x20];','cmtx','morpher','#include\x20<common>\x0a','#include\x20<uv_vertex>\x0a','#include\x20<defaultnormal_vertex>','worldPosVertex','RGBADepthPacking','beginInstanceVertex','morphTargetInfluences','setOrientation','setScale','receiveLayer','fov','videoAspect','isShowHelper','isShowFarPlane','projector','projectPlane','helper','containMeshList','cameraFar','cameraFov','createProjector','resetMaterial2','_originMaterial','_tempMaterial','isProjected','isLockCameraControls','enablePan','videoProject','visualFieldColor','minX','minY','maxX','maxY','gridNum','rayPointer','ignoredUuids','updateWorldMatrix','minDistance','createProjectorHelper','createCameraHelperFarPlane','pointMap','getY','getZ','setFromPoints','videoTex','videoTexMask','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition2\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20mvPosition2.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20videoTexMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateCameraTarget','saveCameraMatrices','addToPicker','objects_','removeToPicker','resetMaterial','project','resetAllMaterial','#aaa','type_','videoWidth','naturalWidth','top','bottom','\x20is\x20currently\x20not\x20supported\x20in\x20ProjectedMaterial','createMaterial2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20viewMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20projectionMatrixCamera;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20savedModelMatrix;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vSavedNormal\x20=\x20mat3(savedModelMatrix)\x20*\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cameraMvpPos\x20=\x20viewMatrixCamera\x20*\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vTexCoords\x20=\x20projectionMatrixCamera\x20*\x20cameraMvpPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vClipPosition\x20=\x20-\x20cameraMvpPos.xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vWorldPosition\x20=\x20savedModelMatrix\x20*\x20vec4(position,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20projectedTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureLoaded;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isTextureProjected;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20backgroundOpacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20projDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20widthScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20heightScaled;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cameraFarDistance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20visualFieldColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullByCamera;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSavedNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vClipPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vTexCoords;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec4\x20vWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','projectedTexelToLinear','projectionMatrixCamera','saveDimensions','isTextureLoaded','videoHeight','widthScaled','heightScaled','viewMatrixCamera','projPosition','savedModelMatrix','textureOffset','cover','isShowHepler','textureScale','\x0a\x20\x20\x20\x20\x20\x20vec4\x20projectedTexelToLinear(vec4\x20value)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20return\x20','(\x20value\x20)','sRGB','RGBM','(\x20value,\x207.0\x20)','(\x20value,\x2016.0\x20)','RGBDEncoding','RGBD','(\x20value,\x20256.0\x20)','Gamma','LogLuv','ToLinear',';\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20','vector','createBasicLine','FaceColors','cn1','cn2','cn4','cf1','cf2','cf3','cf4','matrixAutoUpdate','setXYZ','projectionMatrixInverse','setPoint','cn3','texture2Path','textureMaskPath','texture3Path','texture4Path','cacheImages','texture3','texture4','isNoTileFactor','normalUvIndex','normalFlipSide','textureMask','loadTextures','IS_USE_MASK_TEXTURE2','alphaMask','IS_USE_MASK_ALPHA','ObjectSpaceNormalMap','FLIP_SIDED','othersRepeat','noTileConfigs','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20othersRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20noTileConfigs;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture4;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','include\x20<normal_fragment_maps>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20include\x20<normal_fragment_maps>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20OBJECTSPACE_NORMALMAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_CUS_NORMAL\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x20//\x20overrides\x20both\x20flatShading\x20and\x20attribute\x20normals\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20FLIP_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20-\x20normal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20DOUBLE_SIDED\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normal\x20*\x20(\x20float(\x20gl_FrontFacing\x20)\x20*\x202.0\x20-\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20normalMatrix\x20*\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x20//\x20tangent-space\x20normal\x20map\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_TANGENT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20nUV\x20=\x20vUv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20vTBN\x20=\x20mat3(\x20tangent,\x20bitangent,\x20normal\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20mapN\x20=\x20texture2D(\x20normalMap,\x20nUV\x20).xyz\x20*\x202.0\x20-\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mapN.xy\x20=\x20normalScale\x20*\x20mapN.xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20normalize(\x20vTBN\x20*\x20mapN\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormal2Arb(\x20-vViewPosition,\x20normal\x20);\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#elif\x20defined(\x20USE_BUMPMAP\x20)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20normal\x20=\x20perturbNormalArb(\x20-vViewPosition,\x20normal,\x20dHdxy_fwd()\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20baseColor\x20=\x20vec4(1.0);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture1Col\x20=\x20textureNoTile(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texture2Col\x20=\x20textureNoTile(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture1Col\x20=\x20noTileConfigs.x\x20>\x200.0\x20?\x20textureNoTile(texture1,\x20vUv\x20*\x20othersRepeat.x)\x20:\x20texture2D(\x20texture1,\x20vUv\x20*\x20othersRepeat.x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture2Col\x20=\x20noTileConfigs.y\x20>\x200.0\x20?\x20textureNoTile(texture2,\x20vUv\x20*\x20othersRepeat.y)\x20:\x20texture2D(\x20texture2,\x20vUv\x20*\x20othersRepeat.y\x20);\x20//\x20red\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(texture1Col,\x20texture2Col,\x20texMaskCol.r);\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE2\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture3Col\x20=\x20noTileConfigs.z\x20>\x200.0\x20?\x20textureNoTile(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20)\x20:\x20texture2D(\x20texture3,\x20vUv\x20*\x20othersRepeat.z\x20);\x20//\x20green\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture3Col,\x20texMaskCol.g);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_MASK_TEXTURE3\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texture4Col\x20=\x20noTileConfigs.w\x20>\x200.0\x20?\x20textureNoTile(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20)\x20:\x20texture2D(\x20texture4,\x20vUv\x20*\x20othersRepeat.w\x20);\x20//\x20blue\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20baseColor\x20=\x20mix(baseColor,\x20texture4Col,\x20texMaskCol.b);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20*=\x20mapTexelToLinear(\x20baseColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isUseScanEffect','effectShader','isIgnoreAlpha','isUseUv2Light','scanOffset','textureManager','ignoreAlpha','useScan','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20ignoreAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20useScan;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20scanOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20textureMask;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20haloRing(vec2\x20uv,\x20vec2\x20pos,\x20float\x20radius,\x20float\x20thick)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20clamp(-(abs(length(uv-pos)\x20-\x20radius)\x20*\x2015.0\x20/\x20thick)\x20+\x200.9,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<map_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20oriAlpha\x20=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(useScan){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20timer\x20=\x20mod(iTime\x20+\x20scanOffset,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20timer2\x20=\x20mod(iTime\x20+\x200.3,\x201.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20intensity\x20+=\x20haloRing\x20(vUv2,\x20vec2(0.5,\x200.5),\x20timer2,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor\x20=\x20mix(diffuseColor,\x20mix(diffuseColor,\x20vec4(vec3(1.0),\x201.0),\x20intensity\x20*\x203.0),\x201.0-diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(ignoreAlpha){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20oriAlpha;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texMaskCol\x20=\x20texture2D(\x20textureMask,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20diffuseColor.a\x20*=\x20texMaskCol.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20diffuseColor\x20=\x20texMaskCol;\x20//\x20for\x20test\x20mask\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','materialList','isUseEmiisive','#include\x20<emissivemap_fragment>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#include\x20<emissivemap_fragment>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20USE_EMISSIVEMAP\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20emissiveColor\x20=\x20texture2D(\x20emissiveMap,\x20vUv2\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20emissiveColor.rgb\x20=\x20emissiveMapTexelToLinear(\x20emissiveColor\x20).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20if(isUseEmiisive){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20totalEmissiveRadiance\x20*=\x20emissiveColor.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fadeLight','isShow','emissiveIntensity','clearMaterials','glowColorStr','#0052ab','textureSprite','foam','createUvAnimate','updateFps','settingMaterial','gradientType','seaground','isShowContour','seaGroundConfigs','#bbcde0','isShowSeaGroundEffect','groundTexRepeat','getGradientConfig','colorArray','createCanvas','setSeaGroundConfigs','fogNear','fogFar','groundTexPath','heightExtent','groundTex','isShowSeaGround','seaGroundScale','seaGroundFog','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPos\x20=\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mvPos\x20=\x20modelViewMatrix\x20*\x20mvPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vFogDepth\x20=\x20-mvPos.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowContour;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShowSeaGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20heightExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20seaGroundFog;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20waterColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20gradientTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20groundTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#define\x20F\x20length(.5-fract(k.xyw*=mat3(-2,-1,2,\x203,-2,1,\x201,2,2)*\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20fog(float\x20fogNear,\x20float\x20fogFar,\x20float\x20fogDepth,\x20vec3\x20fogNearColor,\x20vec3\x20fogFarColor,\x20vec4\x20fragColor)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20fogFactor\x20=\x20smoothstep(fogNear,\x20fogFar,\x20fogDepth);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(mix(\x20fragColor.rgb,\x20mix(fogNearColor,\x20fogFarColor,\x20fogFactor),\x20fogFactor\x20),\x20fragColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.y\x20>\x20heightExtent.x\x20&&\x20vModelPos.y\x20<\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(gradientTex,\x20vec2(0.0,\x20(vModelPos.y\x20-\x20heightExtent.x)/(heightExtent.y\x20-\x20heightExtent.x)));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowContour)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20lineThickness\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20pick\x20a\x20coordinate\x20to\x20visualize\x20in\x20a\x20grid\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20coord\x20=\x20vModelPos.y\x20/\x205.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20compute\x20anti-aliased\x20world-space\x20grid\x20lines\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20line\x20=\x20abs(fract(coord\x20-\x200.5)\x20-\x200.5)\x20/\x20fwidth(coord)\x20/\x20lineThickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20just\x20visualize\x20the\x20grid\x20lines\x20directly\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20+=\x20vec4(vec3(1.0\x20-\x20min(line,\x201.0)),\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShowSeaGround\x20&&\x20vModelPos.y\x20<\x20heightExtent.x\x20&&\x20vModelPos.y\x20>\x20heightExtent.y){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scale\x20=\x20seaGroundScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20imaging\x20an\x20axis-aligned\x20plane\x20in\x20space\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20iTime\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20rot\x20=\x20mat3(-2,-1,2,\x203,-2,1,\x201,2,2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20pos\x20=\x20vec3(uv+t*1e2,\x20t*2e2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dist\x20=\x201.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20rotate\x20the\x20plane&&calc\x20distance\x20to\x20cell\x20center\x20then\x20get\x20minimum\x20of\x20three\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s[3]\x20=\x20float[3](.32,.28,.26);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for(int\x20i\x20=\x200;i<3;i++)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pos\x20*=\x20rot*s[i];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20dist\x20=\x20min(dist,length(.5-fract(pos/2e2*scale)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20seaCausticTex\x20=\x20pow((dist),\x207.)*25.+vec4(0,0,0,1.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20seaCausticTex\x20=\x20fog(seaGroundFog.x,\x20seaGroundFog.y,\x20vFogDepth,\x20vec3(1.0),\x20vec3(0.0),\x20seaCausticTex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20waterColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20+=\x20seaCausticTex.rgb\x20*\x200.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#ifdef\x20IS_USE_GROUND_TEX\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(vec3(1.0),\x20resultColor.rgb,\x20texture2D(groundTex,\x20vnUv\x20*\x201000.0).a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isShowWaterEffect','hmExtent','hmTex','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20vec4(vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec4\x20hmExtent;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','setHeatMapTexture','createImgMaterial','hmCol','1.0','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20replaceCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20hmTex;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20checkColorIsNear\x20(vec3\x20curCol,\x20vec3\x20targetCol,\x20float\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20delta\x20=\x20vec3(curCol\x20-\x20targetCol);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(abs(delta.r)\x20<\x20nearFactor\x20&&\x20abs(delta.g)\x20<\x20nearFactor\x20&&\x20abs(delta.b)\x20<\x20nearFactor){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20true;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20false;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20?\x200.0\x20:\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20*=\x20diffuseColor.a;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','isSetTexture','setGradient','getColor','rgba(','updateTexture','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20rotateAngle;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isShow;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec4\x20texCol\x20=\x20texture2D(gradientTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.rgb\x20=\x20mix(vec3(1.0,\x200.0,\x200.0),\x20vec3(0.0,\x200.0,\x201.0),\x20texCol.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20curTexColor\x20=\x20texture2D(texture1,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nextTexColor\x20=\x20texture2D(texture2,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(curTexColor,\x20nextTexColor,\x20transFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','updateWind','applyWindEffect','perlin','maxAngle','maxSurge','maxHeave','maxSway','targetObj','playAnimate','images/building/circular2.png','images/building/circular_04.png','images/points/particle1.png','images/wall3.png','images/scan/light2_6.png','images/fire/inner_fire.png','images/fire/out_fire.png','images/fire/fire.png','images/explosion/sprite-explosion2.png','images/line/up_line.png','images/line/light_old.png','checkFunLevel','isShowBuildingTip','EffectLayer','_building_cube_float','addLayerToMap','mapIds','tileService','bidList','modelinfo','box3','addObject','inited','ESTileMap','isShowShadow','shadow','setShadowLight','updateShadow2','json','preload','setWalkControls','addControls','removeWalkControls','isSetRoomEffect','envTexture','addEffect','Lights','roomEffect','openScan','buildingScanConfigs','buildingScanLight','topImg','sideImg','colorImg','extentEffect','Buildings','buildingsThemes','setBuildingAttribute','tileRoomEffect','emissiveImg','skyImg','screenSky','Floors','pointLight','directLight','isUseEffectLights','isDirectLight','ambientLight','isAmbientLight','isShowSkybox','getOutdoorBuildingTheme','ground','repeatImg','Ground','models','modelsConfigs','Fog','screenEffects','getPlatform','isPC','isPc','platform','iPhone','iPad','iPod','Android','closeComposer','PostProcessing','postprocessing\x20is\x20not\x20support\x20in\x20this\x20browser\x20environment','setConfigs','postProcessing','tileUpdated','modelLoadedAll','effectQuality','shadowMap','medium','%c\x20effect\x20quality:\x20','color:#66ccff;','checkIsInLowDevice','minEffectQuality','checkIsInLowDeviceComplete','high','isLockShadowVisible','low','isCanRender','EffectManager','loadComplete','effectsInitComplete','show','ESJsonFileLoader','ESFileLoader','ESEventDispatcher','isSetModelEffect','showRoads','routesMarkers','beforeLoad','tilePreLoad','tileBuilidngThemes','addTileBuildingsEffect','addTilePlaneWater','setTileBuildingAttribute','unloadTile','themeLoaded','Effect','can\x20not\x20convert\x20null\x20or\x20undefined\x20to\x20object','%cthis\x20map\x20does\x20not\x20specify\x20a\x20effect\x20package','color:#f4c583','effectsInitError','debugParams','localEffectSrc','localEffectId','effectsConfig','%c\x20effects.json\x20cannot\x20be\x20parsed!\x20Please\x20check\x20the\x20response\x20content!','tileTexturesReady','ESViewMode','MODE_2D','quality','modelPrefetched','createTileInstanceModel','singleMesheDatas','createInstanceModel','navData','Lines','loadRoads','isChangeTileRoute','modelLoadComplete','webgl2','bType','setBuildingRoomShadow','defaultCubeTexture','model','setModelsEffect','mergeModel3D','child','modelEffects','modelStore','setModelsEffect4','envTextureCube','isSetTileBuilding','setTileBuildingsEnvTexture','buildingEnter','buildingLoadComplete','closeBuilding','MODEL_IMAGE','model_loading','controlchange','updateLightPoints','updateTileBuildingHighLightColor','controlstart','updateLts','Type','updateTileBuildingHorizonScan','center_spread','radar_scan','updateTileBuildingRadarScan','toggleTileBuildingsScan','updateTileBuildingExtentLight','toggleTileBuildingsLight','updateTileBuildingExtentLightDown','updateTileBuildingAlpha','editTileBuildingThemes','editTileBuildingColorTheme','controlFloorLayer','controlFloors','_originPos','directionalLights','updateDirectionalLights','updateAmbientLight','addPointLights','updateTileRoutesStyle','recoverTileRoutesStyle','toggleTileRoutesVisible','updateSkybox','skyboxTool','shaderSky','isLockSkyboxVisible','updateWaveLines','setWaterRipple','mirroWaters','oceanTerrainMat','modelTerrainList','gradientTerrainList','lightBlend','toggleLightPoints','createEffectPoints','shadowPlane','_markerId','modelName','aoShadow','modelsControlGroups','_isBloom','setObjectBloomLight','removeObjectBloomLight','projectionHeatMaps','getTexture','textureHeatMaps','_mesh','transparencyCondition','maxValue','minAlphaTrans','createFloatShakeModel','initVideoProjector','showVisualField','layers','_bloomOriginColor','offsetHSL','isIgnoreScreenEffect','outlinePass','ignoreMaterials','updateOutlineStyle','removeObjectOutline','relaceBgMaterial','materials','setRainScreenEffect','updateAllLightConfig','closeShadow','updateShadowAnimate','shadowAnimate','initComplete','Routes','Shadow','Video','HeatMap','configs','createTileBuildingsEffect2','addBuildingsEffect','addGroundTexture','isPointLight','addDirectLights','isEnv','initEnvTexture','isNavPath','computeRoutesData','addWater','Models','init2','updateEffect','removeEffect','isCanUseScanStatus','setBuildingsTheme','sideImgRepeatFactor','topImgRepeatFactor','emissiveImgScale','emissiveColor','colorBreath','transprentHightLight','horizonScanColor','horizonScanWidth','horizonScanDiffuse','horizonScanExtent','horizonScanSpeed','verticalScanColor','centerSpreadColor','centerSpreadRadius','centerSpreadCenterPos','radarScanColor','radarScanRadius','radarScanImg','setBuildingScanConfig','floorNum','getLayersByTypes','MODEL','MODEL_BASE','frameOpacity','frameColor','edgeLineFrameList','tileStyles','createTileBuildingsEffect','prodMatIdx','editMode','createEditTileBuildingEffect','tileTextures','renderSort','modelBasicMat','getTileById','computeBuildingFaceAttr','mappingThemeImgStyle','maptheme','Building','topimage','sideimage','horizon_scan','lineScanCenter','scanColor','scanLightWidth','scanDiffuse','scanExtent','scanSpeed','horizonScan','vertical_scan','verticalScanHeight','verticalScanExtent','scanCenter','maxRadius','centerSpread','radarScanCenterPos','scanRadius','scanImg','radarScan','originOpacity','updateTileBuildingCenterSpreadScan','openLight','toggleColorLight','toggleBuildingVisible','envMapIntensity','clearShaderCode','floorsMesh','floorEffects','effectType','points_spread','effectConfigs','alphaTransitionRadius','alpha_trans','isControl','controlId','scanRepeatImg','gradient_floor','mirro','GeometryMirro','innerWidth','innerHeight','FLOOR_BASE','GroundTexture','repeatScaleFactor','targetMesh','groundThemes','pointLights','tileBuildingLight','envTextureCubes','extent','distance','PointLightHelper','replaceLight','_originConfig','DirectionalLightHelper','DirectionalLight','isInfinite','planeScale','lightPlane','lightAnimate','getAmbientLight','AmbientLight','_originIntensity','isRecover','animateTime','updatePointLights','imgPaths','HDR','createPMREMEnvTexture','createEnvTexture','createLightProbe','lightProbe','LightProbe','LightProbeGenerator','fromCubeTexture','updateMaterialsEnvMap','getTextureCubeByName','SphericalHarmonics3','coefficients','setRGB','copySRGBToLinear','tileRoute','routesLineGroup','isLoadedTileRouteStyle','tileRoutesMarkers','isCanChangeTileRoutesStyle','isChangedTileRoutesStyle','changedTileRoutesStyleConfig','tempColor','initHeight','getBuildingById','createRoutesLine','lineTexture','isHightLight','mapId','computeNavDataToRoutesData','navs','naviData','floornum','#c37400','bstair','rank','Nodes','sid','lineImg','colors','datatype','datas','coordTrans','loadTileRoutesData','createTileRouteStyles','transformCoordArray','coordSystem','tileRoutePoints','changeColor','geometries','ESRenderOrder','tileRouteLine','tile_route_line','idColorMapping','mergeGeometrys','routeId','BufferGeometryUtils2','mergeBufferGeometries','routeIds','updateTileRoutesRandomColors','tileList','lineColorMapping','lineScale','scaleLineWidth','routeEffectLayer','tileRoutes','roadStyles','colorRGB2Hex','linewidth','animationspeed','computeTileRoutesData','substring','routesEffectLayer','atan','exp','tangent','groups','crossVectors','morphAttributes','has','mergedUserData','mergeBufferAttributes','isInterleavedBufferAttribute','normalized','getX','getW','setX','setY','setZ','setW','BYTES_PER_ELEMENT','setArray','log10','Number','Set','fastKey','getConstructor','NEED','setStrong','#toJSON\x20isn\x27t\x20generic','textureCubes','isFirstTexCube','showSkybox','skyboxSwitchAnimate','setSkyBox','box','isPlane','createOnePicCubeTexture','setBackground','createSixPicCubeTexture','getOS','gradient_sphere','gradient_cube','clearSky','bindLight','azimuthAngle','verticalAngle','bindTileMapLevelChange','sky_wall','createCylinderWallSky','waterList','waveLineMarker','waveEffectLayer','tilePlaneWaters','createWater','addWaterShape','tilePlaneEffect','styleType','styleName','tileMaterial','isSetTilePlaneWater','groundImg','waveFactor','getWater','_effectConfig','waveLine','EffectMarker','removeWaveLines','addGroup','boatFoams','uvTransformTextures','modelBlendEffectList','isSetModelsConfigs','modelUvAnimation','gradients','lightPointsMeshs','instanceMeshs','tileInstanceModels','floatShakeModels','getCurrModelConfig','getRenderOrder','order','setModelsEffect3','splitEffectsTemplates','matchModelEffectConfig','_ef_','settingModelEffects','control','codeControlObj','additive','isClose','fresnel','setObjectOutline','lineFrame','lineOpacity','createEdgeLineFrame','faces','wireFrame','wireframe','uvAnimation','uvTransform','modelEffectInitComplete','createTextureBlend','blendEffect','_createWater','createMirroWater2','mirroWater','createLightBlend','lightPoints','_lightPointsType','_lightPointsConfig','_lightPointsIsLookAt','isLookAt','terrain','createTerrain','createHeatMap','heatmap','gradient','createGradient','setTransparent','createFresnelEffect','_noCopy','_effect','mainLight','ignoreOriginMat','currentSrc','lastIndexOf','_ef_mask.png','images/water/waternormals.jpg','isDoubleSide','isUseAnimate','uvRotation','isUseAlphaMask','addUv2AlphaMask','spriteAnimate','translateX','translateY','originalSrc','uv2TranslateX','uv2TranslateY','fixMobileIntensity','setEnvTextureMaterials','closeLight','_ef_blend-1.','_ef_blend-2.','_ef_blend-3.','normalUv','blendCount','createrBlendEffect','isUseNormal','_ef_normal.','Material','noOriginTexture','groundScaleFactor','waterFogNear','waterFogFar','setScalar','addEffectPointsMarker','coordThreeToMap','lightPointsLayer','styleConfig','setRenderOrder','gltfObj','parser','Box3','setFromObject','radToDeg','building','getLayersByNames','mapmodel3ds','offsetPos','isLockScreenVisible','isLockCreateScreenPlane','screenPlane','rainScreenEffect','snowScreenEffect','isShowRainScreenEffect','isShowSnowScreenEffect','bindOutlineSelection','ESNodeType','MODEL3D','outlineSelectList','selectedObjects','hiddenEdgeColor','edgeWidth','edgeStrength','edgeSpread','edgeThickness','maskTexture','patternTexture','usePatternTexture','blinkPeriod','pulsePeriod','defaultOutlineConfig','clearSelectedOutline','ESWaterMark','plane','PlaneRainEffect','setSnowScreenEffect','composer','isWebGL2','bloomComposer','fxaaPass','bloomPass','bloomFinalPass','originSize','bloomLayer','darkMaterial','darkColor','getPixelRatio','alphaMode','perspective','getDrawingBufferSize','WebGLMultisampleRenderTarget','EffectComposer','RenderPass','FXAAShader','outline','OutlinePass','edgeGlow','renderToScreen','threshold','bloomThreshold','strength','bloomStrength','addPass','ShaderPass','renderTarget2','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20baseTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20bloomTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getTexture(\x20sampler2D\x20texture1\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mapTexelToLinear(\x20texture2D(\x20texture1\x20,\x20vUv\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20(\x20getTexture(\x20baseTexture\x20)\x20+\x20vec4(\x201.0\x20)\x20*\x20getTexture(\x20bloomTexture\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','baseTexture','needsSwap','clearColor_','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','originBgTexture','renderBloom','cameraTop','rendererCss2D','_originColor','restoreMaterial','darkenNonBloomed','SkinnedMesh','RGBAFormat','getSize','_pixelRatio','_width','_height','EffectComposer.rt1','renderTarget1','writeBuffer','readBuffer','passes','CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.CopyShader','THREE.EffectComposer\x20relies\x20on\x20THREE.ShaderPass','copyPass','clock','Clock','getDelta','context','stencilFunc','EQUAL','swapBuffers','MaskPass','ClearMaskPass','Pass','THREE.Pass:\x20.render()\x20must\x20be\x20implemented\x20in\x20derived\x20pass.','overrideMaterial','clearColor','autoClear','getClearColor','getClearAlpha','setClearColor','clearAlpha','clearDepth','autoClearColor','autoClearDepth','autoClearStencil','textureID','tDiffuse','fsQuad','FullScreenQuad','renderTargetsHorizontal','renderTargetsVertical','nMips','UnrealBloomPass.bright','renderTargetBright','UnrealBloomPass.h','UnrealBloomPass.v','LuminosityHighPassShader','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.LuminosityHighPassShader','highPassUniforms','UniformsUtils','smoothWidth','materialHighPassFilter','separableBlurMaterials','compositeMaterial','getCompositeMaterial','blurTexture2','blurTexture3','blurTexture4','blurTexture5','bloomRadius','bloomTintColors','THREE.UnrealBloomPass\x20relies\x20on\x20THREE.CopyShader','copyUniforms','materialCopy','oldClearColor','oldClearAlpha','UnrealBloomPass','texSize','luminosityThreshold','BlurDirectionX','colorTexture','STENCIL_TEST','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture3;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture4;\x09\x09\x09\x09uniform\x20sampler2D\x20blurTexture5;\x09\x09\x09\x09uniform\x20sampler2D\x20dirtTexture;\x09\x09\x09\x09uniform\x20float\x20bloomStrength;\x09\x09\x09\x09uniform\x20float\x20bloomRadius;\x09\x09\x09\x09uniform\x20float\x20bloomFactors[NUM_MIPS];\x09\x09\x09\x09uniform\x20vec3\x20bloomTintColors[NUM_MIPS];\x09\x09\x09\x09\x09\x09\x09\x09float\x20lerpBloomFactor(const\x20in\x20float\x20factor)\x20{\x20\x09\x09\x09\x09\x09float\x20mirrorFactor\x20=\x201.2\x20-\x20factor;\x09\x09\x09\x09\x09return\x20mix(factor,\x20mirrorFactor,\x20bloomRadius);\x09\x09\x09\x09}\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09gl_FragColor\x20=\x20bloomStrength\x20*\x20(\x20lerpBloomFactor(bloomFactors[0])\x20*\x20vec4(bloomTintColors[0],\x201.0)\x20*\x20texture2D(blurTexture1,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[1])\x20*\x20vec4(bloomTintColors[1],\x201.0)\x20*\x20texture2D(blurTexture2,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[2])\x20*\x20vec4(bloomTintColors[2],\x201.0)\x20*\x20texture2D(blurTexture3,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[3])\x20*\x20vec4(bloomTintColors[3],\x201.0)\x20*\x20texture2D(blurTexture4,\x20vUv)\x20+\x20\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x09\x20lerpBloomFactor(bloomFactors[4])\x20*\x20vec4(bloomTintColors[4],\x201.0)\x20*\x20texture2D(blurTexture5,\x20vUv)\x20);\x09\x09\x09\x09}','varying\x20vec2\x20vUv;','vUv\x20=\x20uv;','gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','uniform\x20sampler2D\x20tDiffuse;','vec4\x20texel\x20=\x20texture2D(\x20tDiffuse,\x20vUv\x20);','luminosityHighPass','uniform\x20vec3\x20defaultColor;','uniform\x20float\x20luminosityThreshold;','uniform\x20float\x20smoothWidth;','vec3\x20luma\x20=\x20vec3(\x200.299,\x200.587,\x200.114\x20);','float\x20alpha\x20=\x20smoothstep(\x20luminosityThreshold,\x20luminosityThreshold\x20+\x20smoothWidth,\x20v\x20);','gl_FragColor\x20=\x20mix(\x20outputColor,\x20texel,\x20alpha\x20);','//\x20FXAA\x203.11\x20implementation\x20by\x20NVIDIA,\x20ported\x20to\x20WebGL\x20by\x20Agost\x20Biro\x20(biro@archilogic.com)','//----------------------------------------------------------------------------------','//\x20File:\x20\x20\x20\x20\x20\x20\x20\x20es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag','//\x20Email:\x20\x20\x20\x20\x20\x20\x20gameworks@nvidia.com','//\x20Site:\x20\x20\x20\x20\x20\x20\x20\x20http://developer.nvidia.com/','//\x20Copyright\x20(c)\x202014-2015,\x20NVIDIA\x20CORPORATION.\x20All\x20rights\x20reserved.','//\x20Redistribution\x20and\x20use\x20in\x20source\x20and\x20binary\x20forms,\x20with\x20or\x20without','//\x20modification,\x20are\x20permitted\x20provided\x20that\x20the\x20following\x20conditions','//\x20are\x20met:','//\x20\x20*\x20Redistributions\x20of\x20source\x20code\x20must\x20retain\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer.','//\x20\x20*\x20Redistributions\x20in\x20binary\x20form\x20must\x20reproduce\x20the\x20above\x20copyright','//\x20\x20\x20\x20notice,\x20this\x20list\x20of\x20conditions\x20and\x20the\x20following\x20disclaimer\x20in\x20the','//\x20\x20\x20\x20documentation\x20and/or\x20other\x20materials\x20provided\x20with\x20the\x20distribution.','//\x20\x20*\x20Neither\x20the\x20name\x20of\x20NVIDIA\x20CORPORATION\x20nor\x20the\x20names\x20of\x20its','//\x20\x20\x20\x20from\x20this\x20software\x20without\x20specific\x20prior\x20written\x20permission.','//\x20IMPLIED\x20WARRANTIES\x20OF\x20MERCHANTABILITY\x20AND\x20FITNESS\x20FOR\x20A\x20PARTICULAR','//\x20PURPOSE\x20ARE\x20DISCLAIMED.\x20\x20IN\x20NO\x20EVENT\x20SHALL\x20THE\x20COPYRIGHT\x20OWNER\x20OR','//\x20CONTRIBUTORS\x20BE\x20LIABLE\x20FOR\x20ANY\x20DIRECT,\x20INDIRECT,\x20INCIDENTAL,\x20SPECIAL,','//\x20PROCUREMENT\x20OF\x20SUBSTITUTE\x20GOODS\x20OR\x20SERVICES;\x20LOSS\x20OF\x20USE,\x20DATA,\x20OR','//\x20PROFITS;\x20OR\x20BUSINESS\x20INTERRUPTION)\x20HOWEVER\x20CAUSED\x20AND\x20ON\x20ANY\x20THEORY','//\x20OF\x20LIABILITY,\x20WHETHER\x20IN\x20CONTRACT,\x20STRICT\x20LIABILITY,\x20OR\x20TORT','//\x20(INCLUDING\x20NEGLIGENCE\x20OR\x20OTHERWISE)\x20ARISING\x20IN\x20ANY\x20WAY\x20OUT\x20OF\x20THE\x20USE','//\x20OF\x20THIS\x20SOFTWARE,\x20EVEN\x20IF\x20ADVISED\x20OF\x20THE\x20POSSIBILITY\x20OF\x20SUCH\x20DAMAGE.','#define\x20FXAA_PC\x201','#define\x20FXAA_QUALITY_PRESET\x2012','#define\x20FXAA_GREEN_AS_LUMA\x201','/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20The\x20console\x20algorithm\x20for\x20PC\x20is\x20included','\x20\x20\x20\x20//\x20for\x20developers\x20targeting\x20really\x20low\x20spec\x20machines.','\x20\x20\x20\x20//\x20Likely\x20better\x20to\x20just\x20run\x20FXAA_PC,\x20and\x20use\x20a\x20really\x20low\x20preset.','\x20\x20\x20\x20#define\x20FXAA_GLSL_120\x200','#ifndef\x20FXAA_GLSL_130','\x20\x20\x20\x20#define\x20FXAA_GLSL_130\x200','#ifndef\x20FXAA_HLSL_3','\x20\x20\x20\x20#define\x20FXAA_HLSL_3\x200','#ifndef\x20FXAA_HLSL_4','\x20\x20\x20\x20#define\x20FXAA_HLSL_4\x200','#ifndef\x20FXAA_HLSL_5','\x20\x20\x20\x20#define\x20FXAA_HLSL_5\x200','/*==========================================================================*/','\x20\x20\x20\x20//\x20For\x20those\x20using\x20non-linear\x20color,','\x20\x20\x20\x20//\x20and\x20either\x20not\x20able\x20to\x20get\x20luma\x20in\x20alpha,\x20or\x20not\x20wanting\x20to,','\x20\x20\x20\x20//\x20this\x20enables\x20FXAA\x20to\x20run\x20using\x20green\x20as\x20a\x20proxy\x20for\x20luma.','\x20\x20\x20\x20//\x20Pure\x20red\x20and\x20blue\x20or\x20combination\x20of\x20only\x20R\x20and\x20B,\x20will\x20get\x20no\x20AA.','\x20\x20\x20\x20//\x20Might\x20want\x20to\x20lower\x20the\x20settings\x20for\x20both,','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaConsoleEdgeThresholdMin','\x20\x20\x20\x20//\x20\x20\x20\x20fxaaQualityEdgeThresholdMin','\x20\x20\x20\x20//\x20In\x20order\x20to\x20insure\x20AA\x20does\x20not\x20get\x20turned\x20off\x20on\x20colors','\x20\x20\x20\x20//\x20which\x20contain\x20a\x20minor\x20amount\x20of\x20green.','\x20\x20\x20\x20//\x201\x20=\x20On.','\x20\x20\x20\x20//\x200\x20=\x20Off.','\x20\x20\x20\x20#define\x20FXAA_GREEN_AS_LUMA\x200','#ifndef\x20FXAA_EARLY_EXIT','\x20\x20\x20\x20//\x20Controls\x20algorithm\x27s\x20early\x20exit\x20path.','\x20\x20\x20\x20//\x20On\x20360\x20turning\x20this\x20OFF\x20adds\x2010ths\x20of\x20a\x20millisecond\x20to\x20the\x20shader.','\x20\x20\x20\x20//\x20So\x20this\x20defaults\x20to\x20on.','\x20\x20\x20\x20#define\x20FXAA_EARLY_EXIT\x201','#ifndef\x20FXAA_DISCARD','\x20\x20\x20\x20//\x20Only\x20valid\x20for\x20PC\x20OpenGL\x20currently.','\x20\x20\x20\x20//\x20Probably\x20will\x20not\x20work\x20when\x20FXAA_GREEN_AS_LUMA\x20=\x201.','\x20\x20\x20\x20//\x201\x20=\x20Use\x20discard\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20//\x200\x20=\x20Return\x20unchanged\x20color\x20on\x20pixels\x20which\x20don\x27t\x20need\x20AA.','\x20\x20\x20\x20#define\x20FXAA_DISCARD\x200','\x20\x20\x20\x20//\x20Used\x20for\x20GLSL\x20120\x20only.','\x20\x20\x20\x20//\x201\x20=\x20GL\x20API\x20supports\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20//\x200\x20=\x20do\x20not\x20use\x20fast\x20pixel\x20offsets','\x20\x20\x20\x20#ifdef\x20GL_EXT_gpu_shader4','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x201','\x20\x20\x20\x20#ifdef\x20GL_ARB_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_FAST_PIXEL_OFFSET','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_FAST_PIXEL_OFFSET\x200','#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20//\x201\x20=\x20API\x20supports\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20//\x200\x20=\x20API\x20does\x20not\x20support\x20gather4\x20on\x20alpha\x20channel.','\x20\x20\x20\x20#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201','\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5','\x20\x20\x20\x20#ifndef\x20FXAA_GATHER4_ALPHA','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x200','/*============================================================================','------------------------------------------------------------------------------','NOTE\x20the\x20other\x20tuning\x20knobs\x20are\x20now\x20in\x20the\x20shader\x20function\x20inputs!','============================================================================*/','\x20\x20\x20\x20//\x20Choose\x20the\x20quality\x20preset.','\x20\x20\x20\x20//\x20This\x20needs\x20to\x20be\x20compiled\x20into\x20the\x20shader\x20as\x20it\x20effects\x20code.','\x20\x20\x20\x20//\x20in\x20each\x20shader\x20define\x20the\x20preset,\x20then\x20include\x20this\x20file.','\x20\x20\x20\x20//\x20OPTIONS','\x20\x20\x20\x20//\x20-----------------------------------------------------------------------','\x20\x20\x20\x20//\x2010\x20to\x2015\x20-\x20default\x20medium\x20dither\x20(10=fastest,\x2015=highest\x20quality)','\x20\x20\x20\x20//\x2020\x20to\x2029\x20-\x20less\x20dither,\x20more\x20expensive\x20(20=fastest,\x2029=highest\x20quality)','\x20\x20\x20\x20//\x2039\x20\x20\x20\x20\x20\x20\x20-\x20no\x20dither,\x20very\x20expensive','\x20\x20\x20\x20//\x2012\x20=\x20slightly\x20faster\x20then\x20FXAA\x203.9\x20and\x20higher\x20edge\x20quality\x20(default)','\x20\x20\x20\x20//\x2013\x20=\x20about\x20same\x20speed\x20as\x20FXAA\x203.9\x20and\x20better\x20than\x2012','\x20\x20\x20\x20//\x2023\x20=\x20closest\x20to\x20FXAA\x203.9\x20visually\x20and\x20performance\x20wise','\x20\x20\x20\x20//\x20\x20_\x20=\x20the\x20lowest\x20digit\x20is\x20directly\x20related\x20to\x20performance','\x20\x20\x20\x20//\x20_\x20\x20=\x20the\x20highest\x20digit\x20is\x20directly\x20related\x20to\x20style','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PRESET\x2012','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20PRESETS','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20MEDIUM\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2010)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x203','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2011)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x204','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x203.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2012)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x205','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x2012.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x206','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2014)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x207','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x2012.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2015)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x208','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x2012.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20LOW\x20DITHER\x20PRESETS','#if\x20(FXAA_QUALITY_PRESET\x20==\x2020)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2021)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2023)','#if\x20(FXAA_QUALITY_PRESET\x20==\x2024)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x208.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x209','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2027)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2028)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x204.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x208.0','#if\x20(FXAA_QUALITY_PRESET\x20==\x2029)','\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2012','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P10\x204.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20EXTREME\x20QUALITY','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20API\x20PORTING','\x20\x20\x20\x20#define\x20FxaaFloat\x20float','\x20\x20\x20\x20#define\x20FxaaFloat3\x20vec3','\x20\x20\x20\x20#define\x20FxaaHalf\x20float','\x20\x20\x20\x20#define\x20FxaaHalf2\x20vec2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20vec3','\x20\x20\x20\x20#define\x20FxaaHalf4\x20vec4','\x20\x20\x20\x20#define\x20FxaaInt2\x20ivec2','#else','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20clip(-1)','\x20\x20\x20\x20#define\x20FxaaFloat2\x20float2','\x20\x20\x20\x20#define\x20FxaaFloat3\x20float3','\x20\x20\x20\x20#define\x20FxaaFloat4\x20float4','\x20\x20\x20\x20#define\x20FxaaHalf2\x20half2','\x20\x20\x20\x20#define\x20FxaaHalf3\x20half3','\x20\x20\x20\x20#define\x20FxaaSat(x)\x20saturate(x)','#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2D(t,\x20p,\x200.0)','\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2D(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','#if\x20(FXAA_GLSL_120\x20==\x201)','\x20\x20\x20\x20//\x20Requires,','\x20\x20\x20\x20//\x20And\x20at\x20least,','\x20\x20\x20\x20//\x20\x20#extension\x20GL_EXT_gpu_shader4\x20:\x20enable','\x20\x20\x20\x20//\x20\x20(or\x20set\x20FXAA_FAST_PIXEL_OFFSET\x201\x20to\x20work\x20like\x20DX9)','\x20\x20\x20\x20#if\x20(FXAA_FAST_PIXEL_OFFSET\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLodOffset(t,\x20p,\x200.0,\x20o)','\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20textureGather(t,\x20p,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x203)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20textureGather(t,\x20p,\x201)','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20textureGatherOffset(t,\x20p,\x20o,\x201)','#if\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20//\x20Requires\x20\x22#version\x20130\x22\x20or\x20better','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20textureLod(t,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20textureLodOffset(t,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_3\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20float2','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20tex2Dlod(t,\x20float4(p,\x200.0,\x200.0))','#if\x20(FXAA_HLSL_4\x20==\x201)','\x20\x20\x20\x20struct\x20FxaaTex\x20{\x20SamplerState\x20smpl;\x20Texture2D\x20tex;\x20};','\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0,\x20o)','#if\x20(FXAA_HLSL_5\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaInt2\x20int2','\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)','\x20\x20\x20\x20#define\x20FxaaTexAlpha4(t,\x20p)\x20t.tex.GatherAlpha(t.smpl,\x20p)','#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.y;\x20}','#if\x20(FXAA_PC\x20==\x201)','FxaaFloat4\x20FxaaPixelShader(','\x20\x20\x20\x20//\x20Use\x20noperspective\x20interpolation\x20here\x20(turn\x20off\x20perspective\x20interpolation).','\x20\x20\x20\x20//\x20{xy}\x20=\x20center\x20of\x20pixel','\x20\x20\x20\x20FxaaFloat2\x20pos,','\x20\x20\x20\x20//\x20Used\x20only\x20for\x20FXAA\x20Console,\x20and\x20not\x20used\x20on\x20the\x20360\x20version.','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsolePosPos,','\x20\x20\x20\x20//\x20if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20the\x20optimized\x20360\x20version\x20of\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20For\x20everything\x20but\x20360,\x20just\x20use\x20the\x20same\x20input\x20here\x20as\x20for\x20\x22tex\x22.','\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x202nd\x20sampler.','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-1.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegOne,','\x20\x20\x20\x20//\x20This\x20sampler\x20needs\x20to\x20have\x20an\x20exponent\x20bias\x20of\x20-2.','\x20\x20\x20\x20FxaaTex\x20fxaaConsole360TexExpBiasNegTwo,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.','\x20\x20\x20\x20//\x20{x_}\x20=\x201.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y}\x20=\x201.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat2\x20fxaaQualityRcpFrame,','\x20\x20\x20\x20//\x20This\x20effects\x20sub-pixel\x20AA\x20quality\x20and\x20inversely\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.50\x20(default)','\x20\x20\x20\x20//\x20\x20\x20\x20\x20N\x20=\x200.33\x20(sharper)','\x20\x20\x20\x20//\x20{x__}\x20=\x20-N/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-N/screenHeightInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x20N/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20Not\x20used\x20on\x20360,\x20but\x20used\x20on\x20PS3\x20and\x20PC.','\x20\x20\x20\x20//\x20{x__}\x20=\x20-2.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20-2.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20\x202.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsoleRcpFrameOpt2,','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20360\x20in\x20place\x20of\x20fxaaConsoleRcpFrameOpt2.','\x20\x20\x20\x20//\x20{x__}\x20=\x20\x208.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{_y_}\x20=\x20\x208.0/screenHeightInPixels','\x20\x20\x20\x20//\x20{_z_}\x20=\x20-4.0/screenWidthInPixels','\x20\x20\x20\x20//\x20{__w}\x20=\x20-4.0/screenHeightInPixels','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360RcpFrameOpt2,','\x20\x20\x20\x20//\x20Choose\x20the\x20amount\x20of\x20sub-pixel\x20aliasing\x20removal.','\x20\x20\x20\x20//\x20This\x20can\x20effect\x20sharpness.','\x20\x20\x20\x20//\x20\x20\x201.00\x20-\x20upper\x20limit\x20(softer)','\x20\x20\x20\x20//\x20\x20\x200.50\x20-\x20lower\x20limit\x20(sharper,\x20less\x20sub-pixel\x20aliasing\x20removal)','\x20\x20\x20\x20//\x20\x20\x200.00\x20-\x20completely\x20off','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.','\x20\x20\x20\x20//\x20The\x20minimum\x20amount\x20of\x20local\x20contrast\x20required\x20to\x20apply\x20algorithm.','\x20\x20\x20\x20//\x20\x20\x200.333\x20-\x20too\x20little\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.250\x20-\x20low\x20quality','\x20\x20\x20\x20//\x20\x20\x200.166\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.125\x20-\x20high\x20quality','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThreshold,','\x20\x20\x20\x20//\x20Trims\x20the\x20algorithm\x20from\x20processing\x20darks.','\x20\x20\x20\x20//\x20\x20\x200.0833\x20-\x20upper\x20limit\x20(default,\x20the\x20start\x20of\x20visible\x20unfiltered\x20edges)','\x20\x20\x20\x20//\x20\x20\x200.0625\x20-\x20high\x20quality\x20(faster)','\x20\x20\x20\x20//\x20\x20\x200.0312\x20-\x20visible\x20limit\x20(slower)','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,','\x20\x20\x20\x20//\x20\x20\x20Likely\x20want\x20to\x20set\x20this\x20to\x20zero.','\x20\x20\x20\x20//\x20\x20\x20will\x20appear\x20very\x20dark\x20in\x20the\x20green\x20channel!','\x20\x20\x20\x20FxaaFloat\x20fxaaQualityEdgeThresholdMin,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_SHARPNESS\x20define.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.','\x20\x20\x20\x20//\x20\x20\x20Due\x20to\x20the\x20PS3\x20being\x20ALU\x20bound,','\x20\x20\x20\x20//\x20\x20\x20These\x20options\x20use\x20the\x20shaders\x20ability\x20to\x20a\x20free\x20*|/\x20by\x202|4|8.','\x20\x20\x20\x20//\x20For\x20all\x20other\x20platforms\x20can\x20be\x20a\x20non-power\x20of\x20two.','\x20\x20\x20\x20//\x20\x20\x208.0\x20is\x20sharper\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x204.0\x20is\x20softer','\x20\x20\x20\x20//\x20\x20\x202.0\x20is\x20really\x20soft\x20(good\x20only\x20for\x20vector\x20graphics\x20inputs)','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeSharpness,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD\x20define.','\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_THRESHOLD\x20for\x20PS3.','\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20two\x20safe\x20values\x20here:\x201/4\x20and\x201/8.','\x20\x20\x20\x20//\x20\x20\x200.125\x20leaves\x20less\x20aliasing,\x20but\x20is\x20softer\x20(default!!!)','\x20\x20\x20\x20//\x20\x20\x200.25\x20leaves\x20more\x20aliasing,\x20and\x20is\x20sharper','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThreshold,','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_CONSOLE_EDGE_THRESHOLD_MIN\x20define.','\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20This\x20only\x20applies\x20when\x20FXAA_EARLY_EXIT\x20is\x201.','\x20\x20\x20\x20//\x20This\x20does\x20not\x20apply\x20to\x20PS3,','\x20\x20\x20\x20//\x20PS3\x20was\x20simplified\x20to\x20avoid\x20more\x20shader\x20instructions.','\x20\x20\x20\x20//\x20\x20\x200.06\x20-\x20faster\x20but\x20more\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.','\x20\x20\x20\x20FxaaFloat\x20fxaaConsoleEdgeThresholdMin,','\x20\x20\x20\x20//\x20Extra\x20constants\x20for\x20360\x20FXAA\x20Console\x20only.','\x20\x20\x20\x20//\x20Use\x20zeros\x20or\x20anything\x20else\x20for\x20other\x20platforms.','\x20\x20\x20\x20//\x20{xyzw}\x20=\x20float4(1.0,\x20-1.0,\x200.25,\x20-0.25)','\x20\x20\x20\x20FxaaFloat4\x20fxaaConsole360ConstDir',')\x20{','\x20\x20\x20\x20FxaaFloat2\x20posM;','\x20\x20\x20\x20posM.x\x20=\x20pos.x;','\x20\x20\x20\x20posM.y\x20=\x20pos.y;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GREEN_AS_LUMA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffAlpha4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4B\x20=\x20FxaaTexOffGreen4(tex,\x20posM,\x20FxaaInt2(-1,\x20-1));','\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20luma4A.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaE\x20luma4A.z','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaS\x20luma4A.x','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaNW\x20luma4B.w','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaW\x20luma4B.x','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.w','\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x200.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x200.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x200),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaN\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20maxSM\x20=\x20max(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20minSM\x20=\x20min(lumaS,\x20lumaM);','\x20\x20\x20\x20FxaaFloat\x20maxESM\x20=\x20max(lumaE,\x20maxSM);','\x20\x20\x20\x20FxaaFloat\x20minESM\x20=\x20min(lumaE,\x20minSM);','\x20\x20\x20\x20FxaaFloat\x20maxWN\x20=\x20max(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20minWN\x20=\x20min(lumaN,\x20lumaW);','\x20\x20\x20\x20FxaaFloat\x20rangeMax\x20=\x20max(maxWN,\x20maxESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMin\x20=\x20min(minWN,\x20minESM);','\x20\x20\x20\x20FxaaFloat\x20rangeMaxScaled\x20=\x20rangeMax\x20*\x20fxaaQualityEdgeThreshold;','\x20\x20\x20\x20FxaaFloat\x20range\x20=\x20rangeMax\x20-\x20rangeMin;','\x20\x20\x20\x20FxaaFloat\x20rangeMaxClamped\x20=\x20max(fxaaQualityEdgeThresholdMin,\x20rangeMaxScaled);','\x20\x20\x20\x20FxaaBool\x20earlyExit\x20=\x20range\x20<\x20rangeMaxClamped;','\x20\x20\x20\x20if(earlyExit)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaDiscard;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20rgbyM;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,-1.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(-1.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x201,-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(1,\x20-1),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20FxaaFloat\x20lumaNS\x20=\x20lumaN\x20+\x20lumaS;','\x20\x20\x20\x20FxaaFloat\x20lumaWE\x20=\x20lumaW\x20+\x20lumaE;','\x20\x20\x20\x20FxaaFloat\x20subpixRcpRange\x20=\x201.0/range;','\x20\x20\x20\x20FxaaFloat\x20subpixNSWE\x20=\x20lumaNS\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaNS;','\x20\x20\x20\x20FxaaFloat\x20edgeVert1\x20=\x20(-2.0\x20*\x20lumaM)\x20+\x20lumaWE;','\x20\x20\x20\x20FxaaFloat\x20lumaNESE\x20=\x20lumaNE\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWNE\x20=\x20lumaNW\x20+\x20lumaNE;','\x20\x20\x20\x20FxaaFloat\x20edgeVert2\x20=\x20(-2.0\x20*\x20lumaN)\x20+\x20lumaNWNE;','\x20\x20\x20\x20FxaaFloat\x20lumaNWSW\x20=\x20lumaNW\x20+\x20lumaSW;','\x20\x20\x20\x20FxaaFloat\x20lumaSWSE\x20=\x20lumaSW\x20+\x20lumaSE;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz4\x20=\x20(abs(edgeHorz1)\x20*\x202.0)\x20+\x20abs(edgeHorz2);','\x20\x20\x20\x20FxaaFloat\x20edgeVert4\x20=\x20(abs(edgeVert1)\x20*\x202.0)\x20+\x20abs(edgeVert2);','\x20\x20\x20\x20FxaaFloat\x20edgeHorz3\x20=\x20(-2.0\x20*\x20lumaW)\x20+\x20lumaNWSW;','\x20\x20\x20\x20FxaaFloat\x20edgeHorz\x20=\x20abs(edgeHorz3)\x20+\x20edgeHorz4;','\x20\x20\x20\x20FxaaFloat\x20edgeVert\x20=\x20abs(edgeVert3)\x20+\x20edgeVert4;','\x20\x20\x20\x20FxaaFloat\x20subpixNWSWNESE\x20=\x20lumaNWSW\x20+\x20lumaNESE;','\x20\x20\x20\x20FxaaFloat\x20lengthSign\x20=\x20fxaaQualityRcpFrame.x;','\x20\x20\x20\x20FxaaBool\x20horzSpan\x20=\x20edgeHorz\x20>=\x20edgeVert;','\x20\x20\x20\x20FxaaFloat\x20subpixA\x20=\x20subpixNSWE\x20*\x202.0\x20+\x20subpixNWSWNESE;','\x20\x20\x20\x20if(!horzSpan)\x20lumaS\x20=\x20lumaE;','\x20\x20\x20\x20if(horzSpan)\x20lengthSign\x20=\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20FxaaFloat\x20subpixB\x20=\x20(subpixA\x20*\x20(1.0/12.0))\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20gradientS\x20=\x20lumaS\x20-\x20lumaM;','\x20\x20\x20\x20FxaaFloat\x20lumaSS\x20=\x20lumaS\x20+\x20lumaM;','\x20\x20\x20\x20FxaaBool\x20pairN\x20=\x20abs(gradientN)\x20>=\x20abs(gradientS);','\x20\x20\x20\x20if(pairN)\x20lengthSign\x20=\x20-lengthSign;','\x20\x20\x20\x20FxaaFloat2\x20offNP;','\x20\x20\x20\x20offNP.y\x20=\x20(\x20horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.y;','\x20\x20\x20\x20if(!horzSpan)\x20posB.x\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20if(\x20horzSpan)\x20posB.y\x20+=\x20lengthSign\x20*\x200.5;','\x20\x20\x20\x20FxaaFloat2\x20posN;','\x20\x20\x20\x20posN.x\x20=\x20posB.x\x20-\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posN.y\x20=\x20posB.y\x20-\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat2\x20posP;','\x20\x20\x20\x20posP.x\x20=\x20posB.x\x20+\x20offNP.x\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20posP.y\x20=\x20posB.y\x20+\x20offNP.y\x20*\x20FXAA_QUALITY_P0;','\x20\x20\x20\x20FxaaFloat\x20subpixD\x20=\x20((-2.0)*subpixC)\x20+\x203.0;','\x20\x20\x20\x20FxaaFloat\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP));','\x20\x20\x20\x20if(!pairN)\x20lumaNN\x20=\x20lumaSS;','\x20\x20\x20\x20FxaaFloat\x20gradientScaled\x20=\x20gradient\x20*\x201.0/4.0;','\x20\x20\x20\x20FxaaFloat\x20subpixF\x20=\x20subpixD\x20*\x20subpixE;','\x20\x20\x20\x20FxaaBool\x20lumaMLTZero\x20=\x20lumaMM\x20<\x200.0;','\x20\x20\x20\x20lumaEndN\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20lumaEndP\x20-=\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20FxaaBool\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20FxaaBool\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20FxaaBool\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;','\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P2;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x203)','\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P3;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P4;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x205)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P6;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x207)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(doneNP)\x20{','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P7;','\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x208)','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);','\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P8;','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x209)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P9;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2010)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P10;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2011)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P11;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x2012)','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.x\x20-=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.y\x20+=\x20offNP.y\x20*\x20FXAA_QUALITY_P12;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20\x20\x20\x20\x20}','\x20\x20\x20\x20FxaaFloat\x20dstN\x20=\x20posM.x\x20-\x20posN.x;','\x20\x20\x20\x20FxaaFloat\x20dstP\x20=\x20posP.x\x20-\x20posM.x;','\x20\x20\x20\x20if(!horzSpan)\x20dstN\x20=\x20posM.y\x20-\x20posN.y;','\x20\x20\x20\x20if(!horzSpan)\x20dstP\x20=\x20posP.y\x20-\x20posM.y;','\x20\x20\x20\x20FxaaBool\x20goodSpanN\x20=\x20(lumaEndN\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLength\x20=\x20(dstP\x20+\x20dstN);','\x20\x20\x20\x20FxaaBool\x20goodSpanP\x20=\x20(lumaEndP\x20<\x200.0)\x20!=\x20lumaMLTZero;','\x20\x20\x20\x20FxaaFloat\x20spanLengthRcp\x20=\x201.0/spanLength;','\x20\x20\x20\x20FxaaBool\x20goodSpan\x20=\x20directionN\x20?\x20goodSpanN\x20:\x20goodSpanP;','\x20\x20\x20\x20FxaaFloat\x20subpixG\x20=\x20subpixF\x20*\x20subpixF;','\x20\x20\x20\x20FxaaFloat\x20pixelOffset\x20=\x20(dst\x20*\x20(-spanLengthRcp))\x20+\x200.5;','\x20\x20\x20\x20FxaaFloat\x20subpixH\x20=\x20subpixG\x20*\x20fxaaQualitySubpix;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetGood\x20=\x20goodSpan\x20?\x20pixelOffset\x20:\x200.0;','\x20\x20\x20\x20FxaaFloat\x20pixelOffsetSubpix\x20=\x20max(pixelOffsetGood,\x20subpixH);','\x20\x20\x20\x20if(!horzSpan)\x20posM.x\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20if(\x20horzSpan)\x20posM.y\x20+=\x20pixelOffsetSubpix\x20*\x20lengthSign;','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaTexTop(tex,\x20posM);','\x20\x20\x20\x20\x20\x20\x20\x20return\x20FxaaFloat4(FxaaTexTop(tex,\x20posM).xyz,\x20lumaM);','\x20\x20gl_FragColor\x20=\x20FxaaPixelShader(','\x20\x20\x20\x20vUv,','\x20\x20\x20\x20tDiffuse,','\x20\x20\x20\x20resolution,','\x20\x20\x20\x20vec4(0.0),','\x20\x20\x20\x200.75,','\x20\x20\x20\x200.166,','\x20\x20\x20\x200.0833,','\x20\x20\x20\x200.0,','\x20\x20\x20\x20vec4(0.0)','\x20\x20);','\x20\x20//\x20TODO\x20avoid\x20querying\x20texture\x20twice\x20for\x20same\x20texel','renderScene','renderCamera','visibleEdgeColor','downSampleRatio','maskBufferMaterial','renderTargetMaskBuffer','depthMaterial','MeshDepthMaterial','depthPacking','getPrepareMaskMaterial','prepareMaskMaterial','isPerspectiveCamera','orthographic','renderTargetDepthBuffer','OutlinePass.depth','renderTargetMaskDownSampleBuffer','OutlinePass.depthDownSample','renderTargetBlurBuffer1','renderTargetBlurBuffer2','OutlinePass.blur2','edgeDetectionMaterial','getEdgeDetectionMaterial','renderTargetEdgeBuffer1','OutlinePass.edge1','renderTargetEdgeBuffer2','OutlinePass.edge2','separableBlurMaterial1','getSeperableBlurMaterial','separableBlurMaterial2','getOverlayMaterial','THREE.OutlinePass\x20relies\x20on\x20THREE.CopyShader','tempPulseColor2','oldVisible','isMesh','isLine','isSprite','bVisible','changeVisibilityOfSelectedObjects','toggleIgnoreMaterial','updateTextureMatrix','changeVisibilityOfNonSelectedObjects','tempPulseColor1','kernelRadius','BlurDirectionY','overlayMaterial','edgeTexture1','edgeTexture2','varying\x20vec4\x20vPosition;','\x09vPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09vec4\x20worldPosition\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','\x09projTexCoord\x20=\x20textureMatrix\x20*\x20worldPosition;','varying\x20vec4\x20projTexCoord;','uniform\x20sampler2D\x20depthTexture;','uniform\x20vec2\x20cameraNearFar;','\x09float\x20depth\x20=\x20unpackRGBAToDepth(texture2DProj(\x20depthTexture,\x20projTexCoord\x20));','\x09float\x20depthTest\x20=\x20(-vPosition.z\x20>\x20viewZ)\x20?\x201.0\x20:\x200.0;','\x09gl_FragColor\x20=\x20vec4(0.0,\x20depthTest,\x201.0,\x201.0);','varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec3\x20visibleEdgeColor;\x09\x09\x09\x09uniform\x20vec3\x20hiddenEdgeColor;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09vec4\x20uvOffset\x20=\x20vec4(1.0,\x200.0,\x200.0,\x201.0)\x20*\x20vec4(invSize,\x20invSize);\x09\x09\x09\x09\x09vec4\x20c1\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c2\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.xy);\x09\x09\x09\x09\x09vec4\x20c3\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20+\x20uvOffset.yw);\x09\x09\x09\x09\x09vec4\x20c4\x20=\x20texture2D(\x20maskTexture,\x20vUv\x20-\x20uvOffset.yw);\x09\x09\x09\x09\x09float\x20diff1\x20=\x20(c1.r\x20-\x20c2.r)*0.5;\x09\x09\x09\x09\x09float\x20diff2\x20=\x20(c3.r\x20-\x20c4.r)*0.5;\x09\x09\x09\x09\x09float\x20d\x20=\x20length(\x20vec2(diff1,\x20diff2)\x20);\x09\x09\x09\x09\x09float\x20a1\x20=\x20min(c1.g,\x20c2.g);\x09\x09\x09\x09\x09float\x20a2\x20=\x20min(c3.g,\x20c4.g);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x20min(a1,\x20a2);\x09\x09\x09\x09\x09vec3\x20edgeColor\x20=\x201.0\x20-\x20visibilityFactor\x20>\x200.001\x20?\x20visibleEdgeColor\x20:\x20hiddenEdgeColor;\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(edgeColor,\x201.0)\x20*\x20vec4(d);\x09\x09\x09\x09}','#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09uniform\x20float\x20kernelRadius;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20kernelRadius);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09vec2\x20delta\x20=\x20direction\x20*\x20invSize\x20*\x20kernelRadius/float(MAX_RADIUS);\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20delta;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<=\x20MAX_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(uvOffset.x,\x20kernelRadius);\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20((sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w);\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x20(2.0\x20*\x20w);\x09\x09\x09\x09\x09\x09uvOffset\x20+=\x20delta;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x09\x09\x09\x09}','isUpdated','shadowLight','shadowConfigs','dataConfigs','shadowCameraHelper','Spherical','_tempControlsTarget','preInit','nearFactor','farFactor','autoUpdate','PCFSoftShadowMap','mapHeight','LightShadow','bias','normalBias','mapWidth','CameraHelper','initTileMapShadow','getDistance','isRealTimeUpdate','_updateShadowByAngle','targetX','targetZ','createTileShadow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20mix(1.0,\x200.0,\x20resultColor.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','shader_plane','updateTileShadow','getLights','_controlMove','castMinHeight','Height','setMarkerShadowConfig','__no_receive_shadow','__no_cast_shadow','__no_shadow','setModelObjShadowConfig','noShadow','-receiveShadow','-castShadow','-shadow','setModelShadow','setMergeMeshShadow','activeShadow','applyQuaternion','applyAxisAngle','exp2','FogExp2','showProjectorRange','#FF0000','updateProjectorTarget','polyHeatMaps','heatMapTool','curTexture','setHeatPointImg','allMarkerList','container_','orbitCameraFlyTo','sortObjects','autoRotate','autoRotateSpeed','removeControls','backToMapControls','getScreenCenter','resetGroundPickView','setGroundPick','imgPath','images/out_light4.png','pickAnimateObj','face','updateGroundPick','transformDirection','flytoGroundPickPos3','isLockGroundPick','raycastByCoord','maxDistance','InOut','flytoGroundPickPos2','getAzimuthalAngle','flytoGroundPickPos','testPoints','removeGroundPick','disposeMesh','cameraFlyTo','domElement','minZoom','minPolarAngle','maxPolarAngle','minAzimuthAngle','maxAzimuthAngle','keyPanSpeed','enableKeys','mouseButtons','LEFT','MOUSE','MIDDLE','RIGHT','position0'];(function(_0x1ad431,_0x3302d1){var _0x1dd4d0=function(_0x5072d2){while(--_0x5072d2){_0x1ad431['push'](_0x1ad431['shift']());}};_0x1dd4d0(++_0x3302d1);}(_0x4046,0x119));var _0x55f3=function(_0x16de24,_0x1505a9){_0x16de24=_0x16de24-0x0;var _0x48b033=_0x4046[_0x16de24];return _0x48b033;};!function(_0x5a1e22){var _0x368ebe={};function _0x2d7942(_0x25b476){if(_0x368ebe[_0x25b476])return _0x368ebe[_0x25b476][_0x55f3('0x0')];var _0x49a7eb=_0x368ebe[_0x25b476]={'i':_0x25b476,'l':!0x1,'exports':{}};return _0x5a1e22[_0x25b476][_0x55f3('0x1')](_0x49a7eb[_0x55f3('0x0')],_0x49a7eb,_0x49a7eb[_0x55f3('0x0')],_0x2d7942),_0x49a7eb['l']=!0x0,_0x49a7eb[_0x55f3('0x0')];}_0x2d7942['m']=_0x5a1e22,_0x2d7942['c']=_0x368ebe,_0x2d7942['d']=function(_0x463936,_0x57382c,_0x5a1e22){_0x2d7942['o'](_0x463936,_0x57382c)||Object['defineProperty'](_0x463936,_0x57382c,{'enumerable':!0x0,'get':_0x5a1e22});},_0x2d7942['r']=function(_0x2de9d4){_0x55f3('0x2')!=typeof Symbol&&Symbol[_0x55f3('0x3')]&&Object[_0x55f3('0x4')](_0x2de9d4,Symbol[_0x55f3('0x3')],{'value':_0x55f3('0x5')}),Object[_0x55f3('0x4')](_0x2de9d4,'__esModule',{'value':!0x0});},_0x2d7942['t']=function(_0x5a38d5,_0x198e21){if(0x1&_0x198e21&&(_0x5a38d5=_0x2d7942(_0x5a38d5)),0x8&_0x198e21)return _0x5a38d5;if(0x4&_0x198e21&&_0x55f3('0x6')==typeof _0x5a38d5&&_0x5a38d5&&_0x5a38d5[_0x55f3('0x7')])return _0x5a38d5;var _0x5a1e22=Object[_0x55f3('0x8')](null);if(_0x2d7942['r'](_0x5a1e22),Object[_0x55f3('0x4')](_0x5a1e22,_0x55f3('0x9'),{'enumerable':!0x0,'value':_0x5a38d5}),0x2&_0x198e21&&_0x55f3('0xa')!=typeof _0x5a38d5)for(var _0x368ebe in _0x5a38d5)_0x2d7942['d'](_0x5a1e22,_0x368ebe,function(_0x198e21){return _0x5a38d5[_0x198e21];}[_0x55f3('0xb')](null,_0x368ebe));return _0x5a1e22;},_0x2d7942['n']=function(_0x43ada0){var _0x11d06f=_0x43ada0&&_0x43ada0[_0x55f3('0x7')]?function(){return _0x43ada0[_0x55f3('0x9')];}:function(){return _0x43ada0;};return _0x2d7942['d'](_0x11d06f,'a',_0x11d06f),_0x11d06f;},_0x2d7942['o']=function(_0x541317,_0x1300ed){return Object['prototype'][_0x55f3('0xc')][_0x55f3('0x1')](_0x541317,_0x1300ed);},_0x2d7942['p']=_0x55f3('0xd'),_0x2d7942(_0x2d7942['s']=0xb2);}([function(_0xfeae2e,_0x526cd8,_0x3512af){'use strict';_0x526cd8[_0x55f3('0x7')]=!0x0,_0x526cd8['default']=function(_0xfeae2e,_0x526cd8){if(!(_0xfeae2e instanceof _0x526cd8))throw new TypeError(_0x55f3('0xe'));};},function(_0x396eb8,_0x407eef,_0x5014e8){'use strict';_0x407eef[_0x55f3('0x7')]=!0x0;var _0x5014e8=_0x5014e8(0x33),_0x5d2420=_0x5014e8&&_0x5014e8[_0x55f3('0x7')]?_0x5014e8:{'default':_0x5014e8};function _0x2be7d9(_0x396eb8,_0x407eef){for(var _0x5014e8=0x0;_0x5014e8<_0x407eef[_0x55f3('0xf')];_0x5014e8++){var _0x2be7d9=_0x407eef[_0x5014e8];_0x2be7d9[_0x55f3('0x10')]=_0x2be7d9[_0x55f3('0x10')]||!0x1,_0x2be7d9[_0x55f3('0x11')]=!0x0,_0x55f3('0x12')in _0x2be7d9&&(_0x2be7d9[_0x55f3('0x13')]=!0x0),(0x0,_0x5d2420[_0x55f3('0x9')])(_0x396eb8,_0x2be7d9[_0x55f3('0x14')],_0x2be7d9);}}_0x407eef[_0x55f3('0x9')]=function(_0x396eb8,_0x407eef,_0x5014e8){return _0x407eef&&_0x2be7d9(_0x396eb8[_0x55f3('0x15')],_0x407eef),_0x5014e8&&_0x2be7d9(_0x396eb8,_0x5014e8),_0x396eb8;};},function(_0x5f3ff4,_0x457b56){_0x5f3ff4=_0x5f3ff4['exports']={'version':_0x55f3('0x16')};_0x55f3('0x17')==typeof __e&&(__e=_0x5f3ff4);},function(_0x5cf206,_0x50050f){_0x5cf206=_0x5cf206[_0x55f3('0x0')]=_0x55f3('0x2')!=typeof window&&window[_0x55f3('0x18')]==Math?window:_0x55f3('0x2')!=typeof self&&self[_0x55f3('0x18')]==Math?self:Function(_0x55f3('0x19'))();_0x55f3('0x17')==typeof __g&&(__g=_0x5cf206);},function(_0x4873e0,_0x38ee81,_0x4a1f0c){_0x4873e0[_0x55f3('0x0')]={'default':_0x4a1f0c(0x50),'__esModule':!0x0};},function(_0x3da156,_0x398f90,_0x229536){var _0x52002d=_0x229536(0x24)(_0x55f3('0x1a')),_0x1e501c=_0x229536(0x18),_0x14fe71=_0x229536(0x3)[_0x55f3('0x1b')],_0x2af7fd=_0x55f3('0x1c')==typeof _0x14fe71;(_0x3da156[_0x55f3('0x0')]=function(_0x3da156){return _0x52002d[_0x3da156]||(_0x52002d[_0x3da156]=_0x2af7fd&&_0x14fe71[_0x3da156]||(_0x2af7fd?_0x14fe71:_0x1e501c)(_0x55f3('0x1d')+_0x3da156));})[_0x55f3('0x1e')]=_0x52002d;},function(_0x46bae5,_0x88525a,_0x14352b){function _0x241a49(_0x46bae5,_0x88525a,_0x14352b){var _0x26f9a3,_0x50a01a,_0x257faf,_0x162666=_0x46bae5&_0x241a49['F'],_0x4d1017=_0x46bae5&_0x241a49['G'],_0x488484=_0x46bae5&_0x241a49['S'],_0x46b45b=_0x46bae5&_0x241a49['P'],_0x4ed3ea=_0x46bae5&_0x241a49['B'],_0x1097a6=_0x46bae5&_0x241a49['W'],_0x55a623=_0x4d1017?_0x1bcab3:_0x1bcab3[_0x88525a]||(_0x1bcab3[_0x88525a]={}),_0x489483=_0x55a623[_0x3cbc0e],_0x507fd3=_0x4d1017?_0xb98643:_0x488484?_0xb98643[_0x88525a]:(_0xb98643[_0x88525a]||{})[_0x3cbc0e];for(_0x26f9a3 in _0x14352b=_0x4d1017?_0x88525a:_0x14352b)(_0x50a01a=!_0x162666&&_0x507fd3&&void 0x0!==_0x507fd3[_0x26f9a3])&&_0x3f8c83(_0x55a623,_0x26f9a3)||(_0x257faf=(_0x50a01a?_0x507fd3:_0x14352b)[_0x26f9a3],_0x55a623[_0x26f9a3]=_0x4d1017&&'function'!=typeof _0x507fd3[_0x26f9a3]?_0x14352b[_0x26f9a3]:_0x4ed3ea&&_0x50a01a?_0x4f98cb(_0x257faf,_0xb98643):_0x1097a6&&_0x507fd3[_0x26f9a3]==_0x257faf?function(_0x26f9a3){function _0x46bae5(_0x46bae5,_0x88525a,_0x14352b){if(this instanceof _0x26f9a3){switch(arguments[_0x55f3('0xf')]){case 0x0:return new _0x26f9a3();case 0x1:return new _0x26f9a3(_0x46bae5);case 0x2:return new _0x26f9a3(_0x46bae5,_0x88525a);}return new _0x26f9a3(_0x46bae5,_0x88525a,_0x14352b);}return _0x26f9a3[_0x55f3('0x1f')](this,arguments);}return _0x46bae5[_0x3cbc0e]=_0x26f9a3[_0x3cbc0e],_0x46bae5;}(_0x257faf):_0x46b45b&&'function'==typeof _0x257faf?_0x4f98cb(Function[_0x55f3('0x1')],_0x257faf):_0x257faf,_0x46b45b&&((_0x55a623['virtual']||(_0x55a623['virtual']={}))[_0x26f9a3]=_0x257faf,_0x46bae5&_0x241a49['R']&&_0x489483&&!_0x489483[_0x26f9a3]&&_0xc3cb53(_0x489483,_0x26f9a3,_0x257faf)));}var _0xb98643=_0x14352b(0x3),_0x1bcab3=_0x14352b(0x2),_0x4f98cb=_0x14352b(0x10),_0xc3cb53=_0x14352b(0xb),_0x3f8c83=_0x14352b(0xc),_0x3cbc0e=_0x55f3('0x15');_0x241a49['F']=0x1,_0x241a49['G']=0x2,_0x241a49['S']=0x4,_0x241a49['P']=0x8,_0x241a49['B']=0x10,_0x241a49['W']=0x20,_0x241a49['U']=0x40,_0x241a49['R']=0x80,_0x46bae5[_0x55f3('0x0')]=_0x241a49;},function(_0x3752bc,_0x4b231b,_0x27e0df){_0x3752bc[_0x55f3('0x0')]=!_0x27e0df(0xd)(function(){return 0x7!=Object[_0x55f3('0x4')]({},'a',{'get':function(){return 0x7;}})['a'];});},function(_0x19280b,_0x17a76b,_0x3ee008){var _0x23e2ad=_0x3ee008(0x9),_0x85f6a1=_0x3ee008(0x37),_0x232f9c=_0x3ee008(0x27),_0x5c6ce9=Object['defineProperty'];_0x17a76b['f']=_0x3ee008(0x7)?Object[_0x55f3('0x4')]:function(_0x19280b,_0x17a76b,_0x3ee008){if(_0x23e2ad(_0x19280b),_0x17a76b=_0x232f9c(_0x17a76b,!0x0),_0x23e2ad(_0x3ee008),_0x85f6a1)try{return _0x5c6ce9(_0x19280b,_0x17a76b,_0x3ee008);}catch(_0x4566b0){}if(_0x55f3('0x20')in _0x3ee008||'set'in _0x3ee008)throw TypeError(_0x55f3('0x21'));return _0x55f3('0x12')in _0x3ee008&&(_0x19280b[_0x17a76b]=_0x3ee008[_0x55f3('0x12')]),_0x19280b;};},function(_0x533b85,_0x3452da,_0x21ec03){var _0x176005=_0x21ec03(0xa);_0x533b85[_0x55f3('0x0')]=function(_0x533b85){if(_0x176005(_0x533b85))return _0x533b85;throw TypeError(_0x533b85+'\x20is\x20not\x20an\x20object!');};},function(_0x45c087,_0x1ae658){_0x45c087[_0x55f3('0x0')]=function(_0x45c087){return _0x55f3('0x6')==typeof _0x45c087?null!==_0x45c087:'function'==typeof _0x45c087;};},function(_0x3b5191,_0x6e7259,_0x59ae15){var _0x35ba1c=_0x59ae15(0x8),_0x221651=_0x59ae15(0x15);_0x3b5191[_0x55f3('0x0')]=_0x59ae15(0x7)?function(_0x3b5191,_0x6e7259,_0x59ae15){return _0x35ba1c['f'](_0x3b5191,_0x6e7259,_0x221651(0x1,_0x59ae15));}:function(_0x3b5191,_0x6e7259,_0x59ae15){return _0x3b5191[_0x6e7259]=_0x59ae15,_0x3b5191;};},function(_0x2b90d9,_0x3cfe48){var _0x5aeeef={}[_0x55f3('0xc')];_0x2b90d9['exports']=function(_0x2b90d9,_0x3cfe48){return _0x5aeeef[_0x55f3('0x1')](_0x2b90d9,_0x3cfe48);};},function(_0x3c2d3c,_0x252b78){_0x3c2d3c[_0x55f3('0x0')]=function(_0x3c2d3c){try{return!!_0x3c2d3c();}catch(_0x4852ff){return!0x0;}};},function(_0x101cba,_0x5e73ba,_0x3e1511){var _0x550b02=_0x3e1511(0x34),_0xce38e7=_0x3e1511(0x1c);_0x101cba['exports']=function(_0x101cba){return _0x550b02(_0xce38e7(_0x101cba));};},function(_0x1e5ba3,_0x29aea4){_0x1e5ba3[_0x55f3('0x0')]={};},function(_0x4f8b8b,_0x305b04,_0xe33b63){var _0x51322b=_0xe33b63(0x1d);_0x4f8b8b['exports']=function(_0x259991,_0x526c08,_0x4f8b8b){if(_0x51322b(_0x259991),void 0x0===_0x526c08)return _0x259991;switch(_0x4f8b8b){case 0x1:return function(_0x4f8b8b){return _0x259991['call'](_0x526c08,_0x4f8b8b);};case 0x2:return function(_0x4f8b8b,_0x305b04){return _0x259991[_0x55f3('0x1')](_0x526c08,_0x4f8b8b,_0x305b04);};case 0x3:return function(_0x4f8b8b,_0x305b04,_0xe33b63){return _0x259991[_0x55f3('0x1')](_0x526c08,_0x4f8b8b,_0x305b04,_0xe33b63);};}return function(){return _0x259991[_0x55f3('0x1f')](_0x526c08,arguments);};};},function(_0x1372e,_0x5bda93,_0x1d2513){var _0x22df61=_0x1d2513(0x1c);_0x1372e[_0x55f3('0x0')]=function(_0x1372e){return Object(_0x22df61(_0x1372e));};},function(_0x4a0dd6,_0x1baa1b,_0x16030e){'use strict';_0x1baa1b['__esModule']=!0x0;_0x16030e=_0x16030e(0x6f),_0x16030e=_0x16030e&&_0x16030e[_0x55f3('0x7')]?_0x16030e:{'default':_0x16030e};_0x1baa1b[_0x55f3('0x9')]=_0x16030e['default']||function(_0x4a0dd6){for(var _0x1baa1b=0x1;_0x1baa1b<arguments[_0x55f3('0xf')];_0x1baa1b++){var _0x16030e,_0x345e9e=arguments[_0x1baa1b];for(_0x16030e in _0x345e9e)Object[_0x55f3('0x15')][_0x55f3('0xc')]['call'](_0x345e9e,_0x16030e)&&(_0x4a0dd6[_0x16030e]=_0x345e9e[_0x16030e]);}return _0x4a0dd6;};},function(_0x517be7,_0xc7c6d0){_0x517be7[_0x55f3('0x0')]=!0x0;},function(_0x496cf7,_0x232883,_0x2790dd){var _0xc1f9cc=_0x2790dd(0x3a),_0x1c0678=_0x2790dd(0x25);_0x496cf7['exports']=Object[_0x55f3('0x22')]||function(_0x496cf7){return _0xc1f9cc(_0x496cf7,_0x1c0678);};},function(_0xd29f7d,_0x4e1606){_0xd29f7d['exports']=function(_0xd29f7d,_0x4e1606){return{'enumerable':!(0x1&_0xd29f7d),'configurable':!(0x2&_0xd29f7d),'writable':!(0x4&_0xd29f7d),'value':_0x4e1606};};},function(_0x1f1baf,_0x275e70){var _0x104e47={}[_0x55f3('0x23')];_0x1f1baf[_0x55f3('0x0')]=function(_0x1f1baf){return _0x104e47['call'](_0x1f1baf)[_0x55f3('0x24')](0x8,-0x1);};},function(_0xb0a018,_0x25a474,_0x287b1e){'use strict';function _0x2d793f(_0xb0a018,_0x25a474){_0xb0a018=_0x58da80()['coordMapToThree']({'x':_0xb0a018,'y':_0x25a474});return{'x':_0xb0a018['x'],'y':_0xb0a018['z']};}function _0x3fe286(){return _0x58da80()[_0x55f3('0x25')]===esmap[_0x55f3('0x26')][_0x55f3('0x27')];}function _0x58da80(){if(esmap[_0x55f3('0x28')])return esmap[_0x55f3('0x28')]['instance'];}Object['defineProperty'](_0x25a474,_0x55f3('0x7'),{'value':!0x0}),_0x25a474['debounce']=_0x25a474['getOS']=_0x25a474['directionFromAlphaBeta']=_0x25a474['clearShaderCode']=_0x25a474[_0x55f3('0x29')]=_0x25a474['selectBuildingMapEffectConfigPath']=_0x25a474[_0x55f3('0x2a')]=_0x25a474['getMaterialByRoomStyle']=_0x25a474['getOutdoorBuildingTheme']=_0x25a474[_0x55f3('0x2b')]=_0x25a474[_0x55f3('0x2c')]=_0x25a474[_0x55f3('0x2d')]=_0x25a474[_0x55f3('0x2e')]=_0x25a474[_0x55f3('0x2f')]=_0x25a474[_0x55f3('0x30')]=_0x25a474[_0x55f3('0x31')]=void 0x0;var _0x297266=_0x287b1e(0x58);function _0x2debdd(_0xb0a018){var _0x25a474=_0x58da80();return _0x25a474[_0x55f3('0x25')]===esmap[_0x55f3('0x26')]['Building']?_0x25a474[_0x55f3('0x32')]():_0x25a474['getBuildingById'](_0xb0a018);}_0x25a474['innerCoordTransToThree']=function(_0xb0a018,_0x25a474){var _0x287b1e=_0x58da80();return{'x':-(_0x287b1e[_0x55f3('0x33')][_0x55f3('0x34')]+_0xb0a018),'y':_0x25a474-_0x287b1e[_0x55f3('0x33')][_0x55f3('0x35')]};},_0x25a474[_0x55f3('0x30')]=_0x2d793f,_0x25a474['checkIsCityEngine']=_0x3fe286,_0x25a474[_0x55f3('0x2e')]=function(){return esmap[_0x55f3('0x36')]['getVersion']()===_0x297266['CommonConstant'][_0x55f3('0x37')]['Park'];},_0x25a474[_0x55f3('0x2d')]=function(_0xb0a018,_0x25a474,_0x287b1e){_0x25a474=_0x2d793f(_0x25a474['x'],_0x25a474['y']);_0xb0a018[_0x55f3('0x38')][_0x55f3('0x39')](_0x25a474['x'],_0x287b1e,_0x25a474['y']);},_0x25a474[_0x55f3('0x2c')]=_0x58da80,_0x25a474[_0x55f3('0x2b')]=_0x2debdd,_0x25a474['getOutdoorBuildingTheme']=function(_0xb0a018){var _0x25a474=_0x58da80();if(_0x25a474['mode']===esmap[_0x55f3('0x26')]['City'])return!0x1;var _0x287b1e=_0x2debdd();return _0x25a474[_0x55f3('0x3a')]['themeList'][_0x287b1e['themeID']][_0x55f3('0x3b')][_0xb0a018];},_0x25a474[_0x55f3('0x3c')]=function(_0xb0a018,_0x25a474){return _0xb0a018['datas_']&&_0xb0a018[_0x55f3('0x3d')][_0x55f3('0x3e')]&&+_0xb0a018[_0x55f3('0x3d')][_0x55f3('0x3e')]==+_0x25a474?(_0xb0a018[_0x55f3('0x3f')][0x0]['userData']['index']=0x0,_0xb0a018[_0x55f3('0x3f')][0x0]):null;},_0x25a474[_0x55f3('0x2a')]=function(_0xb0a018,_0x25a474,_0x287b1e){return _0x25a474['onlineEffectThemeId']&&(_0xb0a018[_0x55f3('0x40')]=_0x25a474[_0x55f3('0x41')]),_0x25a474[_0x55f3('0x42')]&&(_0xb0a018['effectId']=_0x25a474[_0x55f3('0x42')]),0x1!=_0xb0a018['options'][_0x55f3('0x43')]||_0x287b1e?_0xb0a018['options'][_0x55f3('0x44')]+_0x55f3('0x45')+_0xb0a018['effectId']+'/':0x3===_0xb0a018[_0x55f3('0x46')]['s']?_0xb0a018[_0x55f3('0x46')][_0x55f3('0x47')]+_0xb0a018['id']+_0x55f3('0x45')+_0xb0a018[_0x55f3('0x40')]+'/':_0xb0a018[_0x55f3('0x46')][_0x55f3('0x44')]+_0x55f3('0x48')+_0xb0a018['id']+_0x55f3('0x45')+_0xb0a018[_0x55f3('0x40')]+'/';},_0x25a474[_0x55f3('0x49')]=function(_0xb0a018,_0x25a474){return!!_0x25a474['Effect']&&''+_0xb0a018[_0x55f3('0x46')]['mapDataSrc']+_0xb0a018['id']+_0x55f3('0x4a')+_0x25a474['Effect'][_0x55f3('0x42')]+'/';},_0x25a474[_0x55f3('0x29')]=function(_0xb0a018){var _0x25a474,_0x287b1e,_0x2d793f=!0x1;return _0xb0a018&&-0x1<_0xb0a018[_0x55f3('0x4b')](_0x55f3('0x4c'))&&(_0x2d793f=!0x0),_0x3fe286()?_0x2d793f?esmap['ESEffectTool'][_0x55f3('0x4d')]+_0xb0a018:esmap[_0x55f3('0x4e')][_0x55f3('0x4f')]+_0xb0a018:(_0x287b1e=esmap[_0x55f3('0x28')][_0x55f3('0x50')],_0x25a474=esmap['ESEffectTool'][_0x55f3('0x4f')],_0x287b1e[_0x55f3('0x51')][_0x55f3('0x52')]('sk')&&!_0x2d793f&&(_0x25a474=esmap[_0x55f3('0x4e')][_0x55f3('0x53')]?esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x54')]&&esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x42')]?esmap['ESEffectTool']['options'][_0x55f3('0x54')]+'/'+esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x42')]+'/':''+_0x287b1e[_0x55f3('0x46')]['mapDataSrc']+_0x287b1e['id']+_0x55f3('0x4a')+_0x287b1e[_0x55f3('0x40')]+'/':(_0x2d793f=_0x287b1e['effectId']||esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x42')],_0x287b1e[_0x55f3('0x46')][_0x55f3('0x44')]+_0x55f3('0x4a')+_0x2d793f+'/')),(_0x25a474=(_0x287b1e=_0x25a474=esmap[_0x55f3('0x4e')][_0x55f3('0x55')]||_0x25a474)['match'](/^(https?:\/\/)/)?_0x287b1e:_0x287b1e[_0x55f3('0x56')](/\/\//g,'/'))+_0xb0a018);},_0x25a474['clearShaderCode']=function(_0xb0a018){_0xb0a018&&(_0xb0a018[_0x55f3('0x57')]&&(_0xb0a018[_0x55f3('0x57')]=''),_0xb0a018['fragmentShader']&&(_0xb0a018[_0x55f3('0x58')]=''));},_0x25a474[_0x55f3('0x59')]=function(_0xb0a018,_0x25a474){var _0xb0a018=_0xb0a018/0xb4*Math['PI']+Math['PI']/0x2,_0x25a474=-_0x25a474/0xb4*Math['PI']+Math['PI']/0x2,_0x287b1e=new THREE[(_0x55f3('0x5a'))](),_0x2d793f=Math[_0x55f3('0x5b')](_0xb0a018);return _0x287b1e['x']=_0x2d793f*Math['cos'](_0x25a474),_0x287b1e['y']=-Math[_0x55f3('0x5c')](_0xb0a018),_0x287b1e['z']=_0x2d793f*Math[_0x55f3('0x5b')](_0x25a474),_0x287b1e;},_0x25a474['getOS']=function(){return/macintosh|mac os x/i[_0x55f3('0x5d')](navigator[_0x55f3('0x5e')]);},_0x25a474['debounce']=function(_0x2d793f,_0x3fe286,_0x58da80){var _0x297266=void 0x0,_0x2debdd=void 0x0;if(_0x55f3('0x1c')!=typeof _0x2d793f)throw new TypeError(_0x55f3('0x5f'));function _0xb0a018(){var _0xb0a018,_0x25a474=this,_0x287b1e=arguments;return _0x297266&&clearTimeout(_0x297266),_0x58da80?(_0xb0a018=!_0x297266,_0x297266=setTimeout(function(){_0x297266=null;},_0x3fe286),_0xb0a018&&(_0x2debdd=_0x2d793f[_0x55f3('0x1f')](_0x25a474,_0x287b1e))):_0x297266=setTimeout(function(){_0x2d793f[_0x55f3('0x1f')](_0x25a474,_0x287b1e);},_0x3fe286),_0x2debdd;}return _0x3fe286=_0x3fe286||0x0,_0xb0a018['cannel']=function(){clearTimeout(_0x297266),_0x297266=null;},_0xb0a018;};},function(_0x28270e,_0x43b9bf){var _0x21fa05=0x0,_0x2708e0=Math[_0x55f3('0x60')]();_0x28270e[_0x55f3('0x0')]=function(_0x28270e){return _0x55f3('0x61')[_0x55f3('0x62')](void 0x0===_0x28270e?'':_0x28270e,')_',(++_0x21fa05+_0x2708e0)[_0x55f3('0x23')](0x24));};},function(_0x40aaa2,_0x4aa492,_0x73e6fa){var _0x4eb193=_0x73e6fa(0x8)['f'],_0x2f67dc=_0x73e6fa(0xc),_0x93d6b6=_0x73e6fa(0x5)(_0x55f3('0x3'));_0x40aaa2[_0x55f3('0x0')]=function(_0x40aaa2,_0x4aa492,_0x73e6fa){_0x40aaa2&&!_0x2f67dc(_0x40aaa2=_0x73e6fa?_0x40aaa2:_0x40aaa2[_0x55f3('0x15')],_0x93d6b6)&&_0x4eb193(_0x40aaa2,_0x93d6b6,{'configurable':!0x0,'value':_0x4aa492});};},function(_0x6b0b95,_0x12b172,_0x1c5ce9){'use strict';var _0x2b3f86=_0x1c5ce9(0x48)(!0x0);_0x1c5ce9(0x2d)(String,'String',function(_0x6b0b95){this['_t']=String(_0x6b0b95),this['_i']=0x0;},function(){var _0x6b0b95=this['_t'],_0x12b172=this['_i'];return _0x12b172>=_0x6b0b95['length']?{'value':void 0x0,'done':!0x0}:(_0x6b0b95=_0x2b3f86(_0x6b0b95,_0x12b172),this['_i']+=_0x6b0b95[_0x55f3('0xf')],{'value':_0x6b0b95,'done':!0x1});});},function(_0x2a7def,_0x226e1f){var _0xc85329=Math[_0x55f3('0x63')],_0xf3c1ee=Math[_0x55f3('0x64')];_0x2a7def[_0x55f3('0x0')]=function(_0x2a7def){return isNaN(_0x2a7def=+_0x2a7def)?0x0:(0x0<_0x2a7def?_0xf3c1ee:_0xc85329)(_0x2a7def);};},function(_0x485a11,_0x24d851){_0x485a11[_0x55f3('0x0')]=function(_0x485a11){if(null==_0x485a11)throw TypeError(_0x55f3('0x65')+_0x485a11);return _0x485a11;};},function(_0x1cb40b,_0x53b627){_0x1cb40b[_0x55f3('0x0')]=function(_0x1cb40b){if(_0x55f3('0x1c')!=typeof _0x1cb40b)throw TypeError(_0x1cb40b+_0x55f3('0x66'));return _0x1cb40b;};},function(_0x3dcc66,_0x52617e,_0x515e8f){var _0x46260c=_0x515e8f(0x24)(_0x55f3('0x22')),_0x3c5a1c=_0x515e8f(0x18);_0x3dcc66[_0x55f3('0x0')]=function(_0x3dcc66){return _0x46260c[_0x3dcc66]||(_0x46260c[_0x3dcc66]=_0x3c5a1c(_0x3dcc66));};},function(_0x11dc94,_0x4cbbbd,_0x16c37e){_0x16c37e(0x4c);for(var _0x3ecaea=_0x16c37e(0x3),_0x4dca2e=_0x16c37e(0xb),_0x5d0f62=_0x16c37e(0xf),_0x1d24cc=_0x16c37e(0x5)(_0x55f3('0x3')),_0x2613e4='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'[_0x55f3('0x67')](','),_0x486616=0x0;_0x486616<_0x2613e4[_0x55f3('0xf')];_0x486616++){var _0x21fa22=_0x2613e4[_0x486616],_0x55506f=_0x3ecaea[_0x21fa22],_0x55506f=_0x55506f&&_0x55506f[_0x55f3('0x15')];_0x55506f&&!_0x55506f[_0x1d24cc]&&_0x4dca2e(_0x55506f,_0x1d24cc,_0x21fa22),_0x5d0f62[_0x21fa22]=_0x5d0f62['Array'];}},function(_0x2fb2b2,_0x276b34){_0x276b34['f']={}[_0x55f3('0x68')];},function(_0x178b9d,_0x20cc87,_0x1ee930){_0x178b9d[_0x55f3('0x0')]={'default':_0x1ee930(0x64),'__esModule':!0x0};},function(_0x2ad9bb,_0x165d28,_0x360a15){_0x2ad9bb[_0x55f3('0x0')]={'default':_0x360a15(0x76),'__esModule':!0x0};},function(_0x1f1e0c,_0x2b9b7a,_0x22562b){function _0x60966e(){}var _0x194adb=_0x22562b(0x9),_0x16d165=_0x22562b(0x39),_0x19c512=_0x22562b(0x25),_0x2b2684=_0x22562b(0x1e)(_0x55f3('0x69')),_0x3689be='prototype',_0x1745f4=function(){var _0x1f1e0c=_0x22562b(0x26)(_0x55f3('0x6a')),_0x2b9b7a=_0x19c512[_0x55f3('0xf')];for(_0x1f1e0c[_0x55f3('0x6b')][_0x55f3('0x6c')]='none',_0x22562b(0x3b)[_0x55f3('0x6d')](_0x1f1e0c),_0x1f1e0c['src']='javascript:',(_0x1f1e0c=_0x1f1e0c[_0x55f3('0x6e')][_0x55f3('0x6f')])['open'](),_0x1f1e0c['write']('<script>document.F=Object</script>'),_0x1f1e0c[_0x55f3('0x70')](),_0x1745f4=_0x1f1e0c['F'];_0x2b9b7a--;)delete _0x1745f4[_0x3689be][_0x19c512[_0x2b9b7a]];return _0x1745f4();};_0x1f1e0c[_0x55f3('0x0')]=Object['create']||function(_0x1f1e0c,_0x2b9b7a){var _0x22562b;return null!==_0x1f1e0c?(_0x60966e[_0x3689be]=_0x194adb(_0x1f1e0c),_0x22562b=new _0x60966e(),_0x60966e[_0x3689be]=null,_0x22562b[_0x2b2684]=_0x1f1e0c):_0x22562b=_0x1745f4(),void 0x0===_0x2b9b7a?_0x22562b:_0x16d165(_0x22562b,_0x2b9b7a);};},function(_0x30c458,_0x10232f,_0x243c40){var _0x437ca1=_0x243c40(0x2),_0x178780=_0x243c40(0x3),_0x5d8ed6=_0x55f3('0x71'),_0x449d1c=_0x178780[_0x5d8ed6]||(_0x178780[_0x5d8ed6]={});(_0x30c458[_0x55f3('0x0')]=function(_0x30c458,_0x10232f){return _0x449d1c[_0x30c458]||(_0x449d1c[_0x30c458]=void 0x0!==_0x10232f?_0x10232f:{});})(_0x55f3('0x72'),[])[_0x55f3('0x73')]({'version':_0x437ca1[_0x55f3('0x74')],'mode':_0x243c40(0x13)?_0x55f3('0x75'):_0x55f3('0x76'),'copyright':_0x55f3('0x77')});},function(_0x3863b3,_0x5ad948){_0x3863b3[_0x55f3('0x0')]=_0x55f3('0x78')[_0x55f3('0x67')](',');},function(_0x3244b9,_0x31288e,_0xcf2470){var _0x32ddcb=_0xcf2470(0xa),_0x11538f=_0xcf2470(0x3)['document'],_0x2fb04c=_0x32ddcb(_0x11538f)&&_0x32ddcb(_0x11538f[_0x55f3('0x79')]);_0x3244b9[_0x55f3('0x0')]=function(_0x3244b9){return _0x2fb04c?_0x11538f[_0x55f3('0x79')](_0x3244b9):{};};},function(_0x2857b9,_0x4f5abb,_0x36105a){var _0x4d920e=_0x36105a(0xa);_0x2857b9[_0x55f3('0x0')]=function(_0x2857b9,_0x4f5abb){if(!_0x4d920e(_0x2857b9))return _0x2857b9;var _0x36105a,_0x4a192e;if(_0x4f5abb&&_0x55f3('0x1c')==typeof(_0x36105a=_0x2857b9['toString'])&&!_0x4d920e(_0x4a192e=_0x36105a[_0x55f3('0x1')](_0x2857b9)))return _0x4a192e;if(_0x55f3('0x1c')==typeof(_0x36105a=_0x2857b9[_0x55f3('0x7a')])&&!_0x4d920e(_0x4a192e=_0x36105a['call'](_0x2857b9)))return _0x4a192e;if(_0x4f5abb||_0x55f3('0x1c')!=typeof(_0x36105a=_0x2857b9[_0x55f3('0x23')])||_0x4d920e(_0x4a192e=_0x36105a[_0x55f3('0x1')](_0x2857b9)))throw TypeError(_0x55f3('0x7b'));return _0x4a192e;};},function(_0x491b35,_0x499039,_0x1b4b01){_0x491b35[_0x55f3('0x0')]={'default':_0x1b4b01(0x8c),'__esModule':!0x0};},function(_0x4f3df9,_0xf76391,_0x4801ac){'use strict';_0xf76391[_0x55f3('0x7')]=!0x0;var _0x4801ac=_0x4801ac(0x2c),_0x5f9bf2=_0x4801ac&&_0x4801ac[_0x55f3('0x7')]?_0x4801ac:{'default':_0x4801ac};_0xf76391[_0x55f3('0x9')]=function(_0x4f3df9,_0xf76391){if(_0x4f3df9)return!_0xf76391||_0x55f3('0x6')!==(void 0x0===_0xf76391?'undefined':(0x0,_0x5f9bf2[_0x55f3('0x9')])(_0xf76391))&&_0x55f3('0x1c')!=typeof _0xf76391?_0x4f3df9:_0xf76391;throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');};},function(_0x7e679a,_0x48f0b0,_0xad76df){'use strict';_0x48f0b0['__esModule']=!0x0;var _0x2648f5=_0x11825b(_0xad76df(0x7d)),_0x92a4fa=_0x11825b(_0xad76df(0x21)),_0x906088=_0x11825b(_0xad76df(0x2c));function _0x11825b(_0x7e679a){return _0x7e679a&&_0x7e679a['__esModule']?_0x7e679a:{'default':_0x7e679a};}_0x48f0b0[_0x55f3('0x9')]=function(_0x7e679a,_0x48f0b0){if('function'!=typeof _0x48f0b0&&null!==_0x48f0b0)throw new TypeError(_0x55f3('0x7c')+(void 0x0===_0x48f0b0?_0x55f3('0x2'):(0x0,_0x906088['default'])(_0x48f0b0)));_0x7e679a[_0x55f3('0x15')]=(0x0,_0x92a4fa['default'])(_0x48f0b0&&_0x48f0b0[_0x55f3('0x15')],{'constructor':{'value':_0x7e679a,'enumerable':!0x1,'writable':!0x0,'configurable':!0x0}}),_0x48f0b0&&(_0x2648f5['default']?(0x0,_0x2648f5[_0x55f3('0x9')])(_0x7e679a,_0x48f0b0):_0x7e679a[_0x55f3('0x7d')]=_0x48f0b0);};},function(_0x5c682c,_0x2f363f,_0x34e59a){'use strict';Object['defineProperty'](_0x2f363f,_0x55f3('0x7'),{'value':!0x0}),_0x2f363f[_0x55f3('0x7e')]=void 0x0;_0x34e59a=_0x34e59a(0x12);function _0x3a231f(){}(0x0,(_0x34e59a&&_0x34e59a['__esModule']?_0x34e59a:{'default':_0x34e59a})[_0x55f3('0x9')])(_0x3a231f['prototype'],{'addEventListener':function(_0x5c682c,_0x2f363f){void 0x0===this[_0x55f3('0x7f')]&&(this[_0x55f3('0x7f')]={});var _0x34e59a=this[_0x55f3('0x7f')];void 0x0===_0x34e59a[_0x5c682c]&&(_0x34e59a[_0x5c682c]=[]),-0x1===_0x34e59a[_0x5c682c]['indexOf'](_0x2f363f)&&_0x34e59a[_0x5c682c][_0x55f3('0x73')](_0x2f363f);},'hasEventListener':function(_0x5c682c,_0x2f363f){if(void 0x0===this['_listeners'])return!0x1;var _0x34e59a=this[_0x55f3('0x7f')];return void 0x0!==_0x34e59a[_0x5c682c]&&-0x1!==_0x34e59a[_0x5c682c]['indexOf'](_0x2f363f);},'removeEventListener':function(_0x5c682c,_0x2f363f){void 0x0!==this[_0x55f3('0x7f')]&&void 0x0!==(_0x5c682c=this['_listeners'][_0x5c682c])&&-0x1!==(_0x2f363f=_0x5c682c[_0x55f3('0x4b')](_0x2f363f))&&_0x5c682c[_0x55f3('0x80')](_0x2f363f,0x1);},'dispatchEvent':function(_0x5c682c){if(void 0x0!==this[_0x55f3('0x7f')]){var _0x2f363f=this[_0x55f3('0x7f')][_0x5c682c['type']];if(void 0x0!==_0x2f363f){_0x5c682c[_0x55f3('0x81')]=this;for(var _0x34e59a=_0x2f363f[_0x55f3('0x24')](0x0),_0x3a231f=0x0,_0x534ce4=_0x34e59a[_0x55f3('0xf')];_0x3a231f<_0x534ce4;_0x3a231f++)_0x34e59a[_0x3a231f]['call'](this,_0x5c682c);}}}}),_0x2f363f['EventDispatcher']=_0x3a231f;},function(_0x347276,_0x25260c,_0xf68e1e){'use strict';_0x25260c[_0x55f3('0x7')]=!0x0;var _0x324637=_0x24b515(_0xf68e1e(0x56)),_0x12e7c5=_0x24b515(_0xf68e1e(0x41)),_0x55b90f=_0x55f3('0x1c')==typeof _0x12e7c5[_0x55f3('0x9')]&&_0x55f3('0x82')==typeof _0x324637[_0x55f3('0x9')]?function(_0x347276){return typeof _0x347276;}:function(_0x347276){return _0x347276&&_0x55f3('0x1c')==typeof _0x12e7c5['default']&&_0x347276[_0x55f3('0x83')]===_0x12e7c5[_0x55f3('0x9')]&&_0x347276!==_0x12e7c5[_0x55f3('0x9')][_0x55f3('0x15')]?_0x55f3('0x82'):typeof _0x347276;};function _0x24b515(_0x347276){return _0x347276&&_0x347276[_0x55f3('0x7')]?_0x347276:{'default':_0x347276};}_0x25260c[_0x55f3('0x9')]=_0x55f3('0x1c')==typeof _0x12e7c5['default']&&'symbol'===_0x55b90f(_0x324637['default'])?function(_0x347276){return void 0x0===_0x347276?_0x55f3('0x2'):_0x55b90f(_0x347276);}:function(_0x347276){return _0x347276&&_0x55f3('0x1c')==typeof _0x12e7c5[_0x55f3('0x9')]&&_0x347276['constructor']===_0x12e7c5['default']&&_0x347276!==_0x12e7c5[_0x55f3('0x9')]['prototype']?'symbol':void 0x0===_0x347276?_0x55f3('0x2'):_0x55b90f(_0x347276);};},function(_0x59d890,_0x4961bd,_0x5236f5){'use strict';function _0x19e956(){return this;}var _0x46f00e=_0x5236f5(0x13),_0x315ff7=_0x5236f5(0x6),_0x177a00=_0x5236f5(0x38),_0x336494=_0x5236f5(0xb),_0x3575ac=_0x5236f5(0xf),_0x3573a2=_0x5236f5(0x49),_0xdfc3c5=_0x5236f5(0x19),_0x28e22a=_0x5236f5(0x40),_0x143504=_0x5236f5(0x5)(_0x55f3('0x84')),_0x33b169=!([][_0x55f3('0x22')]&&_0x55f3('0x85')in[][_0x55f3('0x22')]()),_0x2551dd=_0x55f3('0x86');_0x59d890[_0x55f3('0x0')]=function(_0x59d890,_0x4961bd,_0x5236f5,_0x18cdfc,_0x45b4df,_0x62f4fd,_0x3fef63){function _0x290664(_0x59d890){if(!_0x33b169&&_0x59d890 in _0x55a008)return _0x55a008[_0x59d890];switch(_0x59d890){case _0x55f3('0x22'):case _0x2551dd:return function(){return new _0x5236f5(this,_0x59d890);};}return function(){return new _0x5236f5(this,_0x59d890);};}_0x3573a2(_0x5236f5,_0x4961bd,_0x18cdfc);var _0x4e54c8,_0xbc1d58,_0x18cdfc=_0x4961bd+_0x55f3('0x87'),_0x437f80=_0x45b4df==_0x2551dd,_0x1ab6fe=!0x1,_0x55a008=_0x59d890[_0x55f3('0x15')],_0x7b941c=_0x55a008[_0x143504]||_0x55a008[_0x55f3('0x88')]||_0x45b4df&&_0x55a008[_0x45b4df],_0x3e4490=_0x7b941c||_0x290664(_0x45b4df),_0x18887c=_0x45b4df?_0x437f80?_0x290664('entries'):_0x3e4490:void 0x0,_0x2421b9=_0x55f3('0x89')==_0x4961bd&&_0x55a008[_0x55f3('0x8a')]||_0x7b941c;if(_0x2421b9&&(_0x2421b9=_0x28e22a(_0x2421b9[_0x55f3('0x1')](new _0x59d890())))!==Object[_0x55f3('0x15')]&&_0x2421b9['next']&&(_0xdfc3c5(_0x2421b9,_0x18cdfc,!0x0),_0x46f00e||_0x55f3('0x1c')==typeof _0x2421b9[_0x143504]||_0x336494(_0x2421b9,_0x143504,_0x19e956)),_0x437f80&&_0x7b941c&&_0x7b941c[_0x55f3('0x8b')]!==_0x2551dd&&(_0x1ab6fe=!0x0,_0x3e4490=function(){return _0x7b941c['call'](this);}),_0x46f00e&&!_0x3fef63||!_0x33b169&&!_0x1ab6fe&&_0x55a008[_0x143504]||_0x336494(_0x55a008,_0x143504,_0x3e4490),_0x3575ac[_0x4961bd]=_0x3e4490,_0x3575ac[_0x18cdfc]=_0x19e956,_0x45b4df)if(_0x4e54c8={'values':_0x437f80?_0x3e4490:_0x290664(_0x2551dd),'keys':_0x62f4fd?_0x3e4490:_0x290664(_0x55f3('0x22')),'entries':_0x18887c},_0x3fef63)for(_0xbc1d58 in _0x4e54c8)_0xbc1d58 in _0x55a008||_0x177a00(_0x55a008,_0xbc1d58,_0x4e54c8[_0xbc1d58]);else _0x315ff7(_0x315ff7['P']+_0x315ff7['F']*(_0x33b169||_0x1ab6fe),_0x4961bd,_0x4e54c8);return _0x4e54c8;};},function(_0x4823a5,_0x10bdec,_0x437033){var _0xfd19bb=_0x437033(0x1b),_0x3a80b7=Math[_0x55f3('0x8c')];_0x4823a5['exports']=function(_0x4823a5){return 0x0<_0x4823a5?_0x3a80b7(_0xfd19bb(_0x4823a5),0x1fffffffffffff):0x0;};},function(_0x1b120b,_0x123edf,_0x1b8e9a){_0x123edf['f']=_0x1b8e9a(0x5);},function(_0x39ce03,_0x1f69c8,_0x4aeef1){var _0x12b43e=_0x4aeef1(0x3),_0x10c496=_0x4aeef1(0x2),_0x515068=_0x4aeef1(0x13),_0x24b676=_0x4aeef1(0x2f),_0x2f3476=_0x4aeef1(0x8)['f'];_0x39ce03[_0x55f3('0x0')]=function(_0x39ce03){var _0x1f69c8=_0x10c496[_0x55f3('0x1b')]||(_0x10c496[_0x55f3('0x1b')]=!_0x515068&&_0x12b43e['Symbol']||{});'_'==_0x39ce03[_0x55f3('0x8d')](0x0)||_0x39ce03 in _0x1f69c8||_0x2f3476(_0x1f69c8,_0x39ce03,{'value':_0x24b676['f'](_0x39ce03)});};},function(_0x26be0d,_0x307e21){_0x307e21['f']=Object[_0x55f3('0x8e')];},function(_0x2633db,_0xd781f4,_0x2642cf){var _0x93bc7b=_0x2642cf(0x16),_0x3ee828=_0x2642cf(0x5)(_0x55f3('0x3')),_0x5e432c=_0x55f3('0x8f')==_0x93bc7b(function(){return arguments;}());_0x2633db['exports']=function(_0x2633db){var _0xd781f4;return void 0x0===_0x2633db?_0x55f3('0x90'):null===_0x2633db?'Null':_0x55f3('0xa')==typeof(_0xd781f4=function(_0x2633db,_0xd781f4){try{return _0x2633db[_0xd781f4];}catch(_0x511bdf){}}(_0x2633db=Object(_0x2633db),_0x3ee828))?_0xd781f4:_0x5e432c?_0x93bc7b(_0x2633db):'Object'==(_0xd781f4=_0x93bc7b(_0x2633db))&&_0x55f3('0x1c')==typeof _0x2633db[_0x55f3('0x91')]?_0x55f3('0x8f'):_0xd781f4;};},function(_0x385a9c,_0x4a12dc,_0x30546e){_0x385a9c['exports']={'default':_0x30546e(0x52),'__esModule':!0x0};},function(_0x721842,_0x59c3dc,_0x25919f){var _0x127a6b=_0x25919f(0x16);_0x721842['exports']=Object('z')[_0x55f3('0x68')](0x0)?Object:function(_0x721842){return _0x55f3('0x92')==_0x127a6b(_0x721842)?_0x721842[_0x55f3('0x67')](''):Object(_0x721842);};},function(_0x486cb0,_0x3b20ae,_0xd26b43){var _0x184ecc=_0xd26b43(0x32),_0x54a81a=_0xd26b43(0x5)(_0x55f3('0x84')),_0x48f0e2=_0xd26b43(0xf);_0x486cb0[_0x55f3('0x0')]=_0xd26b43(0x2)['getIteratorMethod']=function(_0x486cb0){if(null!=_0x486cb0)return _0x486cb0[_0x54a81a]||_0x486cb0['@@iterator']||_0x48f0e2[_0x184ecc(_0x486cb0)];};},function(_0x4aeeb8,_0x359b9f,_0x1af3a1){'use strict';function _0xe570d4(_0x4aeeb8){_0x4aeeb8&&(_0x4aeeb8[_0x55f3('0x93')]?_0x4aeeb8[_0x55f3('0x93')]():(_0x4aeeb8[_0x55f3('0x3f')]&&(_0x4aeeb8[_0x55f3('0x3f')][_0x55f3('0x94')]&&(_0x4aeeb8[_0x55f3('0x3f')][_0x55f3('0x94')]['dispose'](),_0x4aeeb8[_0x55f3('0x3f')]['map']=null),_0x4aeeb8['material']['dispose'](),_0x4aeeb8[_0x55f3('0x3f')]=null),_0x4aeeb8[_0x55f3('0x95')]&&(_0x4aeeb8[_0x55f3('0x95')]['dispose'](),_0x4aeeb8[_0x55f3('0x95')]=null)));}function _0x2e17c6(_0x4aeeb8){var _0x359b9f=[];_0x4aeeb8['traverse'](function(_0x4aeeb8){_0x359b9f['push'](_0x4aeeb8);});for(var _0x1af3a1=0x0,_0x2e17c6=_0x359b9f['length'];_0x1af3a1<_0x2e17c6;_0x1af3a1++)_0x4aeeb8[_0x55f3('0x96')](_0x359b9f[_0x1af3a1]),_0xe570d4(_0x359b9f[_0x1af3a1]);_0x359b9f=null;}Object[_0x55f3('0x4')](_0x359b9f,'__esModule',{'value':!0x0}),_0x359b9f[_0x55f3('0x9')]={'disposeAll':function(_0x4aeeb8){_0x2e17c6(_0x4aeeb8),_0x4aeeb8[_0x55f3('0x97')][_0x55f3('0x96')](_0x4aeeb8),_0xe570d4(_0x4aeeb8);},'disposeChilds':_0x2e17c6,'dispseMesh':_0xe570d4};},function(_0x1f2f50,_0x27861e,_0x5d385b){_0x1f2f50['exports']=!_0x5d385b(0x7)&&!_0x5d385b(0xd)(function(){return 0x7!=Object['defineProperty'](_0x5d385b(0x26)(_0x55f3('0x98')),'a',{'get':function(){return 0x7;}})['a'];});},function(_0x379318,_0x4dab85,_0x485b8d){_0x379318['exports']=_0x485b8d(0xb);},function(_0x5d3cd8,_0x597114,_0x49a1af){var _0x44140f=_0x49a1af(0x8),_0x2d2fe7=_0x49a1af(0x9),_0x1ae3d1=_0x49a1af(0x14);_0x5d3cd8[_0x55f3('0x0')]=_0x49a1af(0x7)?Object['defineProperties']:function(_0x5d3cd8,_0x597114){_0x2d2fe7(_0x5d3cd8);for(var _0x49a1af,_0x496c6a=_0x1ae3d1(_0x597114),_0x3773dd=_0x496c6a[_0x55f3('0xf')],_0x161f7f=0x0;_0x161f7f<_0x3773dd;)_0x44140f['f'](_0x5d3cd8,_0x49a1af=_0x496c6a[_0x161f7f++],_0x597114[_0x49a1af]);return _0x5d3cd8;};},function(_0x101c76,_0x5b31bb,_0x2ff297){var _0x905019=_0x2ff297(0xc),_0x17221e=_0x2ff297(0xe),_0x5b116f=_0x2ff297(0x4a)(!0x1),_0x480cb4=_0x2ff297(0x1e)('IE_PROTO');_0x101c76[_0x55f3('0x0')]=function(_0x101c76,_0x5b31bb){var _0x2ff297,_0x1ef3dd=_0x17221e(_0x101c76),_0x48b6cc=0x0,_0x24f596=[];for(_0x2ff297 in _0x1ef3dd)_0x2ff297!=_0x480cb4&&_0x905019(_0x1ef3dd,_0x2ff297)&&_0x24f596[_0x55f3('0x73')](_0x2ff297);for(;_0x5b31bb[_0x55f3('0xf')]>_0x48b6cc;)_0x905019(_0x1ef3dd,_0x2ff297=_0x5b31bb[_0x48b6cc++])&&!~_0x5b116f(_0x24f596,_0x2ff297)&&_0x24f596['push'](_0x2ff297);return _0x24f596;};},function(_0x53bad1,_0x4cf199,_0x3e177d){_0x3e177d=_0x3e177d(0x3)[_0x55f3('0x6f')];_0x53bad1[_0x55f3('0x0')]=_0x3e177d&&_0x3e177d[_0x55f3('0x99')];},function(_0x3d81c4,_0xce70ca){},function(_0x1a7675,_0x3a2cba,_0x17dd4c){'use strict';Object[_0x55f3('0x4')](_0x3a2cba,_0x55f3('0x7'),{'value':!0x0}),_0x3a2cba[_0x55f3('0x9a')]=_0x3a2cba[_0x55f3('0x9b')]=_0x3a2cba[_0x55f3('0x9c')]=_0x3a2cba[_0x55f3('0x9d')]=_0x3a2cba['BoatFoam']=_0x3a2cba[_0x55f3('0x9e')]=_0x3a2cba['ModelLightBlend']=_0x3a2cba[_0x55f3('0x9f')]=_0x3a2cba[_0x55f3('0xa0')]=_0x3a2cba[_0x55f3('0xa1')]=_0x3a2cba[_0x55f3('0xa2')]=_0x3a2cba[_0x55f3('0xa3')]=_0x3a2cba[_0x55f3('0xa4')]=_0x3a2cba[_0x55f3('0xa5')]=_0x3a2cba['CirclePlane']=_0x3a2cba[_0x55f3('0xa6')]=_0x3a2cba[_0x55f3('0xa7')]=_0x3a2cba[_0x55f3('0xa8')]=_0x3a2cba[_0x55f3('0xa9')]=_0x3a2cba[_0x55f3('0xaa')]=_0x3a2cba[_0x55f3('0xab')]=_0x3a2cba[_0x55f3('0xac')]=_0x3a2cba['DeviceWind']=_0x3a2cba[_0x55f3('0xad')]=_0x3a2cba[_0x55f3('0xae')]=_0x3a2cba[_0x55f3('0xaf')]=_0x3a2cba['Fire']=_0x3a2cba['SmokeSpread']=_0x3a2cba[_0x55f3('0xb0')]=_0x3a2cba[_0x55f3('0xb1')]=_0x3a2cba[_0x55f3('0xb2')]=_0x3a2cba['PlaneRainEffect']=_0x3a2cba[_0x55f3('0xb3')]=_0x3a2cba[_0x55f3('0xb4')]=_0x3a2cba['PlaneWindEffect']=_0x3a2cba['EdgeLineEffect']=_0x3a2cba['ScrollWallEffect']=_0x3a2cba[_0x55f3('0xb5')]=_0x3a2cba[_0x55f3('0xb6')]=_0x3a2cba[_0x55f3('0xb7')]=_0x3a2cba[_0x55f3('0xb8')]=_0x3a2cba[_0x55f3('0xb9')]=_0x3a2cba[_0x55f3('0xba')]=_0x3a2cba[_0x55f3('0xbb')]=_0x3a2cba[_0x55f3('0xbc')]=_0x3a2cba[_0x55f3('0xbd')]=_0x3a2cba[_0x55f3('0xbe')]=_0x3a2cba[_0x55f3('0xbf')]=_0x3a2cba[_0x55f3('0xc0')]=_0x3a2cba['CubeFloatMarker']=_0x3a2cba[_0x55f3('0xc1')]=_0x3a2cba[_0x55f3('0xc2')]=_0x3a2cba[_0x55f3('0xc3')]=_0x3a2cba[_0x55f3('0xc4')]=_0x3a2cba[_0x55f3('0xc5')]=_0x3a2cba['ClearSky']=_0x3a2cba[_0x55f3('0xc6')]=_0x3a2cba[_0x55f3('0xc7')]=void 0x0;var _0x42c033=_0xa82a68(_0x17dd4c(0x8e)),_0x46b41d=_0xa82a68(_0x17dd4c(0x8f)),_0x116747=_0xa82a68(_0x17dd4c(0x90)),_0xaf38b2=_0xa82a68(_0x17dd4c(0x92)),_0x423617=_0xa82a68(_0x17dd4c(0x82)),_0x28cfef=_0xa82a68(_0x17dd4c(0x93)),_0x314330=_0xa82a68(_0x17dd4c(0xba)),_0x38bcb1=_0xa82a68(_0x17dd4c(0x84)),_0x5eae26=_0xa82a68(_0x17dd4c(0xbb)),_0x184c6a=_0xa82a68(_0x17dd4c(0xbc)),_0x58f20c=_0xa82a68(_0x17dd4c(0xbd)),_0xc013bd=_0xa82a68(_0x17dd4c(0x97)),_0x23439f=_0xa82a68(_0x17dd4c(0xbe)),_0x4b8457=_0xa82a68(_0x17dd4c(0xbf)),_0x2cb608=_0xa82a68(_0x17dd4c(0xc0)),_0x2f7af6=_0xa82a68(_0x17dd4c(0x98)),_0x4cee77=_0xa82a68(_0x17dd4c(0xc1)),_0xc11534=_0xa82a68(_0x17dd4c(0xc2)),_0x5747a6=_0xa82a68(_0x17dd4c(0x99)),_0x45d313=_0xa82a68(_0x17dd4c(0x9a)),_0x372bf5=_0xa82a68(_0x17dd4c(0xc3)),_0x54afd6=_0xa82a68(_0x17dd4c(0xc4)),_0x42b991=_0xa82a68(_0x17dd4c(0xc5)),_0x320343=_0xa82a68(_0x17dd4c(0xc6)),_0x38fbaf=_0xa82a68(_0x17dd4c(0xc7)),_0x3151ea=_0xa82a68(_0x17dd4c(0xc8)),_0x1a1572=_0xa82a68(_0x17dd4c(0xc9)),_0x3208f6=_0xa82a68(_0x17dd4c(0xca)),_0x4d5ba0=_0xa82a68(_0x17dd4c(0x9c)),_0x5b111b=_0xa82a68(_0x17dd4c(0xcb)),_0x219d33=_0xa82a68(_0x17dd4c(0xcc)),_0x1c31a8=_0xa82a68(_0x17dd4c(0xcd)),_0x5a77d2=_0xa82a68(_0x17dd4c(0x9d)),_0x15530b=_0xa82a68(_0x17dd4c(0xce)),_0x21343e=_0xa82a68(_0x17dd4c(0xcf)),_0x39a359=_0xa82a68(_0x17dd4c(0xd0)),_0x14416b=_0xa82a68(_0x17dd4c(0xd1)),_0x5422fc=_0xa82a68(_0x17dd4c(0x75)),_0x16d140=_0xa82a68(_0x17dd4c(0xd2)),_0x17f02e=_0xa82a68(_0x17dd4c(0xd3)),_0x1d4c44=_0xa82a68(_0x17dd4c(0xd8)),_0xa268dc=_0xa82a68(_0x17dd4c(0xd9)),_0x430148=_0xa82a68(_0x17dd4c(0xdf)),_0x45c2d9=_0xa82a68(_0x17dd4c(0xe0)),_0x169657=_0xa82a68(_0x17dd4c(0xe1)),_0x83cb52=_0xa82a68(_0x17dd4c(0xe2)),_0x440d07=_0xa82a68(_0x17dd4c(0x74)),_0x5c8df5=_0xa82a68(_0x17dd4c(0xe3)),_0x3548ca=_0xa82a68(_0x17dd4c(0xe4)),_0x4e7be6=_0xa82a68(_0x17dd4c(0xe8)),_0x12f32c=_0xa82a68(_0x17dd4c(0xe9)),_0x3abaf6=_0xa82a68(_0x17dd4c(0xea)),_0x2a745d=_0xa82a68(_0x17dd4c(0xeb)),_0x25921d=_0xa82a68(_0x17dd4c(0xec)),_0x3ff976=_0xa82a68(_0x17dd4c(0xed)),_0x47b2e2=_0xa82a68(_0x17dd4c(0xee)),_0x290257=_0xa82a68(_0x17dd4c(0xef)),_0x17dd4c=_0xa82a68(_0x17dd4c(0xf0));function _0xa82a68(_0x3a2cba){return _0x3a2cba&&_0x3a2cba[_0x55f3('0x7')]?_0x3a2cba:{'default':_0x3a2cba};}_0x3a2cba[_0x55f3('0xc7')]=_0x46b41d['default'],_0x3a2cba[_0x55f3('0xc6')]=_0x42c033['default'],_0x3a2cba['ClearSky']=_0x116747[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xc5')]=_0xaf38b2['default'],_0x3a2cba[_0x55f3('0xc4')]=_0x423617[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xc3')]=_0x28cfef['default'],_0x3a2cba['HeatMapEffect']=_0x314330[_0x55f3('0x9')],_0x3a2cba['CameraFlyTo']=_0x38bcb1[_0x55f3('0x9')],_0x3a2cba['CubeFloatMarker']=_0x5eae26[_0x55f3('0x9')],_0x3a2cba['CylinderFloatMarker']=_0x184c6a[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xbf')]=_0x58f20c[_0x55f3('0x9')],_0x3a2cba['PointsLine']=_0xc013bd[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xbd')]=_0x23439f[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xbc')]=_0x4b8457[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xbb')]=_0x2cb608[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xba')]=_0x2f7af6[_0x55f3('0x9')],_0x3a2cba['CylinderSpreadEffect']=_0x4cee77[_0x55f3('0x9')],_0x3a2cba['ConeSpreadEffect']=_0xc11534[_0x55f3('0x9')],_0x3a2cba['NumberUpEffect']=_0x5747a6[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xb6')]=_0x45d313[_0x55f3('0x9')],_0x3a2cba['ExtentWallEffect']=_0x372bf5['default'],_0x3a2cba[_0x55f3('0xc8')]=_0x54afd6[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xc9')]=_0x42b991[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xca')]=_0x320343[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xb4')]=_0x38fbaf[_0x55f3('0x9')],_0x3a2cba['PlaneTerrainEffect']=_0x3151ea[_0x55f3('0x9')],_0x3a2cba['PlaneRainEffect']=_0x1a1572[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xb2')]=_0x3208f6[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xb1')]=_0x4d5ba0[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xb0')]=_0x5b111b['default'],_0x3a2cba[_0x55f3('0xcb')]=_0x219d33[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xcc')]=_0x1c31a8['default'],_0x3a2cba[_0x55f3('0xaf')]=_0x5a77d2['default'],_0x3a2cba['FloatPoints']=_0x15530b[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xad')]=_0x21343e[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xcd')]=_0x39a359[_0x55f3('0x9')],_0x3a2cba['StartPoints']=_0x14416b[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xab')]=_0x5422fc[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xaa')]=_0x16d140[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xa9')]=_0x17f02e[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xa8')]=_0x1d4c44[_0x55f3('0x9')],_0x3a2cba['MirroWater']=_0xa268dc['default'],_0x3a2cba['GroundPoints']=_0x430148[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xce')]=_0x45c2d9['default'],_0x3a2cba[_0x55f3('0xa5')]=_0x169657['default'],_0x3a2cba[_0x55f3('0xa4')]=_0x83cb52[_0x55f3('0x9')],_0x3a2cba['TextureUvAnimation']=_0x440d07[_0x55f3('0x9')],_0x3a2cba['ESInstanceMesh']=_0x5c8df5[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xa1')]=_0x3548ca[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xa0')]=_0x4e7be6[_0x55f3('0x9')],_0x3a2cba['ModelBlendEffect']=_0x12f32c[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xcf')]=_0x3abaf6[_0x55f3('0x9')],_0x3a2cba['ModelFresnelEffect']=_0x2a745d[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0xd0')]=_0x25921d[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0x9d')]=_0x3ff976['default'],_0x3a2cba[_0x55f3('0x9c')]=_0x47b2e2[_0x55f3('0x9')],_0x3a2cba[_0x55f3('0x9b')]=_0x290257['default'],_0x3a2cba[_0x55f3('0x9a')]=_0x17dd4c['default'];},function(_0x3c9243,_0x39fadd,_0x2fea83){_0x3c9243[_0x55f3('0x0')]={'default':_0x2fea83(0x81),'__esModule':!0x0};},function(_0x468d8c,_0x448587,_0x1ace4a){'use strict';var _0x4ca3fe,_0x4246b0=_0x862d67(_0x1ace4a(0x33)),_0x60fd65=_0x862d67(_0x1ace4a(0x43)),_0x420049=_0x862d67(_0x1ace4a(0x2c));function _0x862d67(_0x468d8c){return _0x468d8c&&_0x468d8c[_0x55f3('0x7')]?_0x468d8c:{'default':_0x468d8c};}var _0x431b62,_0x155716,_0x3223b7,_0x4ce985,_0x100e6b,_0x4a65ea,_0x4470b1,_0x339340={'distributions':{'BOX':0x1,'SPHERE':0x2,'DISC':0x3},'valueOverLifetimeLength':0x4};void 0x0!==(_0x1ace4a=_0x55f3('0x1c')==typeof(_0x4ca3fe=_0x339340)?_0x4ca3fe['call'](_0x448587,_0x1ace4a,_0x448587,_0x468d8c):_0x4ca3fe)&&(_0x468d8c[_0x55f3('0x0')]=_0x1ace4a),_0x339340['TypedArrayHelper']=function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){this[_0x55f3('0xd1')]=_0x1ace4a||0x1,this[_0x55f3('0xd2')]=_0x448587||0x1,this[_0x55f3('0xd3')]=_0x468d8c||Float32Array,this[_0x55f3('0xd4')]=new _0x468d8c(_0x448587*this['componentSize']),this[_0x55f3('0xd5')]=_0x4ca3fe||0x0;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x83')]=_0x339340[_0x55f3('0xd6')],_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xd7')]=function(_0x468d8c,_0x448587){var _0x1ace4a=this['array'][_0x55f3('0xf')];return _0x448587||(_0x468d8c*=this['componentSize']),_0x468d8c<_0x1ace4a?this[_0x55f3('0xd8')](_0x468d8c):_0x1ace4a<_0x468d8c?this[_0x55f3('0xd9')](_0x468d8c):void console[_0x55f3('0xda')]('TypedArray\x20is\x20already\x20of\x20size:',_0x468d8c+'.',_0x55f3('0xdb'));},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xd8')]=function(_0x468d8c){return this[_0x55f3('0xd4')]=this[_0x55f3('0xd4')][_0x55f3('0xdc')](0x0,_0x468d8c),this[_0x55f3('0xd2')]=_0x468d8c,this;},_0x339340[_0x55f3('0xd6')]['prototype'][_0x55f3('0xd9')]=function(_0x468d8c){var _0x448587=this[_0x55f3('0xd4')],_0x1ace4a=new this[(_0x55f3('0xd3'))](_0x468d8c);return _0x1ace4a[_0x55f3('0x39')](_0x448587),this['array']=_0x1ace4a,this[_0x55f3('0xd2')]=_0x468d8c,this;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0x80')]=function(_0x468d8c,_0x448587){_0x468d8c*=this[_0x55f3('0xd1')],_0x448587*=this['componentSize'];for(var _0x1ace4a=[],_0x4ca3fe=this[_0x55f3('0xd4')],_0x4246b0=_0x4ca3fe[_0x55f3('0xf')],_0x60fd65=0x0;_0x60fd65<_0x4246b0;++_0x60fd65)(_0x60fd65<_0x468d8c||_0x448587<=_0x60fd65)&&_0x1ace4a['push'](_0x4ca3fe[_0x60fd65]);return this['setFromArray'](0x0,_0x1ace4a),this;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xdd')]=function(_0x468d8c,_0x448587){var _0x1ace4a=_0x468d8c+_0x448587[_0x55f3('0xf')];return _0x1ace4a>this[_0x55f3('0xd4')]['length']?this[_0x55f3('0xd9')](_0x1ace4a):_0x1ace4a<this['array']['length']&&this[_0x55f3('0xd8')](_0x1ace4a),this[_0x55f3('0xd4')][_0x55f3('0x39')](_0x448587,this['indexOffset']+_0x468d8c),this;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xde')]=function(_0x468d8c,_0x448587){return this[_0x55f3('0xdf')](_0x468d8c,_0x448587['x'],_0x448587['y']);},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xdf')]=function(_0x468d8c,_0x448587,_0x1ace4a){var _0x4ca3fe=this[_0x55f3('0xd4')],_0x468d8c=this['indexOffset']+_0x468d8c*this[_0x55f3('0xd1')];return _0x4ca3fe[_0x468d8c]=_0x448587,_0x4ca3fe[_0x468d8c+0x1]=_0x1ace4a,this;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xe0')]=function(_0x468d8c,_0x448587){return this[_0x55f3('0xe1')](_0x468d8c,_0x448587['x'],_0x448587['y'],_0x448587['z']);},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xe1')]=function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){var _0x4246b0=this[_0x55f3('0xd4')],_0x468d8c=this[_0x55f3('0xd5')]+_0x468d8c*this['componentSize'];return _0x4246b0[_0x468d8c]=_0x448587,_0x4246b0[_0x468d8c+0x1]=_0x1ace4a,_0x4246b0[_0x468d8c+0x2]=_0x4ca3fe,this;},_0x339340['TypedArrayHelper']['prototype'][_0x55f3('0xe2')]=function(_0x468d8c,_0x448587){return this[_0x55f3('0xe3')](_0x468d8c,_0x448587['x'],_0x448587['y'],_0x448587['z'],_0x448587['w']);},_0x339340['TypedArrayHelper']['prototype'][_0x55f3('0xe3')]=function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0){var _0x60fd65=this[_0x55f3('0xd4')],_0x468d8c=this[_0x55f3('0xd5')]+_0x468d8c*this[_0x55f3('0xd1')];return _0x60fd65[_0x468d8c]=_0x448587,_0x60fd65[_0x468d8c+0x1]=_0x1ace4a,_0x60fd65[_0x468d8c+0x2]=_0x4ca3fe,_0x60fd65[_0x468d8c+0x3]=_0x4246b0,this;},_0x339340[_0x55f3('0xd6')]['prototype']['setMat3']=function(_0x468d8c,_0x448587){return this['setFromArray'](this[_0x55f3('0xd5')]+_0x468d8c*this[_0x55f3('0xd1')],_0x448587[_0x55f3('0xe4')]);},_0x339340['TypedArrayHelper'][_0x55f3('0x15')][_0x55f3('0xe5')]=function(_0x468d8c,_0x448587){return this[_0x55f3('0xdd')](this[_0x55f3('0xd5')]+_0x468d8c*this['componentSize'],_0x448587[_0x55f3('0xe4')]);},_0x339340['TypedArrayHelper']['prototype'][_0x55f3('0xe6')]=function(_0x468d8c,_0x448587){return this['setVec3Components'](_0x468d8c,_0x448587['r'],_0x448587['g'],_0x448587['b']);},_0x339340[_0x55f3('0xd6')]['prototype'][_0x55f3('0xe7')]=function(_0x468d8c,_0x448587){return this[_0x55f3('0xd4')][this['indexOffset']+_0x468d8c*this['componentSize']]=_0x448587,this;},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xe8')]=function(_0x468d8c){return this[_0x55f3('0xd4')][this[_0x55f3('0xd5')]+_0x468d8c];},_0x339340[_0x55f3('0xd6')][_0x55f3('0x15')][_0x55f3('0xe9')]=function(_0x468d8c){return this['array']['subarray'](this[_0x55f3('0xd5')]+_0x468d8c*this[_0x55f3('0xd1')]);},_0x339340[_0x55f3('0xea')]=function(_0x468d8c,_0x448587,_0x1ace4a){var _0x4ca3fe=_0x339340[_0x55f3('0xea')]['typeSizeMap'];this[_0x55f3('0xeb')]=_0x55f3('0xa')==typeof _0x468d8c&&_0x4ca3fe[_0x55f3('0xc')](_0x468d8c)?_0x468d8c:'f',this[_0x55f3('0xd1')]=_0x4ca3fe[this['type']],this['arrayType']=_0x1ace4a||Float32Array,this['typedArray']=null,this[_0x55f3('0xec')]=null,this[_0x55f3('0xed')]=!!_0x448587,this[_0x55f3('0xee')]=0x0,this[_0x55f3('0xef')]=0x0;},_0x339340[_0x55f3('0xea')][_0x55f3('0x83')]=_0x339340[_0x55f3('0xea')],_0x339340[_0x55f3('0xea')][_0x55f3('0xf0')]={'f':0x1,'v2':0x2,'v3':0x3,'v4':0x4,'c':0x3,'m3':0x9,'m4':0x10},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0xf1')]=function(_0x468d8c,_0x448587){this[_0x55f3('0xee')]=Math[_0x55f3('0x8c')](_0x468d8c*this[_0x55f3('0xd1')],this['updateMin']*this[_0x55f3('0xd1')]),this[_0x55f3('0xef')]=Math[_0x55f3('0xf2')](_0x448587*this[_0x55f3('0xd1')],this['updateMax']*this[_0x55f3('0xd1')]);},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0xf3')]=function(){var _0x468d8c=this[_0x55f3('0xec')],_0x448587=_0x468d8c[_0x55f3('0xf4')];_0x448587[_0x55f3('0xf5')]=this['updateMin'],_0x448587['count']=Math['min'](this['updateMax']-this[_0x55f3('0xee')]+this[_0x55f3('0xd1')],this[_0x55f3('0xf6')][_0x55f3('0xd4')][_0x55f3('0xf')]),_0x468d8c[_0x55f3('0xf7')]=!0x0;},_0x339340[_0x55f3('0xea')]['prototype'][_0x55f3('0xf8')]=function(){this[_0x55f3('0xee')]=0x0,this[_0x55f3('0xef')]=0x0;},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0xf9')]=function(){this[_0x55f3('0xec')][_0x55f3('0xfa')]=this[_0x55f3('0xed')];},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0x80')]=function(_0x468d8c,_0x448587){this['typedArray'][_0x55f3('0x80')](_0x468d8c,_0x448587),this[_0x55f3('0xfb')]();},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')]['forceUpdateAll']=function(){this['bufferAttribute']['array']=this['typedArray'][_0x55f3('0xd4')],this[_0x55f3('0xec')]['updateRange']['offset']=0x0,this[_0x55f3('0xec')][_0x55f3('0xf4')][_0x55f3('0xfc')]=-0x1,this[_0x55f3('0xec')]['dynamic']=!0x1,this[_0x55f3('0xec')][_0x55f3('0xf7')]=!0x0;},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0xfd')]=function(_0x468d8c){null!==this[_0x55f3('0xf6')]&&this['typedArray'][_0x55f3('0xd2')]===_0x468d8c*this['componentSize']||(null!==this[_0x55f3('0xf6')]&&this[_0x55f3('0xf6')][_0x55f3('0xd2')]!==_0x468d8c?this[_0x55f3('0xf6')][_0x55f3('0xd7')](_0x468d8c):null===this[_0x55f3('0xf6')]&&(this[_0x55f3('0xf6')]=new _0x339340[(_0x55f3('0xd6'))](this[_0x55f3('0xfe')],_0x468d8c,this[_0x55f3('0xd1')])));},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0xff')]=function(_0x468d8c){if(this[_0x55f3('0xfd')](_0x468d8c),null!==this[_0x55f3('0xec')])return this[_0x55f3('0xec')][_0x55f3('0xd4')]=this[_0x55f3('0xf6')]['array'],0x51<=parseFloat(THREE[_0x55f3('0x100')])&&(this[_0x55f3('0xec')][_0x55f3('0xfc')]=this[_0x55f3('0xec')][_0x55f3('0xd4')][_0x55f3('0xf')]/this['bufferAttribute'][_0x55f3('0x101')]),void(this[_0x55f3('0xec')][_0x55f3('0xf7')]=!0x0);this[_0x55f3('0xec')]=new THREE[(_0x55f3('0x102'))](this[_0x55f3('0xf6')][_0x55f3('0xd4')],this['componentSize']),this[_0x55f3('0xec')][_0x55f3('0xfa')]=this[_0x55f3('0xed')];},_0x339340[_0x55f3('0xea')][_0x55f3('0x15')][_0x55f3('0x103')]=function(){return null===this[_0x55f3('0xf6')]?0x0:this['typedArray'][_0x55f3('0xd4')][_0x55f3('0xf')];},_0x339340[_0x55f3('0x104')]={'defines':['#define\x20PACKED_COLOR_SIZE\x20256.0',_0x55f3('0x105')][_0x55f3('0x106')]('\x0a'),'uniforms':[_0x55f3('0x107'),_0x55f3('0x108'),'uniform\x20sampler2D\x20texture1;',_0x55f3('0x109'),_0x55f3('0x10a'),_0x55f3('0x10b')][_0x55f3('0x106')]('\x0a'),'attributes':[_0x55f3('0x10c'),_0x55f3('0x10d'),_0x55f3('0x10e'),_0x55f3('0x10f'),_0x55f3('0x110'),'attribute\x20vec4\x20size;',_0x55f3('0x111'),_0x55f3('0x112'),'attribute\x20vec4\x20opacity;'][_0x55f3('0x106')]('\x0a'),'varyings':[_0x55f3('0x113'),_0x55f3('0x114'),'\x20\x20\x20\x20varying\x20float\x20vAngle;',_0x55f3('0x115'),'#ifdef\x20SHOULD_CALCULATE_SPRITE',_0x55f3('0x116'),'#endif'][_0x55f3('0x106')]('\x0a'),'branchAvoidanceFunctions':[_0x55f3('0x117'),_0x55f3('0x118'),'}',_0x55f3('0x119'),_0x55f3('0x11a'),'}','float\x20when_eq(\x20float\x20x,\x20float\x20y\x20)\x20{',_0x55f3('0x11b'),'}',_0x55f3('0x11c'),_0x55f3('0x11d'),'}',_0x55f3('0x11e'),_0x55f3('0x11f'),'}',_0x55f3('0x120'),_0x55f3('0x121'),'}',_0x55f3('0x122'),'\x20\x20\x20\x20return\x20min(a\x20+\x20b,\x201.0);','}'][_0x55f3('0x106')]('\x0a'),'unpackColor':[_0x55f3('0x123'),_0x55f3('0x124'),_0x55f3('0x125'),_0x55f3('0x126'),'\x20\x20\x20float\x20b\x20=\x20mod(\x20hex,\x20PACKED_COLOR_SIZE\x20);',_0x55f3('0x127'),_0x55f3('0x128'),_0x55f3('0x129'),'\x20\x20\x20return\x20c;','}'][_0x55f3('0x106')]('\x0a'),'unpackRotationAxis':[_0x55f3('0x12a'),'\x20\x20\x20vec3\x20c\x20=\x20vec3(\x200.0\x20);',_0x55f3('0x125'),_0x55f3('0x126'),_0x55f3('0x12b'),_0x55f3('0x127'),_0x55f3('0x128'),_0x55f3('0x129'),_0x55f3('0x12c'),_0x55f3('0x12d'),'\x20\x20\x20return\x20c;','}'][_0x55f3('0x106')]('\x0a'),'floatOverLifetime':[_0x55f3('0x12e'),_0x55f3('0x12f'),'\x20\x20\x20\x20float\x20deltaAge\x20=\x20positionInTime\x20*\x20float(\x20VALUE_OVER_LIFETIME_LENGTH\x20-\x201\x20);','\x20\x20\x20\x20float\x20fIndex\x20=\x200.0;',_0x55f3('0x130'),_0x55f3('0x131'),'',_0x55f3('0x132'),'fIndex\x20=\x200.0;','shouldApplyValue\x20=\x20and(when_gt(deltaAge,\x20fIndex),\x20when_le(deltaAge,\x20fIndex\x20+\x201.0));',_0x55f3('0x133'),_0x55f3('0x134'),_0x55f3('0x135'),_0x55f3('0x136'),_0x55f3('0x137'),_0x55f3('0x138'),_0x55f3('0x139'),_0x55f3('0x136'),_0x55f3('0x13a'),'}','}','}','',_0x55f3('0x13b'),'}'][_0x55f3('0x106')]('\x0a'),'colorOverLifetime':['vec3\x20getColorOverLifetime(\x20in\x20float\x20positionInTime,\x20in\x20vec3\x20color1,\x20in\x20vec3\x20color2,\x20in\x20vec3\x20color3,\x20in\x20vec3\x20color4\x20)\x20{','\x20\x20\x20\x20vec3\x20value\x20=\x20vec3(\x200.0\x20);','\x20\x20\x20\x20value.x\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20vec4(\x20color1.x,\x20color2.x,\x20color3.x,\x20color4.x\x20)\x20);',_0x55f3('0x13c'),_0x55f3('0x13d'),'\x20\x20\x20\x20return\x20value;','}'][_0x55f3('0x106')]('\x0a'),'paramFetchingFunctions':['float\x20getAlive()\x20{',_0x55f3('0x13e'),'}',_0x55f3('0x13f'),_0x55f3('0x140'),'}',_0x55f3('0x141'),'\x20\x20\x20return\x20params.z;','}','float\x20getWiggle()\x20{',_0x55f3('0x142'),'}']['join']('\x0a'),'forceFetchingFunctions':[_0x55f3('0x143'),'\x20\x20\x20return\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}',_0x55f3('0x144'),_0x55f3('0x145'),'}',_0x55f3('0x146'),'\x20\x20\x20return\x20acceleration.xyz\x20*\x20age;','}'][_0x55f3('0x106')]('\x0a'),'rotationFunctions':[_0x55f3('0x147'),'\x20\x20\x20mat4\x20getRotationMatrix(\x20in\x20vec3\x20axis,\x20in\x20float\x20angle)\x20{','\x20\x20\x20\x20\x20\x20\x20axis\x20=\x20normalize(axis);',_0x55f3('0x148'),'\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(angle);',_0x55f3('0x149'),'',_0x55f3('0x14a'),_0x55f3('0x14b'),_0x55f3('0x14c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x200.0,\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.0);',_0x55f3('0x14d'),'',_0x55f3('0x14e'),_0x55f3('0x14f'),_0x55f3('0x150'),'\x20\x20\x20\x20\x20\x20}','',_0x55f3('0x151'),_0x55f3('0x152'),'\x20\x20\x20\x20\x20\x20vec3\x20translated;','\x20\x20\x20\x20\x20\x20mat4\x20rotationMatrix;','\x20\x20\x20\x20\x20\x20float\x20angle\x20=\x200.0;',_0x55f3('0x153'),_0x55f3('0x154'),_0x55f3('0x155'),_0x55f3('0x156'),'\x20\x20\x20\x20\x20\x20return\x20center\x20-\x20vec3(\x20rotationMatrix\x20*\x20vec4(\x20translated,\x200.0\x20)\x20);',_0x55f3('0x14d'),'#endif'][_0x55f3('0x106')]('\x0a'),'rotateTexture':[_0x55f3('0x157'),'',_0x55f3('0x158'),'\x20\x20\x20\x20\x20\x20\x20float\x20x\x20=\x20gl_PointCoord.x\x20-\x200.5;',_0x55f3('0x159'),_0x55f3('0x15a'),'\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20-vAngle\x20);','\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20vec2(\x20c\x20*\x20x\x20+\x20s\x20*\x20y\x20+\x200.5,\x20c\x20*\x20y\x20-\x20s\x20*\x20x\x20+\x200.5\x20);',_0x55f3('0x15b'),'',_0x55f3('0x15c'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20framesX\x20=\x20vSpriteSheet.x;',_0x55f3('0x15d'),_0x55f3('0x15e'),_0x55f3('0x15f'),_0x55f3('0x160'),_0x55f3('0x161'),_0x55f3('0x15b'),'',_0x55f3('0x162')][_0x55f3('0x106')]('\x0a')},_0x339340['shaders']={'vertex':[_0x339340[_0x55f3('0x104')][_0x55f3('0x163')],_0x339340[_0x55f3('0x104')][_0x55f3('0x164')],_0x339340[_0x55f3('0x104')][_0x55f3('0x165')],_0x339340[_0x55f3('0x104')][_0x55f3('0x166')],THREE[_0x55f3('0x167')]['common'],THREE[_0x55f3('0x167')][_0x55f3('0x168')],THREE['ShaderChunk'][_0x55f3('0x169')],_0x339340[_0x55f3('0x104')]['branchAvoidanceFunctions'],_0x339340[_0x55f3('0x104')][_0x55f3('0x16a')],_0x339340[_0x55f3('0x104')]['unpackRotationAxis'],_0x339340['shaderChunks'][_0x55f3('0x16b')],_0x339340[_0x55f3('0x104')]['colorOverLifetime'],_0x339340[_0x55f3('0x104')]['paramFetchingFunctions'],_0x339340[_0x55f3('0x104')][_0x55f3('0x16c')],_0x339340[_0x55f3('0x104')]['rotationFunctions'],'void\x20main()\x20{',_0x55f3('0x16d'),'\x20\x20\x20\x20highp\x20float\x20alive\x20=\x20getAlive();',_0x55f3('0x16e'),_0x55f3('0x16f'),_0x55f3('0x170'),_0x55f3('0x171'),_0x55f3('0x172'),_0x55f3('0x173'),_0x55f3('0x174'),_0x55f3('0x15b'),_0x55f3('0x175'),_0x55f3('0x176'),_0x55f3('0x177'),_0x55f3('0x178'),_0x55f3('0x179'),_0x55f3('0x17a'),'\x20\x20\x20\x20force\x20*=\x20drag;',_0x55f3('0x17b'),_0x55f3('0x17c'),_0x55f3('0x171'),_0x55f3('0x17d'),_0x55f3('0x17e'),_0x55f3('0x17f'),_0x55f3('0x15b'),_0x55f3('0x180'),_0x55f3('0x181'),'\x20\x20\x20\x20#endif',_0x55f3('0x182'),'\x20\x20\x20\x20highp\x20float\x20pointSize\x20=\x20getFloatOverLifetime(\x20positionInTime,\x20size\x20)\x20*\x20isAlive;',_0x55f3('0x183'),_0x55f3('0x184'),_0x55f3('0x185'),_0x55f3('0x186'),_0x55f3('0x15b'),'\x20\x20\x20\x20float\x20pointSizePerspective\x20=\x20pointSize\x20*\x20perspective;',_0x55f3('0x187'),_0x55f3('0x188'),_0x55f3('0x189'),_0x55f3('0x18a'),_0x55f3('0x18b'),_0x55f3('0x18c'),_0x55f3('0x18d'),_0x55f3('0x18e'),'\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20vec3\x20c\x20=\x20vec3(1.0);',_0x55f3('0x15b'),'\x20\x20\x20\x20float\x20o\x20=\x20isAlive\x20*\x20getFloatOverLifetime(\x20positionInTime,\x20opacity\x20);','\x20\x20\x20\x20vColor\x20=\x20vec4(\x20c,\x20o\x20);',_0x55f3('0x158'),_0x55f3('0x18f'),'\x20\x20\x20\x20#endif',_0x55f3('0x15c'),_0x55f3('0x190'),_0x55f3('0x191'),'\x20\x20\x20\x20\x20\x20\x20\x20float\x20loopCount\x20=\x20textureAnimation.w;',_0x55f3('0x192'),_0x55f3('0x193'),_0x55f3('0x194'),_0x55f3('0x195'),_0x55f3('0x196'),_0x55f3('0x197'),_0x55f3('0x198'),_0x55f3('0x199'),_0x55f3('0x19a'),_0x55f3('0x19b'),'\x20\x20\x20\x20#endif',_0x55f3('0x19c'),'\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;',THREE[_0x55f3('0x167')][_0x55f3('0x19d')],THREE[_0x55f3('0x167')][_0x55f3('0x19e')],'}'][_0x55f3('0x106')]('\x0a'),'fragment':[_0x339340[_0x55f3('0x104')][_0x55f3('0x164')],THREE[_0x55f3('0x167')][_0x55f3('0x19f')],THREE[_0x55f3('0x167')][_0x55f3('0x1a0')],THREE[_0x55f3('0x167')][_0x55f3('0x1a1')],_0x339340[_0x55f3('0x104')]['varyings'],_0x339340[_0x55f3('0x104')][_0x55f3('0x1a2')],'void\x20main()\x20{',_0x55f3('0x1a3'),'\x20\x20\x20\x20',_0x55f3('0x1a4'),_0x55f3('0x1a5'),'\x20\x20\x20\x20#endif',_0x339340['shaderChunks']['rotateTexture'],THREE[_0x55f3('0x167')]['logdepthbuf_fragment'],'\x20\x20\x20\x20outgoingLight\x20=\x20vColor.xyz\x20*\x20rotatedTexture.xyz;','\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20outgoingLight.xyz,\x20rotatedTexture.w\x20*\x20vColor.w\x20);',THREE['ShaderChunk'][_0x55f3('0x1a6')],'}']['join']('\x0a')},_0x339340[_0x55f3('0x1a7')]={'types':{'BOOLEAN':_0x55f3('0x1a8'),'STRING':'string','NUMBER':_0x55f3('0x17'),'OBJECT':'object'},'ensureTypedArg':function(_0x468d8c,_0x448587,_0x1ace4a){return(void 0x0===_0x468d8c?'undefined':(0x0,_0x420049[_0x55f3('0x9')])(_0x468d8c))===_0x448587?_0x468d8c:_0x1ace4a;},'ensureArrayTypedArg':function(_0x468d8c,_0x448587,_0x1ace4a){if(Array[_0x55f3('0x1a9')](_0x468d8c)){for(var _0x4ca3fe=_0x468d8c[_0x55f3('0xf')]-0x1;0x0<=_0x4ca3fe;--_0x4ca3fe)if((0x0,_0x420049[_0x55f3('0x9')])(_0x468d8c[_0x4ca3fe])!==_0x448587)return _0x1ace4a;return _0x468d8c;}return this[_0x55f3('0x1aa')](_0x468d8c,_0x448587,_0x1ace4a);},'ensureInstanceOf':function(_0x468d8c,_0x448587,_0x1ace4a){return void 0x0!==_0x448587&&_0x468d8c instanceof _0x448587?_0x468d8c:_0x1ace4a;},'ensureArrayInstanceOf':function(_0x468d8c,_0x448587,_0x1ace4a){if(Array[_0x55f3('0x1a9')](_0x468d8c)){for(var _0x4ca3fe=_0x468d8c[_0x55f3('0xf')]-0x1;0x0<=_0x4ca3fe;--_0x4ca3fe)if(void 0x0!==_0x448587&&_0x468d8c[_0x4ca3fe]instanceof _0x448587==0x0)return _0x1ace4a;return _0x468d8c;}return this[_0x55f3('0x1ab')](_0x468d8c,_0x448587,_0x1ace4a);},'ensureValueOverLifetimeCompliance':function(_0x468d8c,_0x448587,_0x1ace4a){_0x448587=_0x448587||0x3,_0x1ace4a=_0x1ace4a||0x3,!0x1===Array[_0x55f3('0x1a9')](_0x468d8c[_0x55f3('0x1ac')])&&(_0x468d8c['_value']=[_0x468d8c[_0x55f3('0x1ac')]]),!0x1===Array['isArray'](_0x468d8c[_0x55f3('0x1ad')])&&(_0x468d8c[_0x55f3('0x1ad')]=[_0x468d8c[_0x55f3('0x1ad')]]);var _0x4ca3fe=this[_0x55f3('0x1ae')](_0x468d8c[_0x55f3('0x1ac')]['length'],_0x448587,_0x1ace4a),_0x448587=this[_0x55f3('0x1ae')](_0x468d8c[_0x55f3('0x1ad')][_0x55f3('0xf')],_0x448587,_0x1ace4a),_0x1ace4a=Math[_0x55f3('0xf2')](_0x4ca3fe,_0x448587);_0x468d8c[_0x55f3('0x1ac')][_0x55f3('0xf')]!==_0x1ace4a&&(_0x468d8c[_0x55f3('0x1ac')]=this['interpolateArray'](_0x468d8c[_0x55f3('0x1ac')],_0x1ace4a)),_0x468d8c[_0x55f3('0x1ad')]['length']!==_0x1ace4a&&(_0x468d8c[_0x55f3('0x1ad')]=this[_0x55f3('0x1af')](_0x468d8c[_0x55f3('0x1ad')],_0x1ace4a));},'interpolateArray':function(_0x468d8c,_0x448587){for(var _0x1ace4a=_0x468d8c[_0x55f3('0xf')],_0x4ca3fe=[_0x55f3('0x1c')==typeof _0x468d8c[0x0][_0x55f3('0x1b0')]?_0x468d8c[0x0][_0x55f3('0x1b0')]():_0x468d8c[0x0]],_0x4246b0=(_0x1ace4a-0x1)/(_0x448587-0x1),_0x60fd65=0x1;_0x60fd65<_0x448587-0x1;++_0x60fd65){var _0x420049=_0x60fd65*_0x4246b0,_0x862d67=Math[_0x55f3('0x64')](_0x420049),_0x431b62=Math[_0x55f3('0x63')](_0x420049);_0x4ca3fe[_0x60fd65]=this[_0x55f3('0x1b1')](_0x468d8c[_0x862d67],_0x468d8c[_0x431b62],_0x420049-_0x862d67);}return _0x4ca3fe[_0x55f3('0x73')]('function'==typeof _0x468d8c[_0x1ace4a-0x1]['clone']?_0x468d8c[_0x1ace4a-0x1][_0x55f3('0x1b0')]():_0x468d8c[_0x1ace4a-0x1]),_0x4ca3fe;},'clamp':function(_0x468d8c,_0x448587,_0x1ace4a){return Math[_0x55f3('0xf2')](_0x448587,Math[_0x55f3('0x8c')](_0x468d8c,_0x1ace4a));},'zeroToEpsilon':function(_0x468d8c,_0x448587){var _0x1ace4a=_0x468d8c,_0x1ace4a=_0x448587?0.00001*Math[_0x55f3('0x60')]()*0xa:0.00001;return _0x468d8c<0x0&&-0.00001<_0x468d8c?-_0x1ace4a:_0x1ace4a;},'lerpTypeAgnostic':function(_0x468d8c,_0x448587,_0x1ace4a){var _0x4ca3fe,_0x4246b0=this[_0x55f3('0x1b2')];return(void 0x0===_0x468d8c?_0x55f3('0x2'):(0x0,_0x420049[_0x55f3('0x9')])(_0x468d8c))===_0x4246b0[_0x55f3('0x1b3')]&&(void 0x0===_0x448587?_0x55f3('0x2'):(0x0,_0x420049[_0x55f3('0x9')])(_0x448587))===_0x4246b0[_0x55f3('0x1b3')]?_0x468d8c+(_0x448587-_0x468d8c)*_0x1ace4a:_0x468d8c instanceof THREE[_0x55f3('0x1b4')]&&_0x448587 instanceof THREE['Vector2']?((_0x4ca3fe=_0x468d8c[_0x55f3('0x1b0')]())['x']=this[_0x55f3('0x1b5')](_0x468d8c['x'],_0x448587['x'],_0x1ace4a),_0x4ca3fe['y']=this[_0x55f3('0x1b5')](_0x468d8c['y'],_0x448587['y'],_0x1ace4a),_0x4ca3fe):_0x468d8c instanceof THREE[_0x55f3('0x5a')]&&_0x448587 instanceof THREE['Vector3']?((_0x4ca3fe=_0x468d8c['clone']())['x']=this[_0x55f3('0x1b5')](_0x468d8c['x'],_0x448587['x'],_0x1ace4a),_0x4ca3fe['y']=this[_0x55f3('0x1b5')](_0x468d8c['y'],_0x448587['y'],_0x1ace4a),_0x4ca3fe['z']=this['lerp'](_0x468d8c['z'],_0x448587['z'],_0x1ace4a),_0x4ca3fe):_0x468d8c instanceof THREE[_0x55f3('0x1b6')]&&_0x448587 instanceof THREE[_0x55f3('0x1b6')]?((_0x4ca3fe=_0x468d8c[_0x55f3('0x1b0')]())['x']=this[_0x55f3('0x1b5')](_0x468d8c['x'],_0x448587['x'],_0x1ace4a),_0x4ca3fe['y']=this[_0x55f3('0x1b5')](_0x468d8c['y'],_0x448587['y'],_0x1ace4a),_0x4ca3fe['z']=this['lerp'](_0x468d8c['z'],_0x448587['z'],_0x1ace4a),_0x4ca3fe['w']=this[_0x55f3('0x1b5')](_0x468d8c['w'],_0x448587['w'],_0x1ace4a),_0x4ca3fe):_0x468d8c instanceof THREE['Color']&&_0x448587 instanceof THREE[_0x55f3('0x1b7')]?((_0x4ca3fe=_0x468d8c['clone']())['r']=this[_0x55f3('0x1b5')](_0x468d8c['r'],_0x448587['r'],_0x1ace4a),_0x4ca3fe['g']=this['lerp'](_0x468d8c['g'],_0x448587['g'],_0x1ace4a),_0x4ca3fe['b']=this['lerp'](_0x468d8c['b'],_0x448587['b'],_0x1ace4a),_0x4ca3fe):void 0x0;},'lerp':function(_0x468d8c,_0x448587,_0x1ace4a){return _0x468d8c+(_0x448587-_0x468d8c)*_0x1ace4a;},'roundToNearestMultiple':function(_0x468d8c,_0x448587){var _0x1ace4a;return 0x0===_0x448587||0x0==(_0x1ace4a=Math[_0x55f3('0x1b8')](_0x468d8c)%_0x448587)?_0x468d8c:_0x468d8c<0x0?-(Math[_0x55f3('0x1b8')](_0x468d8c)-_0x1ace4a):_0x468d8c+_0x448587-_0x1ace4a;},'arrayValuesAreEqual':function(_0x468d8c){for(var _0x448587=0x0;_0x448587<_0x468d8c[_0x55f3('0xf')]-0x1;++_0x448587)if(_0x468d8c[_0x448587]!==_0x468d8c[_0x448587+0x1])return!0x1;return!0x0;},'randomFloat':function(_0x468d8c,_0x448587){return _0x468d8c+_0x448587*(Math['random']()-0.5);},'randomVector3':function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0){var _0x60fd65=_0x1ace4a['x']+(Math['random']()*_0x4ca3fe['x']-0.5*_0x4ca3fe['x']),_0x420049=_0x1ace4a['y']+(Math['random']()*_0x4ca3fe['y']-0.5*_0x4ca3fe['y']),_0x1ace4a=_0x1ace4a['z']+(Math[_0x55f3('0x60')]()*_0x4ca3fe['z']-0.5*_0x4ca3fe['z']);_0x4246b0&&(_0x60fd65=0.5*-_0x4246b0['x']+this[_0x55f3('0x1b9')](_0x60fd65,_0x4246b0['x']),_0x420049=0.5*-_0x4246b0['y']+this['roundToNearestMultiple'](_0x420049,_0x4246b0['y']),_0x1ace4a=0.5*-_0x4246b0['z']+this[_0x55f3('0x1b9')](_0x1ace4a,_0x4246b0['z'])),_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xe1')](_0x448587,_0x60fd65,_0x420049,_0x1ace4a);},'randomColor':function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){var _0x4246b0=_0x1ace4a['r']+Math[_0x55f3('0x60')]()*_0x4ca3fe['x'],_0x60fd65=_0x1ace4a['g']+Math['random']()*_0x4ca3fe['y'],_0x1ace4a=_0x1ace4a['b']+Math[_0x55f3('0x60')]()*_0x4ca3fe['z'],_0x4246b0=this[_0x55f3('0x1ae')](_0x4246b0,0x0,0x1),_0x60fd65=this[_0x55f3('0x1ae')](_0x60fd65,0x0,0x1),_0x1ace4a=this[_0x55f3('0x1ae')](_0x1ace4a,0x0,0x1);_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xe1')](_0x448587,_0x4246b0,_0x60fd65,_0x1ace4a);},'randomColorAsHex':(_0x4470b1=new THREE[(_0x55f3('0x1b7'))](),function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){for(var _0x4246b0=_0x1ace4a[_0x55f3('0xf')],_0x60fd65=[],_0x420049=0x0;_0x420049<_0x4246b0;++_0x420049){var _0x862d67=_0x4ca3fe[_0x420049];_0x4470b1[_0x55f3('0x1ba')](_0x1ace4a[_0x420049]),_0x4470b1['r']+=Math[_0x55f3('0x60')]()*_0x862d67['x']-0.5*_0x862d67['x'],_0x4470b1['g']+=Math[_0x55f3('0x60')]()*_0x862d67['y']-0.5*_0x862d67['y'],_0x4470b1['b']+=Math[_0x55f3('0x60')]()*_0x862d67['z']-0.5*_0x862d67['z'],_0x4470b1['r']=this[_0x55f3('0x1ae')](_0x4470b1['r'],0x0,0x1),_0x4470b1['g']=this[_0x55f3('0x1ae')](_0x4470b1['g'],0x0,0x1),_0x4470b1['b']=this[_0x55f3('0x1ae')](_0x4470b1['b'],0x0,0x1),_0x60fd65[_0x55f3('0x73')](_0x4470b1[_0x55f3('0x1bb')]());}_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xe3')](_0x448587,_0x60fd65[0x0],_0x60fd65[0x1],_0x60fd65[0x2],_0x60fd65[0x3]);}),'randomVector3OnSphere':function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0,_0x60fd65,_0x420049,_0x862d67,_0x431b62){var _0x155716=0x2*Math['random']()-0x1,_0x3223b7=6.2832*Math[_0x55f3('0x60')](),_0x4ce985=Math[_0x55f3('0x1bc')](0x1-_0x155716*_0x155716),_0x4ca3fe=this[_0x55f3('0x1bd')](_0x4ca3fe,_0x4246b0),_0x4246b0=0x0;_0x420049&&(_0x4ca3fe=Math[_0x55f3('0x1be')](_0x4ca3fe/_0x420049)*_0x420049),_0x420049=_0x4ce985*Math['cos'](_0x3223b7)*_0x4ca3fe,_0x4246b0=_0x4ce985*Math[_0x55f3('0x5b')](_0x3223b7)*_0x4ca3fe,_0x4ce985=_0x155716*_0x4ca3fe,_0x420049*=_0x60fd65['x'],_0x4246b0*=_0x60fd65['y'],_0x4ce985*=_0x60fd65['z'],_0x420049+=_0x1ace4a['x'],_0x4246b0+=_0x1ace4a['y'],_0x4ce985+=_0x1ace4a['z'],_0x431b62[_0x55f3('0x1bf')]&&(_0x4246b0=_0x431b62[_0x55f3('0x1c0')]>_0x4246b0?-_0x4246b0+_0x431b62['clipHeight']:_0x4246b0),_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xe1')](_0x448587,_0x420049,_0x4246b0,_0x4ce985);},'seededRandom':function(_0x468d8c){_0x468d8c=0x2710*Math[_0x55f3('0x5b')](_0x468d8c);return _0x468d8c-(0x0|_0x468d8c);},'randomVector3OnDisc':function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0,_0x60fd65,_0x420049){var _0x862d67=6.2832*Math[_0x55f3('0x60')](),_0x4ca3fe=Math[_0x55f3('0x1b8')](this['randomFloat'](_0x4ca3fe,_0x4246b0)),_0x4246b0=0x0;_0x420049&&(_0x4ca3fe=Math[_0x55f3('0x1be')](_0x4ca3fe/_0x420049)*_0x420049),_0x420049=Math[_0x55f3('0x5c')](_0x862d67)*_0x4ca3fe,_0x862d67=Math['sin'](_0x862d67)*_0x4ca3fe,_0x420049*=_0x60fd65['x'],_0x862d67*=_0x60fd65['y'],_0x420049+=_0x1ace4a['x'],_0x862d67+=_0x1ace4a['y'],_0x4246b0+=_0x1ace4a['z'],_0x468d8c['typedArray'][_0x55f3('0xe1')](_0x448587,_0x420049,_0x862d67,_0x4246b0);},'randomDirectionVector3OnSphere':(_0x4a65ea=new THREE['Vector3'](),function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0,_0x60fd65,_0x420049,_0x862d67){_0x4a65ea[_0x55f3('0x1ba')](_0x60fd65),_0x4a65ea['x']-=_0x1ace4a,_0x4a65ea['y']-=_0x4ca3fe,_0x4a65ea['z']-=_0x4246b0,_0x4a65ea['normalize']()[_0x55f3('0x1c1')](-this[_0x55f3('0x1bd')](_0x420049,_0x862d67)),_0x468d8c[_0x55f3('0xf6')]['setVec3Components'](_0x448587,_0x4a65ea['x'],_0x4a65ea['y'],_0x4a65ea['z']);}),'randomDirectionVector3OnDisc':(_0x100e6b=new THREE['Vector3'](),function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe,_0x4246b0,_0x60fd65,_0x420049,_0x862d67){_0x100e6b[_0x55f3('0x1ba')](_0x60fd65),_0x100e6b['x']-=_0x1ace4a,_0x100e6b['y']-=_0x4ca3fe,_0x100e6b['z']-=_0x4246b0,_0x100e6b[_0x55f3('0x1c2')]()['multiplyScalar'](-this['randomFloat'](_0x420049,_0x862d67)),_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xe1')](_0x448587,_0x100e6b['x'],_0x100e6b['y'],0x0);}),'getPackedRotationAxis':(_0x431b62=new THREE[(_0x55f3('0x5a'))](),_0x155716=new THREE[(_0x55f3('0x5a'))](),_0x3223b7=new THREE[(_0x55f3('0x1b7'))](),_0x4ce985=new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1),function(_0x468d8c,_0x448587){return _0x431b62['copy'](_0x468d8c)[_0x55f3('0x1c2')](),_0x155716[_0x55f3('0x1ba')](_0x448587)[_0x55f3('0x1c2')](),_0x431b62['x']+=0.5*-_0x448587['x']+Math[_0x55f3('0x60')]()*_0x448587['x'],_0x431b62['y']+=0.5*-_0x448587['y']+Math[_0x55f3('0x60')]()*_0x448587['y'],_0x431b62['z']+=0.5*-_0x448587['z']+Math[_0x55f3('0x60')]()*_0x448587['z'],_0x431b62[_0x55f3('0x1c2')]()[_0x55f3('0x1c3')](_0x4ce985)[_0x55f3('0x1c1')](0.5),_0x3223b7['setRGB'](_0x431b62['x'],_0x431b62['y'],_0x431b62['z']),_0x3223b7[_0x55f3('0x1bb')]();})},_0x339340[_0x55f3('0x1c4')]=function(_0x468d8c){var _0x448587=_0x339340[_0x55f3('0x1a7')],_0x1ace4a=_0x448587[_0x55f3('0x1b2')];(_0x468d8c=_0x448587[_0x55f3('0x1aa')](_0x468d8c,_0x1ace4a[_0x55f3('0x1c5')],{}))[_0x55f3('0x1c6')]=_0x448587['ensureTypedArg'](_0x468d8c[_0x55f3('0x1c6')],_0x1ace4a['OBJECT'],{}),this[_0x55f3('0x1c7')]=THREE[_0x55f3('0x18')][_0x55f3('0x1c8')](),this[_0x55f3('0x1c9')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c['fixedTimeStep'],_0x1ace4a[_0x55f3('0x1b3')],0.016),this[_0x55f3('0x1c6')]=_0x448587['ensureInstanceOf'](_0x468d8c[_0x55f3('0x1c6')][_0x55f3('0x12')],THREE[_0x55f3('0x1ca')],null),this[_0x55f3('0x1cb')]=_0x448587['ensureInstanceOf'](_0x468d8c['texture'][_0x55f3('0x1cc')],THREE[_0x55f3('0x1b4')],new THREE[(_0x55f3('0x1b4'))](0x1,0x1)),this[_0x55f3('0x1cd')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c['texture']['frameCount'],_0x1ace4a[_0x55f3('0x1b3')],this[_0x55f3('0x1cb')]['x']*this['textureFrames']['y']),this['textureLoop']=_0x448587[_0x55f3('0x1aa')](_0x468d8c['texture'][_0x55f3('0x1ce')],_0x1ace4a[_0x55f3('0x1b3')],0x1),this[_0x55f3('0x1cb')][_0x55f3('0xf2')](new THREE[(_0x55f3('0x1b4'))](0x1,0x1)),this[_0x55f3('0x1cf')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1cf')],_0x1ace4a[_0x55f3('0x1d0')],!0x0),this[_0x55f3('0x1d1')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d1')],_0x1ace4a['BOOLEAN'],!0x0),this[_0x55f3('0x1d2')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c['maxParticleCount'],_0x1ace4a['NUMBER'],null),this['isClipHeight']=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1bf')],_0x1ace4a[_0x55f3('0x1d0')],!0x1),this[_0x55f3('0x1c0')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1c0')],_0x1ace4a['NUMBER'],0x0),this[_0x55f3('0x1d3')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d3')],_0x1ace4a['NUMBER'],THREE[_0x55f3('0x1d4')]),this['transparent']=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d5')],_0x1ace4a[_0x55f3('0x1d0')],!0x0),this['alphaTest']=parseFloat(_0x448587['ensureTypedArg'](_0x468d8c[_0x55f3('0x1d6')],_0x1ace4a['NUMBER'],0x0)),this[_0x55f3('0x1d7')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d7')],_0x1ace4a[_0x55f3('0x1d0')],!0x1),this['depthTest']=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d8')],_0x1ace4a['BOOLEAN'],!0x0),this['fog']=_0x448587[_0x55f3('0x1aa')](_0x468d8c['fog'],_0x1ace4a['BOOLEAN'],!0x0),this[_0x55f3('0x1d9')]=_0x448587[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1d9')],_0x1ace4a['NUMBER'],0x12c),this[_0x55f3('0x1da')]=[],this[_0x55f3('0x1db')]=[],this[_0x55f3('0x1dc')]=[],this[_0x55f3('0x1dd')]=null,this[_0x55f3('0x1de')]=0x0,this[_0x55f3('0x1df')]=!0x1,this[_0x55f3('0x1e0')]=!0x1,this['particleCount']=0x0,this[_0x55f3('0x164')]={'texture1':{'type':'t','value':this[_0x55f3('0x1c6')]},'textureAnimation':{'type':'v4','value':new THREE[(_0x55f3('0x1b6'))](this['textureFrames']['x'],this[_0x55f3('0x1cb')]['y'],this[_0x55f3('0x1cd')],Math[_0x55f3('0xf2')](Math[_0x55f3('0x1b8')](this[_0x55f3('0x1e1')]),0x1))},'fogColor':{'type':'c','value':null},'fogNear':{'type':'f','value':0xa},'fogFar':{'type':'f','value':0xc8},'fogDensity':{'type':'f','value':0.5},'deltaTime':{'type':'f','value':0x0},'runTime':{'type':'f','value':0x0},'scale':{'type':'f','value':this['scale']}},this['defines']={'HAS_PERSPECTIVE':this[_0x55f3('0x1cf')],'COLORIZE':this[_0x55f3('0x1d1')],'VALUE_OVER_LIFETIME_LENGTH':_0x339340[_0x55f3('0x1e2')],'SHOULD_ROTATE_TEXTURE':!0x1,'SHOULD_ROTATE_PARTICLES':!0x1,'SHOULD_WIGGLE_PARTICLES':!0x1,'SHOULD_CALCULATE_SPRITE':0x1<this[_0x55f3('0x1cb')]['x']||0x1<this[_0x55f3('0x1cb')]['y']},this[_0x55f3('0x165')]={'position':new _0x339340[(_0x55f3('0xea'))]('v3',!0x0),'acceleration':new _0x339340['ShaderAttribute']('v4',!0x0),'velocity':new _0x339340[(_0x55f3('0xea'))]('v3',!0x0),'rotation':new _0x339340['ShaderAttribute']('v4',!0x0),'rotationCenter':new _0x339340['ShaderAttribute']('v3',!0x0),'params':new _0x339340[(_0x55f3('0xea'))]('v4',!0x0),'size':new _0x339340['ShaderAttribute']('v4',!0x0),'angle':new _0x339340[(_0x55f3('0xea'))]('v4',!0x0),'color':new _0x339340[(_0x55f3('0xea'))]('v4',!0x0),'opacity':new _0x339340['ShaderAttribute']('v4',!0x0)},this[_0x55f3('0x1e3')]=(0x0,_0x60fd65[_0x55f3('0x9')])(this['attributes']),this[_0x55f3('0x1e4')]=this[_0x55f3('0x1e3')][_0x55f3('0xf')],this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x1e5'))]({'uniforms':this['uniforms'],'vertexShader':_0x339340['shaders'][_0x55f3('0x1e6')],'fragmentShader':_0x339340[_0x55f3('0x1e7')]['fragment'],'blending':this[_0x55f3('0x1d3')],'transparent':this[_0x55f3('0x1d5')],'alphaTest':this[_0x55f3('0x1d6')],'depthWrite':this[_0x55f3('0x1d7')],'depthTest':this['depthTest'],'defines':this['defines'],'fog':this[_0x55f3('0x1e8')]}),this['geometry']=new THREE[(_0x55f3('0x1e9'))](),this[_0x55f3('0x1ea')]=new THREE['Points'](this[_0x55f3('0x95')],this[_0x55f3('0x3f')]),this[_0x55f3('0x1d2')];},_0x339340[_0x55f3('0x1c4')]['constructor']=_0x339340[_0x55f3('0x1c4')],_0x339340['Group'][_0x55f3('0x15')]['_updateDefines']=function(){for(var _0x468d8c,_0x448587=this[_0x55f3('0x1da')],_0x1ace4a=_0x448587[_0x55f3('0xf')]-0x1,_0x4ca3fe=this[_0x55f3('0x163')];0x0<=_0x1ace4a;--_0x1ace4a)_0x468d8c=_0x448587[_0x1ace4a],_0x4ca3fe['SHOULD_CALCULATE_SPRITE']||(_0x4ca3fe['SHOULD_ROTATE_TEXTURE']=_0x4ca3fe[_0x55f3('0x1eb')]||!!Math[_0x55f3('0xf2')](Math[_0x55f3('0xf2')]['apply'](null,_0x468d8c[_0x55f3('0x1ec')][_0x55f3('0x12')]),Math['max'][_0x55f3('0x1f')](null,_0x468d8c[_0x55f3('0x1ec')][_0x55f3('0x1ed')]))),_0x4ca3fe[_0x55f3('0x1ee')]=_0x4ca3fe['SHOULD_ROTATE_PARTICLES']||!!Math['max'](_0x468d8c[_0x55f3('0x1ef')]['angle'],_0x468d8c['rotation'][_0x55f3('0x1f0')]),_0x4ca3fe['SHOULD_WIGGLE_PARTICLES']=_0x4ca3fe['SHOULD_WIGGLE_PARTICLES']||!!Math[_0x55f3('0xf2')](_0x468d8c[_0x55f3('0x1f1')][_0x55f3('0x12')],_0x468d8c[_0x55f3('0x1f1')][_0x55f3('0x1ed')]);this[_0x55f3('0x3f')]['needsUpdate']=!0x0;},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')]['_applyAttributesToGeometry']=function(){var _0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe=this[_0x55f3('0x165')],_0x4246b0=this['geometry'],_0x60fd65=_0x4246b0[_0x55f3('0x165')];for(_0x1ace4a in _0x4ca3fe)_0x4ca3fe['hasOwnProperty'](_0x1ace4a)&&(_0x468d8c=_0x4ca3fe[_0x1ace4a],(_0x448587=_0x60fd65[_0x1ace4a])?_0x448587[_0x55f3('0xd4')]=_0x468d8c[_0x55f3('0xf6')][_0x55f3('0xd4')]:_0x4246b0[_0x55f3('0x1f2')](_0x1ace4a,_0x468d8c[_0x55f3('0xec')]),_0x468d8c['bufferAttribute']['needsUpdate']=!0x0);this[_0x55f3('0x95')][_0x55f3('0x1f3')](0x0,this['particleCount']);},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')]['addEmitter']=function(_0x468d8c){if(_0x468d8c instanceof _0x339340[_0x55f3('0x1f4')]==0x0)console[_0x55f3('0x1f5')](_0x55f3('0x1f6'),_0x468d8c);else if(-0x1<this['emitterIDs']['indexOf'](_0x468d8c['uuid']))console[_0x55f3('0x1f5')]('Emitter\x20already\x20exists\x20in\x20this\x20group.\x20Will\x20not\x20add\x20again.');else{if(null===_0x468d8c[_0x55f3('0x1f7')]){var _0x448587,_0x1ace4a=this[_0x55f3('0x165')],_0x4ca3fe=this['particleCount'],_0x4246b0=_0x4ca3fe+_0x468d8c[_0x55f3('0x1f8')];for(_0x448587 in this['particleCount']=_0x4246b0,null!==this[_0x55f3('0x1d2')]&&this[_0x55f3('0x1f8')]>this[_0x55f3('0x1d2')]&&(this[_0x55f3('0x1f8')],this[_0x55f3('0x1d2')]),_0x468d8c['_calculatePPSValue'](_0x468d8c[_0x55f3('0x1f9')][_0x55f3('0x1ac')]+_0x468d8c[_0x55f3('0x1f9')][_0x55f3('0x1ad')]),_0x468d8c[_0x55f3('0x1fa')](this['attributeKeys']),_0x468d8c['_setAttributeOffset'](_0x4ca3fe),_0x468d8c[_0x55f3('0x1f7')]=this,_0x468d8c[_0x55f3('0x165')]=this[_0x55f3('0x165')],_0x1ace4a)_0x1ace4a[_0x55f3('0xc')](_0x448587)&&_0x1ace4a[_0x448587]['_createBufferAttribute'](null!==this[_0x55f3('0x1d2')]?this[_0x55f3('0x1d2')]:this[_0x55f3('0x1f8')]);for(var _0x60fd65=_0x4ca3fe;_0x60fd65<_0x4246b0;++_0x60fd65)_0x468d8c[_0x55f3('0x1fb')](_0x60fd65,this),_0x468d8c[_0x55f3('0x1fc')](_0x60fd65,_0x55f3('0x1fd')),_0x468d8c['_assignForceValue'](_0x60fd65,_0x55f3('0x1fe')),_0x468d8c['_assignAbsLifetimeValue'](_0x60fd65,'opacity'),_0x468d8c[_0x55f3('0x1ff')](_0x60fd65,'size'),_0x468d8c[_0x55f3('0x200')](_0x60fd65),_0x468d8c[_0x55f3('0x201')](_0x60fd65),_0x468d8c[_0x55f3('0x202')](_0x60fd65),_0x468d8c[_0x55f3('0x203')](_0x60fd65);return this[_0x55f3('0x204')](),this['emitters'][_0x55f3('0x73')](_0x468d8c),this[_0x55f3('0x1db')][_0x55f3('0x73')](_0x468d8c['uuid']),this[_0x55f3('0x205')](_0x468d8c),this[_0x55f3('0x3f')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x95')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x1df')]=!0x0,this;}console[_0x55f3('0x1f5')](_0x55f3('0x206'));}},_0x339340[_0x55f3('0x1c4')]['prototype'][_0x55f3('0x207')]=function(_0x468d8c){var _0x448587=this[_0x55f3('0x1db')][_0x55f3('0x4b')](_0x468d8c[_0x55f3('0x1c7')]);if(_0x468d8c instanceof _0x339340[_0x55f3('0x1f4')]==0x0)console['error'](_0x55f3('0x1f6'),_0x468d8c);else if(-0x1===_0x448587)console[_0x55f3('0x1f5')](_0x55f3('0x208'));else{for(var _0x1ace4a,_0x4ca3fe=_0x468d8c['attributeOffset'],_0x4246b0=_0x4ca3fe+_0x468d8c[_0x55f3('0x1f8')],_0x60fd65=this['attributes'][_0x55f3('0x209')]['typedArray'],_0x420049=_0x4ca3fe;_0x420049<_0x4246b0;++_0x420049)_0x60fd65['array'][0x4*_0x420049]=0x0,_0x60fd65[_0x55f3('0xd4')][0x4*_0x420049+0x1]=0x0;for(_0x1ace4a in this[_0x55f3('0x1da')]['splice'](_0x448587,0x1),this[_0x55f3('0x1db')][_0x55f3('0x80')](_0x448587,0x1),this['attributes'])this[_0x55f3('0x165')][_0x55f3('0xc')](_0x1ace4a)&&this[_0x55f3('0x165')][_0x1ace4a][_0x55f3('0x80')](_0x4ca3fe,_0x4246b0);this[_0x55f3('0x1f8')]-=_0x468d8c[_0x55f3('0x1f8')],_0x468d8c[_0x55f3('0x20a')](),this[_0x55f3('0x1df')]=!0x0;}},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x20b')]=function(){var _0x468d8c=this[_0x55f3('0x1dc')],_0x448587=this['_createNewWhenPoolEmpty'];return _0x468d8c[_0x55f3('0xf')]?_0x468d8c[_0x55f3('0x20c')]():_0x448587?(_0x468d8c=new _0x339340[(_0x55f3('0x1f4'))](this[_0x55f3('0x1dd')]),this[_0x55f3('0x20d')](_0x468d8c),_0x468d8c):null;},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x20e')]=function(_0x468d8c){if(_0x468d8c instanceof _0x339340[_0x55f3('0x1f4')]!=0x0)return _0x468d8c[_0x55f3('0x20f')](),this['_pool']['unshift'](_0x468d8c),this;console[_0x55f3('0x1f5')](_0x55f3('0x210'),_0x468d8c);},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x211')]=function(){return this[_0x55f3('0x1dc')];},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x212')]=function(_0x468d8c,_0x448587,_0x1ace4a){var _0x4ca3fe;this['_poolCreationSettings']=_0x448587,this['_createNewWhenPoolEmpty']=!!_0x1ace4a;for(var _0x4246b0=0x0;_0x4246b0<_0x468d8c;++_0x4246b0)_0x4ca3fe=Array[_0x55f3('0x1a9')](_0x448587)?new _0x339340[(_0x55f3('0x1f4'))](_0x448587[_0x4246b0]):new _0x339340[(_0x55f3('0x1f4'))](_0x448587),this[_0x55f3('0x20d')](_0x4ca3fe),this[_0x55f3('0x20e')](_0x4ca3fe);return this;},_0x339340['Group']['prototype'][_0x55f3('0x213')]=function(_0x468d8c){var _0x448587=this[_0x55f3('0x20b')](),_0x1ace4a=this;if(null!==_0x448587)return _0x468d8c instanceof THREE['Vector3']&&(_0x448587[_0x55f3('0x38')][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x468d8c),_0x448587['position'][_0x55f3('0x12')]=_0x448587[_0x55f3('0x38')][_0x55f3('0x12')]),_0x448587[_0x55f3('0x214')](),setTimeout(function(){_0x448587[_0x55f3('0x215')](),_0x1ace4a['releaseIntoPool'](_0x448587);},0x3e8*Math['max'](_0x448587[_0x55f3('0x216')],_0x448587[_0x55f3('0x1f9')][_0x55f3('0x12')]+_0x448587[_0x55f3('0x1f9')][_0x55f3('0x1ed')])),this;},_0x339340['Group'][_0x55f3('0x15')][_0x55f3('0x217')]=function(_0x468d8c,_0x448587){if(_0x55f3('0x17')==typeof _0x468d8c&&0x1<_0x468d8c)for(var _0x1ace4a=0x0;_0x1ace4a<_0x468d8c;++_0x1ace4a)this[_0x55f3('0x213')](_0x448587);else this[_0x55f3('0x213')](_0x448587);return this;},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x218')]=function(_0x468d8c){this[_0x55f3('0x164')][_0x55f3('0x219')][_0x55f3('0x12')]+=_0x468d8c,this[_0x55f3('0x164')][_0x55f3('0x21a')][_0x55f3('0x12')]=_0x468d8c;},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')]['_resetBufferRanges']=function(){for(var _0x468d8c=this[_0x55f3('0x1e3')],_0x448587=this[_0x55f3('0x1e4')]-0x1,_0x1ace4a=this[_0x55f3('0x165')];0x0<=_0x448587;--_0x448587)_0x1ace4a[_0x468d8c[_0x448587]][_0x55f3('0xf8')]();},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x21b')]=function(_0x468d8c){for(var _0x448587,_0x1ace4a,_0x4ca3fe=this['attributeKeys'],_0x4246b0=this[_0x55f3('0x1e4')]-0x1,_0x60fd65=this[_0x55f3('0x165')],_0x420049=_0x468d8c[_0x55f3('0x21c')];0x0<=_0x4246b0;--_0x4246b0)_0x448587=_0x420049[_0x1ace4a=_0x4ca3fe[_0x4246b0]],(_0x1ace4a=_0x60fd65[_0x1ace4a])['setUpdateRange'](_0x448587[_0x55f3('0x8c')],_0x448587['max']),_0x1ace4a[_0x55f3('0xf3')]();},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x21d')]=function(_0x468d8c){var _0x448587=this[_0x55f3('0x1da')],_0x1ace4a=_0x448587[_0x55f3('0xf')],_0x4ca3fe=_0x468d8c||this[_0x55f3('0x1c9')],_0x4246b0=this[_0x55f3('0x1e3')],_0x60fd65=this[_0x55f3('0x165')];if(this[_0x55f3('0x218')](_0x4ca3fe),this['_resetBufferRanges'](),0x0!==_0x1ace4a||!0x1!==this[_0x55f3('0x1df')]||!0x1!==this[_0x55f3('0x1e0')]){for(var _0x420049,_0x862d67=0x0;_0x862d67<_0x1ace4a;++_0x862d67)(_0x420049=_0x448587[_0x862d67])[_0x55f3('0x21d')](_0x4ca3fe),this[_0x55f3('0x21b')](_0x420049);if(!0x0===this[_0x55f3('0x1e0')]){for(_0x862d67=this['attributeCount']-0x1;0x0<=_0x862d67;--_0x862d67)_0x60fd65[_0x4246b0[_0x862d67]][_0x55f3('0xf9')]();this['_attributesNeedDynamicReset']=!0x1;}if(!0x0===this['_attributesNeedRefresh']){for(_0x862d67=this[_0x55f3('0x1e4')]-0x1;0x0<=_0x862d67;--_0x862d67)_0x60fd65[_0x4246b0[_0x862d67]]['forceUpdateAll']();this[_0x55f3('0x1df')]=!0x1,this[_0x55f3('0x1e0')]=!0x0;}}},_0x339340[_0x55f3('0x1c4')][_0x55f3('0x15')][_0x55f3('0x93')]=function(){return this[_0x55f3('0x95')][_0x55f3('0x93')](),this['material'][_0x55f3('0x93')](),this;},_0x339340['Emitter']=function(_0x468d8c){var _0x448587,_0x1ace4a=_0x339340['utils'],_0x4ca3fe=_0x1ace4a[_0x55f3('0x1b2')],_0x4246b0=_0x339340['valueOverLifetimeLength'];for(_0x448587 in(_0x468d8c=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c,_0x4ca3fe[_0x55f3('0x1c5')],{}))[_0x55f3('0x38')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['position'],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1fd')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x1fd')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1fe')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['acceleration'],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c['radius']=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x21e')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x21f')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x21f')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1ef')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1ef')],_0x4ca3fe['OBJECT'],{}),_0x468d8c[_0x55f3('0x220')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x220')],_0x4ca3fe['OBJECT'],{}),_0x468d8c[_0x55f3('0x221')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x221')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0xd2')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0xd2')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1ec')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x1ec')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1f1')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['wiggle'],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x1f9')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x1f9')],_0x4ca3fe[_0x55f3('0x1c5')],{}),_0x468d8c[_0x55f3('0x222')],this[_0x55f3('0x1c7')]=THREE[_0x55f3('0x18')]['generateUUID'](),this[_0x55f3('0xeb')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0xeb')],_0x4ca3fe[_0x55f3('0x1b3')],_0x339340[_0x55f3('0x223')]['BOX']),this[_0x55f3('0x38')]={'_value':_0x1ace4a['ensureInstanceOf'](_0x468d8c['position'][_0x55f3('0x12')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_spread':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c['position'][_0x55f3('0x1ed')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_spreadClamp':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x224')],THREE[_0x55f3('0x5a')],new THREE['Vector3']()),'_distribution':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x225')],_0x4ca3fe[_0x55f3('0x1b3')],this[_0x55f3('0xeb')]),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['position'][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'_radius':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x21e')],_0x4ca3fe[_0x55f3('0x1b3')],0xa),'_radiusScale':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x227')],THREE[_0x55f3('0x5a')],new THREE['Vector3'](0x1,0x1,0x1)),'_distributionClamp':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')]['distributionClamp'],_0x4ca3fe[_0x55f3('0x1b3')],0x0)},this[_0x55f3('0x1fd')]={'_value':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c['velocity'][_0x55f3('0x12')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_spread':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x1fd')][_0x55f3('0x1ed')],THREE[_0x55f3('0x5a')],new THREE['Vector3']()),'_distribution':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1fd')][_0x55f3('0x225')],_0x4ca3fe[_0x55f3('0x1b3')],this[_0x55f3('0xeb')]),'_randomise':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x38')]['randomise'],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this['acceleration']={'_value':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x1fe')][_0x55f3('0x12')],THREE[_0x55f3('0x5a')],new THREE['Vector3']()),'_spread':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x1fe')][_0x55f3('0x1ed')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_distribution':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1fe')][_0x55f3('0x225')],_0x4ca3fe[_0x55f3('0x1b3')],this['type']),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this['drag']={'_value':_0x1ace4a['ensureTypedArg'](_0x468d8c['drag'][_0x55f3('0x12')],_0x4ca3fe['NUMBER'],0x0),'_spread':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['drag'][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0x1f1')]={'_value':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1f1')][_0x55f3('0x12')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_spread':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x1f1')][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0)},this['rotation']={'_axis':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x1ef')][_0x55f3('0x228')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))](0x0,0x1,0x0)),'_axisSpread':_0x1ace4a['ensureInstanceOf'](_0x468d8c['rotation'][_0x55f3('0x229')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_angle':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['rotation'][_0x55f3('0x1ec')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_angleSpread':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['rotation'][_0x55f3('0x1f0')],_0x4ca3fe['NUMBER'],0x0),'_static':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['rotation'][_0x55f3('0x22a')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'_center':_0x1ace4a[_0x55f3('0x1ab')](_0x468d8c[_0x55f3('0x1ef')][_0x55f3('0x22b')],THREE[_0x55f3('0x5a')],this[_0x55f3('0x38')][_0x55f3('0x1ac')][_0x55f3('0x1b0')]()),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')]['randomise'],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0x1f9')]={'_value':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1f9')][_0x55f3('0x12')],_0x4ca3fe[_0x55f3('0x1b3')],0x2),'_spread':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1f9')][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0)},this[_0x55f3('0x220')]={'_value':_0x1ace4a[_0x55f3('0x22c')](_0x468d8c['color']['value'],THREE[_0x55f3('0x1b7')],new THREE[(_0x55f3('0x1b7'))]()),'_spread':_0x1ace4a[_0x55f3('0x22c')](_0x468d8c[_0x55f3('0x220')][_0x55f3('0x1ed')],THREE[_0x55f3('0x5a')],new THREE[(_0x55f3('0x5a'))]()),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0x221')]={'_value':_0x1ace4a[_0x55f3('0x22d')](_0x468d8c[_0x55f3('0x221')][_0x55f3('0x12')],_0x4ca3fe[_0x55f3('0x1b3')],0x1),'_spread':_0x1ace4a[_0x55f3('0x22d')](_0x468d8c['opacity'][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_randomise':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0xd2')]={'_value':_0x1ace4a[_0x55f3('0x22d')](_0x468d8c[_0x55f3('0xd2')][_0x55f3('0x12')],_0x4ca3fe['NUMBER'],0x1),'_spread':_0x1ace4a[_0x55f3('0x22d')](_0x468d8c['size'][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_randomise':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0x1ec')]={'_value':_0x1ace4a['ensureArrayTypedArg'](_0x468d8c[_0x55f3('0x1ec')]['value'],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_spread':_0x1ace4a[_0x55f3('0x22d')](_0x468d8c['angle'][_0x55f3('0x1ed')],_0x4ca3fe[_0x55f3('0x1b3')],0x0),'_randomise':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)},this[_0x55f3('0x1f8')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['particleCount'],_0x4ca3fe[_0x55f3('0x1b3')],0x64),this[_0x55f3('0x216')]=_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x216')],_0x4ca3fe[_0x55f3('0x1b3')],null),this[_0x55f3('0x22e')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x22e')],_0x4ca3fe['BOOLEAN'],!0x1),this[_0x55f3('0x22f')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x22f')],_0x4ca3fe[_0x55f3('0x1b3')],0x1),this[_0x55f3('0x230')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x230')],_0x4ca3fe[_0x55f3('0x1b3')],0x1),this[_0x55f3('0x231')]=_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x231')],_0x4ca3fe[_0x55f3('0x1d0')],!0x0),this[_0x55f3('0x232')]=0x0,this[_0x55f3('0x233')]=0x0,this[_0x55f3('0x234')]=0x0,this[_0x55f3('0x235')]=0x0,this[_0x55f3('0x236')]=0x0,this['activeParticleCount']=0x0,this[_0x55f3('0x1f7')]=null,this[_0x55f3('0x165')]=null,this[_0x55f3('0x237')]=null,this[_0x55f3('0x238')]={'position':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x38')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)||_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x21e')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'velocity':_0x1ace4a['ensureTypedArg'](_0x468d8c['velocity'][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'acceleration':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1fe')]['randomise'],_0x4ca3fe[_0x55f3('0x1d0')],!0x1)||_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x21f')]['randomise'],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'rotation':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x1ef')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'rotationCenter':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c['rotation'][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'size':_0x1ace4a['ensureTypedArg'](_0x468d8c['size'][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'color':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x220')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'opacity':_0x1ace4a['ensureTypedArg'](_0x468d8c[_0x55f3('0x221')][_0x55f3('0x226')],_0x4ca3fe[_0x55f3('0x1d0')],!0x1),'angle':_0x1ace4a[_0x55f3('0x1aa')](_0x468d8c[_0x55f3('0x1ec')][_0x55f3('0x226')],_0x4ca3fe['BOOLEAN'],!0x1)},this[_0x55f3('0x239')]={},this['updateCounts']={},this[_0x55f3('0x23a')]={'maxAge':_0x55f3('0x209'),'position':_0x55f3('0x38'),'velocity':_0x55f3('0x1fd'),'acceleration':_0x55f3('0x1fe'),'drag':_0x55f3('0x1fe'),'wiggle':_0x55f3('0x209'),'rotation':'rotation','size':'size','color':'color','opacity':_0x55f3('0x221'),'angle':_0x55f3('0x1ec')},this[_0x55f3('0x23a')])this[_0x55f3('0x23a')][_0x55f3('0xc')](_0x448587)&&(this[_0x55f3('0x23b')][this[_0x55f3('0x23a')][_0x448587]]=0x0,this[_0x55f3('0x239')][this[_0x55f3('0x23a')][_0x448587]]=!0x1,this['_createGetterSetters'](this[_0x448587],_0x448587));this[_0x55f3('0x21c')]={},this[_0x55f3('0x1e3')]=null,this['attributeCount']=0x0,_0x1ace4a[_0x55f3('0x23c')](this[_0x55f3('0x220')],_0x4246b0,_0x4246b0),_0x1ace4a[_0x55f3('0x23c')](this[_0x55f3('0x221')],_0x4246b0,_0x4246b0),_0x1ace4a[_0x55f3('0x23c')](this[_0x55f3('0xd2')],_0x4246b0,_0x4246b0),_0x1ace4a[_0x55f3('0x23c')](this[_0x55f3('0x1ec')],_0x4246b0,_0x4246b0);},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x83')]=_0x339340['Emitter'],_0x339340['Emitter'][_0x55f3('0x15')]['_createGetterSetters']=function(_0x468d8c,_0x60fd65){var _0x448587,_0x1ace4a,_0x420049=this;for(_0x448587 in _0x468d8c)_0x468d8c[_0x55f3('0xc')](_0x448587)&&(_0x1ace4a=_0x448587[_0x55f3('0x56')]('_',''),(0x0,_0x4246b0[_0x55f3('0x9')])(_0x468d8c,_0x1ace4a,{'get':function(_0x468d8c){return function(){return this[_0x468d8c];};}(_0x448587),'set':function(_0x4246b0){return function(_0x468d8c){var _0x448587=_0x420049[_0x55f3('0x23a')][_0x60fd65],_0x1ace4a=this[_0x4246b0],_0x4ca3fe=_0x339340[_0x55f3('0x1e2')];_0x55f3('0x23d')===_0x4246b0?(_0x420049[_0x55f3('0x239')][_0x55f3('0x23e')]=!0x0,_0x420049[_0x55f3('0x23b')][_0x55f3('0x23e')]=0x0):_0x55f3('0x23f')===_0x4246b0?_0x420049[_0x55f3('0x238')][_0x448587]=_0x468d8c:(_0x420049[_0x55f3('0x239')][_0x448587]=!0x0,_0x420049[_0x55f3('0x23b')][_0x448587]=0x0),_0x420049['group'][_0x55f3('0x205')](),this[_0x4246b0]=_0x468d8c,Array['isArray'](_0x1ace4a)&&_0x339340['utils'][_0x55f3('0x23c')](_0x420049[_0x60fd65],_0x4ca3fe,_0x4ca3fe);};}(_0x448587)}));},_0x339340['Emitter'][_0x55f3('0x15')][_0x55f3('0x1fa')]=function(_0x468d8c){this[_0x55f3('0x1e3')]=_0x468d8c,this[_0x55f3('0x1e4')]=_0x468d8c[_0x55f3('0xf')];for(var _0x448587=this[_0x55f3('0x1e4')]-0x1;0x0<=_0x448587;--_0x448587)this['bufferUpdateRanges'][_0x468d8c[_0x448587]]={'min':Number[_0x55f3('0x240')],'max':Number['NEGATIVE_INFINITY']};},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x241')]=function(_0x468d8c){var _0x448587=this[_0x55f3('0x1f8')];this[_0x55f3('0x216')]?this['particlesPerSecond']=_0x448587/(_0x468d8c<this[_0x55f3('0x216')]?_0x468d8c:this[_0x55f3('0x216')]):this[_0x55f3('0x232')]=_0x448587/_0x468d8c;},_0x339340[_0x55f3('0x1f4')]['prototype']['_setAttributeOffset']=function(_0x468d8c){this[_0x55f3('0x234')]=_0x468d8c,this['activationIndex']=_0x468d8c,this[_0x55f3('0x242')]=_0x468d8c+this[_0x55f3('0x1f8')];},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x243')]=function(_0x468d8c,_0x448587){switch(_0x468d8c){case _0x55f3('0x38'):this[_0x55f3('0x1fb')](_0x448587);break;case'velocity':case _0x55f3('0x1fe'):this[_0x55f3('0x1fc')](_0x448587,_0x468d8c);break;case'size':case _0x55f3('0x221'):this[_0x55f3('0x1ff')](_0x448587,_0x468d8c);break;case'angle':this[_0x55f3('0x200')](_0x448587);break;case _0x55f3('0x209'):this[_0x55f3('0x202')](_0x448587);break;case'rotation':this[_0x55f3('0x201')](_0x448587);break;case _0x55f3('0x220'):this[_0x55f3('0x203')](_0x448587);}},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x1fb')]=function(_0x468d8c,_0x448587){var _0x1ace4a=_0x339340[_0x55f3('0x223')],_0x4ca3fe=_0x339340[_0x55f3('0x1a7')],_0x4246b0=this['position'],_0x60fd65=this[_0x55f3('0x165')][_0x55f3('0x38')],_0x420049=_0x4246b0[_0x55f3('0x1ac')],_0x862d67=_0x4246b0[_0x55f3('0x1ad')];switch(_0x4246b0[_0x55f3('0x244')]){case _0x1ace4a[_0x55f3('0x245')]:_0x4ca3fe[_0x55f3('0x246')](_0x60fd65,_0x468d8c,_0x420049,_0x862d67,_0x4246b0[_0x55f3('0x247')]);break;case _0x1ace4a[_0x55f3('0x248')]:_0x4ca3fe[_0x55f3('0x249')](_0x60fd65,_0x468d8c,_0x420049,_0x4246b0[_0x55f3('0x24a')],_0x4246b0[_0x55f3('0x1ad')]['x'],_0x4246b0[_0x55f3('0x24b')],_0x4246b0[_0x55f3('0x247')]['x'],_0x4246b0[_0x55f3('0x24c')]||this[_0x55f3('0x1f8')],_0x448587);break;case _0x1ace4a[_0x55f3('0x24d')]:_0x4ca3fe[_0x55f3('0x24e')](_0x60fd65,_0x468d8c,_0x420049,_0x4246b0[_0x55f3('0x24a')],_0x4246b0[_0x55f3('0x1ad')]['x'],_0x4246b0['_radiusScale'],_0x4246b0[_0x55f3('0x247')]['x']);}},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x1fc')]=function(_0x468d8c,_0x448587){var _0x1ace4a,_0x4ca3fe,_0x4246b0,_0x60fd65,_0x420049,_0x862d67=_0x339340[_0x55f3('0x223')],_0x431b62=_0x339340['utils'],_0x155716=this[_0x448587],_0x3223b7=_0x155716[_0x55f3('0x1ac')],_0x4ce985=_0x155716['_spread'];switch(_0x155716['_distribution']){case _0x862d67[_0x55f3('0x245')]:_0x431b62[_0x55f3('0x246')](this['attributes'][_0x448587],_0x468d8c,_0x3223b7,_0x4ce985);break;case _0x862d67['SPHERE']:_0x4ca3fe=(_0x1ace4a=this[_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0xf6')][_0x55f3('0xd4')])[_0x420049=0x3*_0x468d8c],_0x4246b0=_0x1ace4a[_0x420049+0x1],_0x60fd65=_0x1ace4a[_0x420049+0x2],_0x431b62['randomDirectionVector3OnSphere'](this[_0x55f3('0x165')][_0x448587],_0x468d8c,_0x4ca3fe,_0x4246b0,_0x60fd65,this['position'][_0x55f3('0x1ac')],_0x155716[_0x55f3('0x1ac')]['x'],_0x155716['_spread']['x']);break;case _0x862d67[_0x55f3('0x24d')]:_0x4ca3fe=(_0x1ace4a=this[_0x55f3('0x165')]['position']['typedArray'][_0x55f3('0xd4')])[_0x420049=0x3*_0x468d8c],_0x4246b0=_0x1ace4a[_0x420049+0x1],_0x60fd65=_0x1ace4a[_0x420049+0x2],_0x431b62['randomDirectionVector3OnDisc'](this[_0x55f3('0x165')][_0x448587],_0x468d8c,_0x4ca3fe,_0x4246b0,_0x60fd65,this[_0x55f3('0x38')][_0x55f3('0x1ac')],_0x155716[_0x55f3('0x1ac')]['x'],_0x155716[_0x55f3('0x1ad')]['x']);}_0x55f3('0x1fe')===_0x448587&&(_0x862d67=_0x431b62[_0x55f3('0x1ae')](_0x431b62[_0x55f3('0x1bd')](this[_0x55f3('0x21f')][_0x55f3('0x1ac')],this[_0x55f3('0x21f')]['_spread']),0x0,0x1),this[_0x55f3('0x165')]['acceleration'][_0x55f3('0xf6')][_0x55f3('0xd4')][0x4*_0x468d8c+0x3]=_0x862d67);},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['_assignAbsLifetimeValue']=function(_0x468d8c,_0x448587){var _0x1ace4a,_0x4ca3fe=this[_0x55f3('0x165')][_0x448587][_0x55f3('0xf6')],_0x448587=this[_0x448587],_0x4246b0=_0x339340[_0x55f3('0x1a7')];_0x4246b0[_0x55f3('0x24f')](_0x448587[_0x55f3('0x1ac')])&&_0x4246b0[_0x55f3('0x24f')](_0x448587['_spread'])?(_0x1ace4a=Math[_0x55f3('0x1b8')](_0x4246b0[_0x55f3('0x1bd')](_0x448587[_0x55f3('0x1ac')][0x0],_0x448587[_0x55f3('0x1ad')][0x0])),_0x4ca3fe[_0x55f3('0xe3')](_0x468d8c,_0x1ace4a,_0x1ace4a,_0x1ace4a,_0x1ace4a)):_0x4ca3fe[_0x55f3('0xe3')](_0x468d8c,Math[_0x55f3('0x1b8')](_0x4246b0[_0x55f3('0x1bd')](_0x448587[_0x55f3('0x1ac')][0x0],_0x448587['_spread'][0x0])),Math['abs'](_0x4246b0[_0x55f3('0x1bd')](_0x448587[_0x55f3('0x1ac')][0x1],_0x448587[_0x55f3('0x1ad')][0x1])),Math[_0x55f3('0x1b8')](_0x4246b0['randomFloat'](_0x448587[_0x55f3('0x1ac')][0x2],_0x448587[_0x55f3('0x1ad')][0x2])),Math['abs'](_0x4246b0['randomFloat'](_0x448587[_0x55f3('0x1ac')][0x3],_0x448587['_spread'][0x3])));},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x200')]=function(_0x468d8c){var _0x448587,_0x1ace4a=this[_0x55f3('0x165')]['angle'][_0x55f3('0xf6')],_0x4ca3fe=this['angle'],_0x4246b0=_0x339340[_0x55f3('0x1a7')];_0x4246b0[_0x55f3('0x24f')](_0x4ca3fe[_0x55f3('0x1ac')])&&_0x4246b0[_0x55f3('0x24f')](_0x4ca3fe['_spread'])?(_0x448587=_0x4246b0[_0x55f3('0x1bd')](_0x4ca3fe[_0x55f3('0x1ac')][0x0],_0x4ca3fe['_spread'][0x0]),_0x1ace4a[_0x55f3('0xe3')](_0x468d8c,_0x448587,_0x448587,_0x448587,_0x448587)):_0x1ace4a[_0x55f3('0xe3')](_0x468d8c,_0x4246b0[_0x55f3('0x1bd')](_0x4ca3fe['_value'][0x0],_0x4ca3fe[_0x55f3('0x1ad')][0x0]),_0x4246b0[_0x55f3('0x1bd')](_0x4ca3fe['_value'][0x1],_0x4ca3fe[_0x55f3('0x1ad')][0x1]),_0x4246b0['randomFloat'](_0x4ca3fe[_0x55f3('0x1ac')][0x2],_0x4ca3fe['_spread'][0x2]),_0x4246b0[_0x55f3('0x1bd')](_0x4ca3fe['_value'][0x3],_0x4ca3fe[_0x55f3('0x1ad')][0x3]));},_0x339340['Emitter']['prototype'][_0x55f3('0x202')]=function(_0x468d8c){this['attributes']['params']['typedArray'][_0x55f3('0xe3')](_0x468d8c,this[_0x55f3('0x22e')]?0x1:0x0,0x0,Math[_0x55f3('0x1b8')](_0x339340[_0x55f3('0x1a7')]['randomFloat'](this[_0x55f3('0x1f9')][_0x55f3('0x1ac')],this[_0x55f3('0x1f9')]['_spread'])),_0x339340[_0x55f3('0x1a7')][_0x55f3('0x1bd')](this[_0x55f3('0x1f1')][_0x55f3('0x1ac')],this[_0x55f3('0x1f1')]['_spread']));},_0x339340['Emitter']['prototype'][_0x55f3('0x201')]=function(_0x468d8c){this[_0x55f3('0x165')][_0x55f3('0x1ef')]['typedArray'][_0x55f3('0xe1')](_0x468d8c,_0x339340[_0x55f3('0x1a7')]['getPackedRotationAxis'](this[_0x55f3('0x1ef')][_0x55f3('0x250')],this[_0x55f3('0x1ef')][_0x55f3('0x251')]),_0x339340[_0x55f3('0x1a7')]['randomFloat'](this[_0x55f3('0x1ef')][_0x55f3('0x252')],this['rotation'][_0x55f3('0x253')]),this[_0x55f3('0x1ef')]['_static']?0x0:0x1),this['attributes'][_0x55f3('0x23e')][_0x55f3('0xf6')][_0x55f3('0xe0')](_0x468d8c,this['rotation']['_center']);},_0x339340[_0x55f3('0x1f4')]['prototype'][_0x55f3('0x203')]=function(_0x468d8c){_0x339340[_0x55f3('0x1a7')][_0x55f3('0x254')](this[_0x55f3('0x165')][_0x55f3('0x220')],_0x468d8c,this[_0x55f3('0x220')]['_value'],this[_0x55f3('0x220')][_0x55f3('0x1ad')]);},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['_resetParticle']=function(_0x468d8c){for(var _0x448587,_0x1ace4a,_0x4ca3fe=this[_0x55f3('0x238')],_0x4246b0=this[_0x55f3('0x239')],_0x60fd65=this[_0x55f3('0x23b')],_0x420049=this[_0x55f3('0x1e3')],_0x862d67=this[_0x55f3('0x1e4')]-0x1;0x0<=_0x862d67;--_0x862d67)_0x1ace4a=_0x4246b0[_0x448587=_0x420049[_0x862d67]],!0x0!==_0x4ca3fe[_0x448587]&&!0x0!==_0x1ace4a||(this[_0x55f3('0x243')](_0x448587,_0x468d8c),this[_0x55f3('0x255')](_0x448587,_0x468d8c),!0x0===_0x1ace4a&&_0x60fd65[_0x448587]===this[_0x55f3('0x1f8')]?(_0x4246b0[_0x448587]=!0x1,_0x60fd65[_0x448587]=0x0):0x1==_0x1ace4a&&++_0x60fd65[_0x448587]);},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['_updateAttributeUpdateRange']=function(_0x468d8c,_0x448587){_0x468d8c=this[_0x55f3('0x21c')][_0x468d8c];_0x468d8c[_0x55f3('0x8c')]=Math['min'](_0x448587,_0x468d8c[_0x55f3('0x8c')]),_0x468d8c[_0x55f3('0xf2')]=Math['max'](_0x448587,_0x468d8c[_0x55f3('0xf2')]);},_0x339340[_0x55f3('0x1f4')]['prototype'][_0x55f3('0x256')]=function(){for(var _0x468d8c,_0x448587=this['bufferUpdateRanges'],_0x1ace4a=this[_0x55f3('0x257')],_0x4ca3fe=this['bufferUpdateCount']-0x1;0x0<=_0x4ca3fe;--_0x4ca3fe)_0x448587[_0x468d8c=_0x1ace4a[_0x4ca3fe]][_0x55f3('0x8c')]=Number[_0x55f3('0x240')],_0x448587[_0x468d8c][_0x55f3('0xf2')]=Number['NEGATIVE_INFINITY'];},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['_onRemove']=function(){this[_0x55f3('0x232')]=0x0,this[_0x55f3('0x234')]=0x0,this['activationIndex']=0x0,this[_0x55f3('0x258')]=0x0,this['group']=null,this[_0x55f3('0x165')]=null,this[_0x55f3('0x237')]=null,this[_0x55f3('0x236')]=0x0;},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x259')]=function(){--this[_0x55f3('0x258')];},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x25a')]=function(){++this['activeParticleCount'];},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x25b')]=function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){for(var _0x4246b0,_0x60fd65,_0x420049,_0x862d67,_0x431b62=_0x448587-0x1;_0x468d8c<=_0x431b62;--_0x431b62)0x0!==(_0x862d67=_0x1ace4a[_0x4246b0=0x4*_0x431b62])&&(_0x420049=_0x1ace4a[0x1+_0x4246b0],_0x60fd65=_0x1ace4a[0x2+_0x4246b0],0x1===this['direction']?_0x60fd65<=(_0x420049+=_0x4ca3fe)&&(_0x862d67=_0x420049=0x0,this['_decrementParticleCount']()):(_0x420049-=_0x4ca3fe)<=0x0&&(_0x420049=_0x60fd65,_0x862d67=0x0,this['_decrementParticleCount']()),_0x1ace4a[_0x4246b0]=_0x862d67,_0x1ace4a[0x1+_0x4246b0]=_0x420049,this[_0x55f3('0x255')](_0x55f3('0x209'),_0x431b62));},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x25c')]=function(_0x468d8c,_0x448587,_0x1ace4a,_0x4ca3fe){for(var _0x4246b0,_0x60fd65,_0x420049=this[_0x55f3('0x230')],_0x862d67=_0x468d8c;_0x862d67<_0x448587;++_0x862d67)0x0!=_0x1ace4a[_0x4246b0=0x4*_0x862d67]&&0x1!==this[_0x55f3('0x1f8')]||(this['_incrementParticleCount'](),_0x1ace4a[_0x4246b0]=0x1,this[_0x55f3('0x25d')](_0x862d67),_0x60fd65=_0x4ca3fe*(_0x862d67-_0x468d8c),_0x1ace4a[0x1+_0x4246b0]=-0x1===_0x420049?_0x1ace4a[0x2+_0x4246b0]-_0x60fd65:_0x60fd65,this[_0x55f3('0x255')]('params',_0x862d67));},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x21d')]=function(_0x468d8c){if(!this[_0x55f3('0x22e')]){null===this[_0x55f3('0x237')]&&(this[_0x55f3('0x237')]=this[_0x55f3('0x165')][_0x55f3('0x209')][_0x55f3('0xf6')][_0x55f3('0xd4')]);var _0x448587=this[_0x55f3('0x234')],_0x1ace4a=_0x448587+this[_0x55f3('0x1f8')],_0x4ca3fe=this['paramsArray'],_0x4246b0=this['particlesPerSecond']*this[_0x55f3('0x22f')]*_0x468d8c,_0x60fd65=this[_0x55f3('0x233')];if(this[_0x55f3('0x256')](),this[_0x55f3('0x25b')](_0x448587,_0x1ace4a,_0x4ca3fe,_0x468d8c),!0x1===this['alive'])this[_0x55f3('0x236')]=0x0;else{if(null!==this[_0x55f3('0x216')]&&this[_0x55f3('0x236')]>this[_0x55f3('0x216')])return this[_0x55f3('0x231')]=!0x1,void(this[_0x55f3('0x236')]=0x0);var _0x60fd65=0x1===this['particleCount']?_0x60fd65:0x0|_0x60fd65,_0x420049=Math['min'](_0x60fd65+_0x4246b0,this[_0x55f3('0x242')]),_0x862d67=_0x420049-this[_0x55f3('0x233')]|0x0;this[_0x55f3('0x25c')](_0x60fd65,_0x420049,_0x4ca3fe,0x0<_0x862d67?_0x468d8c/_0x862d67:0x0),this[_0x55f3('0x233')]+=_0x4246b0,this[_0x55f3('0x233')]>_0x1ace4a&&(this[_0x55f3('0x233')]=_0x448587),this[_0x55f3('0x236')]+=_0x468d8c;}}},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['reset']=function(_0x468d8c){if(this['age']=0x0,!(this[_0x55f3('0x231')]=!0x1)===_0x468d8c){for(var _0x448587,_0x1ace4a=this[_0x55f3('0x234')],_0x468d8c=_0x1ace4a+this[_0x55f3('0x1f8')],_0x4ca3fe=this[_0x55f3('0x237')],_0x4246b0=this[_0x55f3('0x165')]['params']['bufferAttribute'],_0x60fd65=_0x468d8c-0x1;_0x1ace4a<=_0x60fd65;--_0x60fd65)_0x4ca3fe[_0x448587=0x4*_0x60fd65]=0x0,_0x4ca3fe[0x1+_0x448587]=0x0;_0x4246b0['updateRange'][_0x55f3('0xf5')]=0x0,_0x4246b0[_0x55f3('0xf4')][_0x55f3('0xfc')]=-0x1,_0x4246b0[_0x55f3('0xf7')]=!0x0;}return this;},_0x339340['Emitter'][_0x55f3('0x15')][_0x55f3('0x214')]=function(){return this[_0x55f3('0x231')]=!0x0,this;},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')][_0x55f3('0x215')]=function(){return this[_0x55f3('0x231')]=!0x1,this;},_0x339340[_0x55f3('0x1f4')][_0x55f3('0x15')]['remove']=function(){return null!==this[_0x55f3('0x1f7')]?this[_0x55f3('0x1f7')]['removeEmitter'](this):console['error'](_0x55f3('0x25e')),this;};},function(_0x188190,_0x5e5041,_0x56271c){var _0x2a6d9b=_0x56271c(0xc),_0x3c2a6e=_0x56271c(0x11),_0x3c71c7=_0x56271c(0x1e)(_0x55f3('0x69')),_0x429abb=Object[_0x55f3('0x15')];_0x188190[_0x55f3('0x0')]=Object[_0x55f3('0x25f')]||function(_0x188190){return _0x188190=_0x3c2a6e(_0x188190),_0x2a6d9b(_0x188190,_0x3c71c7)?_0x188190[_0x3c71c7]:_0x55f3('0x1c')==typeof _0x188190[_0x55f3('0x83')]&&_0x188190 instanceof _0x188190['constructor']?_0x188190[_0x55f3('0x83')][_0x55f3('0x15')]:_0x188190 instanceof Object?_0x429abb:null;};},function(_0x298112,_0x625cff,_0x5a72d2){_0x298112['exports']={'default':_0x5a72d2(0x5e),'__esModule':!0x0};},function(_0x4cf2d9,_0x6a9775,_0x1cdaa3){var _0x3b3759=_0x1cdaa3(0x3a),_0x3929c4=_0x1cdaa3(0x25)[_0x55f3('0x62')](_0x55f3('0xf'),_0x55f3('0x15'));_0x6a9775['f']=Object['getOwnPropertyNames']||function(_0x4cf2d9){return _0x3b3759(_0x4cf2d9,_0x3929c4);};},function(_0x27a216,_0x3af5de,_0x1cf049){_0x27a216[_0x55f3('0x0')]={'default':_0x1cf049(0x66),'__esModule':!0x0};},function(_0x6216ba,_0x2ee4ce,_0x8a9104){'use strict';var _0x5e8d64=_0x8a9104(0x1d);function _0x3c7174(_0x6216ba){var _0x8a9104,_0x3c7174;this['promise']=new _0x6216ba(function(_0x6216ba,_0x2ee4ce){if(void 0x0!==_0x8a9104||void 0x0!==_0x3c7174)throw TypeError(_0x55f3('0x260'));_0x8a9104=_0x6216ba,_0x3c7174=_0x2ee4ce;}),this[_0x55f3('0x261')]=_0x5e8d64(_0x8a9104),this[_0x55f3('0x262')]=_0x5e8d64(_0x3c7174);}_0x6216ba[_0x55f3('0x0')]['f']=function(_0x6216ba){return new _0x3c7174(_0x6216ba);};},function(_0x1f0780,_0x5ec419){_0x1f0780[_0x55f3('0x0')]=function(_0x1f0780,_0x5ec419){return{'value':_0x5ec419,'done':!!_0x1f0780};};},function(_0x38fe9f,_0x154d2c,_0x2f3e1b){var _0x1b1a9e=_0x2f3e1b(0x20),_0x435d03=_0x2f3e1b(0x15),_0x31cada=_0x2f3e1b(0xe),_0x1c36d4=_0x2f3e1b(0x27),_0x4d6046=_0x2f3e1b(0xc),_0x18e87f=_0x2f3e1b(0x37),_0x5e07a0=Object['getOwnPropertyDescriptor'];_0x154d2c['f']=_0x2f3e1b(0x7)?_0x5e07a0:function(_0x38fe9f,_0x154d2c){if(_0x38fe9f=_0x31cada(_0x38fe9f),_0x154d2c=_0x1c36d4(_0x154d2c,!0x0),_0x18e87f)try{return _0x5e07a0(_0x38fe9f,_0x154d2c);}catch(_0x4490a7){}if(_0x4d6046(_0x38fe9f,_0x154d2c))return _0x435d03(!_0x1b1a9e['f'][_0x55f3('0x1')](_0x38fe9f,_0x154d2c),_0x38fe9f[_0x154d2c]);};},function(_0x36b01c,_0x5a6c9e,_0x7d0046){_0x36b01c[_0x55f3('0x0')]={'default':_0x7d0046(0x68),'__esModule':!0x0};},function(_0x34d586,_0x5de1ac,_0xddf523){var _0x30b0d3=_0xddf523(0x1b),_0x2c1674=_0xddf523(0x1c);_0x34d586['exports']=function(_0x397af3){return function(_0x34d586,_0x5de1ac){var _0xddf523,_0x34d586=String(_0x2c1674(_0x34d586)),_0x5de1ac=_0x30b0d3(_0x5de1ac),_0x17406d=_0x34d586[_0x55f3('0xf')];return _0x5de1ac<0x0||_0x17406d<=_0x5de1ac?_0x397af3?'':void 0x0:(_0xddf523=_0x34d586[_0x55f3('0x263')](_0x5de1ac))<0xd800||0xdbff<_0xddf523||_0x5de1ac+0x1===_0x17406d||(_0x17406d=_0x34d586[_0x55f3('0x263')](_0x5de1ac+0x1))<0xdc00||0xdfff<_0x17406d?_0x397af3?_0x34d586[_0x55f3('0x8d')](_0x5de1ac):_0xddf523:_0x397af3?_0x34d586[_0x55f3('0x24')](_0x5de1ac,_0x5de1ac+0x2):_0x17406d-0xdc00+(_0xddf523-0xd800<<0xa)+0x10000;};};},function(_0x1133dc,_0x4388ca,_0x529195){'use strict';var _0x5b8571=_0x529195(0x23),_0x2956ed=_0x529195(0x15),_0x443a8c=_0x529195(0x19),_0x2a934e={};_0x529195(0xb)(_0x2a934e,_0x529195(0x5)(_0x55f3('0x84')),function(){return this;}),_0x1133dc[_0x55f3('0x0')]=function(_0x1133dc,_0x4388ca,_0x529195){_0x1133dc['prototype']=_0x5b8571(_0x2a934e,{'next':_0x2956ed(0x1,_0x529195)}),_0x443a8c(_0x1133dc,_0x4388ca+_0x55f3('0x87'));};},function(_0x5d7728,_0x218b3,_0x3c6db8){var _0x4d0784=_0x3c6db8(0xe),_0x212ad5=_0x3c6db8(0x2e),_0x3f62b4=_0x3c6db8(0x4b);_0x5d7728[_0x55f3('0x0')]=function(_0x44faa6){return function(_0x5d7728,_0x218b3,_0x3c6db8){var _0x5edb4f,_0x154c63=_0x4d0784(_0x5d7728),_0x36464a=_0x212ad5(_0x154c63[_0x55f3('0xf')]),_0x3a15ce=_0x3f62b4(_0x3c6db8,_0x36464a);if(_0x44faa6&&_0x218b3!=_0x218b3){for(;_0x3a15ce<_0x36464a;)if((_0x5edb4f=_0x154c63[_0x3a15ce++])!=_0x5edb4f)return!0x0;}else for(;_0x3a15ce<_0x36464a;_0x3a15ce++)if((_0x44faa6||_0x3a15ce in _0x154c63)&&_0x154c63[_0x3a15ce]===_0x218b3)return _0x44faa6||_0x3a15ce||0x0;return!_0x44faa6&&-0x1;};};},function(_0x7302c0,_0x245db8,_0x4defbf){var _0x3968d6=_0x4defbf(0x1b),_0x1382a7=Math[_0x55f3('0xf2')],_0x409b54=Math[_0x55f3('0x8c')];_0x7302c0[_0x55f3('0x0')]=function(_0x7302c0,_0x245db8){return(_0x7302c0=_0x3968d6(_0x7302c0))<0x0?_0x1382a7(_0x7302c0+_0x245db8,0x0):_0x409b54(_0x7302c0,_0x245db8);};},function(_0x22c98a,_0x124eba,_0x2e9a37){'use strict';var _0x2ae612=_0x2e9a37(0x4d),_0x5847bf=_0x2e9a37(0x45),_0x569315=_0x2e9a37(0xf),_0x5d17e1=_0x2e9a37(0xe);_0x22c98a[_0x55f3('0x0')]=_0x2e9a37(0x2d)(Array,_0x55f3('0x89'),function(_0x22c98a,_0x124eba){this['_t']=_0x5d17e1(_0x22c98a),this['_i']=0x0,this['_k']=_0x124eba;},function(){var _0x22c98a=this['_t'],_0x124eba=this['_k'],_0x2e9a37=this['_i']++;return!_0x22c98a||_0x2e9a37>=_0x22c98a[_0x55f3('0xf')]?(this['_t']=void 0x0,_0x5847bf(0x1)):_0x5847bf(0x0,'keys'==_0x124eba?_0x2e9a37:_0x55f3('0x86')==_0x124eba?_0x22c98a[_0x2e9a37]:[_0x2e9a37,_0x22c98a[_0x2e9a37]]);},_0x55f3('0x86')),_0x569315[_0x55f3('0x8f')]=_0x569315[_0x55f3('0x89')],_0x2ae612(_0x55f3('0x22')),_0x2ae612(_0x55f3('0x86')),_0x2ae612(_0x55f3('0x8a'));},function(_0x4d117d,_0x29fad9){_0x4d117d[_0x55f3('0x0')]=function(){};},function(_0x2532a4,_0x3cf4a1,_0x1765ac){function _0xff59fa(_0x2532a4){_0x3b88b3(_0x2532a4,_0x15fdd2,{'value':{'i':'O'+ ++_0x52d4f0,'w':{}}});}var _0x15fdd2=_0x1765ac(0x18)(_0x55f3('0x264')),_0x1265d1=_0x1765ac(0xa),_0xc0e1fc=_0x1765ac(0xc),_0x3b88b3=_0x1765ac(0x8)['f'],_0x52d4f0=0x0,_0x22d6a0=Object['isExtensible']||function(){return!0x0;},_0x1f9e6a=!_0x1765ac(0xd)(function(){return _0x22d6a0(Object[_0x55f3('0x265')]({}));}),_0xfb4abb=_0x2532a4['exports']={'KEY':_0x15fdd2,'NEED':!0x1,'fastKey':function(_0x2532a4,_0x3cf4a1){if(!_0x1265d1(_0x2532a4))return _0x55f3('0x82')==typeof _0x2532a4?_0x2532a4:(_0x55f3('0xa')==typeof _0x2532a4?'S':'P')+_0x2532a4;if(!_0xc0e1fc(_0x2532a4,_0x15fdd2)){if(!_0x22d6a0(_0x2532a4))return'F';if(!_0x3cf4a1)return'E';_0xff59fa(_0x2532a4);}return _0x2532a4[_0x15fdd2]['i'];},'getWeak':function(_0x2532a4,_0x3cf4a1){if(!_0xc0e1fc(_0x2532a4,_0x15fdd2)){if(!_0x22d6a0(_0x2532a4))return!0x0;if(!_0x3cf4a1)return!0x1;_0xff59fa(_0x2532a4);}return _0x2532a4[_0x15fdd2]['w'];},'onFreeze':function(_0x2532a4){return _0x1f9e6a&&_0xfb4abb['NEED']&&_0x22d6a0(_0x2532a4)&&!_0xc0e1fc(_0x2532a4,_0x15fdd2)&&_0xff59fa(_0x2532a4),_0x2532a4;}};},function(_0x413e26,_0x5b76c8,_0x39d9ba){var _0x551a47=_0x39d9ba(0x6),_0x56fef2=_0x39d9ba(0x2),_0x87d34d=_0x39d9ba(0xd);_0x413e26[_0x55f3('0x0')]=function(_0x413e26,_0x5b76c8){var _0x39d9ba=(_0x56fef2[_0x55f3('0x266')]||{})[_0x413e26]||Object[_0x413e26],_0x51d45d={};_0x51d45d[_0x413e26]=_0x5b76c8(_0x39d9ba),_0x551a47(_0x551a47['S']+_0x551a47['F']*_0x87d34d(function(){_0x39d9ba(0x1);}),_0x55f3('0x266'),_0x51d45d);};},function(_0xc98f41,_0x41f7f9,_0x437986){_0x437986(0x1f),_0x437986(0x1a),_0xc98f41[_0x55f3('0x0')]=_0x437986(0x51);},function(_0x5ecb0a,_0x59bf33,_0x2b0667){var _0x11e6c5=_0x2b0667(0x9),_0x3cdb70=_0x2b0667(0x35);_0x5ecb0a['exports']=_0x2b0667(0x2)[_0x55f3('0x267')]=function(_0x5ecb0a){var _0x59bf33=_0x3cdb70(_0x5ecb0a);if('function'!=typeof _0x59bf33)throw TypeError(_0x5ecb0a+_0x55f3('0x268'));return _0x11e6c5(_0x59bf33[_0x55f3('0x1')](_0x5ecb0a));};},function(_0x3a9048,_0x484d59,_0x47e4c9){_0x47e4c9(0x53);var _0x444106=_0x47e4c9(0x2)[_0x55f3('0x266')];_0x3a9048[_0x55f3('0x0')]=function(_0x3a9048,_0x484d59,_0x47e4c9){return _0x444106[_0x55f3('0x4')](_0x3a9048,_0x484d59,_0x47e4c9);};},function(_0x58dfb4,_0x167fe4,_0x5b9cce){var _0x8044b=_0x5b9cce(0x6);_0x8044b(_0x8044b['S']+_0x8044b['F']*!_0x5b9cce(0x7),_0x55f3('0x266'),{'defineProperty':_0x5b9cce(0x8)['f']});},function(_0x1548b3,_0x4b464d,_0x5dbd69){var _0x1e0694=_0x5dbd69(0x10),_0x745299=_0x5dbd69(0x6b),_0x44a5b1=_0x5dbd69(0x6c),_0x3c352d=_0x5dbd69(0x9),_0x54d7b5=_0x5dbd69(0x2e),_0x1a9063=_0x5dbd69(0x35),_0x597de0={},_0x3bf666={};(_0x4b464d=_0x1548b3[_0x55f3('0x0')]=function(_0x1548b3,_0x4b464d,_0x5dbd69,_0x6e0b26,_0x4efad5){var _0x4d3d74,_0x6c7aa2,_0x40b61d,_0x10cb04,_0x4efad5=_0x4efad5?function(){return _0x1548b3;}:_0x1a9063(_0x1548b3),_0x4e54ea=_0x1e0694(_0x5dbd69,_0x6e0b26,_0x4b464d?0x2:0x1),_0xc62216=0x0;if(_0x55f3('0x1c')!=typeof _0x4efad5)throw TypeError(_0x1548b3+_0x55f3('0x268'));if(_0x44a5b1(_0x4efad5)){for(_0x4d3d74=_0x54d7b5(_0x1548b3[_0x55f3('0xf')]);_0xc62216<_0x4d3d74;_0xc62216++)if((_0x10cb04=_0x4b464d?_0x4e54ea(_0x3c352d(_0x6c7aa2=_0x1548b3[_0xc62216])[0x0],_0x6c7aa2[0x1]):_0x4e54ea(_0x1548b3[_0xc62216]))===_0x597de0||_0x10cb04===_0x3bf666)return _0x10cb04;}else for(_0x40b61d=_0x4efad5['call'](_0x1548b3);!(_0x6c7aa2=_0x40b61d['next']())[_0x55f3('0x269')];)if((_0x10cb04=_0x745299(_0x40b61d,_0x4e54ea,_0x6c7aa2[_0x55f3('0x12')],_0x4b464d))===_0x597de0||_0x10cb04===_0x3bf666)return _0x10cb04;})[_0x55f3('0x26a')]=_0x597de0,_0x4b464d[_0x55f3('0x26b')]=_0x3bf666;},function(_0x163a16,_0x594cf1,_0x11d701){'use strict';Object[_0x55f3('0x4')](_0x594cf1,_0x55f3('0x7'),{'value':!0x0});var _0x3af245=_0x1a9f37(_0x11d701(0x22)),_0x7dbf1c=_0x1a9f37(_0x11d701(0x4)),_0x165824=_0x1a9f37(_0x11d701(0x0));function _0x1a9f37(_0x163a16){return _0x163a16&&_0x163a16[_0x55f3('0x7')]?_0x163a16:{'default':_0x163a16};}function _0x3a4891(){(0x0,_0x165824[_0x55f3('0x9')])(this,_0x3a4891),this[_0x55f3('0x26c')]=new THREE[(_0x55f3('0x26d'))](),this[_0x55f3('0x26e')]=[];}(0x0,_0x1a9f37(_0x11d701(0x1))['default'])(_0x3a4891,[{'key':_0x55f3('0x26f'),'value':function(_0x163a16,_0x594cf1){var _0x11d701=this[_0x55f3('0x270')](_0x163a16);return _0x594cf1||!_0x11d701?(_0x594cf1=this[_0x55f3('0x26c')][_0x55f3('0x26f')](_0x163a16),this[_0x55f3('0x26e')][_0x55f3('0x73')]({'texture':_0x594cf1,'path':_0x163a16}),_0x594cf1):_0x11d701[_0x55f3('0x1c6')];}},{'key':_0x55f3('0x270'),'value':function(_0x163a16){var _0x594cf1=!0x0,_0x11d701=!0x1,_0x165824=void 0x0;try{for(var _0x3af245,_0x1a9f37=(0x0,_0x7dbf1c[_0x55f3('0x9')])(this[_0x55f3('0x26e')]);!(_0x594cf1=(_0x3af245=_0x1a9f37[_0x55f3('0x85')]())['done']);_0x594cf1=!0x0){var _0x3a4891=_0x3af245[_0x55f3('0x12')];if(_0x3a4891['path']===_0x163a16)return _0x3a4891;}}catch(_0xa44352){_0x11d701=!0x0,_0x165824=_0xa44352;}finally{try{!_0x594cf1&&_0x1a9f37[_0x55f3('0x271')]&&_0x1a9f37['return']();}finally{if(_0x11d701)throw _0x165824;}}return!0x1;}},{'key':_0x55f3('0x272'),'value':function(_0x163a16){for(var _0x594cf1=[],_0x11d701=0x0,_0x165824=_0x163a16[_0x55f3('0xf')];_0x11d701<_0x165824;_0x11d701++)_0x163a16[_0x11d701][_0x55f3('0x273')]&&_0x594cf1[_0x55f3('0x73')](this[_0x55f3('0x274')](_0x163a16[_0x11d701]));return _0x3af245['default'][_0x55f3('0x275')](_0x594cf1);}},{'key':_0x55f3('0x274'),'value':function(_0x11d701){var _0x165824=this;return new _0x3af245[(_0x55f3('0x9'))](function(_0x594cf1,_0x163a16){_0x165824[_0x55f3('0x26c')][_0x55f3('0x26f')](_0x11d701[_0x55f3('0x273')],function(_0x163a16){_0x163a16['name']=_0x11d701[_0x55f3('0x8b')],_0x594cf1(_0x163a16);});});}}],[{'key':_0x55f3('0x276'),'value':function(_0x165824){return new _0x3af245[(_0x55f3('0x9'))](function(_0x163a16,_0x594cf1){var _0x11d701=new THREE[(_0x55f3('0x277'))]()['load'](_0x165824,function(){_0x163a16(_0x11d701);});});}},{'key':_0x55f3('0x278'),'value':function(_0x11d701){return new _0x3af245[(_0x55f3('0x9'))](function(_0x594cf1,_0x163a16){new THREE['TextureLoader']()[_0x55f3('0x26f')](_0x11d701,function(_0x163a16){_0x594cf1(_0x163a16);});});}}]),_0x594cf1[_0x55f3('0x9')]=_0x3a4891;},function(_0x5c970f,_0x2b7ff8,_0x2eb225){_0x5c970f['exports']={'default':_0x2eb225(0x5d),'__esModule':!0x0};},function(_0x386449,_0x474d5e,_0x2c7d50){var _0x23eaf8=_0x2c7d50(0x16);_0x386449[_0x55f3('0x0')]=Array[_0x55f3('0x1a9')]||function(_0x386449){return _0x55f3('0x89')==_0x23eaf8(_0x386449);};},function(_0x185882,_0x4bfdf1,_0xf7d534){'use strict';Object['defineProperty'](_0x4bfdf1,_0x55f3('0x7'),{'value':!0x0}),_0x4bfdf1[_0x55f3('0x279')]=_0x4bfdf1['ESEffectsConstant']=_0x4bfdf1[_0x55f3('0x27a')]=_0x4bfdf1[_0x55f3('0x27b')]=_0x4bfdf1[_0x55f3('0x27c')]=_0x4bfdf1['CommonConstant']=_0x4bfdf1[_0x55f3('0x27d')]=_0x4bfdf1[_0x55f3('0x27e')]=void 0x0;var _0xf7d534=_0xf7d534(0x41),_0xf7d534=_0xf7d534&&_0xf7d534[_0x55f3('0x7')]?_0xf7d534:{'default':_0xf7d534},_0x35a05c={'CUBE_FLOAT':(0x0,_0xf7d534[_0x55f3('0x9')])('cube_float'),'CYLINDER_FLOAT':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x27f')),'CYLINDER_SPREAD':(0x0,_0xf7d534['default'])(_0x55f3('0x280')),'CONE_SPREAD':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x281')),'CIRCLE_ROTATE':(0x0,_0xf7d534[_0x55f3('0x9')])('circle_rotate'),'CIRCLE_RIPPLE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x282')),'CIRCLE_BIPS':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x283')),'CIRCLES_RADIAN_ROTATE':(0x0,_0xf7d534['default'])(_0x55f3('0x284')),'CIRCLE_BREATH':(0x0,_0xf7d534['default'])(_0x55f3('0x285')),'SPHERE_SPREAD':(0x0,_0xf7d534[_0x55f3('0x9')])('sphere_spread'),'TRANSFER_LINE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x286')),'POINTS_LINE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x287')),'POINTS':(0x0,_0xf7d534[_0x55f3('0x9')])('points'),'UNDERGROUND_LINE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x288')),'NUMBER_UP_BEAM':(0x0,_0xf7d534[_0x55f3('0x9')])('number_up_beam'),'EXTENT_WALL':(0x0,_0xf7d534['default'])(_0x55f3('0x289')),'FIRE_SMOKE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x28a')),'SMOKE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x28b')),'SMOKE_SPREAD':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x28c')),'FIRE':(0x0,_0xf7d534['default'])(_0x55f3('0x28d')),'EXPLOSION':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x28e')),'WATER_SPREAD':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x28f')),'FLOAT_POINTS':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x290')),'DEVICE_WIND':(0x0,_0xf7d534['default'])(_0x55f3('0x291')),'SPHERE_POINTS':(0x0,_0xf7d534['default'])(_0x55f3('0x292')),'ROUTES_LINE':(0x0,_0xf7d534['default'])('routes_line'),'UP_LINE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x293')),'PLANE_VIDEO':(0x0,_0xf7d534[_0x55f3('0x9')])('plane_video'),'GUIDE_LINE':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x294')),'PLANE_WIND':(0x0,_0xf7d534[_0x55f3('0x9')])('plane_wind'),'PLANE_FOG':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x295')),'PLANE_TERRAIN':(0x0,_0xf7d534['default'])(_0x55f3('0x296')),'PLANE_GROUND':(0x0,_0xf7d534['default'])(_0x55f3('0x297')),'SIGNAL_WIFI':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x298')),'SPRITE_SHEET':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x299'))},_0xf7d534={'CubeFloatMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x29a')),'CylinderFloatMarker':(0x0,_0xf7d534['default'])('CylinderFloatMarker'),'CylinderSpreadMarker':(0x0,_0xf7d534['default'])('CylinderSpreadMarker'),'ConeSpreadMarker':(0x0,_0xf7d534[_0x55f3('0x9')])('ConeSpreadMarker'),'CircleRotateYMarker':(0x0,_0xf7d534['default'])(_0x55f3('0xbf')),'CircleRippleMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x29b')),'CircleBipsMarker':(0x0,_0xf7d534['default'])('CircleBipsMarker'),'CircleRadianMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x29c')),'MultiCircleBreathMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x29d')),'CurveLinkLine':(0x0,_0xf7d534[_0x55f3('0x9')])('CurveLinkLine'),'UpLine':(0x0,_0xf7d534[_0x55f3('0x9')])('UpLine'),'MulripleMeshLine':(0x0,_0xf7d534['default'])(_0x55f3('0xab')),'PointsLine':(0x0,_0xf7d534['default'])('PointsLine'),'Points':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0xbd')),'UnderGroundLine':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x29e')),'NumberUpParticle':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x29f')),'SphereSpreadMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2a0')),'ExtentWallMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2a1')),'FireSmokeMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2a2')),'SmokeMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2a3')),'SmokeSpreadMarker':(0x0,_0xf7d534[_0x55f3('0x9')])('SmokeSpreadMarker'),'FireMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2a4')),'ExplosionMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2a5')),'WaterSpreadMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2a6')),'FloatPointsMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2a7')),'DeviceWindMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2a8')),'SpherePointsMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2a9')),'PlaneVideoMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2aa')),'GuideLineMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2ab')),'SignalWifiMarker':(0x0,_0xf7d534[_0x55f3('0x9')])('SignalWifiMarker'),'PlaneWindMarker':(0x0,_0xf7d534['default'])(_0x55f3('0x2ac')),'PlaneFogMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2ad')),'PlaneTerrainMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2ae')),'PlaneGroundMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2af')),'SpriteSheetMarker':(0x0,_0xf7d534[_0x55f3('0x9')])(_0x55f3('0x2b0'))};_0x4bfdf1[_0x55f3('0x27e')]=_0x35a05c,_0x4bfdf1['ESMarkerLevel']={'CUBE_FLOAT':0x0,'CYLINDER_FLOAT':0x1,'CYLINDER_SPREAD':0x1,'CONE_SPREAD':0x1,'CIRCLE_ROTATE':0x0,'CIRCLE_RIPPLE':0x1,'CIRCLE_BIPS':0x1,'CIRCLES_RADIAN_ROTATE':0x1,'CIRCLE_BREATH':0x0,'SPHERE_SPREAD':0x1,'TRANSFER_LINE':0x1,'POINTS_LINE':0x1,'POINTS':0x1,'UNDERGROUND_LINE':0x0,'NUMBER_UP_BEAM':0x1,'EXTENT_WALL':0x1,'FIRE_SMOKE':0x1,'SMOKE':0x1,'SMOKE_SPREAD':0x1,'FIRE':0x1,'EXPLOSION':0x1,'WATER_SPREAD':0x1,'FLOAT_POINTS':0x1,'DEVICE_WIND':0x1,'SPHERE_POINTS':0x1,'ROUTES_LINE':0x0,'UP_LINE':0x1,'PLANE_VIDEO':0x1,'GUIDE_LINE':0x1,'PLANE_WIND':0x1,'PLANE_FOG':0x1,'PLANE_TERRAIN':0x1,'PLANE_GROUND':0x1,'SIGNAL_WIFI':0x1,'SPRITE_SHEET':0x0},_0x4bfdf1[_0x55f3('0x2b1')]={'Engine':{'Indoor':_0x55f3('0x2b2'),'Park':_0x55f3('0x2b3'),'City':_0x55f3('0x2b4')},'BuildingTheme':{'Dark':_0x55f3('0x2b5'),'Light':_0x55f3('0x2b6'),'Technology':_0x55f3('0x2b7'),'None':_0x55f3('0x2b8')},'RoadTheme':{'Style1':'style1','Style2':_0x55f3('0x2b9')}},_0x4bfdf1[_0x55f3('0x27c')]={'BuildingTheme':{'Dark':'dark','Light':_0x55f3('0x2b6'),'Technology':_0x55f3('0x2b7'),'None':_0x55f3('0x2b8')},'TileTheme':{'Night':_0x55f3('0x2ba'),'Day':_0x55f3('0x2bb')},'RoadTheme':{'Style1':_0x55f3('0x2bc'),'Style2':'style2'}},_0x4bfdf1['ESParkConstant']={'BuildingTheme':{'Dark':_0x55f3('0x2b5'),'Light':_0x55f3('0x2b6'),'Technology':_0x55f3('0x2b7'),'None':_0x55f3('0x2b8')},'RoadTheme':{'Style1':_0x55f3('0x2bc'),'Style2':_0x55f3('0x2b9')}},_0x4bfdf1[_0x55f3('0x27a')]={'NoFace':_0x55f3('0x2bd'),'LineFrame':_0x55f3('0x2be'),'BlendingAdditive':'transparentHL'},_0x4bfdf1[_0x55f3('0x2bf')]={'Buildings':0x1,'Floors':0x2,'Ground':0x3,'Lights':0x4,'Routes':0x5,'Skybox':0x6,'Water':0x7,'Models':0x8,'PostProcessing':0x9,'Shadow':0xa,'Fog':0xb},_0x4bfdf1[_0x55f3('0x279')]=_0xf7d534;},function(_0x43c635,_0x59ede9,_0x3a0f71){var _0x55ae12=_0x3a0f71(0x9),_0x525a81=_0x3a0f71(0x1d),_0x399cd6=_0x3a0f71(0x5)('species');_0x43c635[_0x55f3('0x0')]=function(_0x43c635,_0x59ede9){var _0x43c635=_0x55ae12(_0x43c635)[_0x55f3('0x83')];return void 0x0===_0x43c635||null==(_0x43c635=_0x55ae12(_0x43c635)[_0x399cd6])?_0x59ede9:_0x525a81(_0x43c635);};},function(_0x152a5b,_0x3952b7,_0x360175){function _0x1d18ac(){var _0x152a5b,_0x3952b7=+this;_0x53b0fb[_0x55f3('0xc')](_0x3952b7)&&(_0x152a5b=_0x53b0fb[_0x3952b7],delete _0x53b0fb[_0x3952b7],_0x152a5b());}function _0x355fc1(_0x152a5b){_0x1d18ac[_0x55f3('0x1')](_0x152a5b[_0x55f3('0x2c0')]);}var _0x168f3e,_0x1e5323=_0x360175(0x10),_0x3ce1ca=_0x360175(0x78),_0x444573=_0x360175(0x3b),_0x4ef8fd=_0x360175(0x26),_0x2879e4=_0x360175(0x3),_0x2b1b25=_0x2879e4[_0x55f3('0x2c1')],_0x48b346=_0x2879e4[_0x55f3('0x2c2')],_0x3959ac=_0x2879e4[_0x55f3('0x2c3')],_0x32e530=_0x2879e4[_0x55f3('0x2c4')],_0x3a6765=_0x2879e4[_0x55f3('0x2c5')],_0x1f0459=0x0,_0x53b0fb={},_0x448e7b=_0x55f3('0x2c6');_0x48b346&&_0x3959ac||(_0x48b346=function(_0x152a5b){for(var _0x3952b7=[],_0x360175=0x1;_0x360175<arguments[_0x55f3('0xf')];)_0x3952b7[_0x55f3('0x73')](arguments[_0x360175++]);return _0x53b0fb[++_0x1f0459]=function(){_0x3ce1ca(_0x55f3('0x1c')==typeof _0x152a5b?_0x152a5b:Function(_0x152a5b),_0x3952b7);},_0x168f3e(_0x1f0459),_0x1f0459;},_0x3959ac=function(_0x152a5b){delete _0x53b0fb[_0x152a5b];},_0x55f3('0x2c1')==_0x360175(0x16)(_0x2b1b25)?_0x168f3e=function(_0x152a5b){_0x2b1b25[_0x55f3('0x2c7')](_0x1e5323(_0x1d18ac,_0x152a5b,0x1));}:_0x3a6765&&_0x3a6765[_0x55f3('0x2c8')]?_0x168f3e=function(_0x152a5b){_0x3a6765[_0x55f3('0x2c8')](_0x1e5323(_0x1d18ac,_0x152a5b,0x1));}:_0x32e530?(_0x32e530=(_0x360175=new _0x32e530())[_0x55f3('0x2c9')],_0x360175[_0x55f3('0x2ca')][_0x55f3('0x2cb')]=_0x355fc1,_0x168f3e=_0x1e5323(_0x32e530['postMessage'],_0x32e530,0x1)):_0x2879e4[_0x55f3('0x2cc')]&&'function'==typeof postMessage&&!_0x2879e4['importScripts']?(_0x168f3e=function(_0x152a5b){_0x2879e4[_0x55f3('0x2cd')](_0x152a5b+'','*');},_0x2879e4[_0x55f3('0x2cc')](_0x55f3('0x2ce'),_0x355fc1,!0x1)):_0x168f3e=_0x448e7b in _0x4ef8fd(_0x55f3('0x2cf'))?function(_0x152a5b){_0x444573['appendChild'](_0x4ef8fd(_0x55f3('0x2cf')))[_0x448e7b]=function(){_0x444573['removeChild'](this),_0x1d18ac[_0x55f3('0x1')](_0x152a5b);};}:function(_0x152a5b){setTimeout(_0x1e5323(_0x1d18ac,_0x152a5b,0x1),0x0);}),_0x152a5b['exports']={'set':_0x48b346,'clear':_0x3959ac};},function(_0xe6504d,_0x303bfd){_0xe6504d['exports']=function(_0xe6504d){try{return{'e':!0x1,'v':_0xe6504d()};}catch(_0x507922){return{'e':!0x0,'v':_0x507922};}};},function(_0x2a4247,_0x50a5f4,_0x34c7f9){var _0x1dc260=_0x34c7f9(0x9),_0x7977e5=_0x34c7f9(0xa),_0x5ae2a9=_0x34c7f9(0x44);_0x2a4247[_0x55f3('0x0')]=function(_0x2a4247,_0x50a5f4){if(_0x1dc260(_0x2a4247),_0x7977e5(_0x50a5f4)&&_0x50a5f4[_0x55f3('0x83')]===_0x2a4247)return _0x50a5f4;_0x2a4247=_0x5ae2a9['f'](_0x2a4247);return(0x0,_0x2a4247[_0x55f3('0x261')])(_0x50a5f4),_0x2a4247['promise'];};},function(_0x963c77,_0x1ebd75,_0x574f60){_0x574f60(0x1a),_0x574f60(0x1f),_0x963c77['exports']=_0x574f60(0x2f)['f'](_0x55f3('0x84'));},function(_0x460178,_0x5e1373,_0x41bced){_0x41bced(0x5f),_0x41bced(0x3c),_0x41bced(0x62),_0x41bced(0x63),_0x460178[_0x55f3('0x0')]=_0x41bced(0x2)['Symbol'];},function(_0x1a6cb8,_0x4f905e,_0x369a65){'use strict';function _0x312120(_0x369a65){var _0x4d3d7f=_0x1ef241[_0x369a65]=_0x39113f(_0x322e09[_0x189400]);return _0x4d3d7f['_k']=_0x369a65,_0x4d3d7f;}function _0x56e852(_0x369a65,_0x230567){_0x4b8031(_0x369a65);for(var _0x56e852,_0x312120=_0x5bca5a(_0x230567=_0x343d4b(_0x230567)),_0x505360=0x0,_0x37a1be=_0x312120[_0x55f3('0xf')];_0x505360<_0x37a1be;)_0x5f1bc9(_0x369a65,_0x56e852=_0x312120[_0x505360++],_0x230567[_0x56e852]);return _0x369a65;}function _0x4b31da(_0x369a65){var _0x4b31da=_0x9cf11e['call'](this,_0x369a65=_0x19c7c8(_0x369a65,!0x0));return!(this===_0x26fd92&&_0x33e633(_0x1ef241,_0x369a65)&&!_0x33e633(_0xeba92,_0x369a65))&&(!(_0x4b31da||!_0x33e633(this,_0x369a65)||!_0x33e633(_0x1ef241,_0x369a65)||_0x33e633(this,_0x24b900)&&this[_0x24b900][_0x369a65])||_0x4b31da);}function _0x13ef93(_0x369a65,_0x4b31da){var _0x56e852;if(_0x369a65=_0x343d4b(_0x369a65),_0x4b31da=_0x19c7c8(_0x4b31da,!0x0),_0x369a65!==_0x26fd92||!_0x33e633(_0x1ef241,_0x4b31da)||_0x33e633(_0xeba92,_0x4b31da))return!(_0x56e852=_0x3b02d4(_0x369a65,_0x4b31da))||!_0x33e633(_0x1ef241,_0x4b31da)||_0x33e633(_0x369a65,_0x24b900)&&_0x369a65[_0x24b900][_0x4b31da]||(_0x56e852[_0x55f3('0x10')]=!0x0),_0x56e852;}function _0x4b554c(_0x369a65){for(var _0x4b31da,_0x56e852=_0x2c4011(_0x343d4b(_0x369a65)),_0x312120=[],_0x13ef93=0x0;_0x56e852[_0x55f3('0xf')]>_0x13ef93;)_0x33e633(_0x1ef241,_0x4b31da=_0x56e852[_0x13ef93++])||_0x4b31da==_0x24b900||_0x4b31da==_0x74ae52||_0x312120[_0x55f3('0x73')](_0x4b31da);return _0x312120;}function _0x1263e9(_0x369a65){for(var _0x4b31da,_0x56e852=_0x369a65===_0x26fd92,_0x312120=_0x2c4011(_0x56e852?_0xeba92:_0x343d4b(_0x369a65)),_0x13ef93=[],_0x4b554c=0x0;_0x312120[_0x55f3('0xf')]>_0x4b554c;)!_0x33e633(_0x1ef241,_0x4b31da=_0x312120[_0x4b554c++])||_0x56e852&&!_0x33e633(_0x26fd92,_0x4b31da)||_0x13ef93[_0x55f3('0x73')](_0x1ef241[_0x4b31da]);return _0x13ef93;}function _0x5f1bc9(_0x369a65,_0x4b31da,_0x56e852){return _0x369a65===_0x26fd92&&_0x5f1bc9(_0xeba92,_0x4b31da,_0x56e852),_0x4b8031(_0x369a65),_0x4b31da=_0x19c7c8(_0x4b31da,!0x0),_0x4b8031(_0x56e852),_0x33e633(_0x1ef241,_0x4b31da)?(_0x56e852[_0x55f3('0x10')]?(_0x33e633(_0x369a65,_0x24b900)&&_0x369a65[_0x24b900][_0x4b31da]&&(_0x369a65[_0x24b900][_0x4b31da]=!0x1),_0x56e852=_0x39113f(_0x56e852,{'enumerable':_0x38657e(0x0,!0x1)})):(_0x33e633(_0x369a65,_0x24b900)||_0x3d0981(_0x369a65,_0x24b900,_0x38657e(0x1,{})),_0x369a65[_0x24b900][_0x4b31da]=!0x0),_0x9ea89(_0x369a65,_0x4b31da,_0x56e852)):_0x3d0981(_0x369a65,_0x4b31da,_0x56e852);}var _0x1f23c4=_0x369a65(0x3),_0x33e633=_0x369a65(0xc),_0xdfd704=_0x369a65(0x7),_0x329856=_0x369a65(0x6),_0x1a0f57=_0x369a65(0x38),_0x74ae52=_0x369a65(0x4e)[_0x55f3('0x2d0')],_0x422856=_0x369a65(0xd),_0x2fdb69=_0x369a65(0x24),_0x17aca2=_0x369a65(0x19),_0x32f17b=_0x369a65(0x18),_0x2e6a6b=_0x369a65(0x5),_0x4534e8=_0x369a65(0x2f),_0x2570ee=_0x369a65(0x30),_0x5bca5a=_0x369a65(0x60),_0x123f05=_0x369a65(0x57),_0x4b8031=_0x369a65(0x9),_0x56f17f=_0x369a65(0xa),_0x37536e=_0x369a65(0x11),_0x343d4b=_0x369a65(0xe),_0x19c7c8=_0x369a65(0x27),_0x38657e=_0x369a65(0x15),_0x39113f=_0x369a65(0x23),_0x7cd094=_0x369a65(0x61),_0x2d804b=_0x369a65(0x46),_0x369de5=_0x369a65(0x31),_0x34f8=_0x369a65(0x8),_0x3a9897=_0x369a65(0x14),_0x3b02d4=_0x2d804b['f'],_0x3d0981=_0x34f8['f'],_0x2c4011=_0x7cd094['f'],_0x322e09=_0x1f23c4[_0x55f3('0x1b')],_0x35419c=_0x1f23c4[_0x55f3('0x2d1')],_0x1fdf77=_0x35419c&&_0x35419c[_0x55f3('0x2d2')],_0x189400=_0x55f3('0x15'),_0x24b900=_0x2e6a6b(_0x55f3('0x2d3')),_0x14ba19=_0x2e6a6b(_0x55f3('0x2d4')),_0x9cf11e={}['propertyIsEnumerable'],_0xb5e893=_0x2fdb69('symbol-registry'),_0x1ef241=_0x2fdb69(_0x55f3('0x2d5')),_0xeba92=_0x2fdb69(_0x55f3('0x2d6')),_0x26fd92=Object[_0x189400],_0x2fdb69=_0x55f3('0x1c')==typeof _0x322e09&&!!_0x369de5['f'],_0x57bb1c=_0x1f23c4['QObject'],_0x2143b5=!_0x57bb1c||!_0x57bb1c[_0x189400]||!_0x57bb1c[_0x189400][_0x55f3('0x2d7')],_0x9ea89=_0xdfd704&&_0x422856(function(){return 0x7!=_0x39113f(_0x3d0981({},'a',{'get':function(){return _0x3d0981(this,'a',{'value':0x7})['a'];}}))['a'];})?function(_0x369a65,_0x4b31da,_0x56e852){var _0x312120=_0x3b02d4(_0x26fd92,_0x4b31da);_0x312120&&delete _0x26fd92[_0x4b31da],_0x3d0981(_0x369a65,_0x4b31da,_0x56e852),_0x312120&&_0x369a65!==_0x26fd92&&_0x3d0981(_0x26fd92,_0x4b31da,_0x312120);}:_0x3d0981,_0x34046f=_0x2fdb69&&_0x55f3('0x82')==typeof _0x322e09['iterator']?function(_0x369a65){return _0x55f3('0x82')==typeof _0x369a65;}:function(_0x369a65){return _0x369a65 instanceof _0x322e09;};_0x2fdb69||(_0x1a0f57((_0x322e09=function(){if(this instanceof _0x322e09)throw TypeError(_0x55f3('0x2d8'));var _0x4b31da=_0x32f17b(0x0<arguments[_0x55f3('0xf')]?arguments[0x0]:void 0x0),_0x56e852=function(_0x369a65){this===_0x26fd92&&_0x56e852['call'](_0xeba92,_0x369a65),_0x33e633(this,_0x24b900)&&_0x33e633(this[_0x24b900],_0x4b31da)&&(this[_0x24b900][_0x4b31da]=!0x1),_0x9ea89(this,_0x4b31da,_0x38657e(0x1,_0x369a65));};return _0xdfd704&&_0x2143b5&&_0x9ea89(_0x26fd92,_0x4b31da,{'configurable':!0x0,'set':_0x56e852}),_0x312120(_0x4b31da);})[_0x189400],_0x55f3('0x23'),function(){return this['_k'];}),_0x2d804b['f']=_0x13ef93,_0x34f8['f']=_0x5f1bc9,_0x369a65(0x42)['f']=_0x7cd094['f']=_0x4b554c,_0x369a65(0x20)['f']=_0x4b31da,_0x369de5['f']=_0x1263e9,_0xdfd704&&!_0x369a65(0x13)&&_0x1a0f57(_0x26fd92,_0x55f3('0x68'),_0x4b31da,!0x0),_0x4534e8['f']=function(_0x369a65){return _0x312120(_0x2e6a6b(_0x369a65));}),_0x329856(_0x329856['G']+_0x329856['W']+_0x329856['F']*!_0x2fdb69,{'Symbol':_0x322e09});for(var _0x1cff1d=_0x55f3('0x2d9')[_0x55f3('0x67')](','),_0x5927e7=0x0;_0x1cff1d['length']>_0x5927e7;)_0x2e6a6b(_0x1cff1d[_0x5927e7++]);for(var _0x4dd675=_0x3a9897(_0x2e6a6b[_0x55f3('0x1e')]),_0x1ac64d=0x0;_0x4dd675[_0x55f3('0xf')]>_0x1ac64d;)_0x2570ee(_0x4dd675[_0x1ac64d++]);_0x329856(_0x329856['S']+_0x329856['F']*!_0x2fdb69,_0x55f3('0x1b'),{'for':function(_0x369a65){return _0x33e633(_0xb5e893,_0x369a65+='')?_0xb5e893[_0x369a65]:_0xb5e893[_0x369a65]=_0x322e09(_0x369a65);},'keyFor':function(_0x369a65){if(!_0x34046f(_0x369a65))throw TypeError(_0x369a65+_0x55f3('0x2da'));for(var _0x4b31da in _0xb5e893)if(_0xb5e893[_0x4b31da]===_0x369a65)return _0x4b31da;},'useSetter':function(){_0x2143b5=!0x0;},'useSimple':function(){_0x2143b5=!0x1;}}),_0x329856(_0x329856['S']+_0x329856['F']*!_0x2fdb69,'Object',{'create':function(_0x369a65,_0x4b31da){return void 0x0===_0x4b31da?_0x39113f(_0x369a65):_0x56e852(_0x39113f(_0x369a65),_0x4b31da);},'defineProperty':_0x5f1bc9,'defineProperties':_0x56e852,'getOwnPropertyDescriptor':_0x13ef93,'getOwnPropertyNames':_0x4b554c,'getOwnPropertySymbols':_0x1263e9});_0x57bb1c=_0x422856(function(){_0x369de5['f'](0x1);});_0x329856(_0x329856['S']+_0x329856['F']*_0x57bb1c,'Object',{'getOwnPropertySymbols':function(_0x369a65){return _0x369de5['f'](_0x37536e(_0x369a65));}}),_0x35419c&&_0x329856(_0x329856['S']+_0x329856['F']*(!_0x2fdb69||_0x422856(function(){var _0x369a65=_0x322e09();return _0x55f3('0x2db')!=_0x1fdf77([_0x369a65])||'{}'!=_0x1fdf77({'a':_0x369a65})||'{}'!=_0x1fdf77(Object(_0x369a65));})),_0x55f3('0x2d1'),{'stringify':function(_0x369a65){for(var _0x4b31da,_0x56e852,_0x312120=[_0x369a65],_0x13ef93=0x1;_0x13ef93<arguments['length'];)_0x312120['push'](arguments[_0x13ef93++]);if(_0x56e852=_0x4b31da=_0x312120[0x1],(_0x56f17f(_0x4b31da)||void 0x0!==_0x369a65)&&!_0x34046f(_0x369a65))return _0x123f05(_0x4b31da)||(_0x4b31da=function(_0x369a65,_0x4b31da){if(_0x55f3('0x1c')==typeof _0x56e852&&(_0x4b31da=_0x56e852[_0x55f3('0x1')](this,_0x369a65,_0x4b31da)),!_0x34046f(_0x4b31da))return _0x4b31da;}),_0x312120[0x1]=_0x4b31da,_0x1fdf77[_0x55f3('0x1f')](_0x35419c,_0x312120);}}),_0x322e09[_0x189400][_0x14ba19]||_0x369a65(0xb)(_0x322e09[_0x189400],_0x14ba19,_0x322e09[_0x189400][_0x55f3('0x7a')]),_0x17aca2(_0x322e09,_0x55f3('0x1b')),_0x17aca2(Math,_0x55f3('0x18'),!0x0),_0x17aca2(_0x1f23c4['JSON'],_0x55f3('0x2d1'),!0x0);},function(_0xf3d56e,_0xa8642a,_0x418133){var _0x5e190a=_0x418133(0x14),_0x491958=_0x418133(0x31),_0x37ebf4=_0x418133(0x20);_0xf3d56e[_0x55f3('0x0')]=function(_0xf3d56e){var _0xa8642a=_0x5e190a(_0xf3d56e),_0x418133=_0x491958['f'];if(_0x418133)for(var _0x4bcb4f,_0x2d9f09=_0x418133(_0xf3d56e),_0xe99bca=_0x37ebf4['f'],_0x50f773=0x0;_0x2d9f09[_0x55f3('0xf')]>_0x50f773;)_0xe99bca[_0x55f3('0x1')](_0xf3d56e,_0x4bcb4f=_0x2d9f09[_0x50f773++])&&_0xa8642a[_0x55f3('0x73')](_0x4bcb4f);return _0xa8642a;};},function(_0xdf08ba,_0x2533bd,_0x3ea9f1){var _0x1f471b=_0x3ea9f1(0xe),_0x2681d9=_0x3ea9f1(0x42)['f'],_0x14cea1={}['toString'],_0x4457ff='object'==typeof window&&window&&Object[_0x55f3('0x2dc')]?Object[_0x55f3('0x2dc')](window):[];_0xdf08ba[_0x55f3('0x0')]['f']=function(_0xdf08ba){if(!_0x4457ff||'[object\x20Window]'!=_0x14cea1[_0x55f3('0x1')](_0xdf08ba))return _0x2681d9(_0x1f471b(_0xdf08ba));try{return _0x2681d9(_0xdf08ba);}catch(_0x3a408d){return _0x4457ff[_0x55f3('0x24')]();}};},function(_0x564d2a,_0x3e7726,_0x2536d8){_0x2536d8(0x30)(_0x55f3('0x2dd'));},function(_0x40512d,_0x20fe83,_0x20395a){_0x20395a(0x30)(_0x55f3('0x2de'));},function(_0x516431,_0x42699c,_0x4fe92a){_0x4fe92a(0x65);var _0x258989=_0x4fe92a(0x2)[_0x55f3('0x266')];_0x516431[_0x55f3('0x0')]=function(_0x516431,_0x42699c){return _0x258989['create'](_0x516431,_0x42699c);};},function(_0x5ceb0f,_0x48cb49,_0x1e5188){var _0x1893da=_0x1e5188(0x6);_0x1893da(_0x1893da['S'],'Object',{'create':_0x1e5188(0x23)});},function(_0x1e1ce5,_0x2e939e,_0x1620db){_0x1620db(0x67),_0x1e1ce5['exports']=_0x1620db(0x2)[_0x55f3('0x266')]['keys'];},function(_0x5a0ee4,_0x581f7e,_0x534532){var _0x39571d=_0x534532(0x11),_0x3a63a9=_0x534532(0x14);_0x534532(0x4f)(_0x55f3('0x22'),function(){return function(_0x5a0ee4){return _0x3a63a9(_0x39571d(_0x5a0ee4));};});},function(_0x30a390,_0x445cb8,_0x2e1e16){_0x2e1e16(0x69);var _0x59b52f=_0x2e1e16(0x2)['Object'];_0x30a390['exports']=function(_0x30a390,_0x445cb8){return _0x59b52f[_0x55f3('0x2df')](_0x30a390,_0x445cb8);};},function(_0x148de6,_0x3f7d14,_0x5b1e6d){var _0x3238d3=_0x5b1e6d(0x6);_0x3238d3(_0x3238d3['S']+_0x3238d3['F']*!_0x5b1e6d(0x7),_0x55f3('0x266'),{'defineProperties':_0x5b1e6d(0x39)});},function(_0x2e89e5,_0x54e297){_0x2e89e5[_0x55f3('0x0')]=function(_0x2e89e5,_0x54e297,_0x47d3d4,_0x56bfa1){if(!(_0x2e89e5 instanceof _0x54e297)||void 0x0!==_0x56bfa1&&_0x56bfa1 in _0x2e89e5)throw TypeError(_0x47d3d4+_0x55f3('0x2e0'));return _0x2e89e5;};},function(_0x5f28e7,_0x3b992a,_0x5d4f07){var _0x39f314=_0x5d4f07(0x9);_0x5f28e7[_0x55f3('0x0')]=function(_0x3b992a,_0x5f28e7,_0x5d4f07,_0x33940c){try{return _0x33940c?_0x5f28e7(_0x39f314(_0x5d4f07)[0x0],_0x5d4f07[0x1]):_0x5f28e7(_0x5d4f07);}catch(_0x23da0d){_0x33940c=_0x3b992a['return'];throw void 0x0!==_0x33940c&&_0x39f314(_0x33940c[_0x55f3('0x1')](_0x3b992a)),_0x23da0d;}};},function(_0x477bd6,_0x4e9869,_0x27e182){var _0x4f2c9a=_0x27e182(0xf),_0x3b0de6=_0x27e182(0x5)(_0x55f3('0x84')),_0x14e2e7=Array['prototype'];_0x477bd6['exports']=function(_0x477bd6){return void 0x0!==_0x477bd6&&(_0x4f2c9a['Array']===_0x477bd6||_0x14e2e7[_0x3b0de6]===_0x477bd6);};},function(_0x35fb29,_0x50efd0,_0x5c4226){var _0x4cec56=_0x5c4226(0xb);_0x35fb29[_0x55f3('0x0')]=function(_0x35fb29,_0x50efd0,_0x5c4226){for(var _0x76170c in _0x50efd0)_0x5c4226&&_0x35fb29[_0x76170c]?_0x35fb29[_0x76170c]=_0x50efd0[_0x76170c]:_0x4cec56(_0x35fb29,_0x76170c,_0x50efd0[_0x76170c]);return _0x35fb29;};},function(_0x8e0824,_0x221489,_0x3834fc){var _0x41ae36=_0x3834fc(0x5)(_0x55f3('0x84')),_0x366740=!0x1;try{var _0x3ad49c=[0x7][_0x41ae36]();_0x3ad49c[_0x55f3('0x271')]=function(){_0x366740=!0x0;},Array[_0x55f3('0x2e1')](_0x3ad49c,function(){throw 0x2;});}catch(_0x38c327){}_0x8e0824['exports']=function(_0x8e0824,_0x221489){if(!_0x221489&&!_0x366740)return!0x1;var _0x3834fc=!0x1;try{var _0x3ad49c=[0x7],_0x261230=_0x3ad49c[_0x41ae36]();_0x261230[_0x55f3('0x85')]=function(){return{'done':_0x3834fc=!0x0};},_0x3ad49c[_0x41ae36]=function(){return _0x261230;},_0x8e0824(_0x3ad49c);}catch(_0x446820){}return _0x3834fc;};},function(_0x427179,_0x12bc64,_0x34a774){_0x427179['exports']={'default':_0x34a774(0x70),'__esModule':!0x0};},function(_0x39bbff,_0x1a51d0,_0x4d71ec){_0x4d71ec(0x71),_0x39bbff['exports']=_0x4d71ec(0x2)[_0x55f3('0x266')][_0x55f3('0x2e2')];},function(_0x1a5777,_0xf1a512,_0x1147d6){var _0x18107c=_0x1147d6(0x6);_0x18107c(_0x18107c['S']+_0x18107c['F'],'Object',{'assign':_0x1147d6(0x72)});},function(_0x45424e,_0x56ba1b,_0x296ce7){'use strict';var _0x3a1ea2=_0x296ce7(0x7),_0x3dd9b1=_0x296ce7(0x14),_0x2cd229=_0x296ce7(0x31),_0x2d09d1=_0x296ce7(0x20),_0x406c9a=_0x296ce7(0x11),_0x53db7a=_0x296ce7(0x34),_0x264449=Object[_0x55f3('0x2e2')];_0x45424e[_0x55f3('0x0')]=!_0x264449||_0x296ce7(0xd)(function(){var _0x45424e={},_0x56ba1b={},_0x296ce7=Symbol(),_0x5c86f3='abcdefghijklmnopqrst';return _0x45424e[_0x296ce7]=0x7,_0x5c86f3['split']('')[_0x55f3('0x2e3')](function(_0x45424e){_0x56ba1b[_0x45424e]=_0x45424e;}),0x7!=_0x264449({},_0x45424e)[_0x296ce7]||Object[_0x55f3('0x22')](_0x264449({},_0x56ba1b))[_0x55f3('0x106')]('')!=_0x5c86f3;})?function(_0x45424e,_0x56ba1b){for(var _0x296ce7=_0x406c9a(_0x45424e),_0x57212a=arguments['length'],_0x264449=0x1,_0x4eb7cc=_0x2cd229['f'],_0x3abd1b=_0x2d09d1['f'];_0x264449<_0x57212a;)for(var _0x208d44,_0x4fa46d=_0x53db7a(arguments[_0x264449++]),_0x3fa082=_0x4eb7cc?_0x3dd9b1(_0x4fa46d)[_0x55f3('0x62')](_0x4eb7cc(_0x4fa46d)):_0x3dd9b1(_0x4fa46d),_0x41b9bc=_0x3fa082[_0x55f3('0xf')],_0x43d4d5=0x0;_0x43d4d5<_0x41b9bc;)_0x208d44=_0x3fa082[_0x43d4d5++],_0x3a1ea2&&!_0x3abd1b[_0x55f3('0x1')](_0x4fa46d,_0x208d44)||(_0x296ce7[_0x208d44]=_0x4fa46d[_0x208d44]);return _0x296ce7;}:_0x264449;},function(_0x2a55ee,_0x22da5e,_0x2e515b){'use strict';var _0x4cca94=_0x2e515b(0x3),_0x1ab32f=_0x2e515b(0x2),_0x188245=_0x2e515b(0x8),_0x346530=_0x2e515b(0x7),_0x5cfcb0=_0x2e515b(0x5)(_0x55f3('0x2e4'));_0x2a55ee['exports']=function(_0x2a55ee){_0x2a55ee=(_0x55f3('0x1c')==typeof _0x1ab32f[_0x2a55ee]?_0x1ab32f:_0x4cca94)[_0x2a55ee];_0x346530&&_0x2a55ee&&!_0x2a55ee[_0x5cfcb0]&&_0x188245['f'](_0x2a55ee,_0x5cfcb0,{'configurable':!0x0,'get':function(){return this;}});};},function(_0x3e9836,_0x2fb5ef,_0x357fd2){'use strict';Object['defineProperty'](_0x2fb5ef,_0x55f3('0x7'),{'value':!0x0});var _0xa0e004=_0x13170e(_0x357fd2(0x28)),_0x1f9cc3=_0x13170e(_0x357fd2(0x0)),_0x28666d=_0x13170e(_0x357fd2(0x1)),_0x55c359=_0x13170e(_0x357fd2(0x29)),_0x14841f=_0x13170e(_0x357fd2(0x2a));function _0x13170e(_0x3e9836){return _0x3e9836&&_0x3e9836['__esModule']?_0x3e9836:{'default':_0x3e9836};}function _0x30a2b4(_0x3e9836){var _0x2fb5ef=_0x3e9836['timer'],_0x357fd2=_0x3e9836['imageWidth'],_0x357fd2=void 0x0===_0x357fd2?0x100:_0x357fd2,_0x28666d=_0x3e9836[_0x55f3('0x2e5')],_0x28666d=void 0x0===_0x28666d?0x100:_0x28666d,_0x14841f=_0x3e9836[_0x55f3('0x2e6')],_0x14841f=void 0x0===_0x14841f?0x1:_0x14841f,_0x13170e=_0x3e9836[_0x55f3('0x2e7')],_0x13170e=void 0x0===_0x13170e?0x1:_0x13170e,_0x2b25ab=_0x3e9836[_0x55f3('0x2e8')],_0x2b25ab=void 0x0===_0x2b25ab?0xc:_0x2b25ab,_0x1b2e27=_0x3e9836[_0x55f3('0x2e9')],_0x1b2e27=void 0x0===_0x1b2e27?0x0:_0x1b2e27,_0x3e9836=_0x3e9836[_0x55f3('0x2ea')],_0x3e9836=void 0x0===_0x3e9836?0x0:_0x3e9836,_0x33ebcf=((0x0,_0x1f9cc3[_0x55f3('0x9')])(this,_0x30a2b4),(0x0,_0x55c359[_0x55f3('0x9')])(this,(_0x30a2b4[_0x55f3('0x7d')]||(0x0,_0xa0e004[_0x55f3('0x9')])(_0x30a2b4))[_0x55f3('0x1')](this)));return _0x33ebcf[_0x55f3('0x2eb')]=_0x2fb5ef,_0x33ebcf[_0x55f3('0x2ec')]=_0x357fd2,_0x33ebcf[_0x55f3('0x2e5')]=_0x28666d,_0x33ebcf[_0x55f3('0x2ed')]=_0x357fd2/_0x14841f,_0x33ebcf['ySize']=_0x28666d/_0x13170e,_0x33ebcf[_0x55f3('0x2e6')]=_0x14841f,_0x33ebcf[_0x55f3('0x2e7')]=_0x13170e,_0x33ebcf[_0x55f3('0x2e8')]=_0x2b25ab,_0x33ebcf['xIndex']=_0x1b2e27,_0x33ebcf[_0x55f3('0x2ee')]=_0x3e9836,_0x33ebcf['isAutoClip']=!0x1,_0x33ebcf['texture']=null,_0x33ebcf[_0x55f3('0x2ef')]=!0x1,_0x33ebcf[_0x55f3('0x2f0')]={'x':_0x1b2e27,'y':_0x3e9836},_0x33ebcf[_0x55f3('0x2f1')]=!0x0,_0x33ebcf[_0x55f3('0x2f2')]=!0x1,_0x33ebcf[_0x55f3('0x2f3')]=0x0,_0x33ebcf;}_0x357fd2=_0x357fd2(0x2b)[_0x55f3('0x7e')],(0x0,_0x14841f[_0x55f3('0x9')])(_0x30a2b4,_0x357fd2),(0x0,_0x28666d[_0x55f3('0x9')])(_0x30a2b4,[{'key':'create','value':function(_0x3e9836,_0x2fb5ef){this[_0x55f3('0x1c6')]=_0x3e9836,_0x2fb5ef&&(this[_0x55f3('0x1c6')][_0x55f3('0x2f4')]['x']=0x1/this['xCount'],this[_0x55f3('0x1c6')][_0x55f3('0x2f4')]['y']=0x1/this[_0x55f3('0x2e7')],this[_0x55f3('0x2f5')]=_0x2fb5ef),this['texture'][_0x55f3('0xf7')]=!0x0;}},{'key':'setTextureByStartFrame','value':function(){this[_0x55f3('0x1c6')][_0x55f3('0xf5')]['x']=this[_0x55f3('0x2f6')]*this[_0x55f3('0x2ed')]/this[_0x55f3('0x2ec')],this[_0x55f3('0x1c6')][_0x55f3('0xf5')]['y']=(this[_0x55f3('0x2e5')]-this[_0x55f3('0x2f7')]-this[_0x55f3('0x2ee')]*this[_0x55f3('0x2f7')])/this[_0x55f3('0x2e5')];}},{'key':_0x55f3('0x2f8'),'value':function(){var _0x3e9836,_0x2fb5ef;this[_0x55f3('0x2eb')]&&this[_0x55f3('0x1c6')]&&!this[_0x55f3('0x2f2')]&&(_0x2fb5ef=this[_0x55f3('0x2eb')][_0x55f3('0x2f9')](),_0x3e9836=Math[_0x55f3('0x64')](_0x2fb5ef*this[_0x55f3('0x2e8')]%this[_0x55f3('0x2e6')]),_0x2fb5ef=Math['floor'](_0x2fb5ef*this[_0x55f3('0x2e8')]%this[_0x55f3('0x2e7')]),0x1===this[_0x55f3('0x2e6')]?(this['texture'][_0x55f3('0xf5')]['x']=0x0,this[_0x55f3('0x1c6')][_0x55f3('0xf5')]['y']=(this['imageHeight']-this[_0x55f3('0x2f7')]-_0x2fb5ef*this[_0x55f3('0x2f7')])/this[_0x55f3('0x2e5')]):_0x3e9836!=this[_0x55f3('0x2f6')]&&(this['xIndex']=_0x3e9836,0x0==this[_0x55f3('0x2f6')]&&(this['yIndex']++,this[_0x55f3('0x2ee')]==this['yCount']&&(this[_0x55f3('0x2ee')]=0x0)),this[_0x55f3('0x2f5')]?(this[_0x55f3('0x1c6')]['offset']['x']=this[_0x55f3('0x2f6')]*this['xSize']/this['imageWidth'],this[_0x55f3('0x1c6')][_0x55f3('0xf5')]['y']=(this[_0x55f3('0x2e5')]-this[_0x55f3('0x2f7')]-this[_0x55f3('0x2ee')]*this['ySize'])/this[_0x55f3('0x2e5')]):(this[_0x55f3('0x1c6')]['offset']['x']=this['xIndex']*this[_0x55f3('0x2ed')]/this[_0x55f3('0x2ec')],this[_0x55f3('0x1c6')][_0x55f3('0xf5')]['y']=this[_0x55f3('0x2ee')]*this[_0x55f3('0x2f7')]/this[_0x55f3('0x2e5')])),this[_0x55f3('0x2f6')]==this[_0x55f3('0x2f0')]['x']&&this[_0x55f3('0x2ee')]==this[_0x55f3('0x2f0')]['y']&&(this[_0x55f3('0x2f3')]++,this[_0x55f3('0x2ef')]&&this[_0x55f3('0x2fa')]({'type':_0x55f3('0x2fb')}),!this[_0x55f3('0x2f1')]&&0x1<=this['loopCount']&&(this[_0x55f3('0x2f2')]=!0x0)));}}]),_0x2fb5ef[_0x55f3('0x9')]=_0x30a2b4;},function(_0x327b7e,_0x42e124,_0x3929c1){'use strict';Object[_0x55f3('0x4')](_0x42e124,_0x55f3('0x7'),{'value':!0x0});var _0x319787=_0x2825d9(_0x3929c1(0x4)),_0x5578c8=_0x2825d9(_0x3929c1(0x0)),_0x224cee=_0x2825d9(_0x3929c1(0x1)),_0x288fdb=_0x2825d9(_0x3929c1(0x36));function _0x2825d9(_0x327b7e){return _0x327b7e&&_0x327b7e['__esModule']?_0x327b7e:{'default':_0x327b7e};}var _0x5e4776=_0x3929c1(0x86),_0x3929c1=((0x0,_0x224cee[_0x55f3('0x9')])(_0x4554d1,[{'key':_0x55f3('0x2fc'),'value':function(_0x327b7e){var _0x42e124=_0x327b7e['texture'],_0x3929c1=_0x327b7e[_0x55f3('0x2fd')],_0x327b7e=_0x327b7e[_0x55f3('0x2f4')];this[_0x55f3('0x2fe')]=new _0x5e4776[(_0x55f3('0x2ff'))]({'map':_0x42e124,'useMap':this[_0x55f3('0x209')][_0x55f3('0x94')],'useFadeOut':!0x1,'fadeOutFactor':0x0,'color':new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x3929c1),'opacity':this[_0x55f3('0x221')],'dashArray':this['params'][_0x55f3('0x301')],'dashOffset':this[_0x55f3('0x209')][_0x55f3('0x302')],'dashRatio':this[_0x55f3('0x209')]['dashRatio'],'resolution':this['resolution'],'sizeAttenuation':this['params'][_0x55f3('0x303')],'lineWidth':this[_0x55f3('0x209')][_0x55f3('0x304')],'near':this['camera'][_0x55f3('0x305')],'far':this[_0x55f3('0x306')][_0x55f3('0x307')],'depthWrite':!0x1,'depthTest':!0x0,'alphaTest':0x0,'transparent':!0x0,'side':THREE[_0x55f3('0x308')],'repeat':new THREE[(_0x55f3('0x1b4'))](_0x327b7e['x'],_0x327b7e['y']),'offset':new THREE['Vector2'](0x0,0x0),'useChange':!0x1}),this[_0x55f3('0x2fe')][_0x55f3('0x1e8')]=!0x0,this[_0x55f3('0x2fe')][_0x55f3('0x8b')]=_0x55f3('0x309');}},{'key':_0x55f3('0x30a'),'value':function(){var _0x327b7e=new THREE[(_0x55f3('0x30b'))]();return _0x327b7e[_0x55f3('0x30c')][_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](-0x64,0x0,-0x64)),_0x327b7e[_0x55f3('0x30c')][_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](0x64,0x0,-0x64)),_0x327b7e['vertices'][_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](0x64,0x0,0x64)),_0x327b7e[_0x55f3('0x30c')][_0x55f3('0x73')](new THREE['Vector3'](-0x64,0x0,0x64)),_0x327b7e[_0x55f3('0x30c')][_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](-0x64,0x0,-0x64)),_0x327b7e;}},{'key':'makeLineGeometry','value':function(_0x327b7e){for(var _0x42e124=new THREE[(_0x55f3('0x30b'))](),_0x3929c1=0x0,_0x224cee=_0x327b7e[_0x55f3('0xf')];_0x3929c1<_0x224cee;_0x3929c1++)_0x42e124[_0x55f3('0x30c')][_0x55f3('0x73')](_0x327b7e[_0x3929c1]);return _0x42e124;}},{'key':_0x55f3('0x30d'),'value':function(_0x327b7e){var _0x42e124=this[_0x55f3('0x30e')](_0x327b7e),_0x3929c1=new _0x5e4776[(_0x55f3('0x30f'))]();switch(this[_0x55f3('0x209')]['taper']){case _0x55f3('0x2b8'):_0x3929c1['setGeometry'](_0x42e124);break;case _0x55f3('0x310'):_0x3929c1[_0x55f3('0x311')](_0x42e124,function(_0x327b7e){return 0x1-_0x327b7e;});break;case _0x55f3('0x312'):_0x3929c1[_0x55f3('0x311')](_0x42e124,function(_0x327b7e){return+Math[_0x55f3('0x313')](0x4*_0x327b7e*(0x1-_0x327b7e),0x1);});break;case _0x55f3('0x314'):_0x3929c1[_0x55f3('0x311')](_0x42e124,function(_0x327b7e){return 0x2+Math[_0x55f3('0x5b')](0x32*_0x327b7e);});}return _0x3929c1['geometry'];}},{'key':'addLine','value':function(_0x327b7e,_0x42e124){var _0x3929c1=_0x327b7e[0x0],_0x224cee=[],_0x288fdb=!0x0,_0x2825d9=!0x1,_0x595723=void 0x0;try{for(var _0x518e73,_0x59541c=(0x0,_0x319787[_0x55f3('0x9')])(_0x327b7e);!(_0x288fdb=(_0x518e73=_0x59541c[_0x55f3('0x85')]())['done']);_0x288fdb=!0x0){var _0xf02951=_0x518e73[_0x55f3('0x12')],_0x24ae92=_0xf02951['x']-_0x3929c1['x'],_0x5578c8=_0xf02951['z']-_0x3929c1['z'];_0x224cee[_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](_0x24ae92,_0xf02951['y'],_0x5578c8));}}catch(_0x425fe1){_0x2825d9=!0x0,_0x595723=_0x425fe1;}finally{try{!_0x288fdb&&_0x59541c[_0x55f3('0x271')]&&_0x59541c['return']();}finally{if(_0x2825d9)throw _0x595723;}}var _0x464d00=this[_0x55f3('0x30e')](_0x224cee),_0x5b99c1=new _0x5e4776[(_0x55f3('0x30f'))]();switch(this[_0x55f3('0x315')][_0x55f3('0x73')](_0x5b99c1),this[_0x55f3('0x209')][_0x55f3('0x316')]){case _0x55f3('0x2b8'):_0x5b99c1['setGeometry'](_0x464d00);break;case'linear':_0x5b99c1[_0x55f3('0x311')](_0x464d00,function(_0x327b7e){return 0x1-_0x327b7e;});break;case _0x55f3('0x312'):_0x5b99c1[_0x55f3('0x311')](_0x464d00,function(_0x327b7e){return+Math['pow'](0x4*_0x327b7e*(0x1-_0x327b7e),0x1);});break;case _0x55f3('0x314'):_0x5b99c1['setGeometry'](_0x464d00,function(_0x327b7e){return 0x2+Math['sin'](0x32*_0x327b7e);});}_0x327b7e=new THREE[(_0x55f3('0x317'))](_0x5b99c1[_0x55f3('0x95')],this[_0x55f3('0x2fe')]);return _0x327b7e[_0x55f3('0x318')]=this[_0x55f3('0x318')],this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x327b7e),_0x327b7e;}},{'key':_0x55f3('0x31a'),'value':function(_0x327b7e,_0x42e124,_0x3929c1){var _0x224cee=[],_0x288fdb=!0x0,_0x2825d9=!0x1,_0x4ef2a9=void 0x0;try{for(var _0x5d653a,_0x41b677=(0x0,_0x319787[_0x55f3('0x9')])(_0x327b7e);!(_0x288fdb=(_0x5d653a=_0x41b677[_0x55f3('0x85')]())['done']);_0x288fdb=!0x0){var _0x479142=_0x5d653a[_0x55f3('0x12')],_0x2874ec=new THREE['Vector3'](-(_0x42e124['x']+_0x479142['x']),_0x479142[_0x55f3('0xf5')]||0x0,_0x479142['y']-_0x42e124['z']);_0x224cee[_0x55f3('0x73')](_0x2874ec);}}catch(_0x3f9e9d){_0x2825d9=!0x0,_0x4ef2a9=_0x3f9e9d;}finally{try{!_0x288fdb&&_0x41b677[_0x55f3('0x271')]&&_0x41b677['return']();}finally{if(_0x2825d9)throw _0x4ef2a9;}}var _0x5578c8=this[_0x55f3('0x30e')](_0x224cee),_0x1ff0e6=new _0x5e4776['MeshLine']();switch(_0x3929c1||this[_0x55f3('0x209')][_0x55f3('0x316')]){case _0x55f3('0x2b8'):_0x1ff0e6[_0x55f3('0x311')](_0x5578c8);break;case'linear':_0x1ff0e6['setGeometry'](_0x5578c8,function(_0x327b7e){return 0x1-_0x327b7e;});break;case _0x55f3('0x312'):_0x1ff0e6[_0x55f3('0x311')](_0x5578c8,function(_0x327b7e){return+Math[_0x55f3('0x313')](0x4*_0x327b7e*(0x1-_0x327b7e),0x1);});break;case _0x55f3('0x314'):_0x1ff0e6[_0x55f3('0x311')](_0x5578c8,function(_0x327b7e){return 0x2+Math[_0x55f3('0x5b')](0x32*_0x327b7e);});}return _0x1ff0e6[_0x55f3('0x95')];}},{'key':_0x55f3('0x31b'),'value':function(_0x327b7e,_0x42e124,_0x3929c1){return this[_0x55f3('0x31c')]['subVectors'](_0x3929c1,_0x42e124),this['tempStartPoint'][_0x55f3('0x1ba')](_0x42e124)[_0x55f3('0x1c2')](),this[_0x55f3('0x31d')][_0x55f3('0x1ba')](_0x3929c1)[_0x55f3('0x1c2')](),0x0<this[_0x55f3('0x31e')][_0x55f3('0x31f')](this['tempEndPoint'])['y']?-_0x327b7e[_0x55f3('0x320')](this[_0x55f3('0x31c')]):_0x327b7e['angleTo'](this[_0x55f3('0x31c')]);}},{'key':_0x55f3('0x321'),'value':function(_0x327b7e){for(var _0x42e124=0x0,_0x3929c1=(_0x327b7e[_0x55f3('0x322')][_0x55f3('0x2e3')](function(_0x327b7e){_0x42e124+=_0x327b7e[_0x55f3('0x95')]['attributes'][_0x55f3('0x38')][_0x55f3('0xfc')];}),new THREE[(_0x55f3('0x1e9'))]()),_0x224cee=(_0x3929c1[_0x55f3('0x1f2')]('position',new THREE[(_0x55f3('0x102'))](new Float32Array(0x3*_0x42e124),0x3)),0x0),_0x288fdb=(_0x327b7e['children'][_0x55f3('0x2e3')](function(_0x327b7e){_0x3929c1[_0x55f3('0x323')](_0x327b7e[_0x55f3('0x95')],_0x224cee),_0x224cee+=_0x327b7e[_0x55f3('0x95')][_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0xfc')];}),_0x3929c1['center'](_0x3929c1),new THREE[(_0x55f3('0x324'))]()),_0x2825d9=(_0x288fdb[_0x55f3('0x325')](0x3e8,0x3e8,0x3e8),_0x3929c1['applyMatrix'](_0x288fdb),new THREE['Mesh'](_0x3929c1,new THREE['MeshNormalMaterial']())),_0x513cf0=(_0x327b7e[_0x55f3('0x1c3')](_0x2825d9),new THREE['Raycaster']()),_0x551387=[],_0x1bb794=-0xc8,_0x5a976d=0x0,_0x364f07=new THREE[(_0x55f3('0x5a'))](),_0x5578c8=new THREE['Vector3'](),_0x140a99=0x0;_0x140a99<0x1770;_0x140a99++){_0x5a976d+=0.1,_0x1bb794+=0.075,_0x364f07['set'](0x3e8*Math[_0x55f3('0x5c')](_0x5a976d),_0x1bb794,0x3e8*Math[_0x55f3('0x5b')](_0x5a976d)),_0x5578c8[_0x55f3('0x39')](-_0x364f07['x'],0x0,-_0x364f07['z']),_0x5578c8=_0x5578c8[_0x55f3('0x1c2')](),_0x513cf0[_0x55f3('0x39')](_0x364f07,_0x5578c8);var _0x59c9f4=_0x513cf0[_0x55f3('0x326')](_0x2825d9,!0x0);_0x59c9f4[_0x55f3('0xf')]&&_0x551387[_0x55f3('0x73')](_0x59c9f4[0x0]['point']['x'],_0x59c9f4[0x0]['point']['y'],_0x59c9f4[0x0][_0x55f3('0x327')]['z']);}_0x327b7e[_0x55f3('0x96')](_0x2825d9);_0x288fdb=new _0x5e4776['MeshLine'](),_0x288fdb[_0x55f3('0x311')](_0x551387,function(_0x327b7e){return _0x327b7e;}),_0x288fdb=new THREE[(_0x55f3('0x317'))](_0x288fdb['geometry'],this[_0x55f3('0x2fe')]);_0x327b7e[_0x55f3('0x1c3')](_0x288fdb);}},{'key':'removeLine','value':function(_0x327b7e){_0x288fdb['default'][_0x55f3('0x328')](_0x327b7e);}},{'key':_0x55f3('0x329'),'value':function(_0x327b7e){var _0x42e124=this;_0x327b7e['on'](_0x55f3('0x32a'),function(_0x327b7e){_0x42e124[_0x55f3('0x2fe')][_0x55f3('0x32b')][_0x55f3('0x39')](_0x327b7e[_0x55f3('0x32c')],_0x327b7e[_0x55f3('0x32d')]);});}},{'key':'dispose','value':function(){this[_0x55f3('0x2fe')]&&this[_0x55f3('0x2fe')][_0x55f3('0x93')](),this['lineMaterial']=null,this['texture']&&this['texture'][_0x55f3('0x93')](),this[_0x55f3('0x1c6')]=null,this[_0x55f3('0x315')][_0x55f3('0xf')]=0x0,_0x288fdb['default'][_0x55f3('0x32e')](this[_0x55f3('0x319')]);}},{'key':'fadeOut','value':function(_0x327b7e){var _0x42e124;this[_0x55f3('0x2fe')]&&(_0x327b7e=_0x327b7e||1.5,this[_0x55f3('0x2fe')][_0x55f3('0x32f')]=!0x0,this['lineMaterial'][_0x55f3('0x330')]=0x0,_0x42e124=this,new TWEEN[(_0x55f3('0x331'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x327b7e)[_0x55f3('0x332')](function(_0x327b7e){_0x42e124[_0x55f3('0x2fe')][_0x55f3('0x330')]=_0x327b7e['x'];})[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')]['In'])['start']());}},{'key':_0x55f3('0x336'),'value':function(_0x327b7e){this[_0x55f3('0x2fe')]&&(this['lineMaterial'][_0x55f3('0x164')][_0x55f3('0xf5')][_0x55f3('0x12')]['x']-=_0x327b7e*this[_0x55f3('0x337')]);}},{'key':_0x55f3('0x338'),'set':function(_0x327b7e){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x327b7e;},'get':function(){return this[_0x55f3('0x319')]['visible'];}}]),_0x4554d1);function _0x4554d1(_0x327b7e){var _0x42e124=_0x327b7e[_0x55f3('0x306')],_0x3929c1=_0x327b7e[_0x55f3('0x1c6')],_0x224cee=_0x327b7e[_0x55f3('0x2fd')],_0x224cee=void 0x0===_0x224cee?_0x55f3('0x339'):_0x224cee,_0x288fdb=_0x327b7e['opacity'],_0x288fdb=void 0x0===_0x288fdb?0x1:_0x288fdb,_0x2825d9=_0x327b7e[_0x55f3('0x304')],_0x2825d9=void 0x0===_0x2825d9?0x7:_0x2825d9,_0x5581fd=_0x327b7e[_0x55f3('0x33a')],_0x5581fd=void 0x0===_0x5581fd?_0x55f3('0x2b8'):_0x5581fd,_0x36f0d7=_0x327b7e['repeat'],_0x36f0d7=void 0x0===_0x36f0d7?{'x':0x1,'y':0x1}:_0x36f0d7,_0x4e9d6d=_0x327b7e['resolution'],_0x3f2fcf=_0x327b7e[_0x55f3('0x337')],_0x3f2fcf=void 0x0===_0x3f2fcf?0x1:_0x3f2fcf,_0x2cb9d3=_0x327b7e['isCanChangeStyle'],_0x2cb9d3=void 0x0!==_0x2cb9d3&&_0x2cb9d3,_0x327b7e=_0x327b7e[_0x55f3('0x318')],_0x327b7e=void 0x0===_0x327b7e?0xb:_0x327b7e;(0x0,_0x5578c8['default'])(this,_0x4554d1),this[_0x55f3('0x306')]=_0x42e124,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this['renderOrder']=_0x327b7e,this['params']={'curves':!0x0,'circles':!0x1,'amount':0x32,'lineWidth':_0x2825d9,'dashArray':0x0,'dashOffset':0x0,'dashRatio':0.3,'taper':_0x5581fd,'map':!0x0,'sizeAttenuation':!0x1,'animateWidth':!0x1,'spread':!0x1,'autoRotate':!0x0,'autoUpdate':!0x0,'animateVisibility':!0x1,'animateDashOffset':!0x1,'isCanChangeStyle':_0x2cb9d3},this[_0x55f3('0x32b')]=_0x4e9d6d||new THREE['Vector2'](window['innerWidth'],window['innerHeight']),this[_0x55f3('0x337')]=_0x3f2fcf,this[_0x55f3('0x1c6')]=_0x3929c1,this[_0x55f3('0x1c6')][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x1c6')][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x221')]=_0x288fdb,this['lineMaterial']=null,this[_0x55f3('0x2fc')]({'texture':_0x3929c1,'colorStr':_0x224cee,'repeat':_0x36f0d7}),this[_0x55f3('0x31e')]=new THREE[(_0x55f3('0x5a'))](),this['tempEndPoint']=new THREE[(_0x55f3('0x5a'))](),this[_0x55f3('0x31c')]=new THREE[(_0x55f3('0x5a'))](),this['meshLines']=[];}_0x42e124[_0x55f3('0x9')]=_0x3929c1;},function(_0x246523,_0x201295,_0x80d9ed){_0x80d9ed(0x3c),_0x80d9ed(0x1a),_0x80d9ed(0x1f),_0x80d9ed(0x77),_0x80d9ed(0x7b),_0x80d9ed(0x7c),_0x246523[_0x55f3('0x0')]=_0x80d9ed(0x2)[_0x55f3('0x33f')];},function(_0x17f66a,_0x419133,_0x158935){'use strict';function _0x4c38e7(){}function _0x450990(_0x52bf46){return 0x1!==_0x52bf46['_h']&&0x0===(_0x52bf46['_a']||_0x52bf46['_c'])['length'];}var _0x156add,_0x926849,_0x3b2a14,_0x27b72c,_0x16b9b5=_0x158935(0x13),_0x748a0d=_0x158935(0x3),_0x378de6=_0x158935(0x10),_0x4bd0d1=_0x158935(0x32),_0x22d23a=_0x158935(0x6),_0x2db93c=_0x158935(0xa),_0xa17a47=_0x158935(0x1d),_0x539aa9=_0x158935(0x6a),_0x31d69d=_0x158935(0x54),_0x5fc3d6=_0x158935(0x59),_0x30fe6f=_0x158935(0x5a)['set'],_0x11c514=_0x158935(0x79)(),_0x7c3b3c=_0x158935(0x44),_0x1cadec=_0x158935(0x5b),_0x399f02=_0x158935(0x7a),_0x246dd5=_0x158935(0x5c),_0x5637c3='Promise',_0x5e1448=_0x748a0d[_0x55f3('0x340')],_0x33f9a0=_0x748a0d[_0x55f3('0x2c1')],_0x5e33f8=_0x33f9a0&&_0x33f9a0['versions'],_0x5ccec6=_0x5e33f8&&_0x5e33f8['v8']||'',_0xb2473a=_0x748a0d[_0x5637c3],_0xf74728=_0x55f3('0x2c1')==_0x4bd0d1(_0x33f9a0),_0x18285f=_0x926849=_0x7c3b3c['f'],_0x5e33f8=!!function(){try{var _0x4bd0d1=_0xb2473a[_0x55f3('0x261')](0x1),_0x156add=(_0x4bd0d1[_0x55f3('0x83')]={})[_0x158935(0x5)(_0x55f3('0x2e4'))]=function(_0x4bd0d1){_0x4bd0d1(_0x4c38e7,_0x4c38e7);};return(_0xf74728||_0x55f3('0x1c')==typeof PromiseRejectionEvent)&&_0x4bd0d1[_0x55f3('0x341')](_0x4c38e7)instanceof _0x156add&&0x0!==_0x5ccec6[_0x55f3('0x4b')](_0x55f3('0x342'))&&-0x1===_0x399f02[_0x55f3('0x4b')](_0x55f3('0x343'));}catch(_0x293c6a){}}(),_0x12a49d=function(_0x4bd0d1){var _0x156add;return!(!_0x2db93c(_0x4bd0d1)||'function'!=typeof(_0x156add=_0x4bd0d1[_0x55f3('0x341')]))&&_0x156add;},_0x29db66=function(_0x2db93c,_0x156add){var _0x158935;_0x2db93c['_n']||(_0x2db93c['_n']=!0x0,_0x158935=_0x2db93c['_c'],_0x11c514(function(){for(var _0x926849,_0x378de6=_0x2db93c['_v'],_0x22d23a=0x1==_0x2db93c['_s'],_0x4bd0d1=0x0;_0x158935['length']>_0x4bd0d1;)!function(_0x4bd0d1){var _0x156add,_0x158935,_0x4c38e7,_0x926849,_0x450990=_0x22d23a?_0x4bd0d1['ok']:_0x4bd0d1[_0x55f3('0x344')],_0x3b2a14=_0x4bd0d1[_0x55f3('0x261')],_0x27b72c=_0x4bd0d1[_0x55f3('0x262')],_0x16b9b5=_0x4bd0d1['domain'];try{_0x450990?(_0x22d23a||(0x2==_0x2db93c['_h']&&(_0x926849=_0x2db93c,_0x30fe6f['call'](_0x748a0d,function(){var _0x4bd0d1;_0xf74728?_0x33f9a0['emit'](_0x55f3('0x345'),_0x926849):(_0x4bd0d1=_0x748a0d[_0x55f3('0x346')])&&_0x4bd0d1({'promise':_0x926849,'reason':_0x926849['_v']});})),_0x2db93c['_h']=0x1),!0x0===_0x450990?_0x156add=_0x378de6:(_0x16b9b5&&_0x16b9b5['enter'](),_0x156add=_0x450990(_0x378de6),_0x16b9b5&&(_0x16b9b5[_0x55f3('0x347')](),_0x4c38e7=!0x0)),_0x156add===_0x4bd0d1[_0x55f3('0x348')]?_0x27b72c(_0x5e1448(_0x55f3('0x349'))):(_0x158935=_0x12a49d(_0x156add))?_0x158935[_0x55f3('0x1')](_0x156add,_0x3b2a14,_0x27b72c):_0x3b2a14(_0x156add)):_0x27b72c(_0x378de6);}catch(_0x321f14){_0x16b9b5&&!_0x4c38e7&&_0x16b9b5['exit'](),_0x27b72c(_0x321f14);}}(_0x158935[_0x4bd0d1++]);_0x2db93c['_c']=[],_0x2db93c['_n']=!0x1,_0x156add&&!_0x2db93c['_h']&&(_0x926849=_0x2db93c,_0x30fe6f[_0x55f3('0x1')](_0x748a0d,function(){var _0x4bd0d1,_0x156add,_0x158935=_0x926849['_v'],_0x4c38e7=_0x450990(_0x926849);if(_0x4c38e7&&(_0x4bd0d1=_0x1cadec(function(){_0xf74728?_0x33f9a0[_0x55f3('0x34a')]('unhandledRejection',_0x158935,_0x926849):(_0x156add=_0x748a0d[_0x55f3('0x34b')])?_0x156add({'promise':_0x926849,'reason':_0x158935}):(_0x156add=_0x748a0d[_0x55f3('0x34c')])&&_0x156add['error']&&_0x156add[_0x55f3('0x1f5')](_0x55f3('0x34d'),_0x158935);}),_0x926849['_h']=_0xf74728||_0x450990(_0x926849)?0x2:0x1),_0x926849['_a']=void 0x0,_0x4c38e7&&_0x4bd0d1['e'])throw _0x4bd0d1['v'];}));}));},_0x5988c7=function(_0x4bd0d1){var _0x156add=this;_0x156add['_d']||(_0x156add['_d']=!0x0,(_0x156add=_0x156add['_w']||_0x156add)['_v']=_0x4bd0d1,_0x156add['_s']=0x2,_0x156add['_a']||(_0x156add['_a']=_0x156add['_c'][_0x55f3('0x24')]()),_0x29db66(_0x156add,!0x0));},_0x57da03=function(_0x4bd0d1){var _0x158935,_0x4c38e7=this;if(!_0x4c38e7['_d']){_0x4c38e7['_d']=!0x0,_0x4c38e7=_0x4c38e7['_w']||_0x4c38e7;try{if(_0x4c38e7===_0x4bd0d1)throw _0x5e1448(_0x55f3('0x34e'));(_0x158935=_0x12a49d(_0x4bd0d1))?_0x11c514(function(){var _0x156add={'_w':_0x4c38e7,'_d':!0x1};try{_0x158935[_0x55f3('0x1')](_0x4bd0d1,_0x378de6(_0x57da03,_0x156add,0x1),_0x378de6(_0x5988c7,_0x156add,0x1));}catch(_0x3842cb){_0x5988c7[_0x55f3('0x1')](_0x156add,_0x3842cb);}}):(_0x4c38e7['_v']=_0x4bd0d1,_0x4c38e7['_s']=0x1,_0x29db66(_0x4c38e7,!0x1));}catch(_0x5c766b){_0x5988c7['call']({'_w':_0x4c38e7,'_d':!0x1},_0x5c766b);}}};_0x5e33f8||(_0xb2473a=function(_0x4bd0d1){_0x539aa9(this,_0xb2473a,_0x5637c3,'_h'),_0xa17a47(_0x4bd0d1),_0x156add['call'](this);try{_0x4bd0d1(_0x378de6(_0x57da03,this,0x1),_0x378de6(_0x5988c7,this,0x1));}catch(_0x2e1064){_0x5988c7[_0x55f3('0x1')](this,_0x2e1064);}},(_0x156add=function(_0x4bd0d1){this['_c']=[],this['_a']=void 0x0,this['_s']=0x0,this['_d']=!0x1,this['_v']=void 0x0,this['_h']=0x0,this['_n']=!0x1;})['prototype']=_0x158935(0x6d)(_0xb2473a[_0x55f3('0x15')],{'then':function(_0x4bd0d1,_0x156add){var _0x158935=_0x18285f(_0x5fc3d6(this,_0xb2473a));return _0x158935['ok']=_0x55f3('0x1c')!=typeof _0x4bd0d1||_0x4bd0d1,_0x158935[_0x55f3('0x344')]=_0x55f3('0x1c')==typeof _0x156add&&_0x156add,_0x158935['domain']=_0xf74728?_0x33f9a0[_0x55f3('0x34f')]:void 0x0,this['_c'][_0x55f3('0x73')](_0x158935),this['_a']&&this['_a'][_0x55f3('0x73')](_0x158935),this['_s']&&_0x29db66(this,!0x1),_0x158935[_0x55f3('0x348')];},'catch':function(_0x4bd0d1){return this[_0x55f3('0x341')](void 0x0,_0x4bd0d1);}}),_0x3b2a14=function(){var _0x4bd0d1=new _0x156add();this['promise']=_0x4bd0d1,this['resolve']=_0x378de6(_0x57da03,_0x4bd0d1,0x1),this['reject']=_0x378de6(_0x5988c7,_0x4bd0d1,0x1);},_0x7c3b3c['f']=_0x18285f=function(_0x4bd0d1){return _0x4bd0d1===_0xb2473a||_0x4bd0d1===_0x27b72c?new _0x3b2a14():_0x926849(_0x4bd0d1);}),_0x22d23a(_0x22d23a['G']+_0x22d23a['W']+_0x22d23a['F']*!_0x5e33f8,{'Promise':_0xb2473a}),_0x158935(0x19)(_0xb2473a,_0x5637c3),_0x158935(0x73)(_0x5637c3),_0x27b72c=_0x158935(0x2)[_0x5637c3],_0x22d23a(_0x22d23a['S']+_0x22d23a['F']*!_0x5e33f8,_0x5637c3,{'reject':function(_0x4bd0d1){var _0x156add=_0x18285f(this);return(0x0,_0x156add[_0x55f3('0x262')])(_0x4bd0d1),_0x156add[_0x55f3('0x348')];}}),_0x22d23a(_0x22d23a['S']+_0x22d23a['F']*(_0x16b9b5||!_0x5e33f8),_0x5637c3,{'resolve':function(_0x4bd0d1){return _0x246dd5(_0x16b9b5&&this===_0x27b72c?_0xb2473a:this,_0x4bd0d1);}}),_0x22d23a(_0x22d23a['S']+_0x22d23a['F']*!(_0x5e33f8&&_0x158935(0x6e)(function(_0x4bd0d1){_0xb2473a['all'](_0x4bd0d1)['catch'](_0x4c38e7);})),_0x5637c3,{'all':function(_0x4bd0d1){var _0x3b2a14=this,_0x156add=_0x18285f(_0x3b2a14),_0x27b72c=_0x156add['resolve'],_0x16b9b5=_0x156add[_0x55f3('0x262')],_0x158935=_0x1cadec(function(){var _0x4c38e7=[],_0x926849=0x0,_0x450990=0x1;_0x31d69d(_0x4bd0d1,!0x1,function(_0x4bd0d1){var _0x156add=_0x926849++,_0x158935=!0x1;_0x4c38e7[_0x55f3('0x73')](void 0x0),_0x450990++,_0x3b2a14[_0x55f3('0x261')](_0x4bd0d1)[_0x55f3('0x341')](function(_0x4bd0d1){_0x158935||(_0x158935=!0x0,_0x4c38e7[_0x156add]=_0x4bd0d1,--_0x450990||_0x27b72c(_0x4c38e7));},_0x16b9b5);}),--_0x450990||_0x27b72c(_0x4c38e7);});return _0x158935['e']&&_0x16b9b5(_0x158935['v']),_0x156add[_0x55f3('0x348')];},'race':function(_0x4bd0d1){var _0x156add=this,_0x158935=_0x18285f(_0x156add),_0x4c38e7=_0x158935[_0x55f3('0x262')],_0x926849=_0x1cadec(function(){_0x31d69d(_0x4bd0d1,!0x1,function(_0x4bd0d1){_0x156add['resolve'](_0x4bd0d1)[_0x55f3('0x341')](_0x158935['resolve'],_0x4c38e7);});});return _0x926849['e']&&_0x4c38e7(_0x926849['v']),_0x158935['promise'];}});},function(_0x2d80c1,_0x312c07){_0x2d80c1['exports']=function(_0x2d80c1,_0x312c07,_0x201eee){var _0x501c88=void 0x0===_0x201eee;switch(_0x312c07[_0x55f3('0xf')]){case 0x0:return _0x501c88?_0x2d80c1():_0x2d80c1[_0x55f3('0x1')](_0x201eee);case 0x1:return _0x501c88?_0x2d80c1(_0x312c07[0x0]):_0x2d80c1[_0x55f3('0x1')](_0x201eee,_0x312c07[0x0]);case 0x2:return _0x501c88?_0x2d80c1(_0x312c07[0x0],_0x312c07[0x1]):_0x2d80c1['call'](_0x201eee,_0x312c07[0x0],_0x312c07[0x1]);case 0x3:return _0x501c88?_0x2d80c1(_0x312c07[0x0],_0x312c07[0x1],_0x312c07[0x2]):_0x2d80c1['call'](_0x201eee,_0x312c07[0x0],_0x312c07[0x1],_0x312c07[0x2]);case 0x4:return _0x501c88?_0x2d80c1(_0x312c07[0x0],_0x312c07[0x1],_0x312c07[0x2],_0x312c07[0x3]):_0x2d80c1[_0x55f3('0x1')](_0x201eee,_0x312c07[0x0],_0x312c07[0x1],_0x312c07[0x2],_0x312c07[0x3]);}return _0x2d80c1[_0x55f3('0x1f')](_0x201eee,_0x312c07);};},function(_0x3724e9,_0x3dfc4d,_0x5a5c5a){var _0x3c2b80=_0x5a5c5a(0x3),_0x3f8a0f=_0x5a5c5a(0x5a)['set'],_0x34e7f5=_0x3c2b80[_0x55f3('0x350')]||_0x3c2b80[_0x55f3('0x351')],_0x2028ec=_0x3c2b80[_0x55f3('0x2c1')],_0x2adf60=_0x3c2b80[_0x55f3('0x33f')],_0x4f2476=_0x55f3('0x2c1')==_0x5a5c5a(0x16)(_0x2028ec);_0x3724e9['exports']=function(){function _0x3724e9(){var _0x3724e9,_0x3dfc4d;for(_0x4f2476&&(_0x3724e9=_0x2028ec['domain'])&&_0x3724e9['exit']();_0x5a5c5a;){_0x3dfc4d=_0x5a5c5a['fn'],_0x5a5c5a=_0x5a5c5a['next'];try{_0x3dfc4d();}catch(_0x1af06c){throw _0x5a5c5a?_0x4814c3():_0x4db33a=void 0x0,_0x1af06c;}}_0x4db33a=void 0x0,_0x3724e9&&_0x3724e9['enter']();}var _0x5a5c5a,_0x4db33a,_0x3dfc4d,_0x1a39f3,_0x59ea00,_0x4814c3=_0x4f2476?function(){_0x2028ec['nextTick'](_0x3724e9);}:!_0x34e7f5||_0x3c2b80[_0x55f3('0x352')]&&_0x3c2b80[_0x55f3('0x352')][_0x55f3('0x353')]?_0x2adf60&&_0x2adf60[_0x55f3('0x261')]?(_0x3dfc4d=_0x2adf60[_0x55f3('0x261')](void 0x0),function(){_0x3dfc4d['then'](_0x3724e9);}):function(){_0x3f8a0f[_0x55f3('0x1')](_0x3c2b80,_0x3724e9);}:(_0x1a39f3=!0x0,_0x59ea00=document[_0x55f3('0x354')](''),new _0x34e7f5(_0x3724e9)[_0x55f3('0x355')](_0x59ea00,{'characterData':!0x0}),function(){_0x59ea00[_0x55f3('0x2c0')]=_0x1a39f3=!_0x1a39f3;});return function(_0x3724e9){_0x3724e9={'fn':_0x3724e9,'next':void 0x0};_0x4db33a&&(_0x4db33a[_0x55f3('0x85')]=_0x3724e9),_0x5a5c5a||(_0x5a5c5a=_0x3724e9,_0x4814c3()),_0x4db33a=_0x3724e9;};};},function(_0x297479,_0x11bbf9,_0xd7ea2f){_0xd7ea2f=_0xd7ea2f(0x3)[_0x55f3('0x352')];_0x297479[_0x55f3('0x0')]=_0xd7ea2f&&_0xd7ea2f[_0x55f3('0x5e')]||'';},function(_0x3d27da,_0x3e5751,_0x32a237){'use strict';var _0x9be9=_0x32a237(0x6),_0x24df4a=_0x32a237(0x2),_0x56045a=_0x32a237(0x3),_0x5bec87=_0x32a237(0x59),_0x33915f=_0x32a237(0x5c);_0x9be9(_0x9be9['P']+_0x9be9['R'],_0x55f3('0x33f'),{'finally':function(_0x3e5751){var _0x32a237=_0x5bec87(this,_0x24df4a['Promise']||_0x56045a[_0x55f3('0x33f')]),_0x3d27da='function'==typeof _0x3e5751;return this[_0x55f3('0x341')](_0x3d27da?function(_0x3d27da){return _0x33915f(_0x32a237,_0x3e5751())['then'](function(){return _0x3d27da;});}:_0x3e5751,_0x3d27da?function(_0x3d27da){return _0x33915f(_0x32a237,_0x3e5751())[_0x55f3('0x341')](function(){throw _0x3d27da;});}:_0x3e5751);}});},function(_0x36418f,_0x5db533,_0x4feaa7){'use strict';var _0x49bf85=_0x4feaa7(0x6),_0x3d5ff7=_0x4feaa7(0x44),_0x4a6ed5=_0x4feaa7(0x5b);_0x49bf85(_0x49bf85['S'],_0x55f3('0x33f'),{'try':function(_0x36418f){var _0x5db533=_0x3d5ff7['f'](this),_0x36418f=_0x4a6ed5(_0x36418f);return(_0x36418f['e']?_0x5db533['reject']:_0x5db533[_0x55f3('0x261')])(_0x36418f['v']),_0x5db533[_0x55f3('0x348')];}});},function(_0x4c0552,_0xf286ee,_0x2ea1cf){_0x4c0552['exports']={'default':_0x2ea1cf(0x7e),'__esModule':!0x0};},function(_0xc6f667,_0x4c5e2b,_0x422fe2){_0x422fe2(0x7f),_0xc6f667[_0x55f3('0x0')]=_0x422fe2(0x2)[_0x55f3('0x266')]['setPrototypeOf'];},function(_0x4ec97d,_0x1ff1c3,_0x32cca2){var _0x20197d=_0x32cca2(0x6);_0x20197d(_0x20197d['S'],_0x55f3('0x266'),{'setPrototypeOf':_0x32cca2(0x80)[_0x55f3('0x39')]});},function(_0xb86a3e,_0x5cfee2,_0x7f62d6){function _0x408c31(_0xb86a3e,_0x5cfee2){if(_0x4084b6(_0xb86a3e),!_0x2c41d3(_0x5cfee2)&&null!==_0x5cfee2)throw TypeError(_0x5cfee2+':\x20can\x27t\x20set\x20as\x20prototype!');}var _0x2c41d3=_0x7f62d6(0xa),_0x4084b6=_0x7f62d6(0x9);_0xb86a3e['exports']={'set':Object['setPrototypeOf']||(_0x55f3('0x7d')in{}?function(_0xb86a3e,_0x2c41d3,_0x4084b6){try{(_0x4084b6=_0x7f62d6(0x10)(Function[_0x55f3('0x1')],_0x7f62d6(0x46)['f'](Object['prototype'],_0x55f3('0x7d'))[_0x55f3('0x39')],0x2))(_0xb86a3e,[]),_0x2c41d3=!(_0xb86a3e instanceof Array);}catch(_0x53c144){_0x2c41d3=!0x0;}return function(_0xb86a3e,_0x5cfee2){return _0x408c31(_0xb86a3e,_0x5cfee2),_0x2c41d3?_0xb86a3e[_0x55f3('0x7d')]=_0x5cfee2:_0x4084b6(_0xb86a3e,_0x5cfee2),_0xb86a3e;};}({},!0x1):void 0x0),'check':_0x408c31};},function(_0x5d3e40,_0x1e40e9,_0x4e8ff8){var _0x4e8ff8=_0x4e8ff8(0x2),_0x4b83b6=_0x4e8ff8[_0x55f3('0x2d1')]||(_0x4e8ff8[_0x55f3('0x2d1')]={'stringify':JSON[_0x55f3('0x2d2')]});_0x5d3e40[_0x55f3('0x0')]=function(_0x5d3e40){return _0x4b83b6[_0x55f3('0x2d2')][_0x55f3('0x1f')](_0x4b83b6,arguments);};},function(_0x5077b5,_0x3061f9,_0x5628c6){'use strict';Object[_0x55f3('0x4')](_0x3061f9,'__esModule',{'value':!0x0});var _0x4d4e65=_0x4e1584(_0x5628c6(0x0));function _0x4e1584(_0x5077b5){return _0x5077b5&&_0x5077b5[_0x55f3('0x7')]?_0x5077b5:{'default':_0x5077b5};}function _0x369bcf(_0x5077b5,_0x3061f9,_0x5628c6,_0x4e1584,_0x351d88){(0x0,_0x4d4e65['default'])(this,_0x369bcf),this[_0x55f3('0x356')]=_0x5077b5,this[_0x55f3('0x357')]=_0x4e1584||'click',this['view']=_0x3061f9,this[_0x55f3('0x358')]=_0x5628c6,this['_handleGetPos']=this[_0x55f3('0x359')][_0x55f3('0xb')](this),this[_0x55f3('0x35a')]=_0x351d88;}(0x0,_0x4e1584(_0x5628c6(0x1))[_0x55f3('0x9')])(_0x369bcf,[{'key':_0x55f3('0x35b'),'value':function(){this[_0x55f3('0x356')][_0x55f3('0x2cc')](this[_0x55f3('0x357')],this['_handleGetPos'],!0x1);}},{'key':_0x55f3('0x93'),'value':function(){this['container'][_0x55f3('0x35c')](this[_0x55f3('0x357')],this[_0x55f3('0x35d')],!0x1);}},{'key':_0x55f3('0x35e'),'value':function(_0x5077b5){var _0x5077b5=_0x5077b5||window[_0x55f3('0x35f')],_0x3061f9=_0x5077b5['target']||_0x5077b5[_0x55f3('0x360')];return _0x5077b5[_0x55f3('0x361')]||(_0x3061f9=_0x3061f9[_0x55f3('0x362')](),_0x5077b5[_0x55f3('0x363')]-_0x3061f9[_0x55f3('0x364')]);}},{'key':'getOffsetY','value':function(_0x5077b5){var _0x5077b5=_0x5077b5||window[_0x55f3('0x35f')],_0x3061f9=_0x5077b5[_0x55f3('0x81')]||_0x5077b5[_0x55f3('0x360')];return _0x5077b5[_0x55f3('0x365')]||(_0x3061f9=_0x3061f9['getBoundingClientRect'](),_0x5077b5['clientY']-_0x3061f9[_0x55f3('0x364')]);}},{'key':_0x55f3('0x359'),'value':function(_0x5077b5){var _0x3061f9=this[_0x55f3('0x35e')](_0x5077b5),_0x5077b5=this[_0x55f3('0x366')](_0x5077b5),_0x3061f9=this[_0x55f3('0x367')][_0x55f3('0x368')]({'x':_0x3061f9,'y':_0x5077b5},this[_0x55f3('0x358')]);0x0<_0x3061f9['length']&&console['info'](_0x3061f9[0x0][_0x55f3('0x6')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x369')]['value'][0x0]['extent'],_0x3061f9[0x0]['object'][_0x55f3('0x3f')][_0x55f3('0x164')]['colorTextures'][_0x55f3('0x12')][0x0][_0x55f3('0x36a')]['currentSrc']);}}],[{'key':_0x55f3('0x36b'),'value':function(_0x5077b5){return ESTileMap[_0x55f3('0x36c')][_0x55f3('0x36d')]({'mapType':_0x55f3('0x36e'),'longitude':_0x5077b5[0x0],'latitude':_0x5077b5[0x1]});}},{'key':_0x55f3('0x36f'),'value':function(_0x5077b5){return ESTileMap[_0x55f3('0x36c')][_0x55f3('0x370')]({'mapType':'google','x':_0x5077b5['x'],'z':_0x5077b5['y']});}}]),_0x3061f9['default']=_0x369bcf;},function(_0x3d602f,_0x1f81ca,_0x5836db){'use strict';function _0x2d9414(_0x3d602f,_0x1f81ca){return this[_0x55f3('0x371')]=[],this[_0x55f3('0x372')](_0x3d602f,_0x1f81ca),this;}Object[_0x55f3('0x4')](_0x1f81ca,'__esModule',{'value':!0x0});var _0x54f1b2={'rainbow':[[0x0,0xff],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'rainbow_alpha':[[0x0,0x0],[0.2,0xff],[0.4,0xffff],[0.6,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x2d9414[_0x55f3('0x15')]={'constructor':THREE[_0x55f3('0x373')],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x3d602f){return _0x3d602f instanceof THREE[_0x55f3('0x373')]&&this[_0x55f3('0x1ba')](_0x3d602f),this;},'setMin':function(_0x3d602f){return this['minV']=_0x3d602f,this;},'setMax':function(_0x3d602f){return this[_0x55f3('0x374')]=_0x3d602f,this;},'setColorMap':function(_0x3d602f,_0x1f81ca){this[_0x55f3('0x94')]=_0x54f1b2[_0x3d602f]||_0x54f1b2[_0x55f3('0x375')],this['n']=_0x1f81ca||0x20;for(var _0x5836db=0x1/this['n'],_0x2d9414=this[_0x55f3('0x371')][_0x55f3('0xf')]=0x0;_0x2d9414<=0x1;_0x2d9414+=_0x5836db)for(var _0x37b9a6,_0x116f13,_0xf5045a,_0x1d5b47,_0xc631e=0x0;_0xc631e<this[_0x55f3('0x94')][_0x55f3('0xf')]-0x1;_0xc631e++)_0x2d9414>=this[_0x55f3('0x94')][_0xc631e][0x0]&&_0x2d9414<this['map'][_0xc631e+0x1][0x0]&&(_0x37b9a6=this[_0x55f3('0x94')][_0xc631e][0x0],_0x116f13=this['map'][_0xc631e+0x1][0x0],_0x1d5b47=new THREE['Color'](this[_0x55f3('0x94')][_0xc631e][0x1]),_0xf5045a=new THREE[(_0x55f3('0x1b7'))](this[_0x55f3('0x94')][_0xc631e+0x1][0x1]),_0x1d5b47=_0x1d5b47['lerp'](_0xf5045a,(_0x2d9414-_0x37b9a6)/(_0x116f13-_0x37b9a6)),this[_0x55f3('0x371')][_0x55f3('0x73')](_0x1d5b47));return this;},'copy':function(_0x3d602f){return this[_0x55f3('0x371')]=_0x3d602f[_0x55f3('0x371')],this[_0x55f3('0x94')]=_0x3d602f[_0x55f3('0x94')],this['n']=_0x3d602f['n'],this['minV']=_0x3d602f[_0x55f3('0x376')],this[_0x55f3('0x374')]=_0x3d602f[_0x55f3('0x374')],this;},'getColor':function(_0x3d602f){_0x3d602f<=this[_0x55f3('0x376')]?_0x3d602f=this['minV']:_0x3d602f>=this['maxV']&&(_0x3d602f=this[_0x55f3('0x374')]),_0x3d602f=(_0x3d602f-this[_0x55f3('0x376')])/(this[_0x55f3('0x374')]-this[_0x55f3('0x376')]);_0x3d602f=Math[_0x55f3('0x1be')](_0x3d602f*this['n']);return _0x3d602f==this['n']&&--_0x3d602f,this['lut'][_0x3d602f];},'addColorMap':function(_0x3d602f,_0x1f81ca){_0x54f1b2[_0x3d602f]=_0x1f81ca;},'createCanvas':function(){var _0x3d602f=document[_0x55f3('0x79')]('canvas');return _0x3d602f[_0x55f3('0x32c')]=0x1,_0x3d602f['height']=this['n'],this['updateCanvas'](_0x3d602f),_0x3d602f;},'updateCanvas':function(_0x3d602f){for(var _0x1f81ca=_0x3d602f[_0x55f3('0x377')]('2d',{'alpha':!0x1}),_0x5836db=_0x1f81ca[_0x55f3('0x378')](0x0,0x0,0x1,this['n']),_0x2d9414=_0x5836db[_0x55f3('0x2c0')],_0x12c455=0x0,_0x2829ea=0x1/this['n'],_0x3a279f=0x1;0x0<=_0x3a279f;_0x3a279f-=_0x2829ea)for(var _0x112581,_0x533967,_0x54f1b2,_0x387fb3,_0x1043fa=this[_0x55f3('0x94')][_0x55f3('0xf')]-0x1;0x0<=_0x1043fa;_0x1043fa--)_0x3a279f<this[_0x55f3('0x94')][_0x1043fa][0x0]&&_0x3a279f>=this[_0x55f3('0x94')][_0x1043fa-0x1][0x0]&&(_0x112581=this[_0x55f3('0x94')][_0x1043fa-0x1][0x0],_0x533967=this['map'][_0x1043fa][0x0],_0x387fb3=new THREE[(_0x55f3('0x1b7'))](this[_0x55f3('0x94')][_0x1043fa-0x1][0x1]),_0x54f1b2=new THREE[(_0x55f3('0x1b7'))](this[_0x55f3('0x94')][_0x1043fa][0x1]),_0x387fb3=_0x387fb3[_0x55f3('0x1b5')](_0x54f1b2,(_0x3a279f-_0x112581)/(_0x533967-_0x112581)),_0x2d9414[0x4*_0x12c455]=Math[_0x55f3('0x1be')](0xff*_0x387fb3['r']),_0x2d9414[0x4*_0x12c455+0x1]=Math['round'](0xff*_0x387fb3['g']),_0x2d9414[0x4*_0x12c455+0x2]=Math[_0x55f3('0x1be')](0xff*_0x387fb3['b']),_0x2d9414[0x4*_0x12c455+0x3]=0xff,_0x12c455+=0x1);return _0x1f81ca[_0x55f3('0x379')](_0x5836db,0x0,0x0),_0x3d602f;}},_0x1f81ca['Lut']=_0x2d9414,_0x1f81ca[_0x55f3('0x37a')]=_0x54f1b2;},function(_0x41854b,_0x1b0b84,_0x4444f1){'use strict';Object['defineProperty'](_0x1b0b84,'__esModule',{'value':!0x0});var _0xdbfc28=_0x322b29(_0x4444f1(0x94)),_0x91e2fd=_0x322b29(_0x4444f1(0x28)),_0x24fed1=_0x322b29(_0x4444f1(0x0)),_0x1ddf0b=_0x322b29(_0x4444f1(0x1)),_0x2204c7=_0x322b29(_0x4444f1(0x29)),_0x4495c4=_0x322b29(_0x4444f1(0x2a)),_0x1e7d3e=_0x322b29(_0x4444f1(0x12));function _0x322b29(_0x41854b){return _0x41854b&&_0x41854b[_0x55f3('0x7')]?_0x41854b:{'default':_0x41854b};}function _0x1af231(_0x41854b,_0x1b0b84){(0x0,_0x24fed1[_0x55f3('0x9')])(this,_0x1af231);var _0x4444f1=(0x0,_0x2204c7[_0x55f3('0x9')])(this,(_0x1af231[_0x55f3('0x7d')]||(0x0,_0x91e2fd[_0x55f3('0x9')])(_0x1af231))[_0x55f3('0x1')](this));return _0x4444f1['view']=_0x41854b,_0x4444f1['controls']=_0x1b0b84,_0x4444f1[_0x55f3('0x37b')]=!0x1,_0x4444f1;}_0x4444f1=_0x4444f1(0x2b)['EventDispatcher'],(0x0,_0x4495c4[_0x55f3('0x9')])(_0x1af231,_0x4444f1),(0x0,_0x1ddf0b[_0x55f3('0x9')])(_0x1af231,[{'key':_0x55f3('0x37c'),'value':function(_0x41854b){var _0x1b0b84=_0x41854b['direction'],_0x4444f1=_0x41854b[_0x55f3('0x38')],_0xdbfc28=_0x41854b['moveSpeed'],_0xdbfc28=void 0x0===_0xdbfc28?0x3:_0xdbfc28,_0x91e2fd=_0x41854b['zoomSpeed'],_0x91e2fd=void 0x0===_0x91e2fd?0x5:_0x91e2fd,_0x24fed1=_0x41854b[_0x55f3('0x37d')],_0x1ddf0b=_0x41854b[_0x55f3('0x37e')],_0x2204c7=_0x41854b[_0x55f3('0x37f')];if(esmap[_0x55f3('0x380')]){var _0x41854b=new THREE['Vector3'](_0x4444f1['x'],this['controls'][_0x55f3('0x81')]['y'],_0x4444f1['z'])[_0x55f3('0x381')](this['controls'][_0x55f3('0x81')]),_0x4495c4=this['controls'][_0x55f3('0x6')][_0x55f3('0x382')]-_0x24fed1,_0x41854b=Math[_0x55f3('0x64')](_0x41854b/_0xdbfc28),_0x1e7d3e=Math[_0x55f3('0x64')](Math[_0x55f3('0x1b8')](_0x4495c4)/_0x91e2fd),_0x322b29=(_0x1e7d3e<0x3e8&&(_0x1e7d3e=0x3e8),_0x41854b<0x3e8&&(_0x41854b=0x1),0x0);switch(_0x1b0b84){case esmap['ESDirection'][_0x55f3('0x383')]:_0x322b29=179.99;break;case esmap[_0x55f3('0x380')][_0x55f3('0x384')]:_0x322b29=0.01;break;case esmap[_0x55f3('0x380')]['WAST']:_0x322b29=-0x5a;break;case esmap[_0x55f3('0x380')][_0x55f3('0x385')]:_0x322b29=0x5a;break;case esmap['ESDirection'][_0x55f3('0x386')]:_0x322b29=0x87;break;case esmap['ESDirection']['NORTH_WEST']:_0x322b29=-0x87;break;case esmap['ESDirection'][_0x55f3('0x387')]:_0x322b29=0x2d;break;case esmap[_0x55f3('0x380')][_0x55f3('0x388')]:_0x322b29=-0x2d;}var _0x1af231=this;this[_0x55f3('0x389')][_0x55f3('0x38a')]({'x':-_0x4444f1['x'],'y':_0x4444f1['z'],'callback':function(){_0x1af231['controls']['flyToAnimate']({'thetaAngle':_0x322b29,'phiAngle':_0x1ddf0b},_0x24fed1,_0x1e7d3e,_0x2204c7);},'time':_0x41854b});}else console[_0x55f3('0x1f5')](_0x55f3('0x38b'));}},{'key':'p2pFlyFocusTo','value':function(_0x41854b,_0x1b0b84){var _0x4444f1=0x1+0x32/(0x0,_0xdbfc28[_0x55f3('0x9')])(_0x41854b['x'],_0x41854b['y'],_0x41854b['z']);this[_0x55f3('0x38c')]({'x':_0x41854b['x']*_0x4444f1,'y':_0x41854b['y']*_0x4444f1,'z':_0x41854b['z']*_0x4444f1},_0x41854b,_0x1b0b84||0xbb8);}},{'key':_0x55f3('0x38d'),'value':function(_0x41854b){var _0x1b0b84,_0x4444f1=_0x41854b[_0x55f3('0x38e')],_0xdbfc28=_0x41854b['radius'],_0x91e2fd=_0x41854b[_0x55f3('0x37e')],_0x91e2fd=void 0x0===_0x91e2fd?0x2d:_0x91e2fd,_0x24fed1=_0x41854b['directionAngle'],_0x24fed1=void 0x0===_0x24fed1?0x0:_0x24fed1,_0x1ddf0b=_0x41854b[_0x55f3('0x38f')],_0x1ddf0b=void 0x0===_0x1ddf0b?0x3:_0x1ddf0b,_0x2204c7=_0x41854b['callback'],_0x41854b=_0x41854b['tileUpdateCallbacks'];if(!this[_0x55f3('0x37b')])return this[_0x55f3('0x390')](!0x0),_0x91e2fd=0x0<=0x5a-_0x91e2fd&&0x5a-_0x91e2fd<0x5a?0x5a-_0x91e2fd:0x2d,_0x1b0b84=_0xdbfc28*Math[_0x55f3('0x5b')](THREE['Math'][_0x55f3('0x391')](_0x91e2fd)),_0xdbfc28=_0xdbfc28*Math[_0x55f3('0x5c')](THREE[_0x55f3('0x18')]['degToRad'](_0x91e2fd)),_0x91e2fd=new THREE['Vector2'](0x0,0x0),_0xdbfc28=new THREE[(_0x55f3('0x1b4'))](_0xdbfc28,0x0)[_0x55f3('0x392')](_0x91e2fd,THREE['Math'][_0x55f3('0x391')](_0x24fed1-0x5a)),_0x91e2fd=new THREE[(_0x55f3('0x5a'))](_0x4444f1['x']+_0xdbfc28['x'],_0x4444f1['y']+_0x1b0b84,_0x4444f1['z']+_0xdbfc28['y']),this[_0x55f3('0x38c')]({'x':_0x91e2fd['x'],'y':_0x91e2fd['y'],'z':_0x91e2fd['z']},_0x4444f1,0x3e8*_0x1ddf0b,_0x2204c7,_0x41854b),_0x91e2fd;}},{'key':'cameraPosition','value':function(_0x41854b,_0x1b0b84,_0x4444f1,_0xdbfc28,_0x24fed1){var _0x91e2fd,_0x1ddf0b=this[_0x55f3('0x389')][_0x55f3('0x6')],_0x2204c7=this;_0x41854b&&(_0x41854b=_0x41854b,_0x1b0b84=_0x1b0b84||{'x':0x0,'y':0x0,'z':0x0},_0x1ddf0b=(0x0,_0x1e7d3e[_0x55f3('0x9')])({},_0x1ddf0b[_0x55f3('0x38')]),_0x91e2fd=_0x2204c7[_0x55f3('0x389')][_0x55f3('0x81')]['clone'](),new TWEEN['Tween'](_0x1ddf0b)['to'](_0x41854b,_0x4444f1)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')][_0x55f3('0x393')])[_0x55f3('0x394')](function(){_0x24fed1&&_0x24fed1[_0x55f3('0x395')]&&_0x24fed1[_0x55f3('0x395')]();})[_0x55f3('0x332')](function(_0x41854b){var _0x1b0b84=_0x2204c7[_0x55f3('0x389')],_0x4444f1=_0x1b0b84[_0x55f3('0x6')],_0xdbfc28=_0x41854b['x'],_0x91e2fd=_0x41854b['y'],_0x41854b=_0x41854b['z'];void 0x0!==_0xdbfc28&&(_0x4444f1[_0x55f3('0x38')]['x']=_0xdbfc28),void 0x0!==_0x91e2fd&&(_0x4444f1[_0x55f3('0x38')]['y']=_0x91e2fd),void 0x0!==_0x41854b&&(_0x4444f1[_0x55f3('0x38')]['z']=_0x41854b),_0x1b0b84[_0x55f3('0x2f8')](),_0x24fed1&&_0x24fed1[_0x55f3('0x2f8')]&&_0x24fed1[_0x55f3('0x2f8')]();})['onComplete'](function(){_0x2204c7[_0x55f3('0x390')](!0x1),_0xdbfc28&&_0xdbfc28(),_0x2204c7[_0x55f3('0x389')][_0x55f3('0x396')]&&_0x2204c7['controls'][_0x55f3('0x396')](),_0x24fed1&&(_0x2204c7[_0x55f3('0x389')][_0x55f3('0x397')](_0x91e2fd),_0x24fed1['complete']&&_0x24fed1[_0x55f3('0x37f')](),_0x2204c7[_0x55f3('0x2fa')]({'type':'flyToComplete'}));})[_0x55f3('0x395')](),new TWEEN['Tween'](_0x91e2fd)['to'](_0x1b0b84,_0x4444f1)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')][_0x55f3('0x393')])[_0x55f3('0x332')](function(_0x41854b){var _0x1b0b84;(_0x1b0b84=_0x2204c7[_0x55f3('0x389')])[_0x55f3('0x81')]['set'](_0x41854b['x'],_0x41854b['y'],_0x41854b['z']),_0x1b0b84[_0x55f3('0x2f8')]();})['start']());}},{'key':'toggleControlsLock','value':function(_0x41854b){this[_0x55f3('0x37b')]=_0x41854b,this['controls']['enablePan']=!_0x41854b,this['controls'][_0x55f3('0x398')]=!_0x41854b,this['controls'][_0x55f3('0x399')]=!_0x41854b;}}]),_0x1b0b84[_0x55f3('0x9')]=_0x1af231;},function(_0xeaab6f,_0x16eef1,_0x18acc9){'use strict';Object[_0x55f3('0x4')](_0x16eef1,_0x55f3('0x7'),{'value':!0x0}),_0x16eef1['getSegementPoints']=_0x16eef1[_0x55f3('0x39a')]=void 0x0;var _0x3b79dd=_0x10bd0b(_0x18acc9(0x4)),_0x28e9d0=_0x10bd0b(_0x18acc9(0x12));function _0x10bd0b(_0xeaab6f){return _0xeaab6f&&_0xeaab6f[_0x55f3('0x7')]?_0xeaab6f:{'default':_0xeaab6f};}function _0x5c4de9(_0xeaab6f){for(var _0x16eef1=0x0,_0x18acc9=_0xeaab6f[_0x55f3('0xf')];_0x16eef1<_0x18acc9;_0x16eef1++)_0xeaab6f[_0x16eef1]['_index']=_0x16eef1;}function _0x182ce5(_0xeaab6f,_0x16eef1){for(var _0x18acc9=[],_0x10bd0b=0x0,_0x3290a4=0x0,_0x4b28cf=_0xeaab6f[_0x55f3('0xf')];_0x3290a4<_0x4b28cf-0x1;_0x3290a4++)_0x10bd0b+=_0xeaab6f[_0x3290a4][_0x55f3('0x381')](_0xeaab6f[_0x3290a4+0x1]);for(var _0x46e7fe=0x1,_0x13f8b4=Math[_0x55f3('0x64')](_0x10bd0b/_0x16eef1);_0x46e7fe<=_0x13f8b4;_0x46e7fe++){var _0x30f60a=function(_0xeaab6f,_0x16eef1){if(_0xeaab6f){if(0x0==_0x16eef1)return _0xeaab6f[0x0];for(var _0x18acc9,_0x10bd0b,_0x3290a4=0x0,_0x4b28cf=0x0,_0x46e7fe=_0xeaab6f[0x0],_0x13f8b4=0x1;_0x13f8b4<_0xeaab6f[_0x55f3('0xf')];_0x13f8b4++){if(_0x16eef1<=(_0x3290a4+=(_0x10bd0b=(_0x18acc9=_0xeaab6f[_0x13f8b4])[_0x55f3('0x1b0')]()[_0x55f3('0x39b')](_0x46e7fe))[_0x55f3('0xf')]()))return _0x10bd0b['normalize'](),(_0x10bd0b=_0x46e7fe[_0x55f3('0x1b0')]()[_0x55f3('0x1c3')](_0x10bd0b[_0x55f3('0x1b0')]()[_0x55f3('0x1c1')](_0x16eef1-_0x4b28cf)))[_0x55f3('0x39c')]=_0x18acc9[_0x55f3('0x39d')],_0x10bd0b;(_0x46e7fe=_0x18acc9[_0x55f3('0x1b0')]())[_0x55f3('0x39c')]=_0x18acc9[_0x55f3('0x39d')],_0x4b28cf=_0x3290a4;}var _0x30f60a=(0x0,_0x28e9d0[_0x55f3('0x9')])(new Vector3(),_0xeaab6f[_0xeaab6f['length']-0x1]);return _0x30f60a['index']=_0x30f60a['_index'],_0x30f60a;}}(_0xeaab6f,_0x46e7fe*_0x16eef1);_0x18acc9[_0x55f3('0x73')](_0x30f60a);}return _0x18acc9;}_0x16eef1[_0x55f3('0x39a')]=function(_0xeaab6f,_0x16eef1){var _0x18acc9=[],_0x10bd0b=!0x0,_0xc7e68f=!0x1,_0x262044=void 0x0;try{for(var _0x53d214,_0x5c2cb8=(0x0,_0x3b79dd[_0x55f3('0x9')])(_0xeaab6f);!(_0x10bd0b=(_0x53d214=_0x5c2cb8[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x10bd0b=!0x0){var _0x33b737=_0x53d214['value'];_0x18acc9[_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](-_0x33b737['x'],_0x33b737['height'],_0x33b737['y']));}}catch(_0x132570){_0xc7e68f=!0x0,_0x262044=_0x132570;}finally{try{!_0x10bd0b&&_0x5c2cb8[_0x55f3('0x271')]&&_0x5c2cb8[_0x55f3('0x271')]();}finally{if(_0xc7e68f)throw _0x262044;}}return _0x5c4de9(_0x18acc9),_0x182ce5(_0x18acc9,_0x16eef1);},_0x16eef1[_0x55f3('0x39e')]=function(_0xeaab6f,_0x16eef1){var _0x18acc9=[],_0x10bd0b=!0x0,_0x28275d=!0x1,_0x43720e=void 0x0;try{for(var _0x57a4b2,_0x4e3eae=(0x0,_0x3b79dd[_0x55f3('0x9')])(_0xeaab6f);!(_0x10bd0b=(_0x57a4b2=_0x4e3eae[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x10bd0b=!0x0){var _0x33ecc0=_0x57a4b2[_0x55f3('0x12')];_0x18acc9[_0x55f3('0x73')](new THREE['Vector3'](-_0x33ecc0['x'],_0x33ecc0[_0x55f3('0x32d')],_0x33ecc0['y']));}}catch(_0x2329e4){_0x28275d=!0x0,_0x43720e=_0x2329e4;}finally{try{!_0x10bd0b&&_0x4e3eae[_0x55f3('0x271')]&&_0x4e3eae[_0x55f3('0x271')]();}finally{if(_0x28275d)throw _0x43720e;}}_0x5c4de9(_0x18acc9);var _0xeaab6f=_0x182ce5(_0x18acc9,_0x16eef1),_0x28e9d0=!0x0,_0x28275d=!0x1,_0x43720e=void 0x0;try{for(var _0x19115c,_0x1d3380=(0x0,_0x3b79dd[_0x55f3('0x9')])(_0xeaab6f);!(_0x28e9d0=(_0x19115c=_0x1d3380[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x28e9d0=!0x0){var _0x1227b2=_0x19115c[_0x55f3('0x12')],_0x4cf576=(_0x1227b2['x']=-_0x1227b2['x'],_0x1227b2['y']);_0x1227b2['y']=_0x1227b2['z'],_0x1227b2['z']=_0x4cf576;}}catch(_0x4beef7){_0x28275d=!0x0,_0x43720e=_0x4beef7;}finally{try{!_0x28e9d0&&_0x1d3380['return']&&_0x1d3380[_0x55f3('0x271')]();}finally{if(_0x28275d)throw _0x43720e;}}return _0xeaab6f;};},function(_0x34bd7e,_0x1cff05,_0x2015eb){'use strict';var _0xe76b55=_0x324edb(_0x2015eb(0x21)),_0x4cf02c=_0x324edb(_0x2015eb(0x47)),_0x21a52f=_0x324edb(_0x2015eb(0x12));function _0x324edb(_0x2015eb){return _0x2015eb&&_0x2015eb['__esModule']?_0x2015eb:{'default':_0x2015eb};}!function(){function _0x2015eb(){this[_0x55f3('0x39f')]=[],this[_0x55f3('0x3a0')]=[],this['next']=[],this['side']=[],this[_0x55f3('0x32c')]=[],this[_0x55f3('0x3a1')]=[],this[_0x55f3('0x3a2')]=[],this['counters']=[],this[_0x55f3('0x95')]=new THREE[(_0x55f3('0x1e9'))](),this[_0x55f3('0x3a3')]=null,this['matrixWorld']=new THREE['Matrix4']();}var _0x50cdfc,_0x431fd,_0x40ac24;function _0x48f9db(_0x2015eb,_0x324edb,_0x34bd7e,_0x1cff05,_0xe76b55){var _0x48f9db;if(_0x2015eb=_0x2015eb[_0x55f3('0xdc')]||_0x2015eb['slice']?_0x2015eb:_0x2015eb[_0x55f3('0x3a4')],_0x34bd7e=_0x34bd7e[_0x55f3('0xdc')]||_0x34bd7e[_0x55f3('0x24')]?_0x34bd7e:_0x34bd7e[_0x55f3('0x3a4')],_0x2015eb=_0x324edb?_0x2015eb[_0x55f3('0xdc')]?_0x2015eb[_0x55f3('0xdc')](_0x324edb,_0xe76b55&&_0x324edb+_0xe76b55):_0x2015eb[_0x55f3('0x24')](_0x324edb,_0xe76b55&&_0x324edb+_0xe76b55):_0x2015eb,_0x34bd7e[_0x55f3('0x39')])_0x34bd7e[_0x55f3('0x39')](_0x2015eb,_0x1cff05);else for(_0x48f9db=0x0;_0x48f9db<_0x2015eb[_0x55f3('0xf')];_0x48f9db++)_0x34bd7e[_0x48f9db+_0x1cff05]=_0x2015eb[_0x48f9db];}function _0x324edb(_0x2015eb){THREE[_0x55f3('0x1e5')][_0x55f3('0x1')](this,{'uniforms':(0x0,_0x21a52f[_0x55f3('0x9')])({},THREE[_0x55f3('0x3a5')]['fog'],{'lineWidth':{'value':0x1},'map':{'value':null},'useMap':{'value':0x0},'alphaMap':{'value':null},'useAlphaMap':{'value':0x0},'useFadeOut':{'value':0x0},'fadeOutFactor':{'value':0x0},'color':{'value':new THREE[(_0x55f3('0x1b7'))](0xffffff)},'opacity':{'value':0x1},'resolution':{'value':new THREE[(_0x55f3('0x1b4'))](0x1,0x1)},'sizeAttenuation':{'value':0x1},'near':{'value':0x1},'far':{'value':0x1},'dashArray':{'value':0x0},'dashOffset':{'value':0x0},'dashRatio':{'value':0.5},'useDash':{'value':0x0},'visibility':{'value':0x1},'alphaTest':{'value':0x0},'repeat':{'value':new THREE[(_0x55f3('0x1b4'))](0x1,0x1)},'offset':{'value':new THREE[(_0x55f3('0x1b4'))](0x0,0x0)},'useChange':{'value':0x0}}),'vertexShader':THREE['ShaderChunk'][_0x55f3('0x3a6')],'fragmentShader':THREE[_0x55f3('0x167')][_0x55f3('0x3a7')]}),this['type']='MeshLineMaterial',(0x0,_0x4cf02c[_0x55f3('0x9')])(this,{'lineWidth':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x304')]['value'];},'set':function(_0x2015eb){this['uniforms'][_0x55f3('0x304')]['value']=_0x2015eb;}},'map':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x94')][_0x55f3('0x12')];},'set':function(_0x2015eb){this['uniforms'][_0x55f3('0x94')][_0x55f3('0x12')]=_0x2015eb;}},'useMap':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x3a8')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x3a8')][_0x55f3('0x12')]=_0x2015eb;}},'alphaMap':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x3a9')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x3a9')][_0x55f3('0x12')]=_0x2015eb;}},'useAlphaMap':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x3aa')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x3aa')]['value']=_0x2015eb;}},'useFadeOut':{'enumerable':!0x0,'get':function(){return this['uniforms']['useFadeOut'][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x32f')]['value']=_0x2015eb;}},'color':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')]['color']['value'];},'set':function(_0x2015eb){this['uniforms']['color']['value']=_0x2015eb;}},'opacity':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x221')]['value'];},'set':function(_0x2015eb){this['uniforms'][_0x55f3('0x221')][_0x55f3('0x12')]=_0x2015eb;}},'resolution':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x32b')]['value'];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x32b')][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x2015eb);}},'sizeAttenuation':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x303')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')]['sizeAttenuation'][_0x55f3('0x12')]=_0x2015eb;}},'near':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x305')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x305')][_0x55f3('0x12')]=_0x2015eb;}},'far':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x307')][_0x55f3('0x12')];},'set':function(_0x2015eb){this['uniforms'][_0x55f3('0x307')][_0x55f3('0x12')]=_0x2015eb;}},'dashArray':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x301')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x301')]['value']=_0x2015eb,this[_0x55f3('0x3ab')]=0x0!==_0x2015eb?0x1:0x0;}},'dashOffset':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x302')]['value'];},'set':function(_0x2015eb){this[_0x55f3('0x164')]['dashOffset']['value']=_0x2015eb;}},'dashRatio':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x3ac')][_0x55f3('0x12')];},'set':function(_0x2015eb){this['uniforms']['dashRatio'][_0x55f3('0x12')]=_0x2015eb;}},'useDash':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x3ab')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x3ab')][_0x55f3('0x12')]=_0x2015eb;}},'visibility':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')]['visibility'][_0x55f3('0x12')];},'set':function(_0x2015eb){this['uniforms'][_0x55f3('0x3ad')][_0x55f3('0x12')]=_0x2015eb;}},'alphaTest':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x1d6')]['value'];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x1d6')][_0x55f3('0x12')]=_0x2015eb;}},'fadeOutFactor':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x330')][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x330')]['value']=_0x2015eb;}},'repeat':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')][_0x55f3('0x2f4')][_0x55f3('0x12')];},'set':function(_0x2015eb){this['uniforms']['repeat'][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x2015eb);}},'offset':{'enumerable':!0x0,'get':function(){return this[_0x55f3('0x164')]['offset'][_0x55f3('0x12')];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0xf5')][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x2015eb);}},'useChange':{'enumerable':!0x0,'get':function(){return this['uniforms'][_0x55f3('0x3ae')]['value'];},'set':function(_0x2015eb){this[_0x55f3('0x164')][_0x55f3('0x3ae')]['value']=_0x2015eb;}}}),this[_0x55f3('0x3af')](_0x2015eb);}_0x2015eb['prototype']['setMatrixWorld']=function(_0x2015eb){this[_0x55f3('0x3b0')]=_0x2015eb;},_0x2015eb[_0x55f3('0x15')]['setGeometry']=function(_0x2015eb,_0x324edb){if(this[_0x55f3('0x3a3')]=_0x324edb,this['positions']=[],this['counters']=[],_0x2015eb instanceof THREE[_0x55f3('0x30b')])for(var _0x34bd7e=0x0;_0x34bd7e<_0x2015eb['vertices']['length'];_0x34bd7e++){var _0x1cff05=_0x2015eb[_0x55f3('0x30c')][_0x34bd7e],_0x324edb=_0x34bd7e/_0x2015eb['vertices'][_0x55f3('0xf')];this[_0x55f3('0x39f')][_0x55f3('0x73')](_0x1cff05['x'],_0x1cff05['y'],_0x1cff05['z']),this['positions']['push'](_0x1cff05['x'],_0x1cff05['y'],_0x1cff05['z']),this[_0x55f3('0x3b1')][_0x55f3('0x73')](_0x324edb),this[_0x55f3('0x3b1')][_0x55f3('0x73')](_0x324edb);}if(THREE[_0x55f3('0x1e9')],_0x2015eb instanceof Float32Array||_0x2015eb instanceof Array)for(_0x34bd7e=0x0;_0x34bd7e<_0x2015eb['length'];_0x34bd7e+=0x3)_0x324edb=_0x34bd7e/_0x2015eb[_0x55f3('0xf')],this[_0x55f3('0x39f')][_0x55f3('0x73')](_0x2015eb[_0x34bd7e],_0x2015eb[_0x34bd7e+0x1],_0x2015eb[_0x34bd7e+0x2]),this[_0x55f3('0x39f')][_0x55f3('0x73')](_0x2015eb[_0x34bd7e],_0x2015eb[_0x34bd7e+0x1],_0x2015eb[_0x34bd7e+0x2]),this['counters']['push'](_0x324edb),this[_0x55f3('0x3b1')][_0x55f3('0x73')](_0x324edb);this['process']();},_0x2015eb['prototype'][_0x55f3('0x3b2')]=(_0x50cdfc=new THREE['Matrix4'](),_0x431fd=new THREE[(_0x55f3('0x3b3'))](),_0x40ac24=new THREE[(_0x55f3('0x3b4'))](),function(_0x2015eb,_0x324edb){var _0x34bd7e=_0x2015eb[_0x55f3('0x3b5')],_0x1cff05=_0x34bd7e*_0x34bd7e,_0x34bd7e=this[_0x55f3('0x95')];if(null===_0x34bd7e['boundingSphere']&&_0x34bd7e[_0x55f3('0x3b6')](),_0x40ac24[_0x55f3('0x1ba')](_0x34bd7e[_0x55f3('0x3b7')]),_0x40ac24[_0x55f3('0x3b8')](this[_0x55f3('0x3b0')]),!0x1!==_0x2015eb[_0x55f3('0x3b9')]['intersectSphere'](_0x40ac24)){_0x50cdfc['getInverse'](this['matrixWorld']),_0x431fd[_0x55f3('0x1ba')](_0x2015eb['ray'])[_0x55f3('0x3b8')](_0x50cdfc);var _0xe76b55=new THREE['Vector3'](),_0x48f9db=new THREE[(_0x55f3('0x5a'))](),_0x4cf02c=new THREE[(_0x55f3('0x5a'))](),_0x21a52f=new THREE[(_0x55f3('0x5a'))](),_0x2505ad=this instanceof THREE[_0x55f3('0x3ba')]?0x2:0x1;if(_0x34bd7e instanceof THREE['BufferGeometry']){var _0x30cb39=_0x34bd7e[_0x55f3('0x39c')],_0xb2a95a=_0x34bd7e[_0x55f3('0x165')];if(null!==_0x30cb39)for(var _0x1c9a01=_0x30cb39[_0x55f3('0xd4')],_0x26c302=_0xb2a95a['position'][_0x55f3('0xd4')],_0x3e4856=0x0,_0x8ba4b4=_0x1c9a01[_0x55f3('0xf')]-0x1;_0x3e4856<_0x8ba4b4;_0x3e4856+=_0x2505ad){var _0x1d33c1=_0x1c9a01[_0x3e4856],_0x7a51ca=_0x1c9a01[_0x3e4856+0x1];_0xe76b55[_0x55f3('0x3bb')](_0x26c302,0x3*_0x1d33c1),_0x48f9db[_0x55f3('0x3bb')](_0x26c302,0x3*_0x7a51ca),_0x1cff05<_0x431fd['distanceSqToSegment'](_0xe76b55,_0x48f9db,_0x21a52f,_0x4cf02c)||(_0x21a52f[_0x55f3('0x3b8')](this['matrixWorld']),(_0x30c62b=_0x2015eb[_0x55f3('0x3b9')][_0x55f3('0x3bc')][_0x55f3('0x381')](_0x21a52f))<_0x2015eb[_0x55f3('0x305')]||_0x30c62b>_0x2015eb['far']||_0x324edb[_0x55f3('0x73')]({'distance':_0x30c62b,'point':_0x4cf02c['clone']()[_0x55f3('0x3b8')](this[_0x55f3('0x3b0')]),'index':_0x3e4856,'face':null,'faceIndex':null,'object':this}));}else for(_0x3e4856=0x0,_0x8ba4b4=(_0x26c302=_0xb2a95a['position'][_0x55f3('0xd4')])[_0x55f3('0xf')]/0x3-0x1;_0x3e4856<_0x8ba4b4;_0x3e4856+=_0x2505ad)_0xe76b55[_0x55f3('0x3bb')](_0x26c302,0x3*_0x3e4856),_0x48f9db[_0x55f3('0x3bb')](_0x26c302,0x3*_0x3e4856+0x3),_0x1cff05<_0x431fd['distanceSqToSegment'](_0xe76b55,_0x48f9db,_0x21a52f,_0x4cf02c)||(_0x21a52f[_0x55f3('0x3b8')](this['matrixWorld']),(_0x30c62b=_0x2015eb[_0x55f3('0x3b9')][_0x55f3('0x3bc')][_0x55f3('0x381')](_0x21a52f))<_0x2015eb[_0x55f3('0x305')]||_0x30c62b>_0x2015eb[_0x55f3('0x307')]||_0x324edb[_0x55f3('0x73')]({'distance':_0x30c62b,'point':_0x4cf02c[_0x55f3('0x1b0')]()[_0x55f3('0x3b8')](this['matrixWorld']),'index':_0x3e4856,'face':null,'faceIndex':null,'object':this}));}else if(_0x34bd7e instanceof THREE[_0x55f3('0x30b')])for(var _0x30c62b,_0x11f1b9=_0x34bd7e[_0x55f3('0x30c')],_0x4392ca=_0x11f1b9[_0x55f3('0xf')],_0x3e4856=0x0;_0x3e4856<_0x4392ca-0x1;_0x3e4856+=_0x2505ad)_0x1cff05<_0x431fd[_0x55f3('0x3bd')](_0x11f1b9[_0x3e4856],_0x11f1b9[_0x3e4856+0x1],_0x21a52f,_0x4cf02c)||(_0x21a52f[_0x55f3('0x3b8')](this[_0x55f3('0x3b0')]),(_0x30c62b=_0x2015eb['ray'][_0x55f3('0x3bc')][_0x55f3('0x381')](_0x21a52f))<_0x2015eb[_0x55f3('0x305')]||_0x30c62b>_0x2015eb[_0x55f3('0x307')]||_0x324edb[_0x55f3('0x73')]({'distance':_0x30c62b,'point':_0x4cf02c[_0x55f3('0x1b0')]()[_0x55f3('0x3b8')](this['matrixWorld']),'index':_0x3e4856,'face':null,'faceIndex':null,'object':this}));}}),_0x2015eb[_0x55f3('0x15')][_0x55f3('0x3be')]=function(_0x2015eb,_0x324edb){_0x2015eb*=0x6,_0x324edb*=0x6;return this['positions'][_0x2015eb]===this[_0x55f3('0x39f')][_0x324edb]&&this[_0x55f3('0x39f')][0x1+_0x2015eb]===this[_0x55f3('0x39f')][0x1+_0x324edb]&&this[_0x55f3('0x39f')][0x2+_0x2015eb]===this[_0x55f3('0x39f')][0x2+_0x324edb];},_0x2015eb[_0x55f3('0x15')]['copyV3']=function(_0x2015eb){_0x2015eb*=0x6;return[this['positions'][_0x2015eb],this['positions'][0x1+_0x2015eb],this[_0x55f3('0x39f')][0x2+_0x2015eb]];},_0x2015eb['prototype'][_0x55f3('0x2c1')]=function(){var _0x2015eb=this[_0x55f3('0x39f')]['length']/0x6;this[_0x55f3('0x3a0')]=[],this[_0x55f3('0x85')]=[],this['side']=[],this['width']=[],this[_0x55f3('0x3a1')]=[],this[_0x55f3('0x3a2')]=[];for(var _0x324edb,_0x34bd7e=0x0;_0x34bd7e<_0x2015eb;_0x34bd7e++)this[_0x55f3('0x3bf')][_0x55f3('0x73')](0x1),this[_0x55f3('0x3bf')]['push'](-0x1);for(_0x34bd7e=0x0;_0x34bd7e<_0x2015eb;_0x34bd7e++)_0x324edb=this[_0x55f3('0x3a3')]?this[_0x55f3('0x3a3')](_0x34bd7e/(_0x2015eb-0x1)):0x1,this[_0x55f3('0x32c')][_0x55f3('0x73')](_0x324edb),this[_0x55f3('0x32c')][_0x55f3('0x73')](_0x324edb);for(var _0x1cff05,_0x34bd7e=0x0;_0x34bd7e<_0x2015eb;_0x34bd7e++)this[_0x55f3('0x3a2')][_0x55f3('0x73')](_0x34bd7e/(_0x2015eb-0x1),0x0),this[_0x55f3('0x3a2')][_0x55f3('0x73')](_0x34bd7e/(_0x2015eb-0x1),0x1);for(_0x1cff05=this[_0x55f3('0x3be')](0x0,_0x2015eb-0x1)?this['copyV3'](_0x2015eb-0x2):this[_0x55f3('0x3c0')](0x0),this[_0x55f3('0x3a0')][_0x55f3('0x73')](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),this['previous'][_0x55f3('0x73')](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),_0x34bd7e=0x0;_0x34bd7e<_0x2015eb-0x1;_0x34bd7e++)_0x1cff05=this['copyV3'](_0x34bd7e),this[_0x55f3('0x3a0')]['push'](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),this[_0x55f3('0x3a0')][_0x55f3('0x73')](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]);for(_0x34bd7e=0x1;_0x34bd7e<_0x2015eb;_0x34bd7e++)_0x1cff05=this[_0x55f3('0x3c0')](_0x34bd7e),this[_0x55f3('0x85')]['push'](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),this['next']['push'](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]);for(_0x1cff05=this[_0x55f3('0x3be')](_0x2015eb-0x1,0x0)?this['copyV3'](0x1):this[_0x55f3('0x3c0')](_0x2015eb-0x1),this['next'][_0x55f3('0x73')](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),this[_0x55f3('0x85')][_0x55f3('0x73')](_0x1cff05[0x0],_0x1cff05[0x1],_0x1cff05[0x2]),_0x34bd7e=0x0;_0x34bd7e<_0x2015eb-0x1;_0x34bd7e++){var _0xe76b55=0x2*_0x34bd7e;this[_0x55f3('0x3a1')][_0x55f3('0x73')](_0xe76b55,0x1+_0xe76b55,0x2+_0xe76b55),this[_0x55f3('0x3a1')]['push'](0x2+_0xe76b55,0x1+_0xe76b55,0x3+_0xe76b55);}this['attributes']?(this[_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0x3c1')](new Float32Array(this[_0x55f3('0x39f')])),this[_0x55f3('0x165')][_0x55f3('0x38')]['needsUpdate']=!0x0,this[_0x55f3('0x165')]['previous']['copyArray'](new Float32Array(this['previous'])),this[_0x55f3('0x165')][_0x55f3('0x3a0')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')][_0x55f3('0x85')][_0x55f3('0x3c1')](new Float32Array(this[_0x55f3('0x85')])),this[_0x55f3('0x165')]['next'][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')][_0x55f3('0x3bf')][_0x55f3('0x3c1')](new Float32Array(this[_0x55f3('0x3bf')])),this[_0x55f3('0x165')][_0x55f3('0x3bf')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')][_0x55f3('0x32c')][_0x55f3('0x3c1')](new Float32Array(this['width'])),this[_0x55f3('0x165')][_0x55f3('0x32c')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')]['uv'][_0x55f3('0x3c1')](new Float32Array(this['uvs'])),this[_0x55f3('0x165')]['uv'][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')][_0x55f3('0x39c')]['copyArray'](new Uint16Array(this[_0x55f3('0x3a1')])),this[_0x55f3('0x165')][_0x55f3('0x39c')][_0x55f3('0xf7')]=!0x0):this[_0x55f3('0x165')]={'position':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x39f')]),0x3),'previous':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x3a0')]),0x3),'next':new THREE[(_0x55f3('0x102'))](new Float32Array(this['next']),0x3),'side':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x3bf')]),0x1),'width':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x32c')]),0x1),'uv':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x3a2')]),0x2),'index':new THREE['BufferAttribute'](new Uint16Array(this[_0x55f3('0x3a1')]),0x1),'counters':new THREE[(_0x55f3('0x102'))](new Float32Array(this[_0x55f3('0x3b1')]),0x1)},this[_0x55f3('0x95')][_0x55f3('0x1f2')]('position',this['attributes'][_0x55f3('0x38')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x3a0'),this[_0x55f3('0x165')]['previous']),this[_0x55f3('0x95')]['addAttribute'](_0x55f3('0x85'),this['attributes'][_0x55f3('0x85')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x3bf'),this[_0x55f3('0x165')][_0x55f3('0x3bf')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x32c'),this[_0x55f3('0x165')][_0x55f3('0x32c')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')]('uv',this['attributes']['uv']),this[_0x55f3('0x95')][_0x55f3('0x1f2')]('counters',this[_0x55f3('0x165')][_0x55f3('0x3b1')]),this[_0x55f3('0x95')][_0x55f3('0x3c2')](this[_0x55f3('0x165')]['index']);},_0x2015eb[_0x55f3('0x15')]['advance']=function(_0x2015eb){var _0x324edb=this[_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0xd4')],_0x34bd7e=this['attributes'][_0x55f3('0x3a0')][_0x55f3('0xd4')],_0x1cff05=this['attributes'][_0x55f3('0x85')][_0x55f3('0xd4')],_0xe76b55=_0x324edb[_0x55f3('0xf')];_0x48f9db(_0x324edb,0x0,_0x34bd7e,0x0,_0xe76b55),_0x48f9db(_0x324edb,0x6,_0x324edb,0x0,_0xe76b55-0x6),_0x324edb[_0xe76b55-0x6]=_0x2015eb['x'],_0x324edb[_0xe76b55-0x5]=_0x2015eb['y'],_0x324edb[_0xe76b55-0x4]=_0x2015eb['z'],_0x324edb[_0xe76b55-0x3]=_0x2015eb['x'],_0x324edb[_0xe76b55-0x2]=_0x2015eb['y'],_0x324edb[_0xe76b55-0x1]=_0x2015eb['z'],_0x48f9db(_0x324edb,0x6,_0x1cff05,0x0,_0xe76b55-0x6),_0x1cff05[_0xe76b55-0x6]=_0x2015eb['x'],_0x1cff05[_0xe76b55-0x5]=_0x2015eb['y'],_0x1cff05[_0xe76b55-0x4]=_0x2015eb['z'],_0x1cff05[_0xe76b55-0x3]=_0x2015eb['x'],_0x1cff05[_0xe76b55-0x2]=_0x2015eb['y'],_0x1cff05[_0xe76b55-0x1]=_0x2015eb['z'],this[_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x165')]['previous'][_0x55f3('0xf7')]=!0x0,this['attributes'][_0x55f3('0x85')][_0x55f3('0xf7')]=!0x0;},THREE[_0x55f3('0x167')][_0x55f3('0x3a6')]=['',THREE[_0x55f3('0x167')][_0x55f3('0x19f')],THREE['ShaderChunk'][_0x55f3('0x168')],THREE[_0x55f3('0x167')][_0x55f3('0x169')],'',_0x55f3('0x3c3'),_0x55f3('0x3c4'),_0x55f3('0x3c5'),_0x55f3('0x3c6'),_0x55f3('0x3c7'),'attribute\x20float\x20counters;','','uniform\x20vec2\x20resolution;',_0x55f3('0x3c8'),_0x55f3('0x3c9'),_0x55f3('0x3ca'),'uniform\x20float\x20near;',_0x55f3('0x3cb'),_0x55f3('0x3cc'),'',_0x55f3('0x3cd'),_0x55f3('0x113'),_0x55f3('0x3ce'),_0x55f3('0x3cf'),'',_0x55f3('0x3d0'),'','\x20\x20\x20\x20vec2\x20res\x20=\x20i.xy\x20/\x20i.w;',_0x55f3('0x3d1'),_0x55f3('0x3d2'),'\x20\x20\x20\x20return\x20res;','','}','','void\x20main()\x20{','','\x20\x20\x20\x20float\x20aspect\x20=\x20resolution.x\x20/\x20resolution.y;',_0x55f3('0x3d3'),'',_0x55f3('0x3d4'),_0x55f3('0x3d5'),_0x55f3('0x3d6'),'',_0x55f3('0x3d7'),_0x55f3('0x3d8'),'\x20\x20\x20\x20vec4\x20prevPos\x20=\x20m\x20*\x20vec4(\x20previous,\x201.0\x20);',_0x55f3('0x3d9'),'',_0x55f3('0x3da'),_0x55f3('0x3db'),_0x55f3('0x3dc'),'',_0x55f3('0x3dd'),_0x55f3('0x3de'),'','\x20\x20\x20\x20if(\x20sizeAttenuation\x20==\x201.\x20)\x20{',_0x55f3('0x3df'),_0x55f3('0x3e0'),'',_0x55f3('0x3e1'),'\x20\x20\x20\x20if(\x20nextP\x20==\x20currentP\x20)\x20dir\x20=\x20normalize(\x20currentP\x20-\x20prevP\x20);',_0x55f3('0x3e2'),_0x55f3('0x3e3'),_0x55f3('0x3e4'),'\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20dir2\x20=\x20normalize(\x20nextP\x20-\x20currentP\x20);',_0x55f3('0x3e5'),'','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20perp\x20=\x20vec2(\x20-dir1.y,\x20dir1.x\x20);','\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20miter\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);',_0x55f3('0x3e6'),'',_0x55f3('0x3e0'),'',_0x55f3('0x3e7'),'\x20\x20\x20\x20vec2\x20normal\x20=\x20vec2(\x20-dir.y,\x20dir.x\x20);',_0x55f3('0x3e8'),_0x55f3('0x3e9'),'',_0x55f3('0x3ea'),_0x55f3('0x3eb'),'','\x20\x20\x20\x20gl_Position\x20=\x20finalPosition;','',THREE['ShaderChunk'][_0x55f3('0x19d')],THREE['ShaderChunk'][_0x55f3('0x19e')]&&_0x55f3('0x3ec'),THREE[_0x55f3('0x167')]['fog_vertex'],'}'][_0x55f3('0x106')]('\x0d\x0a'),THREE[_0x55f3('0x167')]['meshline_frag']=['',THREE[_0x55f3('0x167')][_0x55f3('0x1a0')],THREE['ShaderChunk'][_0x55f3('0x1a1')],'',_0x55f3('0x3ed'),'uniform\x20sampler2D\x20alphaMap;',_0x55f3('0x3ee'),_0x55f3('0x3ef'),_0x55f3('0x3f0'),'uniform\x20float\x20useDash;',_0x55f3('0x3f1'),_0x55f3('0x3f2'),'uniform\x20float\x20dashRatio;',_0x55f3('0x3f3'),'uniform\x20float\x20alphaTest;',_0x55f3('0x3f4'),_0x55f3('0x3f5'),'uniform\x20vec2\x20repeat;',_0x55f3('0x3f6'),'',_0x55f3('0x3cd'),_0x55f3('0x113'),_0x55f3('0x3cf'),_0x55f3('0x3ce'),'',_0x55f3('0x3f7'),'',THREE['ShaderChunk'][_0x55f3('0x3f8')],'',_0x55f3('0x3f9'),_0x55f3('0x3fa'),_0x55f3('0x3fb'),'\x20\x20\x20\x20if(\x20useFadeOut\x20==\x201.\x20)\x20c.a\x20*=\x201.0\x20-\x20float(step(fadeOutFactor,\x20vUV.x));',_0x55f3('0x3fc'),_0x55f3('0x3fd'),_0x55f3('0x3fe'),_0x55f3('0x3e0'),'\x20\x20\x20\x20gl_FragColor\x20=\x20c\x20*\x201.5;',_0x55f3('0x3ff'),_0x55f3('0x400'),'',THREE[_0x55f3('0x167')][_0x55f3('0x1a6')],'}']['join']('\x0d\x0a'),((_0x324edb[_0x55f3('0x15')]=(0x0,_0xe76b55[_0x55f3('0x9')])(THREE['ShaderMaterial'][_0x55f3('0x15')]))['constructor']=_0x324edb)['prototype'][_0x55f3('0x401')]=!0x0,_0x324edb['prototype'][_0x55f3('0x1ba')]=function(_0x2015eb){return THREE[_0x55f3('0x1e5')]['prototype'][_0x55f3('0x1ba')][_0x55f3('0x1')](this,_0x2015eb),this[_0x55f3('0x304')]=_0x2015eb[_0x55f3('0x304')],this[_0x55f3('0x94')]=_0x2015eb[_0x55f3('0x94')],this['useMap']=_0x2015eb['useMap'],this[_0x55f3('0x3a9')]=_0x2015eb[_0x55f3('0x3a9')],this[_0x55f3('0x3aa')]=_0x2015eb[_0x55f3('0x3aa')],this['useFadeOut']=_0x2015eb[_0x55f3('0x32f')],this[_0x55f3('0x330')]=_0x2015eb[_0x55f3('0x330')],this[_0x55f3('0x220')][_0x55f3('0x1ba')](_0x2015eb['color']),this[_0x55f3('0x221')]=_0x2015eb[_0x55f3('0x221')],this[_0x55f3('0x32b')][_0x55f3('0x1ba')](_0x2015eb[_0x55f3('0x32b')]),this[_0x55f3('0x303')]=_0x2015eb[_0x55f3('0x303')],this[_0x55f3('0x305')]=_0x2015eb[_0x55f3('0x305')],this[_0x55f3('0x307')]=_0x2015eb[_0x55f3('0x307')],this['dashArray']['copy'](_0x2015eb[_0x55f3('0x301')]),this[_0x55f3('0x302')][_0x55f3('0x1ba')](_0x2015eb[_0x55f3('0x302')]),this[_0x55f3('0x3ac')][_0x55f3('0x1ba')](_0x2015eb[_0x55f3('0x3ac')]),this[_0x55f3('0x3ab')]=_0x2015eb['useDash'],this[_0x55f3('0x3ad')]=_0x2015eb[_0x55f3('0x3ad')],this[_0x55f3('0x1d6')]=_0x2015eb[_0x55f3('0x1d6')],this['repeat'][_0x55f3('0x1ba')](_0x2015eb[_0x55f3('0x2f4')]),this[_0x55f3('0xf5')][_0x55f3('0x1ba')](_0x2015eb[_0x55f3('0xf5')]),this;},(_0x1cff05=_0x34bd7e[_0x55f3('0x0')]?_0x34bd7e['exports']={'MeshLine':_0x2015eb,'MeshLineMaterial':_0x324edb}:_0x1cff05)['MeshLine']=_0x2015eb,_0x1cff05[_0x55f3('0x2ff')]=_0x324edb;}[_0x55f3('0x1')](void 0x0);},function(_0x5d332b,_0x3e5c05,_0x1673c9){'use strict';Object[_0x55f3('0x4')](_0x3e5c05,_0x55f3('0x7'),{'value':!0x0}),_0x3e5c05['splitCrossFloorPoints']=_0x3e5c05[_0x55f3('0x402')]=_0x3e5c05['requestEffectThemeConfig']=_0x3e5c05[_0x55f3('0x403')]=void 0x0;var _0x1673c9=_0x1673c9(0x22),_0x212252=_0x1673c9&&_0x1673c9[_0x55f3('0x7')]?_0x1673c9:{'default':_0x1673c9};_0x3e5c05[_0x55f3('0x403')]=function(_0x5d332b){return new _0x212252['default'](function(_0x3e5c05,_0x1673c9){new THREE[(_0x55f3('0x404'))]()[_0x55f3('0x26f')](_0x5d332b,function(_0x5d332b){_0x3e5c05(JSON[_0x55f3('0x405')](_0x5d332b));},null,function(_0x5d332b){_0x1673c9(_0x5d332b);});});},_0x3e5c05[_0x55f3('0x406')]=function(_0x256999){return new _0x212252[(_0x55f3('0x9'))](function(_0x3e5c05,_0x1673c9){var _0x5d332b=esmap[_0x55f3('0x28')][_0x55f3('0x50')][_0x55f3('0x46')][_0x55f3('0x407')]?'?t='+new Date()[_0x55f3('0x408')]():'';new THREE[(_0x55f3('0x404'))]()['load'](_0x256999+'effects.json'+_0x5d332b,function(_0x5d332b){_0x3e5c05(JSON['parse'](_0x5d332b));},null,function(_0x5d332b){console[_0x55f3('0xda')]('esmap.ESMapTools\x20initialize\x20cannot\x20find\x20effects.json.\x20Please\x20set\x20the\x20correct\x20file\x20path!'),_0x1673c9(_0x5d332b);});});},_0x3e5c05[_0x55f3('0x402')]=function(_0x5d332b,_0x3e5c05){void 0x0!==_0x3e5c05[_0x55f3('0x409')]&&(_0x5d332b[_0x55f3('0x409')]=_0x3e5c05[_0x55f3('0x409')]),void 0x0!==_0x3e5c05[_0x55f3('0x40a')]&&(_0x5d332b[_0x55f3('0x40a')]=_0x3e5c05[_0x55f3('0x40a')]),void 0x0!==_0x3e5c05[_0x55f3('0x40b')]&&(_0x5d332b['envMapIntensity']=_0x3e5c05['mirrorReflection']),_0x3e5c05[_0x55f3('0x40c')];},_0x3e5c05[_0x55f3('0x40d')]=function(_0x5d332b){for(var _0x3e5c05=function(_0x5d332b){for(var _0x3e5c05=[],_0x1673c9=0x0;_0x1673c9<_0x5d332b[_0x55f3('0xf')]-0x1;_0x1673c9++)_0x3e5c05[_0x55f3('0x73')](_0x5d332b[_0x1673c9]),_0x5d332b[_0x1673c9][_0x55f3('0x40e')]!==_0x5d332b[_0x1673c9+0x1]['fnum']&&_0x3e5c05[_0x55f3('0x73')]({'x':_0x5d332b[_0x1673c9+0x1]['x'],'y':_0x5d332b[_0x1673c9+0x1]['y'],'fnum':_0x5d332b[_0x1673c9]['fnum'],'crossTo':_0x5d332b[_0x1673c9+0x1][_0x55f3('0x40e')],'offset':_0x5d332b[_0x1673c9+0x1]['offset']});return _0x3e5c05[_0x55f3('0x73')](_0x5d332b[_0x5d332b[_0x55f3('0xf')]-0x1]),_0x3e5c05;}(_0x5d332b),_0x1673c9=[],_0xd71f53=[],_0x212252=0x0;_0x212252<_0x3e5c05[_0x55f3('0xf')];_0x212252++)_0xd71f53['push'](_0x3e5c05[_0x212252]),_0x3e5c05[_0x212252][_0x55f3('0xc')](_0x55f3('0x40f'))&&(_0x1673c9[_0x55f3('0x73')](_0xd71f53),_0xd71f53=[]);return 0x0<_0xd71f53[_0x55f3('0xf')]&&_0x1673c9[_0x55f3('0x73')](_0xd71f53),_0x1673c9;};},function(_0x53d24f,_0x3d4436,_0x7fb151){'use strict';_0x3d4436[_0x55f3('0x7')]=!0x0;var _0x7fb151=_0x7fb151(0x33),_0x2effd3=_0x7fb151&&_0x7fb151[_0x55f3('0x7')]?_0x7fb151:{'default':_0x7fb151};_0x3d4436[_0x55f3('0x9')]=function(_0x53d24f,_0x3d4436,_0x7fb151){return _0x3d4436 in _0x53d24f?(0x0,_0x2effd3[_0x55f3('0x9')])(_0x53d24f,_0x3d4436,{'value':_0x7fb151,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x53d24f[_0x3d4436]=_0x7fb151,_0x53d24f;};},function(_0x4a8a48,_0x32a699,_0x3fb51f){_0x4a8a48[_0x55f3('0x0')]=_0x3fb51f(0xa2);},function(_0x4f6919,_0x561bfe,_0x53a4d9){'use strict';_0x561bfe[_0x55f3('0x7')]=!0x0;var _0x53a4d9=_0x53a4d9(0x22),_0x211005=_0x53a4d9&&_0x53a4d9['__esModule']?_0x53a4d9:{'default':_0x53a4d9};_0x561bfe['default']=function(_0x4f6919){return function(){var _0x53c65e=_0x4f6919[_0x55f3('0x1f')](this,arguments);return new _0x211005[(_0x55f3('0x9'))](function(_0x43a381,_0x3ee906){return function _0x561bfe(_0x4f6919,_0x53a4d9){try{var _0x568b92=_0x53c65e[_0x4f6919](_0x53a4d9),_0x3f2eb7=_0x568b92[_0x55f3('0x12')];}catch(_0x4495bf){return void _0x3ee906(_0x4495bf);}if(!_0x568b92[_0x55f3('0x269')])return _0x211005['default']['resolve'](_0x3f2eb7)[_0x55f3('0x341')](function(_0x4f6919){_0x561bfe(_0x55f3('0x85'),_0x4f6919);},function(_0x4f6919){_0x561bfe(_0x55f3('0x410'),_0x4f6919);});_0x43a381(_0x3f2eb7);}('next');});};};},,function(_0x2bbbbe,_0x19bb5a,_0x6bb8d8){_0x6bb8d8(0x8d),_0x2bbbbe[_0x55f3('0x0')]=_0x6bb8d8(0x2)['Object'][_0x55f3('0x25f')];},function(_0x2e2a0e,_0x199224,_0x1813d2){var _0x2be1f8=_0x1813d2(0x11),_0x36d1ed=_0x1813d2(0x40);_0x1813d2(0x4f)('getPrototypeOf',function(){return function(_0x2e2a0e){return _0x36d1ed(_0x2be1f8(_0x2e2a0e));};});},function(_0x36f5c9,_0x462772,_0x3da4f1){'use strict';Object[_0x55f3('0x4')](_0x462772,_0x55f3('0x7'),{'value':!0x0});var _0x343897=_0x246a49(_0x3da4f1(0x0));function _0x246a49(_0x36f5c9){return _0x36f5c9&&_0x36f5c9['__esModule']?_0x36f5c9:{'default':_0x36f5c9};}function _0xdfb72a(_0x36f5c9){(0x0,_0x343897[_0x55f3('0x9')])(this,_0xdfb72a),this[_0x55f3('0x411')]=function(_0x36f5c9,_0x462772){var _0x3da4f1=new THREE['Scene'](),_0x36f5c9=this[_0x55f3('0x412')](_0x36f5c9),_0x343897=THREE['ShaderLib'][_0x55f3('0x413')],_0x343897=new THREE[(_0x55f3('0x1e5'))]({'fragmentShader':_0x343897[_0x55f3('0x58')],'vertexShader':_0x343897['vertexShader'],'uniforms':_0x343897[_0x55f3('0x164')],'depthWrite':!0x1,'depthTest':!0x1,'side':THREE[_0x55f3('0x414')],'fog':!0x1}),_0x343897=(_0x343897['uniforms']['tCube']['value']=_0x36f5c9,new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x415'))](0x64,0x64,0x64),_0x343897));return _0x343897[_0x55f3('0x38')][_0x55f3('0x1ba')](_0x462772),_0x343897[_0x55f3('0x1d9')]['set'](0xf4240,0xf4240,0xf4240),_0x3da4f1[_0x55f3('0x1c3')](_0x343897),this[_0x55f3('0x416')]['add'](_0x3da4f1),_0x36f5c9;},this[_0x55f3('0x416')]=_0x36f5c9;}(0x0,_0x246a49(_0x3da4f1(0x1))[_0x55f3('0x9')])(_0xdfb72a,[{'key':'createTextureCube','value':function(_0x36f5c9){_0x36f5c9=new THREE[(_0x55f3('0x277'))]()[_0x55f3('0x26f')](_0x36f5c9);return _0x36f5c9['format']=THREE[_0x55f3('0x417')],_0x36f5c9['mapping']=THREE[_0x55f3('0x418')],_0x36f5c9[_0x55f3('0x419')]=THREE[_0x55f3('0x41a')],_0x36f5c9;}}]),_0x462772[_0x55f3('0x9')]=_0xdfb72a;},function(_0xba28dd,_0x57467b,_0x26d7f3){'use strict';Object['defineProperty'](_0x57467b,_0x55f3('0x7'),{'value':!0x0});var _0x48e68b=_0xc6ecd8(_0x26d7f3(0x3e)),_0x17285d=_0xc6ecd8(_0x26d7f3(0x28)),_0x38ea6a=_0xc6ecd8(_0x26d7f3(0x0)),_0x2b7320=_0xc6ecd8(_0x26d7f3(0x1)),_0x2fa379=_0xc6ecd8(_0x26d7f3(0x29)),_0x1ad63d=_0xc6ecd8(_0x26d7f3(0x2a)),_0x174507=_0xc6ecd8(_0x26d7f3(0x36)),_0x265da6=_0x26d7f3(0x2b),_0x2571a7=_0xc6ecd8(_0x26d7f3(0x55));function _0xc6ecd8(_0xba28dd){return _0xba28dd&&_0xba28dd['__esModule']?_0xba28dd:{'default':_0xba28dd};}function _0x258ef1(_0xba28dd){var _0xba28dd=_0xba28dd[_0x55f3('0x41b')],_0x57467b=((0x0,_0x38ea6a[_0x55f3('0x9')])(this,_0x258ef1),(0x0,_0x2fa379['default'])(this,(_0x258ef1[_0x55f3('0x7d')]||(0x0,_0x17285d[_0x55f3('0x9')])(_0x258ef1))[_0x55f3('0x1')](this)));return _0x57467b[_0x55f3('0x367')]=_0xba28dd,_0x57467b['textureCube']=null,_0x57467b[_0x55f3('0x41c')]=null,_0x57467b[_0x55f3('0x41d')]=null,_0x57467b;}_0x26d7f3=_0x265da6[_0x55f3('0x7e')],(0x0,_0x1ad63d[_0x55f3('0x9')])(_0x258ef1,_0x26d7f3),(0x0,_0x2b7320[_0x55f3('0x9')])(_0x258ef1,[{'key':'createSixPicCubeTexture','value':function(_0xba28dd,_0x57467b){var _0x26d7f3=this;_0x2571a7[_0x55f3('0x9')][_0x55f3('0x276')](_0xba28dd)['then'](function(_0xba28dd){_0x26d7f3[_0x55f3('0x41e')]=_0xba28dd,_0x26d7f3[_0x55f3('0x2fa')]({'type':_0x55f3('0x41f')}),_0x57467b&&_0x57467b();});}},{'key':'createOnePicCubeTexture','value':function(_0xba28dd,_0x2b7320,_0x57467b){var _0x26d7f3=this,_0x17285d=new THREE[(_0x55f3('0x420'))]([]);_0x17285d[_0x55f3('0x421')]=THREE[_0x55f3('0x417')],new THREE['ImageLoader']()['load'](_0xba28dd,function(_0x38ea6a){function _0xba28dd(_0xba28dd,_0x57467b){var _0x26d7f3=_0x2b7320||0x400,_0x17285d=document[_0x55f3('0x79')](_0x55f3('0x422'));return _0x17285d['width']=_0x26d7f3,_0x17285d[_0x55f3('0x32d')]=_0x26d7f3,_0x17285d['getContext']('2d')[_0x55f3('0x423')](_0x38ea6a,-_0xba28dd*_0x26d7f3,-_0x57467b*_0x26d7f3),_0x17285d;}_0x17285d[_0x55f3('0x424')][0x0]=_0xba28dd(0x2,0x1),_0x17285d[_0x55f3('0x424')][0x1]=_0xba28dd(0x0,0x1),_0x17285d[_0x55f3('0x424')][0x2]=_0xba28dd(0x1,0x0),_0x17285d[_0x55f3('0x424')][0x3]=_0xba28dd(0x1,0x2),_0x17285d['images'][0x4]=_0xba28dd(0x1,0x1),_0x17285d[_0x55f3('0x424')][0x5]=_0xba28dd(0x3,0x1),_0x17285d[_0x55f3('0xf7')]=!0x0,_0x26d7f3[_0x55f3('0x41e')]=_0x17285d,_0x26d7f3[_0x55f3('0x2fa')]({'type':'canUpdate'}),_0x57467b&&_0x57467b();});}},{'key':_0x55f3('0x425'),'value':function(_0xba28dd){var _0x57467b=_0xba28dd[_0x55f3('0xd2')],_0x26d7f3=_0xba28dd[_0x55f3('0x365')],_0x17285d=_0xba28dd[_0x55f3('0x426')],_0x17285d=void 0x0!==_0x17285d&&_0x17285d,_0xba28dd=_0xba28dd[_0x55f3('0x427')],_0xba28dd=void 0x0===_0xba28dd?0x1:_0xba28dd,_0x38ea6a=JSON[_0x55f3('0x405')]((0x0,_0x48e68b[_0x55f3('0x9')])(THREE[_0x55f3('0x428')][_0x55f3('0x413')])),_0x17285d=(_0x38ea6a['uniforms'][_0x55f3('0x429')]={'value':null},_0x38ea6a[_0x55f3('0x164')]['transFactor']={'value':0x0},_0x38ea6a[_0x55f3('0x164')]['isCullGround']={'value':_0x17285d},_0x38ea6a[_0x55f3('0x164')]['isCullColor']={'value':!0x1},_0x38ea6a[_0x55f3('0x164')][_0x55f3('0x42a')]={'value':0x0},_0x38ea6a[_0x55f3('0x164')][_0x55f3('0x42b')]={'value':new THREE[(_0x55f3('0x1b7'))]()},_0x38ea6a[_0x55f3('0x164')]['intensity']={'value':_0xba28dd},_0x38ea6a[_0x55f3('0x57')]=_0x38ea6a[_0x55f3('0x57')][_0x55f3('0x56')]('varying\x20vec3\x20vWorldDirection;','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x38ea6a[_0x55f3('0x57')]=_0x38ea6a[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x42c'),_0x55f3('0x42d')),_0x38ea6a['fragmentShader']=_0x38ea6a[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x42e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20samplerCube\x20tCube2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20intensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20cullHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20cullColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorContrast(vec3\x20rgb,\x20float\x20contrast)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(vec3(0.5),\x20rgb,\x20contrast);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20colorSaturation(vec3\x20rgb,\x20float\x20adjustment)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20W\x20=\x20vec3(0.2125,\x200.7154,\x200.0721);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20intensity\x20=\x20vec3(dot(rgb,\x20W));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20mix(intensity,\x20rgb,\x20adjustment);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color\x20=\x20clamp(color\x20,\x200.0,\x201.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x38ea6a[_0x55f3('0x58')]=_0x38ea6a['fragmentShader']['replace'](_0x55f3('0x42f'),_0x55f3('0x430')),new THREE['ShaderMaterial']({'fragmentShader':_0x38ea6a[_0x55f3('0x58')],'vertexShader':_0x38ea6a[_0x55f3('0x57')],'uniforms':_0x38ea6a[_0x55f3('0x164')],'side':THREE['BackSide'],'fog':!0x1}));_0x17285d[_0x55f3('0x164')][_0x55f3('0x431')]?_0x17285d['uniforms'][_0x55f3('0x431')][_0x55f3('0x12')]=this[_0x55f3('0x41e')]:_0x17285d[_0x55f3('0x432')]=this[_0x55f3('0x41e')],this[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x415'))](0x64,0x64,0x64),_0x17285d),this[_0x55f3('0x41d')]['position']['y']=_0x26d7f3,this[_0x55f3('0x41d')][_0x55f3('0x1d9')]['set'](_0x57467b,_0x57467b,_0x57467b),this[_0x55f3('0x367')][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0x41d')]);}},{'key':_0x55f3('0x433'),'value':function(_0xba28dd){var _0x57467b=_0xba28dd[_0x55f3('0x21e')],_0x57467b=void 0x0===_0x57467b?0x2710:_0x57467b,_0x26d7f3=_0xba28dd['topColorStr'],_0x26d7f3=void 0x0===_0x26d7f3?_0x55f3('0x434'):_0x26d7f3,_0x17285d=_0xba28dd['bottomColorStr'],_0x17285d=void 0x0===_0x17285d?_0x55f3('0x435'):_0x17285d,_0x38ea6a=_0xba28dd[_0x55f3('0xf5')],_0x2b7320=void 0x0===_0x38ea6a?0x64:_0x38ea6a,_0x38ea6a=_0xba28dd[_0x55f3('0x436')],_0x2fa379=void 0x0===_0x38ea6a?0.6:_0x38ea6a,_0x48e68b=_0xba28dd[_0x55f3('0x1c6')],_0x38ea6a=new THREE[(_0x55f3('0x415'))](_0x57467b,_0x57467b,_0x57467b),_0x1ad63d=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x26d7f3),_0x174507=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x17285d),_0x265da6=this,_0xba28dd=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'side':THREE['BackSide'],'fog':!0x1});return _0xba28dd['onBeforeCompile']=function(_0xba28dd){_0xba28dd[_0x55f3('0x164')][_0x55f3('0x438')]={'value':_0x1ad63d},_0xba28dd['uniforms']['bottomColor']={'value':_0x174507},_0xba28dd[_0x55f3('0x164')][_0x55f3('0x439')]={'value':_0x48e68b},_0xba28dd['uniforms'][_0x55f3('0xf5')]={'value':_0x2b7320},_0xba28dd[_0x55f3('0x164')][_0x55f3('0x436')]={'value':_0x2fa379},_0xba28dd[_0x55f3('0x57')]=_0xba28dd[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x43b')),_0xba28dd['vertexShader']=_0xba28dd[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x43d')),_0xba28dd['fragmentShader']=_0xba28dd[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x43e')),_0xba28dd[_0x55f3('0x58')]=_0xba28dd[_0x55f3('0x58')][_0x55f3('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x55f3('0x43f')),_0x265da6[_0x55f3('0x41c')]=_0xba28dd;},this[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](_0x38ea6a,_0xba28dd),this['view'][_0x55f3('0x416')][_0x55f3('0x1c3')](this['skyBox']),this[_0x55f3('0x41d')];}},{'key':_0x55f3('0x440'),'value':function(_0xba28dd){var _0x57467b=_0xba28dd[_0x55f3('0xd2')],_0x57467b=void 0x0===_0x57467b?0x2710:_0x57467b,_0x26d7f3=_0xba28dd[_0x55f3('0x441')],_0x17285d=_0xba28dd[_0x55f3('0x442')],_0x17285d=void 0x0===_0x17285d?_0x55f3('0x435'):_0x17285d,_0x38ea6a=_0xba28dd[_0x55f3('0x365')],_0x38ea6a=void 0x0===_0x38ea6a?0x0:_0x38ea6a,_0xba28dd=_0xba28dd[_0x55f3('0x436')],_0xba28dd=void 0x0===_0xba28dd?0.8:_0xba28dd,_0x17285d=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x17285d),_0x2b7320=(_0x26d7f3&&(_0x2fa379=new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x26d7f3)),JSON[_0x55f3('0x405')]((0x0,_0x48e68b[_0x55f3('0x9')])(THREE[_0x55f3('0x428')][_0x55f3('0x413')]))),_0x2fa379=(_0x26d7f3&&(_0x2b7320['uniforms'][_0x55f3('0x438')]={'value':_0x2fa379}),_0x2b7320[_0x55f3('0x164')][_0x55f3('0x443')]={'value':_0x17285d},_0x2b7320[_0x55f3('0x164')]['offset']={'value':_0x38ea6a},_0x2b7320[_0x55f3('0x164')][_0x55f3('0x436')]={'value':_0xba28dd},_0x2b7320[_0x55f3('0x57')]=_0x2b7320[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x444'),_0x55f3('0x445')),_0x2b7320[_0x55f3('0x57')]=_0x2b7320[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x446'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20mvPosition\x20=\x20modelViewMatrix\x20*\x20vec4(\x20transformed,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20mvPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20gl_Position\x20=\x20newProject\x20*\x20mvPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20worldPos\x20=\x20modelMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vModelPos\x20=\x20worldPos.xyz;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2b7320[_0x55f3('0x58')]=_0x2b7320[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x26d7f3?_0x55f3('0x447'):'')+_0x55f3('0x448')),_0x2b7320[_0x55f3('0x58')]=_0x2b7320[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x449'),_0x55f3('0x44a')),new THREE[(_0x55f3('0x1e5'))]({'fragmentShader':_0x2b7320['fragmentShader'],'vertexShader':_0x2b7320[_0x55f3('0x57')],'uniforms':_0x2b7320[_0x55f3('0x164')],'side':THREE[_0x55f3('0x414')],'depthWrite':!0x1,'fog':!0x1}));this[_0x55f3('0x41e')]&&_0x2fa379[_0x55f3('0x164')][_0x55f3('0x431')]&&!_0x26d7f3&&(_0x2fa379[_0x55f3('0x164')]['tCube'][_0x55f3('0x12')]=this[_0x55f3('0x41e')]),this[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x44b'))](0x64,0x40,0xa),_0x2fa379),this[_0x55f3('0x41d')][_0x55f3('0x1d9')][_0x55f3('0x39')](_0x57467b,_0x57467b,_0x57467b),this['view'][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0x41d')]);}},{'key':_0x55f3('0x44c'),'value':function(_0xba28dd){var _0xba28dd=_0xba28dd[_0x55f3('0x1c6')],_0x57467b=new THREE[(_0x55f3('0x44b'))](0x1,0x40,0xa),_0xba28dd=new THREE[(_0x55f3('0x437'))]({'side':THREE[_0x55f3('0x414')],'fog':!0x1,'map':_0xba28dd});_0xba28dd[_0x55f3('0x44d')]=function(_0xba28dd){_0xba28dd[_0x55f3('0x57')]=_0xba28dd[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x44e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position.z\x20=\x20gl_Position.w;\x20//\x20set\x20z\x20to\x20camera.far\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},this[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](_0x57467b,_0xba28dd),this[_0x55f3('0x41d')][_0x55f3('0x1d9')][_0x55f3('0x39')](0x186a0,0x186a0,0x186a0),this[_0x55f3('0x367')]['scene']['add'](this[_0x55f3('0x41d')]);}},{'key':_0x55f3('0x44f'),'value':function(_0xba28dd){var _0xba28dd=_0xba28dd['size'],_0xba28dd=void 0x0===_0xba28dd?0x2710:_0xba28dd,_0x57467b=JSON[_0x55f3('0x405')]((0x0,_0x48e68b[_0x55f3('0x9')])(THREE[_0x55f3('0x428')][_0x55f3('0x413')])),_0x57467b=new THREE[(_0x55f3('0x1e5'))]({'fragmentShader':_0x57467b[_0x55f3('0x58')],'vertexShader':_0x57467b[_0x55f3('0x57')],'uniforms':_0x57467b[_0x55f3('0x164')],'side':THREE['BackSide'],'depthWrite':!0x1,'fog':!0x1});_0x57467b[_0x55f3('0x164')][_0x55f3('0x431')][_0x55f3('0x12')]=this[_0x55f3('0x41e')],this[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x44b'))](0x64,0x40,0xa),_0x57467b),this[_0x55f3('0x41d')][_0x55f3('0x1d9')][_0x55f3('0x39')](_0xba28dd,_0xba28dd,_0xba28dd),this[_0x55f3('0x41d')][_0x55f3('0x38')]['y']=-0x55d4a80,this[_0x55f3('0x367')][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0x41d')]);}},{'key':'createCylinderWallSky','value':function(_0xba28dd){var _0x26d7f3=this,_0x57467b=_0xba28dd[_0x55f3('0x450')],_0x17285d=_0xba28dd['wallHeight'],_0x38ea6a=void 0x0===_0x17285d?0x2710:_0x17285d,_0x17285d=_0xba28dd['offsetY'],_0x2b7320=void 0x0===_0x17285d?0x0:_0x17285d,_0x17285d=_0xba28dd[_0x55f3('0x451')],_0x2fa379=void 0x0===_0x17285d?0x0:_0x17285d,_0x48e68b=new THREE[(_0x55f3('0x26d'))]()['load'](_0x57467b,function(){var _0xba28dd=_0x48e68b[_0x55f3('0x36a')],_0xba28dd=_0xba28dd['width']/_0xba28dd[_0x55f3('0x32d')]*_0x38ea6a/(0x2*Math['PI']),_0xba28dd=(_0x48e68b[_0x55f3('0x33c')]=THREE['RepeatWrapping'],_0x48e68b[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],new THREE[(_0x55f3('0x452'))](_0xba28dd,_0xba28dd,_0x38ea6a,0x20,0x1,!0x0,0x0,0x2*Math['PI'])),_0x57467b=new THREE[(_0x55f3('0x437'))]({'map':_0x48e68b,'color':0xffffff,'side':THREE['BackSide'],'transparent':!0x0});_0x57467b[_0x55f3('0x44d')]=function(_0xba28dd){_0xba28dd[_0x55f3('0x57')]=_0xba28dd[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<fog_vertex>',_0x55f3('0x453'));},_0x26d7f3[_0x55f3('0x41d')]=new THREE[(_0x55f3('0x317'))](_0xba28dd,_0x57467b),_0x26d7f3['skyBox']['position']['y']=_0x2b7320,_0x26d7f3[_0x55f3('0x41d')][_0x55f3('0x1ef')]['y']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x2fa379),_0x26d7f3[_0x55f3('0x367')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0x26d7f3[_0x55f3('0x41d')]);});}},{'key':'setBackground','value':function(){this[_0x55f3('0x367')][_0x55f3('0x416')][_0x55f3('0x454')]=this[_0x55f3('0x41e')],this[_0x55f3('0x2fa')]({'type':_0x55f3('0x41f')});}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x41e')]&&this[_0x55f3('0x41e')][_0x55f3('0x93')](),this[_0x55f3('0x41e')]=null,_0x174507[_0x55f3('0x9')][_0x55f3('0x32e')](this[_0x55f3('0x41d')]),this[_0x55f3('0x41d')]=null;}}]),_0x57467b[_0x55f3('0x9')]=_0x258ef1;},function(_0x5ee70f,_0x25c457,_0x1bee78){'use strict';Object[_0x55f3('0x4')](_0x25c457,_0x55f3('0x7'),{'value':!0x0});var _0x17a03b=_0x1ba17a(_0x1bee78(0x12)),_0x5a6a4c=_0x1ba17a(_0x1bee78(0x0)),_0x1866d6=_0x1ba17a(_0x1bee78(0x1)),_0x2fb775=_0x1ba17a(_0x1bee78(0x91)),_0x3be2d4=_0x1ba17a(_0x1bee78(0x36));function _0x1ba17a(_0x5ee70f){return _0x5ee70f&&_0x5ee70f[_0x55f3('0x7')]?_0x5ee70f:{'default':_0x5ee70f};}function _0x570095(_0x5ee70f){_0x5ee70f=_0x5ee70f[_0x55f3('0x306')];(0x0,_0x5a6a4c[_0x55f3('0x9')])(this,_0x570095),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x306')]=_0x5ee70f,this[_0x55f3('0x1e7')]=null,this[_0x55f3('0x455')]=null,this[_0x55f3('0x456')]=null,this['sunPosition']=new THREE['Vector3'](),this[_0x55f3('0x457')]=0x32,this[_0x55f3('0x458')]=0x91,this['skyConfigs']={'luminance':0x1,'turbidity':0x1,'rayleigh':0.415,'mieCoefficient':0.005,'mieDirectionalG':0.8},this[_0x55f3('0x459')]={'luminance':0x1,'turbidity':0x1,'rayleigh':0.15,'mieCoefficient':0.005,'mieDirectionalG':0.8};}(0x0,_0x1866d6[_0x55f3('0x9')])(_0x570095,[{'key':_0x55f3('0x8'),'value':function(_0x5ee70f){_0x5ee70f=_0x5ee70f[_0x55f3('0x426')],_0x5ee70f=void 0x0!==_0x5ee70f&&_0x5ee70f;return this['createMaterial'](),this[_0x55f3('0x456')]=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x44b'))](0x1,0x18,0xc),this[_0x55f3('0x455')]),this[_0x55f3('0x456')]['scale']['setScalar'](0x1faa3b500),this[_0x55f3('0x456')][_0x55f3('0x8b')]='clearSkyBox',this[_0x55f3('0x319')][_0x55f3('0x1c3')](this[_0x55f3('0x456')]),this[_0x55f3('0x2f8')](),this[_0x55f3('0x45a')]({'isCullGround':_0x5ee70f}),this[_0x55f3('0x319')];}},{'key':_0x55f3('0x2fc'),'value':function(){this[_0x55f3('0x455')]=new THREE[(_0x55f3('0x1e5'))]({'uniforms':THREE['UniformsUtils'][_0x55f3('0x1b0')](_0x2fb775[_0x55f3('0x9')]['uniforms']),'fragmentShader':_0x2fb775[_0x55f3('0x9')][_0x55f3('0x58')],'vertexShader':_0x2fb775[_0x55f3('0x9')]['vertexShader'],'side':THREE[_0x55f3('0x414')]});}},{'key':_0x55f3('0x45a'),'value':function(_0x5ee70f){_0x5ee70f=(0x0,_0x17a03b[_0x55f3('0x9')])(this[_0x55f3('0x45b')],_0x5ee70f);var _0x25c457=this['skyMaterial'][_0x55f3('0x164')];_0x25c457[_0x55f3('0x45c')]['value']=_0x5ee70f[_0x55f3('0x45c')],_0x25c457[_0x55f3('0x45d')]['value']=_0x5ee70f[_0x55f3('0x45d')],_0x25c457[_0x55f3('0x45e')]['value']=_0x5ee70f[_0x55f3('0x45e')],_0x25c457[_0x55f3('0x45f')]['value']=_0x5ee70f[_0x55f3('0x45f')],_0x25c457[_0x55f3('0x460')][_0x55f3('0x12')]=_0x5ee70f['mieDirectionalG'],_0x25c457[_0x55f3('0x426')][_0x55f3('0x12')]=_0x5ee70f[_0x55f3('0x426')];}},{'key':_0x55f3('0x461'),'value':function(){this[_0x55f3('0x462')]['x']=0xa*Math[_0x55f3('0x5b')](this[_0x55f3('0x458')]*Math['PI']/0xb4)*Math[_0x55f3('0x5c')](this[_0x55f3('0x457')]*Math['PI']/0xb4),this[_0x55f3('0x462')]['y']=0xa*Math[_0x55f3('0x5b')](this[_0x55f3('0x457')]*Math['PI']/0xb4),this[_0x55f3('0x462')]['z']=0xa*Math[_0x55f3('0x5c')](this['theta']*Math['PI']/0xb4)*Math['cos'](this['phi']*Math['PI']/0xb4),this[_0x55f3('0x455')][_0x55f3('0x164')]['sunPosition'][_0x55f3('0x12')][_0x55f3('0x1ba')](this[_0x55f3('0x462')]),this['skyMaterial']['uniforms'][_0x55f3('0x463')][_0x55f3('0x12')][_0x55f3('0x1ba')](this[_0x55f3('0x306')]['position']);}},{'key':'update','value':function(){this[_0x55f3('0x319')][_0x55f3('0x38')]['copy'](this[_0x55f3('0x306')][_0x55f3('0x38')]),this[_0x55f3('0x461')]();}},{'key':'dispose','value':function(){_0x3be2d4['default'][_0x55f3('0x32e')](this[_0x55f3('0x319')]),this[_0x55f3('0x319')]=null,this[_0x55f3('0x1e7')]=null,this[_0x55f3('0x455')]=null,this[_0x55f3('0x456')]=null;}}]),_0x25c457[_0x55f3('0x9')]=_0x570095;},function(_0x57fc8d,_0x26eeb6,_0x441853){'use strict';Object[_0x55f3('0x4')](_0x26eeb6,_0x55f3('0x7'),{'value':!0x0}),_0x26eeb6[_0x55f3('0x9')]={'uniforms':{'luminance':{'value':0x1},'turbidity':{'value':0x2},'rayleigh':{'value':0x1},'mieCoefficient':{'value':0.005},'mieDirectionalG':{'value':0.8},'sunPosition':{'value':new THREE[(_0x55f3('0x5a'))]()},'cameraPos':{'value':new THREE[(_0x55f3('0x5a'))]()},'isCullGround':{'value':!0x1}},'vertexShader':_0x55f3('0x464'),'fragmentShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vWorldPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vSunDirection;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunfade;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaR;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vBetaM;\x0a\x20\x20\x20\x20\x20\x20\x20\x20varying\x20float\x20vSunE;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20luminance;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20mieDirectionalG;\x0a\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCullGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20cameraPos\x20=\x20vec3(\x200.0,\x200.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20pi\x20=\x203.141592653589793238462643383279502884197169;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20n\x20=\x201.0003;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20N\x20=\x202.545E25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20rayleighZenithLength\x20=\x208.4E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20mieZenithLength\x20=\x201.25E3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20vec3\x20up\x20=\x20vec3(\x200.0,\x201.0,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20sunAngularDiameterCos\x20=\x200.999956676946448443553574619906976478926848692873900859324;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20THREE_OVER_SIXTEENPI\x20=\x200.05968310365946075;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20ONE_OVER_FOURPI\x20=\x200.07957747154594767;\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20rayleighPhase(\x20float\x20cosTheta\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20THREE_OVER_SIXTEENPI\x20*\x20(\x201.0\x20+\x20pow(\x20cosTheta,\x202.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20float\x20hgPhase(\x20float\x20cosTheta,\x20float\x20g\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20g2\x20=\x20pow(\x20g,\x202.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20pow(\x201.0\x20-\x202.0\x20*\x20g\x20*\x20cosTheta\x20+\x20g2,\x201.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20ONE_OVER_FOURPI\x20*\x20(\x20(\x201.0\x20-\x20g2\x20)\x20*\x20inverse\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20A\x20=\x200.15;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20B\x20=\x200.50;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20C\x20=\x200.10;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20D\x20=\x200.20;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20E\x20=\x200.02;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20F\x20=\x200.30;\x0a\x20\x20\x20\x20\x20\x20\x20\x20const\x20float\x20whiteScale\x20=\x201.0748724675633854;\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Uncharted2Tonemap(\x20vec3\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20(\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20C\x20*\x20B\x20)\x20+\x20D\x20*\x20E\x20)\x20/\x20(\x20x\x20*\x20(\x20A\x20*\x20x\x20+\x20B\x20)\x20+\x20D\x20*\x20F\x20)\x20)\x20-\x20E\x20/\x20F;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zenithAngle\x20=\x20acos(\x20max(\x200.0,\x20dot(\x20up,\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20inverse\x20=\x201.0\x20/\x20(\x20cos(\x20zenithAngle\x20)\x20+\x200.15\x20*\x20pow(\x2093.885\x20-\x20(\x20(\x20zenithAngle\x20*\x20180.0\x20)\x20/\x20pi\x20),\x20-1.253\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sR\x20=\x20rayleighZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sM\x20=\x20mieZenithLength\x20*\x20inverse;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Fex\x20=\x20exp(\x20-(\x20vBetaR\x20*\x20sR\x20+\x20vBetaM\x20*\x20sM\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20cosTheta\x20=\x20dot(\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20),\x20vSunDirection\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20rPhase\x20=\x20rayleighPhase(\x20cosTheta\x20*\x200.5\x20+\x200.5\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaRTheta\x20=\x20vBetaR\x20*\x20rPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mPhase\x20=\x20hgPhase(\x20cosTheta,\x20mieDirectionalG\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20betaMTheta\x20=\x20vBetaM\x20*\x20mPhase;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20Lin\x20=\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20(\x201.0\x20-\x20Fex\x20),\x20vec3(\x201.5\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Lin\x20*=\x20mix(\x20vec3(\x201.0\x20),\x20pow(\x20vSunE\x20*\x20(\x20(\x20betaRTheta\x20+\x20betaMTheta\x20)\x20/\x20(\x20vBetaR\x20+\x20vBetaM\x20)\x20)\x20*\x20Fex,\x20vec3(\x201.0\x20/\x202.0\x20)\x20),\x20clamp(\x20pow(\x201.0\x20-\x20dot(\x20up,\x20vSunDirection\x20),\x205.0\x20),\x200.0,\x201.0\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20direction\x20=\x20normalize(\x20vWorldPosition\x20-\x20cameraPos\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20theta\x20=\x20acos(\x20direction.y\x20);\x20//\x20elevation\x20-->\x20y-axis,\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20phi\x20=\x20atan(\x20direction.z,\x20direction.x\x20);\x20//\x20azimuth\x20-->\x20x-axis\x20[-pi/2,\x20pi/2]\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vec2(\x20phi,\x20theta\x20)\x20/\x20vec2(\x202.0\x20*\x20pi,\x20pi\x20)\x20+\x20vec2(\x200.5,\x200.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20L0\x20=\x20vec3(\x200.1\x20)\x20*\x20Fex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20sundisk\x20=\x20smoothstep(\x20sunAngularDiameterCos,\x20sunAngularDiameterCos\x20+\x200.00002,\x20cosTheta\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L0\x20+=\x20(\x20vSunE\x20*\x2019000.0\x20*\x20Fex\x20)\x20*\x20sundisk;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texColor\x20=\x20(\x20Lin\x20+\x20L0\x20)\x20*\x200.04\x20+\x20vec3(\x200.0,\x200.0003,\x200.00075\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curr\x20=\x20Uncharted2Tonemap(\x20(\x20log2(\x202.0\x20/\x20pow(\x20luminance,\x204.0\x20)\x20)\x20)\x20*\x20texColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20color\x20=\x20curr\x20*\x20whiteScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20retColor\x20=\x20pow(\x20color,\x20vec3(\x201.0\x20/\x20(\x201.2\x20+\x20(\x201.2\x20*\x20vSunfade\x20)\x20)\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20retColor,\x201.0\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isCullGround){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vWorldPosition.y\x20<\x20-9e8){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'};},function(_0x4baf10,_0x1dfd73,_0x5f397b){'use strict';Object[_0x55f3('0x4')](_0x1dfd73,'__esModule',{'value':!0x0});var _0x1c9da8=_0x56bffb(_0x5f397b(0x0));function _0x56bffb(_0x4baf10){return _0x4baf10&&_0x4baf10[_0x55f3('0x7')]?_0x4baf10:{'default':_0x4baf10};}function _0x1c4dd6(_0x4baf10){var _0x1dfd73=_0x4baf10[_0x55f3('0x367')],_0x5f397b=_0x4baf10[_0x55f3('0x465')],_0x56bffb=_0x4baf10['originColor'],_0x4baf10=_0x4baf10[_0x55f3('0x466')];(0x0,_0x1c9da8[_0x55f3('0x9')])(this,_0x1c4dd6),this[_0x55f3('0x367')]=_0x1dfd73,this[_0x55f3('0x465')]=_0x5f397b,this[_0x55f3('0x467')]=_0x56bffb||new THREE[(_0x55f3('0x1b7'))](0xaadaff),this[_0x55f3('0x466')]=_0x4baf10||new THREE[(_0x55f3('0x1b7'))](0x135d63);}(0x0,_0x56bffb(_0x5f397b(0x1))[_0x55f3('0x9')])(_0x1c4dd6,[{'key':_0x55f3('0x468'),'value':function(_0x4baf10){this[_0x55f3('0x367')]=_0x4baf10;}},{'key':_0x55f3('0x2f8'),'value':function(){this[_0x55f3('0x367')]&&this['isShowWater']&&this[_0x55f3('0x469')](this[_0x55f3('0x367')]['tileLayer']['object3d'],function(_0x4baf10){_0x4baf10[_0x55f3('0x46a')]+=0.005;});}},{'key':'updateLayerNodesMaterial','value':function(_0x4baf10,_0x1dfd73){_0x4baf10['traverse'](function(_0x4baf10){_0x4baf10['material']&&_0x1dfd73(_0x4baf10[_0x55f3('0x3f')]);});}}]),_0x1dfd73['default']=_0x1c4dd6;},function(_0x569947,_0x3c3856,_0x5497de){'use strict';Object[_0x55f3('0x4')](_0x3c3856,_0x55f3('0x7'),{'value':!0x0});var _0x4d696e=_0x47a037(_0x5497de(0x4)),_0x56f759=_0x47a037(_0x5497de(0x28)),_0x91a245=_0x47a037(_0x5497de(0x0)),_0x58adde=_0x47a037(_0x5497de(0x1)),_0x44fe52=_0x47a037(_0x5497de(0x29)),_0x4b5640=_0x47a037(_0x5497de(0x2a)),_0x352a12=_0x5497de(0x2b),_0x180eb0=_0x5497de(0x83);function _0x47a037(_0x569947){return _0x569947&&_0x569947[_0x55f3('0x7')]?_0x569947:{'default':_0x569947};}function _0x55dd3a(_0x569947){var _0x3c3856=_0x569947['map'],_0x5497de=_0x569947['id'],_0x58adde=_0x569947[_0x55f3('0x41b')],_0x5f4e79=(_0x569947[_0x55f3('0x46b')],_0x569947[_0x55f3('0x46c')]),_0x7b366f=_0x569947[_0x55f3('0x46d')],_0x3c94c9=_0x569947['gradientTexPath'],_0x5d8f0c=_0x569947[_0x55f3('0x46e')],_0x43d08d=_0x569947[_0x55f3('0x46f')],_0x4b5640=_0x569947['emissiveTexScale'],_0x4b5640=void 0x0===_0x4b5640?0.1:_0x4b5640,_0x352a12=_0x569947[_0x55f3('0x470')],_0x352a12=void 0x0===_0x352a12?'#ffffff':_0x352a12,_0x47a037=_0x569947[_0x55f3('0x471')],_0x47a037=void 0x0===_0x47a037?_0x55f3('0x435'):_0x47a037,_0x38cd81=_0x569947[_0x55f3('0x472')],_0x38cd81=void 0x0===_0x38cd81?null:_0x38cd81,_0x4d696e=_0x569947[_0x55f3('0x221')],_0x4d696e=void 0x0===_0x4d696e?0x1:_0x4d696e,_0x3c1656=_0x569947[_0x55f3('0x473')],_0x3c1656=void 0x0!==_0x3c1656&&_0x3c1656,_0x13da7d=_0x569947[_0x55f3('0x474')],_0x13da7d=void 0x0!==_0x13da7d&&_0x13da7d,_0x16e268=_0x569947['isOpenWireframScan'],_0x16e268=void 0x0!==_0x16e268&&_0x16e268,_0x52d36b=_0x569947['isBreathColor'],_0x52d36b=void 0x0!==_0x52d36b&&_0x52d36b,_0xe08a84=_0x569947[_0x55f3('0x475')],_0xe08a84=void 0x0!==_0xe08a84&&_0xe08a84,_0x388b36=_0x569947[_0x55f3('0x476')],_0x388b36=void 0x0!==_0x388b36&&_0x388b36,_0x5695d1=_0x569947[_0x55f3('0x477')],_0x5695d1=void 0x0!==_0x5695d1&&_0x5695d1,_0x7ba063=_0x569947[_0x55f3('0x478')],_0x7ba063=void 0x0!==_0x7ba063&&_0x7ba063,_0x10efcf=_0x569947[_0x55f3('0x479')],_0x10efcf=void 0x0===_0x10efcf?{'x':0x0,'y':0x0}:_0x10efcf,_0x2c7b8b=_0x569947[_0x55f3('0x47a')],_0x2c7b8b=void 0x0===_0x2c7b8b?_0x55f3('0x47b'):_0x2c7b8b,_0x2e2ac6=_0x569947[_0x55f3('0x47c')],_0x2e2ac6=void 0x0===_0x2e2ac6?0x1f4:_0x2e2ac6,_0x4c4822=_0x569947[_0x55f3('0x47d')],_0x4c4822=void 0x0===_0x4c4822?0x1:_0x4c4822,_0x1ac386=_0x569947['hlExtent'],_0x1ac386=void 0x0===_0x1ac386?[-0x2710,0x2710]:_0x1ac386,_0x5d8b33=_0x569947['hlSpeed'],_0x5d8b33=void 0x0===_0x5d8b33?0x1:_0x5d8b33,_0x29cfcf=_0x569947['vlHeight'],_0x29cfcf=void 0x0===_0x29cfcf?0x64:_0x29cfcf,_0x48351c=_0x569947[_0x55f3('0x47e')],_0x48351c=void 0x0===_0x48351c?_0x55f3('0x339'):_0x48351c,_0x16c63c=_0x569947['vlExtent'],_0x16c63c=void 0x0===_0x16c63c?[-0x64,0x64]:_0x16c63c,_0x3ca15c=_0x569947[_0x55f3('0x47f')],_0x3ca15c=void 0x0===_0x3ca15c?0x1:_0x3ca15c,_0x1f0730=_0x569947['vlIsTop'],_0x1f0730=void 0x0===_0x1f0730||_0x1f0730,_0x1f7551=_0x569947['csColorStr'],_0x1f7551=void 0x0===_0x1f7551?_0x55f3('0x339'):_0x1f7551,_0x4250b3=_0x569947[_0x55f3('0x480')],_0x4250b3=void 0x0===_0x4250b3?0x3e8:_0x4250b3,_0x43d1c0=_0x569947[_0x55f3('0x481')],_0x43d1c0=void 0x0===_0x43d1c0?0x3e8:_0x43d1c0,_0x1b1b46=_0x569947['csSpeed'],_0x1b1b46=void 0x0===_0x1b1b46?0x1:_0x1b1b46,_0x2b9fca=_0x569947[_0x55f3('0x482')],_0x2b9fca=void 0x0===_0x2b9fca?{'x':0x0,'y':0x0}:_0x2b9fca,_0x17383a=_0x569947['rdColorStr'],_0x17383a=void 0x0===_0x17383a?_0x55f3('0x339'):_0x17383a,_0x1c4931=_0x569947[_0x55f3('0x483')],_0x1c4931=void 0x0===_0x1c4931?0x3e8:_0x1c4931,_0x159fb5=_0x569947[_0x55f3('0x484')],_0x159fb5=void 0x0===_0x159fb5?0x1:_0x159fb5,_0x87799a=_0x569947[_0x55f3('0x485')],_0x87799a=void 0x0===_0x87799a?{'x':0x0,'y':0x0}:_0x87799a,_0x51a558=_0x569947[_0x55f3('0x486')],_0x40d17f=_0x569947[_0x55f3('0x487')],_0x40d17f=void 0x0===_0x40d17f?{'top':0x1,'side':0x1}:_0x40d17f,_0x18b99e=_0x569947[_0x55f3('0x2f4')],_0x18b99e=void 0x0===_0x18b99e?{'x':0.08,'y':0.08}:_0x18b99e,_0x31583b=_0x569947['topRepeat'],_0x31583b=void 0x0===_0x31583b?{'x':0.08,'y':0.08}:_0x31583b,_0x356ab8=_0x569947[_0x55f3('0x488')],_0x356ab8=void 0x0===_0x356ab8?0x0:_0x356ab8,_0x21dbd9=_0x569947[_0x55f3('0x489')],_0x21dbd9=void 0x0===_0x21dbd9?null:_0x21dbd9,_0x569947=_0x569947['screenSkyConfig'],_0x569947=void 0x0===_0x569947?null:_0x569947,_0x4eabbc=((0x0,_0x91a245['default'])(this,_0x55dd3a),(0x0,_0x44fe52[_0x55f3('0x9')])(this,(_0x55dd3a[_0x55f3('0x7d')]||(0x0,_0x56f759[_0x55f3('0x9')])(_0x55dd3a))['call'](this))),_0x58adde=(_0x4eabbc[_0x55f3('0x94')]=_0x3c3856,_0x4eabbc[_0x55f3('0x367')]=_0x58adde,_0x4eabbc['id']=_0x5497de,_0x4eabbc[_0x55f3('0x48a')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x352a12),_0x4eabbc[_0x55f3('0x48b')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x47a037),_0x4eabbc[_0x55f3('0x1c6')]=null,_0x4eabbc[_0x55f3('0x48c')]=null,_0x4eabbc[_0x55f3('0x48d')]=null,_0x4eabbc[_0x55f3('0x48e')]=null,_0x4eabbc[_0x55f3('0x48f')]=null,_0x4eabbc[_0x55f3('0x490')]=null,_0x4eabbc[_0x55f3('0x491')]=null,_0x4eabbc['material']=null,_0x4eabbc[_0x55f3('0x492')]=null,_0x4eabbc[_0x55f3('0x221')]=_0x4d696e,_0x4eabbc[_0x55f3('0x493')]=new THREE[(_0x55f3('0x1b6'))](0x1,0x1,0x1,_0x4b5640),_0x38cd81&&(_0x3c3856=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x38cd81),_0x4eabbc[_0x55f3('0x493')]['x']=_0x3c3856['r'],_0x4eabbc[_0x55f3('0x493')]['y']=_0x3c3856['g'],_0x4eabbc[_0x55f3('0x493')]['z']=_0x3c3856['b']),_0x4eabbc['shaderMesh']=null,_0x4eabbc['shader']=null,_0x4eabbc['count']=0x0,_0x4eabbc['hlTime']=_0x1ac386[0x0],_0x4eabbc['vlTime']=0x0,_0x4eabbc[_0x55f3('0x494')]=0x0,_0x4eabbc[_0x55f3('0x495')]=0x0,_0x4eabbc[_0x55f3('0x473')]=_0x3c1656,_0x4eabbc[_0x55f3('0x474')]=_0x13da7d?0x1:0x0,_0x4eabbc['isShowHorizonScan']=_0xe08a84,_0x4eabbc[_0x55f3('0x476')]=_0x388b36,_0x4eabbc[_0x55f3('0x477')]=_0x5695d1,_0x4eabbc[_0x55f3('0x478')]=_0x7ba063,_0x4eabbc[_0x55f3('0x479')]=_0x10efcf,_0x4eabbc[_0x55f3('0x496')]=_0x16e268?0x1:0x0,_0x4eabbc[_0x55f3('0x497')]=!0x1,_0x4eabbc[_0x55f3('0x498')]=_0x1ac386,_0x4eabbc[_0x55f3('0x47c')]=_0x2e2ac6,_0x4eabbc[_0x55f3('0x47d')]=_0x4c4822,_0x4eabbc[_0x55f3('0x499')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x2c7b8b),_0x4eabbc[_0x55f3('0x49a')]=_0x5d8b33,_0x4eabbc['vlExtent']=_0x16c63c,_0x4eabbc[_0x55f3('0x49b')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x48351c),_0x4eabbc[_0x55f3('0x49c')]=_0x29cfcf,_0x4eabbc['vlSpeed']=_0x3ca15c,_0x4eabbc[_0x55f3('0x49d')]=_0x1f0730,_0x4eabbc[_0x55f3('0x49e')]=new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x1f7551),_0x4eabbc[_0x55f3('0x480')]=_0x4250b3,_0x4eabbc[_0x55f3('0x481')]=_0x43d1c0,_0x4eabbc['csSpeed']=_0x1b1b46,_0x4eabbc[_0x55f3('0x482')]=_0x2b9fca,_0x4eabbc[_0x55f3('0x49f')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x17383a),_0x4eabbc[_0x55f3('0x483')]=_0x1c4931,_0x4eabbc[_0x55f3('0x484')]=_0x159fb5,_0x4eabbc[_0x55f3('0x486')]=_0x51a558,_0x4eabbc['radarCenterPos']=_0x87799a,_0x4eabbc[_0x55f3('0x4a0')]=_0x52d36b,_0x4eabbc[_0x55f3('0x4a1')]=new THREE['Vector4'](_0x31583b['x'],_0x31583b['y'],_0x18b99e['x'],_0x18b99e['y']),_0x4eabbc[_0x55f3('0x4a2')]=new THREE[(_0x55f3('0x1b4'))](THREE[_0x55f3('0x18')]['degToRad'](_0x356ab8),0x0),_0x4eabbc['textureLightStrength']=new THREE[(_0x55f3('0x1b4'))](_0x40d17f['top'],_0x40d17f[_0x55f3('0x3bf')]),_0x4eabbc[_0x55f3('0x4a3')]=!0x1,_0x4eabbc[_0x55f3('0x4a4')]=0x1f4,_0x4eabbc[_0x55f3('0x4a5')]={'x':0x0,'y':0x0},null),_0x5497de=(_0x21dbd9&&(_0x4eabbc[_0x55f3('0x4a3')]=!0x0,_0x4eabbc[_0x55f3('0x4a4')]=_0x21dbd9[_0x55f3('0x21e')],_0x4eabbc[_0x55f3('0x4a5')]=_0x21dbd9[_0x55f3('0x22b')],_0x58adde=_0x21dbd9[_0x55f3('0x4a6')]),_0x4eabbc['isUseScreenSky']=!0x1,null),_0x352a12=(_0x569947&&(_0x4eabbc[_0x55f3('0x4a7')]=!0x0,_0x5497de=_0x569947['skyImg']),_0x4eabbc[_0x55f3('0x4a8')]=null,_0x4eabbc[_0x55f3('0x4a9')]=null,_0x4eabbc[_0x55f3('0x46b')]=!0x0,_0x4eabbc[_0x55f3('0x4aa')]=null,_0x4eabbc[_0x55f3('0x4ab')]=null,_0x4eabbc['lightIntensity']=0x1,_0x4eabbc[_0x55f3('0x4ac')]=0x1,_0x4eabbc['textureLoader']=new THREE[(_0x55f3('0x26d'))](),_0x4eabbc[_0x55f3('0x4ad')]=0x0,null);return _0x5d8f0c&&(_0x4eabbc[_0x55f3('0x4ae')]=new _0x180eb0[(_0x55f3('0x373'))](),_0x4eabbc[_0x55f3('0x4ae')][_0x55f3('0x4af')](_0x55f3('0x4b0'),_0x5d8f0c),_0x4eabbc[_0x55f3('0x4ae')][_0x55f3('0x372')](_0x55f3('0x4b0')),_0x352a12=_0x4eabbc[_0x55f3('0x4ae')]['createCanvas']()),_0x4eabbc[_0x55f3('0x2fc')]({'sideTexPath':_0x5f4e79,'topTexPath':_0x7b366f,'gradientTexPath':_0x3c94c9,'gradientCanvas':_0x352a12,'extentGradientTexPath':_0x58adde,'emissiveTexPath':_0x43d08d,'screenSkyTexPath':_0x5497de}),_0x4eabbc;}_0x5497de=_0x352a12[_0x55f3('0x7e')],(0x0,_0x4b5640['default'])(_0x55dd3a,_0x5497de),(0x0,_0x58adde[_0x55f3('0x9')])(_0x55dd3a,[{'key':_0x55f3('0x4b1'),'value':function(_0x569947,_0x3c3856,_0x5497de){var _0x58adde,_0x4b5640=this[_0x55f3('0x4aa')][_0x569947];for(_0x58adde in _0x4b5640[_0x55f3('0x4b2')])if(_0x4b5640['topImgIndexMap'][_0x58adde]===_0x3c3856&&_0x4b5640[_0x55f3('0x4b3')][_0x58adde]===_0x5497de)return{'style':_0x569947,'group':_0x58adde};return{'style':null,'group':null};}},{'key':_0x55f3('0x4b4'),'value':function(_0x569947){var _0x3c3856=_0x569947[_0x55f3('0x3d')][_0x55f3('0x4b5')][_0x55f3('0xf')];if(0x0<_0x3c3856)for(var _0x5497de,_0x58adde,_0x4b5640,_0x352a12=0x0;_0x352a12<_0x3c3856;_0x352a12++)void 0x0!==_0x569947[_0x55f3('0x3d')][_0x55f3('0x4b5')][_0x352a12]['RoomStyle']&&this[_0x55f3('0x46b')]&&(_0x5497de=this[_0x55f3('0x4a8')][_0x569947['datas_'][_0x55f3('0x4b5')][_0x352a12][_0x55f3('0x3e')]],this['material'][_0x55f3('0x1d5')]=!0x0,void 0x0!==_0x5497de&&_0x5497de[_0x55f3('0x4b6')]&&0x1==+_0x5497de['filltype']&&_0x5497de[_0x55f3('0x220')]||(void 0x0!==_0x5497de&&_0x5497de[_0x55f3('0x4b6')]&&0x2==+_0x5497de[_0x55f3('0x4b6')]&&(_0x5497de[_0x55f3('0x4b7')]||_0x5497de[_0x55f3('0x4b8')])&&this[_0x55f3('0x4b9')]?(_0x58adde=(_0x58adde=this[_0x55f3('0x4b1')](this['id'],_0x5497de[_0x55f3('0x4b7')],_0x5497de[_0x55f3('0x4b8')]))[_0x55f3('0x1f7')]?+_0x58adde[_0x55f3('0x1f7')]-0x1:0x0,_0x5497de[_0x55f3('0x4b7')]&&(_0x4b5640=this[_0x55f3('0x4aa')][this['id']][_0x55f3('0x4b2')][0x1+_0x58adde])&&!this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4ba')][_0x55f3('0x12')][_0x58adde]&&(this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4ba')][_0x55f3('0x12')][_0x58adde]=this[_0x55f3('0x4ab')][_0x4b5640]['texture'],0x2!=_0x5497de[_0x55f3('0x4bb')]?(this[_0x55f3('0x4b9')][_0x55f3('0x164')]['topTexArr'][_0x55f3('0x12')][_0x58adde][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4ba')]['value'][_0x58adde]['wrapT']=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['topTexWrapArr']['value'][_0x58adde]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['buildingTexRepeat'][_0x55f3('0x12')]['x']=this[_0x55f3('0x4ac')],this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4bc')][_0x55f3('0x12')]['y']=this[_0x55f3('0x4ac')],this['shader'][_0x55f3('0x164')][_0x55f3('0x4bd')][_0x55f3('0x12')][_0x58adde]=Math[_0x55f3('0x64')](+_0x5497de[_0x55f3('0x4be')]/0x1f4*0x3e8)/0x3e8):this['shader'][_0x55f3('0x164')][_0x55f3('0x4bf')]['value'][_0x58adde]=THREE[_0x55f3('0x4c0')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4ba')][_0x55f3('0x12')][_0x58adde]['name']=_0x4b5640),_0x5497de[_0x55f3('0x4b8')]&&(_0x4b5640=this[_0x55f3('0x4aa')][this['id']][_0x55f3('0x4b3')][0x1+_0x58adde])&&!this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4c1')][_0x55f3('0x12')][_0x58adde]&&(this['shader']['uniforms'][_0x55f3('0x4c1')][_0x55f3('0x12')][_0x58adde]=this[_0x55f3('0x4ab')][_0x4b5640][_0x55f3('0x1c6')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c1')]['value'][_0x58adde][_0x55f3('0x4c2')]=0x10,0x2!=_0x5497de[_0x55f3('0x4c3')]?(this['shader'][_0x55f3('0x164')]['sideTexArr'][_0x55f3('0x12')][_0x58adde]['wrapS']=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['sideTexArr'][_0x55f3('0x12')][_0x58adde][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c4')]['value'][_0x58adde]=THREE[_0x55f3('0x33d')],this['shader'][_0x55f3('0x164')][_0x55f3('0x4bc')]['value']['z']=this[_0x55f3('0x4ac')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['buildingTexRepeat'][_0x55f3('0x12')]['w']=this[_0x55f3('0x4ac')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c5')]['value'][_0x58adde]=Math[_0x55f3('0x64')](+_0x5497de[_0x55f3('0x4c6')]/0x1f4*0x3e8)/0x3e8):this['shader'][_0x55f3('0x164')][_0x55f3('0x4c4')][_0x55f3('0x12')][_0x58adde]=THREE['ClampToEdgeWrapping'],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c1')][_0x55f3('0x12')][_0x58adde][_0x55f3('0x8b')]=_0x4b5640)):_0x569947['datas_'][_0x55f3('0x4b5')][_0x352a12][_0x55f3('0x3e')]));}},{'key':_0x55f3('0x4c7'),'value':function(_0x569947,_0x3c3856){var _0x5497de=_0x569947['datas_']['brothers'][_0x55f3('0xf')];if(0x0<_0x5497de)for(var _0x58adde=0x0;_0x58adde<_0x5497de;_0x58adde++)void 0x0!==_0x569947[_0x55f3('0x3d')][_0x55f3('0x4b5')][_0x58adde][_0x55f3('0x3e')]&&this[_0x55f3('0x46b')]&&this[_0x55f3('0x4c8')](_0x3c3856);}},{'key':_0x55f3('0x4c8'),'value':function(_0x569947){_0x569947=this[_0x55f3('0x4a8')][_0x569947];this[_0x55f3('0x3f')]['transparent']=!0x0,void 0x0!==_0x569947&&_0x569947[_0x55f3('0x4b6')]&&0x1==+_0x569947[_0x55f3('0x4b6')]&&_0x569947[_0x55f3('0x220')]||void 0x0!==_0x569947&&_0x569947[_0x55f3('0x4b6')]&&0x2==+_0x569947[_0x55f3('0x4b6')]&&(_0x569947[_0x55f3('0x4b7')]||_0x569947[_0x55f3('0x4b8')])&&this[_0x55f3('0x4b9')]&&(_0x569947['topImage']&&!this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4ba')][_0x55f3('0x12')][0x0]&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4ba')][_0x55f3('0x12')][0x0]=this[_0x55f3('0x4ab')][_0x569947[_0x55f3('0x4b7')]][_0x55f3('0x1c6')],0x2!=_0x569947[_0x55f3('0x4bb')]?(this['shader'][_0x55f3('0x164')][_0x55f3('0x4ba')][_0x55f3('0x12')][0x0][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this['shader'][_0x55f3('0x164')]['topTexArr'][_0x55f3('0x12')][0x0][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['topTexWrapArr'][_0x55f3('0x12')][0x0]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')]['uniforms']['buildingTexRepeat']['value']['x']=this['buildingBaseRepeat'],this['shader'][_0x55f3('0x164')][_0x55f3('0x4bc')][_0x55f3('0x12')]['y']=this[_0x55f3('0x4ac')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4bd')][_0x55f3('0x12')][0x0]=Math[_0x55f3('0x64')](+_0x569947[_0x55f3('0x4be')]/0x1f4*0x3e8)/0x3e8):this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4bf')][_0x55f3('0x12')][0x0]=THREE[_0x55f3('0x4c0')],this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4ba')][_0x55f3('0x12')][0x0]['name']=_0x569947[_0x55f3('0x4b7')]),_0x569947[_0x55f3('0x4b8')]&&!this['shader'][_0x55f3('0x164')][_0x55f3('0x4c1')][_0x55f3('0x12')][0x0]&&(this[_0x55f3('0x4b9')]['uniforms']['sideTexArr']['value'][0x0]=this['themeTextureList'][_0x569947[_0x55f3('0x4b8')]]['texture'],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c1')]['value'][0x0][_0x55f3('0x4c2')]=0x10,0x2!=_0x569947['sideTextureType']?(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c1')][_0x55f3('0x12')][0x0][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')]['sideTexArr'][_0x55f3('0x12')][0x0][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c4')][_0x55f3('0x12')][0x0]=THREE['RepeatWrapping'],this[_0x55f3('0x4b9')]['uniforms']['buildingTexRepeat']['value']['z']=this[_0x55f3('0x4ac')],this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4bc')][_0x55f3('0x12')]['w']=this['buildingBaseRepeat'],this['shader'][_0x55f3('0x164')][_0x55f3('0x4c5')]['value'][0x0]=Math[_0x55f3('0x64')](+_0x569947['sideimagerepeat']/0x1f4*0x3e8)/0x3e8):this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c4')][_0x55f3('0x12')][0x0]=THREE[_0x55f3('0x4c0')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4c1')]['value'][0x0][_0x55f3('0x8b')]=_0x569947[_0x55f3('0x4b8')]));}},{'key':'getStyleFromRoomStyle','value':function(_0x569947){var _0x3c3856=!0x0,_0x5497de=!0x1,_0x58adde=void 0x0;try{for(var _0x4b5640,_0x352a12=(0x0,_0x4d696e['default'])(this['themeList']);!(_0x3c3856=(_0x4b5640=_0x352a12['next']())[_0x55f3('0x269')]);_0x3c3856=!0x0){var _0x47a037=_0x4b5640[_0x55f3('0x12')];if(_0x47a037[_0x55f3('0x4c9')]==_0x569947)return _0x47a037;}}catch(_0x1bef04){_0x5497de=!0x0,_0x58adde=_0x1bef04;}finally{try{!_0x3c3856&&_0x352a12[_0x55f3('0x271')]&&_0x352a12[_0x55f3('0x271')]();}finally{if(_0x5497de)throw _0x58adde;}}console[_0x55f3('0x1f5')](_0x55f3('0x3b'),_0x569947);}},{'key':'_getColorByHeight','value':function(_0x569947,_0x3c3856){var _0x5497de=!0x0,_0x58adde=!0x1,_0x4b5640=void 0x0;try{for(var _0x352a12,_0x47a037=(0x0,_0x4d696e[_0x55f3('0x9')])(this[_0x55f3('0x4a9')]);!(_0x5497de=(_0x352a12=_0x47a037[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5497de=!0x0){var _0x258c26=_0x352a12[_0x55f3('0x12')];if(_0x258c26[_0x55f3('0x4ca')][0x0]<=_0x3c3856&&_0x258c26['range'][0x1]>_0x3c3856)return void _0x569947['setStyle'](_0x258c26[_0x55f3('0x220')]);}}catch(_0x235865){_0x58adde=!0x0,_0x4b5640=_0x235865;}finally{try{!_0x5497de&&_0x47a037[_0x55f3('0x271')]&&_0x47a037[_0x55f3('0x271')]();}finally{if(_0x58adde)throw _0x4b5640;}}}},{'key':'getDis','value':function(_0x569947,_0x3c3856){return Math['abs'](Math[_0x55f3('0x1bc')](Math[_0x55f3('0x313')](_0x569947['x']-_0x3c3856['x'],0x2)+Math[_0x55f3('0x313')](_0x569947['y']-_0x3c3856['y'],0x2)));}},{'key':_0x55f3('0x4cb'),'value':function(_0x569947,_0x3c3856,_0x5497de){var _0x58adde={'x':_0x569947[0x9*_0x5497de],'y':_0x569947[0x9*_0x5497de+0x1]},_0x4b5640={'x':_0x569947[0x9*_0x5497de+0x3],'y':_0x569947[0x9*_0x5497de+0x4]},_0x569947={'x':_0x569947[0x9*_0x5497de+0x6],'y':_0x569947[0x9*_0x5497de+0x7]};return _0x3c3856[0x9*_0x5497de+0x2]==_0x3c3856[0x9*_0x5497de+0x5]?this[_0x55f3('0x4cc')](_0x58adde,_0x4b5640):_0x3c3856[0x9*_0x5497de+0x2]==_0x3c3856[0x9*_0x5497de+0x8]?this[_0x55f3('0x4cc')](_0x58adde,_0x569947):_0x3c3856[0x9*_0x5497de+0x5]==_0x3c3856[0x9*_0x5497de+0x8]?this[_0x55f3('0x4cc')](_0x4b5640,_0x569947):void 0x0;}},{'key':'createMaterial','value':function(_0x569947){var _0x3c3856=_0x569947[_0x55f3('0x4cd')],_0x5497de=_0x569947['topTexPath'],_0x58adde=_0x569947[_0x55f3('0x4ce')],_0x4b5640=_0x569947['gradientCanvas'],_0x352a12=_0x569947[_0x55f3('0x4cf')],_0x47a037=_0x569947[_0x55f3('0x46f')],_0x569947=_0x569947['screenSkyTexPath'],_0x5ba040=this,_0x4d696e=(this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x4d0'))]({'color':this['buildingColor']}),_0x3c3856&&!this[_0x55f3('0x46b')]&&(_0x5ba040[_0x55f3('0x1c6')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x3c3856),_0x5ba040['texture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x5ba040[_0x55f3('0x1c6')][_0x55f3('0x33c')]=THREE['RepeatWrapping'],_0x5ba040[_0x55f3('0x1c6')][_0x55f3('0x4c2')]=_0x5ba040['view']['renderer'][_0x55f3('0x4d1')]['getMaxAnisotropy']()),_0x5497de&&!this[_0x55f3('0x46b')]&&(_0x5ba040[_0x55f3('0x48c')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x5497de),_0x5ba040['topTexture'][_0x55f3('0x33e')]=THREE['RepeatWrapping'],_0x5ba040[_0x55f3('0x48c')][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x5ba040[_0x55f3('0x48c')][_0x55f3('0x4c2')]=_0x5ba040[_0x55f3('0x367')][_0x55f3('0x4d2')]['capabilities'][_0x55f3('0x4d3')]()),_0x58adde&&(_0x5ba040[_0x55f3('0x48d')]=new THREE['TextureLoader']()[_0x55f3('0x26f')](_0x58adde)),_0x4b5640&&(_0x5ba040[_0x55f3('0x48d')]=new THREE[(_0x55f3('0x4d4'))](_0x4b5640),_0x58adde=!0x0),_0x352a12&&(_0x5ba040['extentGradientTexture']=new THREE['TextureLoader']()[_0x55f3('0x26f')](_0x352a12)),_0x5ba040['radarTexPath']&&(_0x5ba040[_0x55f3('0x490')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x5ba040['radarTexPath'])),_0x47a037&&(_0x5ba040['emissiveTexture']=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x47a037),_0x5ba040['emissiveTexture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x5ba040[_0x55f3('0x491')][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x5ba040[_0x55f3('0x491')]['anisotropy']=_0x5ba040[_0x55f3('0x367')][_0x55f3('0x4d2')]['capabilities'][_0x55f3('0x4d3')]()),_0x569947&&(_0x5ba040[_0x55f3('0x48f')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x47a037)),this[_0x55f3('0x473')]&&(this[_0x55f3('0x3f')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),this[_0x55f3('0x221')]<0x1&&(this[_0x55f3('0x3f')]['transparent']=!0x0,this[_0x55f3('0x3f')]['opacity']=this['opacity']),null),_0xee38a6=null,_0x15d858=null,_0x27b534=null,_0x259145=null,_0x2aef53=null,_0x5486f2=(this[_0x55f3('0x46b')]&&(_0x15d858=new THREE[(_0x55f3('0x4d5'))](new Array(0x4)[_0x55f3('0x4d6')](THREE[_0x55f3('0x33d')])),_0x4d696e=new THREE[(_0x55f3('0x4d5'))](new Array(0x4)[_0x55f3('0x4d6')](null)),_0x27b534=new THREE[(_0x55f3('0x4d5'))](new Array(0x4)[_0x55f3('0x4d6')](THREE[_0x55f3('0x33d')])),_0xee38a6=new THREE['Uniform'](new Array(0x4)[_0x55f3('0x4d6')](null)),_0x259145=new THREE[(_0x55f3('0x4d5'))](new Array(0x4)[_0x55f3('0x4d6')](0x1)),_0x2aef53=new THREE[(_0x55f3('0x4d5'))](new Array(0x4)['fill'](0x1))),new THREE[(_0x55f3('0x1b7'))](this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0x4d7')]));this['material'][_0x55f3('0x44d')]=function(_0x569947){_0x569947[_0x55f3('0x164')][_0x55f3('0x474')]={'type':'i','value':_0x5ba040['isOpenScan']},_0x569947[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':_0x5ba040[_0x55f3('0xfc')]},_0x569947['uniforms'][_0x55f3('0x4d9')]={'value':!0x1},_0x569947['uniforms'][_0x55f3('0x48b')]={'value':_0x5ba040['highLightColor']},_0x569947[_0x55f3('0x164')]['selectedColor']={'value':_0x5486f2},_0x3c3856&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x4da')]={'value':_0x5ba040[_0x55f3('0x1c6')]},_0x569947['uniforms'][_0x55f3('0x4bc')]={'value':_0x5ba040[_0x55f3('0x4a1')]},_0x569947['uniforms'][_0x55f3('0x4db')]={'value':_0x5ba040[_0x55f3('0x4a2')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x4dc')]={'value':_0x5ba040[_0x55f3('0x48c')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x4dd')]={'value':_0x5ba040['gradientTexture']},_0x569947[_0x55f3('0x164')]['texLightStg']={'value':_0x5ba040[_0x55f3('0x487')]}),_0x47a037&&(_0x569947[_0x55f3('0x164')]['emissiveTex']={'value':_0x5ba040['emissiveTexture']},_0x569947[_0x55f3('0x164')]['emissiveFactor']={'value':_0x5ba040['emissiveFactor']}),_0x5ba040[_0x55f3('0x474')]&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x4de')]={'value':!0x0},_0x569947[_0x55f3('0x164')][_0x55f3('0x479')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x5ba040[_0x55f3('0x479')]['x'],_0x5ba040['centerPos']['y'])},_0x5ba040['isShowHorizonScan']&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x499')]={'value':_0x5ba040[_0x55f3('0x499')]},_0x569947[_0x55f3('0x164')]['hlDiffuse']={'value':_0x5ba040[_0x55f3('0x47d')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x47c')]={'value':_0x5ba040[_0x55f3('0x47c')]},_0x569947[_0x55f3('0x164')]['hlTime']={'value':_0x5ba040[_0x55f3('0x4df')]}),_0x5ba040['isShowVerticalScan']&&(_0x569947[_0x55f3('0x164')]['vlColor']={'value':_0x5ba040[_0x55f3('0x49b')]},_0x569947['uniforms'][_0x55f3('0x49c')]={'value':_0x5ba040[_0x55f3('0x49c')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x4e0')]={'value':_0x5ba040[_0x55f3('0x4e0')]}),_0x5ba040[_0x55f3('0x477')]&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x482')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x5ba040[_0x55f3('0x482')]['x'],_0x5ba040[_0x55f3('0x482')]['y'])},_0x569947[_0x55f3('0x164')][_0x55f3('0x480')]={'value':_0x5ba040[_0x55f3('0x480')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x49e')]={'value':_0x5ba040[_0x55f3('0x49e')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x494')]={'value':_0x5ba040['csTime']}),_0x5ba040['isShowRadarScan']&&(_0x569947['uniforms'][_0x55f3('0x4e1')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x5ba040['radarCenterPos']['x'],_0x5ba040[_0x55f3('0x485')]['y'])},_0x569947[_0x55f3('0x164')][_0x55f3('0x4e2')]={'value':_0x5ba040[_0x55f3('0x483')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x4e3')]={'value':_0x5ba040['radarColor']},_0x569947[_0x55f3('0x164')][_0x55f3('0x495')]={'value':_0x5ba040[_0x55f3('0x495')]},_0x569947[_0x55f3('0x164')][_0x55f3('0x4e4')]={'value':_0x5ba040[_0x55f3('0x490')]})),_0x5ba040[_0x55f3('0x4a3')]&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x4a4')]={'value':_0x5ba040[_0x55f3('0x4a4')]},_0x569947['uniforms'][_0x55f3('0x4a5')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x5ba040['extentCenter']['x'],_0x5ba040[_0x55f3('0x4a5')]['y'])},_0x569947[_0x55f3('0x164')][_0x55f3('0x4e5')]={'value':_0x5ba040['extentGradientTexture']}),_0x5ba040[_0x55f3('0x4a7')]&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x439')]={'value':_0x5ba040[_0x55f3('0x48f')]}),_0x5ba040[_0x55f3('0x46b')]&&(_0x569947[_0x55f3('0x164')][_0x55f3('0x4ba')]=_0x4d696e,_0x569947[_0x55f3('0x164')][_0x55f3('0x4c1')]=_0xee38a6,_0x569947[_0x55f3('0x164')][_0x55f3('0x4bf')]=_0x15d858,_0x569947[_0x55f3('0x164')][_0x55f3('0x4c4')]=_0x27b534,_0x569947['uniforms'][_0x55f3('0x4bd')]=_0x259145,_0x569947[_0x55f3('0x164')][_0x55f3('0x4c5')]=_0x2aef53,_0x569947[_0x55f3('0x164')][_0x55f3('0x4e6')]={'value':_0x5ba040['id']}),_0x569947['vertexShader']=_0x569947[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv_pars_vertex>',_0x55f3('0x4e7')+(_0x3c3856?'#define\x20IS_TEXTURE':'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x474')]?_0x55f3('0x4e9'):'')+_0x55f3('0x4e8')+(_0x5ba040['isTileBuilding']?_0x55f3('0x4ea'):'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x4a7')]?_0x55f3('0x4eb'):'')+_0x55f3('0x4ec')),_0x569947[_0x55f3('0x57')]=_0x569947[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv_vertex>',_0x55f3('0x4ed')),_0x569947['vertexShader']=_0x569947[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x446'),_0x55f3('0x4ee')),_0x569947[_0x55f3('0x58')]=_0x569947[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x4e8')+(_0x3c3856?'#define\x20IS_TEXTURE':'')+_0x55f3('0x4e8')+(_0x58adde?_0x55f3('0x4ef'):'')+_0x55f3('0x4e8')+(_0x47a037?'#define\x20IS_EMISSIVE_TEXTURE':'')+_0x55f3('0x4e8')+(_0x5ba040['isOpenScan']?_0x55f3('0x4e9'):'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x4a0')]?_0x55f3('0x4f0'):'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x475')]?'#define\x20HORIZONTAL_LINE':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ba040[_0x55f3('0x476')]?_0x55f3('0x4f1'):'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x477')]?'#define\x20CENTER_SPREAD':'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5ba040['isShowRadarScan']?'#define\x20RADAR_SCAN':'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x4a3')]?_0x55f3('0x4f2'):'')+_0x55f3('0x4e8')+(_0x5ba040[_0x55f3('0x4a7')]?_0x55f3('0x4eb'):'')+_0x55f3('0x4e8')+(_0x5ba040['isTileBuilding']?_0x55f3('0x4ea'):'')+_0x55f3('0x4f3')),_0x569947[_0x55f3('0x58')]=_0x569947['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f4'),_0x55f3('0x4f5')),_0x569947[_0x55f3('0x58')]=_0x569947[_0x55f3('0x58')]['replace'](_0x55f3('0x4f6'),_0x55f3('0x4f7')),_0x569947[_0x55f3('0x58')]=_0x569947['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x4f9')),_0x5ba040[_0x55f3('0x4b9')]=_0x569947,_0x5ba040[_0x55f3('0x2fa')]({'type':_0x55f3('0x4fa')});};}},{'key':_0x55f3('0x4fb'),'value':function(_0x569947){_0x569947[_0x55f3('0x220')],this[_0x55f3('0x4b9')];}},{'key':_0x55f3('0x4fc'),'value':function(){return this['material'];}},{'key':_0x55f3('0x4fd'),'value':function(){return this[_0x55f3('0x492')];}},{'key':'toggleColorLight','value':function(_0x569947,_0x3c3856){var _0x5497de=this;new TWEEN[(_0x55f3('0x331'))]({'intensity':_0x569947})['to']({'intensity':_0x3c3856},0x7d0)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')][_0x55f3('0x393')])[_0x55f3('0x332')](function(_0x569947){_0x5497de['lightIntensity']=_0x569947['intensity'],_0x5497de[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x4fe')](0x0,0x0,_0x569947[_0x55f3('0x427')]);})['start']();}},{'key':_0x55f3('0x4ff'),'value':function(_0x569947,_0x3c3856){var _0x5497de=this;new TWEEN[(_0x55f3('0x331'))]({'radius':_0x569947})['to']({'radius':_0x3c3856},0x7d0)['easing'](TWEEN['Easing']['Quadratic']['Out'])['onUpdate'](function(_0x569947){_0x5497de['extentRadius']=_0x569947[_0x55f3('0x21e')],_0x5497de[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4a4')][_0x55f3('0x12')]=_0x569947[_0x55f3('0x21e')];})['start']();}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x3f')]&&this['material'][_0x55f3('0x93')](),this[_0x55f3('0x1c6')]?this['texture'][_0x55f3('0x93')]():this[_0x55f3('0x1c6')]=null,this['topTexture']?this['topTexture'][_0x55f3('0x93')]():this[_0x55f3('0x48c')]=null,this[_0x55f3('0x48d')]?this[_0x55f3('0x48d')][_0x55f3('0x93')]():this[_0x55f3('0x48d')]=null,this[_0x55f3('0x4b9')],this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x500')]&&(this['shaderMesh'][_0x55f3('0x3f')][0x0]=null),this[_0x55f3('0x500')]=null;}},{'key':_0x55f3('0x336'),'value':function(_0x569947){this['shader']&&(this[_0x55f3('0xfc')]+=_0x569947,this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')],this[_0x55f3('0x475')]&&(this['hlTime']>this['hlExtent'][0x1]&&(this[_0x55f3('0x4df')]=this['hlExtent'][0x0]),this['hlTime']+=_0x569947*this['hlSpeed'],this[_0x55f3('0x4b9')]['uniforms']['hlTime'][_0x55f3('0x12')]=-this['hlTime']),this[_0x55f3('0x476')]&&(this[_0x55f3('0x4e0')]>this[_0x55f3('0x501')][0x0]&&(this[_0x55f3('0x4e0')]=this[_0x55f3('0x501')][0x1]),this[_0x55f3('0x4e0')]+=_0x569947*this[_0x55f3('0x47f')],this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4e0')][_0x55f3('0x12')]=-this['vlTime']),this[_0x55f3('0x477')]&&(this[_0x55f3('0x494')]+=_0x569947*this[_0x55f3('0x502')],this[_0x55f3('0x494')]>this[_0x55f3('0x481')]&&(this[_0x55f3('0x494')]=0x0),this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x494')][_0x55f3('0x12')]=this['csTime']),this[_0x55f3('0x478')]&&(this[_0x55f3('0x495')]+=_0x569947*this[_0x55f3('0x484')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x495')][_0x55f3('0x12')]=this[_0x55f3('0x495')]));}}]),_0x3c3856[_0x55f3('0x9')]=_0x55dd3a;},function(_0x1b3125,_0x369916,_0x10f817){_0x1b3125[_0x55f3('0x0')]={'default':_0x10f817(0x95),'__esModule':!0x0};},function(_0x2cd815,_0x1a2ce8,_0x5ebda4){_0x5ebda4(0x96),_0x2cd815['exports']=_0x5ebda4(0x2)['Math'][_0x55f3('0x503')];},function(_0x182cfd,_0x38f293,_0x5f4eff){var _0x5f4eff=_0x5f4eff(0x6),_0x59f09f=Math[_0x55f3('0x1b8')];_0x5f4eff(_0x5f4eff['S'],'Math',{'hypot':function(_0x182cfd,_0x38f293){for(var _0x5f4eff,_0x3eb3ce,_0x3c0f9a=0x0,_0x4a6788=0x0,_0x4bb59c=arguments[_0x55f3('0xf')],_0x4634cd=0x0;_0x4a6788<_0x4bb59c;)_0x4634cd<(_0x5f4eff=_0x59f09f(arguments[_0x4a6788++]))?(_0x3c0f9a=_0x3c0f9a*(_0x3eb3ce=_0x4634cd/_0x5f4eff)*_0x3eb3ce+0x1,_0x4634cd=_0x5f4eff):_0x3c0f9a+=0x0<_0x5f4eff?(_0x3eb3ce=_0x5f4eff/_0x4634cd)*_0x3eb3ce:_0x5f4eff;return _0x4634cd===0x1/0x0?0x1/0x0:_0x4634cd*Math[_0x55f3('0x1bc')](_0x3c0f9a);}});},function(_0x502b7d,_0x63f3b8,_0x1e7626){'use strict';Object[_0x55f3('0x4')](_0x63f3b8,_0x55f3('0x7'),{'value':!0x0});var _0x51e81b=_0x21805b(_0x1e7626(0x0)),_0x51601a=_0x21805b(_0x1e7626(0x1)),_0x3397be=_0x1e7626(0x85);function _0x21805b(_0x502b7d){return _0x502b7d&&_0x502b7d[_0x55f3('0x7')]?_0x502b7d:{'default':_0x502b7d};}function _0x373866(_0x502b7d){var _0x63f3b8=_0x502b7d[_0x55f3('0x504')],_0x63f3b8=void 0x0===_0x63f3b8?0x14:_0x63f3b8,_0x1e7626=_0x502b7d[_0x55f3('0x32d')],_0x1e7626=void 0x0===_0x1e7626?0x2:_0x1e7626,_0x51601a=_0x502b7d[_0x55f3('0x505')],_0x51601a=void 0x0===_0x51601a?0x32:_0x51601a,_0x502b7d=_0x502b7d[_0x55f3('0x2fd')],_0x502b7d=void 0x0===_0x502b7d?_0x55f3('0x435'):_0x502b7d;(0x0,_0x51e81b[_0x55f3('0x9')])(this,_0x373866),this['object3d']=new THREE['Group'](),this[_0x55f3('0x319')][_0x55f3('0x8b')]=_0x55f3('0x506'),this[_0x55f3('0x32d')]=_0x1e7626,this[_0x55f3('0x505')]=_0x51601a,this[_0x55f3('0x2fd')]=_0x502b7d,this[_0x55f3('0x507')]=null,this[_0x55f3('0x508')]=_0x63f3b8,this[_0x55f3('0x3f')]=null,this[_0x55f3('0x4b9')]=null,this['routePoints']=[],this[_0x55f3('0x509')]=0x0,this[_0x55f3('0x50a')]=null,this['count']=0x0;}(0x0,_0x51601a[_0x55f3('0x9')])(_0x373866,[{'key':_0x55f3('0x8'),'value':function(_0x502b7d){for(var _0x63f3b8,_0x1e7626=_0x502b7d[_0x55f3('0x507')],_0x502b7d=_0x502b7d[_0x55f3('0x1c6')],_0x51601a=(this[_0x55f3('0x50b')]=(0x0,_0x3397be[_0x55f3('0x39a')])(_0x1e7626,this[_0x55f3('0x508')]),this['routePoints'][0x0]),_0x51e81b=new Float32Array(0x4*this['routePoints'][_0x55f3('0xf')]),_0x21805b=0x0,_0x373866=this[_0x55f3('0x50b')][_0x55f3('0xf')];_0x21805b<_0x373866;_0x21805b++)_0x51e81b[0x0+(_0x63f3b8=0x4*_0x21805b)]=this['routePoints'][_0x21805b]['x']-_0x51601a['x'],_0x51e81b[0x1+_0x63f3b8]=this[_0x55f3('0x50b')][_0x21805b]['y']-_0x51601a['y'],_0x51e81b[0x2+_0x63f3b8]=this['routePoints'][_0x21805b]['z']-_0x51601a['z'],_0x51e81b[0x3+_0x63f3b8]=_0x21805b;var _0x1e7626=new THREE[(_0x55f3('0x1e9'))](),_0x30643f=new THREE[(_0x55f3('0x50c'))](_0x51e81b,0x4),_0x5e0508=(_0x1e7626[_0x55f3('0x1f2')](_0x55f3('0x38'),new THREE[(_0x55f3('0x50d'))](_0x30643f,0x3,0x0)),_0x1e7626[_0x55f3('0x1f2')](_0x55f3('0x50e'),new THREE['InterleavedBufferAttribute'](_0x30643f,0x1,0x3)),this[_0x55f3('0x3f')]=new THREE['PointsMaterial']({'color':0xffffff,'map':_0x502b7d,'blending':THREE[_0x55f3('0x1d4')],'sizeAttenuation':!0x0,'size':this[_0x55f3('0x505')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0.2}),this[_0x55f3('0x2fd')]&&(this['material']['color']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](this[_0x55f3('0x2fd')])),this);return this['material'][_0x55f3('0x44d')]=function(_0x502b7d){_0x502b7d[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x502b7d[_0x55f3('0x57')]=_0x502b7d['vertexShader'][_0x55f3('0x56')](_0x55f3('0x10a'),_0x55f3('0x50f')),_0x502b7d[_0x55f3('0x57')]=_0x502b7d[_0x55f3('0x57')][_0x55f3('0x56')]('gl_PointSize\x20=\x20size;',_0x55f3('0x510')),_0x502b7d[_0x55f3('0x58')]=_0x502b7d[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x511')),_0x502b7d[_0x55f3('0x58')]=_0x502b7d[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x512'),_0x55f3('0x513')),_0x5e0508[_0x55f3('0x4b9')]=_0x502b7d;},this[_0x55f3('0x507')]=new THREE['Points'](_0x1e7626,this[_0x55f3('0x3f')]),this[_0x55f3('0x507')][_0x55f3('0x318')]=0x47,this[_0x55f3('0x319')][_0x55f3('0x1c3')](this['points']),this['points'];}},{'key':_0x55f3('0x336'),'value':function(_0x502b7d){this['points']&&this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]+=_0x502b7d,this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}},{'key':_0x55f3('0x514'),'value':function(){var _0x502b7d=new THREE['BoxBufferGeometry'](0xa,0xa,0xa),_0x63f3b8=new THREE[(_0x55f3('0x515'))]({'color':0xffc033});return _0x63f3b8[_0x55f3('0x516')][_0x55f3('0x1ba')](new THREE[(_0x55f3('0x1b7'))](0xfff000)),_0x63f3b8[_0x55f3('0x516')][_0x55f3('0x4fe')](0.1,0x1,0.5),new THREE[(_0x55f3('0x317'))](_0x502b7d,_0x63f3b8);}},{'key':_0x55f3('0x517'),'value':function(_0x63f3b8,_0x1e7626,_0x51601a){var _0x51e81b=this;this[_0x55f3('0x50a')]=setInterval(function(){if(_0x51e81b[_0x55f3('0x509')]>=_0x51e81b[_0x55f3('0x50b')]['length'])return _0x51e81b[_0x55f3('0x509')]=0x0,void clearInterval(_0x51e81b['animateHandle']);var _0x502b7d=_0x51e81b[_0x55f3('0x50b')][_0x51e81b[_0x55f3('0x509')]];_0x502b7d['y']=_0x51601a,_0x51e81b[_0x55f3('0x518')](_0x1e7626,_0x502b7d,_0x63f3b8),_0x51e81b[_0x55f3('0x509')]++;},_0x63f3b8);}},{'key':_0x55f3('0x518'),'value':function(_0x502b7d,_0x63f3b8,_0x1e7626,_0x51601a){var _0x51e81b=new THREE['Vector3']();_0x51e81b[_0x55f3('0x1ba')](_0x63f3b8),new TWEEN[(_0x55f3('0x331'))](_0x502b7d['position'])['to'](_0x51e81b,_0x1e7626)[_0x55f3('0x333')](TWEEN['Easing']['Linear']['None'])['onStart'](function(){_0x51601a&&_0x51601a();})[_0x55f3('0x395')]();}},{'key':'visible','set':function(_0x502b7d){this[_0x55f3('0x507')]&&(this[_0x55f3('0x507')][_0x55f3('0x338')]=_0x502b7d);}},{'key':_0x55f3('0x519'),'set':function(_0x502b7d){this[_0x55f3('0x507')]['material'][_0x55f3('0x303')]=!_0x502b7d,this[_0x55f3('0x507')][_0x55f3('0x3f')][_0x55f3('0xf7')]=!0x0;}}]),_0x63f3b8['default']=_0x373866;},function(_0x17b443,_0x2558f1,_0x56a4a7){'use strict';Object[_0x55f3('0x4')](_0x2558f1,_0x55f3('0x7'),{'value':!0x0});var _0x203222=_0x1e34f3(_0x56a4a7(0x0));function _0x1e34f3(_0x17b443){return _0x17b443&&_0x17b443[_0x55f3('0x7')]?_0x17b443:{'default':_0x17b443};}function _0x209eed(_0x17b443){var _0x2558f1=_0x17b443[_0x55f3('0x1c6')],_0x56a4a7=_0x17b443[_0x55f3('0x2fd')],_0x56a4a7=void 0x0===_0x56a4a7?_0x55f3('0x51a'):_0x56a4a7,_0x1e34f3=_0x17b443[_0x55f3('0x51b')],_0x3d0be8=_0x17b443['radius'],_0x17b443=_0x17b443[_0x55f3('0x337')],_0x17b443=void 0x0===_0x17b443?0x1:_0x17b443;(0x0,_0x203222[_0x55f3('0x9')])(this,_0x209eed),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x2fd')]=_0x56a4a7,this['isSpread']=_0x1e34f3,this[_0x55f3('0x3f')]=null,this[_0x55f3('0x500')]=null,this[_0x55f3('0x21e')]=_0x3d0be8||0xc8,this[_0x55f3('0x4b9')]=null,this['count']=0x0,this[_0x55f3('0x337')]=_0x17b443,this[_0x55f3('0x2fc')](_0x56a4a7,_0x2558f1);}(0x0,_0x1e34f3(_0x56a4a7(0x1))[_0x55f3('0x9')])(_0x209eed,[{'key':_0x55f3('0x2fc'),'value':function(_0x17b443,_0x2558f1){var _0x56a4a7=this;this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'transparent':!0x0}),this[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](_0x17b443),this['material'][_0x55f3('0x44d')]=function(_0x17b443){_0x17b443[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x17b443[_0x55f3('0x164')][_0x55f3('0x1ed')]={'value':_0x56a4a7[_0x55f3('0x51b')]?-0x1:0x1},_0x17b443[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':_0x2558f1},_0x17b443['vertexShader']=_0x17b443[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x17b443[_0x55f3('0x57')]=_0x17b443[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv_vertex>',_0x55f3('0x51d')),_0x17b443['fragmentShader']=_0x17b443[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x51e')),_0x17b443[_0x55f3('0x58')]=_0x17b443[_0x55f3('0x58')]['replace'](_0x55f3('0x4f8'),_0x55f3('0x51f')),_0x56a4a7[_0x55f3('0x4b9')]=_0x17b443;};}},{'key':_0x55f3('0x8'),'value':function(){var _0x17b443=new THREE[(_0x55f3('0x520'))](this['radius'],this[_0x55f3('0x21e')]),_0x17b443=new THREE[(_0x55f3('0x317'))](_0x17b443,this[_0x55f3('0x3f')]);return _0x17b443[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x17b443),_0x17b443;}},{'key':_0x55f3('0x336'),'value':function(){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]+=0.01*this[_0x55f3('0x337')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x2558f1[_0x55f3('0x9')]=_0x209eed;},function(_0x4dbb3b,_0x680a8c,_0x4aafca){'use strict';Object[_0x55f3('0x4')](_0x680a8c,'__esModule',{'value':!0x0});var _0x5d359b=_0x554f09(_0x4aafca(0x4)),_0x46de3b=_0x554f09(_0x4aafca(0x0));function _0x554f09(_0x4dbb3b){return _0x4dbb3b&&_0x4dbb3b[_0x55f3('0x7')]?_0x4dbb3b:{'default':_0x4dbb3b};}function _0x217129(_0x4dbb3b){var _0x680a8c=_0x4dbb3b[_0x55f3('0x306')],_0x4aafca=_0x4dbb3b[_0x55f3('0x389')],_0x554f09=_0x4dbb3b[_0x55f3('0x2fd')],_0x554f09=void 0x0===_0x554f09?_0x55f3('0x339'):_0x554f09,_0x126e15=_0x4dbb3b['texture'],_0x3fcb9c=_0x4dbb3b['alphaTex'],_0x5d359b=_0x4dbb3b[_0x55f3('0x337')],_0x5d359b=void 0x0===_0x5d359b?0x1:_0x5d359b,_0x4dbb3b=_0x4dbb3b[_0x55f3('0x521')],_0x4dbb3b=void 0x0===_0x4dbb3b?0x0:_0x4dbb3b;(0x0,_0x46de3b[_0x55f3('0x9')])(this,_0x217129),this[_0x55f3('0x306')]=_0x680a8c,this['controls']=_0x4aafca,this[_0x55f3('0x319')]=new THREE['Object3D'](),this[_0x55f3('0x521')]=_0x4dbb3b,this[_0x55f3('0x522')]=new THREE[(_0x55f3('0x5a'))](),this[_0x55f3('0x3f')]=null,this[_0x55f3('0x4b9')]=null,this['count']=0x0,this[_0x55f3('0x523')]=0x0,this[_0x55f3('0x337')]=_0x5d359b,this[_0x55f3('0x524')]=!0x1,this[_0x55f3('0x525')]=!0x1,this[_0x55f3('0x526')]=[],this[_0x55f3('0x2fc')]({'colorStr':_0x554f09,'texture':_0x126e15,'alphaTex':_0x3fcb9c}),this[_0x55f3('0x4a4')]=0x0;}(0x0,_0x554f09(_0x4aafca(0x1))[_0x55f3('0x9')])(_0x217129,[{'key':_0x55f3('0x2fc'),'value':function(_0x4dbb3b){var _0x680a8c=_0x4dbb3b[_0x55f3('0x2fd')],_0x4aafca=_0x4dbb3b[_0x55f3('0x1c6')],_0x554f09=_0x4dbb3b[_0x55f3('0x527')],_0x2ce02c=(_0x4aafca['wrapS']=THREE[_0x55f3('0x33d')],_0x4aafca[_0x55f3('0x33c')]=THREE['RepeatWrapping'],this[_0x55f3('0x3f')]=new THREE['MeshBasicMaterial']({'color':0xffffff,'side':THREE['DoubleSide'],'transparent':!0x0,'blending':THREE['AdditiveBlending'],'depthWrite':!0x1}),_0x680a8c&&(this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x680a8c)),this);this[_0x55f3('0x3f')]['onBeforeCompile']=function(_0x4dbb3b){_0x4dbb3b[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x1},_0x4dbb3b['uniforms']['exRadius']={'value':_0x2ce02c[_0x55f3('0x4a4')]},_0x4dbb3b[_0x55f3('0x164')][_0x55f3('0x528')]={'value':_0x4aafca},_0x4dbb3b[_0x55f3('0x164')][_0x55f3('0x527')]={'value':_0x554f09},_0x4dbb3b['uniforms'][_0x55f3('0x521')]={'value':_0x2ce02c[_0x55f3('0x521')]},_0x4dbb3b[_0x55f3('0x57')]=_0x4dbb3b[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv2_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20attribute\x20vec3\x20posOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20attribute\x20float\x20speed;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20exRadius;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20offsetHeight;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vtUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20to\x20fix\x20lookat\x20camera\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20applyQuaternionToVector(\x20vec4\x20q,\x20vec3\x20v\x20){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20\x20\x20\x20\x20return\x20v\x20+\x202.0\x20*\x20cross(\x20q.xyz,\x20cross(\x20q.xyz,\x20v\x20)\x20+\x20q.w\x20*\x20v\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4dbb3b[_0x55f3('0x57')]=_0x4dbb3b[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x52a')),_0x4dbb3b['vertexShader']=_0x4dbb3b[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x44e'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<fog_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20modelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4dbb3b['fragmentShader']=_0x4dbb3b[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x52b')),_0x4dbb3b[_0x55f3('0x58')]=_0x4dbb3b[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20nTexture\x20=\x20texture2D(numTex,\x20vtUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20nTexture;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20(x-min(x))/(max(x)-min(x))\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20float\x20aUvy\x20=\x20vModelPos.y\x20/\x20exRadius;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20*=\x20texture2D(alphaTex,\x20vec2(0.5,\x20aUvy)).g;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor.a\x20=\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x2ce02c[_0x55f3('0x4b9')]=_0x4dbb3b;};}},{'key':'create','value':function(_0x4dbb3b){for(var _0x680a8c=_0x4dbb3b[_0x55f3('0x32c')],_0x680a8c=void 0x0===_0x680a8c?0xa:_0x680a8c,_0x4aafca=_0x4dbb3b[_0x55f3('0x32d')],_0x4aafca=void 0x0===_0x4aafca?0x50:_0x4aafca,_0x554f09=_0x4dbb3b[_0x55f3('0x4a4')],_0x4dbb3b=(_0x4dbb3b[_0x55f3('0x318')],this[_0x55f3('0x4a4')]=void 0x0===_0x554f09?0x64:_0x554f09,new THREE[(_0x55f3('0x520'))](_0x680a8c,_0x4aafca)),_0x27d68c=_0x4dbb3b[_0x55f3('0x52c')](_0x55f3('0x38'))[_0x55f3('0xfc')],_0x13267a=[],_0x5d359b=THREE['Math'][_0x55f3('0x52d')](0.08,0.15),_0x46de3b=0x0;_0x46de3b<_0x27d68c;_0x46de3b++)_0x13267a[_0x55f3('0x73')](_0x5d359b);_0x4dbb3b[_0x55f3('0x1f2')](_0x55f3('0x337'),new THREE[(_0x55f3('0x52e'))](_0x13267a,0x1));_0x554f09=new THREE[(_0x55f3('0x317'))](_0x4dbb3b,this[_0x55f3('0x3f')]);return _0x554f09[_0x55f3('0x52f')]=!0x1,this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x554f09),this[_0x55f3('0x526')][_0x55f3('0x73')](_0x554f09),_0x554f09;}},{'key':_0x55f3('0x530'),'value':function(_0x4dbb3b){for(var _0x680a8c=_0x4dbb3b[_0x55f3('0x4a4')],_0x4aafca=void 0x0===_0x680a8c?0x64:_0x680a8c,_0x680a8c=_0x4dbb3b['lineWidth'],_0x554f09=void 0x0===_0x680a8c?0x1:_0x680a8c,_0x680a8c=_0x4dbb3b[_0x55f3('0x531')],_0x9abe36=void 0x0===_0x680a8c?0x8:_0x680a8c,_0x680a8c=_0x4dbb3b['lineNumber'],_0x504f7a=void 0x0===_0x680a8c?0x32:_0x680a8c,_0x5d359b=0x0;_0x5d359b<_0x504f7a;_0x5d359b++){var _0x46de3b=this[_0x55f3('0x8')]({'width':_0x554f09,'height':_0x9abe36,'extentRadius':_0x4aafca});_0x46de3b[_0x55f3('0x52f')]=!0x1,_0x46de3b[_0x55f3('0x38')]['set'](-Math[_0x55f3('0x60')]()*_0x4aafca+_0x4aafca/0x2,-Math[_0x55f3('0x60')]()*_0x4aafca,-Math['random']()*_0x4aafca+_0x4aafca/0x2);}}},{'key':_0x55f3('0x532'),'value':function(){this['isCanUpdate']=!0x0;var _0x680a8c=this;this[_0x55f3('0x533')](),this[_0x55f3('0x389')][_0x55f3('0x2cc')](_0x55f3('0x395'),function(_0x4dbb3b){_0x680a8c[_0x55f3('0x525')]=!0x0;}),this[_0x55f3('0x389')][_0x55f3('0x2cc')](_0x55f3('0x534'),function(_0x4dbb3b){_0x680a8c[_0x55f3('0x525')]=!0x1;});}},{'key':'setLookAtCamera','value':function(){if(this[_0x55f3('0x306')]){var _0x4dbb3b=!0x0,_0x680a8c=!0x1,_0x4aafca=void 0x0;try{for(var _0x554f09,_0x1f25f4=(0x0,_0x5d359b[_0x55f3('0x9')])(this[_0x55f3('0x526')]);!(_0x4dbb3b=(_0x554f09=_0x1f25f4['next']())[_0x55f3('0x269')]);_0x4dbb3b=!0x0){var _0x23581e=_0x554f09['value'];this['lookAtPos']['set'](this['camera'][_0x55f3('0x38')]['x'],_0x23581e[_0x55f3('0x38')]['y'],this[_0x55f3('0x306')][_0x55f3('0x38')]['z']),_0x23581e[_0x55f3('0x535')](this[_0x55f3('0x522')]);}}catch(_0x53f29c){_0x680a8c=!0x0,_0x4aafca=_0x53f29c;}finally{try{!_0x4dbb3b&&_0x1f25f4['return']&&_0x1f25f4[_0x55f3('0x271')]();}finally{if(_0x680a8c)throw _0x4aafca;}}}}},{'key':'render','value':function(){this[_0x55f3('0x524')]&&(this[_0x55f3('0x533')](),this['count']+=0.005*this['speed'],this['shader']&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this['count']));}},{'key':_0x55f3('0x338'),'set':function(_0x4dbb3b){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x4dbb3b;},'get':function(){return this[_0x55f3('0x319')][_0x55f3('0x338')];}}]),_0x680a8c['default']=_0x217129;},function(_0x5d45f7,_0x30d813,_0x34be96){'use strict';Object[_0x55f3('0x4')](_0x30d813,'__esModule',{'value':!0x0});var _0xbecd1f=_0x442ecf(_0x34be96(0x0));function _0x442ecf(_0x5d45f7){return _0x5d45f7&&_0x5d45f7[_0x55f3('0x7')]?_0x5d45f7:{'default':_0x5d45f7};}function _0x27471b(_0x5d45f7){var _0x30d813=_0x5d45f7[_0x55f3('0x21e')],_0x30d813=void 0x0===_0x30d813?0x32:_0x30d813,_0x34be96=_0x5d45f7[_0x55f3('0x536')],_0x34be96=void 0x0!==_0x34be96&&_0x34be96,_0x5d45f7=_0x5d45f7[_0x55f3('0x337')],_0x5d45f7=void 0x0===_0x5d45f7?0x1:_0x5d45f7;(0x0,_0xbecd1f['default'])(this,_0x27471b),this[_0x55f3('0x319')]=new THREE['Group'](),this[_0x55f3('0x3f')]=null,this[_0x55f3('0x537')]=null,this[_0x55f3('0x4b9')]=null,this['sphere']=null,this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x538')]=!0x1,this[_0x55f3('0x536')]=_0x34be96,this[_0x55f3('0x539')]=null,this[_0x55f3('0x53a')]=new THREE[(_0x55f3('0x5a'))](),this[_0x55f3('0x53b')]=0xa,this['downDelta']=0x0,this[_0x55f3('0x53c')]=0x0,this['coneGroup']=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x53d')]=null,this['coneMesh2']=null,this['cone1']=null,this[_0x55f3('0x53e')]=null,this['radius']=_0x30d813,this[_0x55f3('0x337')]=_0x5d45f7,this[_0x55f3('0x53f')]=null;}(0x0,_0x442ecf(_0x34be96(0x1))[_0x55f3('0x9')])(_0x27471b,[{'key':_0x55f3('0x8'),'value':function(_0x5d45f7){var _0x30d813=_0x5d45f7['texture'],_0x34be96=_0x5d45f7['coneTex'],_0x5d45f7=_0x5d45f7[_0x55f3('0x2fd')],_0x5d45f7=void 0x0===_0x5d45f7?_0x55f3('0x540'):_0x5d45f7,_0xbecd1f=(_0x30d813[_0x55f3('0x541')]=THREE[_0x55f3('0x542')],_0x30d813[_0x55f3('0x543')]=THREE[_0x55f3('0x544')],_0x30d813['wrapS']=THREE[_0x55f3('0x33d')],_0x30d813[_0x55f3('0x33c')]=THREE['RepeatWrapping'],_0x30d813[_0x55f3('0xf5')]['y']=-0.15,new THREE[(_0x55f3('0x44b'))](0x1,0x20,0x20)),_0x5d45f7=(this[_0x55f3('0x3f')]=new THREE['MeshBasicMaterial']({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x55f3('0x1d4')],'depthWrite':!0x1}),_0x5d45f7&&(this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x5d45f7)),this[_0x55f3('0x3f')][_0x55f3('0x3a9')]=_0x30d813,new THREE['Mesh'](_0xbecd1f,this[_0x55f3('0x3f')]));return _0x5d45f7[_0x55f3('0x1d9')][_0x55f3('0x39')](this[_0x55f3('0x21e')],this[_0x55f3('0x21e')],this[_0x55f3('0x21e')]),this[_0x55f3('0x545')]=_0x5d45f7,this['sphere'][_0x55f3('0x338')]=!0x1,this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x5d45f7),this[_0x55f3('0x536')]&&(_0x34be96['magFilter']=THREE['LinearFilter'],_0x34be96[_0x55f3('0x543')]=THREE['LinearMipMapLinearFilter'],_0x34be96[_0x55f3('0x33e')]=THREE['RepeatWrapping'],_0x34be96[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x34be96[_0x55f3('0x2f4')]['x']=0xa,_0x34be96['offset']['y']=0.05,this['addCones'](this[_0x55f3('0x546')],_0x34be96),this[_0x55f3('0x319')]['add'](this[_0x55f3('0x546')])),this[_0x55f3('0x547')](),this[_0x55f3('0x319')];}},{'key':_0x55f3('0x548'),'value':function(_0x5d45f7,_0x30d813){var _0x34be96=new THREE[(_0x55f3('0x452'))](0x0,1.5*this[_0x55f3('0x21e')],2.7*this['radius'],0x20,0x1,!0x0);_0x34be96[_0x55f3('0x549')](Math['PI']/0x2),this['coneMaterial']=new THREE[(_0x55f3('0x437'))]({'color':0xffeb3b,'transparent':!0x0,'blending':THREE[_0x55f3('0x1d4')]}),this['coneMaterial'][_0x55f3('0x94')]=_0x30d813,this[_0x55f3('0x53d')]=new THREE[(_0x55f3('0x317'))](_0x34be96,this['coneMaterial']),this[_0x55f3('0x54a')]=this[_0x55f3('0x53d')][_0x55f3('0x1b0')](),this[_0x55f3('0x54b')]=new THREE['Object3D'](),this[_0x55f3('0x54b')][_0x55f3('0x1c3')](this[_0x55f3('0x53d')]),this[_0x55f3('0x53e')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x53e')]['add'](this['coneMesh2']),this[_0x55f3('0x54b')][_0x55f3('0x38')]['set'](0.688*this[_0x55f3('0x21e')],1.2*-this[_0x55f3('0x21e')],0x0),this[_0x55f3('0x53e')]['position'][_0x55f3('0x39')](0.688*-this[_0x55f3('0x21e')],1.2*-this[_0x55f3('0x21e')],0x0),this[_0x55f3('0x54b')][_0x55f3('0x535')](this[_0x55f3('0x53a')]),this[_0x55f3('0x53e')][_0x55f3('0x535')](this['lookAtPoint']),_0x5d45f7[_0x55f3('0x1c3')](this['cone1']),_0x5d45f7[_0x55f3('0x1c3')](this[_0x55f3('0x53e')]);}},{'key':_0x55f3('0x547'),'value':function(){var _0x5d45f7=this;this[_0x55f3('0x53f')]=setInterval(function(){_0x5d45f7[_0x55f3('0x538')]=!0x0,_0x5d45f7[_0x55f3('0x545')][_0x55f3('0x338')]=!0x0;},0x3e8*this[_0x55f3('0x337')]);}},{'key':_0x55f3('0x54c'),'value':function(){new TWEEN[(_0x55f3('0x331'))](this[_0x55f3('0x53a')])['to'](targetPos,time)[_0x55f3('0x333')](TWEEN['Easing'][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x394')](function(){callback&&callback();})[_0x55f3('0x395')]();}},{'key':'render','value':function(){var _0x5d45f7,_0x30d813;this['sphere']&&this[_0x55f3('0x538')]&&(this[_0x55f3('0xfc')]+=0.01,0x1<this[_0x55f3('0xfc')]&&(this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x538')]=!0x1),_0x5d45f7=0.5*(0x1-Math['cos'](this[_0x55f3('0xfc')]*Math['PI']*0x2)),_0x30d813=this['radius']*(0x1-Math[_0x55f3('0x5c')](this[_0x55f3('0xfc')]*Math['PI']))+0.01,this['sphere'][_0x55f3('0x1d9')][_0x55f3('0x39')](_0x30d813,_0x30d813,_0x30d813),this[_0x55f3('0x3f')][_0x55f3('0x221')]=_0x5d45f7),this[_0x55f3('0x319')]&&this[_0x55f3('0x536')]&&(this[_0x55f3('0x546')][_0x55f3('0x1ef')]['y']+=0.01,this[_0x55f3('0x53d')][_0x55f3('0x1ef')]['z']+=0.04,this[_0x55f3('0x54a')][_0x55f3('0x1ef')]['z']+=0.04);}},{'key':_0x55f3('0x338'),'set':function(_0x5d45f7){this[_0x55f3('0x319')]['visible']=_0x5d45f7;}}]),_0x30d813[_0x55f3('0x9')]=_0x27471b;},function(_0x485e9b,_0x28fbe1,_0x504d79){'use strict';Object[_0x55f3('0x4')](_0x28fbe1,'__esModule',{'value':!0x0}),_0x28fbe1['default']={'createCircleGradient':function(_0x485e9b){var _0x28fbe1=document['createElement']('canvas'),_0x504d79=(_0x28fbe1['width']=0x100,_0x28fbe1[_0x55f3('0x32d')]=0x100,_0x28fbe1['getContext']('2d')),_0x485e9b=_0x504d79[_0x55f3('0x54f')](0x80,0x80,0x80*_0x485e9b[0x0],0x80,0x80,0x80*_0x485e9b[0x1]);return _0x485e9b[_0x55f3('0x550')](0x0,_0x55f3('0x551')),_0x485e9b[_0x55f3('0x550')](0x1,_0x55f3('0x552')),_0x504d79[_0x55f3('0x553')]=_0x485e9b,_0x504d79[_0x55f3('0x554')](0x0,0x0,0x100,0x100),_0x28fbe1;}};},function(_0x627357,_0x257861,_0x176a32){'use strict';Object[_0x55f3('0x4')](_0x257861,'__esModule',{'value':!0x0});var _0x4362a0=_0x4d554a(_0x176a32(0x0)),_0x435b58=_0x4d554a(_0x176a32(0x1)),_0x3961fd=_0x4d554a(_0x176a32(0x3f)),_0x1edd8b=_0x176a32(0x17);function _0x4d554a(_0x627357){return _0x627357&&_0x627357[_0x55f3('0x7')]?_0x627357:{'default':_0x627357};}function _0x3279c4(_0x627357){_0x627357=_0x627357[_0x55f3('0x1d9')],_0x627357=void 0x0===_0x627357?0xa:_0x627357;(0x0,_0x4362a0[_0x55f3('0x9')])(this,_0x3279c4),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x1d9')]=_0x627357,this['shaderParticleEngine']=null,this[_0x55f3('0x556')]=null,this[_0x55f3('0x557')]=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x435b58[_0x55f3('0x9')])(_0x3279c4,[{'key':_0x55f3('0x8'),'value':function(_0x627357){var _0x257861=_0x627357[_0x55f3('0x55b')],_0x176a32=_0x627357[_0x55f3('0x55c')],_0x4362a0=(_0x627357[_0x55f3('0x55d')],_0x627357[_0x55f3('0x55e')]),_0x4362a0=void 0x0===_0x4362a0?{'x':0x1,'y':0x1}:_0x4362a0,_0x435b58=_0x627357[_0x55f3('0x1d8')],_0x4d554a=_0x627357[_0x55f3('0x1ec')],_0x627357=_0x627357[_0x55f3('0x55f')],_0x3279c4=(this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),new THREE[(_0x55f3('0x5a'))]());_0x627357&&(_0x3279c4=(0x0,_0x1edd8b[_0x55f3('0x59')])(_0x627357[_0x55f3('0x37e')],_0x627357['directionAngle']))['multiplyScalar'](_0x627357[_0x55f3('0x1ed')]),this[_0x55f3('0x556')]=new _0x3961fd[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x176a32},'blending':THREE['NormalBlending'],'depthWrite':!0x1,'depthTest':_0x435b58,'maxParticleCount':0.5*(_0x4362a0['x']+_0x4362a0['y'])*0xa0}),this[_0x55f3('0x560')]=new _0x3961fd[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'spread':new THREE[(_0x55f3('0x5a'))](_0x4362a0['x']+0x1,0x1,_0x4362a0['y']+0x1)},'acceleration':{'value':_0x3279c4[_0x55f3('0x1b0')](),'spread':_0x3279c4[_0x55f3('0x1b0')]()},'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x2,0x0),'spread':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE['Color'](0xad926c),new THREE[(_0x55f3('0x1b7'))](0x605f5c),new THREE[(_0x55f3('0x1b7'))](0xa9a9a9)]},'size':{'value':[0x5*this[_0x55f3('0x1d9')],0x10*this[_0x55f3('0x1d9')],0xe*this[_0x55f3('0x1d9')]]},'particleCount':0.5*(_0x4362a0['x']+_0x4362a0['y'])*0xa0}),this[_0x55f3('0x556')][_0x55f3('0x3f')]['uniforms'][_0x55f3('0x561')][_0x55f3('0x12')]=new THREE['Color'](),this[_0x55f3('0x557')]=new _0x3961fd[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x257861},'blending':THREE[_0x55f3('0x1d4')],'depthWrite':!0x1,'depthTest':_0x435b58,'maxParticleCount':0.5*(_0x4362a0['x']+_0x4362a0['y'])*0x78}),this[_0x55f3('0x562')]=new _0x3961fd[(_0x55f3('0x9'))]['Emitter']({'maxAge':{'value':0x1},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'spread':new THREE[(_0x55f3('0x5a'))](_0x4362a0['x'],0x1,_0x4362a0['y'])},'acceleration':{'value':new THREE[(_0x55f3('0x5a'))](0.1,0.5,0.1),'spread':new THREE[(_0x55f3('0x5a'))](0x0,0.1,0x0)},'velocity':{'value':new THREE['Vector3'](0x0,0x1,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'color':{'value':[new THREE[(_0x55f3('0x1b7'))](0xffa000),new THREE[(_0x55f3('0x1b7'))](0xff7c00),new THREE['Color'](0xff4100)]},'size':{'value':[+this[_0x55f3('0x1d9')],0x5*this['scale'],0x2*this[_0x55f3('0x1d9')]]},'wiggle':{'value':[0.5]},'particleCount':0.5*(_0x4362a0['x']+_0x4362a0['y'])*0x78}),this[_0x55f3('0x557')][_0x55f3('0x3f')][_0x55f3('0x164')]['fogColor']['value']=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0x556')][_0x55f3('0x20d')](this[_0x55f3('0x560')]),this[_0x55f3('0x557')][_0x55f3('0x20d')](this[_0x55f3('0x562')]),this['fireSmokeParticle'][_0x55f3('0x1ea')][_0x55f3('0x1d9')][_0x55f3('0x39')](this[_0x55f3('0x1d9')],this['scale'],this[_0x55f3('0x1d9')]),this[_0x55f3('0x557')]['mesh'][_0x55f3('0x1d9')][_0x55f3('0x39')](this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')]),this['centerGroup'][_0x55f3('0x1c3')](this[_0x55f3('0x556')][_0x55f3('0x1ea')]),this['centerGroup'][_0x55f3('0x1c3')](this[_0x55f3('0x557')]['mesh']),this[_0x55f3('0x559')][_0x55f3('0x318')]=0x5a,void 0x0!==_0x4d554a&&(this[_0x55f3('0x559')][_0x55f3('0x1ef')]['y']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x4d554a)),this[_0x55f3('0x319')][_0x55f3('0x1c3')](this['centerGroup']),this[_0x55f3('0x555')]=!0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x627357){this[_0x55f3('0x555')]&&(this[_0x55f3('0x556')]&&this[_0x55f3('0x556')][_0x55f3('0x21d')](_0x627357),this[_0x55f3('0x557')]&&this['fireParticle'][_0x55f3('0x21d')](_0x627357));}},{'key':_0x55f3('0x563'),'value':function(_0x627357){(0x64<_0x627357||_0x627357<0x0)&&(_0x627357=0x64);_0x627357=Math[_0x55f3('0x1be')](0x64*(0x1-_0x627357/0x64))/0x64;this[_0x55f3('0x562')]['activeMultiplier']=_0x627357,this[_0x55f3('0x560')]['activeMultiplier']=_0x627357;}},{'key':_0x55f3('0x338'),'set':function(_0x627357){this[_0x55f3('0x55a')]=_0x627357,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x627357;}}]),_0x257861[_0x55f3('0x9')]=_0x3279c4;},function(_0x1409f4,_0x4af46e,_0x4ed89e){'use strict';Object[_0x55f3('0x4')](_0x4af46e,_0x55f3('0x7'),{'value':!0x0});var _0x28bdcb=_0x58906f(_0x4ed89e(0x0)),_0x3543b6=_0x58906f(_0x4ed89e(0x1)),_0x2fb09a=_0x58906f(_0x4ed89e(0x3f));function _0x58906f(_0x1409f4){return _0x1409f4&&_0x1409f4[_0x55f3('0x7')]?_0x1409f4:{'default':_0x1409f4};}function _0x16610f(_0x1409f4){_0x1409f4=_0x1409f4[_0x55f3('0x1d9')],_0x1409f4=void 0x0===_0x1409f4?0x1:_0x1409f4;(0x0,_0x28bdcb[_0x55f3('0x9')])(this,_0x16610f),this['enabled']=!0x1,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this['scale']=_0x1409f4,this['shaderParticleEngine']=null,this[_0x55f3('0x564')]=null,this[_0x55f3('0x558')]=null,this['centerGroup']=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x3543b6['default'])(_0x16610f,[{'key':_0x55f3('0x8'),'value':function(_0x1409f4){var _0x4af46e=_0x1409f4[_0x55f3('0x1c6')],_0x4ed89e=_0x1409f4[_0x55f3('0x55e')],_0x4ed89e=void 0x0===_0x4ed89e?0x32:_0x4ed89e,_0x28bdcb=_0x1409f4['waterFlux'],_0x28bdcb=void 0x0===_0x28bdcb?0x12c:_0x28bdcb,_0x3543b6=_0x1409f4['dirAngle'],_0x3543b6=void 0x0===_0x3543b6?0x0:_0x3543b6,_0x58906f=_0x1409f4[_0x55f3('0x37e')],_0x58906f=void 0x0===_0x58906f?0x0:_0x58906f,_0x16610f=_0x1409f4[_0x55f3('0x565')],_0x16610f=void 0x0!==_0x16610f&&_0x16610f,_0x1409f4=_0x1409f4[_0x55f3('0x55d')]?0x4:0x1;this['centerGroup']=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x564')]=new _0x2fb09a[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x4af46e},'maxParticleCount':0x190*_0x1409f4}),this[_0x55f3('0x558')]=new _0x2fb09a['default'][(_0x55f3('0x1f4'))]({'maxAge':{'value':0x1},'acceleration':{'value':new THREE[(_0x55f3('0x5a'))](0x0,-0x3,0x14),'spread':new THREE[(_0x55f3('0x5a'))](0xf,0xf,0xf)},'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x0,_0x4ed89e,0x0),'spread':new THREE['Vector3'](0x5,7.5,0x5)},'color':{'value':[new THREE[(_0x55f3('0x1b7'))](0x5ba3f1)]},'size':{'value':0x3*this['scale']},'particleCount':_0x28bdcb*_0x1409f4}),this['particleGroup'][_0x55f3('0x3f')]['uniforms']['fogColor'][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0x564')][_0x55f3('0x20d')](this[_0x55f3('0x558')]),this['particleGroup'][_0x55f3('0x1ea')][_0x55f3('0x1d9')]['set'](this[_0x55f3('0x1d9')],this['scale'],this[_0x55f3('0x1d9')]),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this[_0x55f3('0x564')][_0x55f3('0x1ea')]),this[_0x55f3('0x559')]['renderOrder']=0xb,_0x16610f&&this[_0x55f3('0x559')]['add'](new THREE[(_0x55f3('0x566'))](0x2710)),(_0x3543b6<0x0||0x168<_0x3543b6)&&(_0x3543b6=0x0),(_0x58906f<0x0||0x3c<_0x58906f)&&(_0x58906f=0x0),this[_0x55f3('0x559')]['rotateY'](THREE['Math'][_0x55f3('0x391')](_0x3543b6)),this[_0x55f3('0x559')][_0x55f3('0x549')](THREE[_0x55f3('0x18')]['degToRad'](_0x58906f)),this[_0x55f3('0x319')]['add'](this['centerGroup']),this[_0x55f3('0x555')]=!0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x1409f4){this[_0x55f3('0x555')]&&this[_0x55f3('0x564')]&&this[_0x55f3('0x564')][_0x55f3('0x21d')](_0x1409f4);}},{'key':_0x55f3('0x567'),'value':function(_0x1409f4){(0x64<_0x1409f4||_0x1409f4<0x0)&&(_0x1409f4=0x64);_0x1409f4=Math[_0x55f3('0x1be')](0x64*(0x1-_0x1409f4/0x64))/0x64;this[_0x55f3('0x558')]['activeMultiplier']=_0x1409f4;}},{'key':_0x55f3('0x338'),'set':function(_0x1409f4){this[_0x55f3('0x55a')]=_0x1409f4,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x1409f4;}}]),_0x4af46e[_0x55f3('0x9')]=_0x16610f;},function(_0x1d4deb,_0x441847,_0x280575){'use strict';_0x441847[_0x55f3('0x7')]=!0x0;var _0x15693e=_0xa83071(_0x280575(0x9f)),_0x418821=_0xa83071(_0x280575(0x4));function _0xa83071(_0x1d4deb){return _0x1d4deb&&_0x1d4deb[_0x55f3('0x7')]?_0x1d4deb:{'default':_0x1d4deb};}_0x441847[_0x55f3('0x9')]=function(_0x1d4deb,_0x441847){if(Array[_0x55f3('0x1a9')](_0x1d4deb))return _0x1d4deb;if((0x0,_0x15693e[_0x55f3('0x9')])(Object(_0x1d4deb))){var _0x280575=_0x441847,_0xa83071=[],_0x29ec5=!0x0,_0x441847=!0x1,_0xefbaf5=void 0x0;try{for(var _0x644331,_0x26a8bb=(0x0,_0x418821['default'])(_0x1d4deb);!(_0x29ec5=(_0x644331=_0x26a8bb[_0x55f3('0x85')]())[_0x55f3('0x269')])&&(_0xa83071[_0x55f3('0x73')](_0x644331[_0x55f3('0x12')]),!_0x280575||_0xa83071['length']!==_0x280575);_0x29ec5=!0x0);}catch(_0x49e5b7){_0x441847=!0x0,_0xefbaf5=_0x49e5b7;}finally{try{!_0x29ec5&&_0x26a8bb['return']&&_0x26a8bb[_0x55f3('0x271')]();}finally{if(_0x441847)throw _0xefbaf5;}}return _0xa83071;}throw new TypeError(_0x55f3('0x568'));};},function(_0x52e271,_0x7397a,_0x20ed12){_0x52e271[_0x55f3('0x0')]={'default':_0x20ed12(0xa0),'__esModule':!0x0};},function(_0x243bdd,_0x1aa05c,_0x1a5202){_0x1a5202(0x1f),_0x1a5202(0x1a),_0x243bdd[_0x55f3('0x0')]=_0x1a5202(0xa1);},function(_0x5d203b,_0x327388,_0x7bb51b){var _0x5a2951=_0x7bb51b(0x32),_0x539d02=_0x7bb51b(0x5)(_0x55f3('0x84')),_0x2c9707=_0x7bb51b(0xf);_0x5d203b[_0x55f3('0x0')]=_0x7bb51b(0x2)['isIterable']=function(_0x5d203b){_0x5d203b=Object(_0x5d203b);return void 0x0!==_0x5d203b[_0x539d02]||'@@iterator'in _0x5d203b||_0x2c9707['hasOwnProperty'](_0x5a2951(_0x5d203b));};},function(_0x1754c7,_0x3f75aa,_0x1ce839){var _0x5c0f24=function(){return this;}()||Function('return\x20this')(),_0x597472=_0x5c0f24['regeneratorRuntime']&&0x0<=Object[_0x55f3('0x2dc')](_0x5c0f24)[_0x55f3('0x4b')](_0x55f3('0x569')),_0x17e518=_0x597472&&_0x5c0f24[_0x55f3('0x569')];if(_0x5c0f24[_0x55f3('0x569')]=void 0x0,_0x1754c7[_0x55f3('0x0')]=_0x1ce839(0xa3),_0x597472)_0x5c0f24[_0x55f3('0x569')]=_0x17e518;else try{delete _0x5c0f24['regeneratorRuntime'];}catch(_0x3507dd){_0x5c0f24[_0x55f3('0x569')]=void 0x0;}},function(_0x33afa8,_0x5c28eb){!function(_0x5c28eb){'use strict';var _0x51c2a7,_0x29af88,_0x3e341c,_0x93cdd0,_0x2e4323,_0x23ba6d,_0x2538cc,_0x5f3c9a=Object['prototype'],_0x598dd1=_0x5f3c9a[_0x55f3('0xc')],_0x271f61='function'==typeof Symbol?Symbol:{},_0xd1dd68=_0x271f61[_0x55f3('0x84')]||_0x55f3('0x88'),_0x37bd22=_0x271f61['asyncIterator']||'@@asyncIterator',_0xb4ddff=_0x271f61[_0x55f3('0x3')]||'@@toStringTag',_0x271f61=_0x55f3('0x6')==typeof _0x33afa8,_0x11ff51=_0x5c28eb[_0x55f3('0x569')];function _0x12f6ac(_0x5c28eb,_0x2538cc,_0x5f3c9a,_0x271f61){var _0xd1dd68,_0x37bd22,_0xb4ddff,_0x11ff51,_0x2538cc=_0x2538cc&&_0x2538cc[_0x55f3('0x15')]instanceof _0x11a35a?_0x2538cc:_0x11a35a,_0x2538cc=Object[_0x55f3('0x8')](_0x2538cc[_0x55f3('0x15')]),_0x271f61=new _0x4f3f50(_0x271f61||[]);return _0x2538cc[_0x55f3('0x56a')]=(_0xd1dd68=_0x5c28eb,_0x37bd22=_0x5f3c9a,_0xb4ddff=_0x271f61,_0x11ff51=_0x29af88,function(_0x5c28eb,_0x2538cc){if(_0x11ff51===_0x93cdd0)throw new Error('Generator\x20is\x20already\x20running');if(_0x11ff51===_0x2e4323){if(_0x55f3('0x410')===_0x5c28eb)throw _0x2538cc;return _0x2baad4();}for(_0xb4ddff[_0x55f3('0x56b')]=_0x5c28eb,_0xb4ddff['arg']=_0x2538cc;;){var _0x5f3c9a=_0xb4ddff[_0x55f3('0x56c')];if(_0x5f3c9a){_0x5f3c9a=function _0x5c28eb(_0x2538cc,_0x5f3c9a){var _0x271f61=_0x2538cc['iterator'][_0x5f3c9a[_0x55f3('0x56b')]];if(_0x271f61===_0x51c2a7){if(_0x5f3c9a[_0x55f3('0x56c')]=null,_0x55f3('0x410')===_0x5f3c9a[_0x55f3('0x56b')]){if(_0x2538cc[_0x55f3('0x84')][_0x55f3('0x271')]&&(_0x5f3c9a['method']='return',_0x5f3c9a['arg']=_0x51c2a7,_0x5c28eb(_0x2538cc,_0x5f3c9a),_0x55f3('0x410')===_0x5f3c9a[_0x55f3('0x56b')]))return _0x23ba6d;_0x5f3c9a['method']=_0x55f3('0x410'),_0x5f3c9a[_0x55f3('0x56d')]=new TypeError('The\x20iterator\x20does\x20not\x20provide\x20a\x20\x27throw\x27\x20method');}return _0x23ba6d;}_0x271f61=_0x13e553(_0x271f61,_0x2538cc[_0x55f3('0x84')],_0x5f3c9a[_0x55f3('0x56d')]);if(_0x55f3('0x410')===_0x271f61[_0x55f3('0xeb')])return _0x5f3c9a[_0x55f3('0x56b')]='throw',_0x5f3c9a[_0x55f3('0x56d')]=_0x271f61[_0x55f3('0x56d')],_0x5f3c9a['delegate']=null,_0x23ba6d;_0x271f61=_0x271f61['arg'];return _0x271f61?_0x271f61[_0x55f3('0x269')]?(_0x5f3c9a[_0x2538cc[_0x55f3('0x56e')]]=_0x271f61['value'],_0x5f3c9a[_0x55f3('0x85')]=_0x2538cc[_0x55f3('0x56f')],_0x55f3('0x271')!==_0x5f3c9a[_0x55f3('0x56b')]&&(_0x5f3c9a[_0x55f3('0x56b')]=_0x55f3('0x85'),_0x5f3c9a[_0x55f3('0x56d')]=_0x51c2a7),_0x5f3c9a[_0x55f3('0x56c')]=null,_0x23ba6d):_0x271f61:(_0x5f3c9a[_0x55f3('0x56b')]=_0x55f3('0x410'),_0x5f3c9a[_0x55f3('0x56d')]=new TypeError(_0x55f3('0x570')),_0x5f3c9a[_0x55f3('0x56c')]=null,_0x23ba6d);}(_0x5f3c9a,_0xb4ddff);if(_0x5f3c9a){if(_0x5f3c9a===_0x23ba6d)continue;return _0x5f3c9a;}}if('next'===_0xb4ddff['method'])_0xb4ddff[_0x55f3('0x571')]=_0xb4ddff['_sent']=_0xb4ddff[_0x55f3('0x56d')];else if(_0x55f3('0x410')===_0xb4ddff[_0x55f3('0x56b')]){if(_0x11ff51===_0x29af88)throw _0x11ff51=_0x2e4323,_0xb4ddff[_0x55f3('0x56d')];_0xb4ddff[_0x55f3('0x572')](_0xb4ddff[_0x55f3('0x56d')]);}else _0x55f3('0x271')===_0xb4ddff[_0x55f3('0x56b')]&&_0xb4ddff['abrupt']('return',_0xb4ddff[_0x55f3('0x56d')]);_0x11ff51=_0x93cdd0;_0x5f3c9a=_0x13e553(_0xd1dd68,_0x37bd22,_0xb4ddff);if('normal'===_0x5f3c9a[_0x55f3('0xeb')]){if(_0x11ff51=_0xb4ddff[_0x55f3('0x269')]?_0x2e4323:_0x3e341c,_0x5f3c9a[_0x55f3('0x56d')]!==_0x23ba6d)return{'value':_0x5f3c9a[_0x55f3('0x56d')],'done':_0xb4ddff[_0x55f3('0x269')]};}else'throw'===_0x5f3c9a['type']&&(_0x11ff51=_0x2e4323,_0xb4ddff[_0x55f3('0x56b')]=_0x55f3('0x410'),_0xb4ddff[_0x55f3('0x56d')]=_0x5f3c9a['arg']);}}),_0x2538cc;}function _0x13e553(_0x5c28eb,_0x2538cc,_0x5f3c9a){try{return{'type':'normal','arg':_0x5c28eb['call'](_0x2538cc,_0x5f3c9a)};}catch(_0x1d4246){return{'type':'throw','arg':_0x1d4246};}}function _0x11a35a(){}function _0x2df11a(){}function _0x349b99(){}function _0x5bd5e3(_0x5c28eb){['next',_0x55f3('0x410'),_0x55f3('0x271')]['forEach'](function(_0x2538cc){_0x5c28eb[_0x2538cc]=function(_0x5c28eb){return this[_0x55f3('0x56a')](_0x2538cc,_0x5c28eb);};});}function _0x5c0168(_0xb4ddff){var _0x2538cc;this['_invoke']=function(_0x5f3c9a,_0x271f61){function _0x5c28eb(){return new Promise(function(_0x5c28eb,_0x2538cc){!function _0x2538cc(_0x5c28eb,_0x5f3c9a,_0x271f61,_0xd1dd68){_0x5c28eb=_0x13e553(_0xb4ddff[_0x5c28eb],_0xb4ddff,_0x5f3c9a);if(_0x55f3('0x410')===_0x5c28eb[_0x55f3('0xeb')])_0xd1dd68(_0x5c28eb[_0x55f3('0x56d')]);else{var _0x37bd22=_0x5c28eb[_0x55f3('0x56d')],_0x5f3c9a=_0x37bd22[_0x55f3('0x12')];if(_0x5f3c9a&&_0x55f3('0x6')==typeof _0x5f3c9a&&_0x598dd1[_0x55f3('0x1')](_0x5f3c9a,_0x55f3('0x573')))return Promise[_0x55f3('0x261')](_0x5f3c9a[_0x55f3('0x573')])['then'](function(_0x5c28eb){_0x2538cc(_0x55f3('0x85'),_0x5c28eb,_0x271f61,_0xd1dd68);},function(_0x5c28eb){_0x2538cc(_0x55f3('0x410'),_0x5c28eb,_0x271f61,_0xd1dd68);});Promise[_0x55f3('0x261')](_0x5f3c9a)[_0x55f3('0x341')](function(_0x5c28eb){_0x37bd22['value']=_0x5c28eb,_0x271f61(_0x37bd22);},_0xd1dd68);}}(_0x5f3c9a,_0x271f61,_0x5c28eb,_0x2538cc);});}return _0x2538cc=_0x2538cc?_0x2538cc['then'](_0x5c28eb,_0x5c28eb):_0x5c28eb();};}function _0xd5b3eb(_0x5c28eb){var _0x2538cc={'tryLoc':_0x5c28eb[0x0]};0x1 in _0x5c28eb&&(_0x2538cc[_0x55f3('0x574')]=_0x5c28eb[0x1]),0x2 in _0x5c28eb&&(_0x2538cc['finallyLoc']=_0x5c28eb[0x2],_0x2538cc[_0x55f3('0x575')]=_0x5c28eb[0x3]),this[_0x55f3('0x576')][_0x55f3('0x73')](_0x2538cc);}function _0x2e11db(_0x5c28eb){var _0x2538cc=_0x5c28eb[_0x55f3('0x577')]||{};_0x2538cc[_0x55f3('0xeb')]=_0x55f3('0x578'),delete _0x2538cc[_0x55f3('0x56d')],_0x5c28eb[_0x55f3('0x577')]=_0x2538cc;}function _0x4f3f50(_0x5c28eb){this[_0x55f3('0x576')]=[{'tryLoc':_0x55f3('0x506')}],_0x5c28eb[_0x55f3('0x2e3')](_0xd5b3eb,this),this[_0x55f3('0x20f')](!0x0);}function _0x292932(_0x2538cc){if(_0x2538cc){var _0x5f3c9a,_0x5c28eb=_0x2538cc[_0xd1dd68];if(_0x5c28eb)return _0x5c28eb[_0x55f3('0x1')](_0x2538cc);if(_0x55f3('0x1c')==typeof _0x2538cc[_0x55f3('0x85')])return _0x2538cc;if(!isNaN(_0x2538cc[_0x55f3('0xf')]))return _0x5f3c9a=-0x1,(_0x5c28eb=function _0x5c28eb(){for(;++_0x5f3c9a<_0x2538cc[_0x55f3('0xf')];)if(_0x598dd1[_0x55f3('0x1')](_0x2538cc,_0x5f3c9a))return _0x5c28eb[_0x55f3('0x12')]=_0x2538cc[_0x5f3c9a],_0x5c28eb[_0x55f3('0x269')]=!0x1,_0x5c28eb;return _0x5c28eb['value']=_0x51c2a7,_0x5c28eb['done']=!0x0,_0x5c28eb;})[_0x55f3('0x85')]=_0x5c28eb;}return{'next':_0x2baad4};}function _0x2baad4(){return{'value':_0x51c2a7,'done':!0x0};}_0x11ff51?_0x271f61&&(_0x33afa8['exports']=_0x11ff51):((_0x11ff51=_0x5c28eb[_0x55f3('0x569')]=_0x271f61?_0x33afa8[_0x55f3('0x0')]:{})[_0x55f3('0x579')]=_0x12f6ac,_0x29af88='suspendedStart',_0x3e341c='suspendedYield',_0x93cdd0=_0x55f3('0x57a'),_0x2e4323=_0x55f3('0x57b'),_0x23ba6d={},(_0x5c28eb={})[_0xd1dd68]=function(){return this;},(_0x271f61=(_0x271f61=Object[_0x55f3('0x25f')])&&_0x271f61(_0x271f61(_0x292932([]))))&&_0x271f61!==_0x5f3c9a&&_0x598dd1[_0x55f3('0x1')](_0x271f61,_0xd1dd68)&&(_0x5c28eb=_0x271f61),_0x2538cc=_0x349b99[_0x55f3('0x15')]=_0x11a35a[_0x55f3('0x15')]=Object[_0x55f3('0x8')](_0x5c28eb),(_0x2df11a[_0x55f3('0x15')]=_0x2538cc[_0x55f3('0x83')]=_0x349b99)[_0x55f3('0x83')]=_0x2df11a,_0x349b99[_0xb4ddff]=_0x2df11a[_0x55f3('0x57c')]='GeneratorFunction',_0x11ff51['isGeneratorFunction']=function(_0x5c28eb){_0x5c28eb=_0x55f3('0x1c')==typeof _0x5c28eb&&_0x5c28eb[_0x55f3('0x83')];return!!_0x5c28eb&&(_0x5c28eb===_0x2df11a||_0x55f3('0x57d')===(_0x5c28eb[_0x55f3('0x57c')]||_0x5c28eb[_0x55f3('0x8b')]));},_0x11ff51['mark']=function(_0x5c28eb){return Object[_0x55f3('0x57e')]?Object[_0x55f3('0x57e')](_0x5c28eb,_0x349b99):(_0x5c28eb[_0x55f3('0x7d')]=_0x349b99,_0xb4ddff in _0x5c28eb||(_0x5c28eb[_0xb4ddff]=_0x55f3('0x57d'))),_0x5c28eb[_0x55f3('0x15')]=Object[_0x55f3('0x8')](_0x2538cc),_0x5c28eb;},_0x11ff51[_0x55f3('0x57f')]=function(_0x5c28eb){return{'__await':_0x5c28eb};},_0x5bd5e3(_0x5c0168['prototype']),_0x5c0168[_0x55f3('0x15')][_0x37bd22]=function(){return this;},_0x11ff51['AsyncIterator']=_0x5c0168,_0x11ff51[_0x55f3('0x580')]=function(_0x5c28eb,_0x2538cc,_0x5f3c9a,_0x271f61){var _0xd1dd68=new _0x5c0168(_0x12f6ac(_0x5c28eb,_0x2538cc,_0x5f3c9a,_0x271f61));return _0x11ff51[_0x55f3('0x581')](_0x2538cc)?_0xd1dd68:_0xd1dd68['next']()[_0x55f3('0x341')](function(_0x5c28eb){return _0x5c28eb['done']?_0x5c28eb[_0x55f3('0x12')]:_0xd1dd68[_0x55f3('0x85')]();});},_0x5bd5e3(_0x2538cc),_0x2538cc[_0xb4ddff]=_0x55f3('0x582'),_0x2538cc[_0xd1dd68]=function(){return this;},_0x2538cc[_0x55f3('0x23')]=function(){return _0x55f3('0x583');},_0x11ff51[_0x55f3('0x22')]=function(_0x5f3c9a){var _0x5c28eb,_0x271f61=[];for(_0x5c28eb in _0x5f3c9a)_0x271f61[_0x55f3('0x73')](_0x5c28eb);return _0x271f61[_0x55f3('0x584')](),function _0x5c28eb(){for(;_0x271f61['length'];){var _0x2538cc=_0x271f61[_0x55f3('0x20c')]();if(_0x2538cc in _0x5f3c9a)return _0x5c28eb[_0x55f3('0x12')]=_0x2538cc,_0x5c28eb[_0x55f3('0x269')]=!0x1,_0x5c28eb;}return _0x5c28eb[_0x55f3('0x269')]=!0x0,_0x5c28eb;};},_0x11ff51[_0x55f3('0x86')]=_0x292932,_0x4f3f50['prototype']={'constructor':_0x4f3f50,'reset':function(_0x5c28eb){if(this[_0x55f3('0x585')]=0x0,this[_0x55f3('0x85')]=0x0,this[_0x55f3('0x571')]=this[_0x55f3('0x586')]=_0x51c2a7,this[_0x55f3('0x269')]=!0x1,this['delegate']=null,this[_0x55f3('0x56b')]=_0x55f3('0x85'),this[_0x55f3('0x56d')]=_0x51c2a7,this[_0x55f3('0x576')][_0x55f3('0x2e3')](_0x2e11db),!_0x5c28eb)for(var _0x2538cc in this)'t'===_0x2538cc[_0x55f3('0x8d')](0x0)&&_0x598dd1['call'](this,_0x2538cc)&&!isNaN(+_0x2538cc[_0x55f3('0x24')](0x1))&&(this[_0x2538cc]=_0x51c2a7);},'stop':function(){this['done']=!0x0;var _0x5c28eb=this[_0x55f3('0x576')][0x0][_0x55f3('0x577')];if(_0x55f3('0x410')===_0x5c28eb[_0x55f3('0xeb')])throw _0x5c28eb[_0x55f3('0x56d')];return this[_0x55f3('0x587')];},'dispatchException':function(_0x5f3c9a){if(this['done'])throw _0x5f3c9a;var _0x271f61=this;function _0x5c28eb(_0x5c28eb,_0x2538cc){return _0x37bd22[_0x55f3('0xeb')]=_0x55f3('0x410'),_0x37bd22[_0x55f3('0x56d')]=_0x5f3c9a,_0x271f61[_0x55f3('0x85')]=_0x5c28eb,_0x2538cc&&(_0x271f61[_0x55f3('0x56b')]=_0x55f3('0x85'),_0x271f61['arg']=_0x51c2a7),!!_0x2538cc;}for(var _0x2538cc=this[_0x55f3('0x576')]['length']-0x1;0x0<=_0x2538cc;--_0x2538cc){var _0xd1dd68=this[_0x55f3('0x576')][_0x2538cc],_0x37bd22=_0xd1dd68['completion'];if(_0x55f3('0x506')===_0xd1dd68[_0x55f3('0x588')])return _0x5c28eb(_0x55f3('0x534'));if(_0xd1dd68[_0x55f3('0x588')]<=this[_0x55f3('0x585')]){var _0xb4ddff=_0x598dd1[_0x55f3('0x1')](_0xd1dd68,'catchLoc'),_0x11ff51=_0x598dd1[_0x55f3('0x1')](_0xd1dd68,_0x55f3('0x589'));if(_0xb4ddff&&_0x11ff51){if(this[_0x55f3('0x585')]<_0xd1dd68[_0x55f3('0x574')])return _0x5c28eb(_0xd1dd68[_0x55f3('0x574')],!0x0);if(this[_0x55f3('0x585')]<_0xd1dd68[_0x55f3('0x589')])return _0x5c28eb(_0xd1dd68[_0x55f3('0x589')]);}else if(_0xb4ddff){if(this[_0x55f3('0x585')]<_0xd1dd68[_0x55f3('0x574')])return _0x5c28eb(_0xd1dd68[_0x55f3('0x574')],!0x0);}else{if(!_0x11ff51)throw new Error('try\x20statement\x20without\x20catch\x20or\x20finally');if(this[_0x55f3('0x585')]<_0xd1dd68[_0x55f3('0x589')])return _0x5c28eb(_0xd1dd68[_0x55f3('0x589')]);}}}},'abrupt':function(_0x5c28eb,_0x2538cc){for(var _0x5f3c9a=this[_0x55f3('0x576')][_0x55f3('0xf')]-0x1;0x0<=_0x5f3c9a;--_0x5f3c9a){var _0x271f61=this[_0x55f3('0x576')][_0x5f3c9a];if(_0x271f61[_0x55f3('0x588')]<=this[_0x55f3('0x585')]&&_0x598dd1[_0x55f3('0x1')](_0x271f61,'finallyLoc')&&this[_0x55f3('0x585')]<_0x271f61[_0x55f3('0x589')]){var _0xd1dd68=_0x271f61;break;}}var _0x37bd22=(_0xd1dd68=_0xd1dd68&&(_0x55f3('0x58a')===_0x5c28eb||'continue'===_0x5c28eb)&&_0xd1dd68[_0x55f3('0x588')]<=_0x2538cc&&_0x2538cc<=_0xd1dd68['finallyLoc']?null:_0xd1dd68)?_0xd1dd68[_0x55f3('0x577')]:{};return _0x37bd22[_0x55f3('0xeb')]=_0x5c28eb,_0x37bd22[_0x55f3('0x56d')]=_0x2538cc,_0xd1dd68?(this['method']=_0x55f3('0x85'),this[_0x55f3('0x85')]=_0xd1dd68[_0x55f3('0x589')],_0x23ba6d):this[_0x55f3('0x37f')](_0x37bd22);},'complete':function(_0x5c28eb,_0x2538cc){if('throw'===_0x5c28eb[_0x55f3('0xeb')])throw _0x5c28eb[_0x55f3('0x56d')];return _0x55f3('0x58a')===_0x5c28eb[_0x55f3('0xeb')]||'continue'===_0x5c28eb['type']?this['next']=_0x5c28eb['arg']:'return'===_0x5c28eb[_0x55f3('0xeb')]?(this[_0x55f3('0x587')]=this['arg']=_0x5c28eb['arg'],this[_0x55f3('0x56b')]=_0x55f3('0x271'),this[_0x55f3('0x85')]=_0x55f3('0x534')):_0x55f3('0x578')===_0x5c28eb[_0x55f3('0xeb')]&&_0x2538cc&&(this[_0x55f3('0x85')]=_0x2538cc),_0x23ba6d;},'finish':function(_0x5c28eb){for(var _0x2538cc=this[_0x55f3('0x576')][_0x55f3('0xf')]-0x1;0x0<=_0x2538cc;--_0x2538cc){var _0x5f3c9a=this[_0x55f3('0x576')][_0x2538cc];if(_0x5f3c9a['finallyLoc']===_0x5c28eb)return this[_0x55f3('0x37f')](_0x5f3c9a[_0x55f3('0x577')],_0x5f3c9a['afterLoc']),_0x2e11db(_0x5f3c9a),_0x23ba6d;}},'catch':function(_0x5c28eb){for(var _0x2538cc=this[_0x55f3('0x576')]['length']-0x1;0x0<=_0x2538cc;--_0x2538cc){var _0x5f3c9a,_0x271f61,_0xd1dd68=this['tryEntries'][_0x2538cc];if(_0xd1dd68[_0x55f3('0x588')]===_0x5c28eb)return'throw'===(_0x5f3c9a=_0xd1dd68[_0x55f3('0x577')])['type']&&(_0x271f61=_0x5f3c9a[_0x55f3('0x56d')],_0x2e11db(_0xd1dd68)),_0x271f61;}throw new Error(_0x55f3('0x58b'));},'delegateYield':function(_0x5c28eb,_0x2538cc,_0x5f3c9a){return this[_0x55f3('0x56c')]={'iterator':_0x292932(_0x5c28eb),'resultName':_0x2538cc,'nextLoc':_0x5f3c9a},_0x55f3('0x85')===this['method']&&(this[_0x55f3('0x56d')]=_0x51c2a7),_0x23ba6d;}});}(function(){return this;}()||Function(_0x55f3('0x19'))());},,,,,,,function(_0x528c75,_0x544cf5,_0xa16283){'use strict';THREE[_0x55f3('0x58c')]=function(_0x528c75){null==_0x528c75&&(_0x528c75=Math),this['grad3']=[[0x1,0x1,0x0],[-0x1,0x1,0x0],[0x1,-0x1,0x0],[-0x1,-0x1,0x0],[0x1,0x0,0x1],[-0x1,0x0,0x1],[0x1,0x0,-0x1],[-0x1,0x0,-0x1],[0x0,0x1,0x1],[0x0,-0x1,0x1],[0x0,0x1,-0x1],[0x0,-0x1,-0x1]],this[_0x55f3('0x58d')]=[[0x0,0x1,0x1,0x1],[0x0,0x1,0x1,-0x1],[0x0,0x1,-0x1,0x1],[0x0,0x1,-0x1,-0x1],[0x0,-0x1,0x1,0x1],[0x0,-0x1,0x1,-0x1],[0x0,-0x1,-0x1,0x1],[0x0,-0x1,-0x1,-0x1],[0x1,0x0,0x1,0x1],[0x1,0x0,0x1,-0x1],[0x1,0x0,-0x1,0x1],[0x1,0x0,-0x1,-0x1],[-0x1,0x0,0x1,0x1],[-0x1,0x0,0x1,-0x1],[-0x1,0x0,-0x1,0x1],[-0x1,0x0,-0x1,-0x1],[0x1,0x1,0x0,0x1],[0x1,0x1,0x0,-0x1],[0x1,-0x1,0x0,0x1],[0x1,-0x1,0x0,-0x1],[-0x1,0x1,0x0,0x1],[-0x1,0x1,0x0,-0x1],[-0x1,-0x1,0x0,0x1],[-0x1,-0x1,0x0,-0x1],[0x1,0x1,0x1,0x0],[0x1,0x1,-0x1,0x0],[0x1,-0x1,0x1,0x0],[0x1,-0x1,-0x1,0x0],[-0x1,0x1,0x1,0x0],[-0x1,0x1,-0x1,0x0],[-0x1,-0x1,0x1,0x0],[-0x1,-0x1,-0x1,0x0]],this['p']=[];for(var _0x544cf5=0x0;_0x544cf5<0x100;_0x544cf5++)this['p'][_0x544cf5]=Math['floor'](0x100*_0x528c75[_0x55f3('0x60')]());for(this[_0x55f3('0x58e')]=[],_0x544cf5=0x0;_0x544cf5<0x200;_0x544cf5++)this[_0x55f3('0x58e')][_0x544cf5]=this['p'][0xff&_0x544cf5];this[_0x55f3('0x58f')]=[[0x0,0x1,0x2,0x3],[0x0,0x1,0x3,0x2],[0x0,0x0,0x0,0x0],[0x0,0x2,0x3,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x2,0x3,0x0],[0x0,0x2,0x1,0x3],[0x0,0x0,0x0,0x0],[0x0,0x3,0x1,0x2],[0x0,0x3,0x2,0x1],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x3,0x2,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x1,0x2,0x0,0x3],[0x0,0x0,0x0,0x0],[0x1,0x3,0x0,0x2],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x3,0x0,0x1],[0x2,0x3,0x1,0x0],[0x1,0x0,0x2,0x3],[0x1,0x0,0x3,0x2],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x3,0x1],[0x0,0x0,0x0,0x0],[0x2,0x1,0x3,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x2,0x0,0x1,0x3],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x3,0x0,0x1,0x2],[0x3,0x0,0x2,0x1],[0x0,0x0,0x0,0x0],[0x3,0x1,0x2,0x0],[0x2,0x1,0x0,0x3],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0],[0x3,0x1,0x0,0x2],[0x0,0x0,0x0,0x0],[0x3,0x2,0x0,0x1],[0x3,0x2,0x1,0x0]];},THREE['SimplexNoise'][_0x55f3('0x15')][_0x55f3('0x590')]=function(_0x528c75,_0x544cf5,_0xa16283){return _0x528c75[0x0]*_0x544cf5+_0x528c75[0x1]*_0xa16283;},THREE['SimplexNoise']['prototype'][_0x55f3('0x591')]=function(_0x528c75,_0x544cf5,_0xa16283,_0x57e8f5){return _0x528c75[0x0]*_0x544cf5+_0x528c75[0x1]*_0xa16283+_0x528c75[0x2]*_0x57e8f5;},THREE[_0x55f3('0x58c')][_0x55f3('0x15')][_0x55f3('0x592')]=function(_0x528c75,_0x544cf5,_0xa16283,_0x460d68,_0xb73587){return _0x528c75[0x0]*_0x544cf5+_0x528c75[0x1]*_0xa16283+_0x528c75[0x2]*_0x460d68+_0x528c75[0x3]*_0xb73587;},THREE[_0x55f3('0x58c')][_0x55f3('0x15')][_0x55f3('0x593')]=function(_0x528c75,_0x544cf5){var _0xa16283=(_0x528c75+_0x544cf5)*(0.5*(Math[_0x55f3('0x1bc')](0x3)-0x1)),_0x224447=Math[_0x55f3('0x64')](_0x528c75+_0xa16283),_0xa16283=Math[_0x55f3('0x64')](_0x544cf5+_0xa16283),_0x51e024=(0x3-Math['sqrt'](0x3))/0x6,_0x4f6b98=(_0x224447+_0xa16283)*_0x51e024,_0x528c75=_0x528c75-(_0x224447-_0x4f6b98),_0x544cf5=_0x544cf5-(_0xa16283-_0x4f6b98),_0x4f6b98=_0x544cf5<_0x528c75?(_0x35a490=0x1,0x0):(_0x35a490=0x0,0x1),_0x276442=_0x528c75-_0x35a490+_0x51e024,_0x44260e=_0x544cf5-_0x4f6b98+_0x51e024,_0x411195=_0x528c75-0x1+0x2*_0x51e024,_0x51e024=_0x544cf5-0x1+0x2*_0x51e024,_0x224447=0xff&_0x224447,_0xa16283=0xff&_0xa16283,_0x50b8c9=this[_0x55f3('0x58e')][_0x224447+this['perm'][_0xa16283]]%0xc,_0x35a490=this['perm'][_0x224447+_0x35a490+this[_0x55f3('0x58e')][_0xa16283+_0x4f6b98]]%0xc,_0x4f6b98=this[_0x55f3('0x58e')][0x1+_0x224447+this[_0x55f3('0x58e')][0x1+_0xa16283]]%0xc,_0x224447=0.5-_0x528c75*_0x528c75-_0x544cf5*_0x544cf5,_0xa16283=0.5-_0x276442*_0x276442-_0x44260e*_0x44260e,_0x46e4d9=0.5-_0x411195*_0x411195-_0x51e024*_0x51e024;return 0x46*((_0x224447<0x0?0x0:(_0x224447*=_0x224447)*_0x224447*this[_0x55f3('0x590')](this[_0x55f3('0x594')][_0x50b8c9],_0x528c75,_0x544cf5))+(_0xa16283<0x0?0x0:(_0xa16283*=_0xa16283)*_0xa16283*this[_0x55f3('0x590')](this[_0x55f3('0x594')][_0x35a490],_0x276442,_0x44260e))+(_0x46e4d9<0x0?0x0:(_0x46e4d9*=_0x46e4d9)*_0x46e4d9*this[_0x55f3('0x590')](this[_0x55f3('0x594')][_0x4f6b98],_0x411195,_0x51e024)));},THREE[_0x55f3('0x58c')]['prototype'][_0x55f3('0x595')]=function(_0x528c75,_0x544cf5,_0xa16283){var _0x547a87=(_0x528c75+_0x544cf5+_0xa16283)*(0x1/0x3),_0x2e61a1=Math[_0x55f3('0x64')](_0x528c75+_0x547a87),_0x4b4176=Math[_0x55f3('0x64')](_0x544cf5+_0x547a87),_0x547a87=Math[_0x55f3('0x64')](_0xa16283+_0x547a87),_0x32be0c=(_0x2e61a1+_0x4b4176+_0x547a87)*(0x1/0x6),_0x528c75=_0x528c75-(_0x2e61a1-_0x32be0c),_0x544cf5=_0x544cf5-(_0x4b4176-_0x32be0c),_0xa16283=_0xa16283-(_0x547a87-_0x32be0c),_0x32be0c=_0x544cf5<=_0x528c75?_0xa16283<=_0x544cf5?(_0x530bc9=_0x5aee69=_0x27afa6=0x1,_0x51470b=_0x44dd5e=0x0):_0x5aee69=_0xa16283<=_0x528c75?(_0x530bc9=_0x51470b=_0x44dd5e=0x0,_0x27afa6=0x1):(_0x530bc9=_0x44dd5e=_0x27afa6=0x0,_0x51470b=0x1):_0x544cf5<_0xa16283?(_0x5aee69=_0x44dd5e=_0x27afa6=0x0,_0x530bc9=_0x51470b=0x1):_0x528c75<_0xa16283?(_0x5aee69=_0x51470b=_0x27afa6=0x0,_0x530bc9=_0x44dd5e=0x1):(_0x530bc9=_0x5aee69=_0x44dd5e=0x1,_0x51470b=_0x27afa6=0x0),_0x341a22=_0x528c75-_0x27afa6+0x1/0x6,_0x4121c4=_0x544cf5-_0x44dd5e+0x1/0x6,_0xf82101=_0xa16283-_0x51470b+0x1/0x6,_0x57205f=_0x528c75-_0x5aee69+0x1/0x6*0x2,_0x8ff03b=_0x544cf5-_0x530bc9+0x1/0x6*0x2,_0x31d9c=_0xa16283-_0x32be0c+0x1/0x6*0x2,_0x1317fd=_0x528c75-0x1+0.5,_0x5da0d5=_0x544cf5-0x1+0.5,_0x58d2de=_0xa16283-0x1+0.5,_0x2e61a1=0xff&_0x2e61a1,_0x4b4176=0xff&_0x4b4176,_0x547a87=0xff&_0x547a87,_0x729a92=this[_0x55f3('0x58e')][_0x2e61a1+this[_0x55f3('0x58e')][_0x4b4176+this[_0x55f3('0x58e')][_0x547a87]]]%0xc,_0x27afa6=this[_0x55f3('0x58e')][_0x2e61a1+_0x27afa6+this[_0x55f3('0x58e')][_0x4b4176+_0x44dd5e+this[_0x55f3('0x58e')][_0x547a87+_0x51470b]]]%0xc,_0x44dd5e=this['perm'][_0x2e61a1+_0x5aee69+this[_0x55f3('0x58e')][_0x4b4176+_0x530bc9+this[_0x55f3('0x58e')][_0x547a87+_0x32be0c]]]%0xc,_0x51470b=this[_0x55f3('0x58e')][0x1+_0x2e61a1+this[_0x55f3('0x58e')][0x1+_0x4b4176+this['perm'][0x1+_0x547a87]]]%0xc,_0x5aee69=0.6-_0x528c75*_0x528c75-_0x544cf5*_0x544cf5-_0xa16283*_0xa16283,_0x530bc9=0.6-_0x341a22*_0x341a22-_0x4121c4*_0x4121c4-_0xf82101*_0xf82101,_0x32be0c=0.6-_0x57205f*_0x57205f-_0x8ff03b*_0x8ff03b-_0x31d9c*_0x31d9c,_0x2e61a1=0.6-_0x1317fd*_0x1317fd-_0x5da0d5*_0x5da0d5-_0x58d2de*_0x58d2de;return 0x20*((_0x5aee69<0x0?0x0:(_0x5aee69*=_0x5aee69)*_0x5aee69*this['dot3'](this['grad3'][_0x729a92],_0x528c75,_0x544cf5,_0xa16283))+(_0x530bc9<0x0?0x0:(_0x530bc9*=_0x530bc9)*_0x530bc9*this[_0x55f3('0x591')](this[_0x55f3('0x594')][_0x27afa6],_0x341a22,_0x4121c4,_0xf82101))+(_0x32be0c<0x0?0x0:(_0x32be0c*=_0x32be0c)*_0x32be0c*this[_0x55f3('0x591')](this['grad3'][_0x44dd5e],_0x57205f,_0x8ff03b,_0x31d9c))+(_0x2e61a1<0x0?0x0:(_0x2e61a1*=_0x2e61a1)*_0x2e61a1*this[_0x55f3('0x591')](this[_0x55f3('0x594')][_0x51470b],_0x1317fd,_0x5da0d5,_0x58d2de)));},THREE[_0x55f3('0x58c')]['prototype'][_0x55f3('0x596')]=function(_0x528c75,_0x544cf5,_0xa16283,_0x182957){var _0x398370=this['grad4'],_0x48f354=this[_0x55f3('0x58f')],_0x114927=this['perm'],_0x6e367e=(Math['sqrt'](0x5)-0x1)/0x4,_0xa99ac8=(0x5-Math[_0x55f3('0x1bc')](0x5))/0x14,_0x6e367e=(_0x528c75+_0x544cf5+_0xa16283+_0x182957)*_0x6e367e,_0x1e79e5=Math[_0x55f3('0x64')](_0x528c75+_0x6e367e),_0x3a14c6=Math[_0x55f3('0x64')](_0x544cf5+_0x6e367e),_0x394d29=Math[_0x55f3('0x64')](_0xa16283+_0x6e367e),_0x6e367e=Math['floor'](_0x182957+_0x6e367e),_0xe7e8b9=(_0x1e79e5+_0x3a14c6+_0x394d29+_0x6e367e)*_0xa99ac8,_0x528c75=_0x528c75-(_0x1e79e5-_0xe7e8b9),_0x544cf5=_0x544cf5-(_0x3a14c6-_0xe7e8b9),_0xa16283=_0xa16283-(_0x394d29-_0xe7e8b9),_0x182957=_0x182957-(_0x6e367e-_0xe7e8b9),_0xe7e8b9=(_0x544cf5<_0x528c75?0x20:0x0)+(_0xa16283<_0x528c75?0x10:0x0)+(_0xa16283<_0x544cf5?0x8:0x0)+(_0x182957<_0x528c75?0x4:0x0)+(_0x182957<_0x544cf5?0x2:0x0)+(_0x182957<_0xa16283?0x1:0x0),_0x1185e6=0x3<=_0x48f354[_0xe7e8b9][0x0]?0x1:0x0,_0x4c6ff9=0x3<=_0x48f354[_0xe7e8b9][0x1]?0x1:0x0,_0x46b8e6=0x3<=_0x48f354[_0xe7e8b9][0x2]?0x1:0x0,_0x590974=0x3<=_0x48f354[_0xe7e8b9][0x3]?0x1:0x0,_0x2f2f3c=0x2<=_0x48f354[_0xe7e8b9][0x0]?0x1:0x0,_0x417536=0x2<=_0x48f354[_0xe7e8b9][0x1]?0x1:0x0,_0x29e9cc=0x2<=_0x48f354[_0xe7e8b9][0x2]?0x1:0x0,_0x5c8333=0x2<=_0x48f354[_0xe7e8b9][0x3]?0x1:0x0,_0x57ad15=0x1<=_0x48f354[_0xe7e8b9][0x0]?0x1:0x0,_0x932f12=0x1<=_0x48f354[_0xe7e8b9][0x1]?0x1:0x0,_0xb83944=0x1<=_0x48f354[_0xe7e8b9][0x2]?0x1:0x0,_0x48f354=0x1<=_0x48f354[_0xe7e8b9][0x3]?0x1:0x0,_0xe7e8b9=_0x528c75-_0x1185e6+_0xa99ac8,_0x443178=_0x544cf5-_0x4c6ff9+_0xa99ac8,_0x45d00e=_0xa16283-_0x46b8e6+_0xa99ac8,_0x5772e8=_0x182957-_0x590974+_0xa99ac8,_0x2ddea2=_0x528c75-_0x2f2f3c+0x2*_0xa99ac8,_0x5904ce=_0x544cf5-_0x417536+0x2*_0xa99ac8,_0x2d4f4f=_0xa16283-_0x29e9cc+0x2*_0xa99ac8,_0x16cb2c=_0x182957-_0x5c8333+0x2*_0xa99ac8,_0x210176=_0x528c75-_0x57ad15+0x3*_0xa99ac8,_0x2ebe73=_0x544cf5-_0x932f12+0x3*_0xa99ac8,_0x4d38a3=_0xa16283-_0xb83944+0x3*_0xa99ac8,_0x5393a4=_0x182957-_0x48f354+0x3*_0xa99ac8,_0x2caa0c=_0x528c75-0x1+0x4*_0xa99ac8,_0x41a965=_0x544cf5-0x1+0x4*_0xa99ac8,_0x2b9b28=_0xa16283-0x1+0x4*_0xa99ac8,_0xa99ac8=_0x182957-0x1+0x4*_0xa99ac8,_0x1e79e5=0xff&_0x1e79e5,_0x3a14c6=0xff&_0x3a14c6,_0x394d29=0xff&_0x394d29,_0x6e367e=0xff&_0x6e367e,_0x1f36fc=_0x114927[_0x1e79e5+_0x114927[_0x3a14c6+_0x114927[_0x394d29+_0x114927[_0x6e367e]]]]%0x20,_0x1185e6=_0x114927[_0x1e79e5+_0x1185e6+_0x114927[_0x3a14c6+_0x4c6ff9+_0x114927[_0x394d29+_0x46b8e6+_0x114927[_0x6e367e+_0x590974]]]]%0x20,_0x4c6ff9=_0x114927[_0x1e79e5+_0x2f2f3c+_0x114927[_0x3a14c6+_0x417536+_0x114927[_0x394d29+_0x29e9cc+_0x114927[_0x6e367e+_0x5c8333]]]]%0x20,_0x46b8e6=_0x114927[_0x1e79e5+_0x57ad15+_0x114927[_0x3a14c6+_0x932f12+_0x114927[_0x394d29+_0xb83944+_0x114927[_0x6e367e+_0x48f354]]]]%0x20,_0x590974=_0x114927[0x1+_0x1e79e5+_0x114927[0x1+_0x3a14c6+_0x114927[0x1+_0x394d29+_0x114927[0x1+_0x6e367e]]]]%0x20,_0x2f2f3c=0.6-_0x528c75*_0x528c75-_0x544cf5*_0x544cf5-_0xa16283*_0xa16283-_0x182957*_0x182957,_0x417536=0.6-_0xe7e8b9*_0xe7e8b9-_0x443178*_0x443178-_0x45d00e*_0x45d00e-_0x5772e8*_0x5772e8,_0x29e9cc=0.6-_0x2ddea2*_0x2ddea2-_0x5904ce*_0x5904ce-_0x2d4f4f*_0x2d4f4f-_0x16cb2c*_0x16cb2c,_0x5c8333=0.6-_0x210176*_0x210176-_0x2ebe73*_0x2ebe73-_0x4d38a3*_0x4d38a3-_0x5393a4*_0x5393a4,_0x57ad15=0.6-_0x2caa0c*_0x2caa0c-_0x41a965*_0x41a965-_0x2b9b28*_0x2b9b28-_0xa99ac8*_0xa99ac8;return 0x1b*((_0x2f2f3c<0x0?0x0:(_0x2f2f3c*=_0x2f2f3c)*_0x2f2f3c*this[_0x55f3('0x592')](_0x398370[_0x1f36fc],_0x528c75,_0x544cf5,_0xa16283,_0x182957))+(_0x417536<0x0?0x0:(_0x417536*=_0x417536)*_0x417536*this[_0x55f3('0x592')](_0x398370[_0x1185e6],_0xe7e8b9,_0x443178,_0x45d00e,_0x5772e8))+(_0x29e9cc<0x0?0x0:(_0x29e9cc*=_0x29e9cc)*_0x29e9cc*this['dot4'](_0x398370[_0x4c6ff9],_0x2ddea2,_0x5904ce,_0x2d4f4f,_0x16cb2c))+(_0x5c8333<0x0?0x0:(_0x5c8333*=_0x5c8333)*_0x5c8333*this[_0x55f3('0x592')](_0x398370[_0x46b8e6],_0x210176,_0x2ebe73,_0x4d38a3,_0x5393a4))+(_0x57ad15<0x0?0x0:(_0x57ad15*=_0x57ad15)*_0x57ad15*this[_0x55f3('0x592')](_0x398370[_0x590974],_0x2caa0c,_0x41a965,_0x2b9b28,_0xa99ac8)));};},function(_0x35c1cc,_0x80b254,_0x586a4c){'use strict';function _0x389d2d(_0x35c1cc,_0x80b254){return this['lut']=[],this[_0x55f3('0x372')](_0x35c1cc,_0x80b254),this;}Object[_0x55f3('0x4')](_0x80b254,_0x55f3('0x7'),{'value':!0x0});var _0x344017={'rainbow':[[0x0,0xff,0x0],[0.2,0xffff],[0.5,0xff00],[0.8,0xffff00],[0x1,0xff0000]],'cooltowarm':[[0x0,0x3c4ec2],[0.2,0x9bbcff],[0.5,0xdcdcdc],[0.8,0xf6a385],[0x1,0xb40426]],'blackbody':[[0x0,0x0],[0.2,0x780000],[0.5,0xe63200],[0.8,0xffff00],[0x1,0xffffff]],'grayscale':[[0x0,0x0],[0.2,0x404040],[0.5,0x7f7f80],[0.8,0xbfbfbf],[0x1,0xffffff]],'seaground':[[0x0,0x3d8fb4],[0.2,0x449cc7],[0.5,0x70b9e1],[0.8,0xa8d5ef],[0x1,0xc8e9fc]]};_0x389d2d[_0x55f3('0x15')]={'constructor':THREE['LutAlpha'],'lut':[],'map':[],'n':0x100,'minV':0x0,'maxV':0x1,'set':function(_0x35c1cc){return _0x35c1cc instanceof THREE[_0x55f3('0x597')]&&this['copy'](_0x35c1cc),this;},'setMin':function(_0x35c1cc){return this[_0x55f3('0x376')]=_0x35c1cc,this;},'setMax':function(_0x35c1cc){return this[_0x55f3('0x374')]=_0x35c1cc,this;},'setColorMap':function(_0x35c1cc,_0x80b254){this[_0x55f3('0x94')]=_0x344017[_0x35c1cc]||_0x344017['rainbow'],this['n']=_0x80b254||0x20;for(var _0x586a4c=0x1/this['n'],_0x389d2d=this[_0x55f3('0x371')][_0x55f3('0xf')]=0x0;_0x389d2d<=0x1;_0x389d2d+=_0x586a4c)for(var _0x2b3bd6,_0x7fdc1d,_0x3cec3c,_0x10a0c5,_0x4e5c72,_0x3a8537=0x0;_0x3a8537<this['map'][_0x55f3('0xf')]-0x1;_0x3a8537++)_0x389d2d>=this[_0x55f3('0x94')][_0x3a8537][0x0]&&_0x389d2d<this[_0x55f3('0x94')][_0x3a8537+0x1][0x0]&&(_0x2b3bd6=this[_0x55f3('0x94')][_0x3a8537][0x0],_0x7fdc1d=this[_0x55f3('0x94')][_0x3a8537+0x1][0x0],_0x3cec3c=0x1,void 0x0!==this[_0x55f3('0x94')][_0x3a8537][0x2]&&(_0x3cec3c=this['map'][_0x3a8537][0x2]),_0x10a0c5=new THREE[(_0x55f3('0x1b7'))](this[_0x55f3('0x94')][_0x3a8537][0x1]),_0x4e5c72=new THREE[(_0x55f3('0x1b7'))](this['map'][_0x3a8537+0x1][0x1]),_0x10a0c5=_0x10a0c5[_0x55f3('0x1b5')](_0x4e5c72,(_0x389d2d-_0x2b3bd6)/(_0x7fdc1d-_0x2b3bd6)),_0x4e5c72=new THREE[(_0x55f3('0x1b6'))](_0x10a0c5['r'],_0x10a0c5['g'],_0x10a0c5['b'],_0x3cec3c),this['lut']['push'](_0x4e5c72));return this;},'copy':function(_0x35c1cc){return this[_0x55f3('0x371')]=_0x35c1cc[_0x55f3('0x371')],this[_0x55f3('0x94')]=_0x35c1cc[_0x55f3('0x94')],this['n']=_0x35c1cc['n'],this[_0x55f3('0x376')]=_0x35c1cc[_0x55f3('0x376')],this[_0x55f3('0x374')]=_0x35c1cc['maxV'],this;},'getColor':function(_0x35c1cc){_0x35c1cc<=this[_0x55f3('0x376')]?_0x35c1cc=this['minV']:_0x35c1cc>=this['maxV']&&(_0x35c1cc=this[_0x55f3('0x374')]),_0x35c1cc=(_0x35c1cc-this[_0x55f3('0x376')])/(this[_0x55f3('0x374')]-this['minV']);_0x35c1cc=Math[_0x55f3('0x1be')](_0x35c1cc*this['n']);return _0x35c1cc==this['n']&&--_0x35c1cc,this[_0x55f3('0x371')][_0x35c1cc];},'addColorMap':function(_0x35c1cc,_0x80b254){_0x344017[_0x35c1cc]=_0x80b254;}},_0x80b254['LutAlpha']=_0x389d2d,_0x80b254['ColorMapKeywords']=_0x344017;},function(_0x2dd795,_0x311248,_0x23c4bd){var _0xb4910d=_0x23c4bd(0xa);_0x2dd795[_0x55f3('0x0')]=function(_0x2dd795,_0x311248){if(_0xb4910d(_0x2dd795)&&_0x2dd795['_t']===_0x311248)return _0x2dd795;throw TypeError(_0x55f3('0x598')+_0x311248+'\x20required!');};},,,,,,function(_0x198a57,_0x5e5b5a,_0x3a20e2){'use strict';var _0x221bba=_0x3a20e2(0xb3);window[_0x55f3('0x599')]=_0x221bba,_0x3a20e2(0xb5);},function(_0x44b36b,_0x361991,_0x2b6c1d){'use strict';!function(_0x5797a5){_0x2c5de8(_0x2b6c1d(0x2c));var _0x1038d3,_0x4109b7=_0x2c5de8(_0x2b6c1d(0x21)),_0x1f23d0=_0x2c5de8(_0x2b6c1d(0x43));function _0x2c5de8(_0x1038d3){return _0x1038d3&&_0x1038d3[_0x55f3('0x7')]?_0x1038d3:{'default':_0x1038d3};}function _0x1b58fc(){this[_0x55f3('0x59a')]={},this[_0x55f3('0x59b')]={};}_0x1b58fc[_0x55f3('0x15')]={'getAll':function(){return(0x0,_0x1f23d0[_0x55f3('0x9')])(this[_0x55f3('0x59a')])[_0x55f3('0x94')](function(_0x1038d3){return this[_0x55f3('0x59a')][_0x1038d3];}[_0x55f3('0xb')](this));},'removeAll':function(){this[_0x55f3('0x59a')]={};},'add':function(_0x1038d3){this[_0x55f3('0x59a')][_0x1038d3['getId']()]=_0x1038d3,this[_0x55f3('0x59b')][_0x1038d3[_0x55f3('0x59c')]()]=_0x1038d3;},'remove':function(_0x1038d3){delete this[_0x55f3('0x59a')][_0x1038d3[_0x55f3('0x59c')]()],delete this[_0x55f3('0x59b')][_0x1038d3[_0x55f3('0x59c')]()];},'update':function(_0x1038d3,_0x5797a5){var _0x4109b7=(0x0,_0x1f23d0[_0x55f3('0x9')])(this['_tweens']);if(0x0===_0x4109b7[_0x55f3('0xf')])return!0x1;for(_0x1038d3=void 0x0!==_0x1038d3?_0x1038d3:_0x39becd[_0x55f3('0x2c8')]();0x0<_0x4109b7['length'];){this[_0x55f3('0x59b')]={};for(var _0x2c5de8=0x0;_0x2c5de8<_0x4109b7[_0x55f3('0xf')];_0x2c5de8++){var _0x1b58fc=this[_0x55f3('0x59a')][_0x4109b7[_0x2c5de8]];_0x1b58fc&&!0x1===_0x1b58fc[_0x55f3('0x2f8')](_0x1038d3)&&(_0x1b58fc[_0x55f3('0x59d')]=!0x1,_0x5797a5||delete this[_0x55f3('0x59a')][_0x4109b7[_0x2c5de8]]);}_0x4109b7=(0x0,_0x1f23d0[_0x55f3('0x9')])(this[_0x55f3('0x59b')]);}return!0x0;}};var _0x3ddc0a,_0x39becd=new _0x1b58fc();_0x39becd[_0x55f3('0x1c4')]=_0x1b58fc,_0x39becd[_0x55f3('0x59e')]=0x0,_0x39becd[_0x55f3('0x59f')]=function(){return _0x39becd['_nextId']++;},'undefined'==typeof self&&void 0x0!==_0x5797a5&&_0x5797a5[_0x55f3('0x5a0')]?_0x39becd['now']=function(){var _0x1038d3=_0x5797a5['hrtime']();return 0x3e8*_0x1038d3[0x0]+_0x1038d3[0x1]/0xf4240;}:_0x55f3('0x2')!=typeof self&&void 0x0!==self[_0x55f3('0x5a1')]&&void 0x0!==self[_0x55f3('0x5a1')]['now']?_0x39becd[_0x55f3('0x2c8')]=self[_0x55f3('0x5a1')][_0x55f3('0x2c8')][_0x55f3('0xb')](self[_0x55f3('0x5a1')]):void 0x0!==Date['now']?_0x39becd[_0x55f3('0x2c8')]=Date[_0x55f3('0x2c8')]:_0x39becd[_0x55f3('0x2c8')]=function(){return new Date()[_0x55f3('0x408')]();},_0x39becd[_0x55f3('0x331')]=function(_0x1038d3,_0x5797a5){this[_0x55f3('0x5a2')]=_0x1038d3,this['_valuesStart']={},this['_valuesEnd']={},this[_0x55f3('0x5a3')]={},this['_duration']=0x3e8,this[_0x55f3('0x5a4')]=0x0,this['_repeatDelayTime']=void 0x0,this['_yoyo']=!0x1,this[_0x55f3('0x59d')]=!0x1,this[_0x55f3('0x5a5')]=!0x1,this[_0x55f3('0x5a6')]=0x0,this[_0x55f3('0x5a7')]=null,this[_0x55f3('0x5a8')]=_0x39becd[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')],this['_interpolationFunction']=_0x39becd[_0x55f3('0x5a9')][_0x55f3('0x54d')],this[_0x55f3('0x5aa')]=[],this[_0x55f3('0x5ab')]=null,this[_0x55f3('0x5ac')]=!0x1,this[_0x55f3('0x5ad')]=null,this[_0x55f3('0x5ae')]=null,this[_0x55f3('0x5af')]=null,this[_0x55f3('0x5b0')]=null,this[_0x55f3('0x5b1')]=_0x5797a5||_0x39becd,this['_id']=_0x39becd[_0x55f3('0x59f')]();},_0x39becd[_0x55f3('0x331')][_0x55f3('0x15')]={'getId':function(){return this[_0x55f3('0x5b2')];},'isPlaying':function(){return this[_0x55f3('0x59d')];},'to':function(_0x1038d3,_0x5797a5){return this['_valuesEnd']=(0x0,_0x4109b7[_0x55f3('0x9')])(_0x1038d3),void 0x0!==_0x5797a5&&(this[_0x55f3('0x5b3')]=_0x5797a5),this;},'duration':function(_0x1038d3){return this[_0x55f3('0x5b3')]=_0x1038d3,this;},'start':function(_0x1038d3){for(var _0x5797a5 in this[_0x55f3('0x5b1')][_0x55f3('0x1c3')](this),this[_0x55f3('0x59d')]=!0x0,this[_0x55f3('0x5ac')]=!0x1,this[_0x55f3('0x5a7')]=void 0x0!==_0x1038d3?_0x55f3('0xa')==typeof _0x1038d3?_0x39becd[_0x55f3('0x2c8')]()+parseFloat(_0x1038d3):_0x1038d3:_0x39becd[_0x55f3('0x2c8')](),this[_0x55f3('0x5a7')]+=this['_delayTime'],this[_0x55f3('0x5b4')]){if(this[_0x55f3('0x5b4')][_0x5797a5]instanceof Array){if(0x0===this[_0x55f3('0x5b4')][_0x5797a5]['length'])continue;this[_0x55f3('0x5b4')][_0x5797a5]=[this[_0x55f3('0x5a2')][_0x5797a5]][_0x55f3('0x62')](this[_0x55f3('0x5b4')][_0x5797a5]);}void 0x0!==this[_0x55f3('0x5a2')][_0x5797a5]&&(this[_0x55f3('0x5b5')][_0x5797a5]=this[_0x55f3('0x5a2')][_0x5797a5],this['_valuesStart'][_0x5797a5]instanceof Array==0x0&&(this[_0x55f3('0x5b5')][_0x5797a5]*=0x1),this[_0x55f3('0x5a3')][_0x5797a5]=this[_0x55f3('0x5b5')][_0x5797a5]||0x0);}return this;},'stop':function(){return this[_0x55f3('0x59d')]&&(this['_group'][_0x55f3('0x96')](this),this[_0x55f3('0x59d')]=!0x1,null!==this[_0x55f3('0x5b0')]&&this[_0x55f3('0x5b0')](this[_0x55f3('0x5a2')]),this[_0x55f3('0x5b6')]()),this;},'end':function(){return this[_0x55f3('0x2f8')](0x1/0x0),this;},'stopChainedTweens':function(){for(var _0x1038d3=0x0,_0x5797a5=this[_0x55f3('0x5aa')][_0x55f3('0xf')];_0x1038d3<_0x5797a5;_0x1038d3++)this[_0x55f3('0x5aa')][_0x1038d3][_0x55f3('0x5b7')]();},'group':function(_0x1038d3){return this['_group']=_0x1038d3,this;},'delay':function(_0x1038d3){return this[_0x55f3('0x5a6')]=_0x1038d3,this;},'repeat':function(_0x1038d3){return this[_0x55f3('0x5a4')]=_0x1038d3,this;},'repeatDelay':function(_0x1038d3){return this[_0x55f3('0x5b8')]=_0x1038d3,this;},'yoyo':function(_0x1038d3){return this[_0x55f3('0x5b9')]=_0x1038d3,this;},'easing':function(_0x1038d3){return this[_0x55f3('0x5a8')]=_0x1038d3,this;},'interpolation':function(_0x1038d3){return this[_0x55f3('0x5ba')]=_0x1038d3,this;},'chain':function(){return this[_0x55f3('0x5aa')]=arguments,this;},'onStart':function(_0x1038d3){return this['_onStartCallback']=_0x1038d3,this;},'onUpdate':function(_0x1038d3){return this['_onUpdateCallback']=_0x1038d3,this;},'onRepeat':function(_0x1038d3){return this[_0x55f3('0x5ae')]=_0x1038d3,this;},'onComplete':function(_0x1038d3){return this[_0x55f3('0x5af')]=_0x1038d3,this;},'onStop':function(_0x1038d3){return this[_0x55f3('0x5b0')]=_0x1038d3,this;},'update':function(_0x1038d3){var _0x5797a5,_0x4109b7,_0x2c5de8,_0x1b58fc,_0x1f23d0,_0x3ddc0a;if(_0x1038d3<this[_0x55f3('0x5a7')])return!0x0;for(_0x5797a5 in!0x1===this['_onStartCallbackFired']&&(null!==this[_0x55f3('0x5ab')]&&this[_0x55f3('0x5ab')](this['_object']),this[_0x55f3('0x5ac')]=!0x0),_0x4109b7=(_0x1038d3-this[_0x55f3('0x5a7')])/this['_duration'],_0x4109b7=0x0===this[_0x55f3('0x5b3')]||0x1<_0x4109b7?0x1:_0x4109b7,_0x2c5de8=this[_0x55f3('0x5a8')](_0x4109b7),this['_valuesEnd'])void 0x0!==this['_valuesStart'][_0x5797a5]&&(_0x1b58fc=this[_0x55f3('0x5b5')][_0x5797a5]||0x0,(_0x1f23d0=this['_valuesEnd'][_0x5797a5])instanceof Array?this[_0x55f3('0x5a2')][_0x5797a5]=this['_interpolationFunction'](_0x1f23d0,_0x2c5de8):_0x55f3('0x17')==typeof(_0x1f23d0=_0x55f3('0xa')==typeof _0x1f23d0?'+'===_0x1f23d0[_0x55f3('0x8d')](0x0)||'-'===_0x1f23d0['charAt'](0x0)?_0x1b58fc+parseFloat(_0x1f23d0):parseFloat(_0x1f23d0):_0x1f23d0)&&(this[_0x55f3('0x5a2')][_0x5797a5]=_0x1b58fc+(_0x1f23d0-_0x1b58fc)*_0x2c5de8));if(null!==this['_onUpdateCallback']&&this[_0x55f3('0x5ad')](this[_0x55f3('0x5a2')],_0x4109b7),0x1!==_0x4109b7)return!0x0;if(0x0<this[_0x55f3('0x5a4')]){for(_0x5797a5 in isFinite(this[_0x55f3('0x5a4')])&&this['_repeat']--,this[_0x55f3('0x5a3')])_0x55f3('0xa')==typeof this['_valuesEnd'][_0x5797a5]&&(this[_0x55f3('0x5a3')][_0x5797a5]=this[_0x55f3('0x5a3')][_0x5797a5]+parseFloat(this[_0x55f3('0x5b4')][_0x5797a5])),this[_0x55f3('0x5b9')]&&(_0x3ddc0a=this[_0x55f3('0x5a3')][_0x5797a5],this[_0x55f3('0x5a3')][_0x5797a5]=this[_0x55f3('0x5b4')][_0x5797a5],this[_0x55f3('0x5b4')][_0x5797a5]=_0x3ddc0a),this[_0x55f3('0x5b5')][_0x5797a5]=this[_0x55f3('0x5a3')][_0x5797a5];return this['_yoyo']&&(this[_0x55f3('0x5a5')]=!this[_0x55f3('0x5a5')]),void 0x0!==this[_0x55f3('0x5b8')]?this[_0x55f3('0x5a7')]=_0x1038d3+this[_0x55f3('0x5b8')]:this['_startTime']=_0x1038d3+this[_0x55f3('0x5a6')],null!==this[_0x55f3('0x5ae')]&&this['_onRepeatCallback'](this['_object']),!0x0;}null!==this[_0x55f3('0x5af')]&&this[_0x55f3('0x5af')](this[_0x55f3('0x5a2')]);for(var _0x39becd=0x0,_0x44b36b=this[_0x55f3('0x5aa')][_0x55f3('0xf')];_0x39becd<_0x44b36b;_0x39becd++)this[_0x55f3('0x5aa')][_0x39becd][_0x55f3('0x395')](this[_0x55f3('0x5a7')]+this['_duration']);return!0x1;}},_0x39becd['Easing']={'Linear':{'None':function(_0x1038d3){return _0x1038d3;}},'Quadratic':{'In':function(_0x1038d3){return _0x1038d3*_0x1038d3;},'Out':function(_0x1038d3){return _0x1038d3*(0x2-_0x1038d3);},'InOut':function(_0x1038d3){return(_0x1038d3*=0x2)<0x1?0.5*_0x1038d3*_0x1038d3:-0.5*(--_0x1038d3*(_0x1038d3-0x2)-0x1);}},'Cubic':{'In':function(_0x1038d3){return _0x1038d3*_0x1038d3*_0x1038d3;},'Out':function(_0x1038d3){return--_0x1038d3*_0x1038d3*_0x1038d3+0x1;},'InOut':function(_0x1038d3){return(_0x1038d3*=0x2)<0x1?0.5*_0x1038d3*_0x1038d3*_0x1038d3:0.5*((_0x1038d3-=0x2)*_0x1038d3*_0x1038d3+0x2);}},'Quartic':{'In':function(_0x1038d3){return _0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3;},'Out':function(_0x1038d3){return 0x1- --_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3;},'InOut':function(_0x1038d3){return(_0x1038d3*=0x2)<0x1?0.5*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3:-0.5*((_0x1038d3-=0x2)*_0x1038d3*_0x1038d3*_0x1038d3-0x2);}},'Quintic':{'In':function(_0x1038d3){return _0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3;},'Out':function(_0x1038d3){return--_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3+0x1;},'InOut':function(_0x1038d3){return(_0x1038d3*=0x2)<0x1?0.5*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3:0.5*((_0x1038d3-=0x2)*_0x1038d3*_0x1038d3*_0x1038d3*_0x1038d3+0x2);}},'Sinusoidal':{'In':function(_0x1038d3){return 0x1-Math[_0x55f3('0x5c')](_0x1038d3*Math['PI']/0x2);},'Out':function(_0x1038d3){return Math[_0x55f3('0x5b')](_0x1038d3*Math['PI']/0x2);},'InOut':function(_0x1038d3){return 0.5*(0x1-Math[_0x55f3('0x5c')](Math['PI']*_0x1038d3));}},'Exponential':{'In':function(_0x1038d3){return 0x0===_0x1038d3?0x0:Math[_0x55f3('0x313')](0x400,_0x1038d3-0x1);},'Out':function(_0x1038d3){return 0x1===_0x1038d3?0x1:0x1-Math[_0x55f3('0x313')](0x2,-0xa*_0x1038d3);},'InOut':function(_0x1038d3){return 0x0===_0x1038d3?0x0:0x1===_0x1038d3?0x1:(_0x1038d3*=0x2)<0x1?0.5*Math['pow'](0x400,_0x1038d3-0x1):0.5*(0x2-Math[_0x55f3('0x313')](0x2,-0xa*(_0x1038d3-0x1)));}},'Circular':{'In':function(_0x1038d3){return 0x1-Math[_0x55f3('0x1bc')](0x1-_0x1038d3*_0x1038d3);},'Out':function(_0x1038d3){return Math[_0x55f3('0x1bc')](0x1- --_0x1038d3*_0x1038d3);},'InOut':function(_0x1038d3){return(_0x1038d3*=0x2)<0x1?-0.5*(Math[_0x55f3('0x1bc')](0x1-_0x1038d3*_0x1038d3)-0x1):0.5*(Math['sqrt'](0x1-(_0x1038d3-=0x2)*_0x1038d3)+0x1);}},'Elastic':{'In':function(_0x1038d3){return 0x0===_0x1038d3?0x0:0x1===_0x1038d3?0x1:-Math[_0x55f3('0x313')](0x2,0xa*(_0x1038d3-0x1))*Math[_0x55f3('0x5b')](0x5*(_0x1038d3-1.1)*Math['PI']);},'Out':function(_0x1038d3){return 0x0===_0x1038d3?0x0:0x1===_0x1038d3?0x1:Math[_0x55f3('0x313')](0x2,-0xa*_0x1038d3)*Math[_0x55f3('0x5b')](0x5*(_0x1038d3-0.1)*Math['PI'])+0x1;},'InOut':function(_0x1038d3){return 0x0===_0x1038d3?0x0:0x1===_0x1038d3?0x1:(_0x1038d3*=0x2)<0x1?-0.5*Math['pow'](0x2,0xa*(_0x1038d3-0x1))*Math[_0x55f3('0x5b')](0x5*(_0x1038d3-1.1)*Math['PI']):0.5*Math[_0x55f3('0x313')](0x2,-0xa*(_0x1038d3-0x1))*Math['sin'](0x5*(_0x1038d3-1.1)*Math['PI'])+0x1;}},'Back':{'In':function(_0x1038d3){return _0x1038d3*_0x1038d3*(2.70158*_0x1038d3-1.70158);},'Out':function(_0x1038d3){return--_0x1038d3*_0x1038d3*(2.70158*_0x1038d3+1.70158)+0x1;},'InOut':function(_0x1038d3){var _0x5797a5=2.5949095;return(_0x1038d3*=0x2)<0x1?_0x1038d3*_0x1038d3*((0x1+_0x5797a5)*_0x1038d3-_0x5797a5)*0.5:0.5*((_0x1038d3-=0x2)*_0x1038d3*((0x1+_0x5797a5)*_0x1038d3+_0x5797a5)+0x2);}},'Bounce':{'In':function(_0x1038d3){return 0x1-_0x39becd[_0x55f3('0x334')][_0x55f3('0x5bb')]['Out'](0x1-_0x1038d3);},'Out':function(_0x1038d3){return _0x1038d3<0x1/2.75?7.5625*_0x1038d3*_0x1038d3:_0x1038d3<0x2/2.75?7.5625*(_0x1038d3-=1.5/2.75)*_0x1038d3+0.75:_0x1038d3<2.5/2.75?7.5625*(_0x1038d3-=2.25/2.75)*_0x1038d3+0.9375:7.5625*(_0x1038d3-=2.625/2.75)*_0x1038d3+0.984375;},'InOut':function(_0x1038d3){return _0x1038d3<0.5?0.5*_0x39becd[_0x55f3('0x334')][_0x55f3('0x5bb')]['In'](0x2*_0x1038d3):0.5*_0x39becd['Easing'][_0x55f3('0x5bb')][_0x55f3('0x393')](0x2*_0x1038d3-0x1)+0.5;}}},_0x39becd[_0x55f3('0x5a9')]={'Linear':function(_0x1038d3,_0x5797a5){var _0x4109b7=_0x1038d3['length']-0x1,_0x2c5de8=_0x4109b7*_0x5797a5,_0x1b58fc=Math[_0x55f3('0x64')](_0x2c5de8),_0x1f23d0=_0x39becd[_0x55f3('0x5a9')][_0x55f3('0x5bc')][_0x55f3('0x54d')];return _0x5797a5<0x0?_0x1f23d0(_0x1038d3[0x0],_0x1038d3[0x1],_0x2c5de8):0x1<_0x5797a5?_0x1f23d0(_0x1038d3[_0x4109b7],_0x1038d3[_0x4109b7-0x1],_0x4109b7-_0x2c5de8):_0x1f23d0(_0x1038d3[_0x1b58fc],_0x1038d3[_0x4109b7<_0x1b58fc+0x1?_0x4109b7:_0x1b58fc+0x1],_0x2c5de8-_0x1b58fc);},'Bezier':function(_0x1038d3,_0x5797a5){for(var _0x4109b7=0x0,_0x2c5de8=_0x1038d3[_0x55f3('0xf')]-0x1,_0x1b58fc=Math['pow'],_0x1f23d0=_0x39becd[_0x55f3('0x5a9')][_0x55f3('0x5bc')][_0x55f3('0x5bd')],_0x3ddc0a=0x0;_0x3ddc0a<=_0x2c5de8;_0x3ddc0a++)_0x4109b7+=_0x1b58fc(0x1-_0x5797a5,_0x2c5de8-_0x3ddc0a)*_0x1b58fc(_0x5797a5,_0x3ddc0a)*_0x1038d3[_0x3ddc0a]*_0x1f23d0(_0x2c5de8,_0x3ddc0a);return _0x4109b7;},'CatmullRom':function(_0x1038d3,_0x5797a5){var _0x4109b7=_0x1038d3[_0x55f3('0xf')]-0x1,_0x2c5de8=_0x4109b7*_0x5797a5,_0x1b58fc=Math[_0x55f3('0x64')](_0x2c5de8),_0x1f23d0=_0x39becd[_0x55f3('0x5a9')][_0x55f3('0x5bc')][_0x55f3('0x5be')];return _0x1038d3[0x0]===_0x1038d3[_0x4109b7]?_0x1f23d0(_0x1038d3[((_0x1b58fc=_0x5797a5<0x0?Math[_0x55f3('0x64')](_0x2c5de8=_0x4109b7*(0x1+_0x5797a5)):_0x1b58fc)-0x1+_0x4109b7)%_0x4109b7],_0x1038d3[_0x1b58fc],_0x1038d3[(_0x1b58fc+0x1)%_0x4109b7],_0x1038d3[(_0x1b58fc+0x2)%_0x4109b7],_0x2c5de8-_0x1b58fc):_0x5797a5<0x0?_0x1038d3[0x0]-(_0x1f23d0(_0x1038d3[0x0],_0x1038d3[0x0],_0x1038d3[0x1],_0x1038d3[0x1],-_0x2c5de8)-_0x1038d3[0x0]):0x1<_0x5797a5?_0x1038d3[_0x4109b7]-(_0x1f23d0(_0x1038d3[_0x4109b7],_0x1038d3[_0x4109b7],_0x1038d3[_0x4109b7-0x1],_0x1038d3[_0x4109b7-0x1],_0x2c5de8-_0x4109b7)-_0x1038d3[_0x4109b7]):_0x1f23d0(_0x1038d3[_0x1b58fc?_0x1b58fc-0x1:0x0],_0x1038d3[_0x1b58fc],_0x1038d3[_0x4109b7<_0x1b58fc+0x1?_0x4109b7:_0x1b58fc+0x1],_0x1038d3[_0x4109b7<_0x1b58fc+0x2?_0x4109b7:_0x1b58fc+0x2],_0x2c5de8-_0x1b58fc);},'Utils':{'Linear':function(_0x1038d3,_0x5797a5,_0x4109b7){return(_0x5797a5-_0x1038d3)*_0x4109b7+_0x1038d3;},'Bernstein':function(_0x1038d3,_0x5797a5){var _0x4109b7=_0x39becd['Interpolation'][_0x55f3('0x5bc')][_0x55f3('0x5bf')];return _0x4109b7(_0x1038d3)/_0x4109b7(_0x5797a5)/_0x4109b7(_0x1038d3-_0x5797a5);},'Factorial':(_0x3ddc0a=[0x1],function(_0x1038d3){var _0x5797a5=0x1;if(_0x3ddc0a[_0x1038d3])return _0x3ddc0a[_0x1038d3];for(var _0x4109b7=_0x1038d3;0x1<_0x4109b7;_0x4109b7--)_0x5797a5*=_0x4109b7;return _0x3ddc0a[_0x1038d3]=_0x5797a5;}),'CatmullRom':function(_0x1038d3,_0x5797a5,_0x4109b7,_0x2c5de8,_0x1b58fc){var _0x1038d3=0.5*(_0x4109b7-_0x1038d3),_0x2c5de8=0.5*(_0x2c5de8-_0x5797a5),_0x1f23d0=_0x1b58fc*_0x1b58fc;return _0x1b58fc*_0x1f23d0*(0x2*_0x5797a5-0x2*_0x4109b7+_0x1038d3+_0x2c5de8)+(-0x3*_0x5797a5+0x3*_0x4109b7-0x2*_0x1038d3-_0x2c5de8)*_0x1f23d0+_0x1038d3*_0x1b58fc+_0x5797a5;}}},void 0x0!==(_0x1038d3=function(){return _0x39becd;}['apply'](_0x361991,[]))&&(_0x44b36b['exports']=_0x1038d3);}[_0x55f3('0x1')](this,_0x2b6c1d(0xb4));},function(_0x44cf67,_0x2fa137){var _0x43c9ec,_0x2c4486,_0x44cf67=_0x44cf67[_0x55f3('0x0')]={};function _0x2dd42d(){throw new Error(_0x55f3('0x5c0'));}function _0x4e66e3(){throw new Error(_0x55f3('0x5c1'));}try{_0x43c9ec=_0x55f3('0x1c')==typeof setTimeout?setTimeout:_0x2dd42d;}catch(_0x1fbdd6){_0x43c9ec=_0x2dd42d;}try{_0x2c4486=_0x55f3('0x1c')==typeof clearTimeout?clearTimeout:_0x4e66e3;}catch(_0x870848){_0x2c4486=_0x4e66e3;}function _0x58b1c7(_0x2fa137){if(_0x43c9ec===setTimeout)return setTimeout(_0x2fa137,0x0);if((_0x43c9ec===_0x2dd42d||!_0x43c9ec)&&setTimeout)return(_0x43c9ec=setTimeout)(_0x2fa137,0x0);try{return _0x43c9ec(_0x2fa137,0x0);}catch(_0x14ffdb){try{return _0x43c9ec[_0x55f3('0x1')](null,_0x2fa137,0x0);}catch(_0x46a431){return _0x43c9ec[_0x55f3('0x1')](this,_0x2fa137,0x0);}}}var _0x355d6b,_0x140be0=[],_0x3a965a=!0x1,_0x2b4f2e=-0x1;function _0x5b9e25(){_0x3a965a&&_0x355d6b&&(_0x3a965a=!0x1,_0x355d6b[_0x55f3('0xf')]?_0x140be0=_0x355d6b[_0x55f3('0x62')](_0x140be0):_0x2b4f2e=-0x1,_0x140be0['length']&&_0x5cd085());}function _0x5cd085(){if(!_0x3a965a){for(var _0x44cf67=_0x58b1c7(_0x5b9e25),_0x2fa137=(_0x3a965a=!0x0,_0x140be0[_0x55f3('0xf')]);_0x2fa137;){for(_0x355d6b=_0x140be0,_0x140be0=[];++_0x2b4f2e<_0x2fa137;)_0x355d6b&&_0x355d6b[_0x2b4f2e][_0x55f3('0x5c2')]();_0x2b4f2e=-0x1,_0x2fa137=_0x140be0[_0x55f3('0xf')];}_0x355d6b=null,_0x3a965a=!0x1,function(_0x2fa137){if(_0x2c4486===clearTimeout)return clearTimeout(_0x2fa137);if((_0x2c4486===_0x4e66e3||!_0x2c4486)&&clearTimeout)return(_0x2c4486=clearTimeout)(_0x2fa137);try{_0x2c4486(_0x2fa137);}catch(_0x4e26c1){try{return _0x2c4486[_0x55f3('0x1')](null,_0x2fa137);}catch(_0x47cb7f){return _0x2c4486[_0x55f3('0x1')](this,_0x2fa137);}}}(_0x44cf67);}}function _0x53b608(_0x44cf67,_0x2fa137){this[_0x55f3('0x5c3')]=_0x44cf67,this[_0x55f3('0xd4')]=_0x2fa137;}function _0x5b36b0(){}_0x44cf67[_0x55f3('0x2c7')]=function(_0x44cf67){var _0x2fa137=new Array(arguments[_0x55f3('0xf')]-0x1);if(0x1<arguments[_0x55f3('0xf')])for(var _0x43c9ec=0x1;_0x43c9ec<arguments[_0x55f3('0xf')];_0x43c9ec++)_0x2fa137[_0x43c9ec-0x1]=arguments[_0x43c9ec];_0x140be0[_0x55f3('0x73')](new _0x53b608(_0x44cf67,_0x2fa137)),0x1!==_0x140be0['length']||_0x3a965a||_0x58b1c7(_0x5cd085);},_0x53b608['prototype']['run']=function(){this[_0x55f3('0x5c3')]['apply'](null,this[_0x55f3('0xd4')]);},_0x44cf67[_0x55f3('0x5c4')]=_0x55f3('0x5c5'),_0x44cf67[_0x55f3('0x5c5')]=!0x0,_0x44cf67[_0x55f3('0x5c6')]={},_0x44cf67[_0x55f3('0x5c7')]=[],_0x44cf67[_0x55f3('0x74')]='',_0x44cf67[_0x55f3('0x72')]={},_0x44cf67['on']=_0x5b36b0,_0x44cf67['addListener']=_0x5b36b0,_0x44cf67[_0x55f3('0x5c8')]=_0x5b36b0,_0x44cf67[_0x55f3('0x5c9')]=_0x5b36b0,_0x44cf67[_0x55f3('0x5ca')]=_0x5b36b0,_0x44cf67[_0x55f3('0x5cb')]=_0x5b36b0,_0x44cf67['emit']=_0x5b36b0,_0x44cf67[_0x55f3('0x5cc')]=_0x5b36b0,_0x44cf67[_0x55f3('0x5cd')]=_0x5b36b0,_0x44cf67[_0x55f3('0x5ce')]=function(_0x44cf67){return[];},_0x44cf67['binding']=function(_0x44cf67){throw new Error(_0x55f3('0x5cf'));},_0x44cf67['cwd']=function(){return'/';},_0x44cf67['chdir']=function(_0x44cf67){throw new Error(_0x55f3('0x5d0'));},_0x44cf67[_0x55f3('0x5d1')]=function(){return 0x0;};},function(_0x40d463,_0x12fbbe,_0x47cd16){'use strict';var _0x49004f,_0x4f4578=_0x541af0(_0x47cd16(0x4)),_0x135cd4=(_0x47cd16(0xb6),_0x47cd16(0xb7),_0x47cd16(0xaa),_0x47cd16(0x17)),_0x4ab88b=_0x541af0(_0x47cd16(0xb8)),_0x3a58b3=_0x541af0(_0x47cd16(0xb9)),_0x2bc8c9=_0x47cd16(0xab),_0xead3b1=_0x47cd16(0x58),_0x41dc8a=_0x541af0(_0x47cd16(0xf3));function _0x541af0(_0x40d463){return _0x40d463&&_0x40d463['__esModule']?_0x40d463:{'default':_0x40d463};}if(_0x47cd16(0x12b),!esmap)throw new Error(_0x55f3('0x5d2'));for(_0x49004f in esmap[_0x55f3('0x5d3')][_0x55f3('0x5d4')]='effectMarker',esmap[_0x55f3('0x5d5')][_0x55f3('0x5d4')]=_0x55f3('0x5d6'),esmap[_0x55f3('0x27e')]={},_0xead3b1[_0x55f3('0x27e')])esmap['ESMarkerType'][_0x49004f]=_0xead3b1[_0x55f3('0x27e')][_0x49004f];esmap['effects']=!0x0,esmap[_0x55f3('0x4e')]={'init':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x35b')],'isExecuteInit':!0x1,'EffectLayer':_0x4ab88b[_0x55f3('0x9')],'EffectMarker':_0x3a58b3['default'],'markers':_0x41dc8a[_0x55f3('0x9')]['markers'],'lines':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5d7')],'buildings':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5d8')],'floors':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5d9')],'ground':_0x41dc8a['default']['ground'],'lights':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5da')],'models':_0x41dc8a[_0x55f3('0x9')]['models'],'routes':_0x41dc8a['default'][_0x55f3('0x5db')],'skybox':_0x41dc8a['default'][_0x55f3('0x5dc')],'water':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5dd')],'video':_0x41dc8a[_0x55f3('0x9')]['video'],'heatMap':_0x41dc8a['default'][_0x55f3('0x5de')],'screenEffect':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5df')],'switchEffectTheme':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5e0')],'switchEffectLight':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5e1')],'clearAll':_0x41dc8a[_0x55f3('0x9')][_0x55f3('0x5e2')],'LutAlpha':_0x2bc8c9['LutAlpha'],'addLayerToMap':function(_0x40d463,_0x12fbbe,_0x47cd16){if(esmap[_0x55f3('0x4e')][_0x55f3('0x5e3')]){if(!(0x0,_0x135cd4['getMapInstance'])()['mapView'][_0x55f3('0x416')])throw new Error(_0x55f3('0x5e4'));var _0x49004f;(0x0,_0x135cd4[_0x55f3('0x2f')])()?((_0x49004f=(0x0,_0x135cd4[_0x55f3('0x2b')])(_0x12fbbe||0x0))[_0x55f3('0x5e5')](_0x47cd16||0x1),(_0x49004f=_0x49004f[_0x55f3('0x5e6')](_0x47cd16||0x1))[_0x55f3('0x5e7')]||(_0x49004f[_0x55f3('0x5e7')]=[]),_0x49004f[_0x55f3('0x5e7')][_0x55f3('0x73')](_0x40d463),_0x40d463[_0x55f3('0x5e8')]=_0x49004f[_0x55f3('0x5e8')],_0x49004f[_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x40d463[_0x55f3('0x5e9')])):((_0x47cd16=(0x0,_0x135cd4['getBuiding'])())[_0x55f3('0x5e5')](_0x12fbbe||0x1),(_0x49004f=_0x47cd16['getFloor'](_0x12fbbe||0x1))[_0x55f3('0x5e7')]||(_0x49004f[_0x55f3('0x5e7')]=[]),_0x49004f[_0x55f3('0x5e7')][_0x55f3('0x73')](_0x40d463),_0x40d463[_0x55f3('0x5e8')]=_0x49004f[_0x55f3('0x5e8')],_0x49004f[_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x40d463[_0x55f3('0x5e9')]));}else console[_0x55f3('0xda')](_0x55f3('0x5ea'));},'addLayer':function(_0x40d463){var _0x12fbbe,_0x47cd16=0x1<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{};if(esmap[_0x55f3('0x4e')][_0x55f3('0x5e3')]){if(!(0x0,_0x135cd4[_0x55f3('0x2c')])()['mapView'][_0x55f3('0x416')])throw new Error(_0x55f3('0x5e4'));(0x0,_0x135cd4['checkIsCityEngine'])()?((_0x12fbbe=(0x0,_0x135cd4[_0x55f3('0x2b')])(_0x47cd16['bid']||0x0))[_0x55f3('0x5e5')](_0x47cd16[_0x55f3('0x40e')]||0x1),(_0x12fbbe=_0x12fbbe['getFloor'](_0x47cd16['fnum']||0x1))[_0x55f3('0x5e7')]||(_0x12fbbe[_0x55f3('0x5e7')]=[]),_0x12fbbe['_effectLayers']['push'](_0x40d463),_0x40d463[_0x55f3('0x5e8')]=_0x12fbbe[_0x55f3('0x5e8')],_0x12fbbe[_0x55f3('0x5e9')]['add'](_0x40d463[_0x55f3('0x5e9')])):((_0x12fbbe=(0x0,_0x135cd4['getBuiding'])()[_0x55f3('0x5e6')](_0x47cd16['fnum']||0x1))[_0x55f3('0x5e7')]||(_0x12fbbe[_0x55f3('0x5e7')]=[]),_0x12fbbe[_0x55f3('0x5e7')]['push'](_0x40d463),_0x40d463[_0x55f3('0x5e8')]=_0x12fbbe[_0x55f3('0x5e8')],_0x12fbbe[_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x40d463[_0x55f3('0x5e9')]));}else console[_0x55f3('0xda')](_0x55f3('0x5ea'));},'removeLayer':function(_0x40d463){_0x40d463[_0x55f3('0x93')]();},'removeLayersByNames':function(_0x40d463){var _0x40d463=this['getLayersByNames'](_0x40d463),_0x12fbbe=!0x0,_0x47cd16=!0x1,_0x49004f=void 0x0;try{for(var _0x4ab88b,_0x3a58b3=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x40d463);!(_0x12fbbe=(_0x4ab88b=_0x3a58b3[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x12fbbe=!0x0){var _0x2bc8c9=_0x4ab88b['value'];this[_0x55f3('0x5eb')](_0x2bc8c9);}}catch(_0x56d7b3){_0x47cd16=!0x0,_0x49004f=_0x56d7b3;}finally{try{!_0x12fbbe&&_0x3a58b3[_0x55f3('0x271')]&&_0x3a58b3[_0x55f3('0x271')]();}finally{if(_0x47cd16)throw _0x49004f;}}},'getLayersByNames':function(_0x40d463){if(Array[_0x55f3('0x1a9')](_0x40d463)&&0x0<_0x40d463[_0x55f3('0xf')]){var _0x12fbbe=[],_0x47cd16=(0x0,_0x135cd4[_0x55f3('0x2c')])();if((0x0,_0x135cd4[_0x55f3('0x2f')])()){var _0x49004f=(0x0,_0x135cd4[_0x55f3('0x2b')])(0x0)[_0x55f3('0x5e6')](0x1),_0x4ab88b=!0x0,_0x3a58b3=!0x1,_0x2bc8c9=void 0x0;try{for(var _0xead3b1,_0x41dc8a=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x49004f[_0x55f3('0x5e7')]);!(_0x4ab88b=(_0xead3b1=_0x41dc8a[_0x55f3('0x85')]())['done']);_0x4ab88b=!0x0){var _0x541af0=_0xead3b1[_0x55f3('0x12')];-0x1<_0x40d463['indexOf'](_0x541af0[_0x55f3('0x8b')])&&_0x12fbbe[_0x55f3('0x73')](_0x541af0);}}catch(_0x419a22){_0x3a58b3=!0x0,_0x2bc8c9=_0x419a22;}finally{try{!_0x4ab88b&&_0x41dc8a[_0x55f3('0x271')]&&_0x41dc8a['return']();}finally{if(_0x3a58b3)throw _0x2bc8c9;}}for(var _0x331db0=_0x47cd16['buildingList'],_0x44c597=0x0;_0x44c597<_0x331db0[_0x55f3('0xf')];_0x44c597++){var _0x1c053f=!0x0,_0x5e4b29=!0x1,_0x4a73bd=void 0x0;try{for(var _0x3baf00,_0x1aaac3=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x331db0[_0x44c597][_0x55f3('0x5ec')]);!(_0x1c053f=(_0x3baf00=_0x1aaac3[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1c053f=!0x0){var _0x5d6a48=_0x3baf00['value'],_0x572675=_0x331db0[_0x44c597][_0x55f3('0x5e6')](_0x5d6a48);if(_0x572675[_0x55f3('0x5e7')]){var _0x3dd2ec=!0x0,_0x4b31d3=!0x1,_0x187ddb=void 0x0;try{for(var _0x169dab,_0xc8dc70=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x572675[_0x55f3('0x5e7')]);!(_0x3dd2ec=(_0x169dab=_0xc8dc70[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3dd2ec=!0x0){var _0x2edc8a=_0x169dab['value'];-0x1<_0x40d463[_0x55f3('0x4b')](_0x2edc8a[_0x55f3('0x8b')])&&_0x12fbbe['push'](_0x2edc8a);}}catch(_0x5bb431){_0x4b31d3=!0x0,_0x187ddb=_0x5bb431;}finally{try{!_0x3dd2ec&&_0xc8dc70[_0x55f3('0x271')]&&_0xc8dc70[_0x55f3('0x271')]();}finally{if(_0x4b31d3)throw _0x187ddb;}}}}}catch(_0x5e0bba){_0x5e4b29=!0x0,_0x4a73bd=_0x5e0bba;}finally{try{!_0x1c053f&&_0x1aaac3[_0x55f3('0x271')]&&_0x1aaac3[_0x55f3('0x271')]();}finally{if(_0x5e4b29)throw _0x4a73bd;}}}}else{var _0x32e4fa=(0x0,_0x135cd4[_0x55f3('0x2b')])(),_0x2098fa=!0x0,_0x49004f=!0x1,_0x3a58b3=void 0x0;try{for(var _0x5e4576,_0x53dacd=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x32e4fa['floorNums']);!(_0x2098fa=(_0x5e4576=_0x53dacd['next']())[_0x55f3('0x269')]);_0x2098fa=!0x0){var _0x25621a=_0x5e4576[_0x55f3('0x12')],_0x12322f=_0x32e4fa[_0x55f3('0x5e6')](_0x25621a);if(_0x12322f[_0x55f3('0x5e7')]){var _0x3ab1bd=!0x0,_0x415cb3=!0x1,_0x187453=void 0x0;try{for(var _0x23df9d,_0x27f53c=(0x0,_0x4f4578[_0x55f3('0x9')])(_0x12322f[_0x55f3('0x5e7')]);!(_0x3ab1bd=(_0x23df9d=_0x27f53c['next']())[_0x55f3('0x269')]);_0x3ab1bd=!0x0){var _0x5a53c7=_0x23df9d['value'];-0x1<_0x40d463[_0x55f3('0x4b')](_0x5a53c7[_0x55f3('0x8b')])&&_0x12fbbe[_0x55f3('0x73')](_0x5a53c7);}}catch(_0x4e901b){_0x415cb3=!0x0,_0x187453=_0x4e901b;}finally{try{!_0x3ab1bd&&_0x27f53c[_0x55f3('0x271')]&&_0x27f53c['return']();}finally{if(_0x415cb3)throw _0x187453;}}}}}catch(_0x3953d4){_0x49004f=!0x0,_0x3a58b3=_0x3953d4;}finally{try{!_0x2098fa&&_0x53dacd[_0x55f3('0x271')]&&_0x53dacd[_0x55f3('0x271')]();}finally{if(_0x49004f)throw _0x3a58b3;}}}return _0x12fbbe;}}};},function(_0x13ce28,_0x1e14ae,_0x15a366){'use strict';var _0x30a154,_0x758736,_0x2e10ea,_0xdcce9b=_0x391642(_0x15a366(0x47)),_0x3cd79f=_0x391642(_0x15a366(0x21));function _0x391642(_0x13ce28){return _0x13ce28&&_0x13ce28['__esModule']?_0x13ce28:{'default':_0x13ce28};}function _0x2fd0ca(_0x13ce28){if(this instanceof _0x2fd0ca)throw new TypeError(_0x55f3('0x5ed'));var _0x13ce28=void 0x0===_0x13ce28?void 0x0:String(_0x13ce28),_0x1e14ae=(0x0,_0x3cd79f[_0x55f3('0x9')])({'toString':function(){return this[_0x55f3('0x5ee')];},'valueOf':function(){return this;}});return(0x0,_0xdcce9b['default'])(_0x1e14ae,{'__Description__':{'value':_0x13ce28,'writable':!0x1,'enumerable':!0x1,'configurable':!0x1},'__Name__':{'value':_0x758736(_0x13ce28),'writable':!0x1,'enumerable':!0x1,'configurable':!0x1}}),_0x1e14ae;}_0x15a366=window,_0x758736=function(_0x13ce28){return'@@'+_0x13ce28+'_'+ ++_0x30a154;},_0x2e10ea={},(_0x30a154=0x0,_0xdcce9b[_0x55f3('0x9')])(_0x2fd0ca,{'for':{'value':function(_0x13ce28){_0x13ce28=void 0x0===_0x13ce28?void 0x0:String(_0x13ce28);return _0x2e10ea[_0x13ce28]||(_0x2e10ea[_0x13ce28]=_0x2fd0ca(_0x13ce28));},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0},'keyFor':{'value':function(_0x13ce28){for(var _0x1e14ae in _0x2e10ea)if(_0x2e10ea[_0x1e14ae]===_0x13ce28)return _0x1e14ae;},'writable':!0x0,'enumerable':!0x1,'configurable':!0x0}}),window[_0x55f3('0x1b')]||(_0x15a366[_0x55f3('0x1b')]=_0x2fd0ca);},function(_0x3a60a9,_0x34aaa3,_0x40efd4){'use strict';Array[_0x55f3('0x15')][_0x55f3('0x4d6')]||Object[_0x55f3('0x4')](Array[_0x55f3('0x15')],_0x55f3('0x4d6'),{'value':function(_0x3a60a9){if(null==this)throw new TypeError(_0x55f3('0x5ef'));for(var _0x34aaa3=Object(this),_0x40efd4=_0x34aaa3[_0x55f3('0xf')]>>>0x0,_0x3bc852=arguments[0x1]>>0x0,_0x37789e=_0x3bc852<0x0?Math[_0x55f3('0xf2')](_0x40efd4+_0x3bc852,0x0):Math[_0x55f3('0x8c')](_0x3bc852,_0x40efd4),_0x3bc852=arguments[0x2],_0x3bc852=void 0x0===_0x3bc852?_0x40efd4:_0x3bc852>>0x0,_0x110ba5=_0x3bc852<0x0?Math[_0x55f3('0xf2')](_0x40efd4+_0x3bc852,0x0):Math[_0x55f3('0x8c')](_0x3bc852,_0x40efd4);_0x37789e<_0x110ba5;)_0x34aaa3[_0x37789e]=_0x3a60a9,_0x37789e++;return _0x34aaa3;}});},function(_0xc8ae83,_0x13b51b,_0x29ddc9){'use strict';Object[_0x55f3('0x4')](_0x13b51b,_0x55f3('0x7'),{'value':!0x0});var _0x52cd95=_0x101a54(_0x29ddc9(0x4)),_0x5d6260=_0x101a54(_0x29ddc9(0x0)),_0x232158=_0x101a54(_0x29ddc9(0x1)),_0x5c846c=_0x101a54(_0x29ddc9(0x36));function _0x101a54(_0xc8ae83){return _0xc8ae83&&_0xc8ae83[_0x55f3('0x7')]?_0xc8ae83:{'default':_0xc8ae83};}function _0x521fac(_0xc8ae83,_0x13b51b){(0x0,_0x5d6260['default'])(this,_0x521fac),this['o3d_']=new THREE[(_0x55f3('0x33b'))](),(this['o3d_']['datas_']=this)['name']=_0xc8ae83,this[_0x55f3('0xeb')]=_0x13b51b,this[_0x55f3('0x5e8')]=0x1,this[_0x55f3('0x322')]=[];}(0x0,_0x232158['default'])(_0x521fac,[{'key':_0x55f3('0x5f0'),'value':function(_0xc8ae83){_0xc8ae83[_0x55f3('0x5e9')]&&(this['o3d_'][_0x55f3('0x1c3')](_0xc8ae83[_0x55f3('0x5e9')]),_0xc8ae83[_0x55f3('0x2fa')]({'type':_0x55f3('0x41f')}),this['children'][_0x55f3('0x73')](_0xc8ae83),_0xc8ae83[_0x55f3('0x5e8')]=this[_0x55f3('0x5e8')],esmap[_0x55f3('0x4e')][_0x55f3('0x5f1')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x5f1')][_0x55f3('0x1c3')](_0xc8ae83));}},{'key':_0x55f3('0x96'),'value':function(_0xc8ae83){_0xc8ae83[_0x55f3('0x5e9')]&&(esmap['ESEffectTool']['markers']&&esmap['ESEffectTool']['markers'][_0x55f3('0x96')](_0xc8ae83),_0xc8ae83[_0x55f3('0x93')]());}},{'key':_0x55f3('0x5f2'),'value':function(){if(0x0!==this[_0x55f3('0x322')]['length']){var _0xc8ae83=!0x0,_0x13b51b=!0x1,_0x29ddc9=void 0x0;try{for(var _0x5d6260,_0x232158=(0x0,_0x52cd95['default'])(this[_0x55f3('0x322')]);!(_0xc8ae83=(_0x5d6260=_0x232158[_0x55f3('0x85')]())['done']);_0xc8ae83=!0x0){var _0x5c846c=_0x5d6260['value'];esmap[_0x55f3('0x4e')][_0x55f3('0x5f1')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x5f1')]['remove'](_0x5c846c),_0x5c846c[_0x55f3('0x93')](),_0x5c846c=null;}}catch(_0xf26077){_0x13b51b=!0x0,_0x29ddc9=_0xf26077;}finally{try{!_0xc8ae83&&_0x232158[_0x55f3('0x271')]&&_0x232158['return']();}finally{if(_0x13b51b)throw _0x29ddc9;}}this[_0x55f3('0x322')][_0x55f3('0xf')]=0x0;}}},{'key':_0x55f3('0x93'),'value':function(){this['removeAll'](),_0x5c846c[_0x55f3('0x9')][_0x55f3('0x32e')](this[_0x55f3('0x5e9')]);}},{'key':_0x55f3('0x338'),'set':function(_0xc8ae83){this['o3d_']['visible']=_0xc8ae83;},'get':function(){return this['o3d_'][_0x55f3('0x338')];}}]),_0x13b51b[_0x55f3('0x9')]=_0x521fac;},function(_0x48fc6d,_0x1be54e,_0x481589){'use strict';Object['defineProperty'](_0x1be54e,_0x55f3('0x7'),{'value':!0x0});var _0x283082=_0x336eb7(_0x481589(0x2c)),_0x117130=_0x336eb7(_0x481589(0x22)),_0x547216=_0x336eb7(_0x481589(0x28)),_0x2e6cbd=_0x336eb7(_0x481589(0x0)),_0x286703=_0x336eb7(_0x481589(0x1)),_0x501a04=_0x336eb7(_0x481589(0x29)),_0x5704c5=_0x336eb7(_0x481589(0x2a)),_0x158cbe=_0x336eb7(_0x481589(0x88)),_0x1db17d=_0x336eb7(_0x481589(0x4)),_0x100f24=_0x336eb7(_0x481589(0x41)),_0x12637c=_0x481589(0x58),_0xb56cef=function(_0x48fc6d){if(_0x48fc6d&&_0x48fc6d['__esModule'])return _0x48fc6d;var _0x1be54e={};if(null!=_0x48fc6d)for(var _0x481589 in _0x48fc6d)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x48fc6d,_0x481589)&&(_0x1be54e[_0x481589]=_0x48fc6d[_0x481589]);return _0x1be54e[_0x55f3('0x9')]=_0x48fc6d,_0x1be54e;}(_0x481589(0x3d)),_0x463b0c=_0x481589(0xf1),_0x49e965=_0x481589(0x2b),_0x63287b=_0x336eb7(_0x481589(0x55)),_0x575605=_0x336eb7(_0x481589(0x36)),_0x1c044e=_0x481589(0x17),_0x48620b=_0x336eb7(_0x481589(0xf2));function _0x336eb7(_0x48fc6d){return _0x48fc6d&&_0x48fc6d[_0x55f3('0x7')]?_0x48fc6d:{'default':_0x48fc6d};}var _0x69224f=(0x0,_0x100f24[_0x55f3('0x9')])(_0x55f3('0x5f3')),_0x29b9c3=new _0x63287b[(_0x55f3('0x9'))](),_0x1b7ce4=((0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589={},_0x12637c[_0x55f3('0x279')][_0x55f3('0x29a')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0x29a'))]({'colorStr':_0x48fc6d['color'],'floatOffset':_0x48fc6d[_0x55f3('0x5f4')],'speed':_0x48fc6d['speed']});return _0x48fc6d['x']&&_0x48fc6d['y']&&_0x1be54e[_0x55f3('0x8')]({'radius':_0x48fc6d[_0x55f3('0x21e')]}),_0x45b97b(_0x48fc6d,_0x1be54e[_0x55f3('0x319')]),_0x1be54e;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c['MarkerFuncName']['CylinderFloatMarker'],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xc0'))](),_0x481589=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0xc0')][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3['load'](_0x481589);return _0x1be54e[_0x55f3('0x8')]({'texture':_0x481589,'radius':_0x48fc6d['radius'],'height':_0x48fc6d[_0x55f3('0x5f7')],'colorStr':_0x48fc6d[_0x55f3('0x220')],'animateOpts':{'centerHeight':_0x48fc6d[_0x55f3('0x32d')],'swingHeight':_0x48fc6d[_0x55f3('0x5f8')],'speed':0.02}}),!esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x55d')]&&_0x48fc6d[_0x55f3('0x5f9')]&&(_0x1be54e[_0x55f3('0x3f')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),_0x45b97b(_0x48fc6d,_0x1be54e[_0x55f3('0x319')]),_0x1be54e;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0xbf')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xbf'))](),_0x481589=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')]['CircleRotateYMarker'][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3['load'](_0x481589),_0x117130=(0x0,_0x1c044e['getMapInstance'])();return _0x481589[_0x55f3('0x4c2')]=_0x117130[_0x55f3('0x41b')][_0x55f3('0x4d2')]['capabilities'][_0x55f3('0x4d3')](),_0x1be54e['create']({'colorStr':_0x48fc6d['color'],'texture':_0x481589,'radius':_0x48fc6d[_0x55f3('0x21e')],'speed':_0x48fc6d[_0x55f3('0x337')],'textureAngle':_0x48fc6d[_0x55f3('0x1ec')],'opacity':_0x48fc6d[_0x55f3('0x221')]}),_0x48fc6d[_0x55f3('0x5fa')]&&(_0x1be54e['material'][_0x55f3('0x1d8')]=!0x1),_0x48fc6d[_0x55f3('0x318')]&&(_0x1be54e[_0x55f3('0x319')][_0x55f3('0x318')]=_0x48fc6d['renderOrder']),!esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]&&_0x48fc6d[_0x55f3('0x5f9')]&&(_0x1be54e[_0x55f3('0x3f')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),_0x48fc6d[_0x55f3('0x5fb')]?!0x0===_0x48fc6d[_0x55f3('0x5fb')]&&_0x48fc6d['isShine']&&(_0x1be54e[_0x55f3('0x3f')]['blending']=THREE['AdditiveBlending']):_0x45b97b(_0x48fc6d,_0x1be54e['object3d']),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0xbe')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')]['PointsLine'][_0x55f3('0x1c6')])),_0x481589=new _0xb56cef[(_0x55f3('0xbe'))]({'gapDistance':_0x48fc6d[_0x55f3('0x504')],'activeNum':_0x48fc6d[_0x55f3('0x5fc')],'pointSize':_0x48fc6d['pointSize'],'colorStr':_0x48fc6d[_0x55f3('0x220')]}),_0x1be54e=_0x481589[_0x55f3('0x8')]({'texture':_0x1be54e,'points':_0x48fc6d[_0x55f3('0x507')]}),_0x48fc6d=(_0x45b97b(_0x48fc6d,_0x1be54e),_0x48fc6d[_0x55f3('0x507')][0x0]);return(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x1be54e,_0x48fc6d,_0x48fc6d[_0x55f3('0x32d')]),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0xbd')],function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x48fc6d['imgUrl']||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0xbd')][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3[_0x55f3('0x26f')](_0x481589),_0x1be54e=new _0xb56cef[(_0x55f3('0xbd'))]({'pointSize':_0x48fc6d[_0x55f3('0x505')],'colorStr':_0x48fc6d[_0x55f3('0x220')],'animateType':_0x48fc6d[_0x55f3('0x5fd')],'timer':_0x1be54e[_0x55f3('0x2eb')],'period':_0x48fc6d[_0x55f3('0x5fe')],'colorList':_0x48fc6d['colorList']}),_0x481589=_0x1be54e[_0x55f3('0x8')]({'texture':_0x481589,'points':_0x48fc6d[_0x55f3('0x507')]}),_0x117130=(_0x48fc6d['seeThrough']&&(_0x1be54e['material'][_0x55f3('0x1d8')]=!0x1),_0x48fc6d[_0x55f3('0x5ff')]&&(_0x1be54e['material'][_0x55f3('0x303')]=!0x0),_0x48fc6d[_0x55f3('0x318')]&&(_0x481589[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]),_0x45b97b(_0x48fc6d,_0x481589),_0x48fc6d[_0x55f3('0x507')][0x0]),_0x48fc6d=void 0x0!==_0x48fc6d['height']?_0x48fc6d[_0x55f3('0x32d')]:0.1;return(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x481589,_0x117130,_0x48fc6d),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x29b')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x29b')][_0x55f3('0x1c6')])),_0x1be54e=new _0xb56cef['CircleRippleEffect']({'colorStr':_0x48fc6d['color'],'isSpread':_0x48fc6d[_0x55f3('0x51b')],'radius':_0x48fc6d[_0x55f3('0x21e')],'texture':_0x1be54e,'speed':_0x48fc6d[_0x55f3('0x337')]}),_0x481589=(_0x48fc6d['seeThrough']&&(_0x1be54e[_0x55f3('0x3f')]['depthTest']=!0x1),_0x1be54e[_0x55f3('0x3f')][_0x55f3('0x1d7')]=!0x1,_0x48fc6d[_0x55f3('0x221')]&&(_0x1be54e['material'][_0x55f3('0x221')]=_0x48fc6d[_0x55f3('0x221')]),_0x1be54e[_0x55f3('0x8')]());return _0x481589[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]||0x4c,!esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]&&_0x48fc6d[_0x55f3('0x5f9')]&&(_0x1be54e[_0x55f3('0x3f')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),_0x45b97b(_0x48fc6d,_0x481589),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x600')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x600')][_0x55f3('0x1c6')])),_0x1be54e=((0x0,_0x1c044e[_0x55f3('0x2f')])()&&(_0x48fc6d[_0x55f3('0x601')]=!0x0),new _0xb56cef[(_0x55f3('0xb9'))]({'texture':_0x1be54e,'radius':_0x48fc6d['radius'],'height':_0x48fc6d[_0x55f3('0x602')],'colorStr':_0x48fc6d[_0x55f3('0x220')],'isCilpGround':_0x48fc6d[_0x55f3('0x601')],'clipGroundY':_0x48fc6d[_0x55f3('0x603')]}));return _0x1be54e[_0x55f3('0x8')](),esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]&&_0x1be54e[_0x55f3('0x3f')]['color'][_0x55f3('0x4fe')](0x0,0x0,0.2),!esmap['ESEffectTool'][_0x55f3('0x46')]['isOpenScreenEffect']&&_0x48fc6d['isShine']&&(_0x1be54e['material']['blending']=THREE['AdditiveBlending']),_0x45b97b(_0x48fc6d,_0x1be54e[_0x55f3('0x604')]),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x605')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3['load']((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c['MARKER_ASSETS'][_0x55f3('0x605')]['texture'])),_0x481589=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x605')][_0x55f3('0x606')])),_0x117130=((0x0,_0x1c044e[_0x55f3('0x2f')])()&&(_0x48fc6d[_0x55f3('0x601')]=!0x0),new _0xb56cef['ConeSpreadEffect']({'colorStr':_0x48fc6d[_0x55f3('0x220')]}));return _0x117130[_0x55f3('0x8')]({'texture':_0x1be54e,'alphaTexture':_0x481589,'radius':_0x48fc6d[_0x55f3('0x21e')],'angle':_0x48fc6d['angle'],'depth':_0x48fc6d[_0x55f3('0x607')]}),esmap[_0x55f3('0x4e')][_0x55f3('0x46')]['isOpenScreenEffect'],!esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x55d')]&&_0x48fc6d[_0x55f3('0x5f9')]&&(_0x117130['material'][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),_0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x29f')],function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x48fc6d['imgUrl']||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x29f')][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3[_0x55f3('0x26f')](_0x481589),_0x117130=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x29f')][_0x55f3('0x606')])),_0x286703=new _0xb56cef[(_0x55f3('0xb7'))]({'camera':_0x1be54e[_0x55f3('0x41b')][_0x55f3('0x306')],'controls':_0x1be54e[_0x55f3('0x389')],'colorStr':_0x48fc6d['color'],'speed':_0x48fc6d[_0x55f3('0x337')],'offsetHeight':_0x48fc6d[_0x55f3('0x521')],'texture':_0x481589,'alphaTex':_0x117130});if(_0x48fc6d[_0x55f3('0x5f5')]||(_0x48fc6d[_0x55f3('0x32d')]=_0x48fc6d['width']/(0x1/0x8)),_0x48fc6d['isRandomMarker'])for(var _0x5704c5=0x0;_0x5704c5<_0x48fc6d[_0x55f3('0x608')];_0x5704c5++){var _0x547216=_0x286703[_0x55f3('0x8')](_0x48fc6d);(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x547216,{'x':-Math[_0x55f3('0x60')]()*_0x48fc6d[_0x55f3('0x4a4')]+_0x48fc6d[_0x55f3('0x4a4')]/0x2+_0x48fc6d[_0x55f3('0x609')]['x'],'y':-Math['random']()*_0x48fc6d[_0x55f3('0x4a4')]+_0x48fc6d[_0x55f3('0x4a4')]/0x2+_0x48fc6d[_0x55f3('0x609')]['y']},-Math[_0x55f3('0x60')]()*_0x48fc6d[_0x55f3('0x4a4')]),_0x48fc6d[_0x55f3('0x318')]&&(_0x547216[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]);}else{var _0x2e6cbd=!0x0,_0x1be54e=!0x1,_0x481589=void 0x0;try{for(var _0x501a04,_0x158cbe=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x48fc6d[_0x55f3('0x507')]);!(_0x2e6cbd=(_0x501a04=_0x158cbe[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2e6cbd=!0x0){var _0x100f24=_0x501a04[_0x55f3('0x12')],_0x12637c=_0x286703[_0x55f3('0x8')](_0x48fc6d),_0x49e965=-Math[_0x55f3('0x60')]()*_0x48fc6d['extentRadius'];_0x45b97b(_0x48fc6d,_0x12637c),(0x0,_0x1c044e['setPositionFromMc'])(_0x12637c,_0x100f24,_0x49e965),_0x48fc6d[_0x55f3('0x318')]&&(_0x12637c[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]);}}catch(_0x1a6982){_0x1be54e=!0x0,_0x481589=_0x1a6982;}finally{try{!_0x2e6cbd&&_0x158cbe[_0x55f3('0x271')]&&_0x158cbe[_0x55f3('0x271')]();}finally{if(_0x1be54e)throw _0x481589;}}}return _0x286703[_0x55f3('0x532')](),_0x286703;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a0')],function(_0x48fc6d){var _0x1be54e=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a0')][_0x55f3('0x1c6')]),_0x1be54e=_0x29b9c3[_0x55f3('0x26f')](_0x1be54e,!0x0),_0x481589=new _0xb56cef[(_0x55f3('0xb6'))]({'radius':_0x48fc6d[_0x55f3('0x21e')],'isShowConeScan':!0x1});return _0x481589['create']({'texture':_0x1be54e,'colorStr':_0x48fc6d[_0x55f3('0x220')]}),_0x48fc6d[_0x55f3('0x221')]&&(_0x481589['material'][_0x55f3('0x221')]=_0x48fc6d[_0x55f3('0x221')]),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a1')],function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c['MARKER_ASSETS']['ExtentWallMarker']['texture']),_0x481589=_0x48fc6d['scrollImgUrl']||_0x481589,_0x481589=_0x29b9c3[_0x55f3('0x26f')](_0x481589,!0x0),_0x117130=(_0x481589[_0x55f3('0x4c2')]=_0x1be54e[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x4d1')]['getMaxAnisotropy'](),new _0xb56cef[(_0x55f3('0xb5'))]({'texture':_0x481589,'colorStr':_0x48fc6d[_0x55f3('0x220')],'focusColorStr':_0x48fc6d[_0x55f3('0x60a')],'scale':_0x48fc6d['wallHeight'],'isTransparentLight':_0x48fc6d[_0x55f3('0x60b')],'isScrollX':void 0x0!==_0x48fc6d['isScrollX']?_0x48fc6d[_0x55f3('0x60c')]:!!_0x48fc6d[_0x55f3('0x60d')],'scrollXRepeat':_0x48fc6d[_0x55f3('0x60e')],'isClockWise':_0x48fc6d[_0x55f3('0x60f')],'speed':void 0x0===_0x48fc6d[_0x55f3('0x337')]?0x1:_0x48fc6d[_0x55f3('0x337')],'isHideBackWall':_0x48fc6d[_0x55f3('0x610')],'isSetTopAlphaTrans':_0x48fc6d[_0x55f3('0x611')]})),_0x286703=(_0x48fc6d[_0x55f3('0x5fa')]&&(_0x117130[_0x55f3('0x612')][_0x55f3('0x1d8')]=!0x1),!0x1===_0x48fc6d[_0x55f3('0x611')]&&(_0x117130[_0x55f3('0x612')][_0x55f3('0x1d7')]=!0x0),_0x48fc6d['height']=_0x48fc6d[_0x55f3('0x32d')]||0x0,!0x0),_0x1be54e=!0x1,_0x481589=void 0x0;try{for(var _0x5704c5,_0x547216=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x48fc6d[_0x55f3('0x613')]);!(_0x286703=(_0x5704c5=_0x547216[_0x55f3('0x85')]())['done']);_0x286703=!0x0){var _0x2e6cbd=_0x5704c5['value'],_0x501a04=[],_0x158cbe=_0x2e6cbd[_0x55f3('0x507')][0x0],_0x100f24=(_0x158cbe[_0x55f3('0xf5')]=_0x158cbe[_0x55f3('0xf5')]||0x0,!0x0),_0x12637c=!0x1,_0x49e965=void 0x0;try{for(var _0x63287b,_0x575605=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x2e6cbd[_0x55f3('0x507')]);!(_0x100f24=(_0x63287b=_0x575605[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x100f24=!0x0){var _0x283082=_0x63287b[_0x55f3('0x12')];_0x501a04[_0x55f3('0x73')]({'x':-_0x283082['x'],'y':_0x283082[_0x55f3('0xf5')]||0x0,'z':_0x283082['y']});}}catch(_0xb09f64){_0x12637c=!0x0,_0x49e965=_0xb09f64;}finally{try{!_0x100f24&&_0x575605[_0x55f3('0x271')]&&_0x575605[_0x55f3('0x271')]();}finally{if(_0x12637c)throw _0x49e965;}}var _0x48620b=_0x117130['addWall']({'points':_0x501a04,'colorStr':_0x2e6cbd[_0x55f3('0x220')],'extentId':_0x2e6cbd['id'],'wallHeight':_0x48fc6d[_0x55f3('0x614')],'isNoClose':_0x48fc6d[_0x55f3('0x615')]});_0x45b97b(_0x48fc6d,_0x48620b),(0x0,_0x1c044e['setPositionFromMc'])(_0x48620b,_0x158cbe,_0x158cbe['offset']+_0x48fc6d[_0x55f3('0x32d')]),_0x48fc6d[_0x55f3('0x318')]&&(_0x48620b[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]);}}catch(_0x3c7f85){_0x1be54e=!0x0,_0x481589=_0x3c7f85;}finally{try{!_0x286703&&_0x547216['return']&&_0x547216[_0x55f3('0x271')]();}finally{if(_0x1be54e)throw _0x481589;}}return _0x117130[_0x55f3('0x613')]=_0x48fc6d['extentList'],_0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c['MarkerFuncName']['FireSmokeMarker'],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a2')][_0x55f3('0x616')])),_0x481589=_0x29b9c3['load']((0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')]['FireSmokeMarker']['outTexture'])),_0x117130=new _0xb56cef[(_0x55f3('0xb1'))]({'scale':_0x48fc6d[_0x55f3('0x1d9')]}),_0x286703=null;return _0x48fc6d[_0x55f3('0x617')]&&(_0x286703={'directionAngle':_0x48fc6d[_0x55f3('0x617')][_0x55f3('0x618')]-_0x48fc6d[_0x55f3('0x1ec')],'pitchAngle':_0x48fc6d[_0x55f3('0x617')][_0x55f3('0x37e')],'spread':_0x48fc6d[_0x55f3('0x617')][_0x55f3('0x427')]}),_0x117130[_0x55f3('0x8')]({'innerTex':_0x1be54e,'outTex':_0x481589,'spreadFactor':_0x48fc6d[_0x55f3('0x55e')],'vectorSpread':_0x286703,'angle':_0x48fc6d[_0x55f3('0x1ec')],'depthTest':!_0x48fc6d[_0x55f3('0x5fa')],'isOpenScreenEffect':esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a4')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a4')][_0x55f3('0x1c6')])),_0x481589=new _0xb56cef[(_0x55f3('0xcc'))]({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589[_0x55f3('0x8')]({'tex':_0x1be54e,'color':_0x48fc6d[_0x55f3('0x220')],'isOpenScreenEffect':esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x55d')]}),_0x481589;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a3')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c['MARKER_ASSETS'][_0x55f3('0x2a3')]['texture'])),_0x481589=new _0xb56cef[(_0x55f3('0xb0'))]({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589[_0x55f3('0x8')]({'tex':_0x1be54e,'colorStr':_0x48fc6d[_0x55f3('0x220')],'intensity':_0x48fc6d[_0x55f3('0x427')],'spread':_0x48fc6d[_0x55f3('0x1ed')],'isOpenScreenEffect':esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x48fc6d[_0x55f3('0x1ec')]&&(_0x481589[_0x55f3('0x319')][_0x55f3('0x1ef')]['y']=THREE[_0x55f3('0x18')]['degToRad'](_0x48fc6d['angle'])),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x619')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3['load']((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c['MARKER_ASSETS']['SmokeMarker'][_0x55f3('0x1c6')])),_0x481589=new _0xb56cef['SmokeSpread']({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589[_0x55f3('0x8')]({'tex':_0x1be54e,'color':_0x48fc6d['color'],'intensity':_0x48fc6d[_0x55f3('0x427')],'spread':_0x48fc6d[_0x55f3('0x1ed')],'vectorSpread':{'directionAngle':_0x48fc6d[_0x55f3('0x618')],'pitchAngle':_0x48fc6d['pitchAngle']},'depthTest':void 0x0!==_0x48fc6d['seeThrough']&&!_0x48fc6d[_0x55f3('0x5fa')],'isOpenScreenEffect':esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x48fc6d[_0x55f3('0x1ec')]&&(_0x481589[_0x55f3('0x319')]['rotation']['y']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x48fc6d[_0x55f3('0x1ec')])),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a5')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a5')][_0x55f3('0x61a')])),_0x481589=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c['MARKER_ASSETS'][_0x55f3('0x2a5')][_0x55f3('0x61b')])),_0x117130=new _0xb56cef[(_0x55f3('0xad'))]({'scale':_0x48fc6d[_0x55f3('0x1d9')],'maxAge':_0x48fc6d[_0x55f3('0x38f')]});return _0x117130[_0x55f3('0x8')]({'smokeTex':_0x1be54e,'explosionTex':_0x481589,'isOpenScreenEffect':esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x48fc6d[_0x55f3('0x1ec')]&&(_0x117130[_0x55f3('0x319')]['rotation']['y']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x48fc6d['angle'])),_0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a6')],function(_0x48fc6d){var _0x1be54e=_0x29b9c3[_0x55f3('0x26f')]((0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a6')][_0x55f3('0x1c6')])),_0x481589=new _0xb56cef['WaterSpread']({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589[_0x55f3('0x8')]({'texture':_0x1be54e,'dirAngle':_0x48fc6d[_0x55f3('0x61c')],'pitchAngle':_0x48fc6d[_0x55f3('0x37e')],'isOpenScreenEffect':esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')]['FloatPointsMarker'],function(_0x48fc6d){var _0x1be54e=_0x48fc6d['imgUrl']||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a7')]['texture']),_0x1be54e=_0x29b9c3[_0x55f3('0x26f')](_0x1be54e),_0x481589=new _0xb56cef[(_0x55f3('0xae'))]({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589['create']({'texture':_0x1be54e,'color':_0x48fc6d[_0x55f3('0x220')],'isSpreadColor':_0x48fc6d[_0x55f3('0x61d')],'spread':_0x48fc6d['radius'],'extentHeight':_0x48fc6d[_0x55f3('0x61e')],'pointNum':_0x48fc6d['pointNum'],'isShine':_0x48fc6d[_0x55f3('0x5f9')],'fixedSize':_0x48fc6d[_0x55f3('0x5ff')],'speed':_0x48fc6d[_0x55f3('0x337')]}),_0x48fc6d[_0x55f3('0x318')]&&(_0x481589[_0x55f3('0x559')][_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a8')],function(_0x48fc6d){var _0x1be54e=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a7')][_0x55f3('0x1c6')]),_0x1be54e=_0x29b9c3[_0x55f3('0x26f')](_0x1be54e),_0x481589=new _0xb56cef['DeviceWind']({'scale':_0x48fc6d[_0x55f3('0x1d9')]});return _0x481589['create']({'texture':_0x1be54e,'directionAngle':_0x48fc6d[_0x55f3('0x618')],'extentWidth':_0x48fc6d[_0x55f3('0x61f')],'extentHeight':_0x48fc6d['extentHeight'],'speed':_0x48fc6d[_0x55f3('0x337')],'isOpenScreenEffect':esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x55d')]}),_0x48fc6d[_0x55f3('0x318')]&&(_0x481589[_0x55f3('0x559')][_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c['MarkerFuncName'][_0x55f3('0x2a9')],function(_0x48fc6d){var _0x1be54e=_0x48fc6d['imgUrl']||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x2a7')][_0x55f3('0x1c6')]),_0x1be54e=_0x29b9c3[_0x55f3('0x26f')](_0x1be54e),_0x481589=new _0xb56cef[(_0x55f3('0xac'))]();return _0x481589[_0x55f3('0x8')]({'texture':_0x1be54e,'size':_0x48fc6d[_0x55f3('0xd2')],'radius':_0x48fc6d['radius'],'intensity':_0x48fc6d[_0x55f3('0x427')],'isClipHeight':_0x48fc6d['isClipHeight'],'clipHeight':_0x48fc6d['clipHeight'],'isOpenScreenEffect':esmap['ESEffectTool'][_0x55f3('0x46')]['isOpenScreenEffect']}),_0x48fc6d[_0x55f3('0x318')]&&(_0x481589[_0x55f3('0x559')]['renderOrder']=_0x48fc6d['renderOrder']),_0x481589;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c['MarkerFuncName'][_0x55f3('0x2b0')],function(_0x48fc6d){var _0x1be54e,_0x481589,_0x117130;if(_0x48fc6d[_0x55f3('0x5f5')])return _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x29b9c3[_0x55f3('0x26f')](_0x48fc6d['imgUrl']),(_0x117130=new _0xb56cef['SpriteUvAnimation']({}))['create']({'timer':_0x1be54e[_0x55f3('0x2eb')],'texture':_0x481589,'scale':_0x48fc6d[_0x55f3('0x1d9')],'uvConfigs':{'imageWidth':_0x48fc6d[_0x55f3('0x620')][_0x55f3('0x2ec')],'imageHeight':_0x48fc6d['imgStyle'][_0x55f3('0x2e5')],'xCount':_0x48fc6d['imgStyle'][_0x55f3('0x621')],'yCount':_0x48fc6d[_0x55f3('0x620')][_0x55f3('0x622')],'xStart':_0x48fc6d[_0x55f3('0x620')][_0x55f3('0x623')],'yStart':_0x48fc6d[_0x55f3('0x620')][_0x55f3('0x624')],'fps':_0x48fc6d['imgStyle'][_0x55f3('0x2e8')]},'loop':_0x48fc6d[_0x55f3('0x1ce')],'fixedSize':_0x48fc6d[_0x55f3('0x5ff')]}),_0x48fc6d['seeThrough']&&(_0x117130[_0x55f3('0x3f')]['depthTest']=!0x1),_0x117130[_0x55f3('0x625')][_0x55f3('0x8b')]=_0x48fc6d[_0x55f3('0x8b')],_0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x626')],function(_0x48fc6d){for(var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e[_0x55f3('0x29')])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0x626')][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3['load'](_0x481589),_0x481589=new _0xb56cef[(_0x55f3('0xaa'))]({'colorStr':_0x48fc6d['color'],'repeat':_0x48fc6d[_0x55f3('0x627')],'texture':_0x481589}),_0x117130=[],_0x286703=0x0,_0x5704c5=_0x48fc6d['points']['length'];_0x286703<_0x5704c5;_0x286703++){var _0x547216=_0x1be54e['coordMapToThree']({'x':_0x48fc6d[_0x55f3('0x507')][_0x286703]['x'],'y':_0x48fc6d[_0x55f3('0x507')][_0x286703]['y'],'z':_0x48fc6d[_0x55f3('0x507')][_0x286703]['offset']});_0x117130[_0x55f3('0x73')](_0x547216);}return _0x481589[_0x55f3('0x8')]({'points':_0x117130,'lineWidth':_0x48fc6d['lineWidth'],'lineHeight':_0x48fc6d[_0x55f3('0x531')]}),_0x481589;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0xab')],function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')][_0x55f3('0xab')][_0x55f3('0x1c6')]),_0x481589=_0x29b9c3[_0x55f3('0x26f')](_0x481589),_0x117130=new _0xb56cef['MulripleMeshLine']({'camera':_0x1be54e[_0x55f3('0x41b')][_0x55f3('0x306')],'texture':_0x481589,'colorStr':_0x48fc6d['color'],'opacity':_0x48fc6d[_0x55f3('0x221')],'lineWidth':_0x48fc6d[_0x55f3('0x304')],'repeat':_0x48fc6d[_0x55f3('0x627')]&&0x0<_0x48fc6d[_0x55f3('0x627')]?{'x':_0x48fc6d[_0x55f3('0x627')],'y':0x1}:{'x':0x1,'y':0x1},'speed':_0x48fc6d[_0x55f3('0x337')],'isCanChangeStyle':_0x48fc6d[_0x55f3('0x628')],'renderOrder':_0x48fc6d[_0x55f3('0x318')]});if(_0x117130[_0x55f3('0x329')](_0x1be54e),_0x48fc6d['renderOrder']&&(_0x117130[_0x55f3('0x318')]=_0x48fc6d[_0x55f3('0x318')]),_0x48fc6d['seeThrough']&&(_0x117130[_0x55f3('0x2fe')]['depthTest']=!0x1),Array[_0x55f3('0x1a9')](_0x48fc6d['routeList'])&&0x0<_0x48fc6d[_0x55f3('0x629')][_0x55f3('0xf')]){var _0x286703=!0x0,_0x481589=!0x1,_0x1be54e=void 0x0;try{for(var _0x5704c5,_0x547216=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x48fc6d[_0x55f3('0x629')]);!(_0x286703=(_0x5704c5=_0x547216[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x286703=!0x0){var _0x2e6cbd=_0x5704c5[_0x55f3('0x12')],_0x501a04=[],_0x158cbe=_0x2e6cbd['points'][0x0],_0x100f24=!0x0,_0x12637c=!0x1,_0x49e965=void 0x0;try{for(var _0x63287b,_0x575605=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x2e6cbd['points']);!(_0x100f24=(_0x63287b=_0x575605[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x100f24=!0x0){var _0x283082=_0x63287b['value'];_0x501a04[_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))](-_0x283082['x'],_0x283082['offset']||0x0,_0x283082['y']));}}catch(_0x3794be){_0x12637c=!0x0,_0x49e965=_0x3794be;}finally{try{!_0x100f24&&_0x575605[_0x55f3('0x271')]&&_0x575605[_0x55f3('0x271')]();}finally{if(_0x12637c)throw _0x49e965;}}var _0x48620b=_0x117130[_0x55f3('0x62a')](_0x501a04);_0x45b97b(_0x48fc6d,_0x48620b),(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x48620b,_0x158cbe,_0x48fc6d[_0x55f3('0x32d')]);}}catch(_0x2f7f34){_0x481589=!0x0,_0x1be54e=_0x2f7f34;}finally{try{!_0x286703&&_0x547216['return']&&_0x547216[_0x55f3('0x271')]();}finally{if(_0x481589)throw _0x1be54e;}}}return _0x117130;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2aa')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xa4'))]();return _0x1be54e[_0x55f3('0x62b')](_0x48fc6d['id'],_0x48fc6d[_0x55f3('0x62c')]),_0x1be54e[_0x55f3('0x2fc')](),_0x1be54e['create']({'width':_0x48fc6d[_0x55f3('0x62d')],'height':_0x48fc6d[_0x55f3('0x62e')]}),_0x1be54e;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c['MarkerFuncName'][_0x55f3('0x2ac')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xca'))]({'colorStr':_0x48fc6d[_0x55f3('0x220')],'radius':_0x48fc6d[_0x55f3('0x21e')],'angle':_0x48fc6d[_0x55f3('0x1ec')],'speed':_0x48fc6d[_0x55f3('0x337')]}),_0x481589=_0x1be54e['create']();return _0x48fc6d['seeThrough']&&(_0x481589[_0x55f3('0x3f')][_0x55f3('0x1d8')]=!0x1),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c['MarkerFuncName'][_0x55f3('0x2ad')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xb4'))]({'colorStr':_0x48fc6d[_0x55f3('0x220')],'radius':_0x48fc6d[_0x55f3('0x21e')],'speed':_0x48fc6d[_0x55f3('0x337')],'angle':_0x48fc6d[_0x55f3('0x1ec')],'thickness':_0x48fc6d[_0x55f3('0x62f')]}),_0x481589=_0x1be54e[_0x55f3('0x8')]();return _0x48fc6d['seeThrough']&&(_0x481589[_0x55f3('0x3f')][_0x55f3('0x1d8')]=!0x1),_0x1be54e;}),(0x0,_0x158cbe['default'])(_0x481589,_0x12637c['MarkerFuncName'][_0x55f3('0x2ae')],function(_0x48fc6d){var _0x1be54e=new _0xb56cef[(_0x55f3('0xb3'))](),_0x481589=_0x29b9c3['load'](_0x48fc6d[_0x55f3('0x5f5')]),_0x117130=_0x29b9c3[_0x55f3('0x26f')](_0x48fc6d[_0x55f3('0x630')]),_0x286703=null;return _0x48fc6d[_0x55f3('0x631')]&&(_0x286703=_0x29b9c3[_0x55f3('0x26f')](_0x48fc6d['clipBorderImgUrl'])),_0x1be54e[_0x55f3('0x8')]({'imgTex':_0x481589,'clipBorderTex':_0x286703,'heightImgUrl':_0x48fc6d[_0x55f3('0x632')],'normalTex':_0x117130,'meshWidth':Math[_0x55f3('0x63')](_0x48fc6d['meshWidth']),'meshHeight':Math[_0x55f3('0x63')](_0x48fc6d[_0x55f3('0x633')]),'imageWidth':Math['ceil'](_0x48fc6d[_0x55f3('0x2ec')]),'imageHeight':Math[_0x55f3('0x63')](_0x48fc6d[_0x55f3('0x2e5')]),'terrainDepth':_0x48fc6d['terrainDepth']}),_0x1be54e;}),(0x0,_0x158cbe[_0x55f3('0x9')])(_0x481589,_0x12637c[_0x55f3('0x279')][_0x55f3('0x2af')],function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])(),_0x481589=new _0xb56cef[(_0x55f3('0xa5'))]({'colorStr':_0x48fc6d['color'],'radius':_0x48fc6d['radius'],'repeat':_0x48fc6d[_0x55f3('0x2f4')],'transFactor':_0x48fc6d[_0x55f3('0x634')],'materialType':_0x48fc6d[_0x55f3('0x635')],'isShowScanLight':_0x48fc6d[_0x55f3('0x636')],'isAutoRepeat':_0x48fc6d[_0x55f3('0x637')]}),_0x117130=_0x48fc6d[_0x55f3('0x5f5')]||(0x0,_0x1c044e['getConfigAssetsPath'])(_0x463b0c[_0x55f3('0x5f6')]['MulripleMeshLine']['texture']),_0x117130=_0x29b9c3['load'](_0x117130),_0x1be54e=(_0x117130[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x117130[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x48fc6d['closeMinmap']&&(_0x117130[_0x55f3('0x4c2')]=_0x1be54e[_0x55f3('0x41b')]['renderer'][_0x55f3('0x4d1')]['getMaxAnisotropy']()),_0x481589[_0x55f3('0x8')]({'texture':_0x117130}));return _0x48fc6d['opacity']&&(_0x1be54e[_0x55f3('0x3f')][_0x55f3('0x1d5')]=!0x0,_0x1be54e['material'][_0x55f3('0x221')]=_0x48fc6d['opacity']),_0x481589;}),_0x481589),_0x45b97b=function(_0x48fc6d,_0x1be54e){_0x48fc6d[_0x55f3('0x5f9')]&&_0x1be54e['layers'][_0x55f3('0x214')](0x1);},_0x63287b=(_0x100f24=_0x49e965[_0x55f3('0x7e')],(0x0,_0x5704c5[_0x55f3('0x9')])(_0xc662b0,_0x100f24),(0x0,_0x286703[_0x55f3('0x9')])(_0xc662b0,[{'key':_0x55f3('0x638'),'value':function(_0x48fc6d,_0x63287b){var _0x158cbe=null,_0x575605=(0x0,_0x1c044e[_0x55f3('0x2c')])();switch(_0x48fc6d){case _0x12637c['ESMarkerType'][_0x55f3('0x639')]:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x29a')]](_0x63287b))[_0x55f3('0x338')]=!0x0,this['o3d_']=_0x158cbe['object3d'],(this['o3d_'][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,_0x63287b['x']&&_0x63287b['y']&&this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x63b')]=function(_0x48fc6d){var _0x1be54e=_0x158cbe[_0x55f3('0x8')]({'radius':_0x48fc6d['radius']}),_0x481589=(0x0,_0x1c044e['coordTransToThree'])(_0x48fc6d['x'],_0x48fc6d['y']);_0x1be54e[_0x55f3('0x38')][_0x55f3('0x39')](_0x481589['x'],_0x48fc6d[_0x55f3('0x32d')]||0x0,_0x481589['y']);},this['setStyle']=function(_0x48fc6d){_0x48fc6d[_0x55f3('0x1d9')]&&_0x158cbe[_0x55f3('0x319')]['scale'][_0x55f3('0x39')](_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')]);},this[_0x55f3('0x63c')](this['o3d_']);break;case _0x12637c[_0x55f3('0x27e')]['CYLINDER_FLOAT']:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0xc0')]](_0x63287b))[_0x55f3('0x338')]=!0x0,this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x63d')]:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0xbf')]](_0x63287b))['visible']=!0x0,this['o3d_']=_0x158cbe['object3d'],this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this,_0x158cbe[_0x55f3('0x319')][_0x55f3('0x318')]=0x47,this[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0xe6')]=function(_0x48fc6d){_0x48fc6d?(_0x158cbe['material']['userData'][_0x55f3('0x467')]=_0x158cbe[_0x55f3('0x3f')][_0x55f3('0x220')]['clone'](),_0x158cbe['material'][_0x55f3('0x220')][_0x55f3('0x300')](_0x48fc6d)):_0x158cbe['material'][_0x55f3('0x220')][_0x55f3('0x1ba')](_0x158cbe[_0x55f3('0x3f')][_0x55f3('0x63f')][_0x55f3('0x467')]);},this['setStyle']=function(_0x48fc6d){_0x48fc6d[_0x55f3('0x1d9')]&&_0x158cbe[_0x55f3('0x319')]['scale'][_0x55f3('0x39')](_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')]),_0x48fc6d[_0x55f3('0x220')]&&_0x158cbe[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](color);};break;case _0x12637c[_0x55f3('0x27e')]['POINTS_LINE']:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0xbe')]](_0x63287b))[_0x55f3('0x338')]=!0x0,this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x519')]=function(_0x48fc6d){_0x158cbe[_0x55f3('0x519')]=_0x48fc6d;};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x640')]:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0xbd')]](_0x63287b))[_0x55f3('0x338')]=!0x0,this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f]['_instance']=_0x158cbe,this['moveTo']=function(_0x48fc6d,_0x1be54e){for(var _0x481589=[],_0x117130=-_0x48fc6d[0x0]['x'],_0x286703=_0x48fc6d[0x0]['y'],_0x5704c5=0x0,_0x547216=_0x48fc6d['length'];_0x5704c5<_0x547216;_0x5704c5++){var _0x2e6cbd=_0x48fc6d[_0x5704c5][_0x55f3('0x641')]||0x0;_0x481589[_0x55f3('0x73')]({'x':-_0x48fc6d[_0x5704c5]['x']-_0x117130,'y':(void 0x0!==_0x48fc6d[_0x5704c5]['height']?_0x48fc6d[_0x5704c5]:_0x158cbe[_0x55f3('0x642')])[_0x55f3('0x32d')],'z':_0x48fc6d[_0x5704c5]['y']-_0x286703,'index':_0x2e6cbd,'visible':void 0x0===_0x48fc6d[_0x5704c5][_0x55f3('0x338')]?0x1:+_0x48fc6d[_0x5704c5][_0x55f3('0x338')]});}(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x158cbe[_0x55f3('0x507')],_0x48fc6d[0x0],_0x63287b[_0x55f3('0x32d')]),0x0==_0x1be54e?_0x158cbe[_0x55f3('0x643')](_0x481589):_0x158cbe[_0x55f3('0x644')](_0x481589,_0x1be54e);},this[_0x55f3('0x645')]=function(_0x48fc6d){for(var _0x1be54e=[],_0x481589=0x0,_0x117130=_0x48fc6d[_0x55f3('0xf')];_0x481589<_0x117130;_0x481589++)_0x1be54e['push']({'index':_0x48fc6d[_0x481589][_0x55f3('0x641')],'visible':void 0x0===_0x48fc6d[_0x481589]['visible']?0x1:+_0x48fc6d[_0x481589][_0x55f3('0x338')]});_0x158cbe[_0x55f3('0x645')](_0x1be54e);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x646')]:(_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x29b')]](_0x63287b))[_0x55f3('0x338')]=!0x0,this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this['o3d_'][_0x55f3('0x3d')]=this)[_0x69224f]['_instance']=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0xe6')]=function(_0x48fc6d){_0x48fc6d?(_0x158cbe[_0x55f3('0x3f')]['userData'][_0x55f3('0x467')]=_0x158cbe[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x1b0')](),_0x158cbe[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](_0x48fc6d)):_0x158cbe[_0x55f3('0x3f')]['color'][_0x55f3('0x1ba')](_0x158cbe[_0x55f3('0x3f')]['userData']['originColor']);},this['setStyle']=function(_0x48fc6d){_0x48fc6d[_0x55f3('0x1d9')]&&_0x158cbe[_0x55f3('0x319')][_0x55f3('0x1d9')]['set'](_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')],_0x48fc6d[_0x55f3('0x1d9')]),_0x48fc6d[_0x55f3('0x220')]&&_0x158cbe['material'][_0x55f3('0x220')][_0x55f3('0x300')](color);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x647')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x600')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x648')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['ConeSpreadMarker']](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b['height']-_0x63287b['depth']/0x2);break;case _0x12637c[_0x55f3('0x27e')]['NUMBER_UP_BEAM']:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['NumberUpParticle']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe;break;case _0x12637c['ESMarkerType']['SPHERE_SPREAD']:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['SphereSpreadMarker']](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f]['_instance']=_0x158cbe,this['animate']=function(){this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x547')]();};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x649')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['ExtentWallMarker']](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x64a')]=_0x158cbe[_0x55f3('0x613')],this['changeStyle']=function(_0x48fc6d){_0x48fc6d[_0x55f3('0x220')]&&_0x158cbe[_0x55f3('0x612')]['color'][_0x55f3('0x300')](_0x48fc6d[_0x55f3('0x220')]);},this[_0x55f3('0x64b')]=function(_0x48fc6d){var _0x1be54e=[],_0x481589=_0x48fc6d['points'][0x0],_0x117130=(_0x481589[_0x55f3('0xf5')]=_0x481589[_0x55f3('0xf5')]||0x0,!0x0),_0x286703=!0x1,_0x5704c5=void 0x0;try{for(var _0x547216,_0x2e6cbd=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x48fc6d[_0x55f3('0x507')]);!(_0x117130=(_0x547216=_0x2e6cbd[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x117130=!0x0){var _0x501a04=_0x547216[_0x55f3('0x12')];_0x1be54e['push']({'x':-_0x501a04['x'],'y':_0x501a04['offset']||0x0,'z':_0x501a04['y']});}}catch(_0x565457){_0x286703=!0x0,_0x5704c5=_0x565457;}finally{try{!_0x117130&&_0x2e6cbd[_0x55f3('0x271')]&&_0x2e6cbd[_0x55f3('0x271')]();}finally{if(_0x286703)throw _0x5704c5;}}_0x286703=_0x158cbe[_0x55f3('0x64c')]({'points':_0x1be54e,'extentId':_0x48fc6d['id'],'wallHeight':_0x48fc6d['wallHeight']||_0x63287b['wallHeight'],'isNoClose':_0x48fc6d[_0x55f3('0x615')]||_0x63287b['isNoClose']});_0x45b97b(_0x63287b,_0x286703),(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x286703,_0x481589,_0x481589['offset']+_0x63287b['height']),_0x63287b['renderOrder']&&(_0x286703[_0x55f3('0x318')]=_0x63287b['renderOrder']);},this[_0x55f3('0x64d')]=function(_0x48fc6d){var _0x1be54e=!0x0,_0x481589=!0x1,_0x117130=void 0x0;try{for(var _0x286703,_0x5704c5=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x158cbe[_0x55f3('0x64e')]);!(_0x1be54e=(_0x286703=_0x5704c5[_0x55f3('0x85')]())['done']);_0x1be54e=!0x0){var _0x547216=_0x286703[_0x55f3('0x12')];if(_0x547216['id']===_0x48fc6d){_0x158cbe[_0x55f3('0x319')][_0x55f3('0x96')](_0x547216['mesh']);break;}}}catch(_0xfae7be){_0x481589=!0x0,_0x117130=_0xfae7be;}finally{try{!_0x1be54e&&_0x5704c5[_0x55f3('0x271')]&&_0x5704c5[_0x55f3('0x271')]();}finally{if(_0x481589)throw _0x117130;}}};break;case _0x12637c[_0x55f3('0x27e')]['FIRE_SMOKE']:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a2')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f]['_instance']=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x563')]=function(_0x48fc6d){this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x563')](_0x48fc6d);};break;case _0x12637c['ESMarkerType'][_0x55f3('0x64f')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName'][_0x55f3('0x2a4')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c['ESMarkerType'][_0x55f3('0x650')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['SmokeMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x651')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName'][_0x55f3('0x619')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c['ESMarkerType'][_0x55f3('0x652')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName']['ExplosionMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x28e')]=function(_0x48fc6d){var _0x1be54e=this,_0x481589=_0x48fc6d[_0x55f3('0x38f')],_0x481589=void 0x0===_0x481589?0x2:_0x481589,_0x48fc6d=_0x48fc6d[_0x55f3('0x21e')],_0x48fc6d=void 0x0===_0x48fc6d?0x64:_0x48fc6d;this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x653')](!0x0),this[_0x69224f][_0x55f3('0x63a')]['playShockWave']({'time':_0x481589,'radius':_0x48fc6d}),setTimeout(function(){_0x1be54e[_0x69224f][_0x55f3('0x63a')]['toggleEmitter'](!0x1);},0x3e8*_0x481589);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x654')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x2a6')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this['o3d_'][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x655')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName'][_0x55f3('0x2a7')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b['height']);break;case _0x12637c['ESMarkerType']['DEVICE_WIND']:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['DeviceWindMarker']](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x656')]=function(_0x48fc6d){this[_0x69224f][_0x55f3('0x63a')]['updateConfig'](_0x48fc6d);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x657')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['SpherePointsMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f]['_instance']=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]);break;case _0x12637c['ESMarkerType']['SPRITE_SHEET']:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['SpriteSheetMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this['o3d_']['datas_']=this)[_0x69224f]['_instance']=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x658')]=function(){var _0x1be54e=this,_0x481589=0x0<arguments['length']&&void 0x0!==arguments[0x0]?arguments[0x0]:{'duration':0x0};return new _0x117130[(_0x55f3('0x9'))](function(_0x48fc6d){setTimeout(function(){_0x1be54e[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x658')](),_0x48fc6d();},0x3e8*_0x481589[_0x55f3('0x216')]);});},this[_0x55f3('0x63c')](this['o3d_']);break;case _0x12637c['ESMarkerType'][_0x55f3('0x659')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName'][_0x55f3('0x626')]](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe;break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x65a')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0xab')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this['o3d_']['datas_']=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,_0x575605['on']('viewModeChanged',function(_0x48fc6d){'2D'===_0x48fc6d?_0x158cbe[_0x55f3('0x319')][_0x55f3('0x338')]=!0x1:'3D'===_0x48fc6d&&(_0x158cbe[_0x55f3('0x319')][_0x55f3('0x338')]=!0x0);}),this['addLine']=function(_0x48fc6d){var _0x1be54e=void 0x0,_0x481589=void 0x0,_0x117130=void 0x0;if(Array[_0x55f3('0x1a9')](_0x48fc6d))_0x481589=_0x48fc6d;else{if(_0x55f3('0x6')!==(void 0x0===_0x48fc6d?_0x55f3('0x2'):(0x0,_0x283082[_0x55f3('0x9')])(_0x48fc6d)))return void console[_0x55f3('0xda')]('line\x20data\x20is\x20not\x20support!');_0x1be54e=_0x48fc6d['bid'],_0x481589=_0x48fc6d['points'],_0x117130=_0x48fc6d['id'];}var _0x48fc6d=_0x481589[0x0],_0x286703=[],_0x5704c5=!0x0,_0x547216=!0x1,_0x2e6cbd=void 0x0;try{for(var _0x501a04,_0x158cbe=(0x0,_0x1db17d[_0x55f3('0x9')])(_0x481589);!(_0x5704c5=(_0x501a04=_0x158cbe[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5704c5=!0x0){var _0x100f24=_0x501a04[_0x55f3('0x12')],_0x12637c=_0x100f24['offset']||0x0,_0x49e965=(_0x100f24['fnum']&&(_0x12637c=_0x575605['getBuildingById'](_0x1be54e||0x0)[_0x55f3('0x5e5')](_0x100f24[_0x55f3('0x40e')])+_0x100f24[_0x55f3('0xf5')]),_0x575605[_0x55f3('0x65b')]({'x':_0x100f24['x'],'y':_0x100f24['y'],'z':_0x12637c,'bid':_0x100f24[_0x55f3('0x65c')]||0x0}));_0x286703['push'](_0x49e965);}}catch(_0x3f9c11){_0x547216=!0x0,_0x2e6cbd=_0x3f9c11;}finally{try{!_0x5704c5&&_0x158cbe[_0x55f3('0x271')]&&_0x158cbe[_0x55f3('0x271')]();}finally{if(_0x547216)throw _0x2e6cbd;}}_0x481589=this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x62a')](_0x286703,!0x0);return this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x318')]&&(_0x481589[_0x55f3('0x318')]=this[_0x69224f][_0x55f3('0x63a')]['renderOrder']),_0x117130&&(_0x481589[_0x55f3('0x65d')]=_0x117130),(0x0,_0x1c044e[_0x55f3('0x2d')])(_0x481589,_0x48fc6d,_0x63287b[_0x55f3('0x32d')]),_0x45b97b(_0x63287b,_0x481589),{'lastAngle':_0x481589[_0x55f3('0x65e')]};},this[_0x55f3('0x5f2')]=function(){var _0x1be54e=[],_0x48fc6d=(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x319')][_0x55f3('0x65f')](function(_0x48fc6d){_0x48fc6d instanceof THREE[_0x55f3('0x317')]&&_0x1be54e[_0x55f3('0x73')](_0x48fc6d);}),!0x0),_0x481589=!0x1,_0x117130=void 0x0;try{for(var _0x286703,_0x5704c5=(0x0,_0x1db17d['default'])(_0x1be54e);!(_0x48fc6d=(_0x286703=_0x5704c5[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x48fc6d=!0x0){var _0x547216=_0x286703[_0x55f3('0x12')];this[_0x69224f]['_instance'][_0x55f3('0x319')]['remove'](_0x547216);}}catch(_0x40aa99){_0x481589=!0x0,_0x117130=_0x40aa99;}finally{try{!_0x48fc6d&&_0x5704c5[_0x55f3('0x271')]&&_0x5704c5[_0x55f3('0x271')]();}finally{if(_0x481589)throw _0x117130;}}},this[_0x55f3('0x660')]=this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x2fe')],this['addLineGeometry']=this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x31a')][_0x55f3('0xb')](this[_0x69224f][_0x55f3('0x63a')]),this[_0x55f3('0x661')]=function(_0x48fc6d){this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x661')](_0x48fc6d);},this[_0x55f3('0x662')]=function(_0x48fc6d){this[_0x69224f]['_instance'][_0x55f3('0x2fe')][_0x55f3('0x3ae')]=_0x48fc6d;},this['scaleLineWidth']=function(_0x48fc6d){_0x48fc6d=_0x48fc6d||0x1,this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x663')]||(this[_0x69224f][_0x55f3('0x63a')]['_originLineWidth']=this[_0x69224f]['_instance']['lineMaterial'][_0x55f3('0x304')]),this[_0x69224f][_0x55f3('0x63a')]['lineMaterial']['lineWidth']=this[_0x69224f][_0x55f3('0x63a')]['_originLineWidth']*_0x48fc6d;},this['setColor']=function(_0x48fc6d){_0x48fc6d&&this[_0x69224f]['_instance'][_0x55f3('0x2fe')][_0x55f3('0x220')][_0x55f3('0x300')](_0x48fc6d);},this['updateConfig']=function(_0x48fc6d){var _0x1be54e;_0x48fc6d[_0x55f3('0x5f5')]&&((_0x1be54e=_0x29b9c3['load'](_0x48fc6d[_0x55f3('0x5f5')]))[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x1be54e[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x2fe')][_0x55f3('0x94')]=_0x1be54e)[_0x55f3('0xf7')]=!0x0),_0x48fc6d['imgRepeat']&&(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x2fe')]['repeat']=_0x48fc6d['imgRepeat']&&0x0<_0x48fc6d[_0x55f3('0x627')]?{'x':_0x48fc6d[_0x55f3('0x627')],'y':0x1}:{'x':0x1,'y':0x1}),_0x48fc6d[_0x55f3('0x220')]&&this[_0x69224f]['_instance']['lineMaterial'][_0x55f3('0x220')]['setStyle'](_0x48fc6d[_0x55f3('0x220')]),_0x48fc6d[_0x55f3('0x337')]&&(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x337')]=_0x48fc6d[_0x55f3('0x337')]);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x664')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x2aa')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe['object3d'],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x665')]=function(){this[_0x69224f]['_instance'][_0x55f3('0x665')]();},this[_0x55f3('0x666')]=function(){this[_0x69224f][_0x55f3('0x63a')]['playSound']();};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x667')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')]['PlaneWindMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x668')]=function(_0x48fc6d){this[_0x55f3('0x5e9')][_0x55f3('0x1ef')]['y']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x48fc6d);};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x669')]:_0x158cbe=_0x1b7ce4[_0x12637c['MarkerFuncName']['PlaneFogMarker']](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b[_0x55f3('0x32d')]),this[_0x55f3('0x66a')]=function(_0x48fc6d){this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x3f')][_0x55f3('0x221')]=_0x48fc6d;};break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x66b')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x2ae')]](_0x63287b),this[_0x55f3('0x5e9')]=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this['setPosition']({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b['height']);break;case _0x12637c[_0x55f3('0x27e')][_0x55f3('0x66c')]:_0x158cbe=_0x1b7ce4[_0x12637c[_0x55f3('0x279')][_0x55f3('0x2af')]](_0x63287b),this['o3d_']=_0x158cbe[_0x55f3('0x319')],(this[_0x55f3('0x5e9')][_0x55f3('0x3d')]=this)[_0x69224f][_0x55f3('0x63a')]=_0x158cbe,this[_0x55f3('0x63e')]({'x':_0x63287b['x'],'y':_0x63287b['y']},_0x63287b['height']),_0x575605['on'](_0x55f3('0x66d'),function(_0x48fc6d){_0x158cbe[_0x55f3('0x637')]&&_0x158cbe['shader']&&(_0x158cbe['shader'][_0x55f3('0x164')][_0x55f3('0x66e')]['value']=Number(_0x575605[_0x55f3('0x66f')]));});}_0x63287b[_0x55f3('0x565')]&&(_0x48fc6d=_0x63287b[_0x55f3('0x670')]||0x1f4,_0x48fc6d=new THREE[(_0x55f3('0x566'))](_0x48fc6d),this['o3d_'][_0x55f3('0x1c3')](_0x48fc6d));}},{'key':_0x55f3('0x63e'),'value':function(_0x48fc6d,_0x1be54e){this['mapCoord']={'x':_0x48fc6d['x'],'y':_0x48fc6d['y'],'z':_0x1be54e};_0x48fc6d=(0x0,_0x1c044e['coordTransToThree'])(_0x48fc6d['x'],_0x48fc6d['y']);this[_0x55f3('0x5e9')][_0x55f3('0x38')]['set'](_0x48fc6d['x'],_0x1be54e||0x0,_0x48fc6d['y']);}},{'key':_0x55f3('0x671'),'value':function(_0x48fc6d){this[_0x55f3('0x5e9')][_0x55f3('0x1ef')][_0x55f3('0x39')](THREE[_0x55f3('0x18')]['degToRad'](_0x48fc6d['x']),THREE['Math']['degToRad'](_0x48fc6d['y']),THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x48fc6d['z']));}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x672')]=!0x1,this[_0x55f3('0x673')](),_0x575605['default'][_0x55f3('0x32e')](this[_0x55f3('0x5e9')]),this[_0x69224f][_0x55f3('0x63a')]['intervalHandle']&&clearInterval(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x53f')]),this[_0x69224f][_0x55f3('0x63a')]=null;}},{'key':_0x55f3('0x63c'),'value':function(_0x48fc6d){var _0x1be54e=(0x0,_0x1c044e[_0x55f3('0x2c')])();_0x48fc6d['datas_']=this,_0x48fc6d[_0x55f3('0x8b')]=_0x55f3('0x674'),_0x1be54e['mapPicker']['addObject'](_0x48fc6d);}},{'key':'upadateMarker','value':function(_0x48fc6d){this[_0x55f3('0x672')]=!0x0,this[_0x55f3('0x35a')]&&this[_0x55f3('0x35a')](_0x48fc6d);}},{'key':_0x55f3('0x675'),'value':function(){this[_0x55f3('0x2cc')](_0x55f3('0x41f'),this[_0x55f3('0x676')]);}},{'key':_0x55f3('0x673'),'value':function(){this[_0x55f3('0x35c')](_0x55f3('0x41f'),this[_0x55f3('0x676')]);}},{'key':_0x55f3('0x677'),'value':function(_0x48fc6d){this[_0x55f3('0x5e9')]&&!this[_0x55f3('0x678')]&&(Array[_0x55f3('0x1a9')](this['showLevel'])?this[_0x55f3('0x5e9')][_0x55f3('0x338')]=_0x48fc6d>=this[_0x55f3('0x679')][0x0]&&_0x48fc6d<=this[_0x55f3('0x679')][0x1]:this['o3d_']['visible']=_0x48fc6d>=this[_0x55f3('0x679')]);}},{'key':_0x55f3('0x67a'),'value':function(){var _0x1be54e=this,_0x48fc6d=(0x0,_0x1c044e[_0x55f3('0x2c')])();_0x48fc6d['on'](_0x55f3('0x67b'),function(_0x48fc6d){_0x1be54e['_setShowLevel'](_0x48fc6d);}),this[_0x55f3('0x677')](_0x48fc6d['zoomLevel']);}},{'key':_0x55f3('0x67c'),'value':function(_0x48fc6d){var _0x1be54e;this[_0x55f3('0x672')]&&(this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x2f8')]&&this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x2f8')](_0x48fc6d),this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x336')]&&((_0x1be54e=this[_0x69224f]['_instance'][_0x55f3('0x4b9')])&&(_0x1be54e[_0x55f3('0x57')]&&(_0x1be54e[_0x55f3('0x57')]=''),_0x1be54e[_0x55f3('0x58')]&&(_0x1be54e['fragmentShader']='')),this[_0x69224f][_0x55f3('0x63a')][_0x55f3('0x336')](_0x48fc6d)));}},{'key':'visible','set':function(_0x48fc6d){this[_0x55f3('0x5e9')][_0x55f3('0x338')]=_0x48fc6d;},'get':function(){return this[_0x55f3('0x5e9')][_0x55f3('0x338')];}},{'key':'enabled','set':function(_0x48fc6d){this[_0x69224f]['_instance']['enabled']=_0x48fc6d;}},{'key':_0x55f3('0x679'),'set':function(_0x48fc6d){null!==_0x48fc6d&&(this['_options'][_0x55f3('0x679')]=_0x48fc6d,this[_0x55f3('0x677')](esmap[_0x55f3('0x28')][_0x55f3('0x50')][_0x55f3('0x66f')]));},'get':function(){return this[_0x55f3('0x642')][_0x55f3('0x679')];}}]),_0xc662b0);function _0xc662b0(_0x48fc6d){var _0x1be54e=0x1<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:{},_0x481589=((0x0,_0x2e6cbd[_0x55f3('0x9')])(this,_0xc662b0),(0x0,_0x501a04[_0x55f3('0x9')])(this,(_0xc662b0['__proto__']||(0x0,_0x547216['default'])(_0xc662b0))[_0x55f3('0x1')](this))),_0x117130=(_0x481589[_0x55f3('0x672')]=!0x1,_0x481589[_0x55f3('0x642')]=_0x1be54e,_0x481589['id']=_0x1be54e['id']||'',_0x481589[_0x55f3('0x8b')]=_0x1be54e[_0x55f3('0x8b')]||'',_0x481589[_0x55f3('0x67d')]=_0x48fc6d,_0x481589[_0x55f3('0x67e')]=0xc8,_0x481589['FloorNum']=0x1,_0x481589[_0x55f3('0x679')]=_0x1be54e[_0x55f3('0x679')],_0x481589['o3d_']=null,_0x481589[_0x55f3('0x67f')]=null,_0x481589[_0x69224f]={},(0x0,_0x48620b[_0x55f3('0x9')])(_0x48fc6d)),_0x286703=!0x1,_0x5704c5=(0x0,_0x1c044e[_0x55f3('0x2c')])();return _0x5704c5&&(_0x286703=_0x5704c5[_0x55f3('0x51')][_0x55f3('0x52')]('sk')),!0x0===_0x117130||_0x286703?(Object[_0x55f3('0x4')](_0x481589[_0x69224f],_0x55f3('0x63a'),{'value':null,'writable':!0x0,'enumerable':!0x1}),_0x481589[_0x55f3('0x638')](_0x48fc6d,_0x1be54e),_0x481589['_bindListen'](),_0x1be54e[_0x55f3('0x679')]&&_0x481589[_0x55f3('0x67a')](_0x1be54e['showLevel']),_0x481589[_0x55f3('0x35a')]=_0x1be54e['callback'],_0x481589):(console[_0x55f3('0xda')](_0x117130+':No\x20permission\x20to\x20create\x20this\x20type\x20of\x20EffectMarker'),(0x0,_0x501a04[_0x55f3('0x9')])(_0x481589));}_0x1be54e[_0x55f3('0x9')]=_0x63287b;},function(_0x3223c1,_0x2e392f,_0x49b1aa){'use strict';Object[_0x55f3('0x4')](_0x2e392f,_0x55f3('0x7'),{'value':!0x0});var _0x1bc358=_0x401c79(_0x49b1aa(0x0));function _0x401c79(_0x3223c1){return _0x3223c1&&_0x3223c1[_0x55f3('0x7')]?_0x3223c1:{'default':_0x3223c1};}function _0x1f92b8(_0x3223c1){var _0x2e392f=_0x3223c1['repeatTexPath'],_0x49b1aa=_0x3223c1[_0x55f3('0x680')],_0x401c79=_0x3223c1[_0x55f3('0x681')],_0x3223c1=_0x3223c1['isShowTextureRepeat'];(0x0,_0x1bc358['default'])(this,_0x1f92b8),this[_0x55f3('0x681')]=_0x401c79,this['isShowTextureRepeat']=_0x3223c1,this[_0x55f3('0x682')]=null,_0x3223c1&&(this[_0x55f3('0x682')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x2e392f),this[_0x55f3('0x682')][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],this['repeatTexture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x683')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x49b1aa),this['noiseTexture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x683')]['wrapT']=THREE[_0x55f3('0x33d')]),this[_0x55f3('0x337')]=0x1,this[_0x55f3('0xfc')]=0x0,this['shader']=null;}(0x0,_0x401c79(_0x49b1aa(0x1))[_0x55f3('0x9')])(_0x1f92b8,[{'key':_0x55f3('0x2fc'),'value':function(_0x3223c1){var _0x2e392f=_0x3223c1['curTexture'],_0x49b1aa=_0x3223c1[_0x55f3('0x684')],_0x401c79=_0x3223c1[_0x55f3('0x685')],_0x1bc358=this,_0x3223c1=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0});return _0x3223c1[_0x55f3('0x44d')]=function(_0x3223c1){_0x3223c1['uniforms'][_0x55f3('0x634')]={'value':0x0},_0x3223c1[_0x55f3('0x164')][_0x55f3('0x686')]={'value':0.8},_0x3223c1[_0x55f3('0x164')]['texture1']={'value':_0x2e392f},_0x3223c1['uniforms'][_0x55f3('0x687')]={'value':_0x49b1aa},_0x3223c1[_0x55f3('0x164')][_0x55f3('0x688')]={'value':_0x1bc358[_0x55f3('0x688')]},_0x3223c1[_0x55f3('0x164')]['repeatFactor']={'value':new THREE[(_0x55f3('0x1b4'))](_0x401c79['x'],_0x401c79['y'])},_0x3223c1[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x1bc358[_0x55f3('0x689')]&&(_0x3223c1[_0x55f3('0x164')][_0x55f3('0x68a')]={'value':_0x1bc358[_0x55f3('0x683')]},_0x3223c1['uniforms'][_0x55f3('0x68b')]={'value':_0x1bc358[_0x55f3('0x682')]}),_0x3223c1[_0x55f3('0x57')]=_0x3223c1[_0x55f3('0x57')]['replace'](_0x55f3('0x43a'),_0x55f3('0x68c')),_0x3223c1[_0x55f3('0x57')]=_0x3223c1[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),'\x0a\x09\x09\x09\x09#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x09\x09\x09\x09'),_0x3223c1[_0x55f3('0x58')]=_0x3223c1[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),_0x55f3('0x4e8')+(_0x1bc358['isShowBackground']?_0x55f3('0x68d'):'')+_0x55f3('0x4e8')+(_0x1bc358[_0x55f3('0x689')]?_0x55f3('0x68e'):'')+_0x55f3('0x4e8')+(_0x1bc358[_0x55f3('0x681')]?_0x55f3('0x68f'):'')+'\x0a\x0a\x09\x09\x09\x09uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20transFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20texLightFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20repeatFactor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20bgColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20noiseTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20repeatTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_WATER_RIPPLE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20MAX_RADIUS\x202\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20DOUBLE_HASH\x200\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE1\x20.1031\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20HASHSCALE3\x20vec3(.1031,\x20.1030,\x20.0973)\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20hash12(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx\x20+\x2019.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.x\x20+\x20p3.y)\x20*\x20p3.z);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hash22(vec2\x20p)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20p3\x20=\x20fract(vec3(p.xyx)\x20*\x20HASHSCALE3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20p3\x20+=\x20dot(p3,\x20p3.yzx+19.19);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract((p3.xx+p3.yz)*p3.zy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20waterRipple()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20repeat\x20=\x20vec2(repeatFactor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20repeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p0\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20circles\x20=\x20vec2(0.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20j\x20=\x20-MAX_RADIUS;\x20j\x20<=\x20MAX_RADIUS;\x20++j)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20for\x20(int\x20i\x20=\x20-MAX_RADIUS;\x20i\x20<=\x20MAX_RADIUS;\x20++i)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pi\x20=\x20p0\x20+\x20vec2(i,\x20j);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20DOUBLE_HASH\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20hash22(pi);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20hsh\x20=\x20pi;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20pi\x20+\x20hash22(hsh);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x20fract(0.3*iTime\x20+\x20hash12(hsh));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20v\x20=\x20p\x20-\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d\x20=\x20length(v)\x20-\x20(float(MAX_RADIUS)\x20+\x201.)*t;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20h\x20=\x201e-3;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d1\x20=\x20d\x20-\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20d2\x20=\x20d\x20+\x20h;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p1\x20=\x20sin(31.*d1)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d1)\x20*\x20smoothstep(0.,\x20-0.3,\x20d1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20p2\x20=\x20sin(31.*d2)\x20*\x20smoothstep(-0.6,\x20-0.3,\x20d2)\x20*\x20smoothstep(0.,\x20-0.3,\x20d2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20+=\x200.5\x20*\x20normalize(v)\x20*\x20((p2\x20-\x20p1)\x20/\x20(2.\x20*\x20h)\x20*\x20(1.\x20-\x20t)\x20*\x20(1.\x20-\x20t));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20circles\x20/=\x20float((MAX_RADIUS*2+1)*(MAX_RADIUS*2+1));\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x20=\x20mix(0.01,\x200.02,\x20smoothstep(0.1,\x200.6,\x20abs(fract(0.05*iTime\x20+\x200.5)*2.-1.)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20n\x20=\x20vec3(circles,\x20sqrt(1.\x20-\x20dot(circles,\x20circles)));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texCol\x20=\x20texture2D(texture1,\x20uv\x20/\x20repeat\x20-\x20intensity*n.xy);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20curTexCol\x20=\x20texCol.rgb\x20+\x205.*pow(clamp(dot(n,\x20normalize(vec3(1.,\x200.7,\x200.5))),\x200.,\x201.),\x206.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec4(curTexCol,\x20texCol.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEX_REPEAT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20texSum(\x20vec4\x20v\x20)\x20{\x20return\x20v.x+v.y+v.z;\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureNoTile(\x20sampler2D\x20samp,\x20in\x20vec2\x20x\x20)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20k\x20=\x20texture2D(\x20noiseTex,\x200.005*x\x20).x;\x20//\x20cheap\x20(cache\x20friendly)\x20lookup\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdx\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20duvdy\x20=\x20dFdx(\x20x\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20l\x20=\x20k*8.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20f\x20=\x20fract(l);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ia\x20=\x20floor(l+0.5);\x20//\x20suslik\x27s\x20method\x20(see\x20comments)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20ib\x20=\x20floor(l);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20f\x20=\x20min(f,\x201.0-f)*2.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offa\x20=\x20sin(vec2(3.0,7.0)*ia);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20offb\x20=\x20sin(vec2(3.0,7.0)*ib);\x20//\x20can\x20replace\x20with\x20any\x20other\x20hash\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20cola\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offa,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20colb\x20=\x20textureGrad(\x20samp,\x20x\x20+\x20offb,\x20duvdx,\x20duvdy\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mix(\x20cola,\x20colb,\x20smoothstep(0.2,0.8,f-0.1*texSum(cola-colb))\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3223c1['fragmentShader']=_0x3223c1[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x690')),_0x1bc358[_0x55f3('0x4b9')]=_0x3223c1;},_0x3223c1;}},{'key':_0x55f3('0x336'),'value':function(_0x3223c1){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]+=_0x3223c1*this[_0x55f3('0x337')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x2e392f[_0x55f3('0x9')]=_0x1f92b8;},function(_0x36228a,_0x277dc6,_0x1632c4){'use strict';Object['defineProperty'](_0x277dc6,_0x55f3('0x7'),{'value':!0x0});var _0x55cf80=_0xc52bb9(_0x1632c4(0x0));function _0xc52bb9(_0x36228a){return _0x36228a&&_0x36228a[_0x55f3('0x7')]?_0x36228a:{'default':_0x36228a};}function _0x35582f(_0x36228a){var _0x277dc6=_0x36228a[_0x55f3('0x2fd')],_0x277dc6=void 0x0===_0x277dc6?_0x55f3('0x691'):_0x277dc6,_0x1632c4=_0x36228a['floatOffset'],_0x1632c4=void 0x0===_0x1632c4?0x1:_0x1632c4,_0x36228a=_0x36228a[_0x55f3('0x337')],_0x36228a=void 0x0===_0x36228a?0x4:_0x36228a;(0x0,_0x55cf80[_0x55f3('0x9')])(this,_0x35582f),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this['colorStr']=_0x277dc6,this[_0x55f3('0x337')]=_0x36228a,this['floatOffset']=_0x1632c4,this['material']=null,this[_0x55f3('0x1e7')]={'cubeShader':null,'lineShader':null},this[_0x55f3('0x692')]=null,this[_0x55f3('0x319')]['visible']=!0x1,this[_0x55f3('0x2fc')]();}(0x0,_0xc52bb9(_0x1632c4(0x1))[_0x55f3('0x9')])(_0x35582f,[{'key':_0x55f3('0x2fc'),'value':function(){var _0x277dc6=this;this['material']=new THREE[(_0x55f3('0x437'))](),this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](this[_0x55f3('0x2fd')]),this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x36228a){_0x277dc6[_0x55f3('0x693')](_0x36228a),_0x277dc6['shaders'][_0x55f3('0x694')]=_0x36228a;},this[_0x55f3('0x692')]=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'wireframe':!0x0}),this[_0x55f3('0x692')][_0x55f3('0x44d')]=function(_0x36228a){_0x277dc6['settingShader'](_0x36228a),_0x277dc6[_0x55f3('0x1e7')]['lineShader']=_0x36228a;};}},{'key':_0x55f3('0x693'),'value':function(_0x36228a){_0x36228a[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x36228a[_0x55f3('0x164')]['floatOffset']={'value':this['floatOffset']},_0x36228a['vertexShader']=_0x36228a[_0x55f3('0x57')]['replace']('#include\x20<uv_pars_vertex>',_0x55f3('0x695')),_0x36228a[_0x55f3('0x57')]=_0x36228a[_0x55f3('0x57')]['replace'](_0x55f3('0x696'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20vPos\x20=\x20modelMatrix\x20*\x20vec4(\x20rotateVerticesInY(position,\x20iTime),\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20vPos.y\x20+=\x20floatOffset\x20*\x20sin(iTime);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20viewMatrix\x20*\x20vPos;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<logdepthbuf_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20');}},{'key':_0x55f3('0x8'),'value':function(_0x36228a){for(var _0x36228a=_0x36228a['radius'],_0x36228a=void 0x0===_0x36228a?0x5:_0x36228a,_0x277dc6=new THREE[(_0x55f3('0x1c4'))](),_0x1632c4=new THREE['OctahedronBufferGeometry'](0x1,0x0),_0x55cf80=0x0,_0xc52bb9=_0x1632c4[_0x55f3('0x165')][_0x55f3('0x38')]['array'],_0x35582f=_0xc52bb9[_0x55f3('0xf')];_0x55cf80<_0x35582f;_0x55cf80+=0x3)0x1===_0xc52bb9[_0x55cf80+0x1]&&(_0xc52bb9[_0x55cf80+0x1]=0x2);var _0x131ec5=new THREE[(_0x55f3('0x317'))](_0x1632c4,this['material']),_0x131ec5=(_0x131ec5['rotation']['x']=-Math['PI'],_0x277dc6[_0x55f3('0x1c3')](_0x131ec5),new THREE[(_0x55f3('0x317'))](_0x1632c4,this['wireMaterial']));return _0x131ec5['rotation']['x']=-Math['PI'],_0x131ec5[_0x55f3('0x1d9')]['set'](1.01,1.01,1.01),_0x277dc6[_0x55f3('0x1c3')](_0x131ec5),_0x277dc6[_0x55f3('0x1d9')]['set'](_0x36228a,_0x36228a,_0x36228a),this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x277dc6),_0x277dc6;}},{'key':'render','value':function(_0x36228a){this[_0x55f3('0x1e7')][_0x55f3('0x694')]&&this[_0x55f3('0x1e7')][_0x55f3('0x697')]&&(this[_0x55f3('0x1e7')][_0x55f3('0x694')][_0x55f3('0x164')][_0x55f3('0x4d8')]['value']+=_0x36228a*this[_0x55f3('0x337')],this[_0x55f3('0x1e7')][_0x55f3('0x697')]['uniforms'][_0x55f3('0x4d8')][_0x55f3('0x12')]+=_0x36228a*this[_0x55f3('0x337')]);}},{'key':_0x55f3('0x338'),'set':function(_0x36228a){this['object3d']&&(this['object3d'][_0x55f3('0x338')]=_0x36228a);}}]),_0x277dc6[_0x55f3('0x9')]=_0x35582f;},function(_0x59e1bc,_0x5a1942,_0x30407b){'use strict';Object[_0x55f3('0x4')](_0x5a1942,'__esModule',{'value':!0x0});var _0x21c91d=_0x44cb35(_0x30407b(0x0));function _0x44cb35(_0x59e1bc){return _0x59e1bc&&_0x59e1bc[_0x55f3('0x7')]?_0x59e1bc:{'default':_0x59e1bc};}function _0x2fe707(){(0x0,_0x21c91d[_0x55f3('0x9')])(this,_0x2fe707),this['object3d']=null,this['material']=null,this[_0x55f3('0x21e')]=0x0,this[_0x55f3('0x698')]={'centerHeight':0x3c,'swingHeight':0x1e,'speed':0.02};}(0x0,_0x44cb35(_0x30407b(0x1))[_0x55f3('0x9')])(_0x2fe707,[{'key':_0x55f3('0x8'),'value':function(_0x59e1bc){var _0x5a1942=_0x59e1bc[_0x55f3('0x1c6')],_0x30407b=_0x59e1bc[_0x55f3('0x21e')],_0x21c91d=_0x59e1bc['height'],_0x44cb35=_0x59e1bc['animateOpts'],_0x59e1bc=_0x59e1bc['colorStr'],_0x21c91d=new THREE[(_0x55f3('0x452'))](_0x30407b,_0x30407b,_0x21c91d,0x20,0x1,!0x0,0x0,0x2*Math['PI']);return _0x5a1942[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x5a1942[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x5a1942[_0x55f3('0x2f4')]['x']=0x4,this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'side':THREE[_0x55f3('0x308')],'transparent':!0x0,'map':_0x5a1942,'depthWrite':!0x1}),_0x59e1bc&&(this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x59e1bc)),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x317'))](_0x21c91d,this[_0x55f3('0x3f')]),this[_0x55f3('0x21e')]=_0x30407b,_0x44cb35&&(void 0x0!==_0x44cb35[_0x55f3('0x699')]&&void 0x0!==_0x44cb35[_0x55f3('0x69a')]&&(this[_0x55f3('0x698')][_0x55f3('0x699')]=_0x44cb35[_0x55f3('0x699')],this['moveOpts'][_0x55f3('0x69a')]=_0x44cb35[_0x55f3('0x69a')]),_0x44cb35[_0x55f3('0x337')]&&(this[_0x55f3('0x698')][_0x55f3('0x337')]=_0x44cb35[_0x55f3('0x337')])),this[_0x55f3('0x319')];}},{'key':_0x55f3('0x2f8'),'value':function(){this['object3d']&&(this[_0x55f3('0x319')][_0x55f3('0x1ef')]['y']-=this[_0x55f3('0x698')][_0x55f3('0x337')],this[_0x55f3('0x319')][_0x55f3('0x38')]['y']=Math[_0x55f3('0x5b')](0.5*this[_0x55f3('0x319')][_0x55f3('0x1ef')]['y'])*this[_0x55f3('0x698')][_0x55f3('0x69a')]+this['moveOpts'][_0x55f3('0x699')]);}},{'key':_0x55f3('0x338'),'set':function(_0x59e1bc){this['object3d']&&(this[_0x55f3('0x319')]['visible']=_0x59e1bc);}}]),_0x5a1942[_0x55f3('0x9')]=_0x2fe707;},function(_0x143744,_0x3e2b5c,_0x477622){'use strict';Object[_0x55f3('0x4')](_0x3e2b5c,'__esModule',{'value':!0x0});var _0x5f373d=_0x7910da(_0x477622(0x0));function _0x7910da(_0x143744){return _0x143744&&_0x143744[_0x55f3('0x7')]?_0x143744:{'default':_0x143744};}function _0xbe9af6(){(0x0,_0x5f373d[_0x55f3('0x9')])(this,_0xbe9af6),this[_0x55f3('0x319')]=null,this[_0x55f3('0x3f')]=null,this['rotateSpeed']=0x0;}(0x0,_0x7910da(_0x477622(0x1))[_0x55f3('0x9')])(_0xbe9af6,[{'key':'create','value':function(_0x143744){var _0x3e2b5c=_0x143744['colorStr'],_0x477622=_0x143744[_0x55f3('0x1c6')],_0x5f373d=_0x143744[_0x55f3('0x21e')],_0x5f373d=void 0x0===_0x5f373d?0x64:_0x5f373d,_0x7910da=_0x143744[_0x55f3('0x337')],_0x7910da=void 0x0===_0x7910da?0x1:_0x7910da,_0xbe9af6=_0x143744[_0x55f3('0x221')],_0xbe9af6=void 0x0===_0xbe9af6?0x1:_0xbe9af6,_0x143744=_0x143744[_0x55f3('0x69b')],_0x143744=void 0x0===_0x143744?0x0:_0x143744,_0x5f373d=new THREE[(_0x55f3('0x520'))](_0x5f373d,_0x5f373d);_0x477622['rotation']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x143744),this['material']=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'transparent':!0x0,'opacity':_0xbe9af6,'map':_0x477622,'depthWrite':!0x1,'side':THREE[_0x55f3('0x308')]}),_0x3e2b5c&&(this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE['Color']()[_0x55f3('0x300')](_0x3e2b5c)),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x317'))](_0x5f373d,this[_0x55f3('0x3f')]),this[_0x55f3('0x319')][_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],this[_0x55f3('0x69c')]=_0x7910da;}},{'key':'update','value':function(_0x143744){this[_0x55f3('0x319')]&&(this[_0x55f3('0x319')][_0x55f3('0x1ef')]['z']+=_0x143744*this[_0x55f3('0x69c')]);}},{'key':'visible','set':function(_0x143744){this[_0x55f3('0x319')]&&(this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x143744);}}]),_0x3e2b5c['default']=_0xbe9af6;},function(_0x1642d3,_0x54a5e7,_0x29fe56){'use strict';Object[_0x55f3('0x4')](_0x54a5e7,_0x55f3('0x7'),{'value':!0x0});var _0x261da5=_0x4a07cb(_0x29fe56(0x4)),_0x406771=_0x4a07cb(_0x29fe56(0x0)),_0x29fe56=_0x4a07cb(_0x29fe56(0x1));function _0x4a07cb(_0x1642d3){return _0x1642d3&&_0x1642d3['__esModule']?_0x1642d3:{'default':_0x1642d3};}(0x0,_0x29fe56[_0x55f3('0x9')])(_0x4e7efe,[{'key':_0x55f3('0x8'),'value':function(_0x1642d3){var _0x54a5e7=_0x1642d3[_0x55f3('0x507')],_0x1642d3=_0x1642d3[_0x55f3('0x1c6')],_0x29fe56=[],_0x4a07cb=!0x0,_0x1c65fc=!0x1,_0x22fd5b=void 0x0;try{for(var _0x3b77d3,_0x406771=(0x0,_0x261da5[_0x55f3('0x9')])(_0x54a5e7);!(_0x4a07cb=(_0x3b77d3=_0x406771[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4a07cb=!0x0){var _0x12d1c7=_0x3b77d3[_0x55f3('0x12')];_0x29fe56[_0x55f3('0x73')]({'x':-_0x12d1c7['x'],'y':void 0x0!==_0x12d1c7[_0x55f3('0x32d')]?_0x12d1c7['height']:_0x12d1c7['z']||this['height'],'z':_0x12d1c7['y'],'colorIndex':_0x12d1c7[_0x55f3('0x641')]||0x0,'visible':0x1});}}catch(_0x48b274){_0x1c65fc=!0x0,_0x22fd5b=_0x48b274;}finally{try{!_0x4a07cb&&_0x406771[_0x55f3('0x271')]&&_0x406771['return']();}finally{if(_0x1c65fc)throw _0x22fd5b;}}for(var _0x57c0ea,_0x41c6fd=_0x29fe56[0x0],_0x180aa3=new Float32Array(0x6*_0x29fe56[_0x55f3('0xf')]),_0x425647=0x0,_0x4c376d=_0x29fe56['length'];_0x425647<_0x4c376d;_0x425647++)_0x180aa3[0x0+(_0x57c0ea=0x6*_0x425647)]=_0x29fe56[_0x425647]['x']-_0x41c6fd['x'],_0x180aa3[0x1+_0x57c0ea]=_0x29fe56[_0x425647]['y'],_0x180aa3[0x2+_0x57c0ea]=_0x29fe56[_0x425647]['z']-_0x41c6fd['z'],_0x180aa3[0x3+_0x57c0ea]=_0x425647,_0x180aa3[0x4+_0x57c0ea]=_0x29fe56[_0x425647][_0x55f3('0x641')],_0x180aa3[0x5+_0x57c0ea]=_0x29fe56[_0x425647][_0x55f3('0x338')];var _0x54a5e7=new THREE[(_0x55f3('0x1e9'))](),_0x1c65fc=new THREE['InterleavedBuffer'](_0x180aa3,0x6),_0x4b2ada=(_0x1c65fc[_0x55f3('0x69d')](!0x0),_0x54a5e7['addAttribute']('position',new THREE[(_0x55f3('0x50d'))](_0x1c65fc,0x3,0x0)),_0x54a5e7['addAttribute'](_0x55f3('0x50e'),new THREE[(_0x55f3('0x50d'))](_0x1c65fc,0x1,0x3)),_0x54a5e7[_0x55f3('0x1f2')](_0x55f3('0x69e'),new THREE[(_0x55f3('0x50d'))](_0x1c65fc,0x1,0x4)),_0x54a5e7[_0x55f3('0x1f2')](_0x55f3('0x69f'),new THREE[(_0x55f3('0x50d'))](_0x1c65fc,0x1,0x5)),this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x6a0'))]({'color':0xffffff,'map':_0x1642d3,'sizeAttenuation':!0x1,'size':this[_0x55f3('0x505')],'depthWrite':!0x1,'transparent':!0x0,'opacity':0x1}),this[_0x55f3('0x2fd')]&&(this['material'][_0x55f3('0x220')]=new THREE['Color']()['setStyle'](this['colorStr'])),[]);if(this[_0x55f3('0x6a1')])for(var _0x47f863=0x0;_0x47f863<this[_0x55f3('0x6a1')]['length'];_0x47f863++)_0x4b2ada['push'](new THREE[(_0x55f3('0x1b7'))]()['setStyle'](this[_0x55f3('0x6a1')][_0x47f863]));else _0x4b2ada[_0x55f3('0x73')](new THREE[(_0x55f3('0x1b7'))](0xffffff));var _0x300154=this;return this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x1642d3){_0x1642d3['uniforms'][_0x55f3('0x4d8')]={'value':0x0},_0x1642d3[_0x55f3('0x164')][_0x55f3('0x5fd')]={'value':_0x300154['animateType']},_0x1642d3[_0x55f3('0x164')]['isStart']={'value':0x0},_0x1642d3[_0x55f3('0x164')]['colorMaps']={'value':_0x4b2ada},_0x1642d3['vertexShader']=_0x1642d3[_0x55f3('0x57')][_0x55f3('0x56')]('uniform\x20float\x20scale;',_0x55f3('0x6a2')+_0x4b2ada['length']+_0x55f3('0x6a3')),_0x1642d3['vertexShader']=_0x1642d3[_0x55f3('0x57')]['replace'](_0x55f3('0x6a4'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20scaleSize\x20=\x20size;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x201)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(iTime\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x202)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20time1\x20=\x20iTime\x20+\x20rand2(vec2(cIndex,\x20cIndex+1.0));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20sin(time1\x20*\x205.0)\x20*\x200.3\x20+\x201.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(animateType\x20==\x204)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scaleSize\x20*=\x20isStart;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vColor\x20=\x20colorMaps[int(colIndex)];\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vIsShow\x20=\x20pVisible;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_PointSize\x20=\x20scaleSize;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1642d3['fragmentShader']=_0x1642d3[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x6a5')),_0x1642d3[_0x55f3('0x58')]=_0x1642d3[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(vIsShow\x20<\x200.5)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20vColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20resultColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x300154[_0x55f3('0x4b9')]=_0x1642d3;},this[_0x55f3('0x507')]=new THREE[(_0x55f3('0xbd'))](_0x54a5e7,this[_0x55f3('0x3f')]),this[_0x55f3('0x319')]['add'](this[_0x55f3('0x507')]),this[_0x55f3('0x507')];}},{'key':'updatePosition','value':function(_0x1642d3){var _0x54a5e7=0x1<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0x1;if(this[_0x55f3('0x507')]){for(var _0x29fe56=this[_0x55f3('0x507')][_0x55f3('0x95')]['attributes'][_0x55f3('0x38')]['data'],_0x4a07cb=_0x29fe56[_0x55f3('0xd4')],_0x556726=_0x29fe56[_0x55f3('0x6a6')],_0x5c51b6=0x0,_0x56746c=0x0;_0x56746c<_0x4a07cb['length'];_0x56746c+=_0x556726){var _0x406771=_0x1642d3[_0x5c51b6]['x']-_0x4a07cb[_0x56746c],_0x1aac00=_0x1642d3[_0x5c51b6]['y']-_0x4a07cb[_0x56746c+0x1],_0x1d1df5=_0x1642d3[_0x5c51b6]['z']-_0x4a07cb[_0x56746c+0x2];_0x4a07cb[_0x56746c]+=_0x406771*_0x54a5e7,_0x4a07cb[_0x56746c+0x1]+=_0x1aac00*_0x54a5e7,_0x4a07cb[_0x56746c+0x2]+=_0x1d1df5*_0x54a5e7,_0x4a07cb[_0x56746c+0x4]=_0x1642d3[_0x5c51b6][_0x55f3('0x39c')]||0x0,_0x4a07cb[_0x56746c+0x5]=_0x1642d3[_0x5c51b6]['visible'],_0x5c51b6++;}_0x29fe56[_0x55f3('0xf7')]=!0x0;}}},{'key':_0x55f3('0x645'),'value':function(_0x1642d3){if(this['points']){for(var _0x54a5e7=this[_0x55f3('0x507')][_0x55f3('0x95')][_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0x2c0')],_0x29fe56=_0x54a5e7[_0x55f3('0xd4')],_0x4a07cb=_0x54a5e7[_0x55f3('0x6a6')],_0xc2562f=0x0,_0x5eb0e3=0x0;_0x5eb0e3<_0x29fe56[_0x55f3('0xf')];_0x5eb0e3+=_0x4a07cb)_0x29fe56[_0x5eb0e3+0x4]=_0x1642d3[_0xc2562f]['index']||0x0,_0x29fe56[_0x5eb0e3+0x5]=_0x1642d3[_0xc2562f][_0x55f3('0x338')],_0xc2562f++;_0x54a5e7[_0x55f3('0xf7')]=!0x0;}}},{'key':_0x55f3('0x644'),'value':function(_0x54a5e7,_0x1642d3){var _0x29fe56=this;new TWEEN[(_0x55f3('0x331'))]({'delta':0x0})['to']({'delta':0x1},0x3e8*_0x1642d3)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')]['Linear']['None'])['onUpdate'](function(_0x1642d3){_0x29fe56[_0x55f3('0x643')](_0x54a5e7,_0x1642d3['delta']);})[_0x55f3('0x6a7')](function(){})['start']();}},{'key':_0x55f3('0x336'),'value':function(_0x1642d3){var _0x54a5e7;this[_0x55f3('0x507')]&&this[_0x55f3('0x4b9')]&&(0x4===this[_0x55f3('0x5fd')]?(_0x54a5e7=this[_0x55f3('0x2eb')][_0x55f3('0x2f9')]()%this[_0x55f3('0x5fe')],this[_0x55f3('0x5fe')]-_0x54a5e7<0.5?this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x6a8')][_0x55f3('0x12')]=0x1:this['shader']['uniforms'][_0x55f3('0x6a8')][_0x55f3('0x12')]=0x0):(this['count']+=_0x1642d3,this['shader']['uniforms'][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]));}},{'key':_0x55f3('0x338'),'set':function(_0x1642d3){this[_0x55f3('0x507')]&&(this[_0x55f3('0x507')][_0x55f3('0x338')]=_0x1642d3);}},{'key':_0x55f3('0x519'),'set':function(_0x1642d3){this[_0x55f3('0x507')][_0x55f3('0x3f')]['sizeAttenuation']=!_0x1642d3,this[_0x55f3('0x507')][_0x55f3('0x3f')][_0x55f3('0xf7')]=!0x0;}}]);_0x29fe56=_0x4e7efe;function _0x4e7efe(_0x1642d3){var _0x54a5e7=_0x1642d3[_0x55f3('0x505')],_0x54a5e7=void 0x0===_0x54a5e7?0x32:_0x54a5e7,_0x29fe56=_0x1642d3[_0x55f3('0x2fd')],_0x29fe56=void 0x0===_0x29fe56?_0x55f3('0x435'):_0x29fe56,_0x4a07cb=_0x1642d3[_0x55f3('0x32d')],_0x4a07cb=void 0x0===_0x4a07cb?0.1:_0x4a07cb,_0x179b9c=_0x1642d3['animateType'],_0x179b9c=void 0x0===_0x179b9c?'':_0x179b9c,_0x1d3444=_0x1642d3[_0x55f3('0x2eb')],_0x25441c=_0x1642d3[_0x55f3('0x5fe')],_0x25441c=void 0x0===_0x25441c?0x1:_0x25441c,_0x1642d3=_0x1642d3[_0x55f3('0x6a1')];switch((0x0,_0x406771[_0x55f3('0x9')])(this,_0x4e7efe),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x319')][_0x55f3('0x8b')]=_0x55f3('0x506'),this[_0x55f3('0x505')]=_0x54a5e7,this['colorStr']=_0x29fe56,this[_0x55f3('0x6a1')]=_0x1642d3,this[_0x55f3('0x32d')]=_0x4a07cb,this['timer']=_0x1d3444,this[_0x55f3('0x5fe')]=_0x25441c,this[_0x55f3('0x507')]=null,this[_0x55f3('0x3f')]=null,this[_0x55f3('0x4b9')]=null,this['routePoints']=[],_0x179b9c){case _0x55f3('0x6a9'):this[_0x55f3('0x5fd')]=0x1;break;case _0x55f3('0x6aa'):this[_0x55f3('0x5fd')]=0x2;break;case'twinkle':this[_0x55f3('0x5fd')]=0x3;break;case'flash':this['animateType']=0x4;break;case'normal':this['animateType']=0x5;break;default:this[_0x55f3('0x5fd')]=0x1;}this[_0x55f3('0xfc')]=0x0;}_0x54a5e7[_0x55f3('0x9')]=_0x29fe56;},function(_0xfb7441,_0x2cdb9d,_0x35a7aa){'use strict';Object['defineProperty'](_0x2cdb9d,_0x55f3('0x7'),{'value':!0x0});var _0x519d24=_0x3c53df(_0x35a7aa(0x0)),_0x2bc242=_0x3c53df(_0x35a7aa(0x1)),_0x357e7f=_0x3c53df(_0x35a7aa(0x74));function _0x3c53df(_0xfb7441){return _0xfb7441&&_0xfb7441[_0x55f3('0x7')]?_0xfb7441:{'default':_0xfb7441};}function _0x58080c(_0xfb7441){_0xfb7441=_0xfb7441[_0x55f3('0x94')];(0x0,_0x519d24[_0x55f3('0x9')])(this,_0x58080c),this[_0x55f3('0x94')]=_0xfb7441,this[_0x55f3('0x6ab')]=[],this[_0x55f3('0x6ac')]=[],this['isInit']=!0x1;}(0x0,_0x2bc242[_0x55f3('0x9')])(_0x58080c,[{'key':_0x55f3('0x6ad'),'value':function(){this['isInit']||(this[_0x55f3('0x6ae')]=!0x0);}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x6ab')]['length']=0x0,this[_0x55f3('0x6ac')][_0x55f3('0xf')]=0x0;}},{'key':_0x55f3('0x6af'),'value':function(){var _0xfb7441=document['createElement'](_0x55f3('0x422'));return _0xfb7441[_0x55f3('0x32c')]=0x2,_0xfb7441[_0x55f3('0x32d')]=0x2,_0xfb7441[_0x55f3('0x377')]('2d')['fillStyle']=_0x55f3('0x339'),new THREE['Texture'](_0xfb7441);}},{'key':'addUv2AlphaMask','value':function(_0xfb7441,_0x2cdb9d){_0xfb7441[_0x55f3('0x6b0')]||(_0xfb7441[_0x55f3('0x6b0')]=this[_0x55f3('0x6af')](),_0xfb7441['aoMapIntensity']=0x0),_0xfb7441['visible']=!0x0,_0xfb7441[_0x55f3('0x163')]['IS_USE_MASK_ALPHA']='',_0xfb7441[_0x55f3('0x1d5')]=!0x0;var _0x35a7aa=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x2cdb9d,function(){});_0xfb7441[_0x55f3('0x44d')]=function(_0xfb7441){_0xfb7441[_0x55f3('0x164')][_0x55f3('0x6b1')]={'value':_0x35a7aa},_0xfb7441['fragmentShader']=_0xfb7441[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x6b2')),_0xfb7441[_0x55f3('0x58')]=_0xfb7441[_0x55f3('0x58')]['replace'](_0x55f3('0x6b3'),_0x55f3('0x6b4'));};}},{'key':_0x55f3('0x6b5'),'value':function(_0xfb7441,_0x2cdb9d,_0x35a7aa){var _0x519d24=this,_0x2bc242=(_0xfb7441[_0x55f3('0x6b0')]||(_0xfb7441[_0x55f3('0x6b0')]=this['createTexture'](),_0xfb7441['aoMapIntensity']=0x0),new THREE[(_0x55f3('0x26d'))]()['load'](_0x2cdb9d,function(){_0x519d24[_0x55f3('0x6ab')][_0x55f3('0x73')](_0x2bc242);}));_0x2bc242['wrapS']=THREE[_0x55f3('0x33d')],_0x2bc242[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x2bc242[_0x55f3('0x6b6')]=new THREE[(_0x55f3('0x1b4'))](0x0,0x0),_0x2bc242[_0x55f3('0x6b7')]=new THREE['Vector2'](0x1,0x1),_0x35a7aa&&(_0x2bc242[_0x55f3('0x6b7')]=new THREE[(_0x55f3('0x1b4'))](_0x35a7aa['x'],_0x35a7aa['y'])),_0xfb7441['onBeforeCompile']=function(_0xfb7441){_0xfb7441[_0x55f3('0x164')]['texture2']={'value':_0x2bc242},_0xfb7441['uniforms']['tex2UvAni']={'value':_0x2bc242['uv2Trans']},_0xfb7441[_0x55f3('0x58')]=_0xfb7441[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x6b8')),_0xfb7441[_0x55f3('0x58')]=_0xfb7441[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f6'),_0x55f3('0x6b9'));};}},{'key':_0x55f3('0x6ba'),'value':function(_0xfb7441,_0x2cdb9d){_0x2cdb9d=new _0x357e7f['default']({'timer':this[_0x55f3('0x94')][_0x55f3('0x2eb')],'imageWidth':_0x2cdb9d[_0x55f3('0x6bb')],'imageHeight':_0x2cdb9d[_0x55f3('0x6bc')],'xCount':_0x2cdb9d[_0x55f3('0x622')],'yCount':_0x2cdb9d[_0x55f3('0x621')],'fps':_0x2cdb9d['fps']});_0x2cdb9d[_0x55f3('0x8')](_0xfb7441),_0xfb7441['uvSpriteAnimate']=_0x2cdb9d,this['textureSprites']['push'](_0x2cdb9d);}},{'key':_0x55f3('0x2f8'),'value':function(_0xfb7441){if(this[_0x55f3('0x6ae')]){for(var _0x2cdb9d=0x0,_0x35a7aa=this[_0x55f3('0x6ab')][_0x55f3('0xf')];_0x2cdb9d<_0x35a7aa;_0x2cdb9d++)this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6bd')]&&(this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6bd')]['x']&&(this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0xf5')]['x']+=_0xfb7441*this[_0x55f3('0x6ab')][_0x2cdb9d]['uvTranslate']['x']),this['textures'][_0x2cdb9d][_0x55f3('0x6bd')]['y']&&(this[_0x55f3('0x6ab')][_0x2cdb9d]['offset']['y']+=_0xfb7441*this[_0x55f3('0x6ab')][_0x2cdb9d]['uvTranslate']['y'])),this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6b6')]&&(void 0x0!==this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6b6')]['x']&&(this[_0x55f3('0x6ab')][_0x2cdb9d]['uv2Trans']['x']+=_0xfb7441*this['textures'][_0x2cdb9d][_0x55f3('0x6b7')]['x']),void 0x0!==this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6b6')]['y']&&(this[_0x55f3('0x6ab')][_0x2cdb9d][_0x55f3('0x6b6')]['y']+=_0xfb7441*this['textures'][_0x2cdb9d][_0x55f3('0x6b7')]['y']));if(0x0<this[_0x55f3('0x6ac')][_0x55f3('0xf')])for(var _0x519d24=0x0,_0x2bc242=this['textureSprites'][_0x55f3('0xf')];_0x519d24<_0x2bc242;_0x519d24++)this['textureSprites'][_0x519d24][_0x55f3('0x2f8')]();}}},{'key':_0x55f3('0x93'),'value':function(){for(var _0xfb7441=this['textures'][_0x55f3('0xf')]=0x0,_0x2cdb9d=this[_0x55f3('0x6ac')][_0x55f3('0xf')];_0xfb7441<_0x2cdb9d;_0xfb7441++)this[_0x55f3('0x6ac')][_0xfb7441][_0x55f3('0x1c6')]=null;this['textureSprites']['length']=0x0;}}]),_0x2cdb9d[_0x55f3('0x9')]=_0x58080c;},function(_0x434fb1,_0x58425a,_0x2857de){'use strict';Object[_0x55f3('0x4')](_0x58425a,_0x55f3('0x7'),{'value':!0x0});var _0xa2ed=_0x29f11a(_0x2857de(0x0)),_0x5f2394=_0x29f11a(_0x2857de(0x1)),_0x3d7759=_0x29f11a(_0x2857de(0x74));function _0x29f11a(_0x434fb1){return _0x434fb1&&_0x434fb1[_0x55f3('0x7')]?_0x434fb1:{'default':_0x434fb1};}function _0x181061(){(0x0,_0xa2ed[_0x55f3('0x9')])(this,_0x181061),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this['uvAnimate']=null,this[_0x55f3('0x3f')]=null,this[_0x55f3('0x6be')]=null;}(0x0,_0x5f2394[_0x55f3('0x9')])(_0x181061,[{'key':'create','value':function(_0x434fb1){var _0x58425a=_0x434fb1[_0x55f3('0x2eb')],_0x2857de=_0x434fb1[_0x55f3('0x1d9')],_0x2857de=void 0x0===_0x2857de?0x1:_0x2857de,_0xa2ed=_0x434fb1['texture'],_0x5f2394=_0x434fb1['loop'],_0x5f2394=void 0x0===_0x5f2394||_0x5f2394,_0x29f11a=_0x434fb1['fixedSize'],_0x29f11a=void 0x0===_0x29f11a||_0x29f11a,_0x434fb1=_0x434fb1[_0x55f3('0x6bf')],_0x434fb1=void 0x0===_0x434fb1?{'imageWidth':0x100,'imageHeight':0x100,'xCount':0x5,'yCount':0x5,'xStart':0x0,'yStart':0x0,'fps':0xc}:_0x434fb1,_0x58425a=(_0xa2ed['minFilter']=THREE[_0x55f3('0x542')],this[_0x55f3('0x625')]=new _0x3d7759['default']({'timer':_0x58425a,'imageWidth':_0x434fb1['imageWidth'],'imageHeight':_0x434fb1[_0x55f3('0x2e5')],'xCount':_0x434fb1[_0x55f3('0x2e6')],'yCount':_0x434fb1[_0x55f3('0x2e7')],'fps':_0x434fb1[_0x55f3('0x2e8')],'xStart':_0x434fb1[_0x55f3('0x2e9')],'yStart':_0x434fb1[_0x55f3('0x2ea')]}),this[_0x55f3('0x625')]['create'](_0xa2ed,!0x0),!0x1===_0x5f2394&&(this[_0x55f3('0x6c0')](!0x1),this[_0x55f3('0x625')]['setTextureByStartFrame']()),_0x2857de),_0x434fb1=new THREE[(_0x55f3('0x6c1'))]({'map':_0xa2ed,'transparent':!0x0});this[_0x55f3('0x6be')]=new THREE[(_0x55f3('0x6c2'))](_0x434fb1),this[_0x55f3('0x6be')][_0x55f3('0x318')]=0x5a,this[_0x55f3('0x6be')][_0x55f3('0x1d9')]['set'](+_0x58425a,this['uvAnimate'][_0x55f3('0x2f7')]/this[_0x55f3('0x625')]['xSize']*_0x58425a,0x1),this[_0x55f3('0x3f')]=_0x434fb1,this[_0x55f3('0x319')][_0x55f3('0x1c3')](this[_0x55f3('0x6be')]),_0x29f11a&&this['setFixedSize']();}},{'key':_0x55f3('0x6c3'),'value':function(){this[_0x55f3('0x6be')][_0x55f3('0x63f')][_0x55f3('0x6c4')]=new THREE[(_0x55f3('0x5a'))]()['copy'](this[_0x55f3('0x6be')][_0x55f3('0x1d9')]),this[_0x55f3('0x6be')]['onBeforeRender']=function(_0x434fb1,_0x58425a,_0x2857de){var _0xa2ed=new THREE[(_0x55f3('0x5a'))]()['setFromMatrixPosition'](this[_0x55f3('0x3b0')]),_0x2857de=new THREE[(_0x55f3('0x5a'))]()[_0x55f3('0x6c5')](_0x2857de[_0x55f3('0x3b0')]),_0xa2ed=0.1*_0xa2ed[_0x55f3('0x39b')](_0x2857de)[_0x55f3('0xf')]();this[_0x55f3('0x1d9')]['x']=this[_0x55f3('0x63f')][_0x55f3('0x6c4')]['x']*_0xa2ed,this[_0x55f3('0x1d9')]['y']=this[_0x55f3('0x63f')]['originalScale']['y']*_0xa2ed;};}},{'key':_0x55f3('0x658'),'value':function(){this['uvAnimate'][_0x55f3('0x2f2')]=!0x1;}},{'key':'setLoop','value':function(_0x434fb1){this[_0x55f3('0x625')][_0x55f3('0x2f1')]=_0x434fb1,this[_0x55f3('0x625')][_0x55f3('0x2f2')]=!_0x434fb1;}},{'key':'update','value':function(){this[_0x55f3('0x625')]&&this[_0x55f3('0x625')][_0x55f3('0x2f8')]();}}]),_0x58425a[_0x55f3('0x9')]=_0x181061;},function(_0x3413a7,_0x39d367,_0x3064e4){'use strict';Object[_0x55f3('0x4')](_0x39d367,_0x55f3('0x7'),{'value':!0x0});var _0x518fad=_0x313b0c(_0x3064e4(0x0));function _0x313b0c(_0x3413a7){return _0x3413a7&&_0x3413a7['__esModule']?_0x3413a7:{'default':_0x3413a7};}function _0x5239bf(_0x3413a7){var _0x39d367=_0x3413a7[_0x55f3('0x1c6')],_0x3064e4=_0x3413a7[_0x55f3('0x21e')],_0x3064e4=void 0x0===_0x3064e4?0x64:_0x3064e4,_0x313b0c=_0x3413a7[_0x55f3('0x32d')],_0x313b0c=void 0x0===_0x313b0c?0x32:_0x313b0c,_0x5369e0=_0x3413a7['colorStr'],_0x5369e0=void 0x0===_0x5369e0?_0x55f3('0x339'):_0x5369e0,_0x5b2225=_0x3413a7['speed'],_0x5b2225=void 0x0===_0x5b2225?0.3:_0x5b2225,_0x357a00=_0x3413a7[_0x55f3('0x601')],_0x357a00=void 0x0!==_0x357a00&&_0x357a00,_0x3413a7=_0x3413a7[_0x55f3('0x603')],_0x3413a7=void 0x0===_0x3413a7?0x0:_0x3413a7;(0x0,_0x518fad[_0x55f3('0x9')])(this,_0x5239bf),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x1c6')]=_0x39d367,this[_0x55f3('0x21e')]=_0x3064e4,this[_0x55f3('0x32d')]=_0x313b0c,this[_0x55f3('0x2fd')]=_0x5369e0,this['count']=0x0,this[_0x55f3('0x604')]=null,this[_0x55f3('0x3f')]=null,this['shader']=null,this['cinctureCount']=0x0,this[_0x55f3('0x337')]=_0x5b2225,this[_0x55f3('0x601')]=_0x357a00,this[_0x55f3('0x603')]=_0x3413a7;}(0x0,_0x313b0c(_0x3064e4(0x1))[_0x55f3('0x9')])(_0x5239bf,[{'key':_0x55f3('0x8'),'value':function(){var _0x3413a7=new THREE['CylinderBufferGeometry'](this[_0x55f3('0x21e')],this['radius'],this[_0x55f3('0x32d')],0x20,0x1,!0x0,0x0,0x2*Math['PI']),_0x39d367=(this[_0x55f3('0x1c6')][_0x55f3('0x33e')]=THREE['RepeatWrapping'],this[_0x55f3('0x1c6')]['wrapT']=THREE['RepeatWrapping'],this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'side':THREE['DoubleSide'],'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x55f3('0x1d4')]}),this['colorStr']&&(this['colorStr'],this[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](this['colorStr'])),this);return this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x3413a7){_0x3413a7[_0x55f3('0x164')][_0x55f3('0x6c6')]={'value':0x1},_0x3413a7['uniforms'][_0x55f3('0x51c')]={'value':_0x39d367[_0x55f3('0x1c6')]},_0x3413a7['uniforms']['isCilpGround']={'value':_0x39d367[_0x55f3('0x601')]},_0x3413a7[_0x55f3('0x164')][_0x55f3('0x603')]={'value':_0x39d367[_0x55f3('0x603')]},_0x3413a7[_0x55f3('0x57')]=_0x3413a7[_0x55f3('0x57')]['replace'](_0x55f3('0x6c7'),_0x55f3('0x6c8')),_0x3413a7[_0x55f3('0x57')]=_0x3413a7['vertexShader'][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x6c9')),_0x3413a7['fragmentShader']=_0x3413a7[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lightIntensity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isCilpGround;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20clipGroundY;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x3413a7[_0x55f3('0x58')]=_0x3413a7['fragmentShader'][_0x55f3('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x55f3('0x6ca')),_0x39d367[_0x55f3('0x4b9')]=_0x3413a7;},this[_0x55f3('0x604')]=new THREE['Mesh'](_0x3413a7,this['material']),this['cincture'][_0x55f3('0x318')]=0x45,this[_0x55f3('0x319')][_0x55f3('0x1c3')](this['cincture']),this[_0x55f3('0x319')],this[_0x55f3('0x319')];}},{'key':_0x55f3('0x2f8'),'value':function(_0x3413a7){this[_0x55f3('0x604')]&&(this[_0x55f3('0x6cb')]+=_0x3413a7*this['speed'],0x1<this[_0x55f3('0x6cb')]&&(this[_0x55f3('0x6cb')]=0x0),_0x3413a7=0.5*(0x1-Math['cos'](this[_0x55f3('0x6cb')]*Math['PI']*0x2)),this[_0x55f3('0x604')][_0x55f3('0x1d9')]['x']=this[_0x55f3('0x604')][_0x55f3('0x1d9')]['z']=1.5*(0x1-Math[_0x55f3('0x5c')](this[_0x55f3('0x6cb')]*Math['PI']))*0.5+0.001,this[_0x55f3('0x604')][_0x55f3('0x1d9')]['y']=1.5*_0x3413a7+0.001,this[_0x55f3('0x3f')][_0x55f3('0x221')]=_0x3413a7,this['shader']&&(this['shader'][_0x55f3('0x164')]['lightIntensity'][_0x55f3('0x12')]=_0x3413a7));}},{'key':_0x55f3('0x338'),'set':function(_0x3413a7){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x3413a7;},'get':function(){return this[_0x55f3('0x319')]['visible'];}}]),_0x39d367[_0x55f3('0x9')]=_0x5239bf;},function(_0x56b91e,_0x2f524c,_0x397ec6){'use strict';Object[_0x55f3('0x4')](_0x2f524c,_0x55f3('0x7'),{'value':!0x0});var _0x3b8cef=_0xf9bbd6(_0x397ec6(0x0));function _0xf9bbd6(_0x56b91e){return _0x56b91e&&_0x56b91e['__esModule']?_0x56b91e:{'default':_0x56b91e};}function _0x3dc422(_0x56b91e){var _0x2f524c=_0x56b91e[_0x55f3('0x1c6')],_0x56b91e=_0x56b91e['colorStr'],_0x56b91e=void 0x0===_0x56b91e?_0x55f3('0x339'):_0x56b91e;(0x0,_0x3b8cef[_0x55f3('0x9')])(this,_0x3dc422),this[_0x55f3('0x555')]=!0x0,this[_0x55f3('0x319')]=new THREE['Group'](),this[_0x55f3('0x1c6')]=_0x2f524c,this['colorStr']=_0x56b91e,this['count']=0x0,this[_0x55f3('0x337')]=0x1,this[_0x55f3('0x3f')]=null;}(0x0,_0xf9bbd6(_0x397ec6(0x1))[_0x55f3('0x9')])(_0x3dc422,[{'key':'createMaterial','value':function(_0x56b91e){_0x56b91e['wrapT']=THREE[_0x55f3('0x33d')],_0x56b91e['wrapS']=THREE['RepeatWrapping'],_0x56b91e['repeat']['y']=0x2,this['material']=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'transparent':!0x0,'map':_0x56b91e,'opacity':0.6,'blending':THREE[_0x55f3('0x1d4')]});}},{'key':'create','value':function(_0x56b91e){var _0x2f524c=_0x56b91e[_0x55f3('0x1c6')],_0x397ec6=_0x56b91e[_0x55f3('0x606')],_0x3b8cef=_0x56b91e[_0x55f3('0x21e')],_0xf9bbd6=_0x56b91e[_0x55f3('0x607')],_0x56b91e=_0x56b91e[_0x55f3('0x1ec')],_0x56b91e=(_0x56b91e&&(_0x3b8cef=Math[_0x55f3('0x6cc')](THREE['Math'][_0x55f3('0x391')](_0x56b91e/0x2))*_0xf9bbd6),new THREE[(_0x55f3('0x6cd'))](_0x3b8cef,_0xf9bbd6,0x14,0x1,!0x0)),_0x3b8cef=(this[_0x55f3('0x2fc')](_0x2f524c,_0x397ec6),new THREE['Mesh'](_0x56b91e,this[_0x55f3('0x3f')]));return this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x3b8cef),_0x3b8cef;}},{'key':_0x55f3('0x336'),'value':function(_0x56b91e){this[_0x55f3('0x3f')]&&this[_0x55f3('0x3f')][_0x55f3('0x94')]&&(this[_0x55f3('0xfc')]+=_0x56b91e*this[_0x55f3('0x337')]*0.1,this[_0x55f3('0x3f')]['map'][_0x55f3('0xf5')]['y']=this[_0x55f3('0xfc')]);}}]),_0x2f524c[_0x55f3('0x9')]=_0x3dc422;},function(_0x57f417,_0x14e376,_0x144ede){'use strict';Object[_0x55f3('0x4')](_0x14e376,_0x55f3('0x7'),{'value':!0x0});var _0x586af5=_0x278dbc(_0x144ede(0x4)),_0x31f1d4=_0x278dbc(_0x144ede(0x0));function _0x278dbc(_0x57f417){return _0x57f417&&_0x57f417[_0x55f3('0x7')]?_0x57f417:{'default':_0x57f417};}function _0x1d39f0(_0x57f417){var _0x14e376=_0x57f417[_0x55f3('0x1c6')],_0x144ede=_0x57f417[_0x55f3('0x2fd')],_0x144ede=void 0x0===_0x144ede?_0x55f3('0x339'):_0x144ede,_0x278dbc=_0x57f417[_0x55f3('0x6ce')],_0x278dbc=void 0x0===_0x278dbc?_0x55f3('0x6cf'):_0x278dbc,_0x111113=_0x57f417[_0x55f3('0x1d9')],_0x111113=void 0x0===_0x111113?0x14:_0x111113,_0x47089f=_0x57f417['speed'],_0x47089f=void 0x0===_0x47089f?0x1:_0x47089f,_0x4214ee=_0x57f417[_0x55f3('0x60b')],_0x4214ee=void 0x0===_0x4214ee||_0x4214ee,_0x1fa7a0=_0x57f417[_0x55f3('0x60c')],_0x1fa7a0=void 0x0!==_0x1fa7a0&&_0x1fa7a0,_0x4e88c0=_0x57f417[_0x55f3('0x60e')],_0x4e88c0=void 0x0===_0x4e88c0?0xa:_0x4e88c0,_0x213dd1=_0x57f417[_0x55f3('0x6d0')],_0x213dd1=void 0x0!==_0x213dd1&&_0x213dd1,_0x1dbdef=_0x57f417[_0x55f3('0x610')],_0x1dbdef=void 0x0!==_0x1dbdef&&_0x1dbdef,_0x57f417=_0x57f417['isSetTopAlphaTrans'],_0x57f417=void 0x0===_0x57f417||_0x57f417;(0x0,_0x31f1d4[_0x55f3('0x9')])(this,_0x1d39f0),this[_0x55f3('0x555')]=!0x0,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x1c6')]=_0x14e376,this['alphaTex']=null,this['lineParams']={'spline':_0x55f3('0x6d1'),'scale':_0x111113,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x55f3('0x32d')]=0x19,this['extentIds']=[],this[_0x55f3('0x64e')]=[],this[_0x55f3('0x6d2')]=null,this['count']=0x0,this[_0x55f3('0x6d3')]=0.005*_0x47089f,this[_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x144ede),this['focusColor']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x278dbc),this[_0x55f3('0x612')]=null,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x6d4')]=null,this[_0x55f3('0x60c')]=_0x1fa7a0,this[_0x55f3('0x60e')]=_0x4e88c0,this[_0x55f3('0x6d0')]=_0x213dd1,this[_0x55f3('0x610')]=_0x1dbdef,this[_0x55f3('0x611')]=Boolean(_0x57f417),this['createMaterial'](_0x4214ee);}(0x0,_0x278dbc(_0x144ede(0x1))[_0x55f3('0x9')])(_0x1d39f0,[{'key':_0x55f3('0x2fc'),'value':function(_0x57f417){this[_0x55f3('0x612')]=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'transparent':!0x0,'depthWrite':!0x1}),this['wallMaterial'][_0x55f3('0x6d5')]=!0x0,_0x57f417&&(this[_0x55f3('0x612')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')]),this[_0x55f3('0x612')][_0x55f3('0x220')]=this[_0x55f3('0x220')],this['texture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this['texture'][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')];var _0x14e376=this;this[_0x55f3('0x60c')]?(this['wallMaterial'][_0x55f3('0x3bf')]=THREE[_0x55f3('0x6d6')],this[_0x55f3('0x1c6')][_0x55f3('0x2f4')]['y']=0x2,this[_0x55f3('0x1c6')][_0x55f3('0x2f4')]['x']=this[_0x55f3('0x60e')],this[_0x55f3('0x612')][_0x55f3('0x94')]=this['texture']):(this[_0x55f3('0x612')][_0x55f3('0x3bf')]=this[_0x55f3('0x610')]?THREE[_0x55f3('0x414')]:THREE[_0x55f3('0x308')],this[_0x55f3('0x612')][_0x55f3('0x44d')]=function(_0x57f417){_0x57f417[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x57f417['uniforms'][_0x55f3('0x6d7')]={'value':0x1},_0x57f417[_0x55f3('0x164')][_0x55f3('0x6d8')]={'value':_0x14e376[_0x55f3('0x1c6')]},_0x57f417['uniforms'][_0x55f3('0x6d9')]={'value':_0x14e376[_0x55f3('0x611')]},_0x57f417[_0x55f3('0x57')]=_0x57f417[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x6c7'),_0x55f3('0x6da')),_0x57f417['vertexShader']=_0x57f417[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nvUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x57f417[_0x55f3('0x58')]=_0x57f417[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20lineRep;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20bool\x20isAlphaMask;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20lineTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x57f417[_0x55f3('0x58')]=_0x57f417[_0x55f3('0x58')][_0x55f3('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x55f3('0x6db')),_0x14e376[_0x55f3('0x4b9')]=_0x57f417;});}},{'key':'addWall','value':function(_0x57f417){var _0x14e376=_0x57f417[_0x55f3('0x507')],_0x144ede=_0x57f417[_0x55f3('0x6dc')],_0x278dbc=_0x57f417[_0x55f3('0x614')],_0x278dbc=void 0x0===_0x278dbc?0x5:_0x278dbc,_0x57f417=_0x57f417[_0x55f3('0x615')],_0x45ce00=_0x14e376[0x0],_0x1e59ee=[],_0x2b067f=!0x0,_0x430ac9=!0x1,_0x2adce3=void 0x0;try{for(var _0x13e31b,_0x272a56=(0x0,_0x586af5[_0x55f3('0x9')])(_0x14e376);!(_0x2b067f=(_0x13e31b=_0x272a56[_0x55f3('0x85')]())['done']);_0x2b067f=!0x0){var _0x31f1d4=_0x13e31b['value'],_0x1d39f0=_0x31f1d4['x']-_0x45ce00['x'],_0x1eb451=_0x31f1d4['z']-_0x45ce00['z'];_0x1e59ee[_0x55f3('0x73')]({'x':_0x1d39f0,'y':_0x1eb451});}}catch(_0x3f4656){_0x430ac9=!0x0,_0x2adce3=_0x3f4656;}finally{try{!_0x2b067f&&_0x272a56[_0x55f3('0x271')]&&_0x272a56[_0x55f3('0x271')]();}finally{if(_0x430ac9)throw _0x2adce3;}}_0x57f417||_0x1e59ee['push']({'x':0x0,'y':0x0});_0x14e376=null,(_0x14e376=this[_0x55f3('0x60c')]?this[_0x55f3('0x6dd')]({'points':_0x1e59ee,'height':_0x278dbc}):this[_0x55f3('0x6de')]({'points':_0x1e59ee,'height':_0x278dbc}))[_0x55f3('0x6df')](),_0x430ac9=new THREE['Mesh'](_0x14e376,this[_0x55f3('0x612')]);return _0x430ac9['renderOrder']=0x47,_0x430ac9[_0x55f3('0x6dc')]=_0x144ede,this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x430ac9),this[_0x55f3('0x64e')]['push']({'id':_0x144ede,'mesh':_0x430ac9}),_0x430ac9;}},{'key':_0x55f3('0x6dd'),'value':function(_0x14e376){var _0x57f417=_0x14e376[_0x55f3('0x507')],_0x57f417=void 0x0===_0x57f417?[]:_0x57f417,_0x14e376=_0x14e376['height'],_0x144ede=void 0x0===_0x14e376?0x0:_0x14e376,_0x278dbc=[],_0x4a640a=!0x0,_0x14e376=!0x1,_0x5d8ac5=void 0x0;try{for(var _0x4cf584,_0x5cef35=(0x0,_0x586af5[_0x55f3('0x9')])(_0x57f417);!(_0x4a640a=(_0x4cf584=_0x5cef35[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4a640a=!0x0){var _0x26610d=_0x4cf584[_0x55f3('0x12')];_0x278dbc['push'](new THREE[(_0x55f3('0x5a'))](_0x26610d['x'],_0x144ede,_0x26610d['y']));}}catch(_0x4ab8c4){_0x14e376=!0x0,_0x5d8ac5=_0x4ab8c4;}finally{try{!_0x4a640a&&_0x5cef35[_0x55f3('0x271')]&&_0x5cef35[_0x55f3('0x271')]();}finally{if(_0x14e376)throw _0x5d8ac5;}}_0x57f417=new THREE[(_0x55f3('0x6e0'))](_0x278dbc,!0x1,_0x55f3('0x6e1'),0.01),_0x14e376=new THREE[(_0x55f3('0x6e2'))](_0x57f417,this[_0x55f3('0x6e3')][_0x55f3('0x6e4')],this[_0x55f3('0x6e3')][_0x55f3('0x1d9')],this[_0x55f3('0x6e3')]['radiusSegments'],this[_0x55f3('0x6e3')]['closed']);return _0x14e376[_0x55f3('0x6df')](),_0x14e376;}},{'key':_0x55f3('0x6de'),'value':function(_0x57f417){for(var _0x14e376=_0x57f417[_0x55f3('0x507')],_0x144ede=void 0x0===_0x14e376?[]:_0x14e376,_0x14e376=_0x57f417['height'],_0x278dbc=void 0x0===_0x14e376?0x0:_0x14e376,_0x475d16=[],_0xaf378b=[],_0x1c2642=0x0,_0x491255=_0x475d16[_0x55f3('0xf')],_0x234bdf=_0xaf378b[_0x55f3('0xf')];_0x1c2642<_0x144ede[_0x55f3('0xf')]-0x1;_0x1c2642++){var _0x4cce05=_0x144ede[_0x1c2642],_0x50f7ab=_0x144ede[_0x1c2642+0x1];_0x475d16[_0x491255++]=_0x4cce05['x'],_0x475d16[_0x491255++]=0x0,_0x475d16[_0x491255++]=_0x4cce05['y'],_0xaf378b[_0x234bdf++]=0x0,_0xaf378b[_0x234bdf++]=0x0,_0x475d16[_0x491255++]=_0x50f7ab['x'],_0x475d16[_0x491255++]=0x0,_0x475d16[_0x491255++]=_0x50f7ab['y'],_0xaf378b[_0x234bdf++]=0x1,_0xaf378b[_0x234bdf++]=0x0,_0x475d16[_0x491255++]=_0x4cce05['x'],_0x475d16[_0x491255++]=_0x278dbc,_0x475d16[_0x491255++]=_0x4cce05['y'],_0xaf378b[_0x234bdf++]=0x0,_0xaf378b[_0x234bdf++]=0x1,_0x475d16[_0x491255++]=_0x4cce05['x'],_0x475d16[_0x491255++]=_0x278dbc,_0x475d16[_0x491255++]=_0x4cce05['y'],_0xaf378b[_0x234bdf++]=0x0,_0xaf378b[_0x234bdf++]=0x1,_0x475d16[_0x491255++]=_0x50f7ab['x'],_0x475d16[_0x491255++]=0x0,_0x475d16[_0x491255++]=_0x50f7ab['y'],_0xaf378b[_0x234bdf++]=0x1,_0xaf378b[_0x234bdf++]=0x0,_0x475d16[_0x491255++]=_0x50f7ab['x'],_0x475d16[_0x491255++]=_0x278dbc,_0x475d16[_0x491255++]=_0x50f7ab['y'],_0xaf378b[_0x234bdf++]=0x1,_0xaf378b[_0x234bdf++]=0x1;}_0x57f417=new THREE['BufferGeometry']();return _0x57f417[_0x55f3('0x1f2')](_0x55f3('0x38'),new THREE[(_0x55f3('0x102'))](new Float32Array(_0x475d16),0x3)),_0x57f417[_0x55f3('0x1f2')]('uv',new THREE['BufferAttribute'](new Float32Array(_0xaf378b),0x2)),_0x57f417;}},{'key':_0x55f3('0x6e5'),'value':function(_0x57f417){_0x57f417=this[_0x55f3('0x6e6')](_0x57f417),_0x57f417=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x6e7'))](_0x57f417),this[_0x55f3('0x6d4')]);return _0x57f417['rotateX'](0.5*-Math['PI']),_0x57f417[_0x55f3('0x38')]['y']=0x0,_0x57f417;}},{'key':_0x55f3('0x6e6'),'value':function(_0x57f417){var _0x14e376=new THREE[(_0x55f3('0x6e8'))](),_0x144ede=(_0x14e376[_0x55f3('0x644')](0x0,0x0),!0x0),_0x278dbc=!0x1,_0x268e88=void 0x0;try{for(var _0x239f97,_0x53b50f=(0x0,_0x586af5[_0x55f3('0x9')])(_0x57f417);!(_0x144ede=(_0x239f97=_0x53b50f[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x144ede=!0x0){var _0x5d5bd7=_0x239f97[_0x55f3('0x12')];_0x14e376[_0x55f3('0x6e9')](_0x5d5bd7['x'],-_0x5d5bd7['z']);}}catch(_0x5deb2b){_0x278dbc=!0x0,_0x268e88=_0x5deb2b;}finally{try{!_0x144ede&&_0x53b50f[_0x55f3('0x271')]&&_0x53b50f['return']();}finally{if(_0x278dbc)throw _0x268e88;}}return _0x14e376;}},{'key':_0x55f3('0x336'),'value':function(){this[_0x55f3('0x555')]&&this[_0x55f3('0x4b9')]?(this[_0x55f3('0xfc')]-=this[_0x55f3('0x6d3')],this['shader'][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]):this[_0x55f3('0x60c')]&&(this[_0x55f3('0xfc')]=this[_0x55f3('0x6d0')]?this[_0x55f3('0xfc')]+this[_0x55f3('0x6d3')]:this[_0x55f3('0xfc')]-this[_0x55f3('0x6d3')],this[_0x55f3('0x612')]['map'][_0x55f3('0xf5')]['x']=this[_0x55f3('0xfc')]);}},{'key':_0x55f3('0x6ea'),'value':function(_0x57f417){var _0x14e376=!0x0,_0x144ede=!0x1,_0x278dbc=void 0x0;try{for(var _0x23383a,_0x3a14cb=(0x0,_0x586af5[_0x55f3('0x9')])(this['extentIds']);!(_0x14e376=(_0x23383a=_0x3a14cb['next']())[_0x55f3('0x269')]);_0x14e376=!0x0)if(_0x23383a[_0x55f3('0x12')]===_0x57f417)return!0x0;}catch(_0x2cac65){_0x144ede=!0x0,_0x278dbc=_0x2cac65;}finally{try{!_0x14e376&&_0x3a14cb[_0x55f3('0x271')]&&_0x3a14cb[_0x55f3('0x271')]();}finally{if(_0x144ede)throw _0x278dbc;}}return!0x1;}},{'key':_0x55f3('0x6eb'),'value':function(_0x57f417){var _0x14e376=!0x0,_0x144ede=!0x1,_0x278dbc=void 0x0;try{for(var _0x2ab740,_0x44aff9=(0x0,_0x586af5[_0x55f3('0x9')])(this[_0x55f3('0x64e')]);!(_0x14e376=(_0x2ab740=_0x44aff9['next']())[_0x55f3('0x269')]);_0x14e376=!0x0){var _0x1643d4=_0x2ab740['value'];if(_0x1643d4['id']===_0x57f417)return _0x1643d4;}}catch(_0x13332f){_0x144ede=!0x0,_0x278dbc=_0x13332f;}finally{try{!_0x14e376&&_0x44aff9['return']&&_0x44aff9[_0x55f3('0x271')]();}finally{if(_0x144ede)throw _0x278dbc;}}return null;}},{'key':_0x55f3('0x6ec'),'value':function(_0x57f417){var _0x14e376=_0x57f417[_0x55f3('0x6dc')],_0x57f417=_0x57f417[_0x55f3('0x6ed')],_0x57f417=void 0x0===_0x57f417||_0x57f417,_0x144ede=this[_0x55f3('0x6eb')](_0x14e376);_0x144ede&&(this[_0x55f3('0x6d2')]=_0x14e376,_0x144ede[_0x55f3('0x1ea')][_0x55f3('0x3f')]['color']['copy'](this[_0x55f3('0x6ee')]),_0x57f417&&this[_0x55f3('0x6ef')](_0x144ede[_0x55f3('0x1ea')]),this[_0x55f3('0x6f0')](!0x1),_0x144ede[_0x55f3('0x1ea')][_0x55f3('0x338')]=!0x0);}},{'key':_0x55f3('0x6f1'),'value':function(){var _0x57f417;this[_0x55f3('0x6d2')]&&(this[_0x55f3('0x6f0')](!0x0),(_0x57f417=this[_0x55f3('0x6eb')](this[_0x55f3('0x6d2')]))[_0x55f3('0x1ea')][_0x55f3('0x3f')]['color'][_0x55f3('0x1ba')](_0x57f417[_0x55f3('0x1ea')][_0x55f3('0x6f2')]),this[_0x55f3('0x6d2')]=null);}},{'key':'startPopAnimate','value':function(_0x57f417){_0x57f417[_0x55f3('0x38')]['y']=-0x19;var _0x14e376=new THREE[(_0x55f3('0x5a'))]()[_0x55f3('0x1ba')](_0x57f417[_0x55f3('0x38')]);_0x14e376['y']=0x19,new TWEEN[(_0x55f3('0x331'))](_0x57f417[_0x55f3('0x38')])['to'](_0x14e376,0x3e8)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x6f3')][_0x55f3('0x393')])[_0x55f3('0x395')]();}},{'key':_0x55f3('0x6f0'),'value':function(_0x57f417){var _0x14e376=!0x0,_0x144ede=!0x1,_0x278dbc=void 0x0;try{for(var _0xd4af3f,_0x755fbb=(0x0,_0x586af5[_0x55f3('0x9')])(this[_0x55f3('0x64e')]);!(_0x14e376=(_0xd4af3f=_0x755fbb['next']())[_0x55f3('0x269')]);_0x14e376=!0x0)_0xd4af3f['value']['mesh'][_0x55f3('0x338')]=_0x57f417;}catch(_0x185d5e){_0x144ede=!0x0,_0x278dbc=_0x185d5e;}finally{try{!_0x14e376&&_0x755fbb[_0x55f3('0x271')]&&_0x755fbb[_0x55f3('0x271')]();}finally{if(_0x144ede)throw _0x278dbc;}}}},{'key':'visible','set':function(_0x57f417){this[_0x55f3('0x6f0')](_0x57f417);}}]),_0x14e376[_0x55f3('0x9')]=_0x1d39f0;},function(_0x58b663,_0x2f900f,_0x402687){'use strict';Object[_0x55f3('0x4')](_0x2f900f,'__esModule',{'value':!0x0});var _0x502767=_0x5ed6af(_0x402687(0x4)),_0x2951ee=_0x5ed6af(_0x402687(0x0));function _0x5ed6af(_0x58b663){return _0x58b663&&_0x58b663[_0x55f3('0x7')]?_0x58b663:{'default':_0x58b663};}function _0x209737(_0x58b663){var _0x2f900f=_0x58b663[_0x55f3('0x1c6')],_0x402687=_0x58b663[_0x55f3('0x2fd')],_0x402687=void 0x0===_0x402687?'#FFFFFF':_0x402687,_0x5ed6af=_0x58b663[_0x55f3('0x6ce')],_0x5ed6af=void 0x0===_0x5ed6af?'#ffee98':_0x5ed6af,_0x23ffa0=_0x58b663[_0x55f3('0x527')],_0x488b2f=_0x58b663[_0x55f3('0x6f4')],_0x3fc3eb=_0x58b663[_0x55f3('0x1d9')],_0x3fc3eb=void 0x0===_0x3fc3eb?0x14:_0x3fc3eb,_0x58b663=_0x58b663[_0x55f3('0x337')],_0x58b663=void 0x0===_0x58b663?0.004:_0x58b663;(0x0,_0x2951ee[_0x55f3('0x9')])(this,_0x209737),this['enabled']=!0x0,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x1c4'))](),this['texture']=_0x2f900f,this['alphaTex']=null,this[_0x55f3('0x6f5')]=null,_0x488b2f&&(this[_0x55f3('0x6f5')]=new THREE['Color']()[_0x55f3('0x300')](_0x488b2f),this['alphaTex']=_0x23ffa0,this[_0x55f3('0x527')][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this[_0x55f3('0x527')][_0x55f3('0x33e')]=THREE['RepeatWrapping']),this['lineParams']={'spline':_0x55f3('0x6d1'),'scale':_0x3fc3eb,'extrusionSegments':0x12c,'radiusSegments':0x2,'closed':!0x1},this[_0x55f3('0x32d')]=0x19,this['extentIds']=[],this[_0x55f3('0x64e')]=[],this[_0x55f3('0x6d2')]=null,this['count']=0x0,this['deltaSpeed']=_0x58b663,this['color']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x402687),this['focusColor']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x5ed6af),this[_0x55f3('0x612')]=null,this[_0x55f3('0x4b9')]=null,this['groundMaterial']=null,this[_0x55f3('0x2fc')]();}(0x0,_0x5ed6af(_0x402687(0x1))[_0x55f3('0x9')])(_0x209737,[{'key':_0x55f3('0x2fc'),'value':function(){this['wallMaterial']=new THREE['MeshBasicMaterial']({'color':0xffffff,'transparent':!0x0}),this[_0x55f3('0x612')][_0x55f3('0x220')]=this[_0x55f3('0x220')],this[_0x55f3('0x1c6')][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],this['texture']['wrapT']=THREE[_0x55f3('0x33d')],this['texture'][_0x55f3('0x2f4')]['y']=0x1,this[_0x55f3('0x1c6')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x612')][_0x55f3('0x94')]=this[_0x55f3('0x1c6')];var _0x2f900f=this;this['groundColor']&&(this[_0x55f3('0x6d4')]=new THREE['MeshBasicMaterial']({'color':this[_0x55f3('0x6f5')],'transparent':!0x0,'depthWrite':!0x1}),this[_0x55f3('0x6d4')]['onBeforeCompile']=function(_0x58b663){_0x58b663[_0x55f3('0x164')][_0x55f3('0x527')]={'value':_0x2f900f[_0x55f3('0x527')]},_0x58b663[_0x55f3('0x57')]=_0x58b663[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x6c7'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv2_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x58b663[_0x55f3('0x57')]=_0x58b663[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x6f6')),_0x58b663[_0x55f3('0x58')]=_0x58b663['fragmentShader']['replace'](_0x55f3('0x3ca'),_0x55f3('0x6f7')),_0x58b663['fragmentShader']=_0x58b663['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x6f8'));});}},{'key':_0x55f3('0x64c'),'value':function(_0x58b663){var _0x2f900f=_0x58b663['points'],_0x58b663=_0x58b663[_0x55f3('0x6dc')],_0x402687=_0x2f900f[0x0],_0x5ed6af=[],_0x3ef0d1=!0x0,_0x14d724=!0x1,_0x51a6df=void 0x0;try{for(var _0x2951ee,_0x209737=(0x0,_0x502767[_0x55f3('0x9')])(_0x2f900f);!(_0x3ef0d1=(_0x2951ee=_0x209737[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3ef0d1=!0x0){var _0x180c7f=_0x2951ee[_0x55f3('0x12')],_0x529627=_0x180c7f['x']-_0x402687['x'],_0x312d94=_0x180c7f['y']-_0x402687['y'],_0x4c8a80=_0x180c7f['z']-_0x402687['z'];_0x5ed6af['push'](new THREE[(_0x55f3('0x5a'))](_0x529627,_0x312d94,_0x4c8a80));}}catch(_0x77ad32){_0x14d724=!0x0,_0x51a6df=_0x77ad32;}finally{try{!_0x3ef0d1&&_0x209737[_0x55f3('0x271')]&&_0x209737['return']();}finally{if(_0x14d724)throw _0x51a6df;}}_0x5ed6af[_0x55f3('0x73')](new THREE[(_0x55f3('0x5a'))]());var _0x2f900f=new THREE['CatmullRomCurve3'](_0x5ed6af,!0x1,_0x55f3('0x6e1'),0.01),_0x14d724=new THREE[(_0x55f3('0x6e2'))](_0x2f900f,this[_0x55f3('0x6e3')][_0x55f3('0x6e4')],this['lineParams'][_0x55f3('0x1d9')],this[_0x55f3('0x6e3')]['radiusSegments'],this[_0x55f3('0x6e3')][_0x55f3('0x6f9')]),_0x51a6df=(_0x14d724[_0x55f3('0x6df')](),_0x14d724[_0x55f3('0x6fa')][_0x55f3('0x6fb')]()),_0x2f900f={'x':-_0x402687['x']-_0x51a6df['x'],'y':_0x402687['z']+_0x51a6df['z']},_0x51a6df=new THREE[(_0x55f3('0x317'))](_0x14d724,this[_0x55f3('0x612')]);return _0x51a6df[_0x55f3('0x318')]=0x47,_0x51a6df[_0x55f3('0x6dc')]=_0x58b663,_0x51a6df[_0x55f3('0x6f2')]=new THREE[(_0x55f3('0x1b7'))]()['copy'](this[_0x55f3('0x612')][_0x55f3('0x220')]),this[_0x55f3('0x6f5')]&&(_0x14d724=this[_0x55f3('0x6e5')](_0x5ed6af,this[_0x55f3('0x6f5')]),_0x51a6df['add'](_0x14d724)),this[_0x55f3('0x319')]['add'](_0x51a6df),this[_0x55f3('0x64e')][_0x55f3('0x73')]({'id':_0x58b663,'mesh':_0x51a6df,'center':{'x':_0x2f900f['x'],'y':_0x2f900f['y']}}),_0x51a6df;}},{'key':'addGround','value':function(_0x58b663){_0x58b663=this[_0x55f3('0x6e6')](_0x58b663),_0x58b663=new THREE['Mesh'](new THREE[(_0x55f3('0x6e7'))](_0x58b663),this['groundMaterial']);return _0x58b663[_0x55f3('0x549')](0.5*-Math['PI']),_0x58b663[_0x55f3('0x38')]['y']=-0x14,_0x58b663;}},{'key':_0x55f3('0x6e6'),'value':function(_0x58b663){var _0x2f900f=new THREE[(_0x55f3('0x6e8'))](),_0x402687=(_0x2f900f[_0x55f3('0x644')](0x0,0x0),!0x0),_0x5ed6af=!0x1,_0x1d3b4c=void 0x0;try{for(var _0x312786,_0x52423c=(0x0,_0x502767[_0x55f3('0x9')])(_0x58b663);!(_0x402687=(_0x312786=_0x52423c[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x402687=!0x0){var _0x2951ee=_0x312786[_0x55f3('0x12')];_0x2f900f[_0x55f3('0x6e9')](_0x2951ee['x'],-_0x2951ee['z']);}}catch(_0x569792){_0x5ed6af=!0x0,_0x1d3b4c=_0x569792;}finally{try{!_0x402687&&_0x52423c[_0x55f3('0x271')]&&_0x52423c[_0x55f3('0x271')]();}finally{if(_0x5ed6af)throw _0x1d3b4c;}}return _0x2f900f;}},{'key':_0x55f3('0x336'),'value':function(){this[_0x55f3('0x555')]&&this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]-=this[_0x55f3('0x6d3')],this[_0x55f3('0x612')][_0x55f3('0x94')][_0x55f3('0xf5')]['x']=this['count']);}}]),_0x2f900f[_0x55f3('0x9')]=_0x209737;},function(_0x111370,_0x41f9e9,_0x45e17c){'use strict';Object[_0x55f3('0x4')](_0x41f9e9,_0x55f3('0x7'),{'value':!0x0});var _0x521cda=_0x21c4ed(_0x45e17c(0x4)),_0x2a3b2e=_0x21c4ed(_0x45e17c(0x0)),_0x3f75b3=_0x21c4ed(_0x45e17c(0x1)),_0x29bda2=_0x21c4ed(_0x45e17c(0x36));function _0x21c4ed(_0x111370){return _0x111370&&_0x111370['__esModule']?_0x111370:{'default':_0x111370};}function _0x263656(_0x111370){var _0x41f9e9=_0x111370['colorStr'],_0x41f9e9=void 0x0===_0x41f9e9?'#FFFFFF':_0x41f9e9,_0x45e17c=_0x111370[_0x55f3('0x33a')],_0x45e17c=void 0x0===_0x45e17c?_0x55f3('0x6fc'):_0x45e17c,_0x3f75b3=_0x111370[_0x55f3('0x1d8')],_0x3f75b3=void 0x0===_0x3f75b3||_0x3f75b3,_0x111370=_0x111370[_0x55f3('0x221')],_0x111370=void 0x0===_0x111370?0.4:_0x111370;(0x0,_0x2a3b2e[_0x55f3('0x9')])(this,_0x263656),this[_0x55f3('0x97')]=null,this[_0x55f3('0x33a')]=_0x45e17c,this[_0x55f3('0x3f')]=null,this['lineList']=[],_0x55f3('0x6fd')!==_0x45e17c&&(this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x6fe'))]({'color':0xffffff}),this[_0x55f3('0x3f')]['depthTest']=_0x3f75b3,_0x111370<0x1&&(this[_0x55f3('0x3f')][_0x55f3('0x1d5')]=!0x0,this['material'][_0x55f3('0x221')]=_0x111370),_0x41f9e9&&(this[_0x55f3('0x3f')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x41f9e9)));}(0x0,_0x3f75b3['default'])(_0x263656,[{'key':_0x55f3('0x6ff'),'value':function(_0x111370,_0x41f9e9){this[_0x55f3('0x97')]=_0x111370;_0x111370=new THREE[(_0x55f3('0x700'))](_0x41f9e9),_0x41f9e9=new THREE[(_0x55f3('0x3ba'))](_0x111370,this['material']);return _0x41f9e9['renderOrder']=0x4f,this[_0x55f3('0x97')][_0x55f3('0x1c3')](_0x41f9e9),this['lineList'][_0x55f3('0x73')](_0x41f9e9),_0x41f9e9;}},{'key':_0x55f3('0x93'),'value':function(){if(this[_0x55f3('0x97')]){var _0x111370=!0x0,_0x41f9e9=!0x1,_0x45e17c=void 0x0;try{for(var _0x3f75b3,_0x2a3b2e=(0x0,_0x521cda[_0x55f3('0x9')])(this[_0x55f3('0x701')]);!(_0x111370=(_0x3f75b3=_0x2a3b2e[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x111370=!0x0){var _0x21c4ed=_0x3f75b3['value'];this[_0x55f3('0x97')][_0x55f3('0x96')](_0x21c4ed),_0x29bda2[_0x55f3('0x9')][_0x55f3('0x702')](_0x21c4ed);}}catch(_0x147f0a){_0x41f9e9=!0x0,_0x45e17c=_0x147f0a;}finally{try{!_0x111370&&_0x2a3b2e[_0x55f3('0x271')]&&_0x2a3b2e[_0x55f3('0x271')]();}finally{if(_0x41f9e9)throw _0x45e17c;}}this[_0x55f3('0x701')]=[];}}}]),_0x41f9e9[_0x55f3('0x9')]=_0x263656;},function(_0x531425,_0x1523fd,_0x396ac1){'use strict';Object[_0x55f3('0x4')](_0x1523fd,'__esModule',{'value':!0x0});var _0x58a5e6=_0x188198(_0x396ac1(0x0)),_0x43b826=_0x188198(_0x396ac1(0x1)),_0x3ad8ef=_0x188198(_0x396ac1(0x9b));function _0x188198(_0x531425){return _0x531425&&_0x531425['__esModule']?_0x531425:{'default':_0x531425};}function _0x53246f(_0x531425){var _0x1523fd=_0x531425['colorStr'],_0x1523fd=void 0x0===_0x1523fd?_0x55f3('0x435'):_0x1523fd,_0x396ac1=_0x531425[_0x55f3('0x21e')],_0x43b826=_0x531425[_0x55f3('0x1ec')],_0x43b826=void 0x0===_0x43b826?0x0:_0x43b826,_0x531425=_0x531425[_0x55f3('0x337')],_0x531425=void 0x0===_0x531425?0x1:_0x531425;(0x0,_0x58a5e6['default'])(this,_0x53246f),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x2fd')]=_0x1523fd,this['material']=null,this[_0x55f3('0x500')]=null,this[_0x55f3('0x21e')]=_0x396ac1||0xc8,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x337')]=_0x531425,this['angle']=_0x43b826,this[_0x55f3('0x2fc')](_0x1523fd);}(0x0,_0x43b826[_0x55f3('0x9')])(_0x53246f,[{'key':_0x55f3('0x2fc'),'value':function(){var _0x531425=_0x3ad8ef[_0x55f3('0x9')][_0x55f3('0x703')]([0.625,0x1]),_0x1523fd=new THREE[(_0x55f3('0x4d4'))](_0x531425),_0x396ac1=this;this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'transparent':!0x0,'opacity':0.5}),this[_0x55f3('0x2fd')]&&this[_0x55f3('0x3f')]['color'][_0x55f3('0x300')](this[_0x55f3('0x2fd')]),this['material']['onBeforeCompile']=function(_0x531425){_0x531425[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x531425['uniforms'][_0x55f3('0x51c')]={'value':_0x1523fd},_0x531425[_0x55f3('0x57')]=_0x531425[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x704')),_0x531425['vertexShader']=_0x531425[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x705')),_0x531425[_0x55f3('0x58')]=_0x531425[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x706')),_0x531425['fragmentShader']=_0x531425[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x707')),_0x396ac1['shader']=_0x531425;};}},{'key':_0x55f3('0x8'),'value':function(){var _0x531425=new THREE[(_0x55f3('0x520'))](this[_0x55f3('0x21e')],this['radius']),_0x531425=new THREE[(_0x55f3('0x317'))](_0x531425,this[_0x55f3('0x3f')]);return _0x531425[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x531425[_0x55f3('0x1ef')]['z']=THREE[_0x55f3('0x18')][_0x55f3('0x391')](this[_0x55f3('0x1ec')]),_0x531425[_0x55f3('0x318')]=0x4e,this['object3d'][_0x55f3('0x1c3')](_0x531425),_0x531425;}},{'key':_0x55f3('0x336'),'value':function(_0x531425){this[_0x55f3('0x4b9')]&&(this['count']+=_0x531425*this['speed'],this['shader'][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}},{'key':_0x55f3('0x338'),'set':function(_0x531425){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x531425;},'get':function(){return this[_0x55f3('0x319')]['visible'];}}]),_0x1523fd[_0x55f3('0x9')]=_0x53246f;},function(_0x5e4693,_0x57c600,_0x4d044d){'use strict';Object[_0x55f3('0x4')](_0x57c600,_0x55f3('0x7'),{'value':!0x0});var _0x462c4c=_0x224f49(_0x4d044d(0x0)),_0x2caa4c=_0x224f49(_0x4d044d(0x1)),_0x267667=_0x224f49(_0x4d044d(0x9b));function _0x224f49(_0x5e4693){return _0x5e4693&&_0x5e4693[_0x55f3('0x7')]?_0x5e4693:{'default':_0x5e4693};}function _0x136073(_0x5e4693){var _0x57c600=_0x5e4693[_0x55f3('0x2fd')],_0x57c600=void 0x0===_0x57c600?_0x55f3('0x435'):_0x57c600,_0x4d044d=_0x5e4693[_0x55f3('0x21e')],_0x2caa4c=_0x5e4693[_0x55f3('0x337')],_0x2caa4c=void 0x0===_0x2caa4c?0x1:_0x2caa4c,_0x267667=_0x5e4693[_0x55f3('0x1ec')],_0x267667=void 0x0===_0x267667?0x0:_0x267667,_0x5e4693=_0x5e4693['thickness'],_0x5e4693=void 0x0===_0x5e4693?0x1:_0x5e4693;(0x0,_0x462c4c[_0x55f3('0x9')])(this,_0x136073),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),_0x267667&&(this[_0x55f3('0x319')]['rotation']['y']=THREE[_0x55f3('0x18')]['degToRad'](_0x267667)),this[_0x55f3('0x2fd')]=_0x57c600,this[_0x55f3('0x3f')]=null,this[_0x55f3('0x500')]=null,this[_0x55f3('0x21e')]=_0x4d044d||0xc8,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x337')]=_0x2caa4c,this[_0x55f3('0x62f')]=0x1/_0x5e4693,this['createMaterial'](_0x57c600);}(0x0,_0x2caa4c['default'])(_0x136073,[{'key':'createMaterial','value':function(){var _0x5e4693=_0x267667[_0x55f3('0x9')][_0x55f3('0x703')]([0.625,0x1]),_0x57c600=new THREE[(_0x55f3('0x4d4'))](_0x5e4693),_0x4d044d=this;this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'transparent':!0x0,'opacity':0.5}),this[_0x55f3('0x2fd')]&&this[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](this['colorStr']),this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x5e4693){_0x5e4693[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':_0x57c600},_0x5e4693[_0x55f3('0x164')]['iTime']={'value':0x0},_0x5e4693[_0x55f3('0x164')]['thickness']={'value':_0x4d044d['thickness']},_0x5e4693[_0x55f3('0x57')]=_0x5e4693[_0x55f3('0x57')]['replace'](_0x55f3('0x43a'),_0x55f3('0x704')),_0x5e4693[_0x55f3('0x57')]=_0x5e4693['vertexShader'][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x705')),_0x5e4693[_0x55f3('0x58')]=_0x5e4693[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20noise(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20fract(sin(uv.x\x20*\x20113.\x20+\x20uv.y\x20*\x20412.)\x20*\x206339.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20noiseSmooth(vec2\x20uv)\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20index\x20=\x20floor(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20pq\x20=\x20fract(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20pq\x20=\x20smoothstep(0.,\x201.,\x20pq);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topLeft\x20=\x20noise(index);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20topRight\x20=\x20noise(index\x20+\x20vec2(1,\x200.));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20top\x20=\x20mix(topLeft,\x20topRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomLeft\x20=\x20noise(index\x20+\x20vec2(0,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottomRight\x20=\x20noise(index\x20+\x20vec2(1,\x201));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20bottom\x20=\x20mix(bottomLeft,\x20bottomRight,\x20pq.x);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20vec3(mix(top,\x20bottom,\x20pq.y));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5e4693[_0x55f3('0x58')]=_0x5e4693[_0x55f3('0x58')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20uv\x20+=\x20iMouse.xy\x20/\x2020.;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20vUV\x20*\x20thickness;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20+=\x20iTime\x20/\x2040.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv2\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv2.x\x20+=\x20iTime\x20/\x2010.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv3\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv3.x\x20+=\x20iTime\x20/\x2030.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20col\x20=\x20noiseSmooth(uv\x20*\x204.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv\x20*\x208.)\x20*\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv2\x20*\x2016.)\x20*\x200.25;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2032.)\x20*\x200.125;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20+=\x20noiseSmooth(uv3\x20*\x2064.)\x20*\x200.0625;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20/=\x201.2;\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20col\x20*=\x20smoothstep(0.2,\x20.6,\x20col);\x20\x20\x20\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaTex\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20resultAlpha\x20=\x20mix(0.0,\x20col.r,\x20alphaTex.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20col;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultAlpha\x20*\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4d044d[_0x55f3('0x4b9')]=_0x5e4693;};}},{'key':'create','value':function(){var _0x5e4693=new THREE['PlaneBufferGeometry'](this[_0x55f3('0x21e')],this[_0x55f3('0x21e')]),_0x5e4693=new THREE[(_0x55f3('0x317'))](_0x5e4693,this['material']);return _0x5e4693[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x5e4693[_0x55f3('0x1ef')]['z']=0.5*Math['PI'],_0x5e4693['renderOrder']=0x4e,this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x5e4693),_0x5e4693;}},{'key':'render','value':function(_0x5e4693){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]+=_0x5e4693*this['speed'],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}},{'key':'visible','set':function(_0x5e4693){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x5e4693;},'get':function(){return this['object3d'][_0x55f3('0x338')];}}]),_0x57c600[_0x55f3('0x9')]=_0x136073;},function(_0x461be6,_0x4ecaec,_0x85f495){'use strict';Object[_0x55f3('0x4')](_0x4ecaec,_0x55f3('0x7'),{'value':!0x0});var _0x1911f5=_0x3cd50c(_0x85f495(0x0)),_0x5ca136=_0x3cd50c(_0x85f495(0x1));function _0x3cd50c(_0x461be6){return _0x461be6&&_0x461be6[_0x55f3('0x7')]?_0x461be6:{'default':_0x461be6};}function _0x5f287e(){(0x0,_0x1911f5[_0x55f3('0x9')])(this,_0x5f287e),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))]();}_0x3cd50c(_0x85f495(0x9b)),(0x0,_0x5ca136[_0x55f3('0x9')])(_0x5f287e,[{'key':_0x55f3('0x2fc'),'value':function(_0x461be6){var _0x4ecaec=_0x461be6[_0x55f3('0x708')],_0x85f495=_0x461be6[_0x55f3('0x709')],_0x1911f5=_0x461be6[_0x55f3('0x70a')],_0x5ca136=_0x461be6['clipBorderTex'],_0x3cd50c=_0x461be6[_0x55f3('0x70b')],_0x5f287e=_0x461be6[_0x55f3('0x70c')],_0x35fbed=_0x461be6[_0x55f3('0x70d')],_0x461be6=new THREE[(_0x55f3('0x4d0'))]({'transparent':!0x0,'metalness':0x0,'roughness':0x1,'map':_0x4ecaec,'normalMap':_0x85f495,'displacementMap':_0x1911f5,'displacementScale':_0x3cd50c,'displacementBias':0x0});return _0x461be6[_0x55f3('0x44d')]=function(_0x461be6){_0x461be6[_0x55f3('0x164')]['extentWH']={'value':new THREE[(_0x55f3('0x1b4'))](_0x5f287e[_0x55f3('0x32c')],_0x5f287e[_0x55f3('0x32d')])},_0x461be6['uniforms'][_0x55f3('0x70e')]={'value':_0x35fbed},_0x461be6['uniforms']['clipBorderTex']={'value':_0x5ca136},_0x461be6[_0x55f3('0x57')]=_0x461be6['vertexShader'][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x70f')),_0x461be6[_0x55f3('0x57')]=_0x461be6['vertexShader'][_0x55f3('0x56')]('#include\x20<uv_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x461be6[_0x55f3('0x57')]=_0x461be6[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x710'),_0x55f3('0x711')),_0x461be6[_0x55f3('0x57')]=_0x461be6[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x712'),_0x55f3('0x713')),_0x461be6[_0x55f3('0x58')]=_0x461be6[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x714')),_0x461be6[_0x55f3('0x58')]=_0x461be6[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x715'));},_0x461be6;}},{'key':_0x55f3('0x8'),'value':function(_0x461be6){var _0x4ecaec=_0x461be6['imgTex'],_0x85f495=_0x461be6['heightImgUrl'],_0x1911f5=_0x461be6[_0x55f3('0x709')],_0x5ca136=_0x461be6[_0x55f3('0x716')],_0x3cd50c=_0x461be6[_0x55f3('0x717')],_0x5f287e=_0x461be6[_0x55f3('0x633')],_0x2d8bd1=_0x461be6[_0x55f3('0x2ec')],_0x2e20d5=_0x461be6[_0x55f3('0x2e5')],_0x461be6=_0x461be6[_0x55f3('0x70b')],_0x85f495=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x85f495),_0x4ecaec=(_0x5ca136&&(_0x5ca136[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x5ca136['wrapT']=THREE['RepeatWrapping']),this[_0x55f3('0x2fc')]({'imgTex':_0x4ecaec,'normalTex':_0x1911f5,'heightTex':_0x85f495,'clipBorderTex':_0x5ca136,'terrainDepth':_0x461be6,'extentWH':{'width':_0x3cd50c,'height':_0x5f287e},'GSD':new THREE[(_0x55f3('0x1b4'))](_0x3cd50c/_0x2d8bd1,_0x5f287e/_0x2e20d5)})),_0x1911f5=new THREE[(_0x55f3('0x520'))](_0x3cd50c,_0x5f287e,_0x2d8bd1,_0x2e20d5),_0x85f495=new THREE[(_0x55f3('0x317'))](_0x1911f5,_0x4ecaec);return _0x85f495[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x85f495[_0x55f3('0x1ef')]['z']=Math['PI'],this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x85f495),_0x85f495;}},{'key':_0x55f3('0x718'),'value':function(_0x461be6,_0x1911f5){new THREE[(_0x55f3('0x719'))]()[_0x55f3('0x26f')](_0x461be6,function(_0x461be6){var _0x4ecaec=document[_0x55f3('0x79')](_0x55f3('0x422')),_0x85f495=_0x4ecaec[_0x55f3('0x377')]('2d');_0x4ecaec[_0x55f3('0x32c')]=_0x461be6['naturalWidth'],_0x4ecaec[_0x55f3('0x32d')]=_0x461be6[_0x55f3('0x71a')],_0x85f495['drawImage'](_0x461be6,0x0,0x0),_0x85f495[_0x55f3('0x71b')]='black',_0x85f495['lineWidth']=0x1,_0x85f495[_0x55f3('0x71c')](),_0x85f495[_0x55f3('0x644')](0x0,0x0),_0x85f495[_0x55f3('0x6e9')](_0x4ecaec['width'],0x0),_0x85f495[_0x55f3('0x71d')](),_0x85f495[_0x55f3('0x71c')](),_0x85f495[_0x55f3('0x644')](0x0,_0x4ecaec[_0x55f3('0x32d')]-0x1),_0x85f495[_0x55f3('0x6e9')](_0x4ecaec[_0x55f3('0x32c')],_0x4ecaec[_0x55f3('0x32d')]-0x1),_0x85f495[_0x55f3('0x71d')](),_0x85f495[_0x55f3('0x71c')](),_0x85f495[_0x55f3('0x644')](0x0,0x0),_0x85f495[_0x55f3('0x6e9')](0x0,_0x4ecaec[_0x55f3('0x32d')]),_0x85f495[_0x55f3('0x71d')](),_0x85f495[_0x55f3('0x71c')](),_0x85f495[_0x55f3('0x644')](_0x4ecaec[_0x55f3('0x32c')]-0x1,0x0),_0x85f495[_0x55f3('0x6e9')](_0x4ecaec[_0x55f3('0x32c')]-0x1,_0x4ecaec[_0x55f3('0x32d')]),_0x85f495[_0x55f3('0x71d')](),_0x1911f5[_0x55f3('0x71e')]=new THREE['CanvasTexture'](_0x4ecaec),_0x1911f5[_0x55f3('0x71f')]=terrainDepth,_0x1911f5[_0x55f3('0x720')]=0x0,_0x1911f5[_0x55f3('0xf7')]=!0x0;});}},{'key':_0x55f3('0x338'),'set':function(_0x461be6){this[_0x55f3('0x319')][_0x55f3('0x338')]=_0x461be6;},'get':function(){return this[_0x55f3('0x319')]['visible'];}}]),_0x4ecaec[_0x55f3('0x9')]=_0x5f287e;},function(_0x52dc38,_0x45be72,_0x5ee2ea){'use strict';Object[_0x55f3('0x4')](_0x45be72,_0x55f3('0x7'),{'value':!0x0});var _0x3e74ed=_0x4e3cd5(_0x5ee2ea(0x28)),_0x4205d7=_0x4e3cd5(_0x5ee2ea(0x0)),_0x92b478=_0x4e3cd5(_0x5ee2ea(0x1)),_0x5b4d3b=_0x4e3cd5(_0x5ee2ea(0x29)),_0x39448d=_0x4e3cd5(_0x5ee2ea(0x2a));function _0x4e3cd5(_0x52dc38){return _0x52dc38&&_0x52dc38['__esModule']?_0x52dc38:{'default':_0x52dc38};}function _0x3526ae(_0x52dc38){var _0x45be72=_0x52dc38[_0x55f3('0x2fd')],_0x45be72=void 0x0===_0x45be72?'#ffffff':_0x45be72,_0x5ee2ea=_0x52dc38['radius'],_0x92b478=_0x52dc38['speed'],_0x92b478=void 0x0===_0x92b478?0x1:_0x92b478,_0x52dc38=_0x52dc38[_0x55f3('0x721')],_0x52dc38=void 0x0===_0x52dc38?0x32:_0x52dc38,_0x39448d=((0x0,_0x4205d7[_0x55f3('0x9')])(this,_0x3526ae),(0x0,_0x5b4d3b[_0x55f3('0x9')])(this,(_0x3526ae[_0x55f3('0x7d')]||(0x0,_0x3e74ed[_0x55f3('0x9')])(_0x3526ae))[_0x55f3('0x1')](this)));return _0x39448d[_0x55f3('0x2fd')]=_0x45be72,_0x39448d[_0x55f3('0x3f')]=null,_0x39448d[_0x55f3('0x21e')]=_0x5ee2ea||0xc8,_0x39448d['shader']=null,_0x39448d[_0x55f3('0xfc')]=0x0,_0x39448d[_0x55f3('0x337')]=_0x92b478,_0x39448d[_0x55f3('0x721')]=_0x52dc38,_0x39448d;}_0x5ee2ea=_0x5ee2ea(0x2b)['EventDispatcher'],(0x0,_0x39448d[_0x55f3('0x9')])(_0x3526ae,_0x5ee2ea),(0x0,_0x92b478[_0x55f3('0x9')])(_0x3526ae,[{'key':'computeRainFallFactor','value':function(_0x52dc38){return 0.84/_0x52dc38*0x168;}},{'key':_0x55f3('0x2fc'),'value':function(){var _0x45be72=this,_0x5ee2ea=(this['material']=new THREE['MeshBasicMaterial']({'transparent':!0x0,'opacity':0.5}),this[_0x55f3('0x2fd')]&&this['material'][_0x55f3('0x220')][_0x55f3('0x300')](this[_0x55f3('0x2fd')]),this[_0x55f3('0x722')](this[_0x55f3('0x721')]));return this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x52dc38){_0x52dc38[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x52dc38[_0x55f3('0x164')][_0x55f3('0x723')]={'value':_0x5ee2ea},_0x52dc38[_0x55f3('0x57')]=_0x52dc38[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x704')),_0x52dc38['vertexShader']=_0x52dc38[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x705')),_0x52dc38['fragmentShader']=_0x52dc38[_0x55f3('0x58')][_0x55f3('0x56')]('uniform\x20float\x20opacity;',_0x55f3('0x724')),_0x52dc38[_0x55f3('0x58')]=_0x52dc38[_0x55f3('0x58')]['replace'](_0x55f3('0x4f8'),_0x55f3('0x725')),_0x45be72[_0x55f3('0x4b9')]=_0x52dc38,_0x45be72[_0x55f3('0x2fa')]({'type':'canUpdate'});},this['material'];}},{'key':_0x55f3('0x2f8'),'value':function(_0x52dc38){_0x52dc38[_0x55f3('0x220')]&&this[_0x55f3('0x3f')][_0x55f3('0x220')]['setStyle'](_0x52dc38[_0x55f3('0x220')]),_0x52dc38[_0x55f3('0x721')]&&_0x55f3('0x17')==typeof _0x52dc38[_0x55f3('0x721')]&&this[_0x55f3('0x4b9')]&&(this['shader'][_0x55f3('0x164')][_0x55f3('0x723')]['value']=this[_0x55f3('0x722')](_0x52dc38['rainFall']));}},{'key':_0x55f3('0x336'),'value':function(_0x52dc38){this[_0x55f3('0x4b9')]&&(this['count']+=_0x52dc38*this[_0x55f3('0x337')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')]['value']=this[_0x55f3('0xfc')]);}}]),_0x45be72[_0x55f3('0x9')]=_0x3526ae;},function(_0x2c5312,_0x3aa525,_0x33eee8){'use strict';Object[_0x55f3('0x4')](_0x3aa525,_0x55f3('0x7'),{'value':!0x0});var _0x2bd7ee=_0x41398f(_0x33eee8(0x28)),_0x4e8677=_0x41398f(_0x33eee8(0x0)),_0x43109e=_0x41398f(_0x33eee8(0x1)),_0x36ac36=_0x41398f(_0x33eee8(0x29)),_0xf736fa=_0x41398f(_0x33eee8(0x2a));function _0x41398f(_0x2c5312){return _0x2c5312&&_0x2c5312[_0x55f3('0x7')]?_0x2c5312:{'default':_0x2c5312};}function _0x53554f(_0x2c5312){var _0x3aa525=_0x2c5312[_0x55f3('0x2fd')],_0x3aa525=void 0x0===_0x3aa525?_0x55f3('0x435'):_0x3aa525,_0x33eee8=_0x2c5312['radius'],_0x43109e=_0x2c5312[_0x55f3('0x337')],_0x43109e=void 0x0===_0x43109e?0x1:_0x43109e,_0x2c5312=_0x2c5312['snowFall'],_0x2c5312=void 0x0===_0x2c5312?0x3:_0x2c5312,_0xf736fa=((0x0,_0x4e8677[_0x55f3('0x9')])(this,_0x53554f),(0x0,_0x36ac36[_0x55f3('0x9')])(this,(_0x53554f[_0x55f3('0x7d')]||(0x0,_0x2bd7ee[_0x55f3('0x9')])(_0x53554f))[_0x55f3('0x1')](this)));return _0xf736fa[_0x55f3('0x2fd')]=_0x3aa525,_0xf736fa['material']=null,_0xf736fa[_0x55f3('0x21e')]=_0x33eee8||0xc8,_0xf736fa['shader']=null,_0xf736fa[_0x55f3('0xfc')]=0x0,_0xf736fa[_0x55f3('0x337')]=_0x43109e,_0xf736fa[_0x55f3('0x726')]=_0x2c5312,_0xf736fa;}_0x33eee8=_0x33eee8(0x2b)['EventDispatcher'],(0x0,_0xf736fa['default'])(_0x53554f,_0x33eee8),(0x0,_0x43109e['default'])(_0x53554f,[{'key':_0x55f3('0x727'),'value':function(_0x2c5312){return{'density':Math['floor'](0xf*_0x2c5312),'depth':0.5/_0x2c5312,'sway':0.3*_0x2c5312,'speed':0.7*_0x2c5312};}},{'key':'createMaterial','value':function(){var _0x3aa525=this,_0x33eee8=(this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'transparent':!0x0}),this[_0x55f3('0x2fd')]&&this[_0x55f3('0x3f')][_0x55f3('0x220')]['setStyle'](this[_0x55f3('0x2fd')]),this[_0x55f3('0x727')](this[_0x55f3('0x726')]));return this[_0x55f3('0x337')]=_0x33eee8[_0x55f3('0x337')],this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x2c5312){_0x2c5312[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x2c5312[_0x55f3('0x164')]['density']={'value':_0x33eee8[_0x55f3('0x728')]},_0x2c5312[_0x55f3('0x164')]['depth']={'value':_0x33eee8[_0x55f3('0x607')]},_0x2c5312[_0x55f3('0x164')][_0x55f3('0x729')]={'value':_0x33eee8[_0x55f3('0x729')]},_0x2c5312[_0x55f3('0x57')]=_0x2c5312['vertexShader']['replace'](_0x55f3('0x43a'),_0x55f3('0x704')),_0x2c5312[_0x55f3('0x57')]=_0x2c5312['vertexShader'][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x705')),_0x2c5312[_0x55f3('0x58')]=_0x2c5312[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x72a')),_0x2c5312['fragmentShader']=_0x2c5312[_0x55f3('0x58')][_0x55f3('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x55f3('0x72b')),_0x3aa525['shader']=_0x2c5312,_0x3aa525[_0x55f3('0x2fa')]({'type':_0x55f3('0x41f')});},this['material'];}},{'key':_0x55f3('0x2f8'),'value':function(_0x2c5312){_0x2c5312['color']&&this[_0x55f3('0x3f')]['color'][_0x55f3('0x300')](_0x2c5312[_0x55f3('0x220')]),_0x2c5312['snowFall']&&_0x55f3('0x17')==typeof _0x2c5312[_0x55f3('0x726')]&&(_0x2c5312=this[_0x55f3('0x727')](_0x2c5312['snowFall']),this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x728')][_0x55f3('0x12')]=_0x2c5312['density']),this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x607')][_0x55f3('0x12')]=_0x2c5312[_0x55f3('0x607')]),this[_0x55f3('0x4b9')]&&(this['shader'][_0x55f3('0x164')][_0x55f3('0x729')]['value']=_0x2c5312[_0x55f3('0x729')]));}},{'key':'render','value':function(_0x2c5312){this[_0x55f3('0x4b9')]&&(this['count']+=_0x2c5312*this[_0x55f3('0x337')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x3aa525[_0x55f3('0x9')]=_0x53554f;},function(_0x18f90c,_0x3ac325,_0x48823c){'use strict';Object['defineProperty'](_0x3ac325,_0x55f3('0x7'),{'value':!0x0});var _0x472703=_0x22b42a(_0x48823c(0x0)),_0x1008bf=_0x22b42a(_0x48823c(0x1)),_0x12e6c1=_0x22b42a(_0x48823c(0x3f));function _0x22b42a(_0x18f90c){return _0x18f90c&&_0x18f90c[_0x55f3('0x7')]?_0x18f90c:{'default':_0x18f90c};}function _0x266e00(_0x18f90c){_0x18f90c=_0x18f90c[_0x55f3('0x1d9')],_0x18f90c=void 0x0===_0x18f90c?0xa:_0x18f90c;(0x0,_0x472703[_0x55f3('0x9')])(this,_0x266e00),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x1d9')]=_0x18f90c,this[_0x55f3('0x72c')]=null,this['smokeParticle']=null,this['emitter']=null,this[_0x55f3('0x559')]=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x1008bf['default'])(_0x266e00,[{'key':_0x55f3('0x8'),'value':function(_0x18f90c){var _0x3ac325=_0x18f90c[_0x55f3('0x72d')],_0x48823c=_0x18f90c[_0x55f3('0x427')],_0x48823c=void 0x0===_0x48823c?0x1:_0x48823c,_0x472703=_0x18f90c[_0x55f3('0x1ed')],_0x472703=void 0x0===_0x472703?0x1:_0x472703,_0x1008bf=_0x18f90c[_0x55f3('0x55d')],_0x18f90c=_0x18f90c[_0x55f3('0x2fd')],_0x18f90c=void 0x0===_0x18f90c?_0x55f3('0x72e'):_0x18f90c,_0x1008bf=_0x1008bf?0x4:0x1;this['centerGroup']=new THREE['Group'](),this[_0x55f3('0x72f')]=new _0x12e6c1[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x3ac325},'transparent':!0x0,'blending':THREE[_0x55f3('0x730')],'maxParticleCount':0x14*_0x1008bf*_0x48823c}),this[_0x55f3('0x731')]=new _0x12e6c1[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'maxAge':{'value':1.5},'position':{'value':new THREE['Vector3'](0x0,0x0,0x0),'spread':new THREE[(_0x55f3('0x5a'))](+_0x472703,0x1,0x1)},'velocity':{'value':new THREE['Vector3'](0x0,0x1,0x0),'spread':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)},'color':{'value':[new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x18f90c)]},'size':{'value':[0xf*this[_0x55f3('0x1d9')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0xa*_0x1008bf*_0x48823c}),this['smokeParticle'][_0x55f3('0x3f')][_0x55f3('0x164')]['fogColor']['value']=new THREE['Color'](),this['smokeParticle'][_0x55f3('0x20d')](this['smokeEmitter']),this[_0x55f3('0x72f')][_0x55f3('0x1ea')][_0x55f3('0x1d9')]['set'](this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')]),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this['smokeParticle'][_0x55f3('0x1ea')]),this[_0x55f3('0x559')][_0x55f3('0x318')]=0xb,this[_0x55f3('0x319')]['add'](this[_0x55f3('0x559')]),this[_0x55f3('0x555')]=!0x0;}},{'key':'render','value':function(_0x18f90c){this[_0x55f3('0x555')]&&this['smokeParticle']&&this[_0x55f3('0x72f')][_0x55f3('0x21d')](_0x18f90c);}},{'key':'outfire','value':function(_0x18f90c){(0x64<_0x18f90c||_0x18f90c<0x0)&&(_0x18f90c=0x64);_0x18f90c=Math['round'](0x64*(0x1-_0x18f90c/0x64))/0x64;this[_0x55f3('0x731')]['activeMultiplier']=_0x18f90c;}},{'key':'visible','set':function(_0x18f90c){this[_0x55f3('0x55a')]=_0x18f90c,this['centerGroup'][_0x55f3('0x338')]=_0x18f90c;}}]),_0x3ac325[_0x55f3('0x9')]=_0x266e00;},function(_0x5f10fb,_0x336b20,_0xb90dc6){'use strict';Object[_0x55f3('0x4')](_0x336b20,_0x55f3('0x7'),{'value':!0x0});var _0x3b17a5=_0x17d3c6(_0xb90dc6(0x0)),_0x4dbb76=_0x17d3c6(_0xb90dc6(0x1)),_0x3a271b=_0x17d3c6(_0xb90dc6(0x3f)),_0x3d16ff=_0xb90dc6(0x17);function _0x17d3c6(_0x5f10fb){return _0x5f10fb&&_0x5f10fb['__esModule']?_0x5f10fb:{'default':_0x5f10fb};}function _0x5ddad9(_0x5f10fb){_0x5f10fb=_0x5f10fb['scale'],_0x5f10fb=void 0x0===_0x5f10fb?0x1:_0x5f10fb;(0x0,_0x3b17a5[_0x55f3('0x9')])(this,_0x5ddad9),this[_0x55f3('0x555')]=!0x1,this['object3d']=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x1d9')]=_0x5f10fb,this[_0x55f3('0x72c')]=null,this['smokeParticle']=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x4dbb76[_0x55f3('0x9')])(_0x5ddad9,[{'key':_0x55f3('0x8'),'value':function(_0x5f10fb){var _0x336b20=_0x5f10fb[_0x55f3('0x72d')],_0xb90dc6=_0x5f10fb[_0x55f3('0x427')],_0xb90dc6=void 0x0===_0xb90dc6?0x1:_0xb90dc6,_0x3b17a5=_0x5f10fb['spread'],_0x3b17a5=void 0x0===_0x3b17a5?0x1:_0x3b17a5,_0x4dbb76=_0x5f10fb[_0x55f3('0x55d')],_0x17d3c6=_0x5f10fb[_0x55f3('0x55f')],_0x5f10fb=_0x5f10fb['depthTest'],_0x5f10fb=void 0x0!==_0x5f10fb&&_0x5f10fb,_0x4dbb76=_0x4dbb76?0x4:0x1,_0x5ddad9=(this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),new THREE[(_0x55f3('0x5a'))]());_0x17d3c6&&(_0x5ddad9=(0x0,_0x3d16ff['directionFromAlphaBeta'])(_0x17d3c6['pitchAngle'],_0x17d3c6[_0x55f3('0x618')]))[_0x55f3('0x1c1')](_0x3b17a5),this[_0x55f3('0x72f')]=new _0x3a271b[(_0x55f3('0x9'))]['Group']({'texture':{'value':_0x336b20},'depthTest':_0x5f10fb,'depthWrite':!0x1,'transparent':!0x0,'blending':THREE[_0x55f3('0x730')],'maxParticleCount':0x64*_0x4dbb76*_0xb90dc6}),this[_0x55f3('0x731')]=new _0x3a271b['default']['Emitter']({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'spread':new THREE['Vector3'](0x1,0x1,0x1)},'acceleration':{'value':_0x5ddad9,'spread':new THREE['Vector3'](0x1,0x1,0x1)},'velocity':{'value':_0x5ddad9,'spread':new THREE['Vector3'](0x1,0x1,0x1)},'color':{'value':[new THREE['Color'](0xeeeeee)]},'size':{'value':[0x0,0x2*this[_0x55f3('0x1d9')],0x4*this['scale'],0x8*this[_0x55f3('0x1d9')],0xf*this[_0x55f3('0x1d9')]]},'opacity':{'value':[0x0,0.3,0.7,0.3,0x0]},'particleCount':0x64*_0x4dbb76*_0xb90dc6}),this[_0x55f3('0x72f')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x561')][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0x72f')]['addEmitter'](this[_0x55f3('0x731')]),this['smokeParticle'][_0x55f3('0x1ea')][_0x55f3('0x1d9')][_0x55f3('0x39')](this['scale'],this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')]),this[_0x55f3('0x72f')][_0x55f3('0x1ea')][_0x55f3('0x318')]=0x64,this['centerGroup']['add'](this[_0x55f3('0x72f')][_0x55f3('0x1ea')]),this['object3d'][_0x55f3('0x1c3')](this[_0x55f3('0x559')]),this[_0x55f3('0x555')]=!0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x5f10fb){this[_0x55f3('0x555')]&&this[_0x55f3('0x72f')]&&this[_0x55f3('0x72f')][_0x55f3('0x21d')](_0x5f10fb);}},{'key':_0x55f3('0x563'),'value':function(_0x5f10fb){(0x64<_0x5f10fb||_0x5f10fb<0x0)&&(_0x5f10fb=0x64);_0x5f10fb=Math[_0x55f3('0x1be')](0x64*(0x1-_0x5f10fb/0x64))/0x64;this[_0x55f3('0x731')][_0x55f3('0x22f')]=_0x5f10fb;}},{'key':_0x55f3('0x338'),'set':function(_0x5f10fb){this['_visible']=_0x5f10fb,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x5f10fb;}}]),_0x336b20[_0x55f3('0x9')]=_0x5ddad9;},function(_0x2e12ae,_0x22c218,_0x506d0a){'use strict';Object['defineProperty'](_0x22c218,_0x55f3('0x7'),{'value':!0x0});var _0x18f6c2=_0x25a1e8(_0x506d0a(0x0)),_0x29e9a6=_0x25a1e8(_0x506d0a(0x1)),_0x5b5d27=_0x25a1e8(_0x506d0a(0x3f));function _0x25a1e8(_0x2e12ae){return _0x2e12ae&&_0x2e12ae['__esModule']?_0x2e12ae:{'default':_0x2e12ae};}function _0x241ee7(_0x2e12ae){_0x2e12ae=_0x2e12ae[_0x55f3('0x1d9')],_0x2e12ae=void 0x0===_0x2e12ae?0xa:_0x2e12ae;(0x0,_0x18f6c2['default'])(this,_0x241ee7),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x319')]=new THREE['Object3D'](),this['scale']=_0x2e12ae,this[_0x55f3('0x72c')]=null,this[_0x55f3('0x557')]=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this['_visible']=!0x0;}(0x0,_0x29e9a6['default'])(_0x241ee7,[{'key':_0x55f3('0x8'),'value':function(_0x2e12ae){var _0x22c218=_0x2e12ae[_0x55f3('0x72d')],_0x2e12ae=_0x2e12ae[_0x55f3('0x55d')]?0x4:0x1;this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x557')]=new _0x5b5d27[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x22c218},'transparent':!0x0,'depthWrite':!0x1,'blending':THREE[_0x55f3('0x1d4')],'maxParticleCount':0x32*_0x2e12ae}),this[_0x55f3('0x562')]=new _0x5b5d27[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'spread':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)},'acceleration':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x5,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'velocity':{'value':new THREE['Vector3'](0x0,-0x5,0x0),'spread':new THREE[(_0x55f3('0x5a'))](0.5,0x1,0.5)},'color':{'value':[new THREE['Color'](0xff00)]},'size':{'value':[0xf*this[_0x55f3('0x1d9')]]},'opacity':{'value':[0x0,0.8,0x1,0.8,0x0]},'particleCount':0x32*_0x2e12ae}),this[_0x55f3('0x557')][_0x55f3('0x3f')][_0x55f3('0x164')]['fogColor'][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b7'))](),this['fireParticle'][_0x55f3('0x20d')](this['fireEmitter']),this[_0x55f3('0x557')]['mesh'][_0x55f3('0x1d9')]['set'](this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')],this['scale']),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this[_0x55f3('0x557')][_0x55f3('0x1ea')]),this[_0x55f3('0x559')][_0x55f3('0x318')]=0xb,this[_0x55f3('0x319')][_0x55f3('0x1c3')](this['centerGroup']),this[_0x55f3('0x555')]=!0x0;}},{'key':'render','value':function(_0x2e12ae){this[_0x55f3('0x555')]&&this[_0x55f3('0x557')]&&this[_0x55f3('0x557')][_0x55f3('0x21d')](_0x2e12ae);}},{'key':_0x55f3('0x563'),'value':function(_0x2e12ae){(0x64<_0x2e12ae||_0x2e12ae<0x0)&&(_0x2e12ae=0x64);_0x2e12ae=Math['round'](0x64*(0x1-_0x2e12ae/0x64))/0x64;this[_0x55f3('0x562')]['activeMultiplier']=_0x2e12ae;}},{'key':_0x55f3('0x338'),'set':function(_0x2e12ae){this[_0x55f3('0x55a')]=_0x2e12ae,this['centerGroup'][_0x55f3('0x338')]=_0x2e12ae;}}]),_0x22c218[_0x55f3('0x9')]=_0x241ee7;},function(_0x309658,_0x27cad2,_0x370a76){'use strict';Object[_0x55f3('0x4')](_0x27cad2,_0x55f3('0x7'),{'value':!0x0});var _0x37410d=_0x4288b0(_0x370a76(0x0)),_0x2cbc85=_0x4288b0(_0x370a76(0x1)),_0x188e25=_0x4288b0(_0x370a76(0x3f));function _0x4288b0(_0x309658){return _0x309658&&_0x309658[_0x55f3('0x7')]?_0x309658:{'default':_0x309658};}function _0x421364(_0x309658){_0x309658=_0x309658[_0x55f3('0x1d9')],_0x309658=void 0x0===_0x309658?0x1:_0x309658;(0x0,_0x37410d[_0x55f3('0x9')])(this,_0x421364),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x1d9')]=_0x309658,this['shaderParticleEngine']=null,this['floatPointsParticle']=null,this['emitter']=null,this['centerGroup']=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x2cbc85[_0x55f3('0x9')])(_0x421364,[{'key':'create','value':function(_0x309658){var _0x27cad2=_0x309658[_0x55f3('0x1c6')],_0x370a76=_0x309658['spread'],_0x370a76=void 0x0===_0x370a76?0x14:_0x370a76,_0x37410d=_0x309658[_0x55f3('0x61e')],_0x37410d=void 0x0===_0x37410d?0xa:_0x37410d,_0x2cbc85=_0x309658['speed'],_0x2cbc85=void 0x0===_0x2cbc85?0x1:_0x2cbc85,_0x4288b0=_0x309658[_0x55f3('0x5ff')],_0x4288b0=void 0x0!==_0x4288b0&&_0x4288b0,_0x421364=_0x309658[_0x55f3('0x220')],_0x421364=void 0x0===_0x421364?'#ffffff':_0x421364,_0xd3b2=_0x309658[_0x55f3('0x732')],_0xd3b2=void 0x0===_0xd3b2?0x14:_0xd3b2,_0xe0518f=_0x309658[_0x55f3('0x733')],_0xe0518f=void 0x0!==_0xe0518f&&_0xe0518f,_0x309658=_0x309658[_0x55f3('0x5f9')],_0x309658=void 0x0!==_0x309658&&_0x309658;this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x734')]=new _0x188e25[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x27cad2},'hasPerspective':!_0x4288b0,'transparent':!0x0,'blending':_0x309658?THREE[_0x55f3('0x1d4')]:THREE[_0x55f3('0x730')],'depthWrite':!0x1,'maxParticleCount':0x2*_0xd3b2}),this[_0x55f3('0x731')]=new _0x188e25[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'maxAge':{'value':0x3},'position':{'value':new THREE['Vector3'](0x0,0.5*_0x37410d,0x0),'spread':new THREE[(_0x55f3('0x5a'))](+_0x370a76,_0x37410d,+_0x370a76),'randomise':!0x0},'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x2*_0x2cbc85,0x0),'spread':new THREE['Vector3'](0x0,0x0,0x0)},'color':{'value':[new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x421364)],'spread':_0xe0518f?new THREE[(_0x55f3('0x5a'))](0x0,0.5,0x0):null},'size':{'value':[0x6*this[_0x55f3('0x1d9')]],'spread':0x1e,'randomise':!0x0},'opacity':{'value':[0x0,0.3,0x1,0.5,0x0]},'angle':{'value':0x5a},'particleCount':_0xd3b2}),this[_0x55f3('0x734')][_0x55f3('0x3f')]['uniforms']['fogColor']['value']=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0x734')][_0x55f3('0x20d')](this[_0x55f3('0x731')]),this[_0x55f3('0x559')]['add'](this[_0x55f3('0x734')][_0x55f3('0x1ea')]),this[_0x55f3('0x319')][_0x55f3('0x1c3')](this[_0x55f3('0x559')]),this['enabled']=!0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x309658){this['enabled']&&this[_0x55f3('0x734')]&&this['floatPointsParticle']['tick'](_0x309658);}},{'key':_0x55f3('0x338'),'set':function(_0x309658){this[_0x55f3('0x55a')]=_0x309658,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x309658;}}]),_0x27cad2[_0x55f3('0x9')]=_0x421364;},function(_0x5b3122,_0x57fbc9,_0xb6ec1e){'use strict';Object[_0x55f3('0x4')](_0x57fbc9,_0x55f3('0x7'),{'value':!0x0});var _0x290763=_0x584994(_0xb6ec1e(0x4)),_0x13f750=_0x584994(_0xb6ec1e(0x0)),_0x119127=_0x584994(_0xb6ec1e(0x1)),_0xb3270=_0x584994(_0xb6ec1e(0x3f));function _0x584994(_0x5b3122){return _0x5b3122&&_0x5b3122[_0x55f3('0x7')]?_0x5b3122:{'default':_0x5b3122};}function _0x431b09(_0x5b3122){var _0x57fbc9=_0x5b3122[_0x55f3('0x1d9')],_0x57fbc9=void 0x0===_0x57fbc9?0x2:_0x57fbc9,_0x5b3122=_0x5b3122[_0x55f3('0x1f9')],_0x5b3122=void 0x0===_0x5b3122?0x2:_0x5b3122;(0x0,_0x13f750['default'])(this,_0x431b09),this['enabled']=!0x1,this['object3d']=new THREE[(_0x55f3('0x33b'))](),this['scale']=_0x57fbc9,this[_0x55f3('0x1f9')]=_0x5b3122,this[_0x55f3('0x72c')]=null,this['particle']=null,this[_0x55f3('0x735')]=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this['_visible']=!0x0;}(0x0,_0x119127[_0x55f3('0x9')])(_0x431b09,[{'key':_0x55f3('0x8'),'value':function(_0x5b3122){var _0x57fbc9=_0x5b3122[_0x55f3('0x61b')],_0xb6ec1e=_0x5b3122['smokeTex'],_0x5b3122=(_0x5b3122['isOpenScreenEffect'],this['maxAge']),_0x57fbc9=(this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x736')]=new _0xb3270['default'][(_0x55f3('0x1c4'))]({'texture':{'value':_0x57fbc9,'frames':new THREE['Vector2'](0x5,0x5),'loop':0x1},'depthTest':!0x0,'depthWrite':!0x1,'blending':THREE[_0x55f3('0x1d4')],'scale':0x258*this[_0x55f3('0x1d9')]}),this[_0x55f3('0x735')]=new _0xb3270[(_0x55f3('0x9'))]['Group']({'texture':{'value':_0xb6ec1e},'depthTest':!0x0,'depthWrite':!0x0,'blending':THREE['NormalBlending']}),new _0xb3270[(_0x55f3('0x9'))]['Emitter']({'particleCount':0xc8*this['scale'],'type':_0xb3270[_0x55f3('0x9')][_0x55f3('0x223')]['DISC'],'position':{'radius':0x5,'spread':new THREE[(_0x55f3('0x5a'))](0x5)},'maxAge':{'value':_0x5b3122,'spread':0x0},'activeMultiplier':0x7d0,'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x28)},'rotation':{'axis':new THREE[(_0x55f3('0x5a'))](0x1,0x0,0x0),'angle':0.5*Math['PI'],'static':!0x0},'size':{'value':0x2*this[_0x55f3('0x1d9')]},'color':{'value':[new THREE['Color'](0.4,0.2,0.1),new THREE[(_0x55f3('0x1b7'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.2,0x0]}})),_0xb6ec1e=new _0xb3270[(_0x55f3('0x9'))]['Emitter']({'particleCount':0x64*this['scale'],'type':_0xb3270['default'][_0x55f3('0x223')]['SPHERE'],'position':{'radius':0.1},'maxAge':{'value':_0x5b3122},'activeMultiplier':0x28,'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x64)},'acceleration':{'value':new THREE[(_0x55f3('0x5a'))](0x0,-0x14,0x0),'distribution':_0xb3270[_0x55f3('0x9')]['distributions'][_0x55f3('0x245')]},'size':{'value':0x2*this[_0x55f3('0x1d9')]},'drag':{'value':0x1},'color':{'value':[new THREE[(_0x55f3('0x1b7'))](0x1,0x1,0x1),new THREE[(_0x55f3('0x1b7'))](0x1,0x1,0x0),new THREE[(_0x55f3('0x1b7'))](0x1,0x0,0x0),new THREE[(_0x55f3('0x1b7'))](0.4,0.2,0.1)]},'opacity':{'value':[0.4,0x0]}}),_0x13f750=new _0xb3270[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'particleCount':0x14*this['scale'],'type':_0xb3270['default'][_0x55f3('0x223')][_0x55f3('0x248')],'position':{'radius':0x1},'maxAge':{'value':_0x5b3122},'activeMultiplier':0x14,'velocity':{'value':new THREE['Vector3'](0xa)},'size':{'value':[0x14*this[_0x55f3('0x1d9')],0x64*this[_0x55f3('0x1d9')]]},'color':{'value':[new THREE[(_0x55f3('0x1b7'))](0.5,0.1,0.05),new THREE[(_0x55f3('0x1b7'))](0.2,0.2,0.2)]},'opacity':{'value':[0.5,0.35,0.1,0x0]}}),_0x119127=new _0xb3270[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'particleCount':0x32*this[_0x55f3('0x1d9')],'position':{'spread':new THREE[(_0x55f3('0x5a'))](0xa,0xa,0xa),'distribution':_0xb3270[_0x55f3('0x9')][_0x55f3('0x223')]['SPHERE']},'maxAge':{'value':_0x5b3122},'activeMultiplier':0x7d0,'velocity':{'value':new THREE['Vector3'](0x8,0x3,0xa),'distribution':_0xb3270[_0x55f3('0x9')][_0x55f3('0x223')][_0x55f3('0x248')]},'size':{'value':0x28*this[_0x55f3('0x1d9')]},'color':{'value':new THREE[(_0x55f3('0x1b7'))](0.2,0.2,0.2)},'opacity':{'value':[0x0,0x0,0.2,0x0]}}),_0x5b3122=new _0xb3270['default'][(_0x55f3('0x1f4'))]({'particleCount':0x32*this[_0x55f3('0x1d9')],'position':{'spread':new THREE[(_0x55f3('0x5a'))](0x5,0x5,0x5)},'velocity':{'spread':new THREE[(_0x55f3('0x5a'))](0x1e),'distribution':_0xb3270['default'][_0x55f3('0x223')][_0x55f3('0x248')]},'size':{'value':[0x2*this[_0x55f3('0x1d9')],0x14*this['scale'],0x14*this[_0x55f3('0x1d9')],0x14*this[_0x55f3('0x1d9')]]},'maxAge':{'value':_0x5b3122},'activeMultiplier':0x7d0,'opacity':{'value':[0.5,0.25,0x0,0x0]}});this[_0x55f3('0x736')]['addEmitter'](_0x13f750)[_0x55f3('0x20d')](_0x5b3122),this[_0x55f3('0x735')][_0x55f3('0x20d')](_0xb6ec1e)['addEmitter'](_0x119127)[_0x55f3('0x20d')](_0x57fbc9),this['particle'],this[_0x55f3('0x735')],this[_0x55f3('0x653')](!0x1),this[_0x55f3('0x736')]['mesh'][_0x55f3('0x1d9')][_0x55f3('0x39')](this[_0x55f3('0x1d9')],this['scale'],this[_0x55f3('0x1d9')]),this[_0x55f3('0x735')][_0x55f3('0x1ea')][_0x55f3('0x1d9')][_0x55f3('0x39')](this['scale'],this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')]),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this[_0x55f3('0x736')]['mesh']),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this[_0x55f3('0x735')][_0x55f3('0x1ea')]),this[_0x55f3('0x559')][_0x55f3('0x318')]=0x64,this[_0x55f3('0x319')]['add'](this[_0x55f3('0x559')]),this[_0x55f3('0x737')](),this[_0x55f3('0x555')]=!0x0;}},{'key':_0x55f3('0x653'),'value':function(_0x5b3122){if(this['particle']&&0x0<this[_0x55f3('0x736')][_0x55f3('0x1da')]['length']){var _0x57fbc9=!0x0,_0xb6ec1e=!0x1,_0x13f750=void 0x0;try{for(var _0x119127,_0xb3270=(0x0,_0x290763[_0x55f3('0x9')])(this[_0x55f3('0x736')][_0x55f3('0x1da')]);!(_0x57fbc9=(_0x119127=_0xb3270[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x57fbc9=!0x0)_0x119127['value'][_0x55f3('0x231')]=_0x5b3122;}catch(_0x1f419a){_0xb6ec1e=!0x0,_0x13f750=_0x1f419a;}finally{try{!_0x57fbc9&&_0xb3270[_0x55f3('0x271')]&&_0xb3270[_0x55f3('0x271')]();}finally{if(_0xb6ec1e)throw _0x13f750;}}}if(this[_0x55f3('0x735')]&&0x0<this[_0x55f3('0x735')][_0x55f3('0x1da')][_0x55f3('0xf')]){var _0x584994=!0x0,_0xb6ec1e=!0x1,_0x13f750=void 0x0;try{for(var _0x431b09,_0x47f676=(0x0,_0x290763[_0x55f3('0x9')])(this[_0x55f3('0x735')]['emitters']);!(_0x584994=(_0x431b09=_0x47f676[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x584994=!0x0)_0x431b09[_0x55f3('0x12')][_0x55f3('0x231')]=_0x5b3122;}catch(_0x1c502b){_0xb6ec1e=!0x0,_0x13f750=_0x1c502b;}finally{try{!_0x584994&&_0x47f676[_0x55f3('0x271')]&&_0x47f676['return']();}finally{if(_0xb6ec1e)throw _0x13f750;}}}}},{'key':'createShockWave','value':function(){var _0x5b3122=new THREE['MeshStandardMaterial']({'color':_0x55f3('0x738'),'transparent':!0x0,'depthWrite':!0x1}),_0x57fbc9=(_0x5b3122[_0x55f3('0x44d')]=function(_0x5b3122){_0x5b3122[_0x55f3('0x164')][_0x55f3('0x739')]={'value':1.2},_0x5b3122['uniforms'][_0x55f3('0x73a')]={'value':1.6},_0x5b3122[_0x55f3('0x164')][_0x55f3('0x73b')]={'value':new THREE[(_0x55f3('0x1b7'))](0xffffff)},_0x5b3122[_0x55f3('0x57')]=_0x5b3122['vertexShader']['replace'](_0x55f3('0x43a'),_0x55f3('0x73c')),_0x5b3122[_0x55f3('0x57')]=_0x5b3122['vertexShader'][_0x55f3('0x56')]('#include\x20<uv_vertex>',_0x55f3('0x73d')),_0x5b3122[_0x55f3('0x58')]=_0x5b3122[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),_0x55f3('0x73e')),_0x5b3122[_0x55f3('0x58')]=_0x5b3122[_0x55f3('0x58')]['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);',_0x55f3('0x73f'));},new THREE[(_0x55f3('0x44b'))](0x4,0x20,0x20)),_0x57fbc9=new THREE[(_0x55f3('0x317'))](_0x57fbc9,_0x5b3122);_0x57fbc9[_0x55f3('0x338')]=!0x1,this[_0x55f3('0x740')]=_0x57fbc9,this[_0x55f3('0x319')]['add'](_0x57fbc9);}},{'key':_0x55f3('0x741'),'value':function(_0x5b3122){var _0x57fbc9=this,_0xb6ec1e=_0x5b3122[_0x55f3('0x38f')],_0xb6ec1e=void 0x0===_0xb6ec1e?0x2:_0xb6ec1e,_0x5b3122=_0x5b3122[_0x55f3('0x21e')],_0x5b3122=void 0x0===_0x5b3122?0x64:_0x5b3122;this[_0x55f3('0x740')][_0x55f3('0x338')]=!0x0,this['shockSphere'][_0x55f3('0x38')]['y']=-_0x5b3122/0x2*1.5,new TWEEN['Tween']({'x':0x0,'opacity':0.7})['to']({'x':_0x5b3122,'opacity':0x0},0x3e8*_0xb6ec1e)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')]['Circular']['Out'])[_0x55f3('0x332')](function(_0x5b3122){_0x57fbc9[_0x55f3('0x740')]['scale']['set'](_0x5b3122['x'],_0x5b3122['x'],_0x5b3122['x']),_0x57fbc9['shockSphere'][_0x55f3('0x3f')][_0x55f3('0x221')]=_0x5b3122[_0x55f3('0x221')];})[_0x55f3('0x6a7')](function(_0x5b3122){_0x57fbc9[_0x55f3('0x740')]['visible']=!0x1;})[_0x55f3('0x395')]();}},{'key':'render','value':function(_0x5b3122){this[_0x55f3('0x555')]&&this[_0x55f3('0x736')]&&this[_0x55f3('0x735')]&&(this[_0x55f3('0x736')][_0x55f3('0x21d')](_0x5b3122),this['shockwaveParticle'][_0x55f3('0x21d')](_0x5b3122));}},{'key':_0x55f3('0x338'),'set':function(_0x5b3122){this[_0x55f3('0x55a')]=_0x5b3122,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x5b3122;}}]),_0x57fbc9[_0x55f3('0x9')]=_0x431b09;},function(_0x3f3738,_0x50c485,_0x463d11){'use strict';Object[_0x55f3('0x4')](_0x50c485,_0x55f3('0x7'),{'value':!0x0});var _0x4ccacd=_0x394ae2(_0x463d11(0x2c)),_0x514119=_0x394ae2(_0x463d11(0x0)),_0x45087b=_0x394ae2(_0x463d11(0x1)),_0x2a3acc=_0x394ae2(_0x463d11(0x3f));function _0x394ae2(_0x3f3738){return _0x3f3738&&_0x3f3738[_0x55f3('0x7')]?_0x3f3738:{'default':_0x3f3738};}function _0x3eb0dc(_0x3f3738){_0x3f3738=_0x3f3738[_0x55f3('0x1d9')],_0x3f3738=void 0x0===_0x3f3738?0x1:_0x3f3738;(0x0,_0x514119[_0x55f3('0x9')])(this,_0x3eb0dc),this['enabled']=!0x1,this[_0x55f3('0x319')]=new THREE['Object3D'](),this['scale']=_0x3f3738,this['shaderParticleEngine']=null,this[_0x55f3('0x564')]=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x45087b[_0x55f3('0x9')])(_0x3eb0dc,[{'key':'create','value':function(_0x3f3738){var _0x50c485=_0x3f3738[_0x55f3('0x1c6')],_0x463d11=_0x3f3738[_0x55f3('0x618')],_0x463d11=void 0x0===_0x463d11?0x0:_0x463d11,_0x514119=_0x3f3738['extentWidth'],_0x514119=void 0x0===_0x514119?0x1:_0x514119,_0x45087b=_0x3f3738[_0x55f3('0x61e')],_0x45087b=void 0x0===_0x45087b?0x1:_0x45087b,_0x394ae2=_0x3f3738['speed'],_0x394ae2=void 0x0===_0x394ae2?0x1:_0x394ae2,_0x3eb0dc=_0x3f3738['debug'],_0x3eb0dc=void 0x0!==_0x3eb0dc&&_0x3eb0dc;_0x3f3738[_0x55f3('0x55d')],this[_0x55f3('0x559')]=new THREE['Group'](),this[_0x55f3('0x564')]=new _0x2a3acc[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x50c485}}),this[_0x55f3('0x558')]=new _0x2a3acc[(_0x55f3('0x9'))][(_0x55f3('0x1f4'))]({'maxAge':{'value':0.5},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'spread':new THREE[(_0x55f3('0x5a'))](_0x514119,0x0,_0x45087b)},'acceleration':{'value':new THREE[(_0x55f3('0x5a'))](0x0,_0x394ae2/0x2,0x0)},'velocity':{'value':new THREE[(_0x55f3('0x5a'))](0x0,_0x394ae2,0x0),'spread':new THREE[(_0x55f3('0x5a'))](_0x394ae2/0x2,0x0,_0x394ae2/0x2)},'color':{'value':[new THREE[(_0x55f3('0x1b7'))](0x5ba3f1)]},'size':{'value':[0.5]},'opacity':{'value':[0x1,0x0]},'particleCount':0x12c}),this[_0x55f3('0x564')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x561')][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b7'))](),this['particleGroup'][_0x55f3('0x20d')](this[_0x55f3('0x558')]),this[_0x55f3('0x564')]['mesh'][_0x55f3('0x1d9')]['set'](this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')],this[_0x55f3('0x1d9')]),this[_0x55f3('0x559')][_0x55f3('0x1c3')](this[_0x55f3('0x564')][_0x55f3('0x1ea')]),_0x3eb0dc&&this['centerGroup']['add'](new THREE[(_0x55f3('0x566'))](0x2710)),'object'===(void 0x0===_0x463d11?_0x55f3('0x2'):(0x0,_0x4ccacd[_0x55f3('0x9')])(_0x463d11))?(_0x3f3738={'x':THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x463d11['x']||0x0),'y':THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x463d11['y']||0x0),'z':THREE[_0x55f3('0x18')]['degToRad'](_0x463d11['z']||0x0)},_0x50c485=new THREE[(_0x55f3('0x742'))](),_0x514119=new THREE['Quaternion'](),_0x45087b=new THREE[(_0x55f3('0x742'))](),_0x50c485[_0x55f3('0x743')](new THREE[(_0x55f3('0x5a'))](0x1,0x0,0x0),_0x3f3738['x']),_0x514119[_0x55f3('0x743')](new THREE[(_0x55f3('0x5a'))](0x0,0x1,0x0),_0x3f3738['y']),_0x45087b[_0x55f3('0x743')](new THREE['Vector3'](0x0,0x0,0x1),_0x3f3738['z']),(_0x394ae2=new THREE[(_0x55f3('0x742'))]())['multiply'](_0x50c485)['multiply'](_0x514119)['multiply'](_0x45087b),this[_0x55f3('0x559')][_0x55f3('0x744')][_0x55f3('0x1ba')](_0x394ae2)):(this[_0x55f3('0x559')][_0x55f3('0x549')](THREE['Math'][_0x55f3('0x391')](0x5a)),this['centerGroup']['rotateZ'](THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x463d11))),this[_0x55f3('0x319')]['add'](this[_0x55f3('0x559')]),this['enabled']=!0x0;}},{'key':'render','value':function(_0x3f3738){this[_0x55f3('0x555')]&&this['particleGroup']&&this[_0x55f3('0x564')][_0x55f3('0x21d')](_0x3f3738);}},{'key':'updateConfig','value':function(_0x3f3738){this['emitter']?(_0x3f3738[_0x55f3('0x337')]&&(this['emitter'][_0x55f3('0x1fd')][_0x55f3('0x12')]=new THREE[(_0x55f3('0x5a'))](0x0,_0x3f3738[_0x55f3('0x337')],0x0)),_0x3f3738['color']&&(this[_0x55f3('0x558')][_0x55f3('0x220')][_0x55f3('0x12')]=[new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x3f3738['color'])])):console[_0x55f3('0x1f5')](_0x55f3('0x745'));}},{'key':_0x55f3('0x338'),'set':function(_0x3f3738){this['_visible']=_0x3f3738,this[_0x55f3('0x559')]['visible']=_0x3f3738;}}]),_0x50c485[_0x55f3('0x9')]=_0x3eb0dc;},function(_0x804ccb,_0x5e607d,_0x746c4b){'use strict';Object[_0x55f3('0x4')](_0x5e607d,_0x55f3('0x7'),{'value':!0x0});var _0x1b9313=_0x1068ff(_0x746c4b(0x0)),_0x34fbdc=_0x1068ff(_0x746c4b(0x1)),_0x162a9d=_0x1068ff(_0x746c4b(0x3f));function _0x1068ff(_0x804ccb){return _0x804ccb&&_0x804ccb[_0x55f3('0x7')]?_0x804ccb:{'default':_0x804ccb};}function _0xb6c881(){(0x0,_0x1b9313['default'])(this,_0xb6c881),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x72c')]=null,this[_0x55f3('0x736')]=null,this[_0x55f3('0x558')]=null,this[_0x55f3('0x559')]=null,this[_0x55f3('0x55a')]=!0x0;}(0x0,_0x34fbdc[_0x55f3('0x9')])(_0xb6c881,[{'key':_0x55f3('0x8'),'value':function(_0x804ccb){var _0x5e607d=_0x804ccb[_0x55f3('0x1c6')],_0x746c4b=_0x804ccb[_0x55f3('0x427')],_0x746c4b=void 0x0===_0x746c4b?0x1:_0x746c4b,_0x1b9313=_0x804ccb[_0x55f3('0x21e')],_0x1b9313=void 0x0===_0x1b9313?0xa:_0x1b9313,_0x34fbdc=_0x804ccb[_0x55f3('0xd2')],_0x34fbdc=void 0x0===_0x34fbdc?0x1:_0x34fbdc,_0x1068ff=_0x804ccb[_0x55f3('0x1bf')],_0x1068ff=void 0x0!==_0x1068ff&&_0x1068ff,_0xb6c881=_0x804ccb[_0x55f3('0x1c0')],_0xb6c881=void 0x0===_0xb6c881?0x0:_0xb6c881,_0x3701d8=_0x804ccb[_0x55f3('0x55d')],_0x804ccb=_0x804ccb[_0x55f3('0x2fd')],_0x804ccb=void 0x0===_0x804ccb?_0x55f3('0x72e'):_0x804ccb,_0x3701d8=_0x3701d8?0x4:0x1;this[_0x55f3('0x559')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x736')]=new _0x162a9d[(_0x55f3('0x9'))][(_0x55f3('0x1c4'))]({'texture':{'value':_0x5e607d},'transparent':!0x0,'blending':THREE['AdditiveBlending'],'maxParticleCount':0x14*_0x3701d8*_0x746c4b,'hasPerspective':!0x1,'isClipHeight':_0x1068ff,'clipHeight':_0xb6c881}),this[_0x55f3('0x731')]=new _0x162a9d['default']['Emitter']({'type':_0x162a9d[_0x55f3('0x9')][_0x55f3('0x223')][_0x55f3('0x248')],'maxAge':{'value':1.5},'position':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,0x0),'radius':_0x1b9313},'color':{'value':new THREE['Color']()[_0x55f3('0x300')](_0x804ccb),'spread':new THREE['Vector3'](0x1,0x0,0x0),'randomise':!0x0},'size':{'value':[0xa*_0x34fbdc]},'opacity':{'value':[0x0,0.5,0x1,0.5,0x0]},'particleCount':0xa*_0x3701d8*_0x746c4b}),this[_0x55f3('0x736')]['material'][_0x55f3('0x164')][_0x55f3('0x561')][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0x736')]['addEmitter'](this[_0x55f3('0x731')]),this['centerGroup'][_0x55f3('0x1c3')](this[_0x55f3('0x736')]['mesh']),this[_0x55f3('0x319')][_0x55f3('0x1c3')](this[_0x55f3('0x559')]),this['enabled']=!0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x804ccb){this[_0x55f3('0x555')]&&this[_0x55f3('0x736')]&&this[_0x55f3('0x736')][_0x55f3('0x21d')](_0x804ccb);}},{'key':_0x55f3('0x338'),'set':function(_0x804ccb){this[_0x55f3('0x55a')]=_0x804ccb,this[_0x55f3('0x559')][_0x55f3('0x338')]=_0x804ccb;}}]),_0x5e607d['default']=_0xb6c881;},function(_0x592e9c,_0x4c5e47,_0x198086){'use strict';Object[_0x55f3('0x4')](_0x4c5e47,_0x55f3('0x7'),{'value':!0x0});var _0x7d3816=_0x4ab625(_0x198086(0x0));function _0x4ab625(_0x592e9c){return _0x592e9c&&_0x592e9c['__esModule']?_0x592e9c:{'default':_0x592e9c};}function _0x27083e(_0x592e9c){var _0x4c5e47=_0x592e9c[_0x55f3('0x2fd')],_0x198086=_0x592e9c[_0x55f3('0x2f4')],_0x198086=void 0x0===_0x198086?{'x':0x1,'y':0x2}:_0x198086,_0x4ab625=_0x592e9c[_0x55f3('0x337')],_0x4ab625=void 0x0===_0x4ab625?0.5:_0x4ab625,_0x592e9c=_0x592e9c[_0x55f3('0x1c6')];(0x0,_0x7d3816[_0x55f3('0x9')])(this,_0x27083e),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x3f')]=null,this[_0x55f3('0x4b9')]=null,this['repeat']=_0x198086,this[_0x55f3('0x337')]=_0x4ab625,_0x592e9c[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x592e9c[_0x55f3('0x33c')]=THREE['RepeatWrapping'],this[_0x55f3('0x2fc')](_0x4c5e47,_0x592e9c);}(0x0,_0x4ab625(_0x198086(0x1))[_0x55f3('0x9')])(_0x27083e,[{'key':_0x55f3('0x6af'),'value':function(){var _0x592e9c=document[_0x55f3('0x79')]('canvas'),_0x4c5e47=(_0x592e9c['width']=0x4,_0x592e9c['height']=0x80,_0x592e9c[_0x55f3('0x377')]('2d')),_0x198086=_0x4c5e47[_0x55f3('0x746')](0x0,0x0,_0x592e9c[_0x55f3('0x32c')],_0x592e9c[_0x55f3('0x32d')]);return _0x198086[_0x55f3('0x550')](0x0,_0x55f3('0x747')),_0x198086[_0x55f3('0x550')](0.3,_0x55f3('0x339')),_0x198086['addColorStop'](0.7,_0x55f3('0x339')),_0x198086[_0x55f3('0x550')](0x1,_0x55f3('0x747')),_0x4c5e47[_0x55f3('0x553')]=_0x198086,_0x4c5e47[_0x55f3('0x554')](0x0,0x0,_0x592e9c[_0x55f3('0x32c')],_0x592e9c['height']),new THREE['CanvasTexture'](_0x592e9c);}},{'key':_0x55f3('0x2fc'),'value':function(_0x592e9c,_0x4c5e47){this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'side':THREE[_0x55f3('0x308')],'transparent':!0x0,'depthWrite':!0x0,'depthTest':!0x0,'blending':THREE[_0x55f3('0x1d4')]});var _0x198086=this[_0x55f3('0x6af')](),_0x4ab625=(_0x592e9c&&this[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](_0x592e9c),this);this[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x592e9c){_0x592e9c['uniforms'][_0x55f3('0x4d8')]={'value':0x0},_0x592e9c[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':_0x4c5e47},_0x592e9c[_0x55f3('0x164')][_0x55f3('0x527')]={'value':_0x198086},_0x592e9c['uniforms'][_0x55f3('0x748')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x4ab625['repeat']['x'],_0x4ab625['repeat']['y'])},_0x592e9c['vertexShader']=_0x592e9c[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x6c7'),_0x55f3('0x749')),_0x592e9c[_0x55f3('0x57')]=_0x592e9c[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x74a')),_0x592e9c[_0x55f3('0x58')]=_0x592e9c[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),_0x55f3('0x74b')),_0x592e9c['fragmentShader']=_0x592e9c['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x74c')),_0x4ab625[_0x55f3('0x4b9')]=_0x592e9c;};}},{'key':_0x55f3('0x8'),'value':function(_0x592e9c){for(var _0x4c5e47=_0x592e9c[_0x55f3('0x507')],_0x198086=_0x592e9c['lineWidth'],_0x4ab625=void 0x0===_0x198086?0x1:_0x198086,_0x198086=_0x592e9c[_0x55f3('0x531')],_0x7d3816=void 0x0===_0x198086?0x64:_0x198086,_0x27083e=0x0,_0xc3f51e=_0x4c5e47[_0x55f3('0xf')];_0x27083e<_0xc3f51e;_0x27083e++){var _0x42da0f=new THREE[(_0x55f3('0x33b'))](),_0x35fb9e=new THREE['PlaneBufferGeometry'](_0x4ab625,_0x7d3816),_0x35fb9e=(_0x35fb9e[_0x55f3('0x74d')](0x0,0.5*_0x7d3816,0x0),new THREE[(_0x55f3('0x317'))](_0x35fb9e,this[_0x55f3('0x3f')])),_0x24d0ac=new THREE[(_0x55f3('0x520'))](_0x4ab625,_0x7d3816),_0x24d0ac=(_0x24d0ac['translate'](0x0,0.5*_0x7d3816,0x0),new THREE['Mesh'](_0x24d0ac,this[_0x55f3('0x3f')]));_0x24d0ac[_0x55f3('0x1ef')]['y']=0.5*Math['PI'],_0x35fb9e[_0x55f3('0x318')]=0x5a,_0x24d0ac[_0x55f3('0x318')]=0x5a,_0x42da0f[_0x55f3('0x1c3')](_0x35fb9e),_0x42da0f[_0x55f3('0x1c3')](_0x24d0ac),_0x42da0f['position']['copy'](_0x4c5e47[_0x27083e]),this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x42da0f);}}},{'key':_0x55f3('0x336'),'value':function(_0x592e9c){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')]['uniforms']['iTime'][_0x55f3('0x12')]-=_0x592e9c*this[_0x55f3('0x337')]);}}]),_0x4c5e47[_0x55f3('0x9')]=_0x27083e;},function(_0x2145dd,_0x351115,_0x407249){'use strict';Object[_0x55f3('0x4')](_0x351115,'__esModule',{'value':!0x0});var _0x428b3c=_0x17d9db(_0x407249(0x22)),_0x3bd8ef=_0x17d9db(_0x407249(0x0)),_0x1eb423=_0x17d9db(_0x407249(0x1)),_0x4fee71=_0x407249(0xd4),_0x1dbac2=_0x407249(0xd5),_0xc7528=_0x407249(0xd6),_0x41cc9d=_0x407249(0xd7);function _0x17d9db(_0x2145dd){return _0x2145dd&&_0x2145dd[_0x55f3('0x7')]?_0x2145dd:{'default':_0x2145dd};}function _0x2ee2ee(_0x2145dd){(0x0,_0x3bd8ef[_0x55f3('0x9')])(this,_0x2ee2ee),this[_0x55f3('0x94')]=_0x2145dd,this['textureLoader']=new _0x41cc9d[(_0x55f3('0x74e'))](),this[_0x55f3('0x74f')]=null;}(0x0,_0x1eb423[_0x55f3('0x9')])(_0x2ee2ee,[{'key':_0x55f3('0x750'),'value':function(_0x2145dd){var _0x351115=this,_0x3bd8ef=_0x2145dd[_0x55f3('0x46c')],_0x2145dd=_0x2145dd[_0x55f3('0x751')],_0x1eb423=void 0x0===_0x2145dd?0x200:_0x2145dd,_0x41cc9d=this;return new _0x428b3c['default'](function(_0x407249,_0x2145dd){_0x351115[_0x55f3('0x26c')][_0x55f3('0x26f')](_0x3bd8ef,function(_0x2145dd){_0x2145dd['encoding']=THREE[_0x55f3('0x752')],_0x2145dd[_0x55f3('0x543')]=THREE['NearestFilter'],_0x2145dd[_0x55f3('0x541')]=THREE[_0x55f3('0x753')],_0x2145dd[_0x55f3('0x754')]=!0x0;var _0x2145dd=new _0xc7528[(_0x55f3('0x755'))](_0x2145dd,{'resolution':_0x1eb423})[_0x55f3('0x2f8')](_0x41cc9d[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer']),_0x2145dd=new _0x4fee71[(_0x55f3('0x756'))](_0x2145dd),_0x351115=(_0x2145dd[_0x55f3('0x2f8')](_0x41cc9d['map'][_0x55f3('0x41b')]['renderer']),new _0x1dbac2[(_0x55f3('0x757'))](_0x2145dd[_0x55f3('0x758')]));_0x351115[_0x55f3('0x2f8')](_0x41cc9d[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')]),_0x41cc9d[_0x55f3('0x74f')]=_0x351115[_0x55f3('0x759')][_0x55f3('0x1c6')],_0x407249(_0x41cc9d[_0x55f3('0x74f')]),_0x2145dd[_0x55f3('0x93')](),_0x351115[_0x55f3('0x93')]();});});}}]),_0x351115[_0x55f3('0x9')]=_0x2ee2ee;},function(_0xb4c8b5,_0x525254,_0x4d4bb0){'use strict';Object[_0x55f3('0x4')](_0x525254,'__esModule',{'value':!0x0});(_0xf24b9=new THREE['ShaderMaterial']({'defines':{'SAMPLES_PER_LEVEL':0x14},'uniforms':{'faceIndex':{'value':0x0},'roughness':{'value':0.5},'mapSize':{'value':0.5},'envMap':{'value':null},'tFlip':{'value':-0x1}},'vertexShader':_0x55f3('0x75a'),'fragmentShader':_0x55f3('0x75b'),'blending':THREE[_0x55f3('0x75c')]}))[_0x55f3('0xeb')]='PMREMGenerator',_0x2e88e1=_0xf24b9,_0x43caf6=new THREE[(_0x55f3('0x75d'))](-0x1,0x1,0x1,-0x1,0x0,0x3e8),_0xaa79c1=new THREE[(_0x55f3('0x75e'))](),(_0xf24b9=new THREE['Mesh'](new THREE[(_0x55f3('0x520'))](0x2,0x2,0x0),_0x2e88e1))[_0x55f3('0x3f')][_0x55f3('0x3bf')]=THREE['DoubleSide'],_0xaa79c1['add'](_0xf24b9),_0xaa79c1[_0x55f3('0x1c3')](_0x43caf6),_0x2002b7[_0x55f3('0x15')]={'constructor':_0x2002b7,'update':function(_0xb4c8b5){var _0x525254=this['sourceTexture'][_0x55f3('0x75f')]?-0x1:0x1,_0x4d4bb0=(_0x2e88e1[_0x55f3('0x163')][_0x55f3('0x760')]=this['samplesPerLevel'],_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x761')][_0x55f3('0x12')]=0x0,_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x432')][_0x55f3('0x12')]=this[_0x55f3('0x762')],_0x2e88e1[_0x55f3('0x432')]=this[_0x55f3('0x762')],_0x2e88e1['needsUpdate']=!0x0,_0xb4c8b5['gammaInput']),_0x75d1f4=_0xb4c8b5['gammaOutput'],_0x1b5843=_0xb4c8b5[_0x55f3('0x763')],_0x544675=_0xb4c8b5[_0x55f3('0x764')],_0x3a81f1=_0xb4c8b5[_0x55f3('0x765')]();_0xb4c8b5[_0x55f3('0x763')]=THREE[_0x55f3('0x766')],_0xb4c8b5[_0x55f3('0x764')]=0x1,_0xb4c8b5[_0x55f3('0x767')]=!0x1,_0xb4c8b5['gammaOutput']=!0x1;for(var _0x36b20b=0x0;_0x36b20b<this[_0x55f3('0x768')];_0x36b20b++){var _0x1f8a57=_0x36b20b/(this[_0x55f3('0x768')]-0x1),_0x1f8a57=(_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x409')][_0x55f3('0x12')]=0.9*_0x1f8a57,_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x769')][_0x55f3('0x12')]=0x0==_0x36b20b?_0x525254:0x1,this[_0x55f3('0x758')][_0x36b20b]['width']);_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x76a')][_0x55f3('0x12')]=_0x1f8a57,this['renderToCubeMapTarget'](_0xb4c8b5,this[_0x55f3('0x758')][_0x36b20b]),_0x36b20b<0x5&&(_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x432')][_0x55f3('0x12')]=this['cubeLods'][_0x36b20b]['texture']);}_0xb4c8b5['setRenderTarget'](_0x3a81f1),_0xb4c8b5['toneMapping']=_0x1b5843,_0xb4c8b5['toneMappingExposure']=_0x544675,_0xb4c8b5[_0x55f3('0x767')]=_0x4d4bb0,_0xb4c8b5['gammaOutput']=_0x75d1f4;},'renderToCubeMapTarget':function(_0xb4c8b5,_0x525254){for(var _0x4d4bb0=0x0;_0x4d4bb0<0x6;_0x4d4bb0++)this[_0x55f3('0x76b')](_0xb4c8b5,_0x525254,_0x4d4bb0);},'renderToCubeMapTargetFace':function(_0xb4c8b5,_0x525254,_0x4d4bb0){_0x2e88e1[_0x55f3('0x164')][_0x55f3('0x761')][_0x55f3('0x12')]=_0x4d4bb0,_0xb4c8b5[_0x55f3('0x76c')](_0x525254,_0x4d4bb0),_0xb4c8b5['clear'](),_0xb4c8b5[_0x55f3('0x336')](_0xaa79c1,_0x43caf6);},'dispose':function(){for(var _0xb4c8b5=0x0,_0x525254=this[_0x55f3('0x758')]['length'];_0xb4c8b5<_0x525254;_0xb4c8b5++)this[_0x55f3('0x758')][_0xb4c8b5][_0x55f3('0x93')]();}};var _0x2e88e1,_0x43caf6,_0xaa79c1,_0xf24b9=_0x2002b7;function _0x2002b7(_0xb4c8b5,_0x525254,_0x4d4bb0){this['sourceTexture']=_0xb4c8b5,this[_0x55f3('0x32b')]=void 0x0!==_0x4d4bb0?_0x4d4bb0:0x100,this[_0x55f3('0x76d')]=void 0x0!==_0x525254?_0x525254:0x20;var _0xb4c8b5=this[_0x55f3('0x762')][_0x55f3('0x419')]===THREE[_0x55f3('0x76e')]||this[_0x55f3('0x762')][_0x55f3('0x419')]===THREE['GammaEncoding']||this[_0x55f3('0x762')][_0x55f3('0x419')]===THREE['sRGBEncoding'],_0x43caf6=(this['sourceTexture'][_0x55f3('0x543')]=_0xb4c8b5?THREE['LinearFilter']:THREE[_0x55f3('0x753')],this['sourceTexture'][_0x55f3('0x541')]=_0xb4c8b5?THREE['LinearFilter']:THREE['NearestFilter'],this[_0x55f3('0x762')]['generateMipmaps']=this[_0x55f3('0x762')][_0x55f3('0x76f')]&&_0xb4c8b5,this['cubeLods']=[],this[_0x55f3('0x32b')]),_0xaa79c1={'format':this['sourceTexture'][_0x55f3('0x421')],'magFilter':this[_0x55f3('0x762')][_0x55f3('0x541')],'minFilter':this['sourceTexture']['minFilter'],'type':this['sourceTexture'][_0x55f3('0xeb')],'generateMipmaps':this[_0x55f3('0x762')][_0x55f3('0x76f')],'anisotropy':this['sourceTexture']['anisotropy'],'encoding':this[_0x55f3('0x762')][_0x55f3('0x419')]};this['numLods']=Math[_0x55f3('0x770')](_0x43caf6)/Math['log'](0x2)-0x2;for(var _0xf24b9=0x0;_0xf24b9<this[_0x55f3('0x768')];_0xf24b9++){var _0x2002b7=new THREE[(_0x55f3('0x771'))](_0x43caf6,_0x43caf6,_0xaa79c1);_0x2002b7[_0x55f3('0x1c6')][_0x55f3('0x8b')]='PMREMGenerator.cube'+_0xf24b9,this['cubeLods']['push'](_0x2002b7),_0x43caf6=Math[_0x55f3('0xf2')](0x10,_0x43caf6/0x2);}}_0x525254[_0x55f3('0x756')]=_0xf24b9;},function(_0x554493,_0x1f94bb,_0xd46bae){'use strict';var _0x380e55,_0xe581f3,_0x205edf,_0x21ce0f;function _0x3203be(_0x554493){var _0x1f94bb=0x4*(this['cubeLods']=_0x554493)[0x0]['width'],_0xd46bae=_0x554493[0x0][_0x55f3('0x1c6')],_0xd46bae={'format':_0xd46bae[_0x55f3('0x421')],'magFilter':_0xd46bae['magFilter'],'minFilter':_0xd46bae[_0x55f3('0x543')],'type':_0xd46bae['type'],'generateMipmaps':_0xd46bae['generateMipmaps'],'anisotropy':_0xd46bae[_0x55f3('0x4c2')],'encoding':_0xd46bae[_0x55f3('0x419')]===THREE[_0x55f3('0x752')]?THREE[_0x55f3('0x772')]:_0xd46bae[_0x55f3('0x419')]},_0x380e55=(_0xd46bae[_0x55f3('0x419')]===THREE['RGBM16Encoding']&&(_0xd46bae[_0x55f3('0x541')]=THREE[_0x55f3('0x542')],_0xd46bae[_0x55f3('0x543')]=THREE[_0x55f3('0x542')]),this[_0x55f3('0x759')]=new THREE[(_0x55f3('0x773'))](_0x1f94bb,_0x1f94bb,_0xd46bae),this['CubeUVRenderTarget'][_0x55f3('0x1c6')][_0x55f3('0x8b')]='PMREMCubeUVPacker.cubeUv',this[_0x55f3('0x759')]['texture']['mapping']=THREE[_0x55f3('0x774')],this[_0x55f3('0x775')]=[],new THREE[(_0x55f3('0x520'))](0x1,0x1)),_0x3203be=[],_0x548cfb=(_0x3203be[_0x55f3('0x73')](new THREE[(_0x55f3('0x1b4'))](0x0,0x0)),_0x3203be[_0x55f3('0x73')](new THREE[(_0x55f3('0x1b4'))](0x1,0x0)),_0x3203be['push'](new THREE[(_0x55f3('0x1b4'))](0x2,0x0)),_0x3203be[_0x55f3('0x73')](new THREE['Vector2'](0x0,0x1)),_0x3203be['push'](new THREE[(_0x55f3('0x1b4'))](0x1,0x1)),_0x3203be['push'](new THREE[(_0x55f3('0x1b4'))](0x2,0x1)),_0x1f94bb),_0x1f94bb=_0x554493[0x0]['width'],_0x317bb4=0x0,_0xe581f3=0x4;this[_0x55f3('0x768')]=Math[_0x55f3('0x770')](_0x554493[0x0][_0x55f3('0x32c')])/Math[_0x55f3('0x770')](0x2)-0x2;for(var _0x205edf=0x0;_0x205edf<this[_0x55f3('0x768')];_0x205edf++){for(var _0x278e04=0.5*(_0x548cfb-_0x548cfb/_0xe581f3),_0x12c362=(0x10<_0x1f94bb&&(_0xe581f3*=0x2),0x10<_0x1f94bb?0x6:0x1),_0x2b078b=0x0,_0x309199=0x0,_0x2e11ac=_0x1f94bb,_0x2afc40=0x0;_0x2afc40<_0x12c362;_0x2afc40++){for(var _0x461f13=0x0;_0x461f13<0x6;_0x461f13++){var _0x3013c6=_0x21ce0f[_0x55f3('0x1b0')](),_0x3013c6=(_0x3013c6[_0x55f3('0x164')][_0x55f3('0x432')][_0x55f3('0x12')]=this[_0x55f3('0x758')][_0x205edf]['texture'],_0x3013c6[_0x55f3('0x432')]=this[_0x55f3('0x758')][_0x205edf]['texture'],_0x3013c6[_0x55f3('0x164')][_0x55f3('0x761')][_0x55f3('0x12')]=_0x461f13,_0x3013c6[_0x55f3('0x164')][_0x55f3('0x76a')]['value']=_0x2e11ac,new THREE[(_0x55f3('0x317'))](_0x380e55,_0x3013c6));_0x3013c6['position']['x']=_0x3203be[_0x461f13]['x']*_0x2e11ac-_0x278e04+_0x2b078b,_0x3013c6[_0x55f3('0x38')]['y']=_0x3203be[_0x461f13]['y']*_0x2e11ac-_0x278e04+_0x317bb4+_0x309199,_0x3013c6['material'][_0x55f3('0x3bf')]=THREE['BackSide'],_0x3013c6[_0x55f3('0x1d9')]['setScalar'](_0x2e11ac),this[_0x55f3('0x775')][_0x55f3('0x73')](_0x3013c6);}_0x309199+=1.75*_0x2e11ac,_0x2b078b+=1.25*_0x2e11ac,_0x2e11ac/=0x2;}_0x317bb4+=0x2*_0x1f94bb,0x10<_0x1f94bb&&(_0x1f94bb/=0x2);}}Object[_0x55f3('0x4')](_0x1f94bb,_0x55f3('0x7'),{'value':!0x0}),_0xe581f3=new THREE[(_0x55f3('0x75d'))](),_0x205edf=new THREE['Scene'](),(_0x380e55=new THREE[(_0x55f3('0x1e5'))]({'uniforms':{'faceIndex':{'value':0x0},'mapSize':{'value':0x0},'envMap':{'value':null},'testColor':{'value':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)}},'vertexShader':_0x55f3('0x776'),'fragmentShader':_0x55f3('0x777'),'blending':THREE[_0x55f3('0x75c')]}))[_0x55f3('0xeb')]=_0x55f3('0x757'),_0x21ce0f=_0x380e55,_0x3203be['prototype']={'constructor':_0x3203be,'update':function(_0x554493){var _0x1f94bb=0x4*this['cubeLods'][0x0][_0x55f3('0x32c')];_0xe581f3['left']=0.5*-_0x1f94bb,_0xe581f3[_0x55f3('0x778')]=0.5*_0x1f94bb,_0xe581f3['top']=0.5*-_0x1f94bb,_0xe581f3['bottom']=0.5*_0x1f94bb,_0xe581f3[_0x55f3('0x305')]=0x0,_0xe581f3['far']=0x1,_0xe581f3[_0x55f3('0x779')]();for(var _0xd46bae=0x0;_0xd46bae<this[_0x55f3('0x775')][_0x55f3('0xf')];_0xd46bae++)_0x205edf[_0x55f3('0x1c3')](this[_0x55f3('0x775')][_0xd46bae]);var _0x1f94bb=_0x554493[_0x55f3('0x767')],_0x380e55=_0x554493[_0x55f3('0x77a')],_0x3203be=_0x554493[_0x55f3('0x763')],_0x51cf73=_0x554493[_0x55f3('0x764')],_0x57b405=_0x554493[_0x55f3('0x765')]();for(_0x554493[_0x55f3('0x767')]=!0x1,_0x554493[_0x55f3('0x77a')]=!0x1,_0x554493[_0x55f3('0x763')]=THREE[_0x55f3('0x766')],_0x554493['toneMappingExposure']=0x1,_0x554493[_0x55f3('0x76c')](this[_0x55f3('0x759')]),_0x554493['render'](_0x205edf,_0xe581f3),_0x554493[_0x55f3('0x76c')](_0x57b405),_0x554493['toneMapping']=_0x3203be,_0x554493[_0x55f3('0x764')]=_0x51cf73,_0x554493['gammaInput']=_0x1f94bb,_0x554493[_0x55f3('0x77a')]=_0x380e55,_0xd46bae=0x0;_0xd46bae<this[_0x55f3('0x775')]['length'];_0xd46bae++)_0x205edf[_0x55f3('0x96')](this['objects'][_0xd46bae]);},'dispose':function(){for(var _0x554493=0x0,_0x1f94bb=this[_0x55f3('0x775')][_0x55f3('0xf')];_0x554493<_0x1f94bb;_0x554493++)this[_0x55f3('0x775')][_0x554493]['material'][_0x55f3('0x93')]();this[_0x55f3('0x775')][0x0][_0x55f3('0x95')][_0x55f3('0x93')]();}},_0x1f94bb[_0x55f3('0x757')]=_0x3203be;},function(_0x428af8,_0xb0f38,_0x1561b4){'use strict';function _0x11627b(_0x428af8){this[_0x55f3('0x4d2')]=_0x428af8;}Object[_0x55f3('0x4')](_0xb0f38,_0x55f3('0x7'),{'value':!0x0}),_0x11627b[_0x55f3('0x15')][_0x55f3('0x77b')]=function(_0x428af8,_0xb0f38){_0xb0f38=_0xb0f38||{};var _0x1561b4=new THREE[(_0x55f3('0x75e'))](),_0x11627b=new THREE['ShaderMaterial']({'type':_0x55f3('0x77c'),'uniforms':THREE['UniformsUtils'][_0x55f3('0x1b0')]({'tEquirect':{'value':null}}),'vertexShader':_0x55f3('0x77d'),'fragmentShader':_0x55f3('0x77e'),'side':THREE[_0x55f3('0x414')],'blending':THREE[_0x55f3('0x75c')]}),_0x11627b=(_0x11627b[_0x55f3('0x164')][_0x55f3('0x77f')][_0x55f3('0x12')]=_0x428af8,new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x415'))](0x5,0x5,0x5),_0x11627b)),_0x1596f5=(_0x1561b4[_0x55f3('0x1c3')](_0x11627b),_0xb0f38[_0x55f3('0x32b')]||0x200),_0xb0f38={'type':_0x428af8['type'],'format':_0x428af8[_0x55f3('0x421')],'encoding':_0x428af8[_0x55f3('0x419')],'generateMipmaps':(void 0x0!==_0xb0f38['generateMipmaps']?_0xb0f38:_0x428af8)['generateMipmaps'],'minFilter':(void 0x0!==_0xb0f38['minFilter']?_0xb0f38:_0x428af8)[_0x55f3('0x543')],'magFilter':(void 0x0!==_0xb0f38[_0x55f3('0x541')]?_0xb0f38:_0x428af8)[_0x55f3('0x541')]},_0x428af8=new THREE[(_0x55f3('0x780'))](0x1,0xa,_0x1596f5,_0xb0f38);return _0x428af8[_0x55f3('0x2f8')](this[_0x55f3('0x4d2')],_0x1561b4),_0x11627b['geometry'][_0x55f3('0x93')](),_0x11627b[_0x55f3('0x3f')]['dispose'](),_0x428af8['renderTarget'];};_0x439306=new THREE[(_0x55f3('0x781'))](0x5a,0x1,0.1,0xa),_0x21cbb1=new THREE[(_0x55f3('0x75e'))](),(_0x5fa891=new THREE[(_0x55f3('0x317'))](new THREE['BoxBufferGeometry'](0x1,0x1,0x1),((_0xab5c4a=new THREE['ShaderMaterial']({'uniforms':{'equirectangularMap':{'value':null}},'vertexShader':_0x55f3('0x782'),'fragmentShader':_0x55f3('0x783'),'blending':THREE[_0x55f3('0x75c')]}))[_0x55f3('0xeb')]=_0x55f3('0x755'),_0xab5c4a)))[_0x55f3('0x3f')]['side']=THREE[_0x55f3('0x414')],_0x21cbb1[_0x55f3('0x1c3')](_0x5fa891),_0x117bfc[_0x55f3('0x15')]={'constructor':_0x117bfc,'update':function(_0x428af8){var _0xb0f38=_0x428af8[_0x55f3('0x765')]();_0x5fa891[_0x55f3('0x3f')]['uniforms'][_0x55f3('0x784')]['value']=this['sourceTexture'];for(var _0x1561b4=0x0;_0x1561b4<0x6;_0x1561b4++){var _0x11627b=this['views'][_0x1561b4];_0x439306[_0x55f3('0x38')]['set'](0x0,0x0,0x0),_0x439306['up'][_0x55f3('0x39')](_0x11627b['u'][0x0],_0x11627b['u'][0x1],_0x11627b['u'][0x2]),_0x439306['lookAt'](_0x11627b['t'][0x0],_0x11627b['t'][0x1],_0x11627b['t'][0x2]),_0x428af8[_0x55f3('0x76c')](this['renderTarget'],_0x1561b4),_0x428af8[_0x55f3('0x785')](),_0x428af8[_0x55f3('0x336')](_0x21cbb1,_0x439306);}return _0x428af8[_0x55f3('0x76c')](_0xb0f38),this['renderTarget'][_0x55f3('0x1c6')];},'dispose':function(){this[_0x55f3('0x786')][_0x55f3('0x93')]();}};var _0x439306,_0x21cbb1,_0x5fa891,_0xab5c4a=_0x117bfc;function _0x117bfc(_0x428af8,_0xb0f38){_0xb0f38=_0xb0f38||{},this[_0x55f3('0x762')]=_0x428af8,this['resolution']=_0xb0f38[_0x55f3('0x32b')]||0x200,this[_0x55f3('0x787')]=[{'t':[0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[-0x1,0x0,0x0],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x1,0x0],'u':[0x0,0x0,0x1]},{'t':[0x0,-0x1,0x0],'u':[0x0,0x0,-0x1]},{'t':[0x0,0x0,0x1],'u':[0x0,-0x1,0x0]},{'t':[0x0,0x0,-0x1],'u':[0x0,-0x1,0x0]}];_0x428af8={'format':_0xb0f38[_0x55f3('0x421')]||this[_0x55f3('0x762')][_0x55f3('0x421')],'magFilter':this[_0x55f3('0x762')][_0x55f3('0x541')],'minFilter':this[_0x55f3('0x762')][_0x55f3('0x543')],'type':_0xb0f38[_0x55f3('0xeb')]||this[_0x55f3('0x762')][_0x55f3('0xeb')],'generateMipmaps':this[_0x55f3('0x762')][_0x55f3('0x76f')],'anisotropy':this[_0x55f3('0x762')][_0x55f3('0x4c2')],'encoding':this[_0x55f3('0x762')]['encoding']};this['renderTarget']=new THREE[(_0x55f3('0x771'))](this[_0x55f3('0x32b')],this[_0x55f3('0x32b')],_0x428af8);}_0xb0f38[_0x55f3('0x788')]=_0x11627b,_0xb0f38[_0x55f3('0x755')]=_0xab5c4a;},function(_0x91cea9,_0x397ef2,_0x3b57de){'use strict';Object[_0x55f3('0x4')](_0x397ef2,_0x55f3('0x7'),{'value':!0x0}),_0x397ef2[_0x55f3('0x74e')]=void 0x0;_0x3b57de=_0x3b57de(0x21),_0x3b57de=_0x3b57de&&_0x3b57de[_0x55f3('0x7')]?_0x3b57de:{'default':_0x3b57de};function _0x3c569a(_0x91cea9){this[_0x55f3('0x789')]=void 0x0!==_0x91cea9?_0x91cea9:THREE[_0x55f3('0x78a')],this[_0x55f3('0xeb')]=THREE['UnsignedByteType'];}(_0x3c569a['prototype']=(0x0,_0x3b57de['default'])(THREE['DataTextureLoader'][_0x55f3('0x15')]))[_0x55f3('0x78b')]=function(_0x91cea9){function _0x35202b(_0x91cea9,_0x397ef2){switch(_0x91cea9){case _0x2e0cab:console[_0x55f3('0x1f5')](_0x55f3('0x78c')+(_0x397ef2||''));break;case _0x517bb6:console[_0x55f3('0x1f5')](_0x55f3('0x78d')+(_0x397ef2||''));break;case _0x24ce8a:console[_0x55f3('0x1f5')](_0x55f3('0x78e')+(_0x397ef2||''));break;default:console['error'](_0x55f3('0x78f')+(_0x397ef2||''));}return _0x7a5e4d;}function _0x3de643(_0x91cea9,_0x397ef2,_0x3b57de){_0x397ef2=_0x397ef2||0x400;for(var _0x3c569a=_0x91cea9[_0x55f3('0x790')],_0x3037b2=-0x1,_0x2a2e23=0x0,_0x5d5423='',_0x13aaa9=String['fromCharCode']['apply'](null,new Uint16Array(_0x91cea9[_0x55f3('0xdc')](_0x3c569a,_0x3c569a+0x80)));(_0x3037b2=_0x13aaa9['indexOf'](_0x3aa1c1))<0x0&&_0x2a2e23<_0x397ef2&&_0x3c569a<_0x91cea9[_0x55f3('0x791')];)_0x5d5423+=_0x13aaa9,_0x2a2e23+=_0x13aaa9['length'],_0x3c569a+=0x80,_0x13aaa9+=String[_0x55f3('0x792')][_0x55f3('0x1f')](null,new Uint16Array(_0x91cea9[_0x55f3('0xdc')](_0x3c569a,_0x3c569a+0x80)));return-0x1<_0x3037b2&&(!0x1!==_0x3b57de&&(_0x91cea9[_0x55f3('0x790')]+=_0x2a2e23+_0x3037b2+0x1),_0x5d5423+_0x13aaa9[_0x55f3('0x24')](0x0,_0x3037b2));}var _0x397ef2,_0x3b57de,_0x3c569a,_0x25e0d1,_0x5874f0,_0x7a5e4d=-0x1,_0x2e0cab=0x1,_0x517bb6=0x2,_0x24ce8a=0x3,_0x3aa1c1='\x0a',_0x91cea9=new Uint8Array(_0x91cea9),_0x353f9a=(_0x91cea9[_0x55f3('0x790')]=0x0,function(_0x91cea9){var _0x397ef2,_0x3b57de,_0x3c569a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,_0x25e0d1=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,_0x5874f0=/^\s*FORMAT=(\S+)\s*$/,_0x7a5e4d=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,_0x517bb6={'valid':0x0,'string':'','comments':'','programtype':_0x55f3('0x793'),'format':'','gamma':0x1,'exposure':0x1,'width':0x0,'height':0x0};if(_0x91cea9[_0x55f3('0x790')]>=_0x91cea9[_0x55f3('0x791')]||!(_0x397ef2=_0x3de643(_0x91cea9)))return _0x35202b(_0x2e0cab,_0x55f3('0x794'));if(!(_0x3b57de=_0x397ef2[_0x55f3('0x795')](/^#\?(\S+)$/)))return _0x35202b(_0x24ce8a,_0x55f3('0x796'));for(_0x517bb6[_0x55f3('0x797')]|=0x1,_0x517bb6['programtype']=_0x3b57de[0x1],_0x517bb6[_0x55f3('0xa')]+=_0x397ef2+'\x0a';!0x1!==(_0x397ef2=_0x3de643(_0x91cea9));)if(_0x517bb6['string']+=_0x397ef2+'\x0a','#'===_0x397ef2['charAt'](0x0))_0x517bb6['comments']+=_0x397ef2+'\x0a';else if((_0x3b57de=_0x397ef2['match'](_0x3c569a))&&(_0x517bb6[_0x55f3('0x798')]=parseFloat(_0x3b57de[0x1],0xa)),(_0x3b57de=_0x397ef2[_0x55f3('0x795')](_0x25e0d1))&&(_0x517bb6[_0x55f3('0x799')]=parseFloat(_0x3b57de[0x1],0xa)),(_0x3b57de=_0x397ef2[_0x55f3('0x795')](_0x5874f0))&&(_0x517bb6['valid']|=0x2,_0x517bb6['format']=_0x3b57de[0x1]),(_0x3b57de=_0x397ef2[_0x55f3('0x795')](_0x7a5e4d))&&(_0x517bb6[_0x55f3('0x797')]|=0x4,_0x517bb6[_0x55f3('0x32d')]=parseInt(_0x3b57de[0x1],0xa),_0x517bb6[_0x55f3('0x32c')]=parseInt(_0x3b57de[0x2],0xa)),0x2&_0x517bb6['valid']&&0x4&_0x517bb6[_0x55f3('0x797')])break;return 0x2&_0x517bb6[_0x55f3('0x797')]?0x4&_0x517bb6[_0x55f3('0x797')]?_0x517bb6:_0x35202b(_0x24ce8a,_0x55f3('0x79a')):_0x35202b(_0x24ce8a,_0x55f3('0x79b'));}(_0x91cea9));if(_0x7a5e4d!==_0x353f9a){var _0x1cb314=_0x353f9a[_0x55f3('0x32c')],_0x12fa05=_0x353f9a['height'],_0x111d64=function(_0x91cea9,_0x397ef2,_0x3b57de){var _0x3c569a,_0x25e0d1,_0x5874f0,_0x7a5e4d,_0x517bb6,_0x3de643,_0x3aa1c1,_0x353f9a,_0x1cb314,_0x12fa05,_0x111d64,_0x4d9df1,_0x4b93e1,_0x3b083b=_0x397ef2,_0x1d1430=_0x3b57de;if(_0x3b083b<0x8||0x7fff<_0x3b083b||0x2!==_0x91cea9[0x0]||0x2!==_0x91cea9[0x1]||0x80&_0x91cea9[0x2])return new Uint8Array(_0x91cea9);if(_0x3b083b!==(_0x91cea9[0x2]<<0x8|_0x91cea9[0x3]))return _0x35202b(_0x24ce8a,'wrong\x20scanline\x20width');if(!(_0x3c569a=new Uint8Array(0x4*_0x397ef2*_0x3b57de))||!_0x3c569a['length'])return _0x35202b(0x4,_0x55f3('0x79c'));for(_0x5874f0=_0x25e0d1=0x0,_0x353f9a=0x4*_0x3b083b,_0x4b93e1=new Uint8Array(0x4),_0x3de643=new Uint8Array(_0x353f9a);0x0<_0x1d1430&&_0x5874f0<_0x91cea9[_0x55f3('0x791')];){if(_0x5874f0+0x4>_0x91cea9[_0x55f3('0x791')])return _0x35202b(_0x2e0cab);if(_0x4b93e1[0x0]=_0x91cea9[_0x5874f0++],_0x4b93e1[0x1]=_0x91cea9[_0x5874f0++],_0x4b93e1[0x2]=_0x91cea9[_0x5874f0++],_0x4b93e1[0x3]=_0x91cea9[_0x5874f0++],0x2!=_0x4b93e1[0x0]||0x2!=_0x4b93e1[0x1]||(_0x4b93e1[0x2]<<0x8|_0x4b93e1[0x3])!=_0x3b083b)return _0x35202b(_0x24ce8a,_0x55f3('0x79d'));for(_0x3aa1c1=0x0;_0x3aa1c1<_0x353f9a&&_0x5874f0<_0x91cea9[_0x55f3('0x791')];){if((_0x4d9df1=0x80<(_0x7a5e4d=_0x91cea9[_0x5874f0++]))&&(_0x7a5e4d-=0x80),0x0===_0x7a5e4d||_0x353f9a<_0x3aa1c1+_0x7a5e4d)return _0x35202b(_0x24ce8a,'bad\x20scanline\x20data');if(_0x4d9df1)for(_0x517bb6=_0x91cea9[_0x5874f0++],_0x1cb314=0x0;_0x1cb314<_0x7a5e4d;_0x1cb314++)_0x3de643[_0x3aa1c1++]=_0x517bb6;else _0x3de643[_0x55f3('0x39')](_0x91cea9[_0x55f3('0xdc')](_0x5874f0,_0x5874f0+_0x7a5e4d),_0x3aa1c1),_0x3aa1c1+=_0x7a5e4d,_0x5874f0+=_0x7a5e4d;}for(_0x12fa05=_0x3b083b,_0x1cb314=0x0;_0x1cb314<_0x12fa05;_0x1cb314++)_0x3c569a[_0x25e0d1]=_0x3de643[_0x1cb314+(_0x111d64=0x0)],_0x111d64+=_0x3b083b,_0x3c569a[_0x25e0d1+0x1]=_0x3de643[_0x1cb314+_0x111d64],_0x111d64+=_0x3b083b,_0x3c569a[_0x25e0d1+0x2]=_0x3de643[_0x1cb314+_0x111d64],_0x111d64+=_0x3b083b,_0x3c569a[_0x25e0d1+0x3]=_0x3de643[_0x1cb314+_0x111d64],_0x25e0d1+=0x4;_0x1d1430--;}return _0x3c569a;}(_0x91cea9[_0x55f3('0xdc')](_0x91cea9[_0x55f3('0x790')]),_0x1cb314,_0x12fa05);if(_0x7a5e4d!==_0x111d64){if(this[_0x55f3('0xeb')]===THREE['UnsignedByteType'])var _0x2b4218=_0x111d64,_0x15f21d=THREE[_0x55f3('0x79e')],_0x4153b8=THREE[_0x55f3('0x79f')];else if(this['type']===THREE[_0x55f3('0x7a0')]){for(var _0x516225=_0x111d64['length']/0x4*0x3,_0x4a52f9=new Float32Array(_0x516225),_0x2a3d12=0x0;_0x2a3d12<_0x516225;_0x2a3d12++)_0x3c569a=_0x4a52f9,_0x25e0d1=0x3*_0x2a3d12,0x0,_0x5874f0=(_0x397ef2=_0x111d64)[0x3+(_0x3b57de=0x4*_0x2a3d12)],_0x5874f0=Math['pow'](0x2,_0x5874f0-0x80)/0xff,_0x3c569a[0x0+_0x25e0d1]=_0x397ef2[0x0+_0x3b57de]*_0x5874f0,_0x3c569a[0x1+_0x25e0d1]=_0x397ef2[0x1+_0x3b57de]*_0x5874f0,_0x3c569a[0x2+_0x25e0d1]=_0x397ef2[0x2+_0x3b57de]*_0x5874f0;_0x2b4218=_0x4a52f9,_0x15f21d=THREE[_0x55f3('0x417')],_0x4153b8=THREE[_0x55f3('0x7a0')];}else console['error'](_0x55f3('0x7a1'),this['type']);return{'width':_0x1cb314,'height':_0x12fa05,'data':_0x2b4218,'header':_0x353f9a[_0x55f3('0xa')],'gamma':_0x353f9a[_0x55f3('0x798')],'exposure':_0x353f9a['exposure'],'format':_0x15f21d,'type':_0x4153b8};}}return null;},_0x3c569a['prototype']['setType']=function(_0x91cea9){return this[_0x55f3('0xeb')]=_0x91cea9,this;},_0x397ef2[_0x55f3('0x74e')]=_0x3c569a;},function(_0x419826,_0x2e5cf8,_0x4a589c){'use strict';Object[_0x55f3('0x4')](_0x2e5cf8,_0x55f3('0x7'),{'value':!0x0});var _0x55fbad=_0x6da7dc(_0x4a589c(0x0));function _0x6da7dc(_0x419826){return _0x419826&&_0x419826[_0x55f3('0x7')]?_0x419826:{'default':_0x419826};}function _0x3047ae(_0x419826){var _0x2e5cf8=_0x419826[_0x55f3('0x1d9')],_0x2e5cf8=void 0x0===_0x2e5cf8?0x6:_0x2e5cf8,_0x4a589c=_0x419826[_0x55f3('0x337')],_0x4a589c=void 0x0===_0x4a589c?0.005:_0x4a589c,_0x6da7dc=_0x419826['fluctuate'],_0x6da7dc=void 0x0===_0x6da7dc?0x32:_0x6da7dc,_0x548269=_0x419826['texture'],_0x5d065f=_0x419826[_0x55f3('0x7a2')],_0x6bb98a=_0x419826[_0x55f3('0x2fd')],_0x6bb98a=void 0x0===_0x6bb98a?_0x55f3('0x7a3'):_0x6bb98a,_0x4b069b=_0x419826[_0x55f3('0x7a4')],_0x4b069b=void 0x0===_0x4b069b?0x1:_0x4b069b,_0x5125c5=_0x419826[_0x55f3('0x7a5')],_0x5125c5=void 0x0===_0x5125c5?'#b2b2e6':_0x5125c5,_0x2da350=_0x419826[_0x55f3('0x7a6')],_0x2da350=void 0x0===_0x2da350?0x0:_0x2da350,_0x419826=_0x419826[_0x55f3('0x221')],_0x419826=void 0x0===_0x419826?0x1:_0x419826;(0x0,_0x55fbad['default'])(this,_0x3047ae),this[_0x55f3('0x555')]=!0x1,this[_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x6bb98a),this[_0x55f3('0x7a7')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x5125c5),this['speed']=_0x4a589c,this['fluctuate']=_0x6da7dc,this[_0x55f3('0x7a4')]=_0x4b069b,this['flowAngle']=_0x2da350,this[_0x55f3('0x221')]=_0x419826,this['scale']=_0x2e5cf8,this[_0x55f3('0x5dd')]=null,this['shader']=null,this[_0x55f3('0xfc')]=0x0,this['material']=null,this['texture']=_0x548269,this[_0x55f3('0x7a2')]=_0x5d065f,this[_0x55f3('0x7a8')]=null,this[_0x55f3('0x7a9')]=[];}(0x0,_0x6da7dc(_0x4a589c(0x1))['default'])(_0x3047ae,[{'key':_0x55f3('0x4b4'),'value':function(_0x419826){var _0x2e5cf8=_0x419826[_0x55f3('0x3d')]['brothers']['length'];if(0x0<_0x2e5cf8){this[_0x55f3('0x7a9')][_0x55f3('0x73')](_0x419826);for(var _0x4a589c=_0x419826[_0x55f3('0x95')][_0x55f3('0x52c')](_0x55f3('0x38')),_0x6da7dc=new Array(_0x4a589c['count']),_0x3539c2=0x0;_0x3539c2<_0x2e5cf8;_0x3539c2++){var _0x5e4a1a=_0x419826[_0x55f3('0x3d')][_0x55f3('0x4b5')][_0x3539c2][_0x55f3('0x7aa')][0x0],_0x33eb3a=_0x419826[_0x55f3('0x3d')]['brothers'][_0x3539c2]['sideRange'][0x0],_0x58e2bb=_0x419826['datas_'][_0x55f3('0x4b5')][_0x3539c2][_0x55f3('0x7aa')][0x1];_0x6da7dc[_0x55f3('0x4d6')](0x1,_0x5e4a1a,_0x33eb3a),_0x6da7dc['fill'](0x0,_0x33eb3a,_0x58e2bb);}_0x419826[_0x55f3('0x95')][_0x55f3('0x1f2')]('topFaceFlags',new THREE[(_0x55f3('0x102'))](new Float32Array(_0x6da7dc),0x1));}}},{'key':_0x55f3('0x4fc'),'value':function(){return this['material'];}},{'key':_0x55f3('0x2fc'),'value':function(_0x419826,_0x2e5cf8){var _0x4a589c=this,_0x6da7dc=(this[_0x55f3('0x1c6')]['wrapT']=THREE[_0x55f3('0x33d')],this['texture'][_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x419826?(this['material']=_0x419826,this[_0x55f3('0x3f')][_0x55f3('0x220')]=this[_0x55f3('0x220')],_0x4a589c['material'][_0x55f3('0x94')]&&(_0x2e5cf8?(_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x94')][_0x55f3('0x93')](),_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x94')]=null,_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x7ab')]=this[_0x55f3('0x7ab')]):(_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x163')][_0x55f3('0x7ac')]='',this[_0x55f3('0x1c6')]=_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x94')],_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x7ab')]=this[_0x55f3('0x7ab')],_0x4a589c['material'][_0x55f3('0x94')]=null))):this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x4d0'))]({'color':this[_0x55f3('0x220')]}),0x1!==this[_0x55f3('0x221')]&&(this['material']['transparent']=!0x0,this[_0x55f3('0x3f')][_0x55f3('0x221')]=this[_0x55f3('0x221')]),null);return _0x4a589c['alphaMaskPath']&&(_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x163')][_0x55f3('0x7ad')]='',_0x4a589c[_0x55f3('0x3f')]['transparent']=!0x0,(_0x6da7dc=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x4a589c[_0x55f3('0x7a8')]))[_0x55f3('0x754')]=!0x1),_0x4a589c[_0x55f3('0x7a2')]&&(_0x4a589c[_0x55f3('0x3f')][_0x55f3('0x163')][_0x55f3('0x7ae')]=''),this['material']['onBeforeCompile']=function(_0x419826){_0x419826[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x419826['uniforms'][_0x55f3('0x7af')]={'value':_0x4a589c['scale']||0x5},_0x419826[_0x55f3('0x164')][_0x55f3('0x7b0')]={'value':_0x4a589c['fluctuate']},_0x419826[_0x55f3('0x164')]['texUvScale']={'value':_0x4a589c[_0x55f3('0x7a4')]},_0x419826[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':_0x4a589c['texture']},_0x419826[_0x55f3('0x164')][_0x55f3('0x6b1')]={'value':_0x6da7dc},_0x419826[_0x55f3('0x164')][_0x55f3('0x439')]={'value':_0x4a589c['skyTexture']},_0x419826[_0x55f3('0x164')][_0x55f3('0x7a7')]={'value':_0x4a589c['lightColor']},_0x419826[_0x55f3('0x164')]['flowDirect']={'value':THREE['Math'][_0x55f3('0x391')](_0x4a589c[_0x55f3('0x7a6')])},_0x419826[_0x55f3('0x57')]=_0x419826[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x7b1')),_0x419826[_0x55f3('0x57')]=_0x419826[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv_vertex>',_0x55f3('0x7b2')),_0x419826[_0x55f3('0x57')]=_0x419826[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x446'),_0x55f3('0x7b3')),_0x419826[_0x55f3('0x58')]=_0x419826['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x7b4')),_0x419826['fragmentShader']=_0x419826[_0x55f3('0x58')][_0x55f3('0x56')]('#include\x20<alphamap_fragment>',_0x55f3('0x7b5')),_0x419826[_0x55f3('0x58')]=_0x419826[_0x55f3('0x58')][_0x55f3('0x56')]('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20/=\x20waterScale;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20=\x20rotateUV(uv,\x20flowDirect);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20t\x20=\x201.5*iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20st\x20=\x20sin(t),\x20ct\x20=\x20cos(t);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20m2\x20=\x20mat2(ct,st,-st,ct);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20p\x20=\x20water(uv+2.*iTime)+2.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20length(p)/7.;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20c=clamp(pow(c,3.),0.,1.);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_ORIGING_MAP\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20texCol\x20=\x20texture2D(texture1,uv\x20*\x20texUvScale\x20+\x20p/10.).rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20texCol;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,lightColor,c);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_USE_SS_SKY\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20skyCol\x20=\x20screenTexture(p/10.);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20skyCol\x20*\x202.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4a589c['shader']=_0x419826;},this[_0x55f3('0x3f')];}},{'key':_0x55f3('0x4fb'),'value':function(_0x419826){_0x419826=_0x419826[_0x55f3('0x1d9')];this[_0x55f3('0x4b9')]&&_0x419826&&(this['shader']['uniforms'][_0x55f3('0x7af')]['value']=_0x419826);}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x3f')]&&this['material']['dispose'](),this['texture']&&this[_0x55f3('0x1c6')][_0x55f3('0x93')](),this[_0x55f3('0x1c6')]=null,this['material']=null,this[_0x55f3('0x4b9')]=null;for(var _0x419826=0x0,_0x2e5cf8=this[_0x55f3('0x7a9')][_0x55f3('0xf')];_0x419826<_0x2e5cf8;_0x419826++)this['targetMeshes'][_0x419826][_0x55f3('0x3f')][0x0]=null;this[_0x55f3('0x7a9')]['length']=0x0;}},{'key':_0x55f3('0x336'),'value':function(){this[_0x55f3('0x3f')]&&this['shader']&&(this[_0x55f3('0xfc')]+=this[_0x55f3('0x337')],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x2e5cf8[_0x55f3('0x9')]=_0x3047ae;},function(_0x11911f,_0x21ef54,_0x1b15cf){'use strict';Object[_0x55f3('0x4')](_0x21ef54,_0x55f3('0x7'),{'value':!0x0});var _0x51af6f=_0x4c2a5b(_0x1b15cf(0x0)),_0x2e978b=_0x4c2a5b(_0x1b15cf(0x1)),_0x3a64eb=_0x1b15cf(0xda);function _0x4c2a5b(_0x11911f){return _0x11911f&&_0x11911f[_0x55f3('0x7')]?_0x11911f:{'default':_0x11911f};}function _0x57587f(_0x11911f){var _0x21ef54=_0x11911f[_0x55f3('0x2b6')],_0x1b15cf=_0x11911f['speed'],_0x1b15cf=void 0x0===_0x1b15cf?0x1:_0x1b15cf,_0x11911f=_0x11911f[_0x55f3('0x7b6')];(0x0,_0x51af6f[_0x55f3('0x9')])(this,_0x57587f),this[_0x55f3('0x5dd')]=null,this[_0x55f3('0x2b6')]=_0x21ef54,this[_0x55f3('0x337')]=_0x1b15cf,this['waterColor']=_0x11911f;}(0x0,_0x2e978b[_0x55f3('0x9')])(_0x57587f,[{'key':'createWater','value':function(_0x11911f,_0x21ef54,_0x1b15cf,_0x51af6f,_0x2e978b,_0x4c2a5b,_0x57587f){var _0x1b15cf=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](_0x1b15cf),_0x4491d2=(_0x1b15cf[_0x55f3('0x33e')]=_0x1b15cf['wrapT']=THREE[_0x55f3('0x33d')],null);return _0x51af6f&&((_0x4491d2=new THREE['TextureLoader']()[_0x55f3('0x26f')](_0x51af6f))[_0x55f3('0x754')]=!0x1,_0x4491d2[_0x55f3('0xf7')]=!0x0),this['water']=new _0x3a64eb[(_0x55f3('0x7b7'))](_0x11911f,_0x21ef54,{'textureWidth':0x200,'textureHeight':0x200,'waterNormals':_0x1b15cf,'waterMask':_0x4491d2,'alpha':0x1,'sunDirection':this[_0x55f3('0x2b6')][_0x55f3('0x38')]['clone']()[_0x55f3('0x1c2')](),'sunColor':'#ffffff','waterColor':this[_0x55f3('0x7b6')]||_0x55f3('0x7b8'),'distortionScale':3.7,'fog':!0x1,'isPlaneGeo':_0x2e978b,'side':_0x4c2a5b?THREE[_0x55f3('0x308')]:THREE[_0x55f3('0x7b9')],'clipViewValue':_0x57587f}),this[_0x55f3('0x5dd')];}},{'key':_0x55f3('0x7ba'),'value':function(_0x11911f){this['water']&&this[_0x55f3('0x5dd')]['shader']&&(_0x11911f['waterColor']&&this[_0x55f3('0x5dd')][_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x7b6')][_0x55f3('0x12')][_0x55f3('0x300')](_0x11911f[_0x55f3('0x7b6')]),_0x11911f[_0x55f3('0x337')]&&(this[_0x55f3('0x337')]=_0x11911f[_0x55f3('0x337')]));}},{'key':_0x55f3('0x336'),'value':function(_0x11911f){this[_0x55f3('0x5dd')]&&this['water'][_0x55f3('0x4b9')]&&(this[_0x55f3('0x5dd')][_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]+=_0x11911f*this['speed']);}}]),_0x21ef54[_0x55f3('0x9')]=_0x57587f;},function(_0x43efa1,_0x2268fb,_0x4807b6){'use strict';Object[_0x55f3('0x4')](_0x2268fb,_0x55f3('0x7'),{'value':!0x0}),_0x2268fb[_0x55f3('0x7b7')]=void 0x0;var _0x4807b6=_0x4807b6(0xdb),_0x4cae72=_0x4807b6&&_0x4807b6[_0x55f3('0x7')]?_0x4807b6:{'default':_0x4807b6};_0x2268fb[_0x55f3('0x7b7')]=function(_0x43efa1,_0x2268fb,_0x4807b6){var _0x15d964=this,_0x17ca9c=(_0x15d964[_0x55f3('0x7bb')]=!0x1,_0x15d964[_0x55f3('0x7bc')]={},void 0x0!==(_0x4807b6=_0x4807b6||{})['textureWidth']?_0x4807b6[_0x55f3('0x7bd')]:0x200),_0x3cd022=void 0x0!==_0x4807b6[_0x55f3('0x7be')]?_0x4807b6[_0x55f3('0x7be')]:0x200,_0xa52d70=void 0x0!==_0x4807b6[_0x55f3('0x7bf')]?_0x4807b6[_0x55f3('0x7bf')]:0x0,_0x47019a=(void 0x0!==_0x4807b6[_0x55f3('0x7c0')]&&_0x4807b6[_0x55f3('0x7c0')],void 0x0!==_0x4807b6[_0x55f3('0x4d8')]&&_0x4807b6[_0x55f3('0x4d8')],void 0x0!==_0x4807b6[_0x55f3('0x7c1')]?_0x4807b6[_0x55f3('0x7c1')]:null),_0x9d1728=void 0x0!==_0x4807b6['waterMask']?_0x4807b6[_0x55f3('0x7c2')]:null,_0x4cebf8=void 0x0!==_0x4807b6[_0x55f3('0x7c3')]?_0x4807b6[_0x55f3('0x7c3')]:new THREE[(_0x55f3('0x5a'))](0.70707,0.70707,0x0),_0xb6fd99=new THREE['Color'](void 0x0!==_0x4807b6[_0x55f3('0x7c4')]?_0x4807b6['sunColor']:0xffffff),_0x3bd5eb=new THREE[(_0x55f3('0x1b7'))](void 0x0!==_0x4807b6[_0x55f3('0x7b6')]?_0x4807b6[_0x55f3('0x7b6')]:0x7f7f7f),_0x14491a=void 0x0!==_0x4807b6['eye']?_0x4807b6[_0x55f3('0x7c5')]:new THREE['Vector3'](0x0,0x0,0x0),_0x29fc83=void 0x0!==_0x4807b6['distortionScale']?_0x4807b6[_0x55f3('0x7c6')]:0x14,_0x17aa13=void 0x0!==_0x4807b6[_0x55f3('0x3bf')]?_0x4807b6[_0x55f3('0x3bf')]:THREE[_0x55f3('0x7b9')],_0x31ac00=(void 0x0!==_0x4807b6['fog']&&_0x4807b6[_0x55f3('0x1e8')],void 0x0!==_0x4807b6[_0x55f3('0x7c7')]&&_0x4807b6[_0x55f3('0x7c7')]),_0x4caf4f=void 0x0!==_0x4807b6['clipViewValue']&&_0x4807b6[_0x55f3('0x7c8')],_0x4807b6=void 0x0===_0x4807b6[_0x55f3('0x7c9')]||_0x4807b6[_0x55f3('0x7c9')],_0x3d803d=new THREE['Plane'](),_0xfea712=new THREE[(_0x55f3('0x5a'))](),_0x453a69=new THREE[(_0x55f3('0x5a'))](),_0x150a4e=new THREE['Vector3'](),_0x130c14=new THREE['Matrix4'](),_0x1c4f52=new THREE[(_0x55f3('0x5a'))](0x0,0x0,-0x1),_0x4d73d8=new THREE['Vector4'](),_0x5087f0=new THREE[(_0x55f3('0x5a'))](),_0x428c0e=new THREE[(_0x55f3('0x5a'))](),_0x46852d=new THREE[(_0x55f3('0x1b6'))](),_0x122a6d=new THREE[(_0x55f3('0x324'))](),_0x25b1d4=new THREE['PerspectiveCamera'](),_0x319071={'minFilter':THREE[_0x55f3('0x542')],'magFilter':THREE[_0x55f3('0x542')],'format':THREE[_0x55f3('0x417')],'stencilBuffer':!0x0},_0xd5bfaf=new THREE[(_0x55f3('0x773'))](_0x17ca9c,_0x3cd022,_0x319071);THREE[_0x55f3('0x18')][_0x55f3('0x7ca')](_0x17ca9c)&&THREE[_0x55f3('0x18')][_0x55f3('0x7ca')](_0x3cd022)||(_0xd5bfaf[_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1),_0x15d964['material']=_0x2268fb,_0x9d1728&&(_0x15d964[_0x55f3('0x3f')]['defines'][_0x55f3('0x7cb')]=''),_0x4caf4f&&(_0x15d964[_0x55f3('0x3f')][_0x55f3('0x163')][_0x55f3('0x7cc')]=''),_0x15d964[_0x55f3('0x3f')][_0x55f3('0x1d5')]=!0x0,_0x15d964[_0x55f3('0x3f')][_0x55f3('0x5da')]=!0x0,_0x15d964[_0x55f3('0x3f')][_0x55f3('0x3bf')]=_0x17aa13,_0x15d964[_0x55f3('0x3f')][_0x55f3('0x1e8')]=!0x1,_0x4807b6&&(_0x15d964[_0x55f3('0x3f')]['aoMap']=((_0x319071=document[_0x55f3('0x79')](_0x55f3('0x422')))[_0x55f3('0x32c')]=0x2,_0x319071[_0x55f3('0x32d')]=0x2,_0x319071[_0x55f3('0x377')]('2d')['fillStyle']=_0x55f3('0x339'),new THREE[(_0x55f3('0x1ca'))](_0x319071)),_0x15d964[_0x55f3('0x3f')][_0x55f3('0x7cd')]=0x0),_0x15d964[_0x55f3('0x3f')][_0x55f3('0x44d')]=function(_0x43efa1){_0x43efa1[_0x55f3('0x164')]['normalSampler']={'value':_0x47019a},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7ce')]={'value':_0xd5bfaf[_0x55f3('0x1c6')]},_0x43efa1[_0x55f3('0x164')]['alpha']={'value':0x1},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x43efa1[_0x55f3('0x164')]['size']={'value':0x1},_0x43efa1[_0x55f3('0x164')]['distortionScale']={'value':_0x29fc83},_0x43efa1['uniforms'][_0x55f3('0x7cf')]={'value':_0x122a6d},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7c4')]={'value':_0xb6fd99},_0x43efa1['uniforms'][_0x55f3('0x7c3')]={'value':_0x4cebf8},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7c5')]={'value':_0x14491a},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7b6')]={'value':_0x3bd5eb},_0x43efa1['uniforms']['maskTexture']={'value':_0x9d1728},_0x43efa1['uniforms'][_0x55f3('0x7c8')]={'value':_0x4caf4f},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7d0')]={'value':!0x1},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7d1')]={'value':new THREE[(_0x55f3('0x1b4'))](0x32,0xc8)},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7d2')]={'value':new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x55f3('0x7d3'))},_0x43efa1[_0x55f3('0x164')][_0x55f3('0x7d4')]={'value':new THREE[(_0x55f3('0x1b7'))]()['setStyle']('#032541')},_0x43efa1[_0x55f3('0x57')]=_0x43efa1[_0x55f3('0x57')]['replace'](_0x55f3('0x43a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20mat4\x20textureMatrix;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec4\x20viewPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x09\x09\x09varying\x20float\x20vFogDepth;\x0a\x0a\x09\x09\x09//\x20t:offset\x20s:repeat\x20c:center\x0a\x09\x09\x09mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x09\x09\x09\x09float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x09\x09\x09\x09float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x09\x09\x09\x09return\x20mat3(\x0a\x09\x09\x09\x09\x09sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x09\x09\x09\x09\x09-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x09\x09\x09\x09\x09tx,\x20ty,\x201\x0a\x09\x09\x09\x09);\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x43efa1[_0x55f3('0x57')]=_0x43efa1[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x7d5')),_0x43efa1[_0x55f3('0x58')]=_0x43efa1['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20mirrorSampler;\x0a\x09\x09\x09uniform\x20float\x20alpha;\x0a\x09\x09\x09uniform\x20float\x20iTime;\x0a\x09\x09\x09uniform\x20float\x20size;\x0a\x09\x09\x09uniform\x20float\x20distortionScale;\x0a\x09\x09\x09uniform\x20bool\x20isShowWaterFog;\x0a\x09\x09\x09uniform\x20sampler2D\x20normalSampler;\x0a\x09\x09\x09uniform\x20vec3\x20sunColor;\x0a\x09\x09\x09uniform\x20vec3\x20sunDirection;\x0a\x09\x09\x09uniform\x20vec3\x20eye;\x0a\x09\x09\x09uniform\x20vec3\x20waterColor;\x0a\x09\x09\x09uniform\x20vec2\x20waterFog;\x0a\x09\x09\x09uniform\x20vec3\x20fogNearColor;\x0a\x09\x09\x09uniform\x20vec3\x20fogFarColor;\x0a\x09\x09\x09#ifdef\x20IS_USE_MASK_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x09uniform\x20sampler2D\x20maskTexture;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x09\x09\x09#ifdef\x20IS_USE_CLIP_VIEW\x0a\x09\x09\x09\x09uniform\x20float\x20clipViewValue;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x0a\x09\x09\x09varying\x20vec4\x20mirrorCoord;\x0a\x09\x09\x09varying\x20vec4\x20viewPosition;\x0a\x09\x09\x09varying\x20vec4\x20worldPosition;\x0a\x09\x09\x09varying\x20vec2\x20vUV;\x0a\x09\x09\x09varying\x20float\x20vFogDepth;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20getNoise(\x20vec2\x20uv\x20)\x20{\x0a\x09\x09\x09\x09vec2\x20uv0\x20=\x20(\x20uv\x20/\x20103.0\x20)\x20+\x20vec2(iTime\x20/\x2017.0,\x20iTime\x20/\x2029.0);\x0a\x09\x09\x09\x09vec2\x20uv1\x20=\x20uv\x20/\x20107.0-vec2(\x20iTime\x20/\x20-19.0,\x20iTime\x20/\x2031.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv2\x20=\x20uv\x20/\x20vec2(\x208907.0,\x209803.0\x20)\x20+\x20vec2(\x20iTime\x20/\x20101.0,\x20iTime\x20/\x2097.0\x20);\x0a\x09\x09\x09\x09vec2\x20uv3\x20=\x20uv\x20/\x20vec2(\x201091.0,\x201027.0\x20)\x20-\x20vec2(\x20iTime\x20/\x20109.0,\x20iTime\x20/\x20-113.0\x20);\x0a\x09\x09\x09\x09vec4\x20noise\x20=\x20texture2D(\x20normalSampler,\x20uv0\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv1\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv2\x20)\x20+\x0a\x09\x09\x09\x09\x09texture2D(\x20normalSampler,\x20uv3\x20);\x0a\x09\x09\x09\x09return\x20noise\x20*\x200.5\x20-\x201.0;\x0a\x09\x09\x09}\x0a\x0a\x09\x09\x09void\x20sunLight(\x20const\x20vec3\x20surfaceNormal,\x20const\x20vec3\x20eyeDirection,\x20float\x20shiny,\x20float\x20spec,\x20float\x20diffuse,\x20inout\x20vec3\x20diffuseColor,\x20inout\x20vec3\x20specularColor\x20)\x20{\x0a\x09\x09\x09\x09vec3\x20reflection\x20=\x20normalize(\x20reflect(\x20-sunDirection,\x20surfaceNormal\x20)\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20direction\x20=\x20max(\x200.0,\x20dot(\x20eyeDirection,\x20reflection\x20)\x20);\x0a\x09\x09\x09\x09specularColor\x20+=\x20pow(\x20direction,\x20shiny\x20)\x20*\x20sunColor\x20*\x20spec;\x0a\x09\x09\x09\x09diffuseColor\x20+=\x20max(\x20dot(\x20sunDirection,\x20surfaceNormal\x20),\x200.0\x20)\x20*\x20sunColor\x20*\x20diffuse;\x0a\x09\x09\x09}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x43efa1[_0x55f3('0x58')]=_0x43efa1['fragmentShader']['replace'](_0x55f3('0x7d6'),_0x55f3('0x7d7')),_0x43efa1[_0x55f3('0x58')]=_0x43efa1[_0x55f3('0x58')]['replace'](_0x55f3('0x4f8'),_0x55f3('0x7d8')),_0x15d964[_0x55f3('0x4b9')]=_0x43efa1;},_0x15d964[_0x55f3('0x1ea')]=new THREE['Mesh'](_0x43efa1,_0x2268fb),_0x15d964[_0x55f3('0x1ea')][_0x55f3('0x7d9')]=!0x0,_0x15d964['mesh']['onBeforeRender']=function(_0x43efa1,_0x2268fb,_0x4807b6){if(_0x453a69[_0x55f3('0x6c5')](_0x15d964[_0x55f3('0x1ea')][_0x55f3('0x3b0')]),_0x150a4e['setFromMatrixPosition'](_0x4807b6['matrixWorld']),_0x130c14['extractRotation'](_0x15d964[_0x55f3('0x1ea')][_0x55f3('0x3b0')]),_0x31ac00?_0xfea712[_0x55f3('0x39')](0x0,0x0,_0x15d964['isViewBackFace']?-0x1:0x1):_0xfea712[_0x55f3('0x39')](0x0,0x1,0x0),_0xfea712[_0x55f3('0x3b8')](_0x130c14),_0x5087f0[_0x55f3('0x7da')](_0x453a69,_0x150a4e),!(0x0<_0x5087f0['dot'](_0xfea712))){_0x5087f0[_0x55f3('0x7db')](_0xfea712)[_0x55f3('0x7dc')](),_0x5087f0[_0x55f3('0x1c3')](_0x453a69),_0x130c14[_0x55f3('0x7dd')](_0x4807b6[_0x55f3('0x3b0')]),_0x1c4f52['set'](0x0,0x0,-0x1),_0x1c4f52[_0x55f3('0x3b8')](_0x130c14),_0x1c4f52[_0x55f3('0x1c3')](_0x150a4e),_0x428c0e[_0x55f3('0x7da')](_0x453a69,_0x1c4f52),_0x428c0e[_0x55f3('0x7db')](_0xfea712)[_0x55f3('0x7dc')](),_0x428c0e[_0x55f3('0x1c3')](_0x453a69),_0x25b1d4[_0x55f3('0x38')][_0x55f3('0x1ba')](_0x5087f0),_0x25b1d4['up']['set'](0x0,0x1,0x0),_0x25b1d4['up'][_0x55f3('0x3b8')](_0x130c14),_0x25b1d4['up'][_0x55f3('0x7db')](_0xfea712),_0x25b1d4['lookAt'](_0x428c0e),_0x25b1d4[_0x55f3('0x307')]=_0x4807b6[_0x55f3('0x307')],_0x25b1d4[_0x55f3('0x7de')](),_0x25b1d4[_0x55f3('0x7df')][_0x55f3('0x1ba')](_0x4807b6['projectionMatrix']),_0x122a6d[_0x55f3('0x39')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),_0x122a6d['multiply'](_0x25b1d4['projectionMatrix']),_0x122a6d[_0x55f3('0x7e0')](_0x25b1d4[_0x55f3('0x7e1')]),_0x3d803d['setFromNormalAndCoplanarPoint'](_0xfea712,_0x453a69),_0x3d803d[_0x55f3('0x3b8')](_0x25b1d4[_0x55f3('0x7e1')]),_0x4d73d8[_0x55f3('0x39')](_0x3d803d['normal']['x'],_0x3d803d[_0x55f3('0x578')]['y'],_0x3d803d[_0x55f3('0x578')]['z'],_0x3d803d[_0x55f3('0x7e2')]);var _0x17ca9c,_0x3cd022,_0x47019a=_0x25b1d4[_0x55f3('0x7df')],_0x47019a=(_0x46852d['x']=((0x0,_0x4cae72[_0x55f3('0x9')])(_0x4d73d8['x'])+_0x47019a[_0x55f3('0xe4')][0x8])/_0x47019a[_0x55f3('0xe4')][0x0],_0x46852d['y']=((0x0,_0x4cae72[_0x55f3('0x9')])(_0x4d73d8['y'])+_0x47019a[_0x55f3('0xe4')][0x9])/_0x47019a[_0x55f3('0xe4')][0x5],_0x46852d['z']=-0x1,_0x46852d['w']=(0x1+_0x47019a[_0x55f3('0xe4')][0xa])/_0x47019a[_0x55f3('0xe4')][0xe],_0x4d73d8[_0x55f3('0x1c1')](0x2/_0x4d73d8[_0x55f3('0x590')](_0x46852d)),_0x47019a[_0x55f3('0xe4')][0x2]=_0x4d73d8['x'],_0x47019a['elements'][0x6]=_0x4d73d8['y'],_0x47019a[_0x55f3('0xe4')][0xa]=_0x4d73d8['z']+0x1-_0xa52d70,_0x47019a[_0x55f3('0xe4')][0xe]=_0x4d73d8['w'],_0x14491a[_0x55f3('0x6c5')](_0x4807b6[_0x55f3('0x3b0')]),_0x43efa1[_0x55f3('0x765')]());for(_0x17ca9c in _0x15d964[_0x55f3('0x1ea')][_0x55f3('0x338')]=!0x1,_0x15d964['ignoreList'])_0x15d964['ignoreList'][_0x17ca9c]['visible']=!0x1;for(_0x3cd022 in _0x43efa1[_0x55f3('0x76c')](_0xd5bfaf),_0x43efa1[_0x55f3('0x785')](),_0x43efa1[_0x55f3('0x336')](_0x2268fb,_0x25b1d4),_0x15d964[_0x55f3('0x1ea')]['visible']=!0x0,_0x15d964['ignoreList'])_0x15d964[_0x55f3('0x7bc')][_0x3cd022][_0x55f3('0x338')]=!0x0;_0x43efa1[_0x55f3('0x76c')](_0x47019a);}};};},function(_0x2b2d18,_0x31d041,_0x47b04c){_0x2b2d18[_0x55f3('0x0')]={'default':_0x47b04c(0xdc),'__esModule':!0x0};},function(_0x1ff0e0,_0x51e4ad,_0x36c436){_0x36c436(0xdd),_0x1ff0e0[_0x55f3('0x0')]=_0x36c436(0x2)[_0x55f3('0x18')][_0x55f3('0x7e3')];},function(_0xacb82b,_0x1cca1a,_0x538eb7){var _0x17f4d6=_0x538eb7(0x6);_0x17f4d6(_0x17f4d6['S'],_0x55f3('0x18'),{'sign':_0x538eb7(0xde)});},function(_0xb48cc4,_0x31a42e){_0xb48cc4[_0x55f3('0x0')]=Math[_0x55f3('0x7e3')]||function(_0xb48cc4){return 0x0==(_0xb48cc4=+_0xb48cc4)||_0xb48cc4!=_0xb48cc4?_0xb48cc4:_0xb48cc4<0x0?-0x1:0x1;};},function(_0x8ff4e,_0x337468,_0x5d0336){'use strict';Object[_0x55f3('0x4')](_0x337468,_0x55f3('0x7'),{'value':!0x0});var _0x389627=_0x3dbef0(_0x5d0336(0x0));function _0x3dbef0(_0x8ff4e){return _0x8ff4e&&_0x8ff4e[_0x55f3('0x7')]?_0x8ff4e:{'default':_0x8ff4e};}function _0x625d85(){(0x0,_0x389627[_0x55f3('0x9')])(this,_0x625d85),this[_0x55f3('0x7e4')]=null;}(0x0,_0x3dbef0(_0x5d0336(0x1))[_0x55f3('0x9')])(_0x625d85,[{'key':_0x55f3('0x7e5'),'value':function(){for(var _0x8ff4e=new Float32Array(0x7530),_0x337468=0x0,_0x5d0336=0x0;_0x5d0336<0x64;_0x5d0336++)for(var _0x389627=0x0;_0x389627<0x64;_0x389627++)_0x8ff4e[_0x337468]=0xa*_0x5d0336-0x1f4,_0x8ff4e[_0x337468+0x1]=0x0,_0x8ff4e[_0x337468+0x2]=0xa*_0x389627-0x1f4,_0x337468+=0x3;var _0x3dbef0=new THREE['BufferGeometry'](),_0x625d85=(_0x3dbef0[_0x55f3('0x1f2')]('position',new THREE['BufferAttribute'](_0x8ff4e,0x3)),new THREE[(_0x55f3('0x6a0'))]({'color':0xffffff,'size':1.2}));return _0x625d85['sizeAttenuation']=!0x1,this['particles']=new THREE[(_0x55f3('0xbd'))](_0x3dbef0,_0x625d85),this[_0x55f3('0x7e4')];}}]),_0x337468['default']=_0x625d85;},function(_0x243284,_0x57179e,_0x47848b){'use strict';Object['defineProperty'](_0x57179e,'__esModule',{'value':!0x0});var _0xa66c40=_0x276dc6(_0x47848b(0x0));function _0x276dc6(_0x243284){return _0x243284&&_0x243284[_0x55f3('0x7')]?_0x243284:{'default':_0x243284};}function _0x3c2463(_0x243284){var _0x57179e=_0x243284[_0x55f3('0x337')],_0x57179e=void 0x0===_0x57179e?0.5:_0x57179e,_0x243284=_0x243284[_0x55f3('0x634')],_0x243284=void 0x0===_0x243284?[0.078125,0.9375]:_0x243284;(0x0,_0xa66c40[_0x55f3('0x9')])(this,_0x3c2463),this['object3d']=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x3f')]=null,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x634')]=_0x243284,this[_0x55f3('0x337')]=_0x57179e,this[_0x55f3('0xfc')]=0x0;}(0x0,_0x276dc6(_0x47848b(0x1))[_0x55f3('0x9')])(_0x3c2463,[{'key':_0x55f3('0x8'),'value':function(_0x243284){_0x243284=_0x243284[_0x55f3('0x21e')],_0x243284=void 0x0===_0x243284?0x64:_0x243284,_0x243284=new THREE[(_0x55f3('0x520'))](_0x243284,_0x243284),_0x243284=new THREE['Mesh'](_0x243284,this[_0x55f3('0x3f')]);return _0x243284[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x243284),this[_0x55f3('0x319')];}},{'key':_0x55f3('0x2fc'),'value':function(_0x243284){var _0x57179e=_0x243284[_0x55f3('0x1c6')],_0x47848b=_0x243284[_0x55f3('0x2f4')],_0xa66c40=void 0x0===_0x47848b?{'x':0x0,'y':0x0}:_0x47848b,_0x47848b=_0x243284['colorStr'],_0x276dc6=void 0x0===_0x47848b?_0x55f3('0x339'):_0x47848b,_0x243284=this['createCircleGradient'](),_0x3c2463=new THREE[(_0x55f3('0x4d4'))](_0x243284),_0x1ca469=(_0x57179e['wrapT']=THREE[_0x55f3('0x33d')],_0x57179e['wrapS']=THREE['RepeatWrapping'],this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x4d0'))]({'transparent':!0x0,'depthWrite':!0x1}),this);return this['material'][_0x55f3('0x44d')]=function(_0x243284){_0x243284[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x243284[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':_0x57179e},_0x243284[_0x55f3('0x164')]['alphaTex']={'value':_0x3c2463},_0x243284[_0x55f3('0x164')][_0x55f3('0x748')]={'value':new THREE[(_0x55f3('0x1b4'))](_0xa66c40['x'],_0xa66c40['y'])},_0x243284[_0x55f3('0x164')][_0x55f3('0x220')]={'value':new THREE[(_0x55f3('0x1b7'))](_0x276dc6)},_0x243284['vertexShader']=_0x243284[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x243284[_0x55f3('0x57')]=_0x243284[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x7e6')),_0x243284[_0x55f3('0x58')]=_0x243284['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20spread;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20iTime;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20texture1;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20sampler2D\x20alphaTex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20color;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nvUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x243284[_0x55f3('0x58')]=_0x243284[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x7e7')),_0x1ca469[_0x55f3('0x4b9')]=_0x243284;},this[_0x55f3('0x3f')];}},{'key':_0x55f3('0x703'),'value':function(){var _0x243284=document[_0x55f3('0x79')](_0x55f3('0x422')),_0x57179e=(_0x243284[_0x55f3('0x32c')]=0x100,_0x243284['height']=0x100,_0x243284[_0x55f3('0x377')]('2d')),_0x47848b=_0x57179e['createRadialGradient'](0x80,0x80,0x80*this[_0x55f3('0x634')][0x0],0x80,0x80,0x80*this[_0x55f3('0x634')][0x1]);return _0x47848b['addColorStop'](0x0,_0x55f3('0x551')),_0x47848b['addColorStop'](0x1,'rgba(0,\x200,\x200,\x201)'),_0x57179e[_0x55f3('0x553')]=_0x47848b,_0x57179e[_0x55f3('0x554')](0x0,0x0,0x100,0x100),_0x243284;}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x3f')]&&this['material'][_0x55f3('0x93')](),this[_0x55f3('0x4b9')],this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x319')]=null;}},{'key':_0x55f3('0x336'),'value':function(_0x243284){this[_0x55f3('0x4b9')]&&(this['count']+=_0x243284*this['speed'],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x57179e['default']=_0x3c2463;},function(_0xe8d77,_0x5be769,_0x354b30){'use strict';Object[_0x55f3('0x4')](_0x5be769,_0x55f3('0x7'),{'value':!0x0});var _0x46c64c=_0x39829b(_0x354b30(0x0));function _0x39829b(_0xe8d77){return _0xe8d77&&_0xe8d77['__esModule']?_0xe8d77:{'default':_0xe8d77};}function _0x32a6ca(_0xe8d77){var _0x5be769=_0xe8d77[_0x55f3('0x2fd')],_0x5be769=void 0x0===_0x5be769?'#FFFFFF':_0x5be769,_0x354b30=_0xe8d77['radius'],_0x354b30=void 0x0===_0x354b30?0x3e8:_0x354b30,_0x39829b=_0xe8d77[_0x55f3('0x2f4')],_0x39829b=void 0x0===_0x39829b?{'x':0xa,'y':0xa}:_0x39829b,_0x29f65e=_0xe8d77['transFactor'],_0x29f65e=void 0x0===_0x29f65e?[0.078125,0.9375]:_0x29f65e,_0x339973=_0xe8d77[_0x55f3('0x635')],_0x339973=void 0x0===_0x339973?_0x55f3('0x7e8'):_0x339973,_0x246242=_0xe8d77[_0x55f3('0x7e9')],_0x246242=void 0x0===_0x246242||_0x246242,_0xef2267=_0xe8d77[_0x55f3('0x7ea')],_0xef2267=void 0x0===_0xef2267?_0x55f3('0x339'):_0xef2267,_0x1985ad=_0xe8d77[_0x55f3('0x337')],_0x1985ad=void 0x0===_0x1985ad?0.5:_0x1985ad,_0xe8d77=_0xe8d77['isAutoRepeat'],_0xe8d77=void 0x0!==_0xe8d77&&_0xe8d77;(0x0,_0x46c64c[_0x55f3('0x9')])(this,_0x32a6ca),this['object3d']=new THREE[(_0x55f3('0x33b'))](),this['color']=new THREE['Color']()[_0x55f3('0x300')](_0x5be769),this[_0x55f3('0x21e')]=_0x354b30,this['texRepeat']=_0x39829b,this[_0x55f3('0x634')]=_0x29f65e,this['materialType']=_0x339973,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x337')]=_0x1985ad,this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x7e9')]=_0x246242,this[_0x55f3('0x7eb')]=new THREE['Color']()['setStyle'](_0xef2267),this[_0x55f3('0x637')]=_0xe8d77;}(0x0,_0x39829b(_0x354b30(0x1))[_0x55f3('0x9')])(_0x32a6ca,[{'key':_0x55f3('0x8'),'value':function(_0xe8d77){var _0x5be769=_0xe8d77[_0x55f3('0x1c6')],_0xe8d77=_0xe8d77[_0x55f3('0x7ec')],_0x5be769=this[_0x55f3('0x7ed')](_0x5be769,_0xe8d77),_0xe8d77=_0x5be769[_0x55f3('0x95')],_0x5be769=_0x5be769['material'],_0xe8d77=new THREE[(_0x55f3('0x317'))](_0xe8d77,_0x5be769);return _0xe8d77['rotation']['x']=0.5*-Math['PI'],this[_0x55f3('0x319')]['add'](_0xe8d77),_0xe8d77;}},{'key':_0x55f3('0x7ed'),'value':function(_0x5be769,_0x354b30){var _0xe8d77=this[_0x55f3('0x703')](),_0x39829b=new THREE['CanvasTexture'](_0xe8d77),_0xe8d77=(this[_0x55f3('0x21e')],this[_0x55f3('0x220')],new THREE[(_0x55f3('0x520'))](0x2*this[_0x55f3('0x21e')],0x2*this[_0x55f3('0x21e')])),_0x3a1338=new THREE[(_0x55f3('0x437'))]({'color':this[_0x55f3('0x220')],'transparent':!0x0}),_0x5cb7df=((_0x3a1338=new((_0x55f3('0x7ee'))===this[(_0x55f3('0x635'))]?THREE[(_0x55f3('0x515'))]:(_0x55f3('0x7ef'))===this[(_0x55f3('0x635'))]?THREE[(_0x55f3('0x4d0'))]:THREE['MeshBasicMaterial'])({'color':this[_0x55f3('0x220')],'transparent':!0x0}))[_0x55f3('0x8b')]=_0x55f3('0x7f0'),this);return _0x3a1338[_0x55f3('0x44d')]=function(_0xe8d77){_0xe8d77[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0xe8d77[_0x55f3('0x164')]['texture1']={'value':_0x5be769},_0xe8d77[_0x55f3('0x164')][_0x55f3('0x7ec')]={'value':_0x354b30},_0xe8d77[_0x55f3('0x164')][_0x55f3('0x7eb')]={'value':_0x5cb7df[_0x55f3('0x7eb')]},_0xe8d77[_0x55f3('0x164')][_0x55f3('0x527')]={'value':_0x39829b},_0xe8d77[_0x55f3('0x164')][_0x55f3('0x66e')]={'value':_0x5cb7df[_0x55f3('0x637')]?Number(esmap['ESMap'][_0x55f3('0x50')][_0x55f3('0x66f')]):0x1},_0xe8d77[_0x55f3('0x164')][_0x55f3('0x748')]={'value':new THREE['Vector2'](_0x5cb7df['texRepeat']['x'],_0x5cb7df[_0x55f3('0x748')]['y'])},_0xe8d77[_0x55f3('0x57')]=_0xe8d77[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<uv_pars_vertex>','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20t:offset\x20s:repeat\x20c:center\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20setUvTransform(float\x20tx,\x20float\x20ty,\x20float\x20sx,\x20float\x20sy,\x20float\x20rotation,\x20float\x20cx,\x20float\x20cy)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20c\x20=\x20cos(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20s\x20=\x20sin(\x20rotation\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20mat3(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20sx\x20*\x20c,\x20sx\x20*\x20s,\x20-\x20sx\x20*\x20(\x20c\x20*\x20cx\x20+\x20s\x20*\x20cy\x20)\x20+\x20cx\x20+\x20tx,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-\x20sy\x20*\x20s,\x20sy\x20*\x20c,\x20-\x20sy\x20*\x20(\x20-\x20s\x20*\x20cx\x20+\x20c\x20*\x20cy\x20)\x20+\x20cy\x20+\x20ty,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20tx,\x20ty,\x201\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20autoRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec2\x20texRepeat;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUV;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20nUV;\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xe8d77[_0x55f3('0x57')]=_0xe8d77[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20uvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x20texRepeat.x,\x20texRepeat.y,\x200.0,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUV\x20=\x20(\x20uvMat3\x20*\x20vec3(\x20uv\x20*\x20autoRepeat,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20nUV\x20=\x20uv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xe8d77[_0x55f3('0x58')]=_0xe8d77[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x7f1')+(_0x5be769?_0x55f3('0x7f2'):'')+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x5cb7df[_0x55f3('0x7e9')]?_0x55f3('0x7f3'):'')+_0x55f3('0x7f4')),_0xe8d77[_0x55f3('0x58')]=_0xe8d77[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20alphaColor\x20=\x20texture2D(alphaTex,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_TEXTURE\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20texColor\x20=\x20texture2D(texture1,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#ifdef\x20IS_SCAN_LIGHT\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20scanTex\x20=\x20texture2D(scanTexture,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20scanTex.rgb\x20=\x20centerSpreadLine(scanTex.rgb,\x20iTime,\x20nUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20scanTex.rgb\x20*=\x20(waveSpread(nUV)\x20+\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20scanTex,\x20scanTex.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20alphaColor.a\x20*\x20diffuseColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x5cb7df[_0x55f3('0x4b9')]=_0xe8d77;},{'geometry':_0xe8d77,'material':_0x3a1338};}},{'key':_0x55f3('0x703'),'value':function(){var _0xe8d77=document[_0x55f3('0x79')](_0x55f3('0x422')),_0x5be769=(_0xe8d77[_0x55f3('0x32c')]=0x100,_0xe8d77[_0x55f3('0x32d')]=0x100,_0xe8d77['getContext']('2d')),_0x354b30=_0x5be769[_0x55f3('0x54f')](0x80,0x80,0x80*this[_0x55f3('0x634')][0x0],0x80,0x80,0x80*this[_0x55f3('0x634')][0x1]);return _0x354b30[_0x55f3('0x550')](0x0,_0x55f3('0x551')),_0x354b30[_0x55f3('0x550')](0x1,_0x55f3('0x552')),_0x5be769['fillStyle']=_0x354b30,_0x5be769[_0x55f3('0x554')](0x0,0x0,0x100,0x100),_0xe8d77;}},{'key':'dispose','value':function(){this[_0x55f3('0x3f')]&&this[_0x55f3('0x3f')][_0x55f3('0x93')](),this[_0x55f3('0x4b9')],this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x319')]=null;}},{'key':_0x55f3('0x336'),'value':function(_0xe8d77){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0xfc')]+=_0xe8d77*this[_0x55f3('0x337')],this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x5be769[_0x55f3('0x9')]=_0x32a6ca;},function(_0x1e21d4,_0x9676ea,_0x464a47){'use strict';Object[_0x55f3('0x4')](_0x9676ea,_0x55f3('0x7'),{'value':!0x0});var _0x474c75=_0x5785d3(_0x464a47(0x0));function _0x5785d3(_0x1e21d4){return _0x1e21d4&&_0x1e21d4[_0x55f3('0x7')]?_0x1e21d4:{'default':_0x1e21d4};}function _0x5d554d(){(0x0,_0x474c75[_0x55f3('0x9')])(this,_0x5d554d),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x7f5')]=null,this[_0x55f3('0x1c6')]=null,this[_0x55f3('0x3f')]=null;}(0x0,_0x5785d3(_0x464a47(0x1))[_0x55f3('0x9')])(_0x5d554d,[{'key':_0x55f3('0x665'),'value':function(){this['videoElement']&&this[_0x55f3('0x7f5')][_0x55f3('0x658')]();}},{'key':_0x55f3('0x666'),'value':function(){this[_0x55f3('0x7f5')]&&(this['videoElement'][_0x55f3('0x7f6')]=!0x1);}},{'key':'createVideoElement','value':function(_0x1e21d4,_0x9676ea){var _0x464a47=document[_0x55f3('0x79')](_0x55f3('0x7f7')),_0x1e21d4=(_0x464a47[_0x55f3('0x6b')][_0x55f3('0x6c')]=_0x55f3('0x2b8'),_0x464a47[_0x55f3('0x7f8')]('id',_0x1e21d4),_0x464a47['loop']=!0x0,_0x464a47[_0x55f3('0x7f6')]=!0x0,_0x464a47['playsinline']=!0x0,_0x464a47[_0x55f3('0x7f9')]=_0x55f3('0x7fa'),document['createElement'](_0x55f3('0x7fb')));return _0x1e21d4[_0x55f3('0x7f8')](_0x55f3('0xeb'),_0x55f3('0x7fc')),_0x1e21d4[_0x55f3('0x7f8')](_0x55f3('0x62c'),_0x9676ea),_0x464a47[_0x55f3('0x7fd')]=0x1,_0x464a47[_0x55f3('0x6d')](_0x1e21d4),this['videoElement']=_0x464a47,this[_0x55f3('0x7f5')];}},{'key':'createMaterial','value':function(){if(this[_0x55f3('0x7f5')])return this[_0x55f3('0x1c6')]=new THREE[(_0x55f3('0x7fe'))](this[_0x55f3('0x7f5')]),this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'map':this[_0x55f3('0x1c6')],'side':THREE[_0x55f3('0x308')]}),this[_0x55f3('0x3f')];}},{'key':_0x55f3('0x8'),'value':function(_0x1e21d4){var _0x9676ea=_0x1e21d4[_0x55f3('0x32c')],_0x1e21d4=_0x1e21d4[_0x55f3('0x32d')],_0x9676ea=new THREE['PlaneBufferGeometry'](_0x9676ea,_0x1e21d4),_0x1e21d4=new THREE['Mesh'](_0x9676ea,this[_0x55f3('0x3f')]);return this[_0x55f3('0x319')]['add'](_0x1e21d4),this[_0x55f3('0x319')];}}]),_0x9676ea['default']=_0x5d554d;},function(_0x2bcad2,_0x48fd67,_0x167621){'use strict';Object[_0x55f3('0x4')](_0x48fd67,_0x55f3('0x7'),{'value':!0x0});var _0x3eced1=_0x35a3d0(_0x167621(0x0));function _0x35a3d0(_0x2bcad2){return _0x2bcad2&&_0x2bcad2[_0x55f3('0x7')]?_0x2bcad2:{'default':_0x2bcad2};}function _0x16d551(_0x2bcad2){var _0x48fd67=_0x2bcad2[_0x55f3('0x3f')],_0x167621=_0x2bcad2[_0x55f3('0x7ff')],_0x35a3d0=_0x2bcad2['camera'],_0x2f938e=_0x2bcad2[_0x55f3('0x800')],_0x1eba06=_0x2bcad2[_0x55f3('0x95')],_0x26f432=_0x2bcad2[_0x55f3('0x790')],_0x4be65b=_0x2bcad2['rot'],_0x2bcad2=_0x2bcad2[_0x55f3('0x1d9')];(0x0,_0x3eced1[_0x55f3('0x9')])(this,_0x16d551),this[_0x55f3('0x7ff')]=_0x167621||0x3e8,this[_0x55f3('0x306')]=_0x35a3d0,this[_0x55f3('0x800')]=_0x2f938e,this[_0x55f3('0x801')]=!0x1,this[_0x55f3('0x802')]=!0x1,this[_0x55f3('0x3f')]=_0x48fd67||new THREE[(_0x55f3('0x437'))]({'color':0xff00}),this[_0x55f3('0x801')]=void 0x0!==this[_0x55f3('0x3f')][_0x55f3('0x803')]&&this[_0x55f3('0x3f')][_0x55f3('0x803')],this['setGeometry']({'geometry':_0x1eba06,'pos':_0x26f432,'rot':_0x4be65b,'scale':_0x2bcad2}),this[_0x55f3('0x804')](),this[_0x55f3('0x800')]&&this[_0x55f3('0x805')](),this['mesh']=new THREE[(_0x55f3('0x317'))](this[_0x55f3('0x95')],this[_0x55f3('0x3f')]),this[_0x55f3('0x1ea')][_0x55f3('0x806')]=!0x0,this['mesh'][_0x55f3('0x7d9')]=!0x0,this[_0x55f3('0x1ea')][_0x55f3('0x52f')]=!0x1,this[_0x55f3('0x319')]=new THREE['Object3D'](),this[_0x55f3('0x319')]['add'](this[_0x55f3('0x1ea')]),this[_0x55f3('0x1ea')][_0x55f3('0x807')]=this['depthMaterial'];}(0x0,_0x35a3d0(_0x167621(0x1))['default'])(_0x16d551,[{'key':_0x55f3('0x311'),'value':function(_0x2bcad2){var _0x48fd67,_0x167621;for(_0x167621 in this[_0x55f3('0x785')](),_0x48fd67=void 0x0!==_0x2bcad2[_0x55f3('0x1ea')]?_0x2bcad2[_0x55f3('0x1ea')][_0x55f3('0x95')]:void 0x0!==_0x2bcad2[_0x55f3('0x95')]?_0x2bcad2['geometry']:new THREE['BoxBufferGeometry'](0x1,0x1,0x1),this[_0x55f3('0x95')]=new THREE[(_0x55f3('0x808'))](),this[_0x55f3('0x95')][_0x55f3('0x809')]=this[_0x55f3('0x7ff')],_0x48fd67[_0x55f3('0x165')])this[_0x55f3('0x95')]['addAttribute'](_0x167621,_0x48fd67[_0x55f3('0x52c')](_0x167621));if(this[_0x55f3('0x95')][_0x55f3('0x3c2')](_0x48fd67[_0x55f3('0x80a')]()),this['isMorph']){var _0x35a3d0=_0x48fd67['morphAttributes'];for(_0x167621 in _0x35a3d0){for(var _0x8ff725=[],_0x41f827=_0x35a3d0[_0x167621],_0x4d17aa=0x0,_0x52a757=_0x41f827['length'];_0x4d17aa<_0x52a757;_0x4d17aa++)_0x8ff725[_0x55f3('0x73')](_0x41f827[_0x4d17aa]['clone']());this['geometry']['morphAttributes'][_0x167621]=_0x8ff725;}this[_0x55f3('0x95')][_0x55f3('0x803')]=_0x48fd67[_0x55f3('0x803')];}this[_0x55f3('0x80b')]=new Float32Array(0x3*this[_0x55f3('0x7ff')]),this[_0x55f3('0x80c')]=new Float32Array(0x3*this[_0x55f3('0x7ff')]),this[_0x55f3('0x80d')]=new Float32Array(0x4*this[_0x55f3('0x7ff')]);for(var _0x3eced1=new THREE[(_0x55f3('0x742'))](),_0x16d551=new THREE[(_0x55f3('0x80e'))](),_0x17812b=THREE[_0x55f3('0x18')][_0x55f3('0x80f')],_0x4d17aa=0x0;_0x4d17aa<this[_0x55f3('0x7ff')];_0x4d17aa++){var _0xf0cddb=0x3*_0x4d17aa,_0x39935f=0x4*_0x4d17aa;_0x2bcad2[_0x55f3('0x790')]?(this[_0x55f3('0x80b')][_0xf0cddb]=_0x2bcad2['pos'][_0xf0cddb],this[_0x55f3('0x80b')][0x1+_0xf0cddb]=_0x2bcad2[_0x55f3('0x790')][0x1+_0xf0cddb],this[_0x55f3('0x80b')][0x2+_0xf0cddb]=_0x2bcad2['pos'][0x2+_0xf0cddb]):(this[_0x55f3('0x80b')][_0xf0cddb]=Math[_0x55f3('0x810')](-0xc8,0xc8),this[_0x55f3('0x80b')][0x1+_0xf0cddb]=Math[_0x55f3('0x810')](-0x14,0x14),this[_0x55f3('0x80b')][0x2+_0xf0cddb]=Math['rand'](-0xc8,0xc8)),_0x2bcad2[_0x55f3('0x811')]?_0x3eced1[_0x55f3('0x812')](_0x16d551[_0x55f3('0x39')](_0x2bcad2[_0x55f3('0x811')][_0xf0cddb]*_0x17812b,_0x2bcad2[_0x55f3('0x811')][0x1+_0xf0cddb]*_0x17812b,_0x2bcad2[_0x55f3('0x811')][0x2+_0xf0cddb]*_0x17812b)):_0x3eced1[_0x55f3('0x39')](0x0,0x0,0x0,0x1),_0x3eced1[_0x55f3('0x1c2')](),this[_0x55f3('0x80d')][_0x39935f]=_0x3eced1['x'],this[_0x55f3('0x80d')][0x1+_0x39935f]=_0x3eced1['y'],this[_0x55f3('0x80d')][0x2+_0x39935f]=_0x3eced1['z'],this[_0x55f3('0x80d')][0x3+_0x39935f]=_0x3eced1['w'],_0x2bcad2[_0x55f3('0x1d9')]?(this[_0x55f3('0x80c')][_0xf0cddb]=_0x2bcad2[_0x55f3('0x1d9')][_0xf0cddb],this[_0x55f3('0x80c')][0x1+_0xf0cddb]=_0x2bcad2['scale'][0x1+_0xf0cddb],this[_0x55f3('0x80c')][0x2+_0xf0cddb]=_0x2bcad2[_0x55f3('0x1d9')][0x2+_0xf0cddb]):(this[_0x55f3('0x80c')][_0xf0cddb]=0x1,this[_0x55f3('0x80c')][0x1+_0xf0cddb]=0x1,this[_0x55f3('0x80c')][0x2+_0xf0cddb]=0x1);}this[_0x55f3('0x813')]=new THREE[(_0x55f3('0x814'))](this['offsets'],0x3)['setDynamic'](!0x0),this[_0x55f3('0x815')]=new THREE['InstancedBufferAttribute'](this[_0x55f3('0x80c')],0x3),this[_0x55f3('0x816')]=new THREE[(_0x55f3('0x814'))](this['orientations'],0x4),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0xf5'),this[_0x55f3('0x813')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x80c'),this[_0x55f3('0x815')]),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x817'),this[_0x55f3('0x816')]);}},{'key':_0x55f3('0x804'),'value':function(){var _0x48fd67=[]['join']('\x0a'),_0x167621=(this[_0x55f3('0x818')]=[_0x55f3('0x819'),_0x55f3('0x81a'),'attribute\x20vec3\x20offset;',_0x55f3('0x81b'),_0x55f3('0x81c'),_0x55f3('0x81d'),_0x55f3('0x81e'),_0x55f3('0x81f'),'float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;',_0x55f3('0x820'),_0x55f3('0x821'),_0x55f3('0x822'),_0x55f3('0x823'),_0x55f3('0x824'),_0x55f3('0x825'),_0x55f3('0x826'),_0x55f3('0x827'),_0x55f3('0x828'),_0x55f3('0x829'),'B[1][2]\x20=\x20(\x20yz\x20+\x20wx\x20)\x20*\x20sy;',_0x55f3('0x82a'),_0x55f3('0x82b'),_0x55f3('0x82c'),'B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;','B[2][3]\x20=\x200.0;',_0x55f3('0x82d'),'B[3][1]\x20=\x20position.y;','B[3][2]\x20=\x20position.z;',_0x55f3('0x82e'),'return\x20B;','}',_0x55f3('0x82f'),_0x55f3('0x830'),'}'][_0x55f3('0x106')]('\x0a')+'\x0a',this[_0x55f3('0x831')]=[_0x55f3('0x819'),_0x55f3('0x81a'),_0x55f3('0x832'),'attribute\x20vec3\x20scales;',_0x55f3('0x81c'),'mat4\x20ComposeWorldMatrix(\x20vec3\x20position,\x20vec4\x20quaternion,\x20vec3\x20scale\x20)\x20{',_0x55f3('0x81e'),_0x55f3('0x81f'),'float\x20xx\x20=\x20x\x20*\x20x2,\x20xy\x20=\x20x\x20*\x20y2,\x20xz\x20=\x20x\x20*\x20z2;',_0x55f3('0x820'),_0x55f3('0x821'),'float\x20sx\x20=\x20scale.x,\x20sy\x20=\x20scale.y,\x20sz\x20=\x20scale.z;',_0x55f3('0x823'),_0x55f3('0x824'),_0x55f3('0x825'),_0x55f3('0x826'),_0x55f3('0x827'),_0x55f3('0x828'),_0x55f3('0x829'),_0x55f3('0x833'),'B[1][3]\x20=\x200.0;','B[2][0]\x20=\x20(\x20xz\x20+\x20wy\x20)\x20*\x20sz;',_0x55f3('0x82c'),'B[2][2]\x20=\x20(\x201.0\x20-\x20(\x20xx\x20+\x20yy\x20)\x20)\x20*\x20sz;',_0x55f3('0x834'),_0x55f3('0x82d'),'B[3][1]\x20=\x20position.y;',_0x55f3('0x835'),_0x55f3('0x82e'),_0x55f3('0x836'),'}','mat3\x20tmpInverse(\x20mat3\x20A\x20)\x20{',_0x55f3('0x837'),_0x55f3('0x838'),_0x55f3('0x839'),_0x55f3('0x83a'),_0x55f3('0x83b'),_0x55f3('0x83c'),'float\x20det\x20=\x20n11\x20*\x20t11\x20+\x20n21\x20*\x20t12\x20+\x20n31\x20*\x20t13;',_0x55f3('0x83d'),_0x55f3('0x83e'),_0x55f3('0x83f'),'B[0][1]\x20=\x20(\x20n31\x20*\x20n23\x20-\x20n33\x20*\x20n21\x20)\x20*\x20detInv;',_0x55f3('0x840'),_0x55f3('0x841'),'B[1][1]\x20=\x20(\x20n33\x20*\x20n11\x20-\x20n31\x20*\x20n13\x20)\x20*\x20detInv;','B[1][2]\x20=\x20(\x20n31\x20*\x20n12\x20-\x20n32\x20*\x20n11\x20)\x20*\x20detInv;',_0x55f3('0x842'),'B[2][1]\x20=\x20(\x20n21\x20*\x20n13\x20-\x20n23\x20*\x20n11\x20)\x20*\x20detInv;',_0x55f3('0x843'),'return\x20B;','}',_0x55f3('0x844'),'mat3\x20B;',_0x55f3('0x845'),_0x55f3('0x846'),_0x55f3('0x847'),_0x55f3('0x848'),_0x55f3('0x849'),_0x55f3('0x84a'),_0x55f3('0x84b'),_0x55f3('0x84c'),_0x55f3('0x84d'),_0x55f3('0x836'),'}',_0x55f3('0x82f'),'return\x20tmpTranspose(\x20tmpInverse(\x20mat3(\x20A[0][0],\x20A[0][1],\x20A[0][2],\x20A[1][0],\x20A[1][1],\x20A[1][2],\x20A[2][0],\x20A[2][1],\x20A[2][2]\x20)\x20)\x20);','}'][_0x55f3('0x106')]('\x0a')+'\x0a',this['beginInstanceVertex']=[_0x55f3('0x84e'),_0x55f3('0x84f')][_0x55f3('0x106')]('\x0a')+'\x0a',this[_0x55f3('0x850')]=[_0x55f3('0x851'),_0x55f3('0x852')]['join']('\x0a')+'\x0a',this['worldPosVertex']=[_0x55f3('0x853'),'vec4\x20worldPosition\x20=\x20world\x20*\x20vec4(\x20transformed,\x201.0\x20);','#endif'][_0x55f3('0x106')]('\x0a')+'\x0a',this[_0x55f3('0x854')]=['mat3\x20normalMtx\x20=\x20getNormalMatrix(\x20viewMatrix\x20);',_0x55f3('0x855'),'#ifdef\x20FLIP_SIDED',_0x55f3('0x856'),_0x55f3('0x115'),_0x55f3('0x857'),_0x55f3('0x858'),_0x55f3('0x859'),_0x55f3('0x85a'),'#endif','#endif'][_0x55f3('0x106')]('\x0a')+'\x0a',this['morping']=[_0x55f3('0x85b'),_0x55f3('0x85c'),_0x55f3('0x85d'),_0x55f3('0x85e'),_0x55f3('0x85f'),_0x55f3('0x860'),'transformed\x20+=\x20(\x20morphTarget4\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x204\x20];',_0x55f3('0x861'),'transformed\x20+=\x20(\x20morphTarget6\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x206\x20];','transformed\x20+=\x20(\x20morphTarget7\x20-\x20position\x20)\x20*\x20morphTargetInfluences[\x207\x20];',_0x55f3('0x115'),_0x55f3('0x115')]['join']('\x0a')+'\x0a',this);this['material'][_0x55f3('0x44d')]=function(_0x2bcad2){_0x2bcad2['uniforms'][_0x55f3('0x862')]={'value':_0x167621[_0x55f3('0x306')]['matrixWorldInverse']},_0x2bcad2[_0x55f3('0x164')][_0x55f3('0x863')]={'value':[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0]},_0x2bcad2['vertexShader']=_0x2bcad2[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x864'),'#include\x20<common>\x0a'+_0x167621[_0x55f3('0x831')])['replace'](_0x55f3('0x43c'),_0x55f3('0x865')+_0x167621['beginInstanceVertex'])[_0x55f3('0x56')](_0x55f3('0x866'),_0x167621['normalVertex'])['replace']('#include\x20<project_vertex>',_0x167621[_0x55f3('0x850')])[_0x55f3('0x56')](_0x55f3('0x712'),_0x167621[_0x55f3('0x867')]),_0x2bcad2[_0x55f3('0x58')]=_0x48fd67+'\x0a'+_0x2bcad2[_0x55f3('0x58')],_0x167621[_0x55f3('0x164')]=_0x2bcad2[_0x55f3('0x164')];};}},{'key':_0x55f3('0x805'),'value':function(){this['depthMaterial']=new THREE['MeshDepthMaterial']({'depthPacking':THREE[_0x55f3('0x868')],'skinning':this['isAnimation'],'morphTargets':this[_0x55f3('0x801')]});var _0x48fd67=this;this['depthMaterial'][_0x55f3('0x44d')]=function(_0x2bcad2){_0x2bcad2[_0x55f3('0x164')][_0x55f3('0x862')]={'value':_0x48fd67['shadowCamera']['matrixWorldInverse']},_0x2bcad2['vertexShader']=_0x2bcad2[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x864'),_0x55f3('0x864')+_0x48fd67[_0x55f3('0x831')])['replace']('#include\x20<uv_vertex>',_0x55f3('0x865')+_0x48fd67[_0x55f3('0x869')])['replace'](_0x55f3('0x446'),_0x48fd67['projectVertex']);};}},{'key':'setMorph','value':function(_0x2bcad2){this[_0x55f3('0x1ea')][_0x55f3('0x86a')][0x0]=_0x2bcad2;}},{'key':_0x55f3('0x63e'),'value':function(_0x2bcad2){this[_0x55f3('0x813')]['needsUpdate']=!0x0;}},{'key':_0x55f3('0x86b'),'value':function(_0x2bcad2){this[_0x55f3('0x816')][_0x55f3('0xf7')]=!0x0;}},{'key':_0x55f3('0x86c'),'value':function(_0x2bcad2){this[_0x55f3('0x815')][_0x55f3('0xf7')]=!0x0;}},{'key':_0x55f3('0x785'),'value':function(){void 0x0!==this[_0x55f3('0x1ea')]&&this['remove'](this[_0x55f3('0x1ea')]),void 0x0!==this[_0x55f3('0x95')]&&this['geometry'][_0x55f3('0x93')]();}},{'key':'dispose','value':function(){this[_0x55f3('0x319')][_0x55f3('0x96')](this[_0x55f3('0x1ea')]),this[_0x55f3('0x95')]['dispose'](),this['material']['dispose'](),this[_0x55f3('0x1ea')]=null;}}]),_0x48fd67[_0x55f3('0x9')]=_0x16d551;},function(_0x57aa23,_0x25cb3a,_0x1b581f){'use strict';Object[_0x55f3('0x4')](_0x25cb3a,_0x55f3('0x7'),{'value':!0x0});var _0x402f79=_0x5e08bc(_0x1b581f(0x4)),_0x5e92a8=_0x5e08bc(_0x1b581f(0x0)),_0x57f82b=_0x5e08bc(_0x1b581f(0x1)),_0x3d1145=_0x5e08bc(_0x1b581f(0xe5)),_0x48c017=_0x5e08bc(_0x1b581f(0x36)),_0x3787d7=_0x5e08bc(_0x1b581f(0xe7));function _0x5e08bc(_0x57aa23){return _0x57aa23&&_0x57aa23['__esModule']?_0x57aa23:{'default':_0x57aa23};}function _0x3746d0(_0x57aa23){var _0x25cb3a=_0x57aa23['map'],_0x1b581f=_0x57aa23[_0x55f3('0x38')],_0x1b581f=void 0x0===_0x1b581f?new THREE['Vector3'](0x0,0x3,0x0):_0x1b581f,_0x57f82b=_0x57aa23['target'],_0x57f82b=void 0x0===_0x57f82b?new THREE[(_0x55f3('0x5a'))](0x3,0x0,0x0):_0x57f82b,_0x3d1145=_0x57aa23[_0x55f3('0x86d')],_0x3787d7=_0x57aa23['far'],_0x3787d7=void 0x0===_0x3787d7?0x14:_0x3787d7,_0x5e08bc=_0x57aa23[_0x55f3('0x86e')],_0x5e08bc=void 0x0===_0x5e08bc?0x1e:_0x5e08bc,_0x48c017=_0x57aa23[_0x55f3('0x86f')],_0x48c017=void 0x0===_0x48c017?0x10/0x9:_0x48c017,_0x200d49=_0x57aa23[_0x55f3('0x870')],_0x200d49=void 0x0!==_0x200d49&&_0x200d49,_0x57aa23=_0x57aa23[_0x55f3('0x871')],_0x57aa23=void 0x0!==_0x57aa23&&_0x57aa23;(0x0,_0x5e92a8[_0x55f3('0x9')])(this,_0x3746d0),this['map']=_0x25cb3a,this['material']=null,this[_0x55f3('0x872')]=null,this[_0x55f3('0x873')]=null,this[_0x55f3('0x874')]=null,this[_0x55f3('0x875')]=[],this[_0x55f3('0x38')]=_0x1b581f,this[_0x55f3('0x81')]=_0x57f82b,this[_0x55f3('0x86d')]=_0x3d1145,this[_0x55f3('0x876')]=_0x3787d7,this[_0x55f3('0x877')]=_0x5e08bc,this['videoAspect']=_0x48c017,this[_0x55f3('0x870')]=_0x200d49,this['isShowFarPlane']=_0x57aa23,this[_0x55f3('0x3a9')]=null;}(0x0,_0x57f82b['default'])(_0x3746d0,[{'key':_0x55f3('0x35b'),'value':function(_0x25cb3a){if(this[_0x55f3('0x86d')]&&this[_0x55f3('0x86d')][_0x55f3('0x5e9')]){var _0x1b581f=this,_0x57aa23=new THREE[(_0x55f3('0x7fe'))](_0x25cb3a);if(this[_0x55f3('0x3a9')]=new THREE['TextureLoader']()[_0x55f3('0x26f')](esmap[_0x55f3('0x4e')]['configPath']+'images/video_mask.png'),this[_0x55f3('0x878')](_0x57aa23),this[_0x55f3('0x86d')][_0x55f3('0x5e9')][_0x55f3('0x65f')](function(_0x57aa23){_0x55f3('0x317')!=_0x57aa23['type']||_0x57aa23[_0x55f3('0x3d')]&&0x7==_0x57aa23[_0x55f3('0x3d')][_0x55f3('0x67e')]||_0x1b581f[_0x55f3('0x875')]['push'](_0x57aa23);}),0x0<this[_0x55f3('0x875')][_0x55f3('0xf')]){var _0x57f82b=!0x0,_0x25cb3a=!0x1,_0x3d1145=void 0x0;try{for(var _0x3787d7,_0x5e08bc=(0x0,_0x402f79['default'])(this[_0x55f3('0x875')]);!(_0x57f82b=(_0x3787d7=_0x5e08bc[_0x55f3('0x85')]())['done']);_0x57f82b=!0x0){var _0x48c017=_0x3787d7[_0x55f3('0x12')];if(0x0<_0x48c017[_0x55f3('0x3f')][_0x55f3('0xf')]){var _0x5b62ad=[],_0x5e92a8=!0x0,_0x3746d0=!0x1,_0x599e1f=void 0x0;try{for(var _0x1b0db9,_0x47bd51=(0x0,_0x402f79['default'])(_0x48c017['material']);!(_0x5e92a8=(_0x1b0db9=_0x47bd51[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5e92a8=!0x0){var _0x58057e,_0x520c55=_0x1b0db9[_0x55f3('0x12')];_0x520c55 instanceof THREE['Material']&&(_0x58057e=this[_0x55f3('0x879')](_0x57aa23,_0x48c017,_0x520c55[_0x55f3('0x1b0')](),this[_0x55f3('0x3a9')]),_0x5b62ad[_0x55f3('0x73')](_0x58057e));}}catch(_0x5749f2){_0x3746d0=!0x0,_0x599e1f=_0x5749f2;}finally{try{!_0x5e92a8&&_0x47bd51[_0x55f3('0x271')]&&_0x47bd51[_0x55f3('0x271')]();}finally{if(_0x3746d0)throw _0x599e1f;}}_0x48c017['_originMaterial']=_0x48c017[_0x55f3('0x3f')],_0x48c017['material']=_0x5b62ad;}else{var _0x33f781=this['resetMaterial2'](_0x57aa23,_0x48c017,_0x48c017[_0x55f3('0x3f')][_0x55f3('0x1b0')](),this[_0x55f3('0x3a9')]);_0x48c017[_0x55f3('0x87a')]=_0x48c017[_0x55f3('0x3f')],_0x48c017[_0x55f3('0x3f')]=_0x33f781;}}}catch(_0x44fdf3){_0x25cb3a=!0x0,_0x3d1145=_0x44fdf3;}finally{try{!_0x57f82b&&_0x5e08bc[_0x55f3('0x271')]&&_0x5e08bc[_0x55f3('0x271')]();}finally{if(_0x25cb3a)throw _0x3d1145;}}}}}},{'key':_0x55f3('0x93'),'value':function(){if(0x0<this['containMeshList'][_0x55f3('0xf')]){for(var _0x57aa23=0x0,_0x25cb3a=this[_0x55f3('0x875')]['length'];_0x57aa23<_0x25cb3a;_0x57aa23++){if(this[_0x55f3('0x875')][_0x57aa23]['_tempMaterial']=this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x3f')],this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x3f')]=this['containMeshList'][_0x57aa23][_0x55f3('0x87a')],0x0<this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87b')][_0x55f3('0xf')]){var _0x1b581f=!0x0,_0x57f82b=!0x1,_0x3d1145=void 0x0;try{for(var _0x3787d7,_0x5e08bc=(0x0,_0x402f79[_0x55f3('0x9')])(this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87b')]);!(_0x1b581f=(_0x3787d7=_0x5e08bc['next']())['done']);_0x1b581f=!0x0)_0x3787d7[_0x55f3('0x12')]['dispose']();}catch(_0x342419){_0x57f82b=!0x0,_0x3d1145=_0x342419;}finally{try{!_0x1b581f&&_0x5e08bc[_0x55f3('0x271')]&&_0x5e08bc[_0x55f3('0x271')]();}finally{if(_0x57f82b)throw _0x3d1145;}}this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87b')][_0x55f3('0xf')]=0x0;}else this[_0x55f3('0x875')][_0x57aa23]['_tempMaterial']['dispose']();this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87a')]=null,this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87b')]=null,this[_0x55f3('0x875')][_0x57aa23][_0x55f3('0x87c')]=!0x1,this[_0x55f3('0x875')][_0x57aa23]['videoProject']=null;}this['containMeshList']['length']=0x0,_0x48c017['default'][_0x55f3('0x32e')](this[_0x55f3('0x874')][_0x55f3('0x319')]),this[_0x55f3('0x874')]=null,_0x48c017[_0x55f3('0x9')][_0x55f3('0x702')](this[_0x55f3('0x873')]),this[_0x55f3('0x873')]=null;}}},{'key':_0x55f3('0x87d'),'value':function(_0x57aa23){_0x57aa23?(this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x87e')]=!0x1,this[_0x55f3('0x94')][_0x55f3('0x389')]['enableZoom']=!0x1,_0x57aa23=new THREE['Vector3']()[_0x55f3('0x7da')](map[_0x55f3('0x389')]['target'],map[_0x55f3('0x389')][_0x55f3('0x6')]['position'])[_0x55f3('0x1c2')](),this[_0x55f3('0x94')][_0x55f3('0x389')]['target'][_0x55f3('0x39')](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x38')]['x']+_0x57aa23['x'],this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')]['position']['y']+_0x57aa23['y'],this[_0x55f3('0x94')][_0x55f3('0x389')]['object']['position']['z']+_0x57aa23['z'])):(this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x87e')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x399')]=!0x0);}},{'key':'showVisualField','value':function(_0x57aa23){if(0x0<this[_0x55f3('0x875')]['length'])for(var _0x25cb3a=0x0,_0x1b581f=this[_0x55f3('0x875')][_0x55f3('0xf')];_0x25cb3a<_0x1b581f;_0x25cb3a++)this[_0x55f3('0x875')][_0x25cb3a][_0x55f3('0x87f')][_0x55f3('0x164')][_0x55f3('0x880')]['value'][_0x55f3('0x300')](_0x57aa23);this['projectPlane']&&this['projectPlane'][_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](_0x57aa23);}},{'key':'scanSceneMesh','value':function(_0x57aa23){for(var _0x25cb3a=_0x57aa23[_0x55f3('0x881')],_0x1b581f=_0x57aa23[_0x55f3('0x882')],_0x57f82b=_0x57aa23[_0x55f3('0x883')],_0x3d1145=_0x57aa23[_0x55f3('0x884')],_0x3787d7=_0x57aa23[_0x55f3('0x885')],_0x5e08bc=(this[_0x55f3('0x94')][_0x55f3('0x886')]&&(this['map']['rayPointer'][_0x55f3('0x887')]={}),Math[_0x55f3('0x1b8')](_0x57f82b-_0x25cb3a)/_0x3787d7),_0x48c017=Math['abs'](_0x3d1145-_0x1b581f)/_0x3787d7,_0x2b6e2f=0x0;_0x2b6e2f<_0x3787d7;_0x2b6e2f++)for(var _0x5e92a8=0x0;_0x5e92a8<_0x3787d7;_0x5e92a8++)this['raySceneMesh']({'x':_0x25cb3a+_0x2b6e2f*_0x5e08bc,'y':_0x1b581f+_0x5e92a8*_0x48c017});}},{'key':'raySceneMesh','value':function(_0x57aa23){_0x57aa23=this[_0x55f3('0x94')]['raycastByCoord']({'coord':{'x':_0x57aa23['x'],'y':_0x57aa23['y']},'debug':!0x0,'mode':'mesh','depth':map['getFloorHeight'](map['focusFloorNum'])+0x5});_0x57aa23&&(this[_0x55f3('0x94')][_0x55f3('0x886')][_0x55f3('0x887')][_0x57aa23[_0x55f3('0x6')][_0x55f3('0x1c7')]]=!0x0,this[_0x55f3('0x875')][_0x55f3('0x73')](_0x57aa23[_0x55f3('0x6')]));}},{'key':_0x55f3('0x878'),'value':function(_0x57aa23){this[_0x55f3('0x872')]=new THREE[(_0x55f3('0x781'))](this[_0x55f3('0x877')],this['videoAspect'],0.01,this[_0x55f3('0x876')]),this[_0x55f3('0x872')][_0x55f3('0x38')][_0x55f3('0x1ba')](this[_0x55f3('0x38')]),this[_0x55f3('0x872')][_0x55f3('0x535')](this[_0x55f3('0x81')]),this[_0x55f3('0x872')][_0x55f3('0x779')](),this[_0x55f3('0x872')]['updateMatrixWorld'](),this[_0x55f3('0x872')][_0x55f3('0x888')](),this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x889')]=0x0,this[_0x55f3('0x88a')]();}},{'key':_0x55f3('0x88a'),'value':function(){var _0x57aa23=this;this[_0x55f3('0x874')]=new _0x3787d7[(_0x55f3('0x9'))](this[_0x55f3('0x872')]),this[_0x55f3('0x874')]['object3d'][_0x55f3('0x338')]=this[_0x55f3('0x870')],this[_0x55f3('0x871')]&&this[_0x55f3('0x88b')](this[_0x55f3('0x874')],texture,function(){_0x57aa23[_0x55f3('0x873')][_0x55f3('0x3f')][_0x55f3('0x3a9')]=_0x57aa23[_0x55f3('0x3a9')];}),this[_0x55f3('0x874')][_0x55f3('0x2f8')](),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['add'](this['helper'][_0x55f3('0x319')]);}},{'key':_0x55f3('0x88b'),'value':function(_0x57aa23,_0x25cb3a,_0x1b581f){var _0x57f82b,_0x3d1145=this,_0x3787d7=['f1','f2','f3','f4'],_0x5e08bc=[],_0x48c017=_0x57aa23['geometry'][_0x55f3('0x52c')]('position');for(_0x57f82b in _0x57aa23['pointMap']){var _0x52e067=!0x0,_0x5e92a8=!0x1,_0x3746d0=void 0x0;try{for(var _0x29beab,_0x339c83=(0x0,_0x402f79[_0x55f3('0x9')])(_0x3787d7);!(_0x52e067=(_0x29beab=_0x339c83[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x52e067=!0x0){var _0x1b22b7=_0x29beab[_0x55f3('0x12')];if(_0x1b22b7===_0x57f82b){for(var _0x1ce78f=new THREE['Vector3'](),_0x418ea7=0x0;_0x418ea7<0x3;_0x418ea7++)0x0==_0x418ea7&&(_0x1ce78f['x']=_0x48c017['getX'](_0x57aa23[_0x55f3('0x88c')][_0x1b22b7][_0x418ea7])),0x1==_0x418ea7&&(_0x1ce78f['y']=_0x48c017[_0x55f3('0x88d')](_0x57aa23['pointMap'][_0x1b22b7][_0x418ea7])),0x2==_0x418ea7&&(_0x1ce78f['z']=_0x48c017[_0x55f3('0x88e')](_0x57aa23[_0x55f3('0x88c')][_0x1b22b7][_0x418ea7]));_0x5e08bc[_0x55f3('0x73')](_0x1ce78f);}}}catch(_0x203158){_0x5e92a8=!0x0,_0x3746d0=_0x203158;}finally{try{!_0x52e067&&_0x339c83[_0x55f3('0x271')]&&_0x339c83[_0x55f3('0x271')]();}finally{if(_0x5e92a8)throw _0x3746d0;}}}var _0x5e0cc6=new THREE[(_0x55f3('0x1e9'))]()[_0x55f3('0x88f')](_0x5e08bc),_0x3a11fc=(_0x5e0cc6['addAttribute']('uv',new THREE[(_0x55f3('0x102'))](new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1]),0x2)),_0x5e0cc6[_0x55f3('0x3c2')]([0x0,0x1,0x3,0x1,0x2,0x3]),new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'transparent':!0x0})),_0x5e0cc6=new THREE[(_0x55f3('0x317'))](_0x5e0cc6,_0x3a11fc);_0x3a11fc[_0x55f3('0x44d')]=function(_0x57aa23){_0x57aa23[_0x55f3('0x164')][_0x55f3('0x890')]={'value':_0x25cb3a},_0x57aa23[_0x55f3('0x164')][_0x55f3('0x891')]={'value':_0x3d1145[_0x55f3('0x3a9')]},_0x57aa23[_0x55f3('0x57')]=_0x57aa23[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x892')),_0x57aa23[_0x55f3('0x57')]=_0x57aa23[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x893')),_0x57aa23[_0x55f3('0x58')]=_0x57aa23[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x894')),_0x57aa23['fragmentShader']=_0x57aa23['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoCol\x20=\x20texture2D(videoTex,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20videoMaskCol\x20=\x20texture2D(videoTexMask,\x20vUV);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20videoCol.a\x20=\x20videoMaskCol.r;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20videoCol;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(dot(\x20vClipPosition,\x20vec3(0.0,\x201.0,\x200.0)\x20)\x20>\x200.1)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20discard;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x1b581f&&_0x1b581f();},_0x5e0cc6[_0x55f3('0x318')]=0xc8,_0x57aa23[_0x55f3('0x1c3')](_0x5e0cc6),this[_0x55f3('0x873')]=_0x5e0cc6;}},{'key':_0x55f3('0x895'),'value':function(_0x57aa23){if(this[_0x55f3('0x872')][_0x55f3('0x535')](_0x57aa23),0x0<this[_0x55f3('0x875')][_0x55f3('0xf')])for(var _0x25cb3a=0x0,_0x1b581f=this['containMeshList']['length'];_0x25cb3a<_0x1b581f;_0x25cb3a++)this[_0x55f3('0x875')][_0x25cb3a][_0x55f3('0x87f')][_0x55f3('0x896')]();this['helper']['update']();}},{'key':_0x55f3('0x897'),'value':function(_0x57aa23,_0x25cb3a){'Mesh'===_0x57aa23[_0x55f3('0xeb')]&&(_0x57aa23[_0x55f3('0x3d')]={'name':_0x25cb3a},this['map']['mapPicker'][_0x55f3('0x898')][_0x55f3('0x73')](_0x57aa23)),_0x55f3('0x33b')===_0x57aa23['type']&&(_0x57aa23[_0x55f3('0x3d')]={'name':_0x25cb3a},_0x57aa23[_0x55f3('0x8b')]='_root_',this[_0x55f3('0x94')]['mapPicker'][_0x55f3('0x898')][_0x55f3('0x73')](_0x57aa23));}},{'key':_0x55f3('0x899'),'value':function(_0x57aa23){this[_0x55f3('0x94')]['mapPicker'][_0x55f3('0x898')][_0x55f3('0x73')](_0x57aa23);}},{'key':_0x55f3('0x89a'),'value':function(_0x57aa23,_0x25cb3a){texture[_0x55f3('0x419')]=THREE[_0x55f3('0x41a')],_0x57aa23[_0x55f3('0xf7')]=!0x0;_0x57aa23=new _0x3d1145[(_0x55f3('0x9'))]({'camera':this[_0x55f3('0x872')],'texture':_0x57aa23,'color':_0x55f3('0x339')});(_0x25cb3a[_0x55f3('0x3f')]=_0x57aa23)[_0x55f3('0x89b')](_0x25cb3a);}},{'key':_0x55f3('0x879'),'value':function(_0x57aa23,_0x25cb3a,_0x1b581f,_0x57f82b){_0x57aa23[_0x55f3('0xf7')]=!0x0,_0x1b581f[_0x55f3('0x1d5')]=!0x0;_0x57aa23=new _0x3d1145[(_0x55f3('0x9'))]({'material':_0x1b581f,'camera':this['projector'],'texture':_0x57aa23,'alphaMap':_0x57f82b,'color':_0x55f3('0x339'),'isShowFarPlane':this['isShowFarPlane']});return _0x25cb3a[_0x55f3('0x87c')]||(_0x57aa23['project'](_0x25cb3a),_0x25cb3a[_0x55f3('0x87f')]=_0x57aa23,_0x25cb3a[_0x55f3('0x87c')]=!0x0),_0x1b581f;}},{'key':_0x55f3('0x89c'),'value':function(_0x57aa23){var _0x25cb3a=this,_0x57aa23=new THREE[(_0x55f3('0x7fe'))](_0x57aa23);_0x57aa23[_0x55f3('0xf7')]=!0x0,this['material']=new _0x3d1145[(_0x55f3('0x9'))]({'camera':this[_0x55f3('0x872')],'texture':_0x57aa23,'color':_0x55f3('0x89d')}),this['map']['mapView'][_0x55f3('0x416')][_0x55f3('0x65f')](function(_0x57aa23){'Mesh'===_0x57aa23[_0x55f3('0xeb')]&&_0x57aa23['type_']&&'floor'===_0x57aa23[_0x55f3('0x89e')]&&_0x57aa23['datas_']&&0x1==_0x57aa23[_0x55f3('0x3d')][_0x55f3('0x64')]&&_0x57aa23[_0x55f3('0x3f')]&&(_0x57aa23['material']=_0x25cb3a[_0x55f3('0x3f')],_0x25cb3a[_0x55f3('0x3f')][_0x55f3('0x89b')](_0x57aa23));});}}]),_0x25cb3a[_0x55f3('0x9')]=_0x3746d0;},function(_0x598e9f,_0x14f179,_0x4c6862){'use strict';Object['defineProperty'](_0x14f179,'__esModule',{'value':!0x0});var _0x2d089a=_0x38dc92(_0x4c6862(0x12)),_0x10e97d=_0x38dc92(_0x4c6862(0x9e)),_0x239126=_0x38dc92(_0x4c6862(0xe6)),_0x3d7051=_0x38dc92(_0x4c6862(0x0)),_0x4c6862=_0x38dc92(_0x4c6862(0x1));function _0x38dc92(_0x598e9f){return _0x598e9f&&_0x598e9f[_0x55f3('0x7')]?_0x598e9f:{'default':_0x598e9f};}function _0x4961be(_0x598e9f,_0x14f179,_0x4c6862,_0x38dc92){if(!_0x598e9f[_0x55f3('0x36a')])return[0x1,0x1];if(0x0===_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x89f')]&&0x0===_0x598e9f[_0x55f3('0x36a')]['videoHeight'])return[0x1,0x1];var _0x598e9f=(_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x8a0')]||_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x89f')])/(_0x598e9f['image'][_0x55f3('0x71a')]||_0x598e9f['image']['videoHeight']),_0x14f179=_0x317cb7(_0x14f179),_0x174270=0x1/_0x14f179*0x1,_0x2d089a=void 0x0,_0x2a0743=void 0x0;return(_0x38dc92?_0x14f179<_0x598e9f:_0x598e9f<_0x14f179)?(_0x2d089a=0x1/(_0x174270*_0x598e9f*_0x4c6862),_0x2a0743=0x1/_0x4c6862):(_0x2a0743=0x1/(0x1/_0x598e9f*0x1/_0x174270*_0x4c6862),_0x2d089a=0x1/_0x4c6862),[_0x2d089a,_0x2a0743];}var _0x317cb7=function(_0x598e9f){switch(_0x598e9f['type']){case _0x55f3('0x781'):return _0x598e9f['aspect'];case _0x55f3('0x75d'):return Math[_0x55f3('0x1b8')](_0x598e9f[_0x55f3('0x778')]-_0x598e9f['left'])/Math[_0x55f3('0x1b8')](_0x598e9f[_0x55f3('0x8a1')]-_0x598e9f[_0x55f3('0x8a2')]);default:throw new Error(_0x598e9f[_0x55f3('0xeb')]+_0x55f3('0x8a3'));}},_0x4c6862=((0x0,_0x4c6862['default'])(_0x23301c,[{'key':_0x55f3('0x8a4'),'value':function(_0x14f179){var _0x598e9f,_0x4c6862,_0x38dc92,_0x2c3269=this;_0x14f179[_0x55f3('0x44d')]=function(_0x598e9f){_0x14f179['isProjected']=!0x0,(0x0,_0x2d089a[_0x55f3('0x9')])(_0x2c3269[_0x55f3('0x164')],_0x598e9f[_0x55f3('0x164')]),_0x598e9f['uniforms']=_0x2c3269['uniforms'],_0x598e9f[_0x55f3('0x57')]=_0x598e9f['vertexShader']['replace'](_0x55f3('0x43a'),_0x55f3('0x8a5')),_0x598e9f[_0x55f3('0x57')]=_0x598e9f[_0x55f3('0x57')]['replace']('#include\x20<uv_vertex>',_0x55f3('0x8a6')),_0x598e9f['fragmentShader']=_0x598e9f[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x8a7')+_0x2c3269[_0x55f3('0x8a8')]+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20mapTex(float\x20value,\x20float\x20min1,\x20float\x20max1,\x20float\x20min2,\x20float\x20max2)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20return\x20min2\x20+\x20(value\x20-\x20min1)\x20*\x20(max2\x20-\x20min2)\x20/\x20(max1\x20-\x20min1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x598e9f[_0x55f3('0x58')]=_0x598e9f['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20opacity);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20clamp\x20the\x20w\x20to\x20make\x20sure\x20we\x20don\x27t\x20project\x20behind\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20w\x20=\x20max(vTexCoords.w,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec2\x20uv\x20=\x20(vTexCoords.xy\x20/\x20w)\x20*\x200.5\x20+\x200.5;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv\x20+=\x20textureOffset;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20corrected\x20width\x20and\x20height\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.x\x20=\x20mapTex(uv.x,\x200.0,\x201.0,\x200.5\x20-\x20widthScaled\x20/\x202.0,\x200.5\x20+\x20widthScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uv.y\x20=\x20mapTex(uv.y,\x200.0,\x201.0,\x200.5\x20-\x20heightScaled\x20/\x202.0,\x200.5\x20+\x20heightScaled\x20/\x202.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20sample\x20out\x20of\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isInTexture\x20=\x20(max(uv.x,\x20uv.y)\x20<=\x201.0\x20&&\x20min(uv.x,\x20uv.y)\x20>=\x200.0);\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20this\x20makes\x20sure\x20we\x20don\x27t\x20render\x20also\x20the\x20back\x20of\x20the\x20object\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20projectorDirection\x20=\x20normalize(projPosition\x20-\x20vWorldPosition.xyz);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vec3\x20projectorDirection\x20=\x20projDirection;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20dotProduct\x20=\x20dot(vSavedNormal,\x20projectorDirection);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20bool\x20isFacingProjector\x20=\x20dotProduct\x20>\x200.0000001;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20projectedColor\x20=\x20vec4(diffuse,\x20opacity\x20*\x20backgroundOpacity);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isFacingProjector\x20&&\x20isInTexture\x20&&\x20isTextureLoaded\x20&&\x20isTextureProjected)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureColor\x20=\x20texture2D(projectedTexture,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20textureMaskCol\x20=\x20texture2D(textureMask,\x20uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20enccoding\x20from\x20the\x20texture\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20textureColor\x20=\x20projectedTexelToLinear(textureColor);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20apply\x20the\x20material\x20opacity\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20textureColor.a\x20*=\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor\x20=\x20textureColor\x20*\x20textureColor.a\x20+\x20projectedColor\x20*\x20(1.0\x20-\x20textureColor.a);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20projectedColor\x20=\x20textureColor;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if\x20(isCullByCamera\x20&&\x20dot(\x20vClipPosition,\x20vec3(0.0,\x200.0,\x201.0)\x20)\x20>\x20cameraFarDistance)\x20{\x20//\x20camera\x20cull\x20part\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20projectedColor.a\x20=\x200.0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20mix(resultColor.rgb,\x20resultColor.rgb\x20*\x20visualFieldColor,\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}else{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20=\x20mix(resultColor,\x20projectedColor\x20*\x20vec4(visualFieldColor,\x201.0),\x20textureMaskCol.r);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor.rgb,\x20resultColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20');},window[_0x55f3('0x2cc')](_0x55f3('0x32a'),function(){_0x2c3269[_0x55f3('0x164')][_0x55f3('0x8a9')]['value']['copy'](_0x2c3269[_0x55f3('0x306')][_0x55f3('0x7df')]),_0x2c3269[_0x55f3('0x8aa')]();}),_0x598e9f=_0x2c3269[_0x55f3('0x1c6')],_0x4c6862=function(){_0x2c3269[_0x55f3('0x164')][_0x55f3('0x8ab')][_0x55f3('0x12')]=!0x0,_0x2c3269[_0x55f3('0x8aa')]();},_0x598e9f[_0x55f3('0x36a')]&&0x0!==_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x89f')]&&0x0!==_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x8ac')]||(_0x38dc92=setInterval(function(){if(_0x598e9f[_0x55f3('0x36a')]&&0x0!==_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x89f')]&&0x0!==_0x598e9f[_0x55f3('0x36a')][_0x55f3('0x8ac')])return clearInterval(_0x38dc92),_0x4c6862();},0x10));}},{'key':'saveDimensions','value':function(){var _0x598e9f=_0x4961be(this[_0x55f3('0x1c6')],this[_0x55f3('0x306')],this['textureScale'],this['cover']),_0x598e9f=(0x0,_0x10e97d['default'])(_0x598e9f,0x2),_0x14f179=_0x598e9f[0x0],_0x598e9f=_0x598e9f[0x1];this[_0x55f3('0x164')][_0x55f3('0x8ad')][_0x55f3('0x12')]=_0x14f179,this['uniforms'][_0x55f3('0x8ae')][_0x55f3('0x12')]=_0x598e9f;}},{'key':_0x55f3('0x896'),'value':function(){this[_0x55f3('0x306')][_0x55f3('0x779')](),this[_0x55f3('0x306')][_0x55f3('0x7de')](),this[_0x55f3('0x306')][_0x55f3('0x888')]();var _0x598e9f=this[_0x55f3('0x306')][_0x55f3('0x7e1')],_0x14f179=this[_0x55f3('0x306')][_0x55f3('0x7df')],_0x4c6862=this[_0x55f3('0x306')][_0x55f3('0x3b0')];this[_0x55f3('0x164')][_0x55f3('0x8af')][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x598e9f),this[_0x55f3('0x164')][_0x55f3('0x8a9')][_0x55f3('0x12')][_0x55f3('0x1ba')](_0x14f179),this[_0x55f3('0x164')][_0x55f3('0x8b0')][_0x55f3('0x12')]['copy'](this[_0x55f3('0x306')][_0x55f3('0x38')]),this[_0x55f3('0x164')]['projDirection'][_0x55f3('0x12')]['set'](0x0,0x0,0x1)[_0x55f3('0x3b8')](_0x4c6862),this[_0x55f3('0x164')]['isTextureProjected']['value']=!0x0;}},{'key':'project','value':function(_0x598e9f){_0x598e9f['updateWorldMatrix'](!0x0,!0x1),this[_0x55f3('0x164')][_0x55f3('0x8b1')]['value']['copy'](_0x598e9f[_0x55f3('0x3b0')]),this[_0x55f3('0x164')]['backgroundOpacity']['value']=0x0,this[_0x55f3('0x896')]();}}]),_0x23301c);function _0x23301c(_0x598e9f){var _0x14f179=_0x598e9f[_0x55f3('0x306')],_0x4c6862=_0x598e9f['texture'],_0x38dc92=_0x598e9f[_0x55f3('0x3a9')],_0x3fcf8a=_0x598e9f['textureScale'],_0x3fcf8a=void 0x0===_0x3fcf8a?0x1:_0x3fcf8a,_0x2d089a=_0x598e9f[_0x55f3('0x8b2')],_0x2d089a=void 0x0===_0x2d089a?new THREE[(_0x55f3('0x1b4'))]():_0x2d089a,_0x477eee=_0x598e9f[_0x55f3('0x8b3')],_0x477eee=void 0x0!==_0x477eee&&_0x477eee,_0x317cb7=_0x598e9f[_0x55f3('0x3f')],_0x4d5214=_0x598e9f[_0x55f3('0x8b4')],_0x4d5214=void 0x0===_0x4d5214||_0x4d5214,_0x1ca084=_0x598e9f[_0x55f3('0x871')],_0x1ca084=void 0x0===_0x1ca084||_0x1ca084,_0x598e9f=((0x0,_0x239126[_0x55f3('0x9')])(_0x598e9f,[_0x55f3('0x306'),_0x55f3('0x1c6'),'alphaMap','textureScale','textureOffset',_0x55f3('0x8b3'),'material',_0x55f3('0x8b4'),_0x55f3('0x871')]),(0x0,_0x3d7051['default'])(this,_0x23301c),this[_0x55f3('0x3f')]=_0x317cb7,this['camera']=_0x14f179,this[_0x55f3('0x1c6')]=_0x4c6862,this[_0x55f3('0x8b5')]=_0x3fcf8a,this[_0x55f3('0x8b3')]=_0x477eee,this[_0x55f3('0x8b4')]=_0x4d5214,_0x4961be(_0x4c6862,_0x14f179,_0x3fcf8a,_0x477eee)),_0x4d5214=(0x0,_0x10e97d[_0x55f3('0x9')])(_0x598e9f,0x2),_0x3fcf8a=_0x4d5214[0x0],_0x477eee=_0x4d5214[0x1];this[_0x55f3('0x8a8')]=_0x55f3('0x8b6')+(_0x598e9f=function(_0x598e9f){switch(_0x598e9f){case THREE[_0x55f3('0x76e')]:return['Linear',_0x55f3('0x8b7')];case THREE[_0x55f3('0x41a')]:return[_0x55f3('0x8b8'),_0x55f3('0x8b7')];case THREE[_0x55f3('0x752')]:return[_0x55f3('0x793'),_0x55f3('0x8b7')];case THREE['RGBM7Encoding']:return[_0x55f3('0x8b9'),_0x55f3('0x8ba')];case THREE['RGBM16Encoding']:return['RGBM',_0x55f3('0x8bb')];case THREE[_0x55f3('0x8bc')]:return[_0x55f3('0x8bd'),_0x55f3('0x8be')];case THREE['GammaEncoding']:return[_0x55f3('0x8bf'),'(\x20value,\x20float(\x20GAMMA_FACTOR\x20)\x20)'];case THREE['LogLuvEncoding']:return[_0x55f3('0x8c0'),'(\x20value\x20)'];default:return[_0x55f3('0x54d'),_0x55f3('0x8b7')];}}(_0x4c6862[_0x55f3('0x419')]))[0x0]+_0x55f3('0x8c1')+_0x598e9f[0x1]+_0x55f3('0x8c2'),this[_0x55f3('0x164')]={'projectedTexture':{'value':_0x4c6862},'textureMask':{'value':_0x38dc92},'isTextureLoaded':{'value':Boolean(_0x4c6862[_0x55f3('0x36a')])},'isTextureProjected':{'value':!0x1},'backgroundOpacity':{'value':0x1},'viewMatrixCamera':{'value':new THREE['Matrix4']()},'projectionMatrixCamera':{'value':new THREE[(_0x55f3('0x324'))]()},'projPosition':{'value':new THREE[(_0x55f3('0x5a'))]()},'projDirection':{'value':new THREE[(_0x55f3('0x5a'))](0x0,0x0,-0x1)},'savedModelMatrix':{'value':new THREE[(_0x55f3('0x324'))]()},'widthScaled':{'value':_0x3fcf8a},'heightScaled':{'value':_0x477eee},'textureOffset':{'value':_0x2d089a},'cameraFarDistance':{'value':_0x14f179[_0x55f3('0x307')]},'visualFieldColor':{'value':new THREE[(_0x55f3('0x1b7'))](0xffffff)},'isCullByCamera':{'value':_0x1ca084}},this[_0x55f3('0x8a4')](_0x317cb7);}_0x14f179[_0x55f3('0x9')]=_0x4c6862;},function(_0x222994,_0x3bea51,_0x42f821){'use strict';_0x3bea51[_0x55f3('0x7')]=!0x0,_0x3bea51[_0x55f3('0x9')]=function(_0x222994,_0x3bea51){var _0x42f821,_0x1ed969={};for(_0x42f821 in _0x222994)0x0<=_0x3bea51[_0x55f3('0x4b')](_0x42f821)||Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x222994,_0x42f821)&&(_0x1ed969[_0x42f821]=_0x222994[_0x42f821]);return _0x1ed969;};},function(_0x443b48,_0x5d61d8,_0x324912){'use strict';Object['defineProperty'](_0x5d61d8,'__esModule',{'value':!0x0});var _0x332435=_0x220487(_0x324912(0x0));function _0x220487(_0x443b48){return _0x443b48&&_0x443b48[_0x55f3('0x7')]?_0x443b48:{'default':_0x443b48};}function _0x1e6dda(_0x443b48){(0x0,_0x332435['default'])(this,_0x1e6dda),this[_0x55f3('0x319')]=new THREE[(_0x55f3('0x33b'))](),this['basicLine']=null,this[_0x55f3('0x306')]=_0x443b48,this[_0x55f3('0x88c')]=null,this['geometry']=null,this['material']=null,this[_0x55f3('0x8c3')]=new THREE['Vector3'](),this[_0x55f3('0x8c4')](),this[_0x55f3('0x2f8')]();}(0x0,_0x220487(_0x324912(0x1))[_0x55f3('0x9')])(_0x1e6dda,[{'key':_0x55f3('0x8c4'),'value':function(){this[_0x55f3('0x95')]=new THREE[(_0x55f3('0x1e9'))](),this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x6fe'))]({'color':0xffffff,'vertexColors':THREE[_0x55f3('0x8c5')]});var _0x324912=[],_0x332435=[],_0x220487={},_0x443b48=new THREE[(_0x55f3('0x1b7'))](0xffaa00),_0x5d61d8=(new THREE[(_0x55f3('0x1b7'))](0xff0000),new THREE[(_0x55f3('0x1b7'))](0xaaff)),_0x1e6dda=new THREE[(_0x55f3('0x1b7'))](0xffffff),_0xcdfc67=new THREE[(_0x55f3('0x1b7'))](0x333333);function _0x3a235b(_0x443b48,_0x5d61d8){_0x324912[_0x55f3('0x73')](0x0,0x0,0x0),_0x332435[_0x55f3('0x73')](_0x5d61d8['r'],_0x5d61d8['g'],_0x5d61d8['b']),void 0x0===_0x220487[_0x443b48]&&(_0x220487[_0x443b48]=[]),_0x220487[_0x443b48]['push'](_0x324912[_0x55f3('0xf')]/0x3-0x1);}function _0x3723aa(_0x443b48,_0x5d61d8,_0x324912){_0x3a235b(_0x443b48,_0x324912),_0x3a235b(_0x5d61d8,_0x324912);}_0x3723aa('n1','n2',_0x443b48),_0x3723aa('n2','n4',_0x443b48),_0x3723aa('n4','n3',_0x443b48),_0x3723aa('n3','n1',_0x443b48),_0x3723aa('f1','f2',_0x443b48),_0x3723aa('f2','f4',_0x443b48),_0x3723aa('f4','f3',_0x443b48),_0x3723aa('f3','f1',_0x443b48),_0x3723aa('n1','f1',_0x443b48),_0x3723aa('n2','f2',_0x443b48),_0x3723aa('n3','f3',_0x443b48),_0x3723aa('n4','f4',_0x443b48),_0x3723aa('u1','u2',_0x5d61d8),_0x3723aa('u2','u3',_0x5d61d8),_0x3723aa('u3','u1',_0x5d61d8),_0x3723aa('c','t',_0x1e6dda),_0x3723aa(_0x55f3('0x8c6'),_0x55f3('0x8c7'),_0xcdfc67),_0x3723aa('cn3',_0x55f3('0x8c8'),_0xcdfc67),_0x3723aa(_0x55f3('0x8c9'),_0x55f3('0x8ca'),_0xcdfc67),_0x3723aa(_0x55f3('0x8cb'),_0x55f3('0x8cc'),_0xcdfc67),this[_0x55f3('0x95')][_0x55f3('0x1f2')](_0x55f3('0x38'),new THREE[(_0x55f3('0x52e'))](_0x324912,0x3)),this[_0x55f3('0x95')]['addAttribute'](_0x55f3('0x220'),new THREE[(_0x55f3('0x52e'))](_0x332435,0x3)),this[_0x55f3('0x306')]['updateProjectionMatrix']&&this['camera']['updateProjectionMatrix'](),this['matrix']=this[_0x55f3('0x306')]['matrixWorld'],this[_0x55f3('0x8cd')]=!0x1;_0x443b48=new THREE[(_0x55f3('0x3ba'))](this[_0x55f3('0x95')],this[_0x55f3('0x3f')]);this[_0x55f3('0x88c')]=_0x220487,this[_0x55f3('0x319')][_0x55f3('0x1c3')](_0x443b48);}},{'key':'setPoint','value':function(_0x443b48,_0x5d61d8,_0x324912,_0x332435){this['vector']['set'](_0x5d61d8,_0x324912,_0x332435)['unproject'](this['camera']);var _0x220487=this[_0x55f3('0x88c')][_0x443b48];if(void 0x0!==_0x220487)for(var _0x1e6dda=this[_0x55f3('0x95')][_0x55f3('0x52c')](_0x55f3('0x38')),_0x11ee41=0x0,_0x4437c7=_0x220487[_0x55f3('0xf')];_0x11ee41<_0x4437c7;_0x11ee41++)_0x1e6dda[_0x55f3('0x8ce')](_0x220487[_0x11ee41],this[_0x55f3('0x8c3')]['x'],this[_0x55f3('0x8c3')]['y'],this[_0x55f3('0x8c3')]['z']);}},{'key':_0x55f3('0x2f8'),'value':function(){this[_0x55f3('0x306')][_0x55f3('0x8cf')][_0x55f3('0x1ba')](this['camera'][_0x55f3('0x8cf')]),this[_0x55f3('0x8d0')]('c',0x0,0x0,-0x1),this[_0x55f3('0x8d0')]('t',0x0,0x0,0x1),this[_0x55f3('0x8d0')]('n1',-0x1,-0x1,-0x1),this['setPoint']('n2',0x1,-0x1,-0x1),this['setPoint']('n3',-0x1,0x1,-0x1),this[_0x55f3('0x8d0')]('n4',0x1,0x1,-0x1),this[_0x55f3('0x8d0')]('f1',-0x1,-0x1,0x1),this[_0x55f3('0x8d0')]('f2',0x1,-0x1,0x1),this[_0x55f3('0x8d0')]('f3',-0x1,0x1,0x1),this[_0x55f3('0x8d0')]('f4',0x1,0x1,0x1),this[_0x55f3('0x8d0')]('u1',0.7,1.1,-0x1),this[_0x55f3('0x8d0')]('u2',-0.7,1.1,-0x1),this['setPoint']('u3',0x0,0x2,-0x1),this[_0x55f3('0x8d0')]('cf1',-0x1,0x0,0x1),this['setPoint'](_0x55f3('0x8ca'),0x1,0x0,0x1),this[_0x55f3('0x8d0')]('cf3',0x0,-0x1,0x1),this[_0x55f3('0x8d0')](_0x55f3('0x8cc'),0x0,0x1,0x1),this[_0x55f3('0x8d0')](_0x55f3('0x8c6'),-0x1,0x0,-0x1),this[_0x55f3('0x8d0')]('cn2',0x1,0x0,-0x1),this['setPoint'](_0x55f3('0x8d1'),0x0,-0x1,-0x1),this[_0x55f3('0x8d0')]('cn4',0x0,0x1,-0x1),this[_0x55f3('0x95')][_0x55f3('0x52c')]('position')['needsUpdate']=!0x0;}}]),_0x5d61d8['default']=_0x1e6dda;},function(_0x331381,_0x4d3a38,_0x403a32){'use strict';Object['defineProperty'](_0x4d3a38,'__esModule',{'value':!0x0});var _0x2aa40b=_0x4e021a(_0x403a32(0x4)),_0x1481a2=_0x4e021a(_0x403a32(0x28)),_0x37a293=_0x4e021a(_0x403a32(0x0)),_0x48e633=_0x4e021a(_0x403a32(0x1)),_0xae43ee=_0x4e021a(_0x403a32(0x29)),_0x2aa4dd=_0x4e021a(_0x403a32(0x2a)),_0x276e32=_0x4e021a(_0x403a32(0x55));function _0x4e021a(_0x331381){return _0x331381&&_0x331381[_0x55f3('0x7')]?_0x331381:{'default':_0x331381};}function _0x2e2cd0(_0x331381){var _0x4d3a38=_0x331381[_0x55f3('0x685')],_0x4d3a38=void 0x0===_0x4d3a38?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x4d3a38,_0x403a32=_0x331381['isNoTileFactor'],_0x403a32=void 0x0===_0x403a32?{'texture1':0x1,'texture2':0x1,'texture3':0x1,'texture4':0x1}:_0x403a32,_0x48e633=_0x331381[_0x55f3('0x8d2')],_0x2aa4dd=_0x331381[_0x55f3('0x8d3')],_0x4e021a=_0x331381[_0x55f3('0x8d4')],_0x5a128f=_0x331381[_0x55f3('0x8d5')],_0x4eed10=_0x331381['noisePath'],_0x499392=_0x331381['normalUvIndex'],_0x2aa40b=_0x331381['normalFlipSide'],_0x65665f=_0x331381[_0x55f3('0x4c2')],_0x331381=(_0x331381[_0x55f3('0x8d6')],(0x0,_0x37a293['default'])(this,_0x2e2cd0),(0x0,_0xae43ee[_0x55f3('0x9')])(this,(_0x2e2cd0['__proto__']||(0x0,_0x1481a2[_0x55f3('0x9')])(_0x2e2cd0))['call'](this))),_0x4d3a38=(_0x331381['textureManager']=new _0x276e32[(_0x55f3('0x9'))](),_0x331381[_0x55f3('0x685')]=new THREE['Vector4'](_0x4d3a38[_0x55f3('0x51c')],_0x4d3a38[_0x55f3('0x687')],_0x4d3a38[_0x55f3('0x8d7')],_0x4d3a38[_0x55f3('0x8d8')]),_0x331381[_0x55f3('0x8d9')]=new THREE[(_0x55f3('0x1b6'))](_0x403a32[_0x55f3('0x51c')],_0x403a32[_0x55f3('0x687')],_0x403a32[_0x55f3('0x8d7')],_0x403a32[_0x55f3('0x8d8')]),_0x331381[_0x55f3('0x8da')]=_0x499392,_0x331381[_0x55f3('0x8db')]=_0x2aa40b,_0x331381[_0x55f3('0x4c2')]=_0x65665f,_0x331381[_0x55f3('0x6ab')]={'texture2':null,'textureMask':null,'texture3':null,'texture4':null,'noise':null},_0x331381[_0x55f3('0x4b9')]=null,[{'name':_0x55f3('0x687'),'path':_0x48e633},{'name':_0x55f3('0x8dc'),'path':_0x2aa4dd},{'name':_0x55f3('0x8d7'),'path':_0x4e021a},{'name':'texture4','path':_0x5a128f},{'name':_0x55f3('0x593'),'path':_0x4eed10}]);return _0x331381[_0x55f3('0x8dd')](_0x4d3a38),_0x331381;}_0x403a32=_0x403a32(0x2b)[_0x55f3('0x7e')],(0x0,_0x2aa4dd[_0x55f3('0x9')])(_0x2e2cd0,_0x403a32),(0x0,_0x48e633[_0x55f3('0x9')])(_0x2e2cd0,[{'key':_0x55f3('0x8dd'),'value':function(_0x331381){var _0x105ac8=this,_0x44236e=this;this['textureManager'][_0x55f3('0x272')](_0x331381)['then'](function(_0x331381){var _0x4d3a38=!0x0,_0x403a32=!0x1,_0x48e633=void 0x0;try{for(var _0x2aa4dd,_0x4e021a=(0x0,_0x2aa40b['default'])(_0x331381);!(_0x4d3a38=(_0x2aa4dd=_0x4e021a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4d3a38=!0x0){var _0xeca383=_0x2aa4dd['value'];_0x55f3('0x687')===_0xeca383[_0x55f3('0x8b')]&&(_0x44236e[_0x55f3('0x6ab')]['texture2']=_0xeca383,_0x44236e[_0x55f3('0x6ab')]['texture2']['wrapS']=THREE[_0x55f3('0x33d')],_0x44236e[_0x55f3('0x6ab')]['texture2'][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x105ac8['anisotropy']&&(_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x687')][_0x55f3('0x4c2')]=_0x105ac8[_0x55f3('0x4c2')])),_0x55f3('0x8dc')===_0xeca383[_0x55f3('0x8b')]&&(_0xeca383['flipY']=!0x1,_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8dc')]=_0xeca383),_0x55f3('0x8d7')===_0xeca383[_0x55f3('0x8b')]&&(_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8d7')]=_0xeca383,_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8d7')][_0x55f3('0x33e')]=THREE['RepeatWrapping'],_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8d7')][_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x105ac8[_0x55f3('0x4c2')]&&(_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8d7')]['anisotropy']=_0x105ac8[_0x55f3('0x4c2')])),'texture4'===_0xeca383['name']&&(_0x44236e[_0x55f3('0x6ab')]['texture4']=_0xeca383,_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x8d8')]['wrapS']=THREE[_0x55f3('0x33d')],_0x44236e['textures']['texture4'][_0x55f3('0x33c')]=THREE['RepeatWrapping'],_0x105ac8[_0x55f3('0x4c2')]&&(_0x44236e['textures'][_0x55f3('0x8d8')][_0x55f3('0x4c2')]=_0x105ac8[_0x55f3('0x4c2')])),'noise'===_0xeca383[_0x55f3('0x8b')]&&(_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x593')]=_0xeca383,_0x44236e[_0x55f3('0x6ab')][_0x55f3('0x593')]['wrapS']=THREE['RepeatWrapping'],_0x44236e['textures'][_0x55f3('0x593')]['wrapT']=THREE[_0x55f3('0x33d')]);}}catch(_0x8b8fef){_0x403a32=!0x0,_0x48e633=_0x8b8fef;}finally{try{!_0x4d3a38&&_0x4e021a[_0x55f3('0x271')]&&_0x4e021a[_0x55f3('0x271')]();}finally{if(_0x403a32)throw _0x48e633;}}_0x44236e[_0x55f3('0x2fa')]({'type':_0x55f3('0x41f')});});}},{'key':'createTexture','value':function(){var _0x331381=document[_0x55f3('0x79')](_0x55f3('0x422'));return _0x331381[_0x55f3('0x32c')]=0x2,_0x331381['height']=0x2,_0x331381[_0x55f3('0x377')]('2d')[_0x55f3('0x553')]=_0x55f3('0x339'),new THREE['Texture'](_0x331381);}},{'key':_0x55f3('0x2fc'),'value':function(_0x4d3a38){var _0x403a32=this;_0x4d3a38[_0x55f3('0x6b0')]||(_0x4d3a38['aoMap']=this['createTexture'](),_0x4d3a38[_0x55f3('0x7cd')]=0x0),_0x403a32[_0x55f3('0x6ab')][_0x55f3('0x8d7')]&&(_0x4d3a38['defines'][_0x55f3('0x8de')]=''),_0x403a32['textures'][_0x55f3('0x8d8')]&&(_0x4d3a38[_0x55f3('0x163')]['IS_USE_MASK_TEXTURE3']=''),_0x403a32[_0x55f3('0x6ab')][_0x55f3('0x8df')]&&(_0x4d3a38[_0x55f3('0x163')][_0x55f3('0x8e0')]='',_0x4d3a38[_0x55f3('0x1d5')]=!0x0),_0x403a32['normalUvIndex']&&(_0x4d3a38['defines']['IS_USE_CUS_NORMAL']='',0x2==_0x403a32['normalUvIndex']&&(_0x4d3a38['normalMap'][_0x55f3('0x33e')]=THREE[_0x55f3('0x4c0')],_0x4d3a38['normalMap'][_0x55f3('0x33c')]=THREE[_0x55f3('0x4c0')],_0x4d3a38['normalMapType']=THREE[_0x55f3('0x8e1')]),_0x403a32[_0x55f3('0x8db')]&&(_0x4d3a38[_0x55f3('0x163')][_0x55f3('0x8e2')]='')),this[_0x55f3('0x4c2')]&&(_0x4d3a38[_0x55f3('0x94')][_0x55f3('0x4c2')]=this[_0x55f3('0x4c2')]),_0x4d3a38['onBeforeCompile']=function(_0x331381){_0x331381['uniforms'][_0x55f3('0x51c')]={'value':_0x4d3a38[_0x55f3('0x94')]},_0x331381['uniforms'][_0x55f3('0x687')]={'value':_0x403a32['textures'][_0x55f3('0x687')]},_0x331381[_0x55f3('0x164')]['textureMask']={'value':_0x403a32[_0x55f3('0x6ab')][_0x55f3('0x8dc')]},_0x403a32[_0x55f3('0x6ab')]['texture3']&&(_0x331381[_0x55f3('0x164')][_0x55f3('0x8d7')]={'value':_0x403a32[_0x55f3('0x6ab')][_0x55f3('0x8d7')]}),_0x403a32['textures']['texture4']&&(_0x331381[_0x55f3('0x164')][_0x55f3('0x8d8')]={'value':_0x403a32[_0x55f3('0x6ab')][_0x55f3('0x8d8')]}),_0x331381[_0x55f3('0x164')][_0x55f3('0x68a')]={'value':_0x403a32[_0x55f3('0x6ab')]['noise']},_0x331381['uniforms'][_0x55f3('0x8e3')]={'value':_0x403a32[_0x55f3('0x685')]},_0x331381[_0x55f3('0x164')][_0x55f3('0x8e4')]={'value':_0x403a32[_0x55f3('0x8d9')]},_0x331381[_0x55f3('0x57')]=_0x331381[_0x55f3('0x57')]['replace']('#include\x20<uv2_pars_vertex>',_0x55f3('0x8e5')),_0x331381['vertexShader']=_0x331381['vertexShader']['replace']('#include\x20<uv2_vertex>',_0x55f3('0x8e6')),_0x331381[_0x55f3('0x58')]=_0x331381['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x8e7')),_0x331381['fragmentShader']=_0x331381[_0x55f3('0x58')]['replace'](_0x55f3('0x8e8'),_0x55f3('0x8e9')),_0x331381[_0x55f3('0x58')]=_0x331381[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f6'),_0x55f3('0x8ea')),_0x403a32[_0x55f3('0x4b9')]=_0x331381;};}}]),_0x4d3a38['default']=_0x2e2cd0;},function(_0x1bae2b,_0x15cbf7,_0x416cb9){'use strict';Object['defineProperty'](_0x15cbf7,_0x55f3('0x7'),{'value':!0x0});var _0x765c70=_0x336cdb(_0x416cb9(0x4)),_0x328482=_0x336cdb(_0x416cb9(0x28)),_0x40fccb=_0x336cdb(_0x416cb9(0x0)),_0x4a49e1=_0x336cdb(_0x416cb9(0x1)),_0x1710d0=_0x336cdb(_0x416cb9(0x29)),_0x363f12=_0x336cdb(_0x416cb9(0x2a)),_0x32e32e=_0x336cdb(_0x416cb9(0x55));function _0x336cdb(_0x1bae2b){return _0x1bae2b&&_0x1bae2b[_0x55f3('0x7')]?_0x1bae2b:{'default':_0x1bae2b};}function _0x35f555(_0x1bae2b){var _0x15cbf7=_0x1bae2b[_0x55f3('0x8d3')],_0x416cb9=_0x1bae2b['isIgnoreAlpha'],_0x4a49e1=_0x1bae2b[_0x55f3('0x8eb')],_0x4a49e1=void 0x0!==_0x4a49e1&&_0x4a49e1,_0x363f12=_0x1bae2b['isUseUv2Light'],_0x363f12=void 0x0!==_0x363f12&&_0x363f12,_0x1bae2b=_0x1bae2b['scanOffset'],_0x336cdb=((0x0,_0x40fccb[_0x55f3('0x9')])(this,_0x35f555),(0x0,_0x1710d0['default'])(this,(_0x35f555[_0x55f3('0x7d')]||(0x0,_0x328482['default'])(_0x35f555))[_0x55f3('0x1')](this))),_0x416cb9=(_0x336cdb['textureManager']=new _0x32e32e[(_0x55f3('0x9'))](),_0x336cdb[_0x55f3('0x8ec')]=null,_0x336cdb[_0x55f3('0x8ed')]=_0x416cb9,_0x336cdb[_0x55f3('0x8eb')]=_0x4a49e1,_0x336cdb[_0x55f3('0x8ee')]=_0x363f12,_0x336cdb['csTime']=0x0,_0x336cdb['csSpeed']=0.15,_0x336cdb[_0x55f3('0x481')]=1.1,_0x336cdb[_0x55f3('0x8ef')]=_0x1bae2b||0x0,_0x336cdb['textures']={'textureMask':null},[{'name':_0x55f3('0x8dc'),'path':_0x15cbf7}]);return _0x336cdb[_0x55f3('0x8dd')](_0x416cb9),_0x336cdb;}_0x416cb9=_0x416cb9(0x2b)[_0x55f3('0x7e')],(0x0,_0x363f12['default'])(_0x35f555,_0x416cb9),(0x0,_0x4a49e1['default'])(_0x35f555,[{'key':_0x55f3('0x93'),'value':function(){for(var _0x1bae2b in this[_0x55f3('0x6ab')])this[_0x55f3('0x6ab')][_0x1bae2b]&&this[_0x55f3('0x6ab')][_0x1bae2b]['dispose']();}},{'key':'loadTextures','value':function(_0x1bae2b){var _0x40fccb=this;this[_0x55f3('0x8f0')][_0x55f3('0x272')](_0x1bae2b)[_0x55f3('0x341')](function(_0x1bae2b){var _0x15cbf7=!0x0,_0x416cb9=!0x1,_0x4a49e1=void 0x0;try{for(var _0x363f12,_0x336cdb=(0x0,_0x765c70[_0x55f3('0x9')])(_0x1bae2b);!(_0x15cbf7=(_0x363f12=_0x336cdb[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x15cbf7=!0x0){var _0x328482=_0x363f12[_0x55f3('0x12')];_0x55f3('0x8dc')===_0x328482[_0x55f3('0x8b')]&&(_0x328482[_0x55f3('0x754')]=!0x1,_0x40fccb[_0x55f3('0x6ab')]['textureMask']=_0x328482);}}catch(_0x1ba8e3){_0x416cb9=!0x0,_0x4a49e1=_0x1ba8e3;}finally{try{!_0x15cbf7&&_0x336cdb[_0x55f3('0x271')]&&_0x336cdb[_0x55f3('0x271')]();}finally{if(_0x416cb9)throw _0x4a49e1;}}_0x40fccb['dispatchEvent']({'type':_0x55f3('0x41f')});});}},{'key':_0x55f3('0x6af'),'value':function(){var _0x1bae2b=document[_0x55f3('0x79')](_0x55f3('0x422'));return _0x1bae2b[_0x55f3('0x32c')]=0x2,_0x1bae2b[_0x55f3('0x32d')]=0x2,_0x1bae2b['getContext']('2d')[_0x55f3('0x553')]=_0x55f3('0x339'),new THREE[(_0x55f3('0x1ca'))](_0x1bae2b);}},{'key':_0x55f3('0x2fc'),'value':function(_0x1bae2b){var _0x15cbf7=this;if(!_0x15cbf7[_0x55f3('0x6ab')][_0x55f3('0x8dc')])return!0x1;_0x1bae2b['aoMap']||(_0x1bae2b[_0x55f3('0x6b0')]=this[_0x55f3('0x6af')](),_0x1bae2b[_0x55f3('0x7cd')]=0x0),_0x1bae2b[_0x55f3('0x44d')]=function(_0x1bae2b){_0x1bae2b['uniforms']['iTime']={'value':0x0},_0x1bae2b[_0x55f3('0x164')][_0x55f3('0x8f1')]={'value':_0x15cbf7[_0x55f3('0x8ed')]},_0x1bae2b[_0x55f3('0x164')][_0x55f3('0x8f2')]={'value':_0x15cbf7[_0x55f3('0x8eb')]},_0x1bae2b['uniforms']['scanOffset']={'value':_0x15cbf7[_0x55f3('0x8ef')]},_0x1bae2b[_0x55f3('0x164')]['textureMask']={'value':_0x15cbf7[_0x55f3('0x6ab')][_0x55f3('0x8dc')]},_0x1bae2b['vertexShader']=_0x1bae2b[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x6c7'),_0x55f3('0x8f3')),_0x1bae2b[_0x55f3('0x57')]=_0x1bae2b[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x529'),_0x55f3('0x8f4')),_0x1bae2b[_0x55f3('0x58')]=_0x1bae2b['fragmentShader']['replace'](_0x55f3('0x3ca'),_0x55f3('0x8f5')),_0x1bae2b[_0x55f3('0x58')]=_0x1bae2b['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f6'),_0x55f3('0x8f6')),_0x15cbf7[_0x55f3('0x8ee')]&&(_0x1bae2b[_0x55f3('0x58')]=_0x1bae2b[_0x55f3('0x58')][_0x55f3('0x56')]('#include\x20<emissivemap_fragment>',_0x55f3('0x8f7'))),_0x1bae2b[_0x55f3('0x58')]=_0x1bae2b[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x8f8')),_0x15cbf7[_0x55f3('0x8ec')]=_0x1bae2b;};}},{'key':_0x55f3('0x336'),'value':function(_0x1bae2b){this[_0x55f3('0x8ec')]&&(this[_0x55f3('0x494')]+=_0x1bae2b*this[_0x55f3('0x502')],this[_0x55f3('0x8ec')][_0x55f3('0x164')][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0x494')]);}}]),_0x15cbf7[_0x55f3('0x9')]=_0x35f555;},function(_0x8a8d21,_0x1f8a00,_0x4c3221){'use strict';Object[_0x55f3('0x4')](_0x1f8a00,_0x55f3('0x7'),{'value':!0x0});var _0x6d57ca=_0xa9c77e(_0x4c3221(0x0));function _0xa9c77e(_0x8a8d21){return _0x8a8d21&&_0x8a8d21['__esModule']?_0x8a8d21:{'default':_0x8a8d21};}function _0xed0103(){(0x0,_0x6d57ca[_0x55f3('0x9')])(this,_0xed0103),this['materialList']=[];}(0x0,_0xa9c77e(_0x4c3221(0x1))['default'])(_0xed0103,[{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x8f9')][_0x55f3('0xf')]=0x0;}},{'key':'createTexture','value':function(){var _0x8a8d21=document[_0x55f3('0x79')](_0x55f3('0x422'));return _0x8a8d21['width']=0x2,_0x8a8d21['height']=0x2,_0x8a8d21[_0x55f3('0x377')]('2d')[_0x55f3('0x553')]=_0x55f3('0x339'),new THREE[(_0x55f3('0x1ca'))](_0x8a8d21);}},{'key':_0x55f3('0x2fc'),'value':function(_0x8a8d21){_0x8a8d21[_0x55f3('0x6b0')]||(_0x8a8d21[_0x55f3('0x6b0')]=this[_0x55f3('0x6af')](),_0x8a8d21[_0x55f3('0x7cd')]=0x0),_0x8a8d21[_0x55f3('0x44d')]=function(_0x8a8d21){_0x8a8d21['uniforms'][_0x55f3('0x8fa')]={'value':!0x1},_0x8a8d21[_0x55f3('0x58')]=_0x8a8d21[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x8fb'),_0x55f3('0x8fc'));},this['materialList']['push'](_0x8a8d21);}},{'key':_0x55f3('0x8fd'),'value':function(_0x8a8d21){var _0x6d57ca,_0x1f8a00=_0x8a8d21[_0x55f3('0x8fe')],_0x1f8a00=void 0x0!==_0x1f8a00&&_0x1f8a00,_0x4c3221=_0x8a8d21[_0x55f3('0x38f')],_0x4c3221=void 0x0===_0x4c3221?0x1:_0x4c3221,_0xa9c77e=_0x8a8d21['callback'];0x0<this[_0x55f3('0x8f9')][_0x55f3('0xf')]&&(_0x6d57ca=this,new TWEEN[(_0x55f3('0x331'))]({'x':_0x1f8a00?0x0:0x1})['to']({'x':_0x1f8a00?0x1:0x0},0x3e8*_0x4c3221)[_0x55f3('0x332')](function(_0x8a8d21){for(var _0x1f8a00=0x0,_0x4c3221=_0x6d57ca[_0x55f3('0x8f9')][_0x55f3('0xf')];_0x1f8a00<_0x4c3221;_0x1f8a00++)_0x6d57ca[_0x55f3('0x8f9')][_0x1f8a00][_0x55f3('0x8ff')]=_0x8a8d21['x'];})[_0x55f3('0x6a7')](function(){_0xa9c77e&&_0xa9c77e();})[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')]['In'])[_0x55f3('0x395')]());}},{'key':_0x55f3('0x900'),'value':function(){this[_0x55f3('0x8f9')][_0x55f3('0xf')]=0x0;}}]),_0x1f8a00[_0x55f3('0x9')]=_0xed0103;},function(_0x509167,_0x306071,_0x2da764){'use strict';Object['defineProperty'](_0x306071,_0x55f3('0x7'),{'value':!0x0});var _0x2cfb52=_0x57c82a(_0x2da764(0x0));function _0x57c82a(_0x509167){return _0x509167&&_0x509167[_0x55f3('0x7')]?_0x509167:{'default':_0x509167};}function _0x9edfd(_0x509167){_0x509167=_0x509167[_0x55f3('0x901')],_0x509167=void 0x0===_0x509167?_0x55f3('0x902'):_0x509167;(0x0,_0x2cfb52[_0x55f3('0x9')])(this,_0x9edfd),this['glowColor']=new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x509167),this['material']=null,this[_0x55f3('0x4b9')]=null,this[_0x55f3('0xfc')]=null;}(0x0,_0x57c82a(_0x2da764(0x1))[_0x55f3('0x9')])(_0x9edfd,[{'key':_0x55f3('0x2fc'),'value':function(_0x509167){var _0x306071=this;_0x509167[_0x55f3('0x44d')]=function(_0x509167){_0x509167[_0x55f3('0x164')][_0x55f3('0x739')]={'value':1.2},_0x509167[_0x55f3('0x164')]['power']={'value':1.4},_0x509167[_0x55f3('0x164')][_0x55f3('0x73b')]={'value':_0x306071[_0x55f3('0x73b')]},_0x509167[_0x55f3('0x57')]=_0x509167[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x73c')),_0x509167[_0x55f3('0x57')]=_0x509167[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexNormal\x20=\x20normalize(normalMatrix\x20*\x20normal);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vVertexWorldPosition\x20=\x20(modelMatrix\x20*\x20vec4(position,\x201.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x509167[_0x55f3('0x58')]=_0x509167[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20opacity;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20vec3\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20coeficient;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20uniform\x20float\x20power;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexNormal;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vVertexWorldPosition;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x509167[_0x55f3('0x58')]=_0x509167[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(outgoingLight,\x20diffuseColor.a);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20worldCameraToVertex\x20=\x20vVertexWorldPosition\x20-\x20cameraPosition;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec3\x20viewCameraToVertex\x09=\x20(viewMatrix\x20*\x20vec4(worldCameraToVertex,\x200.0)).xyz;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20viewCameraToVertex\x20=\x20normalize(viewCameraToVertex);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20intensity\x09=\x20pow(coeficient\x20+\x20dot(vVertexNormal,\x20viewCameraToVertex),\x20power);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20*=\x20glowColor;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(resultColor.rgb,\x20intensity);');},this[_0x55f3('0x3f')]=_0x509167;}},{'key':_0x55f3('0x4fc'),'value':function(){return this[_0x55f3('0x3f')];}},{'key':_0x55f3('0x336'),'value':function(_0x509167){this['shader']&&(this[_0x55f3('0xfc')]+=_0x509167,this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4d8')][_0x55f3('0x12')]=this[_0x55f3('0xfc')]);}}]),_0x306071[_0x55f3('0x9')]=_0x9edfd;},function(_0x429002,_0x1bd82b,_0x1a515f){'use strict';Object[_0x55f3('0x4')](_0x1bd82b,_0x55f3('0x7'),{'value':!0x0});var _0x43f3c9=_0x1e4cc3(_0x1a515f(0x28)),_0x46f6fc=_0x1e4cc3(_0x1a515f(0x0)),_0x505fb5=_0x1e4cc3(_0x1a515f(0x1)),_0x3ec3bd=_0x1e4cc3(_0x1a515f(0x29)),_0x4b5776=_0x1e4cc3(_0x1a515f(0x2a)),_0x4d9af9=_0x1e4cc3(_0x1a515f(0x55)),_0x4d4a21=_0x1a515f(0x2b),_0x833935=_0x1e4cc3(_0x1a515f(0x74));function _0x1e4cc3(_0x429002){return _0x429002&&_0x429002[_0x55f3('0x7')]?_0x429002:{'default':_0x429002};}function _0xac6ed3(_0x429002){var _0x1bd82b=_0x429002[_0x55f3('0x94')],_0x429002=_0x429002[_0x55f3('0x337')],_0x429002=void 0x0===_0x429002?0.5:_0x429002,_0x1a515f=((0x0,_0x46f6fc[_0x55f3('0x9')])(this,_0xac6ed3),(0x0,_0x3ec3bd[_0x55f3('0x9')])(this,(_0xac6ed3[_0x55f3('0x7d')]||(0x0,_0x43f3c9['default'])(_0xac6ed3))[_0x55f3('0x1')](this)));return _0x1a515f[_0x55f3('0x94')]=_0x1bd82b,_0x1a515f['material']=null,_0x1a515f[_0x55f3('0x337')]=_0x429002,_0x1a515f['texture']=null,_0x1a515f[_0x55f3('0x6ae')]=!0x1,_0x1a515f[_0x55f3('0x903')]=null,_0x1a515f['textureSprites']=[],_0x1a515f;}_0x1a515f=_0x4d4a21['EventDispatcher'],(0x0,_0x4b5776[_0x55f3('0x9')])(_0xac6ed3,_0x1a515f),(0x0,_0x505fb5[_0x55f3('0x9')])(_0xac6ed3,[{'key':_0x55f3('0x278'),'value':function(_0x429002){var _0x1bd82b=this;new _0x4d9af9[(_0x55f3('0x9'))]()[_0x55f3('0x274')]({'name':_0x55f3('0x904'),'path':_0x429002})[_0x55f3('0x341')](function(_0x429002){_0x1bd82b[_0x55f3('0x1c6')]=_0x429002,_0x1bd82b['texture'][_0x55f3('0x4c2')]=_0x1bd82b[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer'][_0x55f3('0x4d1')]['getMaxAnisotropy'](),_0x1bd82b['dispatchEvent']({'type':'canUpdate'});});}},{'key':_0x55f3('0x905'),'value':function(_0x429002){this[_0x55f3('0x903')]=new _0x833935[(_0x55f3('0x9'))]({'timer':this[_0x55f3('0x94')]['timer'],'imageWidth':_0x429002[_0x55f3('0x6bb')],'imageHeight':_0x429002[_0x55f3('0x6bc')],'xCount':_0x429002[_0x55f3('0x622')],'yCount':_0x429002['column'],'fps':_0x429002[_0x55f3('0x2e8')]}),this[_0x55f3('0x903')][_0x55f3('0x8')](this['texture'],!0x0);}},{'key':_0x55f3('0x906'),'value':function(_0x429002){this[_0x55f3('0x903')]&&_0x429002&&(this[_0x55f3('0x903')][_0x55f3('0x2e8')]=_0x429002);}},{'key':_0x55f3('0x907'),'value':function(_0x429002){_0x429002[_0x55f3('0x220')][_0x55f3('0x300')](_0x55f3('0x435')),_0x429002['transparent']=!0x0,_0x429002['opacity']=0x1,_0x429002[_0x55f3('0x1d7')]=!0x1,_0x429002['map']=this[_0x55f3('0x1c6')],_0x429002[_0x55f3('0x94')][_0x55f3('0xf7')]=!0x0,_0x429002['needsUpdate']=!0x0,this['material']=_0x429002;}},{'key':_0x55f3('0x336'),'value':function(){this[_0x55f3('0x903')]&&this['textureSprite'][_0x55f3('0x2f8')]();}}]),_0x1bd82b['default']=_0xac6ed3;},function(_0x1669d7,_0x28812d,_0x1749d5){'use strict';Object[_0x55f3('0x4')](_0x28812d,_0x55f3('0x7'),{'value':!0x0});var _0x58f9d8=_0x68aa7f(_0x1749d5(0x0)),_0x5ef349=_0x68aa7f(_0x1749d5(0x1)),_0x340e47=_0x1749d5(0x83);function _0x68aa7f(_0x1669d7){return _0x1669d7&&_0x1669d7[_0x55f3('0x7')]?_0x1669d7:{'default':_0x1669d7};}function _0x3d381b(_0x1669d7){_0x1669d7['heightExtent'];var _0x28812d=_0x1669d7[_0x55f3('0x908')],_0x28812d=void 0x0===_0x28812d?_0x55f3('0x909'):_0x28812d,_0x1749d5=_0x1669d7[_0x55f3('0x60b')],_0x5ef349=_0x1669d7[_0x55f3('0x46c')],_0x68aa7f=_0x1669d7['texRepeat'],_0x68aa7f=void 0x0===_0x68aa7f?{'x':0x64,'y':0x64}:_0x68aa7f,_0x1f937a=_0x1669d7[_0x55f3('0x90a')],_0x5e9ace=_0x1669d7['isShowSeaGroundEffect'],_0x1669d7=_0x1669d7[_0x55f3('0x90b')],_0x1669d7=void 0x0===_0x1669d7?{'scale':0xc8,'fogNear':0.15,'fogFar':0xc8}:_0x1669d7;(0x0,_0x58f9d8[_0x55f3('0x9')])(this,_0x3d381b),this['heightExtent']=new THREE[(_0x55f3('0x1b4'))](0x0,-0x8),this['waterColor']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x55f3('0x90c')),this[_0x55f3('0x908')]=_0x28812d,this['gradientLut']=new _0x340e47[(_0x55f3('0x373'))](_0x28812d),this['isTransparentLight']=_0x1749d5,this[_0x55f3('0x90a')]=_0x1f937a,this[_0x55f3('0x90d')]=_0x5e9ace,this[_0x55f3('0x90b')]=_0x1669d7,this['groundTexPath']=_0x5ef349,this[_0x55f3('0x90e')]=_0x68aa7f,this['shader']=null,this[_0x55f3('0xfc')]=0x0,this[_0x55f3('0x337')]=0.05;}(0x0,_0x5ef349['default'])(_0x3d381b,[{'key':_0x55f3('0x90f'),'value':function(){if(this[_0x55f3('0x908')]&&_0x340e47[_0x55f3('0x37a')][this[_0x55f3('0x908')]])return _0x340e47[_0x55f3('0x37a')][this['gradientType']];}},{'key':'setGradientConfig','value':function(_0x1669d7){_0x1669d7&&_0x1669d7[_0x55f3('0x8b')]&&_0x1669d7[_0x55f3('0x910')]&&0x0<_0x1669d7[_0x55f3('0x910')][_0x55f3('0xf')]&&this[_0x55f3('0x4ae')]['addColorMap'](this['gradientType'],_0x1669d7['colorArray']),this[_0x55f3('0x4ae')][_0x55f3('0x372')](this[_0x55f3('0x908')]);_0x1669d7=new THREE[(_0x55f3('0x4d4'))](this['gradientLut'][_0x55f3('0x911')]());_0x1669d7[_0x55f3('0xf7')]=!0x0,this['shader'][_0x55f3('0x164')][_0x55f3('0x4dd')][_0x55f3('0x12')]=_0x1669d7;}},{'key':_0x55f3('0x912'),'value':function(_0x1669d7){_0x1669d7[_0x55f3('0x1d9')]&&(this[_0x55f3('0x4b9')]['uniforms']['seaGroundScale'][_0x55f3('0x12')]=_0x1669d7[_0x55f3('0x1d9')]),_0x1669d7[_0x55f3('0x913')]&&_0x1669d7['fogFar']&&(this[_0x55f3('0x4b9')]['uniforms']['seaGroundFog']['value']=new THREE[(_0x55f3('0x1b4'))](_0x1669d7[_0x55f3('0x913')],_0x1669d7[_0x55f3('0x914')]));}},{'key':_0x55f3('0x2fc'),'value':function(_0x1669d7){var _0x1749d5=this,_0x5ef349=new THREE[(_0x55f3('0x4d4'))](this[_0x55f3('0x4ae')]['createCanvas']()),_0x68aa7f=null;return this['groundTexPath']&&((_0x68aa7f=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](this[_0x55f3('0x915')]))[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x68aa7f[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')]),_0x1669d7['onBeforeCompile']=function(_0x1669d7){var _0x28812d=_0x1669d7[_0x55f3('0x164')];_0x1669d7[_0x55f3('0x164')]=_0x28812d,_0x1669d7[_0x55f3('0x164')][_0x55f3('0x8fe')]={'value':_0x1749d5['isShow']||!0x1},_0x1669d7['uniforms'][_0x55f3('0x4d8')]={'value':0x0},_0x1669d7[_0x55f3('0x164')][_0x55f3('0x916')]={'value':_0x1749d5[_0x55f3('0x916')]},_0x1669d7[_0x55f3('0x164')][_0x55f3('0x4dd')]={'value':_0x5ef349},_0x68aa7f&&(_0x1669d7[_0x55f3('0x164')][_0x55f3('0x917')]={'value':_0x68aa7f}),_0x1669d7['uniforms'][_0x55f3('0x90a')]={'value':_0x1749d5['isShowContour']||!0x1},_0x1669d7[_0x55f3('0x164')][_0x55f3('0x7b6')]={'value':_0x1749d5[_0x55f3('0x7b6')]},_0x1669d7[_0x55f3('0x164')][_0x55f3('0x918')]={'value':_0x1749d5['isShowSeaGroundEffect']||!0x1},_0x1669d7['uniforms'][_0x55f3('0x919')]={'value':_0x1749d5[_0x55f3('0x90b')][_0x55f3('0x1d9')]},_0x1669d7[_0x55f3('0x164')][_0x55f3('0x91a')]={'value':new THREE[(_0x55f3('0x1b4'))](_0x1749d5[_0x55f3('0x90b')][_0x55f3('0x913')],_0x1749d5[_0x55f3('0x90b')][_0x55f3('0x914')])},_0x1669d7[_0x55f3('0x57')]=_0x1669d7[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43a'),_0x55f3('0x91b')),_0x1669d7[_0x55f3('0x57')]=_0x1669d7[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x91c')),_0x1669d7[_0x55f3('0x58')]=_0x1669d7[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x4e8')+(_0x1749d5['groundTexPath']?'#define\x20IS_USE_GROUND_TEX':'')+_0x55f3('0x91d')),_0x1669d7[_0x55f3('0x58')]=_0x1669d7['fragmentShader']['replace'](_0x55f3('0x4f8'),_0x55f3('0x91e')),_0x1749d5[_0x55f3('0x4b9')]=_0x1669d7;},_0x1669d7;}},{'key':_0x55f3('0x336'),'value':function(_0x1669d7){this[_0x55f3('0x4b9')]&&(this['count']+=_0x1669d7*this['speed'],this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')]['value']=this['count']);}},{'key':_0x55f3('0x8fe'),'set':function(_0x1669d7){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')]['uniforms']['isShow'][_0x55f3('0x12')]=_0x1669d7);},'get':function(){if(this[_0x55f3('0x4b9')])return this['shader'][_0x55f3('0x164')]['isShow'][_0x55f3('0x12')];}},{'key':_0x55f3('0x91f'),'set':function(_0x1669d7){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x918')][_0x55f3('0x12')]=_0x1669d7);},'get':function(){if(this['shader'])return this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x918')][_0x55f3('0x12')];}}]),_0x28812d[_0x55f3('0x9')]=_0x3d381b;},function(_0x4e6ab3,_0x163787,_0x4e747f){'use strict';Object['defineProperty'](_0x163787,_0x55f3('0x7'),{'value':!0x0});var _0xde5cb3=_0x57604a(_0x4e747f(0x0));function _0x57604a(_0x4e6ab3){return _0x4e6ab3&&_0x4e6ab3['__esModule']?_0x4e6ab3:{'default':_0x4e6ab3};}function _0x37f10a(){(0x0,_0xde5cb3[_0x55f3('0x9')])(this,_0x37f10a),this[_0x55f3('0x4b9')]=null,this[_0x55f3('0x3f')]=null;}(0x0,_0x57604a(_0x4e747f(0x1))[_0x55f3('0x9')])(_0x37f10a,[{'key':'createMaterial','value':function(_0x4e6ab3,_0x163787){var _0x4e747f=this;_0x4e6ab3[_0x55f3('0x44d')]=function(_0x4e6ab3){_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x8fe')]={'value':!0x1},_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x920')]={'value':new THREE['Vector4'](_0x163787[_0x55f3('0x8c')]['x'],_0x163787[_0x55f3('0xf2')]['x'],_0x163787[_0x55f3('0x8c')]['z'],_0x163787[_0x55f3('0xf2')]['z'])},_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x921')]={'value':null},_0x4e6ab3['vertexShader']=_0x4e6ab3['vertexShader'][_0x55f3('0x56')](_0x55f3('0x43a'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_pars_vertex>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec3\x20vModelPos;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vnUv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4e6ab3['vertexShader']=_0x4e6ab3['vertexShader'][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x922')),_0x4e6ab3[_0x55f3('0x58')]=_0x4e6ab3[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x3ca'),_0x55f3('0x4e8')+(_0x4e747f['groundTexPath']?'#define\x20IS_USE_GROUND_TEX':'')+_0x55f3('0x923')),_0x4e6ab3[_0x55f3('0x58')]=_0x4e6ab3['fragmentShader']['replace']('gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);','\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMin\x20=\x20hmExtent.x;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20xMax\x20=\x20hmExtent.y;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMin\x20=\x20hmExtent.z;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20float\x20zMax\x20=\x20hmExtent.w;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(isShow\x20&&\x20vModelPos.x\x20<\x20xMax\x20&&\x20vModelPos.x\x20>\x20xMin\x20&&\x20vModelPos.z\x20<\x20zMax\x20&&\x20vModelPos.z\x20>\x20zMin){\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20resultColor\x20*=\x201.2;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor\x20*=\x20texture2D(hmTex,\x20vec2((vModelPos.x\x20-\x20xMin)/(xMax\x20-\x20xMin),\x20(vModelPos.z\x20-\x20zMin)/(zMax\x20-\x20zMin)));;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(\x20resultColor\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0x4e747f[_0x55f3('0x4b9')]=_0x4e6ab3;},this['material']=_0x4e6ab3;}},{'key':_0x55f3('0x924'),'value':function(_0x4e6ab3){this[_0x55f3('0x4b9')]&&((_0x4e6ab3=_0x4e6ab3[_0x55f3('0x1b0')]())[_0x55f3('0x754')]=!0x1,_0x4e6ab3[_0x55f3('0xf7')]=!0x0,this['shader'][_0x55f3('0x164')]['hmTex'][_0x55f3('0x12')]=_0x4e6ab3);}},{'key':_0x55f3('0x925'),'value':function(_0x4e6ab3,_0x163787){var _0x4e747f=this,_0xde5cb3=_0x4e6ab3['map']['clone']();return _0xde5cb3[_0x55f3('0xf7')]=!0x0,_0x4e6ab3['transparent']=!0x0,_0x163787=_0x163787&&_0x163787[_0x55f3('0x56')](/target/g,_0x55f3('0x926'))['replace'](/(\d+)/g,function(_0x4e6ab3){_0x4e6ab3=Number(_0x4e6ab3)/0xff;return(_0x4e6ab3=0x1===(_0x4e6ab3=0x0===_0x4e6ab3?'0.0':_0x4e6ab3)?_0x55f3('0x927'):_0x4e6ab3)['toString']();}),_0x4e6ab3[_0x55f3('0x44d')]=function(_0x4e6ab3){_0x4e6ab3[_0x55f3('0x164')]['isShow']={'value':!0x0},_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0x4e6ab3[_0x55f3('0x164')][_0x55f3('0x921')]={'value':_0xde5cb3},_0x4e6ab3[_0x55f3('0x57')]=_0x4e6ab3[_0x55f3('0x57')]['replace'](_0x55f3('0x43a'),_0x55f3('0x928')),_0x4e6ab3['vertexShader']=_0x4e6ab3[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x929')),_0x4e6ab3[_0x55f3('0x58')]=_0x4e6ab3[_0x55f3('0x58')]['replace'](_0x55f3('0x3ca'),_0x55f3('0x92a')),_0x4e6ab3[_0x55f3('0x58')]=_0x4e6ab3[_0x55f3('0x58')][_0x55f3('0x56')](_0x55f3('0x4f8'),'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20resultColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vec4\x20hmCol\x20=\x20texture2D(hmTex,\x20vnUv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.rgb\x20=\x20hmCol.rgb;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20resultColor.a\x20=\x20'+_0x163787+_0x55f3('0x92b')),_0x4e747f[_0x55f3('0x4b9')]=_0x4e6ab3;},_0x4e6ab3;}},{'key':_0x55f3('0x8fe'),'set':function(_0x4e6ab3){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x8fe')][_0x55f3('0x12')]=_0x4e6ab3);}}]),_0x163787[_0x55f3('0x9')]=_0x37f10a;},function(_0xef7124,_0x269f5f,_0x8f67a4){'use strict';Object[_0x55f3('0x4')](_0x269f5f,_0x55f3('0x7'),{'value':!0x0});var _0x1b0974=_0x3f7b83(_0x8f67a4(0x0)),_0x23c518=_0x3f7b83(_0x8f67a4(0x1)),_0x24aded=_0x8f67a4(0xab),_0x59522b=_0x8f67a4(0x83);function _0x3f7b83(_0xef7124){return _0xef7124&&_0xef7124[_0x55f3('0x7')]?_0xef7124:{'default':_0xef7124};}function _0x54bbdc(){(0x0,_0x1b0974[_0x55f3('0x9')])(this,_0x54bbdc),this[_0x55f3('0x908')]='rainbow',this['gradientLut']=new _0x24aded[(_0x55f3('0x597'))](this[_0x55f3('0x908')]),this[_0x55f3('0x92c')]=!0x1,this[_0x55f3('0x3f')]=null;}(0x0,_0x23c518[_0x55f3('0x9')])(_0x54bbdc,[{'key':_0x55f3('0x92d'),'value':function(_0xef7124){_0xef7124&&_0xef7124['name']&&_0xef7124['colorArray']&&0x0<_0xef7124[_0x55f3('0x910')][_0x55f3('0xf')]&&(this['gradientType']=_0xef7124[_0x55f3('0x8b')],this[_0x55f3('0x4ae')]['addColorMap'](this['gradientType'],_0xef7124[_0x55f3('0x910')])),this[_0x55f3('0x4ae')]['setColorMap'](this[_0x55f3('0x908')]);}},{'key':_0x55f3('0x6af'),'value':function(_0xef7124){for(var _0x269f5f=0x1<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:-0x32,_0x8f67a4=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x32,_0x1b0974=arguments[0x3],_0x23c518=document[_0x55f3('0x79')]('canvas'),_0x24aded=(_0x23c518[_0x55f3('0x32c')]=0x200,_0x23c518[_0x55f3('0x32d')]=0x2,_0x23c518[_0x55f3('0x377')]('2d')),_0x3f7b83=(_0x1b0974||(this['gradientLut']=new _0x59522b[(_0x55f3('0x373'))](this[_0x55f3('0x908')])),_0x24aded[_0x55f3('0x746')](0x0,0x0,_0x23c518[_0x55f3('0x32c')],0x0)),_0x54bbdc=0x0,_0x209a15=_0xef7124[_0x55f3('0xf')];_0x54bbdc<_0x209a15;_0x54bbdc++){var _0xf542c,_0x4308ab=_0x54bbdc/_0x209a15,_0x5643c2=Math['abs'](_0xef7124[_0x54bbdc][_0x55f3('0x12')]/((_0x8f67a4-_0x269f5f)/0x2));_0x1b0974?(_0xf542c=this[_0x55f3('0x4ae')][_0x55f3('0x92e')](_0x5643c2),_0x3f7b83['addColorStop'](_0x4308ab,_0x55f3('0x92f')+0xff*_0xf542c['x']+',\x20'+0xff*_0xf542c['y']+',\x20'+0xff*_0xf542c['z']+',\x20'+_0xf542c['w']+')')):(_0xf542c=this['gradientLut']['getColor'](_0x5643c2),_0x3f7b83[_0x55f3('0x550')](_0x4308ab,'rgb('+0xff*_0xf542c['r']+',\x20'+0xff*_0xf542c['g']+',\x20'+0xff*_0xf542c['b']+')'));}return _0x24aded['fillStyle']=_0x3f7b83,_0x24aded[_0x55f3('0x554')](0x0,0x0,_0x23c518['width'],_0x23c518[_0x55f3('0x32d')]),new THREE['CanvasTexture'](_0x23c518);}},{'key':_0x55f3('0x930'),'value':function(_0xef7124){var _0x269f5f=this,_0x8f67a4=_0xef7124[_0x55f3('0x1c6')],_0x1b0974=_0xef7124[_0x55f3('0x38f')],_0x1b0974=void 0x0===_0x1b0974?0x1:_0x1b0974,_0xef7124=_0xef7124[_0x55f3('0x451')],_0x23c518=void 0x0===_0xef7124?0x0:_0xef7124;this[_0x55f3('0x4b9')]&&_0x8f67a4&&(_0x8f67a4[_0x55f3('0x33e')]=THREE['RepeatWrapping'],_0x8f67a4[_0x55f3('0x33c')]=THREE[_0x55f3('0x33d')],_0x8f67a4[_0x55f3('0xf7')]=!0x0,this[_0x55f3('0x92c')]?(this[_0x55f3('0x4b9')][_0x55f3('0x164')]['texture2'][_0x55f3('0x12')]=_0x8f67a4,this[_0x55f3('0x92c')]=!0x1):(this[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x51c')][_0x55f3('0x12')]=_0x8f67a4,this[_0x55f3('0x92c')]=!0x0),new TWEEN[(_0x55f3('0x331'))]({'x':this[_0x55f3('0x92c')]?0x1:0x0})['to']({'x':this[_0x55f3('0x92c')]?0x0:0x1},0x3e8*_0x1b0974)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x332')](function(_0xef7124){_0x269f5f[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x634')][_0x55f3('0x12')]=_0xef7124['x'],_0x23c518&&(_0x269f5f[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x451')][_0x55f3('0x12')]=THREE[_0x55f3('0x18')]['degToRad'](_0x23c518));})[_0x55f3('0x395')]());}},{'key':_0x55f3('0x2fc'),'value':function(_0xef7124){var _0x269f5f=0x1<arguments['length']&&void 0x0!==arguments[0x1]?arguments[0x1]:0x0,_0x8f67a4=this;_0xef7124[_0x55f3('0x1d5')]=!0x0,_0xef7124[_0x55f3('0x44d')]=function(_0xef7124){_0xef7124[_0x55f3('0x164')][_0x55f3('0x8fe')]={'value':!0x1},_0xef7124[_0x55f3('0x164')][_0x55f3('0x4d8')]={'value':0x0},_0xef7124[_0x55f3('0x164')][_0x55f3('0x51c')]={'value':null},_0xef7124[_0x55f3('0x164')][_0x55f3('0x687')]={'value':null},_0xef7124[_0x55f3('0x164')][_0x55f3('0x634')]={'value':0x0},_0xef7124[_0x55f3('0x164')]['rotateAngle']={'value':THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x269f5f)},_0xef7124[_0x55f3('0x57')]=_0xef7124['vertexShader']['replace']('#include\x20<uv_pars_vertex>',_0x55f3('0x931')),_0xef7124[_0x55f3('0x57')]=_0xef7124[_0x55f3('0x57')][_0x55f3('0x56')](_0x55f3('0x43c'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#include\x20<uv_vertex>\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20mat3\x20tuvMat3\x20=\x20setUvTransform(0.0,\x200.0,\x201.0,\x201.0,\x20rotateAngle,\x200.0,\x200.0);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vnUv\x20=\x20(\x20tuvMat3\x20*\x20vec3(\x20uv,\x201.\x20)\x20).xy;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20//\x20vnUv\x20=\x20vec2(uv);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'),_0xef7124[_0x55f3('0x58')]=_0xef7124[_0x55f3('0x58')][_0x55f3('0x56')]('uniform\x20float\x20opacity;',_0x55f3('0x932')),_0xef7124['fragmentShader']=_0xef7124['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0x933')),_0x8f67a4[_0x55f3('0x4b9')]=_0xef7124;};}},{'key':_0x55f3('0x8fe'),'set':function(_0xef7124){this[_0x55f3('0x4b9')]&&(this[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x8fe')][_0x55f3('0x12')]=_0xef7124);}}]),_0x269f5f[_0x55f3('0x9')]=_0x54bbdc;},function(_0x31bc19,_0x5994a0,_0xa5477d){'use strict';Object[_0x55f3('0x4')](_0x5994a0,_0x55f3('0x7'),{'value':!0x0});var _0xe338cc=_0x53d49a(_0xa5477d(0x0)),_0x521fb5=_0x53d49a(_0xa5477d(0x1));function _0x53d49a(_0x31bc19){return _0x31bc19&&_0x31bc19[_0x55f3('0x7')]?_0x31bc19:{'default':_0x31bc19};}_0xa5477d(0xaa);var _0x2e2476=0x2,_0x32916f=0x1,_0x20b8b6=0x1,_0x3a6557=0x1,_0x5aec4c=0x1,_0x1f21fd=0x1,_0xa5477d=((0x0,_0x521fb5[_0x55f3('0x9')])(_0xd2264c,[{'key':_0x55f3('0x934'),'value':function(){_0x2e2476=this['perlin']['noise'](Math[_0x55f3('0x60')](),Math[_0x55f3('0x60')]());}},{'key':_0x55f3('0x935'),'value':function(_0x31bc19){var _0x5994a0=Math[_0x55f3('0x5b')](0x0)*_0x2e2476*0.001*_0x32916f,_0xa5477d=Math[_0x55f3('0x5c')](0x0)*_0x2e2476*0.001*_0x20b8b6,_0xe338cc=Math[_0x55f3('0x5b')](0x0)*_0x2e2476*0.01*_0x3a6557,_0x521fb5=Math[_0x55f3('0x5c')](0x0)*_0x2e2476*0.01*_0x5aec4c,_0x53d49a=0.1*(this[_0x55f3('0x936')][_0x55f3('0x593')](Math[_0x55f3('0x60')](),Math[_0x55f3('0x60')]())-0.5)*_0x1f21fd;_0x31bc19[_0x55f3('0x1ef')]['z']+=_0x5994a0,_0x31bc19[_0x55f3('0x1ef')]['x']+=_0xa5477d,_0x31bc19['position']['x']+=_0xe338cc,_0x31bc19[_0x55f3('0x38')]['y']+=_0x521fb5,_0x31bc19[_0x55f3('0x38')]['z']+=_0x53d49a,_0x31bc19[_0x55f3('0x1ef')]['z']>this[_0x55f3('0x937')]?(_0x31bc19[_0x55f3('0x1ef')]['z']=this[_0x55f3('0x937')],_0x32916f=-0x1):_0x31bc19['rotation']['z']<-this[_0x55f3('0x937')]&&(_0x31bc19[_0x55f3('0x1ef')]['z']=-this[_0x55f3('0x937')],_0x32916f=0x1),_0x31bc19[_0x55f3('0x1ef')]['x']>this['maxAngle']?(_0x31bc19[_0x55f3('0x1ef')]['x']=this[_0x55f3('0x937')],_0x20b8b6=-0x1):_0x31bc19[_0x55f3('0x1ef')]['x']<-this['maxAngle']&&(_0x31bc19[_0x55f3('0x1ef')]['x']=-this[_0x55f3('0x937')],_0x20b8b6=0x1),_0x31bc19['position']['x']>this[_0x55f3('0x938')]?(_0x31bc19[_0x55f3('0x38')]['x']=this[_0x55f3('0x938')],_0x3a6557=-0x1):_0x31bc19[_0x55f3('0x38')]['x']<-this[_0x55f3('0x938')]&&(_0x31bc19[_0x55f3('0x38')]['x']=-this[_0x55f3('0x938')],_0x3a6557=0x1),_0x31bc19[_0x55f3('0x38')]['y']>this['maxHeave']?(_0x31bc19[_0x55f3('0x38')]['y']=this['maxHeave']+this['offsetHeight'],_0x1f21fd=-0x1):_0x31bc19[_0x55f3('0x38')]['y']<-this[_0x55f3('0x939')]&&(_0x31bc19[_0x55f3('0x38')]['y']=-this['maxHeave']+this[_0x55f3('0x521')],_0x1f21fd=0x1),_0x31bc19['position']['z']>this[_0x55f3('0x93a')]?(_0x31bc19[_0x55f3('0x38')]['z']=this['maxSway'],_0x5aec4c=-0x1):_0x31bc19[_0x55f3('0x38')]['z']<-this[_0x55f3('0x93a')]&&(_0x31bc19['position']['z']=-this['maxSway'],_0x5aec4c=0x1);}},{'key':'playAnimate','value':function(_0x31bc19){var _0x5994a0=0.001*Date['now'](),_0xa5477d=(_0x31bc19[_0x55f3('0x38')]['y']=this[_0x55f3('0x521')]+0x2*Math['sin'](_0x5994a0),THREE[_0x55f3('0x18')]['degToRad'](0x2d)),_0xa5477d=new THREE[(_0x55f3('0x5a'))](Math[_0x55f3('0x5c')](_0xa5477d),0x0,Math[_0x55f3('0x5b')](_0xa5477d));_0x31bc19[_0x55f3('0x38')][_0x55f3('0x1c3')](_0xa5477d[_0x55f3('0x1c1')](0.02*Math[_0x55f3('0x5b')](_0x5994a0)));}},{'key':_0x55f3('0x2f8'),'value':function(){this[_0x55f3('0x93b')]&&this[_0x55f3('0x93c')](this[_0x55f3('0x93b')]);}}]),_0xd2264c);function _0xd2264c(_0x31bc19){var _0x5994a0=_0x31bc19[_0x55f3('0x93b')],_0x31bc19=_0x31bc19[_0x55f3('0x521')],_0x31bc19=void 0x0===_0x31bc19?0x0:_0x31bc19;(0x0,_0xe338cc[_0x55f3('0x9')])(this,_0xd2264c),this[_0x55f3('0x93b')]=_0x5994a0,this[_0x55f3('0x521')]=_0x31bc19,this[_0x55f3('0x937')]=Math['PI']/0x3c,this[_0x55f3('0x938')]=0x5,this[_0x55f3('0x93a')]=0x5,this[_0x55f3('0x939')]=0x5,this['perlin']=new THREE[(_0x55f3('0x58c'))](),this[_0x55f3('0x934')]();}_0x5994a0[_0x55f3('0x9')]=_0xa5477d;},function(_0x2071a9,_0x4d8dd6,_0x504b52){'use strict';Object['defineProperty'](_0x4d8dd6,_0x55f3('0x7'),{'value':!0x0}),_0x4d8dd6[_0x55f3('0x5f6')]={'CylinderFloatMarker':{'texture':_0x55f3('0x93d')},'CircleRotateYMarker':{'texture':_0x55f3('0x93e')},'PointsLine':{'texture':_0x55f3('0x93f')},'Points':{'texture':_0x55f3('0x93f')},'CircleRippleMarker':{'texture':'images/out_light4.png'},'CylinderSpreadMarker':{'texture':'images/scale1.png'},'ConeSpreadMarker':{'texture':_0x55f3('0x940'),'alphaTexture':'images/building/opacity.png'},'NumberUpParticle':{'texture':'images/number/fly0101_03.png','alphaTexture':'images/alpha_gradient.png'},'ExtentWallMarker':{'texture':_0x55f3('0x940')},'SphereSpreadMarker':{'texture':'images/scan/bloom_line2.png','coneTexture':_0x55f3('0x941')},'FireSmokeMarker':{'innerTexture':_0x55f3('0x942'),'outTexture':_0x55f3('0x943')},'FireMarker':{'texture':_0x55f3('0x944')},'SmokeMarker':{'texture':'images/fire/inner_fire.png'},'ExplosionMarker':{'smokeTex':'images/explosion/smokeparticle.png','explosionTex':_0x55f3('0x945')},'WaterSpreadMarker':{'texture':'images/water/smokeparticle.png'},'FloatPointsMarker':{'texture':_0x55f3('0x93f')},'UpLine':{'texture':_0x55f3('0x946')},'MulripleMeshLine':{'texture':_0x55f3('0x947')}};},function(_0x58a398,_0x1d64a5,_0x1638a4){'use strict';Object[_0x55f3('0x4')](_0x1d64a5,'__esModule',{'value':!0x0}),_0x1d64a5[_0x55f3('0x9')]=function(_0x58a398){for(var _0x1d64a5 in _0x56f001[_0x55f3('0x27e')])if(_0x58a398===_0x56f001['ESMarkerType'][_0x1d64a5])return esmap['ESMapUtil'][_0x55f3('0x948')](0x2)>=_0x56f001[_0x55f3('0x27d')][_0x1d64a5]||_0x1d64a5;};var _0x56f001=_0x1638a4(0x58);},function(_0x5c3d4d,_0x26fe7d,_0x2c9bbe){'use strict';Object[_0x55f3('0x4')](_0x26fe7d,_0x55f3('0x7'),{'value':!0x0});var _0x14260b,_0x407c62,_0x245e21,_0x2e458d,_0x3db0b8,_0x3fb634,_0x15ca68,_0x2e5bb6,_0x26c11c,_0x29e23d,_0x27601d,_0x46d082,_0x2a7c75,_0x1d7229,_0x41756d,_0x1c6ac6,_0x2ef932,_0x99ea1e,_0x5ffd1a=_0x30c92a(_0x2c9bbe(0x12)),_0x103afb=_0x30c92a(_0x2c9bbe(0x3e)),_0x5f4091=_0x30c92a(_0x2c9bbe(0x4)),_0x3e4ed1=_0x2c9bbe(0x17),_0x12bc46=_0x2c9bbe(0x87),_0xbc7d76=_0x2c9bbe(0x58),_0x45a7ab=_0x30c92a(_0x2c9bbe(0xf4)),_0x36f24a=_0x30c92a(_0x2c9bbe(0x124)),_0x5c17f5=(_0x30c92a(_0x2c9bbe(0x84)),_0x30c92a(_0x2c9bbe(0x125))),_0x2b96c8=_0x30c92a(_0x2c9bbe(0x127)),_0x13bfe7=_0x30c92a(_0x2c9bbe(0x128)),_0x37ae0d=_0x30c92a(_0x2c9bbe(0x129)),_0x3946de=_0x30c92a(_0x2c9bbe(0x12a)),_0x31092e=_0x2c9bbe(0x2b),_0x2c9bbe=_0x2c9bbe(0x85);function _0x30c92a(_0x26fe7d){return _0x26fe7d&&_0x26fe7d['__esModule']?_0x26fe7d:{'default':_0x26fe7d};}function _0x525d0f(){}function _0x31e122(_0x26fe7d,_0x2c9bbe,_0x15ca68){var _0x46d082=_0x26fe7d,_0x41756d=_0x26fe7d['mapId'];if(_0x41756d&&_0x2c9bbe[_0x55f3('0x949')]){_0x99ea1e||(_0x99ea1e=new esmap['ESEffectTool'][(_0x55f3('0x94a'))](_0x55f3('0x94b'),esmap[_0x55f3('0x5d5')][_0x55f3('0x5d4')]),esmap['ESEffectTool'][_0x55f3('0x94c')](_0x99ea1e),_0x99ea1e[_0x55f3('0x94d')]=[]);_0x26fe7d=_0x14260b[_0x55f3('0x94e')][_0x55f3('0x94f')][_0x41756d];if(_0x26fe7d){var _0x45a7ab=!0x0,_0x36f24a=!0x0,_0x2c9bbe=!0x1,_0x1d7229=void 0x0;try{for(var _0x1c6ac6,_0x2ef932=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x99ea1e[_0x55f3('0x94d')]);!(_0x36f24a=(_0x1c6ac6=_0x2ef932['next']())[_0x55f3('0x269')]);_0x36f24a=!0x0)if(_0x1c6ac6[_0x55f3('0x12')]===_0x41756d){_0x45a7ab=!0x1;break;}}catch(_0x30c4d3){_0x2c9bbe=!0x0,_0x1d7229=_0x30c4d3;}finally{try{!_0x36f24a&&_0x2ef932[_0x55f3('0x271')]&&_0x2ef932[_0x55f3('0x271')]();}finally{if(_0x2c9bbe)throw _0x1d7229;}}_0x2c9bbe=_0x15ca68||_0x46d082['o3d_'][_0x55f3('0x63f')],_0x45a7ab&&(_0x1d7229=_0x2c9bbe[_0x55f3('0x950')][_0x55f3('0x951')]['max']['y']-_0x2c9bbe[_0x55f3('0x950')]['box3']['min']['y'],_0x15ca68=Math[_0x55f3('0x1b8')](_0x2c9bbe[_0x55f3('0x950')][_0x55f3('0x951')][_0x55f3('0xf2')]['x']-_0x2c9bbe[_0x55f3('0x950')]['box3'][_0x55f3('0x8c')]['x']),_0x2c9bbe=Math[_0x55f3('0x1b8')](_0x2c9bbe['modelinfo'][_0x55f3('0x951')][_0x55f3('0xf2')]['z']-_0x2c9bbe[_0x55f3('0x950')][_0x55f3('0x951')][_0x55f3('0x8c')]['z']),_0x15ca68=0.05*Math['sqrt'](_0x15ca68*_0x15ca68+_0x2c9bbe*_0x2c9bbe),(_0x2c9bbe=new esmap[(_0x55f3('0x4e'))]['EffectMarker'](esmap[_0x55f3('0x27e')][_0x55f3('0x639')],{'x':_0x26fe7d['x'],'y':_0x26fe7d['y'],'height':_0x1d7229+0x4*_0x15ca68,'radius':Math[_0x55f3('0x8c')](0xa,_0x15ca68),'showLevel':12.5}))[_0x55f3('0x8b')]=_0x41756d,_0x2c9bbe['tileId']=_0x46d082[_0x55f3('0x65c')],_0x2c9bbe[_0x55f3('0x5e9')][_0x55f3('0x8b')]=_0x55f3('0x674'),_0x2c9bbe[_0x55f3('0x5e9')][_0x55f3('0x3d')]={'buildingId':_0x41756d,'isOpen':!0x1},_0x14260b['mapPicker'][_0x55f3('0x952')](_0x2c9bbe['o3d_']),_0x99ea1e[_0x55f3('0x5f0')](_0x2c9bbe),_0x99ea1e['mapIds']['push'](_0x41756d));}}}function _0x257a9d(_0x26fe7d,_0x2c9bbe){var _0x15ca68;!_0x3fb634||esmap['ESTileMap']&&esmap['ESTileMap'][_0x55f3('0x953')]||(esmap[_0x55f3('0x954')]&&!esmap[_0x55f3('0x954')][_0x55f3('0x953')]?esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x955')]&&_0x26fe7d&&_0x26fe7d['shadow']&&(_0x2c9bbe&&_0x26fe7d[_0x55f3('0x956')]['static']||(_0x15ca68=_0x14260b['mapView'][_0x26fe7d[_0x55f3('0x956')][_0x55f3('0x957')]],_0x2e458d['shadow'][_0x55f3('0x958')](_0x15ca68,_0x26fe7d['shadow'],_0x46d082))):esmap['ESEffectTool']['options'][_0x55f3('0x955')]&&_0x26fe7d&&_0x26fe7d[_0x55f3('0x956')]&&(_0x2c9bbe&&_0x26fe7d['shadow'][_0x55f3('0x22a')]||(_0x15ca68=_0x14260b[_0x55f3('0x41b')][_0x26fe7d[_0x55f3('0x956')][_0x55f3('0x957')]],_0x2e458d[_0x55f3('0x956')][_0x55f3('0x958')](_0x15ca68,_0x26fe7d[_0x55f3('0x956')],_0x46d082))));}function _0xa83c37(_0x26fe7d){_0x1c6ac6[_0x55f3('0x959')]&&_0x1c6ac6[_0x55f3('0x95a')]&&_0x3fbcf8(_0x26fe7d,_0x14260b['id']);}function _0x1e3cc0(_0x26fe7d,_0x2c9bbe){if(_0x245e21[_0x55f3('0x949')]&&_0x99ea1e&&0x0<_0x99ea1e[_0x55f3('0x322')][_0x55f3('0xf')]){var _0x15ca68=!0x0,_0x46d082=!0x1,_0x41756d=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091['default'])(_0x99ea1e['children']);!(_0x15ca68=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x15ca68=!0x0){var _0x1d7229=_0x45a7ab[_0x55f3('0x12')];if(_0x1d7229[_0x55f3('0x8b')]===_0x26fe7d){_0x1d7229[_0x55f3('0x678')]=!_0x2c9bbe,_0x1d7229['visible']=_0x2c9bbe;break;}}}catch(_0x3cb581){_0x46d082=!0x0,_0x41756d=_0x3cb581;}finally{try{!_0x15ca68&&_0x36f24a['return']&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x46d082)throw _0x41756d;}}}}function _0x3fbcf8(_0x46d082,_0x26fe7d){if(_0x26fe7d=_0x26fe7d||{},!_0x3fb634){if(_0x26c11c||(_0x14260b[_0x55f3('0x95b')]=function(){(_0x26c11c=_0x26c11c||new _0x5c17f5[(_0x55f3('0x9'))](_0x14260b))[_0x55f3('0x95c')]();},_0x14260b[_0x55f3('0x95d')]=function(){_0x26c11c['removeControls']();}),_0x29e23d||(_0x14260b['createMiniMap']=function(_0x26fe7d){(_0x29e23d=_0x29e23d||new _0x2b96c8[(_0x55f3('0x9'))](_0x14260b))[_0x55f3('0x8')](_0x26fe7d);}),_0x46d082[_0x55f3('0x95e')]){if(_0x407c62[_0x55f3('0x95f')]&&(_0x407c62[_0x55f3('0x95f')]['isEnv']=!0x0,_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x961')],'configs':_0x407c62[_0x55f3('0x95f')]})),Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x962')])){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x407c62[_0x55f3('0x962')]);!(_0x2c9bbe=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2c9bbe=!0x0){var _0x1d7229=_0x45a7ab['value'];(0x0,_0x3e4ed1['getOutdoorBuildingTheme'])(_0x1d7229['roomStyle'],0x0)&&(_0x1d7229[_0x55f3('0x963')]&&(_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x964')]=_0x407c62[_0x55f3('0x965')]),_0x1d7229[_0x55f3('0x966')]&&(_0x1d7229['topImg']=(0x0,_0x3e4ed1['getConfigAssetsPath'])(_0x1d7229[_0x55f3('0x966')])),_0x1d7229['sideImg']&&(_0x1d7229[_0x55f3('0x967')]=(0x0,_0x3e4ed1['getConfigAssetsPath'])(_0x1d7229['sideImg'])),_0x1d7229['colorImg']&&(_0x1d7229[_0x55f3('0x968')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x1d7229['colorImg'])),_0x1d7229['extentEffect']&&_0x1d7229['extentEffect'][_0x55f3('0x4a6')]&&(_0x1d7229['extentEffect'][_0x55f3('0x4a6')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x1d7229[_0x55f3('0x969')][_0x55f3('0x4a6')])),_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x96a')],'configs':_0x1d7229}));}}catch(_0x24cd49){_0x15ca68=!0x0,_0x41756d=_0x24cd49;}finally{try{!_0x2c9bbe&&_0x36f24a['return']&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x41756d;}}if(0x0<_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x96b')]['length']){var _0x1c6ac6=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x2ef932,_0x99ea1e=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2e458d[_0x55f3('0x5d8')]['buildingsThemes']);!(_0x1c6ac6=(_0x2ef932=_0x99ea1e[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1c6ac6=!0x0){var _0x5ffd1a=_0x2ef932[_0x55f3('0x12')];_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x96c')](_0x26fe7d,_0x5ffd1a);}}catch(_0x4c1d55){_0x15ca68=!0x0,_0x41756d=_0x4c1d55;}finally{try{!_0x1c6ac6&&_0x99ea1e['return']&&_0x99ea1e['return']();}finally{if(_0x15ca68)throw _0x41756d;}}}}if(Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x96d')])){var _0x103afb=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x30c92a,_0x525d0f=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x407c62['tileRoomEffect']);!(_0x103afb=(_0x30c92a=_0x525d0f['next']())[_0x55f3('0x269')]);_0x103afb=!0x0){var _0x31e122=_0x30c92a[_0x55f3('0x12')];_0x31e122[_0x55f3('0x963')]&&(_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x964')]=_0x407c62[_0x55f3('0x965')]),_0x31e122[_0x55f3('0x966')]&&(_0x31e122[_0x55f3('0x966')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122[_0x55f3('0x966')])),_0x31e122['sideImg']&&(_0x31e122['sideImg']=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122['sideImg'])),_0x31e122[_0x55f3('0x968')]&&(_0x31e122['colorImg']=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122[_0x55f3('0x968')])),_0x31e122[_0x55f3('0x969')]&&_0x31e122[_0x55f3('0x969')][_0x55f3('0x4a6')]&&(_0x31e122['extentEffect'][_0x55f3('0x4a6')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122[_0x55f3('0x969')]['gradientImg'])),_0x31e122[_0x55f3('0x96e')]&&(_0x31e122[_0x55f3('0x96e')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122[_0x55f3('0x96e')])),_0x31e122['screenSky']&&_0x31e122['screenSky'][_0x55f3('0x96f')]&&(_0x31e122[_0x55f3('0x970')]['skyImg']=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x31e122[_0x55f3('0x970')]['skyImg'])),_0x31e122['isTileBuilding']=!0x0,_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x96a')],'configs':_0x31e122});}}catch(_0x47c78c){_0x15ca68=!0x0,_0x41756d=_0x47c78c;}finally{try{!_0x103afb&&_0x525d0f[_0x55f3('0x271')]&&_0x525d0f['return']();}finally{if(_0x15ca68)throw _0x41756d;}}}_0x407c62[_0x55f3('0x64')]&&_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')]['Floors'],'configs':_0x407c62[_0x55f3('0x64')]}),_0x407c62['floors']&&_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x971')],'configs':_0x407c62[_0x55f3('0x5d9')]}),_0x407c62[_0x55f3('0x972')]&&(_0x407c62[_0x55f3('0x972')]['isPointLight']=!0x0,_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x961')],'configs':_0x407c62[_0x55f3('0x972')]})),_0x407c62[_0x55f3('0x973')]&&esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x974')]&&(_0x407c62[_0x55f3('0x973')][_0x55f3('0x975')]=!0x0,_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76['ESEffectsConstant'][_0x55f3('0x961')],'configs':_0x407c62['directLight']})),_0x407c62[_0x55f3('0x976')]&&esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x974')]&&(_0x407c62['ambientLight'][_0x55f3('0x977')]=!0x0,_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')]['Lights'],'configs':_0x407c62[_0x55f3('0x976')]}));}if(_0x46d082[_0x55f3('0x978')]&&_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0xc7')],'configs':_0x407c62[_0x55f3('0x5dc')]}),_0x46d082['isShowWater']&&0x0<=_0x2a7c75&&Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x5dd')])){var _0xa83c37=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x12bc46,_0x1e3cc0=(0x0,_0x5f4091['default'])(_0x407c62['water']);!(_0xa83c37=(_0x12bc46=_0x1e3cc0['next']())[_0x55f3('0x269')]);_0xa83c37=!0x0){var _0x3fbcf8=_0x12bc46[_0x55f3('0x12')];((0x0,_0x3e4ed1[_0x55f3('0x979')])(_0x3fbcf8['roomStyle'])||_0x3fbcf8['type'])&&_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76['ESEffectsConstant']['Water'],'configs':_0x3fbcf8});}}catch(_0x170fa1){_0x15ca68=!0x0,_0x41756d=_0x170fa1;}finally{try{!_0xa83c37&&_0x1e3cc0[_0x55f3('0x271')]&&_0x1e3cc0[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x41756d;}}}if(_0x46d082['isShowGround']&&0x0<=_0x2a7c75&&Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x97a')])){var _0x5c3d4d=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x13bfe7,_0x37ae0d=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x407c62[_0x55f3('0x97a')]);!(_0x5c3d4d=(_0x13bfe7=_0x37ae0d['next']())['done']);_0x5c3d4d=!0x0){var _0x3946de=_0x13bfe7[_0x55f3('0x12')];(0x0,_0x3e4ed1['getOutdoorBuildingTheme'])(_0x3946de[_0x55f3('0x3b')],0x0)&&(_0x3946de[_0x55f3('0x97b')]&&(_0x3946de[_0x55f3('0x97b')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x3946de[_0x55f3('0x97b')])),_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')]['Ground'],'configs':_0x3946de})),_0x3946de['floorNum']&&(_0x3946de[_0x55f3('0x97b')]&&(_0x3946de[_0x55f3('0x97b')]=(0x0,_0x3e4ed1[_0x55f3('0x29')])(_0x3946de[_0x55f3('0x97b')])),_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x97c')],'configs':_0x3946de}));}}catch(_0x49a56b){_0x15ca68=!0x0,_0x41756d=_0x49a56b;}finally{try{!_0x5c3d4d&&_0x37ae0d[_0x55f3('0x271')]&&_0x37ae0d[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x41756d;}}}_0x46d082['isSetModelEffect']&&0x1<=_0x2a7c75&&Array['isArray'](_0x407c62[_0x55f3('0x97d')])&&(_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x97e')]=_0x407c62['models']),_0x407c62[_0x55f3('0x956')]&&0x1<=_0x2a7c75&&_0x2e458d[_0x55f3('0x956')]['preInit'](_0x407c62['shadow']),_0x407c62[_0x55f3('0x1e8')]&&_0x2e458d[_0x55f3('0x960')]({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x97f')],'configs':_0x407c62[_0x55f3('0x1e8')]}),_0x46d082[_0x55f3('0x55d')]&&_0x407c62[_0x55f3('0x980')]&&0x1<=_0x2a7c75&&(_0x15ca68=!0x1,(_0x41756d=esmap[_0x55f3('0x36')][_0x55f3('0x981')]())[_0x55f3('0x982')]&&(_0x15ca68=!0x0),!_0x41756d[_0x55f3('0x983')]&&_0x41756d[_0x55f3('0x984')]&&0x0<=[_0x55f3('0x985'),_0x55f3('0x986'),_0x55f3('0x987')][_0x55f3('0x4b')](_0x41756d[_0x55f3('0x984')])&&(_0x15ca68=!0x0),(_0x15ca68=!_0x41756d[_0x55f3('0x983')]&&_0x55f3('0x988')==_0x41756d[_0x55f3('0x984')]||_0x15ca68)?(_0x14260b[_0x55f3('0x46')][_0x55f3('0x989')]=!0x0,_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')][_0x55f3('0x98a')],'configs':_0x407c62[_0x55f3('0x980')]})):console[_0x55f3('0xda')](_0x55f3('0x98b'))),_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x98c')](_0x407c62),(_0x245e21[_0x55f3('0x955')]||_0x2e458d[_0x55f3('0x98d')]['enabled'])&&(_0x41756d=(0x0,_0x3e4ed1[_0x55f3('0x2f')])()?_0x55f3('0x98e'):_0x55f3('0x98f'),_0x14260b[_0x55f3('0x5c8')](_0x41756d,function(_0x26fe7d){var _0x2c9bbe,_0x15ca68=_0x46d082;_0x15ca68[_0x55f3('0x990')]?'high'===_0x15ca68[_0x55f3('0x990')]?(_0x2e458d[_0x55f3('0x956')][_0x55f3('0x555')]&&(_0x14260b['mapView']['renderer']['shadowMap']['enabled']=!0x0,_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')]['needsUpdate']=!0x0),_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x555')]&&_0x2e458d[_0x55f3('0x98d')]['screenEffect'][_0x55f3('0x86c')](0x2),_0x20956e(),console[_0x55f3('0xda')]('%c\x20effect\x20quality:\x20'+esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x990')],'color:#66ccff;')):_0x55f3('0x992')===_0x15ca68[_0x55f3('0x990')]?(_0x2e458d['shadow'][_0x55f3('0x555')]&&(_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x14260b[_0x55f3('0x41b')]['renderer']['shadowMap'][_0x55f3('0xf7')]=!0x0),_0x2e458d[_0x55f3('0x98d')]['enabled']&&_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')][_0x55f3('0x86c')](1.5),_0x20956e(),console[_0x55f3('0xda')](_0x55f3('0x993')+esmap[_0x55f3('0x4e')][_0x55f3('0x46')]['effectQuality'],_0x55f3('0x994'))):'low'===_0x15ca68[_0x55f3('0x990')]&&(_0x2e458d[_0x55f3('0x956')]['enabled']&&(_0x14260b['mapView']['renderer'][_0x55f3('0x991')][_0x55f3('0x555')]=!0x1,_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0),_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x555')]&&_0x2e458d['postProcessing']['screenEffect'][_0x55f3('0x86c')](0x1),console[_0x55f3('0xda')](_0x55f3('0x993')+esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x990')],_0x55f3('0x994'))):(_0x20956e(),_0x27601d[_0x55f3('0x995')](0xf)[_0x55f3('0x341')](function(){_0x27601d['checkIsInLowDevice'](0x3c,!0x0);}),_0x2c9bbe=esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x996')],_0x27601d[_0x55f3('0x2cc')](_0x55f3('0x997'),function(_0x26fe7d){_0x26fe7d[_0x55f3('0x2e8')]&&(_0x26fe7d[_0x55f3('0x2e8')]<=0x5&&!_0x2c9bbe?(_0x2e458d[_0x55f3('0x956')]['enabled']&&(_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x1,_0x14260b['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0,Math['floor'](_0x26fe7d[_0x55f3('0x2e8')])),_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x555')]&&(_0x14260b['options']['closeComposer']=!0x1,Math[_0x55f3('0x64')](_0x26fe7d[_0x55f3('0x2e8')])),esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x990')]=_0x55f3('0x70')):0x5<_0x26fe7d[_0x55f3('0x2e8')]&&_0x26fe7d[_0x55f3('0x2e8')]<=0x14&&(_0x55f3('0x998')!=_0x2c9bbe||_0x55f3('0x992')!=_0x2c9bbe)?(_0x2e458d['shadow'][_0x55f3('0x555')]&&!_0x2e458d[_0x55f3('0x956')][_0x55f3('0x999')]&&(_0x14260b['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x14260b['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0),_0x2e458d['postProcessing']['enabled']&&(_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')][_0x55f3('0x86c')](0x1),Math[_0x55f3('0x64')](_0x26fe7d[_0x55f3('0x2e8')])),esmap['ESEffectTool'][_0x55f3('0x46')]['effectQuality']=_0x55f3('0x99a')):0x14<_0x26fe7d[_0x55f3('0x2e8')]&&_0x26fe7d[_0x55f3('0x2e8')]<=0x1e&&_0x55f3('0x998')!=_0x2c9bbe?(_0x2e458d[_0x55f3('0x956')]['enabled']&&!_0x2e458d['shadow'][_0x55f3('0x999')]&&(_0x14260b['mapView']['renderer'][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0),_0x2e458d[_0x55f3('0x98d')]['enabled']&&(_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')][_0x55f3('0x86c')](1.5),Math[_0x55f3('0x64')](_0x26fe7d['fps'])),esmap[_0x55f3('0x4e')][_0x55f3('0x46')]['effectQuality']=_0x55f3('0x992')):0x1e<_0x26fe7d[_0x55f3('0x2e8')]&&(_0x2e458d['shadow'][_0x55f3('0x555')]&&!_0x2e458d[_0x55f3('0x956')]['isLockShadowVisible']&&(_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x14260b['mapView']['renderer']['shadowMap'][_0x55f3('0xf7')]=!0x0),_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x555')]&&(_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')][_0x55f3('0x86c')](0x2),Math[_0x55f3('0x64')](_0x26fe7d[_0x55f3('0x2e8')])),esmap[_0x55f3('0x4e')][_0x55f3('0x46')]['effectQuality']=_0x55f3('0x998')),_0x2e5bb6||console[_0x55f3('0xda')](_0x55f3('0x993')+esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x990')],_0x55f3('0x994'))),_0x2e5bb6=!0x0;})),_0x257a9d(_0x407c62);})),_0x2e458d['isCanRender']=!0x0,_0x3db0b8[_0x55f3('0x99b')]=!0x0,esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(esmap[_0x55f3('0x99c')]=_0x2e458d),esmap[_0x55f3('0x28')]['IsMapLoading']?_0x14260b[_0x55f3('0x5c8')](_0x55f3('0x99d'),function(){_0x3fb634=!0x0,esmap[_0x55f3('0x4e')][_0x55f3('0x5e3')]=!0x0,_0x14260b['fire']&&_0x14260b['fire'](_0x55f3('0x99e')),_0x14260b[_0x55f3('0x41b')][_0x55f3('0x99f')]();}):(_0x3fb634=!0x0,esmap[_0x55f3('0x4e')]['isInitComplete']=!0x0,_0x14260b[_0x55f3('0x28d')]&&_0x14260b[_0x55f3('0x28d')](_0x55f3('0x99e')),_0x14260b[_0x55f3('0x41b')][_0x55f3('0x99f')]());}}function _0x20956e(){var _0x26fe7d;esmap[_0x55f3('0x954')]&&esmap[_0x55f3('0x954')][_0x55f3('0x953')]||_0x245e21['isShowShadow']&&_0x407c62[_0x55f3('0x956')]&&0x1<=_0x2a7c75&&(_0x26fe7d=!0x1,(_0x26fe7d=!!esmap[_0x55f3('0x36')]['getPlatform']()[_0x55f3('0x982')]||_0x26fe7d)&&_0x2e458d['addEffect']({'type':_0xbc7d76[_0x55f3('0x2bf')]['Shadow'],'configs':_0x407c62['shadow']}));}_0x14260b=(0x0,_0x3e4ed1[_0x55f3('0x2c')])(),_0x245e21=_0x407c62=null,_0x2e458d=new _0x45a7ab[(_0x55f3('0x9'))](),_0x3db0b8=new _0x36f24a['default'](),_0x2e5bb6=_0x15ca68=_0x3fb634=!0x1,_0x29e23d=_0x26c11c=null,_0x27601d=new _0x13bfe7[(_0x55f3('0x9'))](),_0x46d082=new THREE[(_0x55f3('0x5a'))](),_0x1d7229=null,_0x1c6ac6={'json':_0x41756d=!(_0x2a7c75=0x9),'preload':!0x1},_0x2ef932=[],esmap[_0x55f3('0x9a0')]=_0x12bc46[_0x55f3('0x403')],esmap[_0x55f3('0x9a1')]=THREE['FileLoader'],esmap[_0x55f3('0x9a2')]=_0x31092e[_0x55f3('0x7e')],esmap['pointsSegement']=_0x2c9bbe[_0x55f3('0x39e')],_0x99ea1e=null,_0x525d0f[_0x55f3('0x35b')]=function(){var _0x36f24a,_0x41756d=0x0<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{},_0x45a7ab=JSON['parse']((0x0,_0x103afb['default'])(_0x41756d)),_0x26fe7d=(_0x41756d=(0x0,_0x5ffd1a['default'])({'loadRoads':!0x0,'showRoads':!0x1,'isUseEffectLights':!0x0,'isSetRoomEffect':!0x0,'isShowSkybox':!0x0,'isShowGround':!0x1,'isShowShadow':!0x1,'isSetModelEffect':!0x0,'isOpenScreenEffect':!0x1,'isCloseFpsDetection':!0x1,'isTileRouteShine':!0x1,'isChangeTileRoute':!0x1,'minFpsLimit':0x14,'effectQuality':null,'minEffectQuality':null,'isShowBuildingTip':!0x0,'isEsmapV':!0x1},_0x41756d),_0x2e458d['init'](),(_0x245e21=_0x41756d)[_0x55f3('0x54')]+'/'+_0x41756d[_0x55f3('0x42')]+'/');esmap[_0x55f3('0x4e')][_0x55f3('0x4f')]=_0x26fe7d,esmap[_0x55f3('0x4e')][_0x55f3('0x55')]=null,esmap[_0x55f3('0x4e')][_0x55f3('0x46')]=_0x41756d,(0x0,_0x3e4ed1[_0x55f3('0x2f')])()||(esmap[_0x55f3('0x4e')][_0x55f3('0x4d')]=null),_0x14260b=(0x0,_0x3e4ed1[_0x55f3('0x2c')])(),_0x41756d[_0x55f3('0x9a3')],_0x41756d['showRoads']&&(_0x36f24a=!0x0,esmap['ESEffectTool'][_0x55f3('0x9a4')]||Object[_0x55f3('0x4')](esmap[_0x55f3('0x4e')],_0x55f3('0x9a4'),{'get':function(){return _0x36f24a;},'set':function(_0x26fe7d){if(0x0<_0x2e458d[_0x55f3('0x5db')]['routesMarkers'][_0x55f3('0xf')]){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091['default'])(_0x2e458d[_0x55f3('0x5db')][_0x55f3('0x9a5')]);!(_0x2c9bbe=(_0x41756d=_0x45a7ab['next']())[_0x55f3('0x269')]);_0x2c9bbe=!0x0)_0x41756d['value']['object3d'][_0x55f3('0x338')]=_0x26fe7d;}catch(_0x24d5e1){_0x15ca68=!0x0,_0x46d082=_0x24d5e1;}finally{try{!_0x2c9bbe&&_0x45a7ab['return']&&_0x45a7ab['return']();}finally{if(_0x15ca68)throw _0x46d082;}}}_0x36f24a=_0x26fe7d;}})),esmap[_0x55f3('0x4e')]&&(esmap[_0x55f3('0x4e')]['isExecuteInit']=!0x0),_0x14260b['on'](_0x55f3('0x9a6'),function(_0x26fe7d){}),_0x14260b['on'](_0x55f3('0x9a7'),function(_0x26fe7d){if(0x0<_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9a8')][_0x55f3('0xf')]&&_0x245e21[_0x55f3('0x95e')]){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2e458d[_0x55f3('0x5d8')]['tileBuilidngThemes']);!(_0x2c9bbe=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())['done']);_0x2c9bbe=!0x0){var _0x36f24a=_0x41756d[_0x55f3('0x12')];_0x36f24a[_0x55f3('0x6ae')]||(_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9a9')](_0x36f24a),_0x36f24a[_0x55f3('0x6ae')]=!0x0);}}catch(_0x1a35c9){_0x15ca68=!0x0,_0x46d082=_0x1a35c9;}finally{try{!_0x2c9bbe&&_0x45a7ab['return']&&_0x45a7ab['return']();}finally{if(_0x15ca68)throw _0x46d082;}}}_0x245e21[_0x55f3('0x465')]&&_0x407c62&&_0x2e458d[_0x55f3('0x5dd')][_0x55f3('0x9aa')](_0x407c62);}),_0x14260b['on']('tileLoadComplete',function(_0x26fe7d){if(0x0<_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9a8')][_0x55f3('0xf')]&&_0x245e21['isSetRoomEffect']){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9a8')]);!(_0x2c9bbe=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2c9bbe=!0x0){var _0x36f24a=_0x41756d[_0x55f3('0x12')];_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9ab')](_0x26fe7d['id'],_0x36f24a);}}catch(_0x47b910){_0x15ca68=!0x0,_0x46d082=_0x47b910;}finally{try{!_0x2c9bbe&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab['return']();}finally{if(_0x15ca68)throw _0x46d082;}}}}),_0x14260b['on']('navLoaded',function(_0x26fe7d){}),_0x14260b['on'](_0x55f3('0x9ac'),function(_0x26fe7d){}),_0x14260b['on'](_0x55f3('0x9ad'),function(_0x26fe7d){if(_0x26fe7d[_0x55f3('0x65c')]===_0x14260b['id']){var _0x2c9bbe,_0x15ca68=_0x26fe7d['data'][_0x55f3('0x9ae')]||{};for(_0x2c9bbe in _0x15ca68=function(_0x26fe7d){if(null==_0x26fe7d)throw new TypeError(_0x55f3('0x9af'));for(var _0x15ca68=Object(_0x26fe7d),_0x2c9bbe=arguments['length'],_0x46d082=Array(0x1<_0x2c9bbe?_0x2c9bbe-0x1:0x0),_0x41756d=0x1;_0x41756d<_0x2c9bbe;_0x41756d++)_0x46d082[_0x41756d-0x1]=arguments[_0x41756d];return _0x46d082[_0x55f3('0x2e3')](function(_0x26fe7d){if(null!=_0x26fe7d)for(var _0x2c9bbe in _0x26fe7d)Object['prototype'][_0x55f3('0xc')][_0x55f3('0x1')](_0x26fe7d,_0x2c9bbe)&&(_0x15ca68[_0x2c9bbe]=_0x26fe7d[_0x2c9bbe]);}),_0x15ca68;}(_0x41756d,_0x15ca68))void 0x0!==_0x45a7ab[_0x2c9bbe]&&_0x45a7ab[_0x2c9bbe]!==_0x15ca68[_0x2c9bbe]&&(_0x15ca68[_0x2c9bbe]=_0x45a7ab[_0x2c9bbe]);if(_0x26fe7d[_0x55f3('0x2c0')][_0x55f3('0x9ae')]&&_0x26fe7d[_0x55f3('0x2c0')][_0x55f3('0x9ae')][_0x55f3('0x42')]&&(_0x14260b[_0x55f3('0x40')]=_0x26fe7d[_0x55f3('0x2c0')][_0x55f3('0x9ae')]['effectThemeId']),esmap[_0x55f3('0x4e')]['options']=_0x15ca68,_0x41756d['effectThemeSrc']&&_0x41756d['effectThemeId']||!(0x0,_0x3e4ed1[_0x55f3('0x2f')])()){if(!_0x15ca68['effectThemeSrc']||!_0x15ca68[_0x55f3('0x42')]){var _0x46d082=(0x0,_0x3e4ed1['selectBuildingMapEffectConfigPath'])(_0x14260b,_0x26fe7d[_0x55f3('0x2c0')]);if(!_0x46d082)return console[_0x55f3('0xda')](_0x55f3('0x9b0'),_0x55f3('0x9b1')),void(_0x14260b[_0x55f3('0x28d')]&&_0x14260b[_0x55f3('0x28d')](_0x55f3('0x9b2')));esmap['ESEffectTool'][_0x55f3('0x4f')]=_0x46d082;}}else _0x1d7229=(0x0,_0x3e4ed1[_0x55f3('0x2a')])(_0x14260b,_0x41756d),esmap[_0x55f3('0x4e')][_0x55f3('0x4f')]=(0x0,_0x3e4ed1[_0x55f3('0x2a')])(_0x14260b,_0x41756d,!0x0),esmap[_0x55f3('0x4e')][_0x55f3('0x4d')]=_0x1d7229,_0x41756d[_0x55f3('0x9b3')]&&_0x41756d[_0x55f3('0x9b3')][_0x55f3('0x9b4')]&&_0x41756d[_0x55f3('0x9b3')][_0x55f3('0x9b5')]&&(esmap['ESEffectTool'][_0x55f3('0x4f')]=_0x41756d[_0x55f3('0x9b3')][_0x55f3('0x9b4')]+'/'+_0x41756d['debugParams']['localEffectId']+'/'),_0x26fe7d[_0x55f3('0x9ae')]&&void 0x0!==_0x26fe7d[_0x55f3('0x9ae')][_0x55f3('0x974')]&&(esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x974')]=_0x26fe7d[_0x55f3('0x9ae')][_0x55f3('0x974')]);_0x46d082=_0x1d7229||esmap['ESEffectTool'][_0x55f3('0x4f')];try{(0x0,_0x12bc46['requestEffectThemeConfig'])(_0x46d082)[_0x55f3('0x341')](function(_0x26fe7d){esmap[_0x55f3('0x4e')]['EFFECT_EDITOR']&&(esmap[_0x55f3('0x4e')][_0x55f3('0x9b6')]=_0x26fe7d),_0x407c62=_0x26fe7d,_0x1c6ac6[_0x55f3('0x959')]=!0x0,_0xa83c37(esmap[_0x55f3('0x4e')][_0x55f3('0x46')]);});}catch(_0x15a3b5){console[_0x55f3('0xda')](_0x55f3('0x9b7'),'color:red;'),console[_0x55f3('0xda')](_0x15a3b5);}}}),_0x14260b['on'](_0x55f3('0x9b8'),function(){}),_0x14260b['on']('preLoadComplete',function(_0x26fe7d){(0x0,_0x37ae0d[_0x55f3('0x9')])(),(0x0,_0x3946de[_0x55f3('0x9')])(),_0x1c6ac6['preload']=!0x0,_0xa83c37(esmap[_0x55f3('0x4e')]['options']);}),_0x14260b['on']('loadComplete',function(_0x26fe7d){}),_0x14260b[_0x55f3('0x389')][_0x55f3('0x2cc')]('change',function(){_0x14260b['viewMode']===esmap[_0x55f3('0x9b9')][_0x55f3('0x9ba')]&&'low'==_0x14260b['options'][_0x55f3('0x9bb')]&&(_0x14260b[_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x1ef')][_0x55f3('0x1ba')](_0x14260b['controls'][_0x55f3('0x6')]['rotation']),_0x14260b['mapView']['camera'][_0x55f3('0x38')]['copy'](_0x14260b[_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x38')]),_0x14260b[_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x7de')]());}),_0x14260b['on'](_0x55f3('0x9bc'),function(_0x26fe7d){0x0<=_0x26fe7d[_0x55f3('0x8b')][_0x55f3('0x4b')]('__singlemesh')&&_0x55f3('0x99a')==_0x14260b[_0x55f3('0x46')]['quality']&&((0x0,_0x3e4ed1[_0x55f3('0x2f')])()?_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9bd')](_0x26fe7d,_0x14260b[_0x55f3('0x51')][_0x55f3('0x9be')][_0x26fe7d['name']],_0x2e458d[_0x55f3('0x956')]):_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9bf')](_0x26fe7d,_0x14260b[_0x55f3('0x51')][_0x55f3('0x9be')][_0x26fe7d[_0x55f3('0x8b')]],_0x2e458d['shadow']));}),_0x14260b['on']('routeLoaded',function(_0x26fe7d){_0x14260b[_0x55f3('0x94e')][_0x55f3('0x9c0')][_0x26fe7d]&&_0x14260b[_0x55f3('0x94e')][_0x55f3('0x9c0')][_0x26fe7d][_0x55f3('0x9c1')]&&!_0x14260b[_0x55f3('0x46')]['editMode']&&_0x14260b[_0x55f3('0x46')][_0x55f3('0x9c2')]&&_0x245e21[_0x55f3('0x9c2')]&&_0x2e458d[_0x55f3('0x5db')]['loadTileRoutesData'](_0x14260b[_0x55f3('0x94e')]['navData'][_0x26fe7d]['Lines'],_0x26fe7d,_0x245e21['isTileRouteShine'],_0x245e21[_0x55f3('0x9c3')]);}),_0x14260b['on'](_0x55f3('0x9c4'),function(_0x26fe7d){if(_0x407c62){var _0x2c9bbe=_0x14260b['mapView'][_0x55f3('0x9c5')];if(_0x2c9bbe&&_0x245e21[_0x55f3('0x955')]&&_0x26fe7d['o3d_']&&_0x407c62[_0x55f3('0x956')]&&(_0x14260b[_0x55f3('0x25')]===esmap[_0x55f3('0x26')]['City']&&_0x26fe7d[_0x55f3('0x9c6')]&&0x2===_0x26fe7d[_0x55f3('0x9c6')]&&_0x26fe7d[_0x55f3('0x5e9')]?_0x2e458d[_0x55f3('0x956')][_0x55f3('0x9c7')](_0x26fe7d,!0x1):_0x2e458d[_0x55f3('0x956')]['setModelShadow'](_0x26fe7d,_0x407c62[_0x55f3('0x956')])),_0x245e21[_0x55f3('0x9a3')]&&0x1<=_0x2a7c75&&_0x2c9bbe){if(_0x407c62[_0x55f3('0x97d')]&&Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x97d')])){_0x2e458d[_0x55f3('0x5dc')]['textureCube']&&(_0x2e458d['models'][_0x55f3('0x9c8')]=_0x2e458d[_0x55f3('0x5dc')]['textureCube']);var _0x15ca68=!0x0,_0x2c9bbe=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x407c62[_0x55f3('0x97d')]);!(_0x15ca68=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x15ca68=!0x0)_0x41756d[_0x55f3('0x12')][_0x55f3('0x8b')]==_0x26fe7d[_0x55f3('0x9c9')]&&_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9ca')](_0x26fe7d[_0x55f3('0x9c9')],!_0x14260b[_0x55f3('0x46')][_0x55f3('0x9cb')]&&_0x26fe7d[_0x55f3('0x9cc')]||_0x26fe7d[_0x55f3('0x5e9')],_0x14260b['options'][_0x55f3('0x9cb')],_0x407c62);}catch(_0xb4c4f2){_0x2c9bbe=!0x0,_0x46d082=_0xb4c4f2;}finally{try{!_0x15ca68&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab['return']();}finally{if(_0x2c9bbe)throw _0x46d082;}}}_0x407c62[_0x55f3('0x9cd')]&&Array[_0x55f3('0x1a9')](_0x407c62[_0x55f3('0x9cd')])&&_0x2e458d[_0x55f3('0x97d')]['setModelsEffect3'](!_0x14260b['options']['mergeModel3D']&&_0x26fe7d['child']||_0x26fe7d[_0x55f3('0x5e9')],_0x14260b[_0x55f3('0x46')][_0x55f3('0x9cb')],_0x407c62),_0x14260b[_0x55f3('0x51')][_0x55f3('0x9ce')]&&_0x14260b[_0x55f3('0x51')][_0x55f3('0x9ce')][_0x26fe7d[_0x55f3('0x9c9')]]['ms']&&_0x14260b[_0x55f3('0x51')][_0x55f3('0x9ce')][_0x26fe7d['model']]['ms'][_0x55f3('0x1ea')]&&_0x14260b[_0x55f3('0x51')]['modelStore'][_0x26fe7d[_0x55f3('0x9c9')]]['ms'][_0x55f3('0x3f')]&&_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9cf')](_0x26fe7d['o3d_'],_0x14260b['options'][_0x55f3('0x9cb')],_0x14260b[_0x55f3('0x51')][_0x55f3('0x9ce')][_0x26fe7d['model']]['ms']);}if((0x0,_0x3e4ed1[_0x55f3('0x2f')])()){if(_0x14260b['options']['mergeModel3D']){if(_0x26fe7d[_0x55f3('0x4b5')]&&0x0<_0x26fe7d['brothers'][_0x55f3('0xf')]){var _0x36f24a=!0x0,_0x2c9bbe=!0x1,_0x46d082=void 0x0;try{for(var _0x1d7229,_0x1c6ac6=(0x0,_0x5f4091['default'])(_0x26fe7d[_0x55f3('0x4b5')]);!(_0x36f24a=(_0x1d7229=_0x1c6ac6['next']())[_0x55f3('0x269')]);_0x36f24a=!0x0)_0x31e122(_0x1d7229[_0x55f3('0x12')],_0x245e21,_0x26fe7d[_0x55f3('0x5e9')][_0x55f3('0x63f')]);}catch(_0x29b262){_0x2c9bbe=!0x0,_0x46d082=_0x29b262;}finally{try{!_0x36f24a&&_0x1c6ac6[_0x55f3('0x271')]&&_0x1c6ac6['return']();}finally{if(_0x2c9bbe)throw _0x46d082;}}}}else _0x31e122(_0x26fe7d,_0x245e21);_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9d0')]&&!_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9d0')][_0x55f3('0x9d1')]&&(_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9d2')](_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9d0')]),_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9d0')][_0x55f3('0x9d1')]=!0x0);}}}),_0x14260b['on'](_0x55f3('0x9d3'),function(){_0x99ea1e&&(_0x99ea1e['visible']=!0x1);}),_0x14260b['on']('buildingExit',function(){_0x99ea1e&&(_0x99ea1e[_0x55f3('0x338')]=!0x0);}),_0x14260b['on']('tileUpdated',function(){0x0<_0x2e458d[_0x55f3('0x5d8')]['tileBuilidngThemes']['length']&&_0x245e21[_0x55f3('0x95e')]&&!_0x15ca68&&(setTimeout(function(){var _0x26fe7d=!0x0,_0x2c9bbe=!0x1,_0x15ca68=void 0x0;try{for(var _0x46d082,_0x41756d=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2e458d[_0x55f3('0x5d8')]['tileBuilidngThemes']);!(_0x26fe7d=(_0x46d082=_0x41756d[_0x55f3('0x85')]())['done']);_0x26fe7d=!0x0)_0x46d082['value'][_0x55f3('0x3f')]['needsUpdate']=!0x0;}catch(_0x2102d9){_0x2c9bbe=!0x0,_0x15ca68=_0x2102d9;}finally{try{!_0x26fe7d&&_0x41756d[_0x55f3('0x271')]&&_0x41756d['return']();}finally{if(_0x2c9bbe)throw _0x15ca68;}}},0x1770),_0x15ca68=!0x0);}),_0x14260b['on'](_0x55f3('0x9d4'),function(_0x26fe7d){_0x1e3cc0(_0x26fe7d['id'],!0x1);}),_0x14260b['on'](_0x55f3('0x9d5'),function(_0x26fe7d){_0x1e3cc0(_0x26fe7d[_0x55f3('0x65c')],!0x0),_0x245e21[_0x55f3('0x955')]&&_0x407c62[_0x55f3('0x956')]&&setTimeout(function(){esmap['ESEffectTool'][_0x55f3('0x97d')]['showShadow']();},0x1f4);}),_0x14260b['on'](_0x55f3('0x98f'),function(_0x26fe7d){var _0x26fe7d=_0x26fe7d['bid'],_0x2c9bbe=(0x0,_0x3e4ed1['getBuiding'])(_0x26fe7d)[_0x55f3('0x5e6')](0x1)['getLayersByTypes'](esmap[_0x55f3('0x5d3')][_0x55f3('0x9d6')]);if(_0x2c9bbe&&_0x2c9bbe[0x0])for(var _0x15ca68=0x0;_0x15ca68<_0x2c9bbe[0x0]['o3d_'][_0x55f3('0x322')][_0x55f3('0xf')];_0x15ca68++)for(var _0x46d082=_0x2c9bbe[0x0][_0x55f3('0x5e9')][_0x55f3('0x322')][_0x15ca68],_0x41756d=0x0;_0x41756d<_0x46d082[_0x55f3('0x3f')][_0x55f3('0xf')];_0x41756d++){var _0x45a7ab=_0x46d082[_0x55f3('0x3f')][_0x41756d];_0x45a7ab&&_0x45a7ab[_0x55f3('0x63f')]['imgdata']&&_0x55f3('0x9d7')==_0x45a7ab[_0x55f3('0x63f')]['imgdata'][_0x55f3('0x8b')]&&(_0x45a7ab['visible']=!0x1,_0x45a7ab[_0x55f3('0x93')]());}}),_0x14260b['on']('viewModeChanged',function(_0x26fe7d){esmap[_0x55f3('0x4e')][_0x55f3('0x9a4')]&&'2D'===_0x26fe7d?esmap[_0x55f3('0x4e')][_0x55f3('0x9a4')]=!0x1:!0x1===esmap[_0x55f3('0x4e')][_0x55f3('0x9a4')]&&'3D'===_0x26fe7d&&(esmap[_0x55f3('0x4e')]['showRoads']=!0x0);}),_0x14260b['on'](_0x55f3('0x9d8'),function(_0x26fe7d){_0x2e458d['models'][_0x55f3('0x9d9')]();}),_0x14260b['on']('changeBuildingColor',function(_0x26fe7d){_0x2e458d['buildings'][_0x55f3('0x9da')](_0x26fe7d[_0x55f3('0x220')]);}),_0x14260b['on'](_0x55f3('0x9db'),function(){_0x46d082[_0x55f3('0x1ba')](_0x14260b[_0x55f3('0x389')][_0x55f3('0x81')]),esmap['ESEffectTool']['_controlMove']=!0x0;}),_0x14260b['on']('controlUpdated',function(){_0x257a9d(_0x407c62,!0x0);}),_0x14260b['on'](_0x55f3('0x9dc'),function(_0x26fe7d){TWEEN['update'](),_0x2e458d[_0x55f3('0x336')](_0x26fe7d),_0x3db0b8[_0x55f3('0x336')](_0x26fe7d),_0x27601d[_0x55f3('0x2f8')]();}),_0x14260b['once'](_0x55f3('0x93'),function(){_0x525d0f['clearAll']();});},_0x525d0f[_0x55f3('0x9dd')]=_0xbc7d76[_0x55f3('0x2bf')],_0x525d0f['markers']=_0x3db0b8,_0x525d0f[_0x55f3('0x5d7')]={'getCrossFloorLinePoints':function(_0x26fe7d,_0x2c9bbe){if(_0x26fe7d&&0x0!=_0x26fe7d[_0x55f3('0xf')]){var _0x26fe7d=(0x0,_0x12bc46[_0x55f3('0x40d')])(_0x26fe7d),_0x15ca68=[],_0x46d082=!0x0,_0x41756d=!0x1,_0x45a7ab=void 0x0;try{for(var _0x36f24a,_0x1d7229=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x26fe7d);!(_0x46d082=(_0x36f24a=_0x1d7229[_0x55f3('0x85')]())['done']);_0x46d082=!0x0){var _0x1c6ac6=_0x36f24a[_0x55f3('0x12')],_0x2ef932=[],_0x99ea1e=!0x0,_0x5ffd1a=!0x1,_0x103afb=void 0x0;try{for(var _0x30c92a,_0x525d0f=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x1c6ac6);!(_0x99ea1e=(_0x30c92a=_0x525d0f['next']())[_0x55f3('0x269')]);_0x99ea1e=!0x0){var _0x31e122,_0xa83c37=_0x30c92a[_0x55f3('0x12')];_0xa83c37[_0x55f3('0x40f')]?(_0x31e122=_0x2c9bbe[_0x55f3('0x5e5')](_0xa83c37['fnum'])-_0x2c9bbe[_0x55f3('0x5e5')](_0xa83c37[_0x55f3('0x40f')]),_0x2ef932[_0x55f3('0x73')]({'x':_0xa83c37['x'],'y':_0xa83c37['y'],'offset':_0xa83c37[_0x55f3('0xf5')]-_0x31e122})):_0x2ef932[_0x55f3('0x73')]({'x':_0xa83c37['x'],'y':_0xa83c37['y'],'offset':_0xa83c37[_0x55f3('0xf5')]});}}catch(_0x207ca2){_0x5ffd1a=!0x0,_0x103afb=_0x207ca2;}finally{try{!_0x99ea1e&&_0x525d0f['return']&&_0x525d0f['return']();}finally{if(_0x5ffd1a)throw _0x103afb;}}_0x15ca68['push']({'fnum':_0x1c6ac6[0x0][_0x55f3('0x40e')],'linePoints':_0x2ef932});}}catch(_0x27ad1b){_0x41756d=!0x0,_0x45a7ab=_0x27ad1b;}finally{try{!_0x46d082&&_0x1d7229[_0x55f3('0x271')]&&_0x1d7229[_0x55f3('0x271')]();}finally{if(_0x41756d)throw _0x45a7ab;}}return _0x15ca68;}}},_0x525d0f[_0x55f3('0x5d8')]={'dispose':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5d8')]['dispose'](_0x26fe7d);},'removeAll':function(){_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x32e')]();},'updateBuildingScanLight':function(_0x26fe7d,_0x2c9bbe){'horizon'===_0x26fe7d&&_0x2e458d['buildings'][_0x55f3('0x9de')](_0x2c9bbe),_0x55f3('0x9df')===_0x26fe7d&&_0x2e458d[_0x55f3('0x5d8')]['updateTileBuildingCenterSpreadScan'](_0x2c9bbe),_0x55f3('0x9e0')===_0x26fe7d&&_0x2e458d['buildings'][_0x55f3('0x9e1')](_0x2c9bbe);},'toggleBuildingScanLight':function(_0x26fe7d,_0x2c9bbe){_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e2')](_0x26fe7d,_0x2c9bbe);},'updateBuildingExtentLight':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e3')](_0x26fe7d);},'closeTileBuildingsLight':function(){_0x2e458d['buildings'][_0x55f3('0x9e4')](!0x1);},'openTileBuildingsLight':function(){_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e4')](!0x0);},'toggleBuildingHighLight':function(_0x26fe7d){_0x26fe7d?_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e5')](!0x0):_0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e5')](!0x1);},'updateTileBuildingAlpha':function(_0x26fe7d){_0x2e458d['buildings'][_0x55f3('0x9e6')](_0x26fe7d);},'toggleBuildingVisible':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5d8')]['toggleBuildingVisible'](_0x26fe7d);},'toggleTileBuildingFlatten':function(_0x26fe7d,_0x2c9bbe){},'_getEditBt':function(){return _0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e7')];},'_getEditBtColor':function(){return _0x2e458d[_0x55f3('0x5d8')][_0x55f3('0x9e8')];}},_0x525d0f['floors']={'removeAll':function(){_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x93')]();},'settingControlFloor':function(_0x26fe7d){_0x2e458d['floors'][_0x55f3('0x9e9')]&&_0x26fe7d['id']&&_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x9ea')][_0x26fe7d['id']]&&(_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x9ea')][_0x26fe7d['id']][_0x55f3('0x9eb')]||(_0x2e458d[_0x55f3('0x5d9')]['controlFloors'][_0x26fe7d['id']][_0x55f3('0x9eb')]=_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x9ea')][_0x26fe7d['id']]['position'][_0x55f3('0x1b0')]()),_0x26fe7d['x']&&_0x26fe7d['y'],void 0x0!==_0x26fe7d['offsetHeight']&&(!0x1===_0x26fe7d[_0x55f3('0x521')]?_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x9ea')][_0x26fe7d['id']][_0x55f3('0x38')]['y']=_0x2e458d[_0x55f3('0x5d9')][_0x55f3('0x9ea')][_0x26fe7d['id']]['_originPos']['y']:_0x2e458d['floors'][_0x55f3('0x9ea')][_0x26fe7d['id']][_0x55f3('0x38')]['y']=_0x26fe7d[_0x55f3('0x521')]),void 0x0!==_0x26fe7d[_0x55f3('0x8fe')]&&(_0x2e458d['floors'][_0x55f3('0x9ea')][_0x26fe7d['id']][_0x55f3('0x338')]=_0x26fe7d[_0x55f3('0x8fe')]),_0x26fe7d[_0x55f3('0x221')]&&(_0x2e458d['floors'][_0x55f3('0x9ea')][_0x26fe7d['id']][_0x55f3('0x3f')][_0x55f3('0x221')]=_0x26fe7d[_0x55f3('0x221')]),_0x26fe7d[_0x55f3('0x661')]&&_0x2e458d['floors'][_0x55f3('0x661')](_0x26fe7d['id'],_0x26fe7d['time']));}},_0x525d0f['ground']={'removeAll':function(){_0x2e458d[_0x55f3('0x97a')][_0x55f3('0x32e')]();}},_0x525d0f[_0x55f3('0x5da')]={'updateAmbientLight':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68=null,_0x46d082=null;_0x55f3('0x17')==typeof _0x26fe7d?_0x15ca68=_0x26fe7d:(_0x15ca68=_0x26fe7d['intensity'],_0x46d082=_0x26fe7d[_0x55f3('0x220')]),_0x2e458d[_0x55f3('0x5da')]['updateAmbientLight']({'intensity':_0x15ca68,'color':_0x46d082,'isAnimate':!0x0,'time':_0x2c9bbe});},'updateDirectLights':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68=!0x0,_0x46d082=!0x1,_0x41756d=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2e458d[_0x55f3('0x5da')][_0x55f3('0x9ec')]);!(_0x15ca68=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x15ca68=!0x0){var _0x1d7229=_0x45a7ab[_0x55f3('0x12')];_0x2e458d[_0x55f3('0x5da')][_0x55f3('0x9ed')](_0x1d7229,_0x26fe7d,!0x0,_0x2c9bbe);}}catch(_0x54c803){_0x46d082=!0x0,_0x41756d=_0x54c803;}finally{try{!_0x15ca68&&_0x36f24a[_0x55f3('0x271')]&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x46d082)throw _0x41756d;}}},'recoverAmbientLight':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5da')][_0x55f3('0x9ee')]({'isAnimate':!0x0,'isRecover':!0x0,'time':void 0x0!==_0x26fe7d?_0x26fe7d:0x1});},'removeAll':function(){_0x2e458d[_0x55f3('0x5da')][_0x55f3('0x93')]();},'getLights':function(){return _0x2e458d['lights'];},'addPointLights':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5da')][_0x55f3('0x9ef')](_0x26fe7d);},'togglePointLights':function(_0x26fe7d){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091['default'])(_0x2e458d[_0x55f3('0x5da')]['pointLights']);!(_0x2c9bbe=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2c9bbe=!0x0)_0x41756d['value'][_0x55f3('0x338')]=_0x26fe7d;}catch(_0x2404c7){_0x15ca68=!0x0,_0x46d082=_0x2404c7;}finally{try{!_0x2c9bbe&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab['return']();}finally{if(_0x15ca68)throw _0x46d082;}}},'togglePointLightByName':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68=!0x0,_0x46d082=!0x1,_0x41756d=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091['default'])(_0x2e458d['lights']['pointLights']);!(_0x15ca68=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x15ca68=!0x0){var _0x1d7229=_0x45a7ab[_0x55f3('0x12')];_0x1d7229[_0x55f3('0x8b')]===_0x2c9bbe&&(_0x1d7229['visible']=_0x26fe7d);}}catch(_0x49dbdd){_0x46d082=!0x0,_0x41756d=_0x49dbdd;}finally{try{!_0x15ca68&&_0x36f24a['return']&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x46d082)throw _0x41756d;}}}},_0x525d0f[_0x55f3('0x5db')]={'removeAll':function(){_0x2e458d[_0x55f3('0x5db')]['disposeAll']();},'updateTileRoutesRandomStyle':function(_0x26fe7d){_0x14260b[_0x55f3('0x46')][_0x55f3('0x9c2')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x9c3')]&&_0x2e458d[_0x55f3('0x5db')][_0x55f3('0x9f0')](_0x26fe7d);},'recoverTileRoutesStyle':function(){_0x14260b[_0x55f3('0x46')]['loadRoads']&&esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x9c3')]&&_0x2e458d['routes'][_0x55f3('0x9f1')]();},'toggleTileRoutesVisible':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5db')][_0x55f3('0x9f2')](_0x26fe7d);}},_0x525d0f[_0x55f3('0x5dc')]={'removeAll':function(){_0x2e458d['skybox']['dispose']();},'getSkybox':function(){return _0x2e458d[_0x55f3('0x5dc')]['skyboxTool']?_0x2e458d[_0x55f3('0x5dc')]:null;},'updateSkybox':function(_0x26fe7d,_0x2c9bbe){_0x2e458d[_0x55f3('0x5dc')][_0x55f3('0x9f3')](_0x26fe7d,_0x2c9bbe);},'toggleSkyBox':function(_0x26fe7d){var _0x2c9bbe=_0x2e458d[_0x55f3('0x5dc')][_0x55f3('0x9f4')],_0x15ca68=_0x2e458d[_0x55f3('0x5dc')][_0x55f3('0x9f5')];_0x2c9bbe&&_0x2c9bbe['skyBox']?(_0x2c9bbe[_0x55f3('0x41d')]['visible']=!!_0x26fe7d,_0x2e458d['skybox']['isLockSkyboxVisible']=!_0x2c9bbe['skyBox']['visible']):_0x15ca68&&_0x15ca68[_0x55f3('0x319')]&&(_0x15ca68[_0x55f3('0x319')]['visible']=!!_0x26fe7d,_0x2e458d[_0x55f3('0x5dc')][_0x55f3('0x9f6')]=!_0x15ca68[_0x55f3('0x319')]['visible']);}},_0x525d0f[_0x55f3('0x5dd')]={'removeAll':function(){_0x2e458d[_0x55f3('0x5dd')]['disposeAll']();},'setStyle':function(_0x26fe7d,_0x2c9bbe){_0x2e458d['water']['setStyle'](_0x26fe7d,_0x2c9bbe);},'createWaveMarker':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5dd')]['createWaveMarker'](_0x26fe7d);},'updateWaveLines':function(_0x26fe7d,_0x2c9bbe){_0x2e458d[_0x55f3('0x5dd')][_0x55f3('0x9f7')](_0x26fe7d,_0x2c9bbe);},'removeWaveLines':function(){_0x2e458d[_0x55f3('0x5dd')]['removeWaveLines']();}},_0x525d0f['heatMap']={'setWaterRipple':function(_0x26fe7d){_0x2e458d[_0x55f3('0x5de')][_0x55f3('0x9f8')](_0x26fe7d);},'setHeatPointImg':function(_0x26fe7d,_0x2c9bbe){_0x2e458d[_0x55f3('0x5de')]['setHeatPointImg'](_0x26fe7d,_0x2c9bbe);}},_0x525d0f[_0x55f3('0x97d')]={'_createMirroWater':function(_0x26fe7d,_0x2c9bbe){return _0x2e458d[_0x55f3('0x97d')]['createMirroWater2'](_0x26fe7d,_0x2c9bbe);},'_getMirroWater':function(_0x26fe7d){return _0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9f9')][_0x26fe7d['name']];},'mirroWaterIgnoreMarker':function(_0x26fe7d,_0x2c9bbe){_0x26fe7d=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9f9')][_0x26fe7d];_0x26fe7d&&(_0x26fe7d[_0x55f3('0x5dd')][_0x55f3('0x7bc')][_0x2c9bbe['uuid']]=_0x2c9bbe);},'_addOceanTerrianMat':function(_0x26fe7d){_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9fa')]=_0x26fe7d;},'_getModelTerrainEffects':function(){return _0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9fb')];},'showTerrainGradient':function(_0x26fe7d){var _0x2c9bbe;_0x26fe7d[_0x55f3('0x8b')]&&void 0x0!==_0x26fe7d[_0x55f3('0x8fe')]&&(_0x2c9bbe=_0x2e458d['models']['gradientTerrainList'])[_0x26fe7d[_0x55f3('0x8b')]]&&_0x2c9bbe[_0x26fe7d['name']][_0x55f3('0x4b9')]&&(_0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]][_0x55f3('0x4b9')]['uniforms']['isShow'][_0x55f3('0x12')]=_0x26fe7d['isShow']);},'setTerrainGradientConfig':function(_0x26fe7d){if(_0x26fe7d[_0x55f3('0x8b')]){var _0x2c9bbe=_0x2e458d[_0x55f3('0x97d')]['gradientTerrainList'];if(_0x2c9bbe[_0x26fe7d['name']])return _0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]]['setGradientConfig'](_0x26fe7d);}},'getTerrainGradientConfig':function(_0x26fe7d){if(_0x26fe7d[_0x55f3('0x8b')]){var _0x2c9bbe=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9fc')];if(_0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]])return _0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]][_0x55f3('0x90f')]();}},'toggleModelLights':function(_0x26fe7d){_0x2e458d['models'][_0x55f3('0x9fd')][_0x55f3('0x8fd')](_0x26fe7d),_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9fe')](_0x26fe7d);},'createModelLightPoints':function(){_0x2e458d[_0x55f3('0x97d')][_0x55f3('0x9ff')]();},'showShadow':function(){_0x245e21[_0x55f3('0x955')]&&_0x407c62[_0x55f3('0x956')]&&(_0x14260b[_0x55f3('0x41b')]['renderer'][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x14260b[_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0,_0x2e458d[_0x55f3('0x956')][_0x55f3('0x999')]=!0x1,_0x2e458d['shadow']['shadowPlane']&&(_0x2e458d[_0x55f3('0x956')][_0x55f3('0xa00')][_0x55f3('0x338')]=!0x0));},'closeShadow':function(){_0x245e21[_0x55f3('0x955')]&&_0x407c62[_0x55f3('0x956')]&&(_0x14260b['mapView'][_0x55f3('0x4d2')]['shadowMap']['enabled']=!0x1,_0x14260b[_0x55f3('0x41b')]['renderer']['shadowMap'][_0x55f3('0xf7')]=!0x0,_0x2e458d[_0x55f3('0x956')][_0x55f3('0x999')]=!0x0,_0x2e458d[_0x55f3('0x956')][_0x55f3('0xa00')]&&(_0x2e458d[_0x55f3('0x956')][_0x55f3('0xa00')][_0x55f3('0x338')]=!0x1));},'toggleShadow':function(_0x26fe7d){_0x245e21[_0x55f3('0x955')]&&_0x407c62['shadow']&&(_0x14260b['mapView'][_0x55f3('0x4d2')]['shadowMap'][_0x55f3('0x555')]=!!_0x26fe7d,_0x2e458d[_0x55f3('0x956')][_0x55f3('0x999')]=!_0x26fe7d,_0x2e458d[_0x55f3('0x956')][_0x55f3('0xa00')]&&(_0x2e458d['shadow']['shadowPlane'][_0x55f3('0x338')]=!!_0x26fe7d),_0x14260b['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0);},'updateShadow':function(){var _0x26fe7d;_0x245e21['isShowShadow']&&_0x407c62['shadow']&&(_0x26fe7d=_0x14260b[_0x55f3('0x41b')][_0x407c62['shadow'][_0x55f3('0x957')]],_0x2e458d['shadow'][_0x55f3('0x958')](_0x26fe7d,_0x407c62[_0x55f3('0x956')],_0x46d082));},'getShadow':function(){return _0x2e458d[_0x55f3('0x956')];},'setUvTransform':function(_0x26fe7d){if(_0x26fe7d['id'])for(var _0x2c9bbe=_0x2e458d[_0x55f3('0x97d')]['uvTransformTextures'],_0x15ca68=0x0;_0x15ca68<_0x2c9bbe[_0x55f3('0xf')];_0x15ca68++)if(_0x2c9bbe[_0x15ca68][_0x55f3('0xa01')]===_0x26fe7d['id']){_0x26fe7d[_0x55f3('0xf5')]&&(_0x26fe7d['offset']['x']&&(_0x2c9bbe[_0x15ca68]['offset']['x']=_0x26fe7d[_0x55f3('0xf5')]['x']),_0x26fe7d['offset']['y']&&(_0x2c9bbe[_0x15ca68][_0x55f3('0xf5')]['y']=_0x26fe7d[_0x55f3('0xf5')]['y']));break;}},'setTargetsFocus':function(_0x2c9bbe){var _0x15ca68=_0x2c9bbe[_0x55f3('0x5f3')],_0x46d082=_0x2c9bbe['materialNames'],_0x41756d=_0x2c9bbe[_0x55f3('0x221')];if(0x0<_0x46d082['length'])if(_0x41756d)_0x15ca68[_0x55f3('0x5e9')]['traverse'](function(_0x26fe7d){_0x26fe7d[_0x55f3('0x3f')]&&-0x1===_0x46d082[_0x55f3('0x4b')](_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0x8b')])&&(esmap[_0x55f3('0x36')][_0x55f3('0x66a')]({'target':_0x26fe7d,'alpha':_0x41756d,'clonemat':!0x1,'noOcclusion':!0x0}),_0x2ef932['push'](_0x26fe7d));});else if(!0x1===_0x41756d){var _0x26fe7d=!0x0,_0x2c9bbe=!0x1,_0x15ca68=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091['default'])(_0x2ef932);!(_0x26fe7d=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x26fe7d=!0x0){var _0x1d7229=_0x45a7ab[_0x55f3('0x12')];esmap['ESMapUtil'][_0x55f3('0x66a')]({'target':_0x1d7229,'alpha':!0x1,'clonemat':!0x1,'noOcclusion':!0x0});}}catch(_0xbf2dce){_0x2c9bbe=!0x0,_0x15ca68=_0xbf2dce;}finally{try{!_0x26fe7d&&_0x36f24a[_0x55f3('0x271')]&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x2c9bbe)throw _0x15ca68;}}_0x2ef932[_0x55f3('0xf')]=0x0;}},'setControlGroupObj':function(_0x26fe7d){var _0x2c9bbe=_0x26fe7d[_0x55f3('0xa02')],_0x15ca68=_0x26fe7d['key'],_0x46d082=_0x26fe7d['opacity'],_0x41756d=_0x26fe7d['transparent'],_0x45a7ab=_0x26fe7d[_0x55f3('0x338')],_0x36f24a=_0x26fe7d[_0x55f3('0x365')],_0x1d7229=_0x26fe7d[_0x55f3('0x318')],_0x1c6ac6=_0x26fe7d[_0x55f3('0xa03')],_0x2ef932=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa04')];function _0x99ea1e(_0x26fe7d,_0x2c9bbe){_0x26fe7d=_0x26fe7d['material'];Array[_0x55f3('0x1a9')](_0x26fe7d)&&(_0x26fe7d=_0x26fe7d[0x0]),_0x41756d&&(_0x26fe7d[_0x55f3('0x1d5')]=!0x0),_0x2c9bbe&&0x0<_0x2c9bbe&&(_0x26fe7d[_0x55f3('0x63f')][_0x55f3('0x221')]||(_0x26fe7d['userData'][_0x55f3('0x221')]=_0x26fe7d['opacity']),_0x26fe7d['opacity']=_0x2c9bbe),!0x1===_0x2c9bbe&&_0x26fe7d[_0x55f3('0x63f')]['opacity']&&(_0x26fe7d[_0x55f3('0x221')]=_0x26fe7d[_0x55f3('0x63f')]['opacity']);}function _0x5ffd1a(_0x26fe7d,_0x2c9bbe){_0x26fe7d=_0x26fe7d[_0x55f3('0x3f')];Array[_0x55f3('0x1a9')](_0x26fe7d)&&(_0x26fe7d=_0x26fe7d[0x0]),_0x2c9bbe&&0x0<_0x2c9bbe&&(_0x26fe7d[_0x55f3('0x63f')]['aoMapIntensity']||(_0x26fe7d['userData'][_0x55f3('0x7cd')]=_0x26fe7d[_0x55f3('0x7cd')]),_0x26fe7d[_0x55f3('0x7cd')]=_0x2c9bbe),!0x1===_0x2c9bbe&&_0x26fe7d[_0x55f3('0x63f')][_0x55f3('0x7cd')]&&(_0x26fe7d[_0x55f3('0x7cd')]=_0x26fe7d['userData'][_0x55f3('0x7cd')]);}if(_0x2ef932[_0x2c9bbe])for(var _0x103afb in _0x2ef932[_0x2c9bbe])if(_0x103afb===_0x15ca68){if(void 0x0!==_0x46d082)if(_0x55f3('0x33b')===_0x2ef932[_0x2c9bbe][_0x103afb][_0x55f3('0xeb')])_0x2ef932[_0x2c9bbe][_0x103afb][_0x55f3('0x65f')](function(_0x26fe7d){_0x55f3('0x317')===_0x26fe7d[_0x55f3('0xeb')]&&-0x1<_0x26fe7d[_0x55f3('0x8b')][_0x55f3('0x4b')]('_ef_')&&-0x1<_0x26fe7d['name']['indexOf'](_0x15ca68)&&(_0x46d082&&0x0<_0x46d082&&(_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0x63f')][_0x55f3('0x221')]||(_0x26fe7d['material'][_0x55f3('0x63f')]['opacity']=_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0x221')]),_0x26fe7d[_0x55f3('0x3f')]['opacity']=_0x46d082),!0x1===_0x46d082&&(_0x26fe7d[_0x55f3('0x3f')]['opacity']=_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0x63f')][_0x55f3('0x221')]));});else if(Array[_0x55f3('0x1a9')](_0x2ef932[_0x2c9bbe][_0x103afb])){var _0x30c92a=!0x0,_0x525d0f=!0x1,_0x31e122=void 0x0;try{for(var _0xa83c37,_0x12bc46=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2ef932[_0x2c9bbe][_0x103afb]);!(_0x30c92a=(_0xa83c37=_0x12bc46[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x30c92a=!0x0)_0x99ea1e(_0xa83c37['value'],_0x46d082);}catch(_0x4c549d){_0x525d0f=!0x0,_0x31e122=_0x4c549d;}finally{try{!_0x30c92a&&_0x12bc46[_0x55f3('0x271')]&&_0x12bc46['return']();}finally{if(_0x525d0f)throw _0x31e122;}}}else _0x99ea1e(_0x2ef932[_0x2c9bbe][_0x103afb],_0x46d082);if(void 0x0!==_0x1c6ac6)if(Array[_0x55f3('0x1a9')](_0x2ef932[_0x2c9bbe][_0x103afb])){var _0x1e3cc0=!0x0,_0x525d0f=!0x1,_0x31e122=void 0x0;try{for(var _0x3fbcf8,_0x5c3d4d=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x2ef932[_0x2c9bbe][_0x103afb]);!(_0x1e3cc0=(_0x3fbcf8=_0x5c3d4d['next']())[_0x55f3('0x269')]);_0x1e3cc0=!0x0)_0x5ffd1a(_0x3fbcf8['value'],_0x1c6ac6);}catch(_0x62a2ac){_0x525d0f=!0x0,_0x31e122=_0x62a2ac;}finally{try{!_0x1e3cc0&&_0x5c3d4d[_0x55f3('0x271')]&&_0x5c3d4d['return']();}finally{if(_0x525d0f)throw _0x31e122;}}}else _0x5ffd1a(_0x2ef932[_0x2c9bbe][_0x103afb],_0x1c6ac6);if(void 0x0!==_0x45a7ab)if(Array[_0x55f3('0x1a9')](_0x2ef932[_0x2c9bbe][_0x103afb])){var _0x13bfe7=!0x0,_0x37ae0d=!0x1,_0x3946de=void 0x0;try{for(var _0x14260b,_0x407c62=(0x0,_0x5f4091['default'])(_0x2ef932[_0x2c9bbe][_0x103afb]);!(_0x13bfe7=(_0x14260b=_0x407c62[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x13bfe7=!0x0)_0x14260b[_0x55f3('0x12')][_0x55f3('0x338')]=_0x45a7ab;}catch(_0x3b2aec){_0x37ae0d=!0x0,_0x3946de=_0x3b2aec;}finally{try{!_0x13bfe7&&_0x407c62['return']&&_0x407c62['return']();}finally{if(_0x37ae0d)throw _0x3946de;}}}else _0x2ef932[_0x2c9bbe][_0x103afb][_0x55f3('0x338')]=_0x45a7ab;void 0x0!==_0x36f24a&&(_0x2ef932[_0x2c9bbe][_0x103afb][_0x55f3('0x38')]['y']=_0x36f24a),void 0x0!==_0x1d7229&&(_0x2ef932[_0x2c9bbe][_0x103afb][_0x55f3('0x318')]=_0x1d7229),_0x2ef932[_0x2c9bbe][_0x103afb];}},'setModelBloomLight':function(_0x26fe7d,_0x2c9bbe){_0x26fe7d&&_0x26fe7d['o3d_']&&_0x26fe7d[_0x55f3('0x5e9')][_0x55f3('0x65f')](function(_0x26fe7d){_0x55f3('0x317')==_0x26fe7d[_0x55f3('0xeb')]&&!0x1===_0x26fe7d[_0x55f3('0xa05')]&&esmap[_0x55f3('0x4e')]['screenEffect'][_0x55f3('0xa06')](_0x26fe7d,_0x2c9bbe);});},'removeModelBloomLight':function(_0x26fe7d){_0x26fe7d&&_0x26fe7d[_0x55f3('0x5e9')]&&_0x26fe7d['o3d_'][_0x55f3('0x65f')](function(_0x26fe7d){'Mesh'==_0x26fe7d[_0x55f3('0xeb')]&&!0x0===_0x26fe7d[_0x55f3('0xa05')]&&esmap['ESEffectTool'][_0x55f3('0x5df')][_0x55f3('0xa07')](_0x26fe7d);});},'setModelProjectionHeatmap':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa08')];_0x15ca68[_0x26fe7d]&&(_0x2c9bbe=_0x2c9bbe[_0x55f3('0xa09')]())&&(_0x15ca68[_0x26fe7d][_0x55f3('0x924')](_0x2c9bbe),_0x15ca68[_0x26fe7d][_0x55f3('0x8fe')]=!0x0);},'setModelTextureHeatmap':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68,_0x46d082,_0x41756d=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa0a')];_0x41756d[_0x26fe7d]&&_0x2c9bbe['transparencyCondition']&&(_0x15ca68=_0x41756d[_0x26fe7d]['material'][_0x55f3('0xa0b')],_0x46d082=_0x41756d[_0x26fe7d][_0x55f3('0x3f')][_0x55f3('0x1b0')](),_0x41756d[_0x26fe7d][_0x55f3('0x925')](_0x46d082,_0x2c9bbe[_0x55f3('0xa0c')]),Array['isArray'](_0x15ca68[_0x55f3('0x3f')])?_0x15ca68['material'][0x0]=_0x46d082:_0x15ca68[_0x55f3('0x3f')]=_0x46d082,_0x46d082['needsUpdate']=!0x0);},'updateModelTextureHeatmap':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68,_0x46d082,_0x41756d=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa0a')];_0x41756d[_0x26fe7d]&&(_0x15ca68=_0x41756d[_0x26fe7d]['material'][_0x55f3('0xa0b')]['material'],_0x2c9bbe['imgUrl']&&(_0x46d082=new THREE[(_0x55f3('0x26d'))]()['load'](_0x2c9bbe[_0x55f3('0x5f5')],function(){_0x41756d[_0x26fe7d][_0x55f3('0x924')](_0x46d082),_0x15ca68[_0x55f3('0xf7')]=!0x0;})));},'toggleModelHeatmap':function(_0x26fe7d,_0x2c9bbe){var _0x15ca68=_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa08')];_0x15ca68[_0x26fe7d]&&(_0x15ca68[_0x26fe7d][_0x55f3('0x8fe')]=!!_0x2c9bbe);},'setModelGradient':function(_0x26fe7d){var _0x2c9bbe,_0x15ca68=_0x2e458d[_0x55f3('0x97d')]['gradients'];_0x26fe7d[_0x55f3('0x8b')]&&_0x15ca68[_0x26fe7d['name']]&&(_0x2c9bbe=_0x15ca68[_0x26fe7d['name']]['createTexture'](_0x26fe7d[_0x55f3('0x2c0')],_0x26fe7d['minValue'],_0x26fe7d[_0x55f3('0xa0d')],_0x26fe7d[_0x55f3('0xa0e')]),_0x15ca68[_0x26fe7d[_0x55f3('0x8b')]][_0x55f3('0x930')]({'texture':_0x2c9bbe,'time':_0x26fe7d[_0x55f3('0x38f')],'rotateAngle':_0x26fe7d[_0x55f3('0x451')]}),_0x15ca68[_0x26fe7d[_0x55f3('0x8b')]]['isShow']=!0x0);},'toggleModelGradient':function(_0x26fe7d){var _0x2c9bbe=_0x2e458d[_0x55f3('0x97d')]['gradients'];_0x26fe7d['name']&&_0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]]&&(_0x2c9bbe[_0x26fe7d[_0x55f3('0x8b')]]['isShow']=!!_0x26fe7d[_0x55f3('0x8fe')]);},'setModelFloatShake':function(_0x26fe7d,_0x2c9bbe){_0x26fe7d&&_0x2e458d[_0x55f3('0x97d')][_0x55f3('0xa0f')](_0x26fe7d,_0x2c9bbe);}},_0x525d0f[_0x55f3('0x7f7')]={'createVideoProjector':function(_0x26fe7d){return _0x2e458d[_0x55f3('0x7f7')][_0x55f3('0xa10')](_0x26fe7d);},'clearVideoProjector':function(){_0x2e458d[_0x55f3('0x7f7')][_0x55f3('0x785')]();},'showVisualField':function(_0x26fe7d){_0x2e458d[_0x55f3('0x7f7')][_0x55f3('0xa11')](_0x26fe7d);},'updateProjectorTarget':function(_0x26fe7d){_0x2e458d[_0x55f3('0x7f7')]['updateProjectorTarget'](_0x26fe7d);},'isLockCameraControls':function(_0x26fe7d){_0x2e458d[_0x55f3('0x7f7')][_0x55f3('0x87d')](_0x26fe7d);}},_0x525d0f['screenEffect']={'setObjectBloomLight':function(_0x26fe7d,_0x2c9bbe){if(esmap[_0x55f3('0x4e')][_0x55f3('0x46')]['isOpenScreenEffect']){var _0x15ca68=esmap[_0x55f3('0x36')]['getPlatform']();if((_0x26fe7d instanceof THREE[_0x55f3('0x317')]||_0x26fe7d instanceof THREE[_0x55f3('0x33b')])&&(_0x26fe7d[_0x55f3('0xa12')][_0x55f3('0x214')](0x1),_0x26fe7d[_0x55f3('0xa05')]=!0x0,_0x15ca68[_0x55f3('0x982')]&&_0x2c9bbe&&0x0<_0x2c9bbe&&_0x2c9bbe<0x1))if(Array[_0x55f3('0x1a9')](_0x26fe7d[_0x55f3('0x3f')])){var _0x46d082=!0x0,_0x15ca68=!0x1,_0x41756d=void 0x0;try{for(var _0x45a7ab,_0x36f24a=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x26fe7d['material']);!(_0x46d082=(_0x45a7ab=_0x36f24a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x46d082=!0x0){var _0x1d7229=_0x45a7ab[_0x55f3('0x12')],_0x1c6ac6=(_0x1d7229[_0x55f3('0xa13')]||(_0x1d7229[_0x55f3('0xa13')]=_0x1d7229[_0x55f3('0x220')][_0x55f3('0x1b0')]()),_0x1d7229[_0x55f3('0xa13')][_0x55f3('0x1b0')]());_0x1c6ac6['offsetHSL'](0x0,0x0,_0x2c9bbe-0x1),_0x1d7229[_0x55f3('0x220')]['copy'](_0x1c6ac6);}}catch(_0x52d353){_0x15ca68=!0x0,_0x41756d=_0x52d353;}finally{try{!_0x46d082&&_0x36f24a[_0x55f3('0x271')]&&_0x36f24a[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x41756d;}}}else{_0x26fe7d['material']['_bloomOriginColor']||(_0x26fe7d[_0x55f3('0x3f')]['_bloomOriginColor']=_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x1b0')]());_0x15ca68=_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0xa13')][_0x55f3('0x1b0')]();_0x15ca68[_0x55f3('0xa14')](0x0,0x0,_0x2c9bbe-0x1),_0x26fe7d['material'][_0x55f3('0x220')][_0x55f3('0x1ba')](_0x15ca68);}}},'removeObjectBloomLight':function(_0x26fe7d){if(_0x26fe7d instanceof THREE[_0x55f3('0x317')])if(_0x26fe7d[_0x55f3('0xa12')]['disable'](0x1),Array[_0x55f3('0x1a9')](_0x26fe7d['material'])){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x26fe7d['material']);!(_0x2c9bbe=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2c9bbe=!0x0){var _0x36f24a=_0x41756d[_0x55f3('0x12')];_0x36f24a[_0x55f3('0xa13')]&&_0x36f24a[_0x55f3('0x220')]['copy'](_0x36f24a['_bloomOriginColor']);}}catch(_0x5cf05b){_0x15ca68=!0x0,_0x46d082=_0x5cf05b;}finally{try{!_0x2c9bbe&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x46d082;}}}else _0x26fe7d[_0x55f3('0x3f')][_0x55f3('0xa13')]&&_0x26fe7d['material'][_0x55f3('0x220')][_0x55f3('0x1ba')](_0x26fe7d[_0x55f3('0x3f')][_0x55f3('0xa13')]);else console['info']('not\x20support\x20this\x20obj');},'_clearObject3DBloomLight':function(_0x26fe7d){_0x26fe7d[_0x55f3('0x65f')](function(_0x26fe7d){if(Array[_0x55f3('0x1a9')](_0x26fe7d['material'])){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x26fe7d[_0x55f3('0x3f')]);!(_0x2c9bbe=(_0x41756d=_0x45a7ab[_0x55f3('0x85')]())['done']);_0x2c9bbe=!0x0)_0x41756d[_0x55f3('0x12')][_0x55f3('0xa15')]=!0x0;}catch(_0x4d4777){_0x15ca68=!0x0,_0x46d082=_0x4d4777;}finally{try{!_0x2c9bbe&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x46d082;}}}else _0x26fe7d[_0x55f3('0x3f')]&&(_0x26fe7d[_0x55f3('0x3f')]['isIgnoreScreenEffect']=!0x0);});},'_clearObject3DOutline':function(_0x26fe7d){var _0x1d7229=_0x2e458d[_0x55f3('0x98d')]['screenEffect'][_0x55f3('0xa16')]['ignoreMaterials'];_0x26fe7d[_0x55f3('0x65f')](function(_0x26fe7d){if(Array['isArray'](_0x26fe7d[_0x55f3('0x3f')])){var _0x2c9bbe=!0x0,_0x15ca68=!0x1,_0x46d082=void 0x0;try{for(var _0x41756d,_0x45a7ab=(0x0,_0x5f4091[_0x55f3('0x9')])(_0x26fe7d['material']);!(_0x2c9bbe=(_0x41756d=_0x45a7ab['next']())[_0x55f3('0x269')]);_0x2c9bbe=!0x0){var _0x36f24a=_0x41756d[_0x55f3('0x12')];_0x1d7229[_0x55f3('0x73')](_0x36f24a);}}catch(_0x1e2373){_0x15ca68=!0x0,_0x46d082=_0x1e2373;}finally{try{!_0x2c9bbe&&_0x45a7ab[_0x55f3('0x271')]&&_0x45a7ab[_0x55f3('0x271')]();}finally{if(_0x15ca68)throw _0x46d082;}}}else _0x26fe7d[_0x55f3('0x3f')]&&_0x1d7229[_0x55f3('0x73')](_0x26fe7d[_0x55f3('0x3f')]);});},'_resetOutlineIgnoreList':function(){_0x2e458d[_0x55f3('0x98d')]['screenEffect'][_0x55f3('0xa16')][_0x55f3('0xa17')][_0x55f3('0xf')]=0x0;},'updateOutlineStyle':function(_0x26fe7d){_0x2e458d[_0x55f3('0x98d')][_0x55f3('0xa18')](_0x26fe7d);},'setObjectOutline':function(_0x26fe7d,_0x2c9bbe){_0x2e458d['postProcessing']['setObjectOutline'](_0x26fe7d,_0x2c9bbe);},'removeObjectOutline':function(_0x26fe7d){_0x2e458d[_0x55f3('0x98d')][_0x55f3('0xa19')](_0x26fe7d);},'clearSelectedOutline':function(){_0x2e458d['postProcessing']['clearSelectedOutline']();},'resetBackgroundColor':function(_0x26fe7d){_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')]['relaceBgMaterial']&&(_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')][_0x55f3('0xa1a')][_0x55f3('0x220')][_0x55f3('0x300')](_0x26fe7d),_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')]['relaceBgMaterial'][_0x55f3('0xf7')]=!0x0);},'toggleScreenEffect':function(_0x26fe7d){_0x2e458d[_0x55f3('0x98d')][_0x55f3('0x5df')]&&(_0x26fe7d&&!_0x2e458d['postProcessing'][_0x55f3('0x5df')][_0x55f3('0x555')]?console[_0x55f3('0xda')]('%cTo\x20enable\x20this\x20effect,\x20you\x20need\x20to\x20set:\x20esmap.ESEffectTools.init({\x20isOpenScreenEffect:\x20true\x20})',_0x55f3('0x9b1')):(esmap[_0x55f3('0x28')]['instance'][_0x55f3('0x46')][_0x55f3('0x989')]=!!_0x26fe7d,_0x2e458d['postProcessing'][_0x55f3('0x5df')]&&(_0x2e458d['postProcessing'][_0x55f3('0x5df')][_0x55f3('0xa1b')][_0x55f3('0xf')]=0x0),esmap[_0x55f3('0x4e')]['options'][_0x55f3('0x55d')]=_0x26fe7d));},'setRainScreenEffect':function(_0x26fe7d){return _0x2e458d[_0x55f3('0x98d')][_0x55f3('0xa1c')](_0x26fe7d);},'setSnowScreenEffect':function(_0x26fe7d){return _0x2e458d['postProcessing']['setSnowScreenEffect'](_0x26fe7d);}},_0x525d0f[_0x55f3('0x5e1')]=function(_0x26fe7d,_0x2c9bbe,_0x15ca68){_0x41756d||(_0x2e458d[_0x55f3('0x5da')][_0x55f3('0xa1d')]({'configs':_0x26fe7d}),_0x26fe7d[_0x55f3('0x95f')]&&_0x2e458d['lights']['updateLightProbe'](_0x26fe7d[_0x55f3('0x95f')]),_0x26fe7d[_0x55f3('0x5dc')]&&_0x2e458d[_0x55f3('0x5dc')]['updateSkybox'](_0x26fe7d['skybox']),_0x26fe7d[_0x55f3('0x1e8')]&&_0x2e458d[_0x55f3('0x1e8')]['update'](_0x26fe7d['fog']),_0x2e458d[_0x55f3('0x956')][_0x55f3('0x555')]&&(_0x55f3('0x99a')==esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x990')]?esmap[_0x55f3('0x4e')][_0x55f3('0x97d')][_0x55f3('0xa1e')]():_0x2e458d[_0x55f3('0x956')][_0x55f3('0xa1f')]({'configs':_0x26fe7d,'isAnimate':void 0x0===_0x26fe7d[_0x55f3('0xa20')]||_0x26fe7d[_0x55f3('0xa20')]})),setTimeout(function(){_0x41756d=!0x1,_0x2c9bbe&&_0x2c9bbe();},0x7d0));},_0x525d0f[_0x55f3('0x5e0')]=function(_0x26fe7d){_0x525d0f[_0x55f3('0x5e2')](),_0x3fbcf8(_0x26fe7d,esmap[_0x55f3('0x4e')]['configPath']);},_0x525d0f['clearAll']=function(){_0x29e23d=_0x245e21=_0x407c62=null,_0x3fb634=!(_0x1c6ac6={'json':_0x41756d=_0x2e5bb6=_0x15ca68=_0x3fb634=!0x1,'preload':!0x1}),_0x2e458d['removeAll'](),_0x3db0b8['dispose'](),_0x27601d[_0x55f3('0x7f')]&&_0x27601d[_0x55f3('0x35c')](_0x55f3('0x997'),_0x27601d[_0x55f3('0x7f')]['checkIsInLowDeviceComplete'][0x0]),_0x14260b=null;},Object[_0x55f3('0x4')](_0x525d0f,_0x55f3('0xa21'),{'enumerable':!0x1,'get':function(){return _0x3fb634;},'set':function(_0x26fe7d){_0x3fb634=_0x26fe7d;}}),_0x26fe7d[_0x55f3('0x9')]=_0x525d0f;},function(_0x3e81bd,_0x63bf80,_0xc697d7){'use strict';Object['defineProperty'](_0x63bf80,'__esModule',{'value':!0x0});var _0x3c5c70=_0xf17128(_0xc697d7(0x0)),_0x4ab111=_0xf17128(_0xc697d7(0x1)),_0x2926c=function(_0x3e81bd){if(_0x3e81bd&&_0x3e81bd[_0x55f3('0x7')])return _0x3e81bd;var _0x63bf80={};if(null!=_0x3e81bd)for(var _0xc697d7 in _0x3e81bd)Object[_0x55f3('0x15')][_0x55f3('0xc')]['call'](_0x3e81bd,_0xc697d7)&&(_0x63bf80[_0xc697d7]=_0x3e81bd[_0xc697d7]);return _0x63bf80['default']=_0x3e81bd,_0x63bf80;}(_0xc697d7(0xf5)),_0x2da41=_0xc697d7(0x58),_0x52d870=_0xc697d7(0x17);function _0xf17128(_0x3e81bd){return _0x3e81bd&&_0x3e81bd['__esModule']?_0x3e81bd:{'default':_0x3e81bd};}function _0x6df9d0(){(0x0,_0x3c5c70[_0x55f3('0x9')])(this,_0x6df9d0),this['map']=(0x0,_0x52d870[_0x55f3('0x2c')])(),this[_0x55f3('0x99b')]=!0x0,this[_0x55f3('0x5d8')]=null,this[_0x55f3('0x5d9')]=null,this['ground']=null,this['lights']=null,this[_0x55f3('0x5db')]=null,this['skybox']=null,this[_0x55f3('0x5dd')]=null,this['models']=null,this[_0x55f3('0x98d')]=null,this[_0x55f3('0x956')]=null,this[_0x55f3('0x1e8')]=null,this[_0x55f3('0x7f7')]=null,this[_0x55f3('0x5de')]=null,this[_0x55f3('0x35b')]();}(0x0,_0x4ab111[_0x55f3('0x9')])(_0x6df9d0,[{'key':_0x55f3('0x35b'),'value':function(){this[_0x55f3('0x5da')]=new _0x2926c[(_0x55f3('0x961'))](),this['buildings']=new _0x2926c['Buildings']({'lights':this[_0x55f3('0x5da')]}),this[_0x55f3('0x5d9')]=new _0x2926c[(_0x55f3('0x971'))](),this[_0x55f3('0x97a')]=new _0x2926c[(_0x55f3('0x97c'))](),this['routes']=new _0x2926c[(_0x55f3('0xa22'))](),this[_0x55f3('0x5dc')]=new _0x2926c[(_0x55f3('0xc7'))](),this[_0x55f3('0x5dd')]=new _0x2926c[(_0x55f3('0x7b7'))](this[_0x55f3('0x5dc')]),this[_0x55f3('0x97d')]=new _0x2926c['Models']({'water':this[_0x55f3('0x5dd')],'lights':this[_0x55f3('0x5da')]}),this[_0x55f3('0x98d')]=new _0x2926c[(_0x55f3('0x98a'))](),this['shadow']=new _0x2926c[(_0x55f3('0xa23'))](),this[_0x55f3('0x1e8')]=new _0x2926c[(_0x55f3('0x97f'))](),this[_0x55f3('0x7f7')]=new _0x2926c[(_0x55f3('0xa24'))](),this['heatMap']=new _0x2926c[(_0x55f3('0xa25'))]();}},{'key':'addEffect','value':function(_0x3e81bd){var _0x63bf80=_0x3e81bd[_0x55f3('0xeb')],_0xc697d7=_0x3e81bd[_0x55f3('0xa26')],_0x3c5c70=_0x3e81bd[_0x55f3('0x2c0')];switch(_0x63bf80){case _0x2da41[_0x55f3('0x2bf')]['Buildings']:_0xc697d7['isTileBuilding']?this[_0x55f3('0x5d8')][_0x55f3('0xa27')](_0xc697d7):this[_0x55f3('0x5d8')][_0x55f3('0xa28')](_0xc697d7[_0x55f3('0x3b')],_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x971')]:this[_0x55f3('0x5d9')]['setFloorMaterial'](_0xc697d7);break;case _0x2da41['ESEffectsConstant'][_0x55f3('0x97c')]:this['ground'][_0x55f3('0xa29')](_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')]['Lights']:_0xc697d7[_0x55f3('0xa2a')]&&this[_0x55f3('0x5da')]['addPointLights'](_0xc697d7),_0xc697d7[_0x55f3('0x975')]&&this[_0x55f3('0x5da')][_0x55f3('0xa2b')](_0xc697d7),_0xc697d7['isAmbientLight']&&this[_0x55f3('0x5da')][_0x55f3('0x9ee')](_0xc697d7),_0xc697d7[_0x55f3('0xa2c')]&&this[_0x55f3('0x5da')][_0x55f3('0xa2d')](_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0xa22')]:_0xc697d7[_0x55f3('0xa2e')]?this[_0x55f3('0x5db')]['loadRoutesLine'](0x1,_0xc697d7):this[_0x55f3('0x5db')][_0x55f3('0xa2f')](_0xc697d7,_0x3c5c70);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0xc7')]:this[_0x55f3('0x5dc')]['setSkyBox'](_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x7b7')]:this[_0x55f3('0x5dd')][_0x55f3('0xa30')](_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0xa31')]:this[_0x55f3('0x97d')]['setModelsEffect'](_0xc697d7,_0x3c5c70);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x98a')]:this[_0x55f3('0x98d')]['init'](_0xc697d7);break;case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0xa23')]:this[_0x55f3('0x956')][_0x55f3('0xa32')](_0xc697d7);break;case _0x2da41['ESEffectsConstant']['Fog']:this[_0x55f3('0x1e8')][_0x55f3('0x35b')](_0xc697d7);}}},{'key':_0x55f3('0xa33'),'value':function(_0x3e81bd){var _0x63bf80=_0x3e81bd[_0x55f3('0xeb')];switch(_0x3e81bd[_0x55f3('0x4e6')],_0x3e81bd['data'],_0x63bf80){case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x96a')]:case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x971')]:case _0x2da41[_0x55f3('0x2bf')]['Ground']:case _0x2da41['ESEffectsConstant'][_0x55f3('0x961')]:case _0x2da41['ESEffectsConstant']['Routes']:case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0xc7')]:case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x7b7')]:}}},{'key':_0x55f3('0xa34'),'value':function(_0x3e81bd){var _0x63bf80=_0x3e81bd[_0x55f3('0xeb')];switch(_0x3e81bd[_0x55f3('0x4e6')],_0x3e81bd['data'],_0x63bf80){case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x96a')]:case _0x2da41['ESEffectsConstant'][_0x55f3('0x971')]:case _0x2da41['ESEffectsConstant']['Ground']:case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x961')]:case _0x2da41[_0x55f3('0x2bf')]['Routes']:case _0x2da41[_0x55f3('0x2bf')]['Skybox']:case _0x2da41[_0x55f3('0x2bf')][_0x55f3('0x7b7')]:}}},{'key':'removeAll','value':function(){this[_0x55f3('0x5d8')][_0x55f3('0x32e')](),this[_0x55f3('0x5d9')]['dispose'](),this[_0x55f3('0x97a')]['disposeAll'](),this[_0x55f3('0x5da')]['dispose'](),this[_0x55f3('0x5db')]['disposeAll'](),this[_0x55f3('0x5dc')][_0x55f3('0x93')](),this['water'][_0x55f3('0x32e')](),this[_0x55f3('0x97d')][_0x55f3('0x32e')](),this[_0x55f3('0x98d')][_0x55f3('0x93')]();}},{'key':_0x55f3('0x336'),'value':function(_0x3e81bd){this[_0x55f3('0x99b')]&&(this['buildings'][_0x55f3('0x336')](_0x3e81bd),this[_0x55f3('0x5db')][_0x55f3('0x336')](_0x3e81bd),this['water'][_0x55f3('0x336')](_0x3e81bd),this[_0x55f3('0x5d9')][_0x55f3('0x336')](_0x3e81bd),this[_0x55f3('0x97d')][_0x55f3('0x336')](_0x3e81bd),this['postProcessing']['render'](_0x3e81bd),this[_0x55f3('0x5de')]['render'](_0x3e81bd));}},{'key':_0x55f3('0x93'),'value':function(){}}]),_0x63bf80['default']=_0x6df9d0;},function(_0x50ee3c,_0x23140f,_0x2cda99){'use strict';Object[_0x55f3('0x4')](_0x23140f,'__esModule',{'value':!0x0}),_0x23140f[_0x55f3('0xa25')]=_0x23140f[_0x55f3('0xa24')]=_0x23140f['Fog']=_0x23140f[_0x55f3('0xa23')]=_0x23140f[_0x55f3('0x98a')]=_0x23140f[_0x55f3('0xa31')]=_0x23140f[_0x55f3('0x7b7')]=_0x23140f[_0x55f3('0xc7')]=_0x23140f[_0x55f3('0xa22')]=_0x23140f[_0x55f3('0x961')]=_0x23140f['Ground']=_0x23140f[_0x55f3('0x971')]=_0x23140f['Buildings']=void 0x0;var _0x26cb0c=_0x6d1f3c(_0x2cda99(0xf6)),_0x3c2bb0=_0x6d1f3c(_0x2cda99(0xf7)),_0x57ff3c=_0x6d1f3c(_0x2cda99(0xf8)),_0x3df6e8=_0x6d1f3c(_0x2cda99(0xf9)),_0x24a4c1=_0x6d1f3c(_0x2cda99(0xfb)),_0x30fb55=_0x6d1f3c(_0x2cda99(0x113)),_0x1d51df=_0x6d1f3c(_0x2cda99(0x114)),_0x8bdc0b=_0x6d1f3c(_0x2cda99(0x115)),_0x4e17fa=_0x6d1f3c(_0x2cda99(0x116)),_0x1ef786=_0x6d1f3c(_0x2cda99(0x120)),_0x898c1e=_0x6d1f3c(_0x2cda99(0x121)),_0x3fbb1a=_0x6d1f3c(_0x2cda99(0x122)),_0x2cda99=_0x6d1f3c(_0x2cda99(0x123));function _0x6d1f3c(_0x50ee3c){return _0x50ee3c&&_0x50ee3c[_0x55f3('0x7')]?_0x50ee3c:{'default':_0x50ee3c};}_0x23140f['Buildings']=_0x26cb0c[_0x55f3('0x9')],_0x23140f[_0x55f3('0x971')]=_0x3c2bb0[_0x55f3('0x9')],_0x23140f['Ground']=_0x57ff3c[_0x55f3('0x9')],_0x23140f[_0x55f3('0x961')]=_0x3df6e8[_0x55f3('0x9')],_0x23140f['Routes']=_0x24a4c1[_0x55f3('0x9')],_0x23140f[_0x55f3('0xc7')]=_0x30fb55['default'],_0x23140f[_0x55f3('0x7b7')]=_0x1d51df['default'],_0x23140f[_0x55f3('0xa31')]=_0x8bdc0b['default'],_0x23140f[_0x55f3('0x98a')]=_0x4e17fa[_0x55f3('0x9')],_0x23140f[_0x55f3('0xa23')]=_0x1ef786[_0x55f3('0x9')],_0x23140f[_0x55f3('0x97f')]=_0x898c1e[_0x55f3('0x9')],_0x23140f[_0x55f3('0xa24')]=_0x3fbb1a[_0x55f3('0x9')],_0x23140f[_0x55f3('0xa25')]=_0x2cda99[_0x55f3('0x9')];},function(_0x256f65,_0x171608,_0x3a5982){'use strict';Object[_0x55f3('0x4')](_0x171608,_0x55f3('0x7'),{'value':!0x0});var _0x317e12=_0x663ef4(_0x3a5982(0x43)),_0x5c1149=_0x663ef4(_0x3a5982(0x4)),_0xcacc67=_0x663ef4(_0x3a5982(0x0)),_0x2a3304=_0x663ef4(_0x3a5982(0x1)),_0x1762a0=_0x3a5982(0x17),_0x449935=function(_0x256f65){if(_0x256f65&&_0x256f65['__esModule'])return _0x256f65;var _0x171608={};if(null!=_0x256f65)for(var _0x3a5982 in _0x256f65)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x256f65,_0x3a5982)&&(_0x171608[_0x3a5982]=_0x256f65[_0x3a5982]);return _0x171608[_0x55f3('0x9')]=_0x256f65,_0x171608;}(_0x3a5982(0x3d)),_0x43d4ac=_0x3a5982(0x87);function _0x663ef4(_0x256f65){return _0x256f65&&_0x256f65[_0x55f3('0x7')]?_0x256f65:{'default':_0x256f65};}function _0x2e6e79(_0x256f65){_0x256f65=_0x256f65['lights'];(0x0,_0xcacc67[_0x55f3('0x9')])(this,_0x2e6e79),this[_0x55f3('0x94')]=(0x0,_0x1762a0[_0x55f3('0x2c')])(),this['lights']=_0x256f65,this['buildingsThemes']=[],this[_0x55f3('0x9a8')]=[],this['edgeLineFrameList']=[],this[_0x55f3('0x964')]=null,this[_0x55f3('0xa35')]={'horizonScan':!0x1,'verticalScan':!0x1,'centerSpread':!0x1,'radarScan':!0x1},this[_0x55f3('0x955')]=!0x1,this[_0x55f3('0x9e7')]={},this['editTileBuildingColorTheme']=null;}(0x0,_0x2a3304[_0x55f3('0x9')])(_0x2e6e79,[{'key':_0x55f3('0xa36'),'value':function(_0x256f65,_0x171608,_0x3a5982){_0x171608={'map':this[_0x55f3('0x94')],'id':_0x256f65['id'],'mapView':_0x171608,'isTileBuilding':_0x3a5982,'centerPos':_0x256f65['lineScanCenter'],'buildingColorStr':_0x256f65[_0x55f3('0x220')],'repeat':_0x256f65[_0x55f3('0xa37')],'topRepeat':_0x256f65[_0x55f3('0xa38')],'textureLightStrength':_0x256f65['imgLightFactor'],'texPath':_0x256f65[_0x55f3('0x967')],'topTexPath':_0x256f65[_0x55f3('0x966')],'gradientTexPath':_0x256f65[_0x55f3('0x968')],'gradientCustom':_0x256f65[_0x55f3('0x46e')],'emissiveTexPath':_0x256f65[_0x55f3('0x96e')],'emissiveTexScale':_0x256f65[_0x55f3('0xa39')],'emissiveColorStr':_0x256f65[_0x55f3('0xa3a')],'opacity':_0x256f65[_0x55f3('0x221')],'isBreathColor':_0x256f65[_0x55f3('0xa3b')],'isBlending':_0x256f65[_0x55f3('0xa3c')],'isOpenScan':_0x256f65[_0x55f3('0x963')],'isShowHorizonScan':_0x256f65[_0x55f3('0x475')],'isShowVerticalScan':_0x256f65[_0x55f3('0x476')],'isShowCenterSpread':_0x256f65[_0x55f3('0x477')],'isShowRadarScan':_0x256f65[_0x55f3('0x478')],'hlColorStr':_0x256f65[_0x55f3('0xa3d')],'hlWidth':_0x256f65[_0x55f3('0xa3e')],'hlDiffuse':_0x256f65[_0x55f3('0xa3f')],'hlExtent':_0x256f65[_0x55f3('0xa40')],'hlSpeed':_0x256f65[_0x55f3('0xa41')],'vlHeight':_0x256f65['verticalScanHeight'],'vlColorStr':_0x256f65[_0x55f3('0xa42')],'vlExtent':_0x256f65['verticalScanExtent'],'vlSpeed':_0x256f65['verticalScanSpeed'],'csColorStr':_0x256f65[_0x55f3('0xa43')],'csMaxRadius':_0x256f65[_0x55f3('0xa44')],'csSpeed':_0x256f65['centerSpreadSpeed'],'csCenterPos':_0x256f65[_0x55f3('0xa45')],'rdColorStr':_0x256f65[_0x55f3('0xa46')],'radarRadius':_0x256f65[_0x55f3('0xa47')],'radarSpeed':_0x256f65['radarScanSpeed'],'radarCenterPos':_0x256f65['radarScanCenterPos'],'radarTexPath':_0x256f65[_0x55f3('0xa48')],'extentEffectConfig':_0x256f65[_0x55f3('0x969')],'screenSkyConfig':_0x256f65[_0x55f3('0x970')]};return _0x171608[_0x55f3('0x479')]&&(_0x171608['centerPos']=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x171608[_0x55f3('0x479')]['x'],_0x171608[_0x55f3('0x479')]['y'])),_0x171608[_0x55f3('0x489')]&&_0x171608[_0x55f3('0x489')]['center']&&(_0x171608['extentEffectConfig']['center']=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x171608[_0x55f3('0x489')]['center']['x'],_0x171608['extentEffectConfig']['center']['y'])),new _0x449935[(_0x55f3('0xc3'))](_0x171608);}},{'key':'addBuildingsEffect','value':function(_0x256f65,_0x29030f){_0x29030f['openScan']&&this[_0x55f3('0xa49')](_0x29030f);var _0x222176=(0x0,_0x1762a0[_0x55f3('0x2b')])(0x0)['getFloor'](_0x29030f[_0x55f3('0xa4a')]||0x1)[_0x55f3('0xa4b')]([esmap[_0x55f3('0x5d3')][_0x55f3('0xa4c')],esmap[_0x55f3('0x5d3')][_0x55f3('0xa4d')]]),_0x589039=this[_0x55f3('0xa36')](_0x29030f,this[_0x55f3('0x94')][_0x55f3('0x41b')]);_0x589039[_0x55f3('0x2cc')]('canUpdate',function(){var _0x256f65=!0x0,_0x171608=!0x1,_0x3a5982=void 0x0;try{for(var _0xcacc67,_0x2a3304=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x222176);!(_0x256f65=(_0xcacc67=_0x2a3304[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x256f65=!0x0){var _0x663ef4=_0xcacc67[_0x55f3('0x12')],_0x317e12=!0x0,_0x2e6e79=!0x1,_0x564c18=void 0x0;try{for(var _0x265d02,_0x57d0da=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x663ef4[_0x55f3('0x5e9')][_0x55f3('0x322')]);!(_0x317e12=(_0x265d02=_0x57d0da[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x317e12=!0x0){var _0x39b40a,_0x90414a=_0x265d02[_0x55f3('0x12')],_0x4cbf35=(0x0,_0x1762a0[_0x55f3('0x3c')])(_0x90414a,_0x29030f[_0x55f3('0x3b')]);if(_0x4cbf35){_0x90414a[_0x55f3('0x3f')][_0x4cbf35[_0x55f3('0x63f')][_0x55f3('0x39c')]]=_0x589039['getMaterial'](),_0x589039[_0x55f3('0x500')]=_0x90414a,_0x55f3('0x6fc')===_0x29030f[_0x55f3('0x2be')]&&_0x29030f[_0x55f3('0xa4e')]&&((_0x39b40a=new _0x449935[(_0x55f3('0xc9'))]({'colorStr':_0x29030f[_0x55f3('0xa4f')],'opacity':_0x29030f[_0x55f3('0xa4e')],'depthTest':!0x1}))[_0x55f3('0x6ff')](_0x90414a,_0x90414a[_0x55f3('0x95')]),_0x90414a[_0x55f3('0x38')]['y']+=0x1,self[_0x55f3('0xa50')][_0x55f3('0x73')](_0x39b40a)),(0x0,_0x43d4ac[_0x55f3('0x402')])(_0x90414a['material'][_0x4cbf35[_0x55f3('0x63f')][_0x55f3('0x39c')]],_0x29030f);break;}}}catch(_0x3f131b){_0x2e6e79=!0x0,_0x564c18=_0x3f131b;}finally{try{!_0x317e12&&_0x57d0da[_0x55f3('0x271')]&&_0x57d0da[_0x55f3('0x271')]();}finally{if(_0x2e6e79)throw _0x564c18;}}}}catch(_0x4bdde1){_0x171608=!0x0,_0x3a5982=_0x4bdde1;}finally{try{!_0x256f65&&_0x2a3304[_0x55f3('0x271')]&&_0x2a3304[_0x55f3('0x271')]();}finally{if(_0x171608)throw _0x3a5982;}}}),_0x589039[_0x55f3('0x3b')]=_0x256f65,_0x589039['_effectConfig']=_0x29030f,this['buildingsThemes'][_0x55f3('0x73')](_0x589039);}},{'key':_0x55f3('0x96c'),'value':function(_0x256f65,_0x171608,_0x3a5982){var _0x256f65=(0x0,_0x1762a0['getBuiding'])(_0x256f65)[_0x55f3('0x5e6')](_0x3a5982||0x1)[_0x55f3('0xa4b')]([esmap[_0x55f3('0x5d3')]['MODEL'],esmap[_0x55f3('0x5d3')][_0x55f3('0xa4d')]]),_0xcacc67=!0x0,_0x3a5982=!0x1,_0x2a3304=void 0x0;try{for(var _0x663ef4,_0x317e12=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x256f65);!(_0xcacc67=(_0x663ef4=_0x317e12[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0xcacc67=!0x0){var _0x2e6e79=_0x663ef4['value'],_0x653598=!0x0,_0x374bfd=!0x1,_0x24b310=void 0x0;try{for(var _0x344b7c,_0xe57199=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x2e6e79[_0x55f3('0x5e9')][_0x55f3('0x322')]);!(_0x653598=(_0x344b7c=_0xe57199['next']())['done']);_0x653598=!0x0){var _0x496725=_0x344b7c[_0x55f3('0x12')];if((0x0,_0x1762a0[_0x55f3('0x3c')])(_0x496725,_0x171608[_0x55f3('0x3b')])&&0x0<_0x496725[_0x55f3('0x3d')][_0x55f3('0x4b5')][_0x55f3('0xf')]){_0x171608['computeTopFaceAttr'](_0x496725);break;}}}catch(_0x5acd5f){_0x374bfd=!0x0,_0x24b310=_0x5acd5f;}finally{try{!_0x653598&&_0xe57199['return']&&_0xe57199[_0x55f3('0x271')]();}finally{if(_0x374bfd)throw _0x24b310;}}}}catch(_0x5e75db){_0x3a5982=!0x0,_0x2a3304=_0x5e75db;}finally{try{!_0xcacc67&&_0x317e12[_0x55f3('0x271')]&&_0x317e12[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0x2a3304;}}}},{'key':'createTileBuildingsEffect2','value':function(_0x256f65){for(var _0x171608 in this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')])0x0===this[_0x55f3('0x9a8')]['length']?this[_0x55f3('0xa52')](_0x256f65,0x0):this[_0x55f3('0x9a8')][this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')][_0x171608][_0x55f3('0xa53')]]||this['createTileBuildingsEffect'](_0x256f65,this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')][_0x171608][_0x55f3('0xa53')]),this['map'][_0x55f3('0x46')][_0x55f3('0xa54')]&&(0x2==+this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')][_0x171608][_0x55f3('0x4b6')]?this[_0x55f3('0xa55')](_0x256f65,_0x171608):0x1!=+this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')][_0x171608][_0x55f3('0x4b6')]||this[_0x55f3('0x9e8')]||this[_0x55f3('0xa55')](_0x256f65,_0x171608,!0x0));}},{'key':_0x55f3('0xa55'),'value':function(_0x256f65,_0x171608,_0x3a5982){_0x256f65[_0x55f3('0x963')]&&this[_0x55f3('0xa49')](_0x256f65),_0x256f65['id']=_0x171608;var _0xcacc67=this[_0x55f3('0xa36')](_0x256f65,this[_0x55f3('0x94')][_0x55f3('0x41b')],!_0x3a5982),_0x2a3304=(_0x3a5982||(_0xcacc67[_0x55f3('0x4a8')]=this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa51')],_0xcacc67[_0x55f3('0x4ab')]=this['map'][_0x55f3('0x3a')][_0x55f3('0xa56')]),_0xcacc67['envTexture']=_0x256f65['envTexture'],_0xcacc67[_0x55f3('0x4fc')]()),_0x256f65=((0x0,_0x43d4ac[_0x55f3('0x402')])(_0x2a3304,_0x256f65),_0x256f65[_0x55f3('0xa57')]&&(_0xcacc67['renderSort']=_0x256f65[_0x55f3('0xa57')]),_0xcacc67[_0x55f3('0x3b')]=_0x256f65[_0x55f3('0x3b')],this[_0x55f3('0x955')]=_0x256f65[_0x55f3('0x956')],_0x3a5982?this['editTileBuildingColorTheme']=_0xcacc67:this[_0x55f3('0x9e7')][_0x171608]=_0xcacc67,new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x415'))](0x1,0x1,0x1),_0x2a3304));_0x256f65[_0x55f3('0x1d9')]['set'](0.01,0.01,0.01),this[_0x55f3('0x94')][_0x55f3('0x41b')]['scene'][_0x55f3('0x1c3')](_0x256f65),_0xcacc67[_0x55f3('0x2cc')]('shaderCompileComplete',function(){});}},{'key':_0x55f3('0xa52'),'value':function(_0x256f65,_0x171608){_0x256f65['openScan']&&this['setBuildingScanConfig'](_0x256f65),_0x256f65['id']=_0x171608;var _0x171608=this['setBuildingsTheme'](_0x256f65,this[_0x55f3('0x94')][_0x55f3('0x41b')],!0x0),_0x3a5982=(_0x171608[_0x55f3('0x4a8')]=this[_0x55f3('0x94')]['mapTheme']['tileStyles'],_0x171608[_0x55f3('0x4ab')]=this[_0x55f3('0x94')][_0x55f3('0x3a')]['tileTextures'],_0x171608[_0x55f3('0x95f')]=_0x256f65[_0x55f3('0x95f')],_0x171608[_0x55f3('0x4aa')]=this['mappingThemeImgStyle'](),_0x171608[_0x55f3('0x4fc')]());_0x3a5982[_0x55f3('0x46b')]=!0x0,(0x0,_0x43d4ac[_0x55f3('0x402')])(_0x3a5982,_0x256f65),_0x256f65[_0x55f3('0xa57')]&&(_0x171608['renderSort']=_0x256f65[_0x55f3('0xa57')]),_0x171608[_0x55f3('0x3b')]=_0x256f65[_0x55f3('0x3b')],this[_0x55f3('0x955')]=_0x256f65[_0x55f3('0x956')],this[_0x55f3('0x9a8')][_0x55f3('0x73')](_0x171608);}},{'key':'addTileBuildingsEffect','value':function(_0x256f65){if(0x3e8<_0x256f65['id']){for(var _0x171608 in this['map'][_0x55f3('0x3a')][_0x55f3('0xa51')])if(this['map'][_0x55f3('0x3a')]['tileStyles'][_0x171608][_0x55f3('0xa53')]===_0x256f65['id']){this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa58')][_0x256f65['id']]=this[_0x55f3('0x94')][_0x55f3('0x3a')]['tileStyles'][_0x171608][_0x55f3('0x3f')];break;}}else{var _0x3a5982=_0x256f65['getMaterial']();_0x3a5982&&(this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xa58')][_0x256f65['id']]=_0x3a5982);}}},{'key':_0x55f3('0x9ab'),'value':function(_0x256f65,_0x171608){var _0x3a5982,_0xcacc67=this,_0x256f65=this[_0x55f3('0x94')][_0x55f3('0xa59')](_0x256f65);_0x256f65&&(_0x3a5982=_0x256f65['getLayersByTypes']([esmap['ESLayerType'][_0x55f3('0xa4c')],esmap['ESLayerType'][_0x55f3('0xa4d')]]),_0x171608[_0x55f3('0x4b9')]?this[_0x55f3('0xa5a')](_0x3a5982,_0x171608):_0x171608[_0x55f3('0x2cc')]('shaderCompileComplete',function(){_0xcacc67[_0x55f3('0xa5a')](_0x3a5982,_0x171608);}));}},{'key':_0x55f3('0xa5a'),'value':function(_0x256f65,_0x171608){var _0x3a5982=!0x0,_0xcacc67=!0x1,_0x2a3304=void 0x0;try{for(var _0x663ef4,_0x317e12=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x256f65);!(_0x3a5982=(_0x663ef4=_0x317e12['next']())[_0x55f3('0x269')]);_0x3a5982=!0x0){var _0x2e6e79=_0x663ef4[_0x55f3('0x12')],_0xca5de6=!0x0,_0x21ab66=!0x1,_0x7e0528=void 0x0;try{for(var _0x2af345,_0x2a9f4a=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x2e6e79['o3d_'][_0x55f3('0x322')]);!(_0xca5de6=(_0x2af345=_0x2a9f4a['next']())[_0x55f3('0x269')]);_0xca5de6=!0x0){var _0x499c8e=_0x2af345[_0x55f3('0x12')];0x0<_0x499c8e[_0x55f3('0x3d')][_0x55f3('0x4b5')]['length']&&(_0x171608[_0x55f3('0x4b4')](_0x499c8e),_0x171608[_0x55f3('0xa57')]&&(_0x499c8e[_0x55f3('0x318')]=_0x171608['renderSort']),this['isShowShadow']&&(_0x499c8e[_0x55f3('0x806')]=!0x0,_0x499c8e[_0x55f3('0x7d9')]=!0x0));}}catch(_0x465c92){_0x21ab66=!0x0,_0x7e0528=_0x465c92;}finally{try{!_0xca5de6&&_0x2a9f4a['return']&&_0x2a9f4a[_0x55f3('0x271')]();}finally{if(_0x21ab66)throw _0x7e0528;}}}}catch(_0x10923a){_0xcacc67=!0x0,_0x2a3304=_0x10923a;}finally{try{!_0x3a5982&&_0x317e12[_0x55f3('0x271')]&&_0x317e12[_0x55f3('0x271')]();}finally{if(_0xcacc67)throw _0x2a3304;}}}},{'key':_0x55f3('0xa5b'),'value':function(){for(var _0x256f65={},_0x171608=0x0,_0x3a5982=this['map'][_0x55f3('0x3a')][_0x55f3('0xa5c')][_0x55f3('0xa5d')],_0xcacc67=0x0;_0xcacc67<_0x3a5982[_0x55f3('0xf')];_0xcacc67++){var _0x2a3304,_0x663ef4=_0x3a5982[_0xcacc67];0x2==+_0x663ef4[_0x55f3('0x4b6')]&&0x1!=+_0x663ef4[_0x55f3('0x7e8')]&&(_0x256f65[_0x171608]||(_0x256f65[_0x171608]={'topImgIndexMap':{},'sideImgIndexMap':{}}),_0x663ef4[_0x55f3('0xa5e')]&&!_0x256f65[_0x171608]['topImgIndexMap'][_0x663ef4[_0x55f3('0xa5e')]]&&(_0x2a3304=(0x0,_0x317e12['default'])(_0x256f65[_0x171608][_0x55f3('0x4b2')])[_0x55f3('0xf')]+0x1,_0x256f65[_0x171608]['topImgIndexMap'][_0x2a3304]=_0x663ef4[_0x55f3('0xa5e')]),_0x663ef4[_0x55f3('0xa5f')]&&!_0x256f65[_0x171608]['sideImgIndexMap'][_0x663ef4[_0x55f3('0xa5f')]]&&(_0x2a3304=(0x0,_0x317e12[_0x55f3('0x9')])(_0x256f65[_0x171608][_0x55f3('0x4b3')])[_0x55f3('0xf')]+0x1,_0x256f65[_0x171608][_0x55f3('0x4b3')][_0x2a3304]=_0x663ef4[_0x55f3('0xa5f')],0x4<=_0x2a3304&&(_0x256f65[++_0x171608]={'topImgIndexMap':{},'sideImgIndexMap':{}})));}return _0x256f65;}},{'key':_0x55f3('0xa49'),'value':function(_0x256f65){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(_0x256f65['scanLightType']);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')],_0x2e6e79=null,_0x4fb95c=!0x0,_0xa2e8eb=!0x1,_0x21c8a=void 0x0;try{for(var _0xcdbf7d,_0x54c060=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x964')]);!(_0x4fb95c=(_0xcdbf7d=_0x54c060[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4fb95c=!0x0){var _0x46e6dd=_0xcdbf7d[_0x55f3('0x12')];if(_0x46e6dd[_0x55f3('0xeb')]===_0x317e12){_0x2e6e79=_0x46e6dd;break;}}}catch(_0x158c6c){_0xa2e8eb=!0x0,_0x21c8a=_0x158c6c;}finally{try{!_0x4fb95c&&_0x54c060[_0x55f3('0x271')]&&_0x54c060[_0x55f3('0x271')]();}finally{if(_0xa2e8eb)throw _0x21c8a;}}switch(_0x317e12){case _0x55f3('0xa60'):_0x256f65[_0x55f3('0x475')]=!0x0,_0x256f65[_0x55f3('0xa61')]=_0x2e6e79[_0x55f3('0xa61')],_0x256f65[_0x55f3('0xa3d')]=_0x2e6e79[_0x55f3('0xa62')],_0x256f65[_0x55f3('0xa3e')]=_0x2e6e79[_0x55f3('0xa63')],_0x256f65['horizonScanDiffuse']=_0x2e6e79[_0x55f3('0xa64')],_0x256f65['horizonScanExtent']=_0x2e6e79[_0x55f3('0xa65')],_0x256f65[_0x55f3('0xa41')]=_0x2e6e79[_0x55f3('0xa66')],this['isCanUseScanStatus'][_0x55f3('0xa67')]=!0x0;break;case _0x55f3('0xa68'):_0x256f65['isShowVerticalScan']=!0x0,_0x256f65[_0x55f3('0xa69')]=_0x2e6e79['scanHeight'],_0x256f65['verticalScanColor']=_0x2e6e79[_0x55f3('0xa62')],_0x256f65[_0x55f3('0xa6a')]=_0x2e6e79[_0x55f3('0xa65')],_0x256f65['verticalScanSpeed']=_0x2e6e79[_0x55f3('0xa66')],this['isCanUseScanStatus']['verticalScan']=!0x0;break;case _0x55f3('0x9df'):_0x256f65[_0x55f3('0x477')]=!0x0,_0x256f65[_0x55f3('0xa45')]=(0x0,_0x1762a0['coordTransToThree'])(_0x2e6e79[_0x55f3('0xa6b')]['x'],_0x2e6e79[_0x55f3('0xa6b')]['y']),_0x256f65['centerSpreadColor']=_0x2e6e79['scanColor'],_0x256f65[_0x55f3('0xa44')]=_0x2e6e79[_0x55f3('0xa6c')],_0x256f65['centerSpreadSpeed']=_0x2e6e79['scanSpeed'],this[_0x55f3('0xa35')][_0x55f3('0xa6d')]=!0x0;break;case'radar_scan':_0x256f65[_0x55f3('0x478')]=!0x0,_0x256f65[_0x55f3('0xa6e')]=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x2e6e79[_0x55f3('0xa6b')]['x'],_0x2e6e79['scanCenter']['y']),_0x256f65[_0x55f3('0xa47')]=_0x2e6e79[_0x55f3('0xa6f')],_0x256f65['radarScanColor']=_0x2e6e79[_0x55f3('0xa62')],_0x256f65[_0x55f3('0xa48')]=(0x0,_0x1762a0[_0x55f3('0x29')])(_0x2e6e79[_0x55f3('0xa70')]),this[_0x55f3('0xa35')][_0x55f3('0xa71')]=!0x0;}}}catch(_0x149bca){_0x3a5982=!0x0,_0xcacc67=_0x149bca;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4['return']();}finally{if(_0x3a5982)throw _0xcacc67;}}}},{'key':_0x55f3('0x9da'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]&&_0x256f65){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this['tileBuilidngThemes']);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')];_0x317e12[_0x55f3('0x4b9')]&&_0x317e12[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x48b')][_0x55f3('0x12')][_0x55f3('0x300')](_0x256f65);}}catch(_0x59dffe){_0x3a5982=!0x0,_0xcacc67=_0x59dffe;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4['return']();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9e6'),'value':function(_0x256f65){if(0x0<this['tileBuilidngThemes'][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149['default'])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())['done']);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')];_0x317e12['material'][_0x55f3('0x63f')][_0x55f3('0xa72')]||(_0x317e12[_0x55f3('0x3f')][_0x55f3('0x63f')]['originOpacity']=_0x317e12[_0x55f3('0x3f')][_0x55f3('0x221')]),_0x317e12[_0x55f3('0x3f')][_0x55f3('0x221')]=!0x1===_0x256f65?_0x317e12[_0x55f3('0x3f')][_0x55f3('0x63f')][_0x55f3('0xa72')]:_0x317e12[_0x55f3('0x3f')][_0x55f3('0x221')]=_0x256f65;}}catch(_0x3e7a06){_0x3a5982=!0x0,_0xcacc67=_0x3e7a06;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9e5'),'value':function(_0x256f65){if(0x0<this['tileBuilidngThemes'][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())['done']);_0x171608=!0x0){var _0x317e12=_0x2a3304['value'];_0x317e12[_0x55f3('0x4b9')]&&(_0x317e12[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d9')][_0x55f3('0x12')]=_0x256f65);}}catch(_0x1c78dd){_0x3a5982=!0x0,_0xcacc67=_0x1c78dd;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9de'),'value':function(_0x256f65){if(0x0<this['tileBuilidngThemes'][_0x55f3('0xf')]&&this[_0x55f3('0xa35')][_0x55f3('0xa67')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149['default'])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12,_0x2e6e79=_0x2a3304[_0x55f3('0x12')];_0x2e6e79['shader']&&(_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4de')][_0x55f3('0x12')]=!0x0,_0x256f65[_0x55f3('0xa65')]&&(_0x2e6e79[_0x55f3('0x498')]=_0x256f65[_0x55f3('0xa65')],_0x2e6e79[_0x55f3('0x4df')]=_0x2e6e79[_0x55f3('0x498')][0x0],_0x2e6e79[_0x55f3('0x4b9')]['uniforms']['hlTime']['value']=_0x2e6e79['hlExtent'][0x0]),_0x256f65[_0x55f3('0xa66')]&&(_0x2e6e79[_0x55f3('0x49a')]=_0x256f65[_0x55f3('0xa66')]),_0x256f65[_0x55f3('0xa62')]&&_0x2e6e79[_0x55f3('0x499')][_0x55f3('0x300')](_0x256f65['scanColor']),_0x256f65[_0x55f3('0xa63')]&&(_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x47c')]['value']=_0x256f65[_0x55f3('0xa63')]),_0x256f65[_0x55f3('0xa61')]&&(_0x317e12=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x256f65[_0x55f3('0xa61')]['x'],_0x256f65[_0x55f3('0xa61')]['y']),_0x2e6e79['shader']['uniforms'][_0x55f3('0x479')][_0x55f3('0x12')]['set'](_0x317e12['x'],_0x317e12['y'])));}}catch(_0x5394a3){_0x3a5982=!0x0,_0xcacc67=_0x5394a3;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0xa73'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]&&this['isCanUseScanStatus'][_0x55f3('0xa6d')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149['default'])(this['tileBuilidngThemes']);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12,_0x2e6e79=_0x2a3304[_0x55f3('0x12')];_0x2e6e79[_0x55f3('0x4b9')]&&(_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x494')]['value']=0x0,_0x2e6e79[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x4de')][_0x55f3('0x12')]=!0x0,_0x256f65[_0x55f3('0xa66')]&&(_0x2e6e79[_0x55f3('0x502')]=_0x256f65[_0x55f3('0xa66')]),_0x256f65[_0x55f3('0xa62')]&&_0x2e6e79[_0x55f3('0x49e')][_0x55f3('0x300')](_0x256f65[_0x55f3('0xa62')]),_0x256f65[_0x55f3('0xa6c')]&&(_0x2e6e79[_0x55f3('0x481')]=_0x256f65[_0x55f3('0xa6c')]),_0x256f65[_0x55f3('0x55e')]&&(_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')]['spreadValue'][_0x55f3('0x12')]=0x3e8*_0x256f65['spreadFactor']),_0x256f65[_0x55f3('0xa6b')]&&(_0x317e12=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x256f65[_0x55f3('0xa6b')]['x'],_0x256f65[_0x55f3('0xa6b')]['y']),_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x482')][_0x55f3('0x12')][_0x55f3('0x39')](_0x317e12['x'],_0x317e12['y'])),_0x2e6e79[_0x55f3('0x494')]=0x0);}}catch(_0x117447){_0x3a5982=!0x0,_0xcacc67=_0x117447;}finally{try{!_0x171608&&_0x663ef4['return']&&_0x663ef4['return']();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9e1'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]&&this['isCanUseScanStatus']['radarScan']){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12,_0x2e6e79=_0x2a3304['value'];_0x2e6e79[_0x55f3('0x4b9')]&&(_0x2e6e79[_0x55f3('0x4b9')]['uniforms'][_0x55f3('0x495')]['value']=0x0,_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4de')][_0x55f3('0x12')]=!0x0,_0x256f65[_0x55f3('0xa66')]&&(_0x2e6e79[_0x55f3('0x484')]=_0x256f65['scanSpeed']),_0x256f65[_0x55f3('0xa62')]&&_0x2e6e79['radarColor']['setStyle'](_0x256f65[_0x55f3('0xa62')]),_0x256f65[_0x55f3('0xa6f')]&&(_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4e2')][_0x55f3('0x12')]=_0x256f65[_0x55f3('0xa6f')]),_0x256f65[_0x55f3('0xa6b')]&&(_0x317e12=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x256f65['scanCenter']['x'],_0x256f65['scanCenter']['y']),_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4e1')]['value']['set'](_0x317e12['x'],_0x317e12['y'])),_0x2e6e79['rdTime']=0x0);}}catch(_0x491f04){_0x3a5982=!0x0,_0xcacc67=_0x491f04;}finally{try{!_0x171608&&_0x663ef4['return']&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9e2'),'value':function(_0x256f65,_0x171608){if(_0x55f3('0xa60')===_0x256f65&&0x0<this[_0x55f3('0x9a8')]['length']&&this[_0x55f3('0xa35')]['horizonScan']){var _0x3a5982=!0x0,_0xcacc67=!0x1,_0x2a3304=void 0x0;try{for(var _0x663ef4,_0x317e12=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x3a5982=(_0x663ef4=_0x317e12[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3a5982=!0x0){var _0x2e6e79=_0x663ef4[_0x55f3('0x12')];_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')]['hlTime'][_0x55f3('0x12')]=0x0,_0x2e6e79[_0x55f3('0x4df')]=0x0,_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')]['isShowScan'][_0x55f3('0x12')]=_0x171608;}}catch(_0x2c293d){_0xcacc67=!0x0,_0x2a3304=_0x2c293d;}finally{try{!_0x3a5982&&_0x317e12[_0x55f3('0x271')]&&_0x317e12['return']();}finally{if(_0xcacc67)throw _0x2a3304;}}}if('center_spread'===_0x256f65&&0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]&&this[_0x55f3('0xa35')]['centerSpread']){var _0x31fd42=!0x0,_0xcacc67=!0x1,_0x2a3304=void 0x0;try{for(var _0x28cd50,_0x5acf5e=(0x0,_0x5c1149[_0x55f3('0x9')])(this['tileBuilidngThemes']);!(_0x31fd42=(_0x28cd50=_0x5acf5e['next']())[_0x55f3('0x269')]);_0x31fd42=!0x0){var _0x474e3d=_0x28cd50[_0x55f3('0x12')];_0x474e3d['shader'][_0x55f3('0x164')][_0x55f3('0x494')][_0x55f3('0x12')]=0x0,_0x474e3d[_0x55f3('0x494')]=0x0,_0x474e3d['shader']['uniforms'][_0x55f3('0x4de')]['value']=_0x171608;}}catch(_0x43694a){_0xcacc67=!0x0,_0x2a3304=_0x43694a;}finally{try{!_0x31fd42&&_0x5acf5e[_0x55f3('0x271')]&&_0x5acf5e[_0x55f3('0x271')]();}finally{if(_0xcacc67)throw _0x2a3304;}}}if(_0x55f3('0x9e0')===_0x256f65&&0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]&&this[_0x55f3('0xa35')][_0x55f3('0xa71')]){var _0x2e0a1b=!0x0,_0xcacc67=!0x1,_0x2a3304=void 0x0;try{for(var _0x2448b7,_0x49b890=(0x0,_0x5c1149[_0x55f3('0x9')])(this['tileBuilidngThemes']);!(_0x2e0a1b=(_0x2448b7=_0x49b890['next']())[_0x55f3('0x269')]);_0x2e0a1b=!0x0){var _0xc2b415=_0x2448b7[_0x55f3('0x12')];_0xc2b415[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x495')][_0x55f3('0x12')]=0x0,_0xc2b415[_0x55f3('0x495')]=0x0,_0xc2b415[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4de')][_0x55f3('0x12')]=_0x171608;}}catch(_0x7d4c04){_0xcacc67=!0x0,_0x2a3304=_0x7d4c04;}finally{try{!_0x2e0a1b&&_0x49b890[_0x55f3('0x271')]&&_0x49b890[_0x55f3('0x271')]();}finally{if(_0xcacc67)throw _0x2a3304;}}}}},{'key':_0x55f3('0x9e3'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12,_0x2e6e79=_0x2a3304['value'];_0x2e6e79[_0x55f3('0x4a3')]&&(_0x256f65[_0x55f3('0xa74')]?(_0x317e12=(0x0,_0x1762a0[_0x55f3('0x30')])(_0x256f65['center']['x'],_0x256f65[_0x55f3('0x22b')]['y']),_0x2e6e79[_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4a5')][_0x55f3('0x12')][_0x55f3('0x39')](_0x317e12['x'],_0x317e12['y']),_0x2e6e79['toggleExtentLight'](0x0,_0x256f65[_0x55f3('0x21e')])):_0x2e6e79['toggleExtentLight'](_0x256f65['radius'],0x0));}}catch(_0x1b901e){_0x3a5982=!0x0,_0xcacc67=_0x1b901e;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9e4'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')];_0x256f65?_0x317e12[_0x55f3('0xa75')](_0x317e12[_0x55f3('0x6c6')],0x1):_0x317e12[_0x55f3('0xa75')](_0x317e12['lightIntensity'],0.1);}}catch(_0x3fd7a7){_0x3a5982=!0x0,_0xcacc67=_0x3fd7a7;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0xa76'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0)_0x2a3304['value'][_0x55f3('0x3f')]['visible']=_0x256f65;}catch(_0x2977f9){_0x3a5982=!0x0,_0xcacc67=_0x2977f9;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x9d2'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x9a8')][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')];_0x317e12['envTexture']&&(_0x317e12[_0x55f3('0x3f')][_0x55f3('0x432')]=_0x256f65,_0x317e12[_0x55f3('0x3f')][_0x55f3('0xa77')]=_0x317e12[_0x55f3('0x95f')][_0x55f3('0x427')]||0x1,_0x317e12[_0x55f3('0x3f')]['needsUpdate']=!0x0);}}catch(_0x554090){_0x3a5982=!0x0,_0xcacc67=_0x554090;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}},{'key':_0x55f3('0x2f8'),'value':function(_0x256f65){}},{'key':'dispose','value':function(_0x256f65){for(var _0x171608=-0x1,_0x3a5982=0x0,_0xcacc67=this[_0x55f3('0x96b')][_0x55f3('0xf')];_0x3a5982<_0xcacc67;_0x3a5982++)if(this[_0x55f3('0x96b')][_0x3a5982][_0x55f3('0x3b')]===_0x256f65){this[_0x55f3('0x96b')][_0x3a5982][_0x55f3('0x93')](),_0x171608=_0x3a5982;break;}-0x1<_0x171608&&this['buildingsThemes'][_0x55f3('0x80')](_0x171608,0x1);}},{'key':_0x55f3('0x32e'),'value':function(){for(var _0x256f65=0x0,_0x171608=this[_0x55f3('0x96b')][_0x55f3('0xf')];_0x256f65<_0x171608;_0x256f65++)this['buildingsThemes'][_0x256f65][_0x55f3('0x93')](),this[_0x55f3('0x96b')][_0x256f65]=null;for(var _0x3a5982=0x0,_0xcacc67=this[_0x55f3('0xa50')][_0x55f3('0xf')];_0x3a5982<_0xcacc67;_0x3a5982++)this['edgeLineFrameList'][_0x3a5982][_0x55f3('0x93')](),this[_0x55f3('0xa50')][_0x3a5982]=null;this[_0x55f3('0x96b')]['length']=0x0,this[_0x55f3('0xa50')][_0x55f3('0xf')]=0x0;}},{'key':_0x55f3('0x336'),'value':function(_0x256f65){if(0x0<this[_0x55f3('0x96b')][_0x55f3('0xf')]){var _0x171608=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x2a3304,_0x663ef4=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x96b')]);!(_0x171608=(_0x2a3304=_0x663ef4[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x171608=!0x0){var _0x317e12=_0x2a3304[_0x55f3('0x12')];(0x0,_0x1762a0[_0x55f3('0xa78')])(_0x317e12['shader']),_0x317e12[_0x55f3('0x336')](_0x256f65);}}catch(_0x35a380){_0x3a5982=!0x0,_0xcacc67=_0x35a380;}finally{try{!_0x171608&&_0x663ef4[_0x55f3('0x271')]&&_0x663ef4[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}if(0x0<this[_0x55f3('0x9a8')]['length']){var _0x2e6e79=!0x0,_0x3a5982=!0x1,_0xcacc67=void 0x0;try{for(var _0x3cef18,_0x585881=(0x0,_0x5c1149[_0x55f3('0x9')])(this[_0x55f3('0x9a8')]);!(_0x2e6e79=(_0x3cef18=_0x585881[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2e6e79=!0x0){var _0x1ed50a=_0x3cef18[_0x55f3('0x12')];(0x0,_0x1762a0[_0x55f3('0xa78')])(_0x1ed50a['shader']),_0x1ed50a[_0x55f3('0x336')](_0x256f65);}}catch(_0x3c098a){_0x3a5982=!0x0,_0xcacc67=_0x3c098a;}finally{try{!_0x2e6e79&&_0x585881['return']&&_0x585881[_0x55f3('0x271')]();}finally{if(_0x3a5982)throw _0xcacc67;}}}}}]),_0x171608['default']=_0x2e6e79;},function(_0x4ee449,_0x4fe206,_0xe1f0c6){'use strict';Object['defineProperty'](_0x4fe206,_0x55f3('0x7'),{'value':!0x0});var _0x1ea092=_0x12ad5f(_0xe1f0c6(0x4)),_0x145eb5=_0x12ad5f(_0xe1f0c6(0x0)),_0x44902e=_0x12ad5f(_0xe1f0c6(0x1)),_0x43c357=_0xe1f0c6(0x17),_0x4f508b=function(_0x4ee449){if(_0x4ee449&&_0x4ee449[_0x55f3('0x7')])return _0x4ee449;var _0x4fe206={};if(null!=_0x4ee449)for(var _0xe1f0c6 in _0x4ee449)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x4ee449,_0xe1f0c6)&&(_0x4fe206[_0xe1f0c6]=_0x4ee449[_0xe1f0c6]);return _0x4fe206[_0x55f3('0x9')]=_0x4ee449,_0x4fe206;}(_0xe1f0c6(0x3d)),_0x5d44d9=_0xe1f0c6(0x87);function _0x12ad5f(_0x4ee449){return _0x4ee449&&_0x4ee449[_0x55f3('0x7')]?_0x4ee449:{'default':_0x4ee449};}function _0x1f3ba4(){(0x0,_0x145eb5[_0x55f3('0x9')])(this,_0x1f3ba4),this['map']=(0x0,_0x43c357['getMapInstance'])(),this[_0x55f3('0xa79')]=[],this[_0x55f3('0xa7a')]=[],this[_0x55f3('0x9e9')]=null,this['controlFloors']={};}(0x0,_0x44902e[_0x55f3('0x9')])(_0x1f3ba4,[{'key':'setFloorMaterial','value':function(_0x25435d){var _0x4ee449=!0x0,_0x4fe206=!0x1,_0xe1f0c6=void 0x0;try{for(var _0x145eb5,_0x44902e=(0x0,_0x1ea092['default'])(_0x25435d);!(_0x4ee449=(_0x145eb5=_0x44902e[_0x55f3('0x85')]())['done']);_0x4ee449=!0x0){var _0x12ad5f=_0x145eb5[_0x55f3('0x12')],_0x1f3ba4=(0x0,_0x43c357[_0x55f3('0x2b')])(0x0)[_0x55f3('0x5e6')](_0x12ad5f[_0x55f3('0xa4a')]||0x1);if(_0x1f3ba4){var _0xc7c34e,_0xe91720,_0x396fb2,_0x31ad2b,_0x379e74,_0x40d73d,_0x4acdac,_0x33bf16,_0x4a6f00,_0x55264d,_0x1e6e74,_0x41fb02,_0x2592c3,_0x5a2386=_0x1f3ba4[_0x55f3('0xa4b')]([esmap[_0x55f3('0x5d3')]['FLOOR_BASE']]),_0x1e6761=null,_0x1e6761=_0x5a2386&&0x0!==_0x5a2386[_0x55f3('0xf')]?_0x5a2386[0x0][_0x55f3('0x5e9')][_0x55f3('0x322')][0x0]:(_0xc7c34e=new THREE[(_0x55f3('0x520'))](0x1,0x1),_0xe91720=new THREE[(_0x55f3('0x437'))](),new THREE[(_0x55f3('0x317'))](_0xc7c34e,_0xe91720));if(_0x55f3('0x7ef')===_0x12ad5f[_0x55f3('0xa7b')]&&(_0x396fb2=_0x1e6761['material'][0x0],_0x31ad2b=new THREE['MeshStandardMaterial']({'color':_0x396fb2[_0x55f3('0x220')]}),(0x0,_0x5d44d9['setStandardMaterialParams'])(_0x31ad2b,_0x12ad5f),_0x1e6761[_0x55f3('0x3f')][0x0]=_0x31ad2b,this[_0x55f3('0xa79')]['push'](_0x1e6761)),_0x55f3('0xa7c')===_0x12ad5f[_0x55f3('0xa7b')]&&_0x12ad5f[_0x55f3('0xa7d')]){if(Array[_0x55f3('0x1a9')](_0x1e6761[_0x55f3('0x3f')])){var _0x14c8e3=!0x0,_0x5b86c8=!0x1,_0x33638d=void 0x0;try{for(var _0x18f87e,_0x572cd0=(0x0,_0x1ea092[_0x55f3('0x9')])(_0x1e6761[_0x55f3('0x3f')]);!(_0x14c8e3=(_0x18f87e=_0x572cd0[_0x55f3('0x85')]())['done']);_0x14c8e3=!0x0)_0x18f87e[_0x55f3('0x12')][_0x55f3('0x93')]();}catch(_0x3ec370){_0x5b86c8=!0x0,_0x33638d=_0x3ec370;}finally{try{!_0x14c8e3&&_0x572cd0[_0x55f3('0x271')]&&_0x572cd0[_0x55f3('0x271')]();}finally{if(_0x5b86c8)throw _0x33638d;}}}else _0x1e6761['material'][_0x55f3('0x93')]();_0x1e6761['geometry']['dispose']();var _0x5216be=new THREE['TextureLoader']()[_0x55f3('0x26f')]((0x0,_0x43c357[_0x55f3('0x29')])(_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x97b')])),_0x3daf81=(_0x5216be[_0x55f3('0x4c2')]=this['map'][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x4d1')]['getMaxAnisotropy'](),new _0x4f508b[(_0x55f3('0xce'))]({'speed':_0x12ad5f[_0x55f3('0xa7d')]['speed']})),_0x1140f8=(_0x1e6761[_0x55f3('0x95')]=new THREE['PlaneBufferGeometry'](_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x21e')],_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x21e')]),_0x1e6761[_0x55f3('0x3f')]=_0x3daf81[_0x55f3('0x2fc')]({'texture':_0x5216be,'repeat':_0x12ad5f[_0x55f3('0xa7d')]['repeat'],'colorStr':_0x12ad5f[_0x55f3('0xa7d')]['color']}),_0x1e6761[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x12ad5f[_0x55f3('0x521')]?_0x1e6761[_0x55f3('0x38')]['y']+ +_0x12ad5f[_0x55f3('0x521')]:_0x1e6761[_0x55f3('0x38')]['y']);_0x1e6761[_0x55f3('0x38')]['y']=_0x1140f8,_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x22b')]&&(0x0,_0x43c357[_0x55f3('0x2d')])(_0x1e6761,_0x12ad5f[_0x55f3('0xa7d')]['center'],_0x1140f8),this[_0x55f3('0xa7a')][_0x55f3('0x73')](_0x3daf81);}if(_0x12ad5f[_0x55f3('0x220')]&&_0x1e6761[_0x55f3('0x3f')][0x0][_0x55f3('0x220')][_0x55f3('0x300')](_0x12ad5f[_0x55f3('0x220')]),_0x12ad5f['alphaTransitionImg']&&(_0x379e74=_0x1e6761['material'][0x0],(_0x40d73d=new THREE['TextureLoader']()[_0x55f3('0x26f')]((0x0,_0x43c357[_0x55f3('0x29')])(_0x12ad5f['alphaTransitionImg'])))[_0x55f3('0x33c')]=THREE[_0x55f3('0x4c0')],_0x40d73d[_0x55f3('0x33e')]=THREE[_0x55f3('0x4c0')],_0x4acdac=_0x12ad5f[_0x55f3('0xa7e')]||0x2710,_0x33bf16=new THREE['PlaneBufferGeometry'](_0x4acdac,_0x4acdac),_0x379e74[_0x55f3('0x1d5')]=!0x0,_0x379e74[_0x55f3('0x3a9')]=_0x40d73d,_0x379e74[_0x55f3('0xf7')]=!0x0,(_0x4a6f00=new THREE[(_0x55f3('0x317'))](_0x33bf16,_0x379e74))[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x4a6f00[_0x55f3('0x38')]['y']=_0x1e6761[_0x55f3('0x38')]['y']-0.5,_0x5a2386[0x0][_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x4a6f00)),_0x55f3('0xa7f')===_0x12ad5f[_0x55f3('0xa7b')]&&_0x12ad5f['effectConfigs']){if(_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0xa80')])(_0x1e6761=0x0===_0x5a2386[_0x55f3('0xf')]?new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x520'))](0x1,0x1),new THREE[(_0x55f3('0x437'))]()):_0x1e6761[_0x55f3('0x1b0')]())[_0x55f3('0x8b')]=_0x12ad5f[_0x55f3('0xa7d')]['controlId'],this[_0x55f3('0x9ea')][_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0xa81')]]=_0x1e6761;else{if(Array[_0x55f3('0x1a9')](_0x1e6761[_0x55f3('0x3f')])){var _0x27b0de=!0x0,_0x57ee55=!0x1,_0x9bc5ec=void 0x0;try{for(var _0x4a8d3e,_0x6be5b6=(0x0,_0x1ea092[_0x55f3('0x9')])(_0x1e6761['material']);!(_0x27b0de=(_0x4a8d3e=_0x6be5b6[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x27b0de=!0x0)_0x4a8d3e['value'][_0x55f3('0x93')]();}catch(_0xf8db6a){_0x57ee55=!0x0,_0x9bc5ec=_0xf8db6a;}finally{try{!_0x27b0de&&_0x6be5b6[_0x55f3('0x271')]&&_0x6be5b6['return']();}finally{if(_0x57ee55)throw _0x9bc5ec;}}}else _0x1e6761['material'][_0x55f3('0x93')]();_0x1e6761['geometry'][_0x55f3('0x93')]();}var _0x37f25b=null,_0x3bcab7=(_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x97b')]&&((_0x37f25b=new THREE[(_0x55f3('0x26d'))]()['load']((0x0,_0x43c357[_0x55f3('0x29')])(_0x12ad5f['effectConfigs'][_0x55f3('0x97b')])))['wrapT']=THREE[_0x55f3('0x33d')],_0x37f25b[_0x55f3('0x33e')]=THREE[_0x55f3('0x33d')],_0x12ad5f[_0x55f3('0xa7d')]['anisotropy']&&(_0x37f25b[_0x55f3('0x4c2')]=this[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer'][_0x55f3('0x4d1')][_0x55f3('0x4d3')]())),null),_0x52852a=(_0x12ad5f[_0x55f3('0xa7d')]['scanRepeatImg']&&((_0x3bcab7=new THREE[(_0x55f3('0x26d'))]()['load']((0x0,_0x43c357['getConfigAssetsPath'])(_0x12ad5f['effectConfigs'][_0x55f3('0xa82')])))['wrapT']=THREE[_0x55f3('0x33d')],_0x3bcab7['wrapS']=THREE['RepeatWrapping'],_0x12ad5f[_0x55f3('0xa7d')]['anisotropy']&&(_0x3bcab7[_0x55f3('0x4c2')]=this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0x4d1')][_0x55f3('0x4d3')]())),new _0x4f508b['ClearSkyGround']({'colorStr':_0x12ad5f['effectConfigs'][_0x55f3('0x220')],'radius':_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x21e')],'repeat':_0x12ad5f[_0x55f3('0xa7d')]['repeat'],'transFactor':_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x634')],'materialType':_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x635')]})),_0x4f410b=(this['floorEffects'][_0x55f3('0x73')](_0x52852a),_0x52852a[_0x55f3('0x7ed')](_0x37f25b,_0x3bcab7)),_0x29dd67=_0x4f410b[_0x55f3('0x95')],_0x1aeda2=_0x4f410b[_0x55f3('0x3f')],_0x31b8d7=(_0x1e6761[_0x55f3('0x95')]=_0x29dd67,_0x1e6761['material']=_0x1aeda2,_0x1e6761[_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],_0x1e6761['name']=_0x55f3('0xa83'),(0x0,_0x5d44d9[_0x55f3('0x402')])(_0x1aeda2,_0x12ad5f['effectConfigs']),_0x12ad5f['effectConfigs'][_0x55f3('0x221')]&&(_0x1e6761[_0x55f3('0x3f')]['transparent']=!0x0,_0x1e6761[_0x55f3('0x3f')][_0x55f3('0x221')]=_0x12ad5f['effectConfigs']['opacity']),_0x12ad5f['effectConfigs'][_0x55f3('0x7d9')]&&(_0x1e6761['receiveShadow']=!0x0),_0x12ad5f[_0x55f3('0x521')]?_0x1e6761[_0x55f3('0x38')]['y']+ +_0x12ad5f[_0x55f3('0x521')]:_0x1e6761[_0x55f3('0x38')]['y']);_0x1e6761['position']['y']=_0x31b8d7,_0x12ad5f[_0x55f3('0x790')]&&(_0x1e6761[_0x55f3('0x38')]['x']=_0x12ad5f[_0x55f3('0x790')]['x'],_0x1e6761[_0x55f3('0x38')]['z']=_0x12ad5f[_0x55f3('0x790')]['y']),_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x21e')]&&this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')]['far']<=_0x12ad5f[_0x55f3('0xa7d')]['radius']&&(this[_0x55f3('0x94')]['mapView']['camera'][_0x55f3('0x307')]=_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x21e')]+0x3e8,this[_0x55f3('0x94')]['mapView']['camera'][_0x55f3('0x779')]()),_0x12ad5f['effectConfigs'][_0x55f3('0xa80')]&&(this[_0x55f3('0x9e9')]||(this['controlFloorLayer']=new THREE[(_0x55f3('0x33b'))](),this[_0x55f3('0x94')]['mapView']['scene'][_0x55f3('0x1c3')](this[_0x55f3('0x9e9')])),void 0x0!==_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x338')]&&(_0x1e6761['visible']=_0x12ad5f[_0x55f3('0xa7d')][_0x55f3('0x338')]),this['controlFloorLayer']['add'](_0x1e6761));}_0x55f3('0xa84')===_0x12ad5f[_0x55f3('0xa7b')]&&_0x12ad5f[_0x55f3('0xa7d')]&&(_0x1e6761['visible']=!0x1,_0x55264d=new _0x4f508b[(_0x55f3('0xa85'))]({'texWidth':window[_0x55f3('0xa86')],'texHeight':window[_0x55f3('0xa87')]}),_0x1e6e74=new THREE[(_0x55f3('0x520'))](0x3e8,0x3e8),_0x41fb02=_0x55264d[_0x55f3('0x8')](_0x1e6e74),_0x2592c3=_0x12ad5f[_0x55f3('0x521')]?_0x1e6761[_0x55f3('0x38')]['y']+ +_0x12ad5f[_0x55f3('0x521')]:_0x1e6761[_0x55f3('0x38')]['y'],_0x41fb02[_0x55f3('0x38')]['y']=_0x2592c3,_0x41fb02[_0x55f3('0x549')](-Math['PI']/0x2),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0x41fb02)),!0x1===_0x12ad5f[_0x55f3('0x338')]&&(_0x1e6761[_0x55f3('0x338')]=!0x1);}}}catch(_0x2d48cb){_0x4fe206=!0x0,_0xe1f0c6=_0x2d48cb;}finally{try{!_0x4ee449&&_0x44902e['return']&&_0x44902e['return']();}finally{if(_0x4fe206)throw _0xe1f0c6;}}}},{'key':_0x55f3('0x661'),'value':function(_0x4fe206,_0x4ee449){var _0xe1f0c6=this;new TWEEN[(_0x55f3('0x331'))]({'x':0x0})['to']({'x':0x1},0x3e8*_0x4ee449)[_0x55f3('0x332')](function(_0x4ee449){_0xe1f0c6[_0x55f3('0x9ea')][_0x4fe206]['material'][_0x55f3('0x221')]=_0x4ee449['x'];})[_0x55f3('0x333')](TWEEN['Easing'][_0x55f3('0x335')]['In'])['start']();}},{'key':_0x55f3('0x93'),'value':function(){for(var _0x4ee449=0x0,_0x4fe206=this[_0x55f3('0xa79')]['length'];_0x4ee449<_0x4fe206;_0x4ee449++)this['floorsMesh'][_0x4ee449][_0x55f3('0x3f')][0x0][_0x55f3('0x93')](),this[_0x55f3('0xa79')][_0x4ee449][_0x55f3('0x3f')][0x0]=null;for(var _0xe1f0c6=this[_0x55f3('0xa79')][_0x55f3('0xf')]=0x0,_0x145eb5=this['floorEffects']['length'];_0xe1f0c6<_0x145eb5;_0xe1f0c6++)this[_0x55f3('0xa7a')][_0xe1f0c6][_0x55f3('0x93')](),this[_0x55f3('0xa7a')][_0xe1f0c6]=null;this['floorEffects'][_0x55f3('0xf')]=0x0,this[_0x55f3('0x9e9')]&&(this[_0x55f3('0x9e9')]=null);}},{'key':_0x55f3('0x336'),'value':function(_0x4ee449){if(0x0<this[_0x55f3('0xa7a')][_0x55f3('0xf')]){var _0x4fe206=!0x0,_0xe1f0c6=!0x1,_0x145eb5=void 0x0;try{for(var _0x44902e,_0x12ad5f=(0x0,_0x1ea092[_0x55f3('0x9')])(this[_0x55f3('0xa7a')]);!(_0x4fe206=(_0x44902e=_0x12ad5f[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4fe206=!0x0)_0x44902e[_0x55f3('0x12')][_0x55f3('0x336')](_0x4ee449);}catch(_0x3bdfbb){_0xe1f0c6=!0x0,_0x145eb5=_0x3bdfbb;}finally{try{!_0x4fe206&&_0x12ad5f[_0x55f3('0x271')]&&_0x12ad5f[_0x55f3('0x271')]();}finally{if(_0xe1f0c6)throw _0x145eb5;}}}}}]),_0x4fe206[_0x55f3('0x9')]=_0x1f3ba4;},function(_0xf0e8c4,_0x50ca15,_0x2b49bf){'use strict';Object[_0x55f3('0x4')](_0x50ca15,_0x55f3('0x7'),{'value':!0x0});var _0x99ea7=_0xbbd614(_0x2b49bf(0x4)),_0x2f3b38=_0xbbd614(_0x2b49bf(0x0)),_0x4ea8e8=_0xbbd614(_0x2b49bf(0x1)),_0x494273=_0x2b49bf(0x17),_0x58b8f8=function(_0xf0e8c4){if(_0xf0e8c4&&_0xf0e8c4[_0x55f3('0x7')])return _0xf0e8c4;var _0x50ca15={};if(null!=_0xf0e8c4)for(var _0x2b49bf in _0xf0e8c4)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0xf0e8c4,_0x2b49bf)&&(_0x50ca15[_0x2b49bf]=_0xf0e8c4[_0x2b49bf]);return _0x50ca15['default']=_0xf0e8c4,_0x50ca15;}(_0x2b49bf(0x3d)),_0x2f63f5=_0x2b49bf(0x87);function _0xbbd614(_0xf0e8c4){return _0xf0e8c4&&_0xf0e8c4[_0x55f3('0x7')]?_0xf0e8c4:{'default':_0xf0e8c4};}function _0x329375(){(0x0,_0x2f3b38['default'])(this,_0x329375),this[_0x55f3('0x94')]=(0x0,_0x494273['getMapInstance'])(),this['groundThemes']=[],this[_0x55f3('0xa50')]=[],this['_tempMaterials']=[];}(0x0,_0x4ea8e8['default'])(_0x329375,[{'key':_0x55f3('0xa29'),'value':function(_0x4a7c44){var _0x11cca0,_0x26ed6f=(0x0,_0x494273[_0x55f3('0x2b')])(0x0)['getFloor'](0x1)[_0x55f3('0xa4b')]([esmap['ESLayerType'][_0x55f3('0xa4c')],esmap[_0x55f3('0x5d3')][_0x55f3('0xa4d')],esmap[_0x55f3('0x5d3')][_0x55f3('0xa88')]]);if(_0x4a7c44[_0x55f3('0x97b')]&&((_0x11cca0=new _0x58b8f8[(_0x55f3('0xa89'))]({'view':this[_0x55f3('0x94')]['mapView'],'type':_0x4a7c44['repeatType'],'texPath':_0x4a7c44[_0x55f3('0x97b')],'texScale':_0x4a7c44['repeatScaleFactor'],'texRepeat':_0x4a7c44[_0x55f3('0xa8a')]?{'x':_0x4a7c44['repeatScaleFactor'],'y':_0x4a7c44['repeatScaleFactor']}:null}))[_0x55f3('0x2cc')](_0x55f3('0x41f'),function(){var _0xf0e8c4=!0x0,_0x50ca15=!0x1,_0x2b49bf=void 0x0;try{for(var _0x2f3b38,_0x4ea8e8=(0x0,_0x99ea7[_0x55f3('0x9')])(_0x26ed6f);!(_0xf0e8c4=(_0x2f3b38=_0x4ea8e8[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0xf0e8c4=!0x0){var _0xbbd614=_0x2f3b38[_0x55f3('0x12')],_0x329375=!0x0,_0x3f378c=!0x1,_0x57c673=void 0x0;try{for(var _0x41b57c,_0x25d32e=(0x0,_0x99ea7[_0x55f3('0x9')])(_0xbbd614[_0x55f3('0x5e9')]['children']);!(_0x329375=(_0x41b57c=_0x25d32e[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x329375=!0x0){var _0x34d13f=_0x41b57c[_0x55f3('0x12')],_0x252def=(0x0,_0x494273['getMaterialByRoomStyle'])(_0x34d13f,_0x4a7c44[_0x55f3('0x3b')]);if(_0x252def){_0x34d13f[_0x55f3('0x3f')][_0x252def[_0x55f3('0x63f')]['index']]=_0x11cca0[_0x55f3('0x4fc')](),_0x11cca0[_0x55f3('0xa8b')]=_0x34d13f;break;}if('floor'===_0x34d13f[_0x55f3('0x89e')]&&_0x4a7c44[_0x55f3('0xa4a')]&&_0x4a7c44[_0x55f3('0xa4a')]===_0x34d13f[_0x55f3('0x3d')][_0x55f3('0x5e8')]){_0x34d13f[_0x55f3('0x3f')][0x0]=_0x11cca0[_0x55f3('0x4fc')](),_0x11cca0['targetMesh']=_0x34d13f;break;}}}catch(_0x3f219b){_0x3f378c=!0x0,_0x57c673=_0x3f219b;}finally{try{!_0x329375&&_0x25d32e[_0x55f3('0x271')]&&_0x25d32e[_0x55f3('0x271')]();}finally{if(_0x3f378c)throw _0x57c673;}}}}catch(_0x6c9e1e){_0x50ca15=!0x0,_0x2b49bf=_0x6c9e1e;}finally{try{!_0xf0e8c4&&_0x4ea8e8[_0x55f3('0x271')]&&_0x4ea8e8['return']();}finally{if(_0x50ca15)throw _0x2b49bf;}}}),this['groundThemes']['push'](_0x11cca0)),_0x4a7c44[_0x55f3('0x409')]||_0x4a7c44[_0x55f3('0x40a')]){var _0xf0e8c4=!0x0,_0x50ca15=!0x1,_0x2b49bf=void 0x0;try{for(var _0x2f3b38,_0x4ea8e8=(0x0,_0x99ea7['default'])(_0x26ed6f);!(_0xf0e8c4=(_0x2f3b38=_0x4ea8e8[_0x55f3('0x85')]())['done']);_0xf0e8c4=!0x0){var _0xbbd614=_0x2f3b38[_0x55f3('0x12')],_0x329375=!0x0,_0x804602=!0x1,_0x4ab239=void 0x0;try{for(var _0x5c8910,_0x489d25=(0x0,_0x99ea7[_0x55f3('0x9')])(_0xbbd614[_0x55f3('0x5e9')][_0x55f3('0x322')]);!(_0x329375=(_0x5c8910=_0x489d25[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x329375=!0x0){var _0x2e4c11=_0x5c8910[_0x55f3('0x12')];if(_0x1708ee=(0x0,_0x494273[_0x55f3('0x3c')])(_0x2e4c11,_0x4a7c44['roomStyle'])){var _0x4c4924=_0x2e4c11[_0x55f3('0x3f')][_0x1708ee[_0x55f3('0x63f')]['index']],_0x1b277d=new THREE[(_0x55f3('0x4d0'))]({'color':_0x4c4924['color']});(0x0,_0x2f63f5[_0x55f3('0x402')])(_0x1b277d,_0x4a7c44),_0x2e4c11[_0x55f3('0x3f')][_0x1708ee[_0x55f3('0x63f')][_0x55f3('0x39c')]]=_0x1b277d;break;}}}catch(_0x711757){_0x804602=!0x0,_0x4ab239=_0x711757;}finally{try{!_0x329375&&_0x489d25[_0x55f3('0x271')]&&_0x489d25[_0x55f3('0x271')]();}finally{if(_0x804602)throw _0x4ab239;}}}}catch(_0x25b24d){_0x50ca15=!0x0,_0x2b49bf=_0x25b24d;}finally{try{!_0xf0e8c4&&_0x4ea8e8['return']&&_0x4ea8e8['return']();}finally{if(_0x50ca15)throw _0x2b49bf;}}}if(_0x4a7c44[_0x55f3('0x2be')]){var _0x3fe8bc=!0x0,_0x50ca15=!0x1,_0x2b49bf=void 0x0;try{for(var _0x4b09b1,_0x2f380c=(0x0,_0x99ea7[_0x55f3('0x9')])(_0x26ed6f);!(_0x3fe8bc=(_0x4b09b1=_0x2f380c[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3fe8bc=!0x0){var _0x8bc78a=_0x4b09b1[_0x55f3('0x12')],_0xeeb834=!0x0,_0x101dc1=!0x1,_0x385911=void 0x0;try{for(var _0x5e166d,_0x383037=(0x0,_0x99ea7[_0x55f3('0x9')])(_0x8bc78a[_0x55f3('0x5e9')][_0x55f3('0x322')]);!(_0xeeb834=(_0x5e166d=_0x383037[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0xeeb834=!0x0){var _0x1708ee,_0x105f50=_0x5e166d[_0x55f3('0x12')];if(_0x1708ee=(0x0,_0x494273[_0x55f3('0x3c')])(_0x105f50,_0x4a7c44['roomStyle'])){var _0x5c9eb7=new _0x58b8f8[(_0x55f3('0xc9'))]({'colorStr':_0x4a7c44[_0x55f3('0xa4f')],'opacity':_0x4a7c44['frameOpacity'],'depthTest':!0x0});_0x5c9eb7[_0x55f3('0x6ff')](_0x105f50,_0x105f50[_0x55f3('0x95')]),_0x4a7c44[_0x55f3('0x365')]&&(_0x105f50['position']['y']+=_0x4a7c44[_0x55f3('0x365')]),this[_0x55f3('0xa50')]['push'](_0x5c9eb7);break;}}}catch(_0x39ebba){_0x101dc1=!0x0,_0x385911=_0x39ebba;}finally{try{!_0xeeb834&&_0x383037[_0x55f3('0x271')]&&_0x383037[_0x55f3('0x271')]();}finally{if(_0x101dc1)throw _0x385911;}}}}catch(_0x2f4ee8){_0x50ca15=!0x0,_0x2b49bf=_0x2f4ee8;}finally{try{!_0x3fe8bc&&_0x2f380c[_0x55f3('0x271')]&&_0x2f380c[_0x55f3('0x271')]();}finally{if(_0x50ca15)throw _0x2b49bf;}}}}},{'key':_0x55f3('0x93'),'value':function(){}},{'key':'disposeAll','value':function(){for(var _0xf0e8c4=0x0,_0x50ca15=this[_0x55f3('0xa8c')][_0x55f3('0xf')];_0xf0e8c4<_0x50ca15;_0xf0e8c4++)this[_0x55f3('0xa8c')][_0xf0e8c4][_0x55f3('0x93')](),this[_0x55f3('0xa8c')][_0xf0e8c4]=null;for(var _0x2b49bf=this[_0x55f3('0xa8c')][_0x55f3('0xf')]=0x0,_0x2f3b38=this[_0x55f3('0xa50')]['length'];_0x2b49bf<_0x2f3b38;_0x2b49bf++)this[_0x55f3('0xa50')][_0x2b49bf]['dispose'](),this[_0x55f3('0xa50')][_0x2b49bf]=null;this[_0x55f3('0xa50')][_0x55f3('0xf')]=0x0;}}]),_0x50ca15[_0x55f3('0x9')]=_0x329375;},function(_0x1e3265,_0x74a895,_0xe61acd){'use strict';Object[_0x55f3('0x4')](_0x74a895,_0x55f3('0x7'),{'value':!0x0});var _0x426dbd=_0x18b84a(_0xe61acd(0x22)),_0x3c805b=_0x18b84a(_0xe61acd(0x4)),_0x335119=_0x18b84a(_0xe61acd(0x0)),_0x54607c=_0x18b84a(_0xe61acd(0x1)),_0x2a0c41=_0xe61acd(0x17),_0x51e114=_0xe61acd(0xfa),_0x2e2f1e=_0x18b84a(_0xe61acd(0x55));function _0x18b84a(_0x1e3265){return _0x1e3265&&_0x1e3265[_0x55f3('0x7')]?_0x1e3265:{'default':_0x1e3265};}function _0x2d73a4(){(0x0,_0x335119[_0x55f3('0x9')])(this,_0x2d73a4),this[_0x55f3('0x94')]=(0x0,_0x2a0c41[_0x55f3('0x2c')])(),this[_0x55f3('0x97d')]=null,this[_0x55f3('0x976')]=null,this[_0x55f3('0xa8d')]=[],this[_0x55f3('0x9ec')]=[],this[_0x55f3('0xa8e')]=null,this[_0x55f3('0x9d0')]=null,this[_0x55f3('0xa8f')]=[];}(0x0,_0x54607c[_0x55f3('0x9')])(_0x2d73a4,[{'key':_0x55f3('0x9ef'),'value':function(_0x1e3265){if(0x0!=_0x1e3265['length']){var _0x74a895=!0x0,_0xe61acd=!0x1,_0x335119=void 0x0;try{for(var _0x426dbd,_0x54607c=(0x0,_0x3c805b['default'])(_0x1e3265);!(_0x74a895=(_0x426dbd=_0x54607c['next']())['done']);_0x74a895=!0x0){var _0x51e114,_0x2e2f1e=_0x426dbd[_0x55f3('0x12')],_0x18b84a=new THREE['PointLight']();_0x2e2f1e[_0x55f3('0x8b')]&&(_0x18b84a['name']=_0x2e2f1e['name']),_0x2e2f1e[_0x55f3('0x220')]&&(_0x18b84a[_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x2e2f1e[_0x55f3('0x220')])),_0x2e2f1e[_0x55f3('0x427')]&&(_0x18b84a['intensity']=_0x2e2f1e[_0x55f3('0x427')]),_0x2e2f1e[_0x55f3('0xa90')]&&(_0x18b84a[_0x55f3('0xa91')]=_0x2e2f1e[_0x55f3('0xa90')]),_0x2e2f1e[_0x55f3('0x38')]&&(0x0,_0x2a0c41[_0x55f3('0x2d')])(_0x18b84a,_0x2e2f1e[_0x55f3('0x38')],_0x2e2f1e['position'][_0x55f3('0x32d')]),(_0x2e2f1e['debug']||esmap[_0x55f3('0x4e')][_0x55f3('0x53')])&&(_0x51e114=new THREE[(_0x55f3('0xa92'))](_0x18b84a,0x493e0),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0x51e114)),this['map'][_0x55f3('0x41b')][_0x55f3('0x416')]['add'](_0x18b84a),this[_0x55f3('0xa8d')][_0x55f3('0x73')](_0x18b84a);}}catch(_0x5cd6a8){_0xe61acd=!0x0,_0x335119=_0x5cd6a8;}finally{try{!_0x74a895&&_0x54607c[_0x55f3('0x271')]&&_0x54607c[_0x55f3('0x271')]();}finally{if(_0xe61acd)throw _0x335119;}}}}},{'key':'updatePointLights','value':function(_0x1e3265,_0x74a895){var _0xe61acd=!0x0,_0x335119=!0x1,_0x426dbd=void 0x0;try{for(var _0x54607c,_0x51e114=(0x0,_0x3c805b[_0x55f3('0x9')])(_0x74a895);!(_0xe61acd=(_0x54607c=_0x51e114[_0x55f3('0x85')]())['done']);_0xe61acd=!0x0){var _0x2e2f1e=_0x54607c[_0x55f3('0x12')];if(_0x1e3265[_0x55f3('0x8b')]===_0x2e2f1e[_0x55f3('0x8b')]){_0x1e3265[_0x55f3('0x220')]&&(_0x1e3265['color']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x1e3265[_0x55f3('0x220')])),_0x74a895[_0x55f3('0x427')]&&(_0x1e3265[_0x55f3('0x427')]=_0x74a895[_0x55f3('0x427')]),_0x74a895['extent']&&(_0x1e3265[_0x55f3('0xa91')]=_0x74a895[_0x55f3('0xa90')]),_0x74a895[_0x55f3('0x38')]&&(0x0,_0x2a0c41[_0x55f3('0x2d')])(_0x1e3265,_0x74a895['position'],_0x74a895[_0x55f3('0x38')][_0x55f3('0x32d')]);break;}}}catch(_0x4a9151){_0x335119=!0x0,_0x426dbd=_0x4a9151;}finally{try{!_0xe61acd&&_0x51e114[_0x55f3('0x271')]&&_0x51e114[_0x55f3('0x271')]();}finally{if(_0x335119)throw _0x426dbd;}}}},{'key':_0x55f3('0xa2b'),'value':function(_0x1e3265){if(0x0!=_0x1e3265[_0x55f3('0xf')]){var _0x74a895=!0x0,_0xe61acd=!0x1,_0x335119=void 0x0;try{for(var _0x426dbd,_0x54607c=(0x0,_0x3c805b[_0x55f3('0x9')])(_0x1e3265);!(_0x74a895=(_0x426dbd=_0x54607c[_0x55f3('0x85')]())['done']);_0x74a895=!0x0){var _0x51e114,_0x2e2f1e,_0x18b84a,_0x2d73a4,_0x2399c9,_0x387978=_0x426dbd[_0x55f3('0x12')];_0x387978['replaceLight']?((_0x51e114=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x387978[_0x55f3('0xa93')]])&&(_0x51e114[_0x55f3('0xa94')]={},_0x387978[_0x55f3('0xa93')]&&(_0x51e114['name']=_0x387978['replaceLight']),!0x1===_0x387978[_0x55f3('0x338')]&&(_0x51e114['visible']=!0x1),_0x387978[_0x55f3('0x220')]&&(_0x51e114['_originConfig']['color']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x1ba')](_0x51e114[_0x55f3('0x220')]),_0x51e114[_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x387978[_0x55f3('0x220')])),_0x387978[_0x55f3('0x427')]&&(_0x51e114[_0x55f3('0xa94')][_0x55f3('0x427')]=_0x51e114['intensity'],_0x51e114[_0x55f3('0x427')]=_0x387978[_0x55f3('0x427')]),_0x387978[_0x55f3('0x230')]&&(_0x51e114[_0x55f3('0xa94')][_0x55f3('0x38')]=new THREE[(_0x55f3('0x5a'))]()[_0x55f3('0x1ba')](_0x51e114[_0x55f3('0x38')]),_0x51e114[_0x55f3('0x38')][_0x55f3('0x39')](_0x387978[_0x55f3('0x230')]['x'],_0x387978['direction']['y'],_0x387978[_0x55f3('0x230')]['z'])),void 0x0!==_0x387978[_0x55f3('0x618')]&&void 0x0!==_0x387978[_0x55f3('0x37e')]&&(_0x2e2f1e=(0x0,_0x2a0c41[_0x55f3('0x59')])(_0x387978[_0x55f3('0x37e')],_0x387978[_0x55f3('0x618')]),_0x51e114['position'][_0x55f3('0x1ba')](_0x2e2f1e),_0x51e114['directionAngle']=_0x387978[_0x55f3('0x618')],_0x51e114['pitchAngle']=_0x387978[_0x55f3('0x37e')]),_0x387978[_0x55f3('0x81')]&&(_0x51e114[_0x55f3('0xa94')]['target']=new THREE[(_0x55f3('0x5a'))]()[_0x55f3('0x1ba')](_0x51e114[_0x55f3('0x81')]),_0x51e114['target']['position']['set'](_0x387978[_0x55f3('0x81')]['x'],_0x387978[_0x55f3('0x81')]['y'],_0x387978[_0x55f3('0x81')]['z']),_0x51e114[_0x55f3('0x81')][_0x55f3('0x7de')]()),(_0x387978[_0x55f3('0x565')]||esmap[_0x55f3('0x4e')][_0x55f3('0x53')])&&(_0x2d73a4=0x64,_0x2399c9=new THREE[(_0x55f3('0xa95'))](_0x51e114,_0x2d73a4),_0x51e114['helper']=_0x2399c9,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0x2399c9)),_0x387978['tileBuildingLight']&&(this[_0x55f3('0xa8e')]=_0x51e114)),this[_0x55f3('0x9ec')][_0x55f3('0x73')](_0x51e114)):((_0x18b84a=new THREE[(_0x55f3('0xa96'))]())['_originConfig']={},_0x387978[_0x55f3('0x8b')]&&(_0x18b84a[_0x55f3('0x8b')]=_0x387978['name']),_0x387978[_0x55f3('0x220')]&&(_0x18b84a[_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x387978[_0x55f3('0x220')]),_0x18b84a[_0x55f3('0xa94')][_0x55f3('0x220')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x1ba')](_0x18b84a['color'])),_0x387978[_0x55f3('0x427')]&&(_0x18b84a[_0x55f3('0x427')]=_0x387978[_0x55f3('0x427')],_0x18b84a[_0x55f3('0xa94')][_0x55f3('0x427')]=_0x387978[_0x55f3('0x427')]),_0x387978['direction']&&_0x18b84a[_0x55f3('0x38')][_0x55f3('0x39')](_0x387978[_0x55f3('0x230')]['x'],_0x387978[_0x55f3('0x230')]['y'],_0x387978[_0x55f3('0x230')]['z']),_0x387978[_0x55f3('0x81')]&&(_0x18b84a[_0x55f3('0x81')][_0x55f3('0x38')]['set'](_0x387978[_0x55f3('0x81')]['x'],_0x387978[_0x55f3('0x81')]['y'],_0x387978['target']['z']),_0x18b84a[_0x55f3('0x81')][_0x55f3('0x7de')]()),void 0x0!==_0x387978[_0x55f3('0x618')]&&void 0x0!==_0x387978['pitchAngle']&&(_0x18b84a[_0x55f3('0x38')][_0x55f3('0x1ba')]((0x0,_0x2a0c41[_0x55f3('0x59')])(_0x387978[_0x55f3('0x37e')],_0x387978[_0x55f3('0x618')])),_0x18b84a[_0x55f3('0x618')]=_0x387978['directionAngle'],_0x18b84a[_0x55f3('0x37e')]=_0x387978[_0x55f3('0x37e')]),(_0x387978[_0x55f3('0x565')]||esmap['ESEffectTool'][_0x55f3('0x53')])&&(_0x2d73a4=0x64,_0x2399c9=new THREE[(_0x55f3('0xa95'))](_0x18b84a,_0x2d73a4),_0x18b84a['helper']=_0x2399c9,this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1c3')](_0x2399c9)),_0x387978[_0x55f3('0xa8e')]&&(this[_0x55f3('0xa8e')]=_0x18b84a),this['map'][_0x55f3('0x41b')]['scene'][_0x55f3('0x1c3')](_0x18b84a),this[_0x55f3('0x9ec')][_0x55f3('0x73')](_0x18b84a));}}catch(_0x29b020){_0xe61acd=!0x0,_0x335119=_0x29b020;}finally{try{!_0x74a895&&_0x54607c[_0x55f3('0x271')]&&_0x54607c[_0x55f3('0x271')]();}finally{if(_0xe61acd)throw _0x335119;}}}}},{'key':'updateDirectionalLightPos','value':function(_0x1e3265,_0x74a895,_0xe61acd){var _0x335119=(0x0,_0x2a0c41[_0x55f3('0x59')])(_0x74a895[_0x55f3('0x37e')],_0x74a895[_0x55f3('0x618')]);_0xe61acd[_0x55f3('0xa91')]&&_0x335119[_0x55f3('0x1c1')](_0xe61acd[_0x55f3('0xa91')]),_0xe61acd[_0x55f3('0xa97')]?(_0x1e3265[_0x55f3('0x38')][_0x55f3('0x1ba')](_0x335119),_0x1e3265[_0x55f3('0x38')]['normalize']()[_0x55f3('0x1c1')](_0xe61acd['distance'])['add'](new THREE[(_0x55f3('0x5a'))](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['x'],0x0,this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['z'])),_0x1e3265['target'][_0x55f3('0x38')]['copy'](new THREE[(_0x55f3('0x5a'))](this[_0x55f3('0x94')][_0x55f3('0x389')]['target']['x'],0x0,this[_0x55f3('0x94')][_0x55f3('0x389')]['target']['z'])),_0x1e3265[_0x55f3('0x81')][_0x55f3('0x7de')](!0x0)):_0x1e3265[_0x55f3('0x38')][_0x55f3('0x1ba')](_0x335119),_0x1e3265[_0x55f3('0x618')]=_0x74a895[_0x55f3('0x618')],_0x1e3265[_0x55f3('0x37e')]=_0x74a895['pitchAngle'],_0x1e3265[_0x55f3('0x874')]&&(0x1<_0xe61acd[_0x55f3('0xa98')]&&_0x1e3265[_0x55f3('0x874')][_0x55f3('0xa99')][_0x55f3('0x1d9')][_0x55f3('0x1c1')](_0xe61acd[_0x55f3('0xa98')]),_0x1e3265['helper']['update']());}},{'key':_0x55f3('0x9ed'),'value':function(_0x1e3265,_0x74a895,_0xe61acd,_0x335119){var _0x426dbd=!0x0,_0x54607c=!0x1,_0x51e114=void 0x0;try{for(var _0x2e2f1e,_0x18b84a=(0x0,_0x3c805b[_0x55f3('0x9')])(_0x74a895);!(_0x426dbd=(_0x2e2f1e=_0x18b84a[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x426dbd=!0x0){var _0x2d73a4=_0x2e2f1e['value'];_0x1e3265[_0x55f3('0x8b')]===_0x2d73a4['name']&&(!0x1===_0x2d73a4['visible']&&(_0x1e3265[_0x55f3('0x338')]=!0x1),_0x2d73a4[_0x55f3('0x220')]?_0x1e3265[_0x55f3('0x220')]=new THREE['Color']()[_0x55f3('0x300')](_0x2d73a4['color']):_0x1e3265['_originConfig']&&_0x1e3265[_0x55f3('0xa94')][_0x55f3('0x220')]&&_0x1e3265[_0x55f3('0x220')][_0x55f3('0x1ba')](_0x1e3265[_0x55f3('0xa94')][_0x55f3('0x220')]),_0x2d73a4['intensity']?_0xe61acd?this['lightAnimate'](_0x1e3265,_0x2d73a4[_0x55f3('0x427')],_0x335119):_0x1e3265[_0x55f3('0x427')]=_0x2d73a4[_0x55f3('0x427')]:_0xe61acd?_0x1e3265[_0x55f3('0xa94')]&&_0x1e3265['_originConfig'][_0x55f3('0x427')]&&this[_0x55f3('0xa9a')](_0x1e3265,_0x1e3265['_originConfig'][_0x55f3('0x427')],_0x335119):_0x1e3265[_0x55f3('0xa94')]&&_0x1e3265['_originConfig'][_0x55f3('0x427')]&&(_0x1e3265[_0x55f3('0x427')]=_0x1e3265[_0x55f3('0xa94')][_0x55f3('0x427')]),void 0x0!==_0x2d73a4['directionAngle']&&void 0x0!==_0x2d73a4[_0x55f3('0x37e')]&&(_0x1e3265[_0x55f3('0x38')]['copy']((0x0,_0x2a0c41[_0x55f3('0x59')])(_0x2d73a4[_0x55f3('0x37e')],_0x2d73a4[_0x55f3('0x618')])),_0x1e3265[_0x55f3('0x618')]=_0x2d73a4[_0x55f3('0x618')],_0x1e3265[_0x55f3('0x37e')]=_0x2d73a4[_0x55f3('0x37e')]));}}catch(_0x2f17c5){_0x54607c=!0x0,_0x51e114=_0x2f17c5;}finally{try{!_0x426dbd&&_0x18b84a['return']&&_0x18b84a[_0x55f3('0x271')]();}finally{if(_0x54607c)throw _0x51e114;}}}},{'key':_0x55f3('0xa9b'),'value':function(){var _0x1e3265=!0x0,_0x74a895=!0x1,_0xe61acd=void 0x0;try{for(var _0x335119,_0x426dbd=(0x0,_0x3c805b[_0x55f3('0x9')])(this['map']['mapView'][_0x55f3('0x416')][_0x55f3('0x322')]);!(_0x1e3265=(_0x335119=_0x426dbd[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1e3265=!0x0){var _0x54607c=_0x335119[_0x55f3('0x12')];if(_0x55f3('0xa9c')==_0x54607c['type']){this['ambientLight']=_0x54607c;break;}}}catch(_0x24df36){_0x74a895=!0x0,_0xe61acd=_0x24df36;}finally{try{!_0x1e3265&&_0x426dbd[_0x55f3('0x271')]&&_0x426dbd[_0x55f3('0x271')]();}finally{if(_0x74a895)throw _0xe61acd;}}}},{'key':_0x55f3('0x9ee'),'value':function(_0x1e3265){if(!this[_0x55f3('0x976')]){var _0x74a895=!0x0,_0xe61acd=!0x1,_0x335119=void 0x0;try{for(var _0x426dbd,_0x54607c=(0x0,_0x3c805b[_0x55f3('0x9')])(this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x322')]);!(_0x74a895=(_0x426dbd=_0x54607c[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x74a895=!0x0){var _0x51e114=_0x426dbd['value'];if(_0x55f3('0xa9c')==_0x51e114[_0x55f3('0xeb')]){this[_0x55f3('0x976')]=_0x51e114;break;}}}catch(_0x4811b2){_0xe61acd=!0x0,_0x335119=_0x4811b2;}finally{try{!_0x74a895&&_0x54607c[_0x55f3('0x271')]&&_0x54607c[_0x55f3('0x271')]();}finally{if(_0xe61acd)throw _0x335119;}}}this[_0x55f3('0x976')]&&(_0x1e3265[_0x55f3('0x220')]&&this[_0x55f3('0x976')][_0x55f3('0x220')][_0x55f3('0x300')](_0x1e3265[_0x55f3('0x220')]),_0x1e3265[_0x55f3('0x427')]&&(this[_0x55f3('0x976')][_0x55f3('0xa9d')]||(this[_0x55f3('0x976')][_0x55f3('0xa9d')]=this[_0x55f3('0x976')][_0x55f3('0x427')]),_0x1e3265['isAnimate']?this[_0x55f3('0xa9a')](this['ambientLight'],_0x1e3265[_0x55f3('0x427')],_0x1e3265[_0x55f3('0x38f')])[_0x55f3('0x341')](function(){_0x1e3265[_0x55f3('0x35a')]&&_0x1e3265[_0x55f3('0x35a')]();}):this[_0x55f3('0x976')][_0x55f3('0x427')]=_0x1e3265[_0x55f3('0x427')]),_0x1e3265[_0x55f3('0xa9e')]&&this[_0x55f3('0xa9a')](this['ambientLight'],this['ambientLight'][_0x55f3('0xa9d')],_0x1e3265['time'])[_0x55f3('0x341')](function(){_0x1e3265[_0x55f3('0x35a')]&&_0x1e3265['callback']();}));}},{'key':_0x55f3('0xa9a'),'value':function(_0xe61acd,_0x74a895){var _0x335119=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;return new _0x426dbd[(_0x55f3('0x9'))](function(_0x1e3265){new TWEEN[(_0x55f3('0x331'))]({'intensity':_0xe61acd[_0x55f3('0x427')]})['to']({'intensity':_0x74a895},0x3e8*_0x335119)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')]['None'])['onUpdate'](function(_0x1e3265,_0x74a895){_0xe61acd['intensity']=_0x1e3265[_0x55f3('0x427')];})[_0x55f3('0x6a7')](function(){_0x1e3265();})[_0x55f3('0x395')]();});}},{'key':_0x55f3('0xa1d'),'value':function(_0x74a895){var _0x1e3265=_0x74a895[_0x55f3('0xa26')];if(_0x74a895['isAnimate'],_0x74a895[_0x55f3('0xa9f')],_0x1e3265[_0x55f3('0x976')]&&this[_0x55f3('0x9ee')](_0x1e3265['ambientLight']),_0x1e3265[_0x55f3('0x973')]){var _0xe61acd=!0x0,_0x74a895=!0x1,_0x335119=void 0x0;try{for(var _0x426dbd,_0x54607c=(0x0,_0x3c805b[_0x55f3('0x9')])(this[_0x55f3('0x9ec')]);!(_0xe61acd=(_0x426dbd=_0x54607c['next']())[_0x55f3('0x269')]);_0xe61acd=!0x0){var _0x51e114=_0x426dbd['value'];this[_0x55f3('0x9ed')](_0x51e114,_0x1e3265['directLight']);}}catch(_0x3a7fe2){_0x74a895=!0x0,_0x335119=_0x3a7fe2;}finally{try{!_0xe61acd&&_0x54607c[_0x55f3('0x271')]&&_0x54607c[_0x55f3('0x271')]();}finally{if(_0x74a895)throw _0x335119;}}}if(_0x1e3265[_0x55f3('0x972')]){var _0x2e2f1e=!0x0,_0x74a895=!0x1,_0x335119=void 0x0;try{for(var _0x18b84a,_0x2d73a4=(0x0,_0x3c805b[_0x55f3('0x9')])(this[_0x55f3('0xa8d')]);!(_0x2e2f1e=(_0x18b84a=_0x2d73a4[_0x55f3('0x85')]())['done']);_0x2e2f1e=!0x0){var _0x2fdefb=_0x18b84a[_0x55f3('0x12')];this[_0x55f3('0xaa0')](_0x2fdefb,_0x1e3265[_0x55f3('0x972')]);}}catch(_0x49910e){_0x74a895=!0x0,_0x335119=_0x49910e;}finally{try{!_0x2e2f1e&&_0x2d73a4[_0x55f3('0x271')]&&_0x2d73a4[_0x55f3('0x271')]();}finally{if(_0x74a895)throw _0x335119;}}}}},{'key':'initEnvTexture','value':function(_0x1e3265){_0x1e3265&&_0x1e3265[_0x55f3('0xaa1')]&&0x0<_0x1e3265[_0x55f3('0xaa1')][_0x55f3('0xf')]&&!this[_0x55f3('0x9d0')]&&(_0x1e3265[_0x55f3('0xeb')]&&_0x55f3('0xaa2')===_0x1e3265[_0x55f3('0xeb')]?this[_0x55f3('0xaa3')](_0x1e3265):this[_0x55f3('0x9d0')]=this[_0x55f3('0xaa4')](_0x1e3265));}},{'key':_0x55f3('0xaa4'),'value':function(_0x74a895,_0x1e3265){for(var _0xe61acd=this,_0x335119=0x0,_0x426dbd=_0x74a895[_0x55f3('0xaa1')]['length'];_0x335119<_0x426dbd;_0x335119++)_0x1e3265||(_0x74a895[_0x55f3('0xaa1')][_0x335119]=(0x0,_0x2a0c41['getConfigAssetsPath'])(_0x74a895['imgPaths'][_0x335119]));return new THREE[(_0x55f3('0x277'))]()['load'](_0x74a895[_0x55f3('0xaa1')],function(_0x1e3265){_0x1e3265[_0x55f3('0x8b')]=_0x74a895[_0x55f3('0x8b')]||'',_0x74a895['sRGB']&&(_0x1e3265[_0x55f3('0x419')]=THREE[_0x55f3('0x41a')]),!_0x74a895[_0x55f3('0x555')]&&void 0x0!==_0x74a895['enabled']||_0xe61acd[_0x55f3('0xaa5')](_0x74a895),_0xe61acd[_0x55f3('0xa8f')][_0x55f3('0x73')](_0x1e3265);});}},{'key':'createLightProbe','value':function(_0x1e3265){this[_0x55f3('0xaa6')]=new THREE[(_0x55f3('0xaa7'))](),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0xaa6')]),this['lightProbe']['copy'](_0x51e114['LightProbeGenerator']['fromCubeTexture'](this['envTextureCube'])),this['lightProbe'][_0x55f3('0x8b')]=_0x1e3265['name'],_0x1e3265[_0x55f3('0x427')]&&(this[_0x55f3('0xaa6')]['intensity']=_0x1e3265[_0x55f3('0x427')]),this[_0x55f3('0x94')][_0x55f3('0x28d')]('_effectLightProbe');}},{'key':'updateLightProbe','value':function(_0x74a895,_0x1e3265){var _0xe61acd=this;if(this['lightProbe']&&_0x74a895[_0x55f3('0x8b')]){var _0x335119=this['getTextureCubeByName'](_0x74a895['name']);if(_0x335119)this[_0x55f3('0xaa6')][_0x55f3('0x1ba')](_0x51e114[_0x55f3('0xaa8')][_0x55f3('0xaa9')](_0x335119)),this[_0x55f3('0xaa6')]['intensity']=_0x74a895[_0x55f3('0x427')],this[_0x55f3('0x97d')]&&this[_0x55f3('0x97d')][_0x55f3('0xaaa')](_0x335119),this['envTextureCube']=_0x335119;else{for(var _0x426dbd=0x0,_0x54607c=_0x74a895[_0x55f3('0xaa1')][_0x55f3('0xf')];_0x426dbd<_0x54607c;_0x426dbd++)_0x1e3265||(_0x74a895['imgPaths'][_0x426dbd]=(0x0,_0x2a0c41[_0x55f3('0x29')])(_0x74a895[_0x55f3('0xaa1')][_0x426dbd]));_0x2e2f1e[_0x55f3('0x9')][_0x55f3('0x276')](_0x74a895[_0x55f3('0xaa1')])[_0x55f3('0x341')](function(_0x1e3265){_0x1e3265[_0x55f3('0x8b')]=_0x74a895[_0x55f3('0x8b')],_0xe61acd[_0x55f3('0xaa6')][_0x55f3('0x1ba')](_0x51e114[_0x55f3('0xaa8')][_0x55f3('0xaa9')](_0x1e3265)),_0xe61acd[_0x55f3('0xaa6')][_0x55f3('0x427')]=_0x74a895[_0x55f3('0x427')],_0xe61acd[_0x55f3('0x97d')]&&_0xe61acd['models'][_0x55f3('0xaaa')](_0x1e3265),_0xe61acd[_0x55f3('0x9d0')]=_0x1e3265,_0xe61acd['envTextureCubes'][_0x55f3('0x73')](_0x1e3265);});}this[_0x55f3('0xaa6')]['intensity']=_0x74a895[_0x55f3('0x427')];}}},{'key':'updateLightProbeAnimate','value':function(_0x1e3265,_0x74a895){var _0xe61acd=this;_0x1e3265!=_0x74a895&&new TWEEN[(_0x55f3('0x331'))]({'x':_0x1e3265})['to']({'x':_0x74a895},0x3e8)['easing'](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x332')](function(_0x1e3265){_0xe61acd[_0x55f3('0xaa6')]['intensity']=_0x1e3265['x'];})[_0x55f3('0x395')]();}},{'key':_0x55f3('0xaab'),'value':function(_0x1e3265){var _0x74a895=!0x0,_0xe61acd=!0x1,_0x335119=void 0x0;try{for(var _0x426dbd,_0x54607c=(0x0,_0x3c805b[_0x55f3('0x9')])(this[_0x55f3('0xa8f')]);!(_0x74a895=(_0x426dbd=_0x54607c[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x74a895=!0x0){var _0x51e114=_0x426dbd[_0x55f3('0x12')];if(_0x51e114[_0x55f3('0x8b')]===_0x1e3265)return _0x51e114;}}catch(_0x454d43){_0xe61acd=!0x0,_0x335119=_0x454d43;}finally{try{!_0x74a895&&_0x54607c[_0x55f3('0x271')]&&_0x54607c[_0x55f3('0x271')]();}finally{if(_0xe61acd)throw _0x335119;}}return null;}},{'key':'createPMREMEnvTexture','value':function(_0x1e3265){var _0x74a895,_0xe61acd=this;0x1===_0x1e3265['imgPaths'][_0x55f3('0xf')]&&(_0x1e3265=(0x0,_0x2a0c41[_0x55f3('0x29')])(_0x1e3265['imgPaths'][0x0]),_0x74a895=new ESWorldMapTools['EnvTextureLoader'](this[_0x55f3('0x94')]),this[_0x55f3('0x9d0')]=new THREE[(_0x55f3('0x1ca'))](),_0x74a895['loadHDR']({'texPath':_0x1e3265,'resolutionSize':0x200})['then'](function(_0x1e3265){_0xe61acd[_0x55f3('0x9d0')]=_0x1e3265;}));}},{'key':'dispose','value':function(){for(var _0x1e3265=0x0,_0x74a895=this['pointLights']['length'];_0x1e3265<_0x74a895;_0x1e3265++)this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['remove'](this['pointLights'][_0x1e3265]);for(var _0xe61acd=this[_0x55f3('0xa8d')][_0x55f3('0xf')]=0x0,_0x335119=this[_0x55f3('0x9ec')][_0x55f3('0xf')];_0xe61acd<_0x335119;_0xe61acd++)this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['remove'](this['directionalLights'][_0xe61acd]);this['directionalLights'][_0x55f3('0xf')]=0x0,this['lightProbe']&&(this[_0x55f3('0x94')][_0x55f3('0x41b')]['scene']['remove'](this[_0x55f3('0xaa6')]),this[_0x55f3('0xaa6')]=null),this[_0x55f3('0x9d0')]&&(this['envTextureCube']['dispose'](),this['envTextureCube']=null);for(var _0x426dbd=0x0,_0x54607c=this['envTextureCubes'][_0x55f3('0xf')];_0x426dbd<_0x54607c;_0x426dbd++)this[_0x55f3('0xa8f')][_0x426dbd][_0x55f3('0x93')]();this['envTextureCubes'][_0x55f3('0xf')]=0x0;}}]),_0x74a895['default']=_0x2d73a4;},function(_0x33f40d,_0x131d46,_0x5e869e){'use strict';Object[_0x55f3('0x4')](_0x131d46,_0x55f3('0x7'),{'value':!0x0}),_0x131d46[_0x55f3('0xaa8')]={'fromCubeTexture':function(_0x33f40d){for(var _0x131d46,_0x5e869e=0x0,_0x16ba43=new THREE[(_0x55f3('0x5a'))](),_0x579784=new THREE[(_0x55f3('0x5a'))](),_0x38f00e=new THREE[(_0x55f3('0x1b7'))](),_0x4ca25b=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x4a057d=new THREE[(_0x55f3('0xaac'))](),_0x2adb52=_0x4a057d[_0x55f3('0xaad')],_0x265a1c=0x0;_0x265a1c<0x6;_0x265a1c++)for(var _0xbf437b=_0x33f40d[_0x55f3('0x36a')][_0x265a1c],_0x743a09=_0xbf437b[_0x55f3('0x32c')],_0x5e025d=_0xbf437b[_0x55f3('0x32d')],_0x3e60a3=document['createElement'](_0x55f3('0x422')),_0x3e60a3=(_0x3e60a3[_0x55f3('0x32c')]=_0x743a09,_0x3e60a3['height']=_0x5e025d,_0x3e60a3[_0x55f3('0x377')]('2d')),_0xbf437b=(_0x3e60a3[_0x55f3('0x423')](_0xbf437b,0x0,0x0,_0x743a09,_0x5e025d),_0x3e60a3[_0x55f3('0x378')](0x0,0x0,_0x743a09,_0x5e025d)),_0xbf24ae=_0xbf437b[_0x55f3('0x2c0')],_0x45b4b7=_0xbf437b['width'],_0x11f7c9=0x2/_0x45b4b7,_0x5a583d=0x0,_0x4b6799=_0xbf24ae[_0x55f3('0xf')];_0x5a583d<_0x4b6799;_0x5a583d+=0x4){_0x38f00e[_0x55f3('0xaae')](_0xbf24ae[_0x5a583d]/0xff,_0xbf24ae[_0x5a583d+0x1]/0xff,_0xbf24ae[_0x5a583d+0x2]/0xff),_0x38f00e[_0x55f3('0xaaf')](_0x38f00e);var _0x2b9421=_0x5a583d/0x4,_0x4a74a5=(_0x2b9421%_0x45b4b7+0.5)*_0x11f7c9-0x1,_0x1337af=0x1-(Math[_0x55f3('0x64')](_0x2b9421/_0x45b4b7)+0.5)*_0x11f7c9;switch(_0x265a1c){case 0x0:_0x16ba43['set'](-0x1,_0x1337af,-_0x4a74a5);break;case 0x1:_0x16ba43[_0x55f3('0x39')](0x1,_0x1337af,_0x4a74a5);break;case 0x2:_0x16ba43[_0x55f3('0x39')](-_0x4a74a5,0x1,-_0x1337af);break;case 0x3:_0x16ba43[_0x55f3('0x39')](-_0x4a74a5,-0x1,_0x1337af);break;case 0x4:_0x16ba43[_0x55f3('0x39')](-_0x4a74a5,_0x1337af,0x1);break;case 0x5:_0x16ba43[_0x55f3('0x39')](_0x4a74a5,_0x1337af,-0x1);}_0x2b9421=_0x16ba43['lengthSq'](),_0x5e869e+=_0x131d46=0x4/(Math['sqrt'](_0x2b9421)*_0x2b9421),_0x579784[_0x55f3('0x1ba')](_0x16ba43)[_0x55f3('0x1c2')](),THREE['SphericalHarmonics3']['getBasisAt'](_0x579784,_0x4ca25b);for(var _0x436337=0x0;_0x436337<0x9;_0x436337++)_0x2adb52[_0x436337]['x']+=_0x4ca25b[_0x436337]*_0x38f00e['r']*_0x131d46,_0x2adb52[_0x436337]['y']+=_0x4ca25b[_0x436337]*_0x38f00e['g']*_0x131d46,_0x2adb52[_0x436337]['z']+=_0x4ca25b[_0x436337]*_0x38f00e['b']*_0x131d46;}for(var _0x665095=0x4*Math['PI']/_0x5e869e,_0x436337=0x0;_0x436337<0x9;_0x436337++)_0x2adb52[_0x436337]['x']*=_0x665095,_0x2adb52[_0x436337]['y']*=_0x665095,_0x2adb52[_0x436337]['z']*=_0x665095;return new THREE[(_0x55f3('0xaa7'))](_0x4a057d);}};},function(_0x1bf3f8,_0x44f9a6,_0x496314){'use strict';Object[_0x55f3('0x4')](_0x44f9a6,'__esModule',{'value':!0x0});var _0x578fb9=_0x4145df(_0x496314(0x2c)),_0x208a98=_0x4145df(_0x496314(0x12)),_0x1683dc=_0x4145df(_0x496314(0x4)),_0x547eda=_0x4145df(_0x496314(0x0)),_0x415df0=_0x4145df(_0x496314(0x1)),_0x1e6783=_0x496314(0x17),_0xbab604=function(_0x1bf3f8){if(_0x1bf3f8&&_0x1bf3f8[_0x55f3('0x7')])return _0x1bf3f8;var _0x44f9a6={};if(null!=_0x1bf3f8)for(var _0x496314 in _0x1bf3f8)Object['prototype'][_0x55f3('0xc')][_0x55f3('0x1')](_0x1bf3f8,_0x496314)&&(_0x44f9a6[_0x496314]=_0x1bf3f8[_0x496314]);return _0x44f9a6[_0x55f3('0x9')]=_0x1bf3f8,_0x44f9a6;}(_0x496314(0x3d)),_0x32f733=_0x4145df(_0x496314(0xfc));function _0x4145df(_0x1bf3f8){return _0x1bf3f8&&_0x1bf3f8[_0x55f3('0x7')]?_0x1bf3f8:{'default':_0x1bf3f8};}function _0x2ac5cd(){(0x0,_0x547eda['default'])(this,_0x2ac5cd),this[_0x55f3('0x94')]=(0x0,_0x1e6783['getMapInstance'])(),this[_0x55f3('0xab0')]=null,this[_0x55f3('0xab1')]=new THREE[(_0x55f3('0x1c4'))](),this[_0x55f3('0x9a5')]=[],this[_0x55f3('0xab2')]=!0x1,this['routesEffectLayer']=null,this[_0x55f3('0xab3')]={},this[_0x55f3('0xab4')]=!0x1,this[_0x55f3('0xab5')]=!0x1,this[_0x55f3('0xab6')]=null,this[_0x55f3('0xab7')]=new THREE['Color']();}_0x496314(0xfd),(0x0,_0x415df0[_0x55f3('0x9')])(_0x2ac5cd,[{'key':_0x55f3('0xab8'),'value':function(){var _0x1bf3f8=((0x0,_0x1e6783[_0x55f3('0x2f')])()||(0x0,_0x1e6783['checkIsParkEngine'])()?this['map'][_0x55f3('0xab9')](0x0):this[_0x55f3('0x94')])[_0x55f3('0x5e5')](0x1);this[_0x55f3('0xab1')][_0x55f3('0x38')]['y']=_0x1bf3f8,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0xab1')]);}},{'key':_0x55f3('0xaba'),'value':function(_0x1bf3f8,_0x44f9a6){_0x1bf3f8[_0x55f3('0xabb')]?_0x1bf3f8[_0x55f3('0x1c6')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](getConfigAssetsPath(_0x1bf3f8[_0x55f3('0xabb')])):_0x1bf3f8[_0x55f3('0x1c6')]=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](getConfigAssetsPath(_0x55f3('0x947')));var _0x496314=new _0xbab604[(_0x55f3('0xab'))]({'camera':_0x44f9a6[_0x55f3('0x306')],'texture':_0x1bf3f8['texture'],'colorStr':_0x1bf3f8['color'],'lineWidth':_0x1bf3f8[_0x55f3('0x304')],'speed':_0x1bf3f8['speed']}),_0x547eda=(_0x496314[_0x55f3('0x329')](this['map']),!0x0),_0x44f9a6=!0x1,_0x415df0=void 0x0;try{for(var _0x4145df,_0x2ac5cd=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x1bf3f8[_0x55f3('0x526')]);!(_0x547eda=(_0x4145df=_0x2ac5cd['next']())[_0x55f3('0x269')]);_0x547eda=!0x0){var _0x22b736=_0x4145df['value'],_0x51c4f1=[],_0x1f56c8=_0x22b736[_0x55f3('0x507')][0x0],_0x37cb00=!0x0,_0x4ed1f4=!0x1,_0x118410=void 0x0;try{for(var _0x5c9304,_0x18ba4b=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x22b736['points']);!(_0x37cb00=(_0x5c9304=_0x18ba4b[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x37cb00=!0x0){var _0x176ab2,_0x4c0333,_0x49ffbf=_0x5c9304['value'];_0x1bf3f8['coordTrans']&&(_0x176ab2=_0x32f733['default'][_0x55f3('0x36f')](_0x49ffbf['x'],_0x49ffbf['y']),_0x4c0333=_0x32f733[_0x55f3('0x9')]['lonLanToMc'](_0x176ab2[0x0],_0x176ab2[0x1]),_0x49ffbf['x']=_0x4c0333[0x0],_0x49ffbf['y']=_0x4c0333[0x1]),_0x51c4f1[_0x55f3('0x73')](new THREE['Vector3'](-_0x49ffbf['x'],_0x49ffbf[_0x55f3('0xf5')],_0x49ffbf['y']));}}catch(_0x2ae75f){_0x4ed1f4=!0x0,_0x118410=_0x2ae75f;}finally{try{!_0x37cb00&&_0x18ba4b[_0x55f3('0x271')]&&_0x18ba4b['return']();}finally{if(_0x4ed1f4)throw _0x118410;}}var _0xfc125f=_0x496314[_0x55f3('0x62a')](_0x51c4f1);(0x0,_0x1e6783['setPositionFromMc'])(_0xfc125f,_0x1f56c8,_0x1bf3f8['height']),_0x1bf3f8[_0x55f3('0xabc')]&&_0xfc125f[_0x55f3('0xa12')][_0x55f3('0x214')](0x1);}}catch(_0x318d73){_0x44f9a6=!0x0,_0x415df0=_0x318d73;}finally{try{!_0x547eda&&_0x2ac5cd[_0x55f3('0x271')]&&_0x2ac5cd[_0x55f3('0x271')]();}finally{if(_0x44f9a6)throw _0x415df0;}}return _0x496314;}},{'key':'loadRoutesLine','value':function(_0x1bf3f8,_0x44f9a6){if(this['initHeight'](),(0x0,_0x1e6783['checkIsParkEngine'])())_0x44f9a6[_0x55f3('0xabd')]&&this[_0x55f3('0x94')][_0x55f3('0x51')]['navData']&&this[_0x55f3('0x94')][_0x55f3('0x51')]['navData'][_0x44f9a6['mapId']]&&this[_0x55f3('0xabe')](this[_0x55f3('0x94')][_0x55f3('0x51')][_0x55f3('0x9c0')][_0x44f9a6['mapId']][_0x55f3('0xabf')][0x0],_0x44f9a6);else{var _0x496314=!0x0,_0x547eda=!0x1,_0x415df0=void 0x0;try{for(var _0x4145df,_0x2ac5cd=(0x0,_0x1683dc[_0x55f3('0x9')])(this[_0x55f3('0x94')][_0x55f3('0xac0')]);!(_0x496314=(_0x4145df=_0x2ac5cd[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x496314=!0x0){var _0x4ffe88=_0x4145df[_0x55f3('0x12')];if(_0x4ffe88[_0x55f3('0xac1')]===_0x1bf3f8){this['computeNavDataToRoutesData'](_0x4ffe88,_0x44f9a6);break;}}}catch(_0x5754c1){_0x547eda=!0x0,_0x415df0=_0x5754c1;}finally{try{!_0x496314&&_0x2ac5cd[_0x55f3('0x271')]&&_0x2ac5cd['return']();}finally{if(_0x547eda)throw _0x415df0;}}}}},{'key':_0x55f3('0xabe'),'value':function(_0x1bf3f8,_0x44f9a6){var _0x496314,_0x547eda=(0x0,_0x208a98[_0x55f3('0x9')])({'height':0x47,'lineWidth':0x4,'color':_0x55f3('0xac2'),'routeList':[],'isHightLight':!0x1},_0x44f9a6);for(_0x496314 in _0x1bf3f8[_0x55f3('0x9c1')]){var _0x415df0,_0x4145df,_0x2ac5cd=_0x1bf3f8['Lines'][_0x496314];_0x2ac5cd[_0x55f3('0xac3')]&&(0x4==_0x2ac5cd['bstair']||0x5==_0x2ac5cd[_0x55f3('0xac3')])&&_0x2ac5cd['rank']>=_0x44f9a6[_0x55f3('0xac4')][0x0]&&_0x2ac5cd[_0x55f3('0xac4')]<_0x44f9a6[_0x55f3('0xac4')][0x1]&&(_0x4145df=_0x1bf3f8[_0x55f3('0xac5')][_0x2ac5cd[_0x55f3('0xac6')]],_0x2ac5cd=_0x1bf3f8[_0x55f3('0xac5')][_0x2ac5cd['eid']],(_0x415df0={'points':[]})[_0x55f3('0x507')][_0x55f3('0x73')]({'x':_0x4145df['X'],'y':_0x4145df['Y']},{'x':_0x2ac5cd['X'],'y':_0x2ac5cd['Y']}),_0x547eda[_0x55f3('0x629')][_0x55f3('0x73')](_0x415df0));}var _0x1309fd=this[_0x55f3('0xaba')]({'color':_0x547eda[_0x55f3('0x220')],'list':_0x547eda[_0x55f3('0x629')],'height':_0x547eda[_0x55f3('0x32d')],'lineWidth':_0x547eda[_0x55f3('0x304')],'lineTexture':_0x547eda[_0x55f3('0xac7')],'isHightLight':_0x547eda[_0x55f3('0xabc')],'speed':_0x547eda[_0x55f3('0x337')]},this[_0x55f3('0x94')]['mapView']);this[_0x55f3('0xab1')]['add'](_0x1309fd[_0x55f3('0x319')]),this[_0x55f3('0x9a5')]['push'](_0x1309fd);}},{'key':'computeRoutesData','value':function(_0x44f9a6,_0x496314){this['initHeight']();var _0x1bf3f8=(0x0,_0x208a98[_0x55f3('0x9')])({'height':0x47,'lineWidth':0x4,'color':_0x55f3('0xac2'),'routeList':[],'isHightLight':!0x1},_0x44f9a6),_0x547eda=[],_0x415df0=!0x0,_0x44f9a6=!0x1,_0x4145df=void 0x0;try{for(var _0x2ac5cd,_0xc098e3=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x1bf3f8[_0x55f3('0xac8')]);!(_0x415df0=(_0x2ac5cd=_0xc098e3[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x415df0=!0x0){var _0xdb6f9e=_0x2ac5cd[_0x55f3('0x12')];_0x547eda['push']({'color':_0xdb6f9e['color'],'rank':_0xdb6f9e[_0x55f3('0xac9')],'lineTexture':_0xdb6f9e['lineImg'],'routeList':[]});}}catch(_0x1f7bdc){_0x44f9a6=!0x0,_0x4145df=_0x1f7bdc;}finally{try{!_0x415df0&&_0xc098e3[_0x55f3('0x271')]&&_0xc098e3[_0x55f3('0x271')]();}finally{if(_0x44f9a6)throw _0x4145df;}}var _0x4a3174=!0x0,_0x44f9a6=!0x1,_0x4145df=void 0x0;try{for(var _0x30beeb,_0x3db10c=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x496314);!(_0x4a3174=(_0x30beeb=_0x3db10c[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4a3174=!0x0){var _0x224059=_0x30beeb[_0x55f3('0x12')],_0x49f59c={'points':[]},_0x807dcb=(_0x49f59c['points']=JSON['parse'](_0x224059[_0x55f3('0xaca')]),!0x0),_0x4630bd=!0x1,_0x10634f=void 0x0;try{for(var _0x1b8a0a,_0x20a63d=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x547eda);!(_0x807dcb=(_0x1b8a0a=_0x20a63d[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x807dcb=!0x0){var _0x1e6783=_0x1b8a0a[_0x55f3('0x12')];_0x55f3('0x6')===(0x0,_0x578fb9['default'])(_0x1e6783[_0x55f3('0xac4')])&&+_0x224059[_0x55f3('0xac9')]>=_0x1e6783[_0x55f3('0xac4')][0x0]&&+_0x224059[_0x55f3('0xac9')]<_0x1e6783[_0x55f3('0xac4')][0x1]&&_0x1e6783[_0x55f3('0x629')][_0x55f3('0x73')](_0x49f59c),_0x55f3('0xa')==typeof _0x1e6783[_0x55f3('0xac4')]&&_0x224059[_0x55f3('0xac9')]==_0x1e6783['rank']&&_0x1e6783[_0x55f3('0x629')][_0x55f3('0x73')](_0x49f59c);}}catch(_0x2863ba){_0x4630bd=!0x0,_0x10634f=_0x2863ba;}finally{try{!_0x807dcb&&_0x20a63d[_0x55f3('0x271')]&&_0x20a63d['return']();}finally{if(_0x4630bd)throw _0x10634f;}}}}catch(_0x31e179){_0x44f9a6=!0x0,_0x4145df=_0x31e179;}finally{try{!_0x4a3174&&_0x3db10c[_0x55f3('0x271')]&&_0x3db10c[_0x55f3('0x271')]();}finally{if(_0x44f9a6)throw _0x4145df;}}var _0xbab604=!0x0,_0x496314=!0x1,_0x44f9a6=void 0x0;try{for(var _0x32f733,_0x195592=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x547eda);!(_0xbab604=(_0x32f733=_0x195592[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0xbab604=!0x0){var _0x4b6082=_0x32f733[_0x55f3('0x12')],_0x2c2a63=this['createRoutesLine']({'color':_0x4b6082[_0x55f3('0x220')],'list':_0x4b6082['routeList'],'height':_0x1bf3f8[_0x55f3('0x32d')],'lineWidth':_0x1bf3f8[_0x55f3('0x304')],'coordTrans':_0x1bf3f8[_0x55f3('0xacb')],'lineTexture':_0x1bf3f8[_0x55f3('0xac7')],'isHightLight':_0x1bf3f8[_0x55f3('0xabc')],'speed':_0x1bf3f8[_0x55f3('0x337')]},map[_0x55f3('0x41b')]);this[_0x55f3('0xab1')][_0x55f3('0x1c3')](_0x2c2a63[_0x55f3('0x319')]),this[_0x55f3('0x9a5')][_0x55f3('0x73')](_0x2c2a63);}}catch(_0x1aa34a){_0x496314=!0x0,_0x44f9a6=_0x1aa34a;}finally{try{!_0xbab604&&_0x195592[_0x55f3('0x271')]&&_0x195592[_0x55f3('0x271')]();}finally{if(_0x496314)throw _0x44f9a6;}}}},{'key':_0x55f3('0xacc'),'value':function(_0x1bf3f8,_0x44f9a6,_0x496314,_0x547eda){_0x547eda&&(this['isCanChangeTileRoutesStyle']=_0x547eda),this[_0x55f3('0xacd')]();var _0x415df0,_0x4145df=this[_0x55f3('0x94')][_0x55f3('0xa59')](_0x44f9a6);if(_0x4145df){for(var _0x2ac5cd in _0x1bf3f8){_0x2ac5cd=_0x1bf3f8[_0x2ac5cd];if(_0x2ac5cd['points']=this['computeTileRoutesData'](_0x2ac5cd),_0x2ac5cd[_0x55f3('0x507')]=this['map'][_0x55f3('0xace')]({'from':this['map']['DEFAULT_COORDSYSTEM'],'to':this[_0x55f3('0x94')][_0x55f3('0xacf')],'coords':_0x2ac5cd[_0x55f3('0x507')],'flipX':!0x1}),this[_0x55f3('0x94')][_0x55f3('0x28d')](_0x55f3('0xad0'),{'tileId':_0x44f9a6,'points':_0x2ac5cd[_0x55f3('0x507')]}),this['tileRoutesMarkers'][_0x2ac5cd['style']]){var _0x3eec66=this[_0x55f3('0xab3')][_0x2ac5cd[_0x55f3('0x6b')]][_0x55f3('0x31a')](_0x2ac5cd[_0x55f3('0x507')],new THREE['Vector3'](this[_0x55f3('0x94')][_0x55f3('0x33')][_0x55f3('0x34')],0x0,this['map']['mapScene'][_0x55f3('0x35')]));if(_0x547eda){var _0x902781=[],_0x3921f=_0x3eec66['attributes'][_0x55f3('0x38')]['count'];this[_0x55f3('0xab7')]['setStyle'](_0x55f3('0x339'));for(var _0x488637=0x0;_0x488637<_0x3921f;_0x488637++)_0x902781[_0x55f3('0x73')](this[_0x55f3('0xab7')]['r'],this[_0x55f3('0xab7')]['g'],this['tempColor']['b']);_0x3eec66[_0x55f3('0x1f2')](_0x55f3('0xad1'),new THREE['BufferAttribute'](new Float32Array(_0x902781),0x3)),this[_0x55f3('0xab3')][_0x2ac5cd[_0x55f3('0x6b')]]['idColorMapping'][_0x2ac5cd['_id']]={'count':_0x3921f,'colorStr':_0x55f3('0x339')};}_0x3eec66['routeId']=_0x2ac5cd[_0x55f3('0x5b2')],this[_0x55f3('0xab3')][_0x2ac5cd['style']][_0x55f3('0xad2')][_0x55f3('0x73')](_0x3eec66);}}for(var _0x124337 in this['tileRoutesMarkers'])0x0<this[_0x55f3('0xab3')][_0x124337]['geometries'][_0x55f3('0xf')]&&(_0x415df0=this['mergeGeometrys'](this['tileRoutesMarkers'][_0x124337][_0x55f3('0xad2')]),_0x415df0=new THREE['Mesh'](_0x415df0,this[_0x55f3('0xab3')][_0x124337][_0x55f3('0x660')]),_0x496314&&_0x415df0[_0x55f3('0xa12')]['enable'](0x1),_0x415df0[_0x55f3('0x318')]=esmap[_0x55f3('0xad3')][_0x55f3('0xad4')]||0x4c,_0x415df0['tileCode']=_0x44f9a6,_0x415df0[_0x55f3('0x8b')]=_0x55f3('0xad5'),_0x415df0['lineColorMapping']=this[_0x55f3('0xab3')][_0x124337][_0x55f3('0xad6')],_0x4145df[_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x415df0),this['tileRoutesMarkers'][_0x124337][_0x55f3('0xad2')][_0x55f3('0xf')]=0x0,this['tileRoutesMarkers'][_0x124337]['idColorMapping']={});}}},{'key':_0x55f3('0xad7'),'value':function(_0x1bf3f8){var _0x44f9a6=[],_0x496314=[],_0x547eda=!0x0,_0x415df0=!0x1,_0x4145df=void 0x0;try{for(var _0x2ac5cd,_0x24fa7b=(0x0,_0x1683dc[_0x55f3('0x9')])(_0x1bf3f8);!(_0x547eda=(_0x2ac5cd=_0x24fa7b[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x547eda=!0x0){var _0xb61e7c=_0x2ac5cd['value'];_0x44f9a6[_0x55f3('0x73')](_0xb61e7c),_0x496314[_0x55f3('0x73')](_0xb61e7c[_0x55f3('0xad8')]);}}catch(_0x381ad9){_0x415df0=!0x0,_0x4145df=_0x381ad9;}finally{try{!_0x547eda&&_0x24fa7b['return']&&_0x24fa7b['return']();}finally{if(_0x415df0)throw _0x4145df;}}_0x1bf3f8=THREE[_0x55f3('0xad9')][_0x55f3('0xada')](_0x44f9a6,!0x1);return _0x1bf3f8['addGroup'](0x0,_0x1bf3f8[_0x55f3('0x165')][_0x55f3('0x38')]['count'],0x0),_0x1bf3f8[_0x55f3('0xadb')]=_0x496314,_0x1bf3f8;}},{'key':_0x55f3('0xadc'),'value':function(_0x1bf3f8){for(var _0x44f9a6 in this[_0x55f3('0xab3')])this['tileRoutesMarkers'][_0x44f9a6][_0x55f3('0x662')](!0x0);for(var _0x496314=0x0,_0x547eda=this['map']['tileList']['length'];_0x496314<_0x547eda;_0x496314++)for(var _0x415df0=0x0,_0x4145df=this[_0x55f3('0x94')][_0x55f3('0xadd')][_0x496314][_0x55f3('0x5e9')]['children'][_0x55f3('0xf')];_0x415df0<_0x4145df;_0x415df0++)if(_0x55f3('0xad5')===this[_0x55f3('0x94')]['tileList'][_0x496314]['o3d_'][_0x55f3('0x322')][_0x415df0][_0x55f3('0x8b')]){var _0x2ac5cd,_0x9b3a38=this['map'][_0x55f3('0xadd')][_0x496314]['o3d_']['children'][_0x415df0],_0x4c862e=_0x9b3a38['geometry'][_0x55f3('0x165')]['changeColor'],_0x26438c=0x0;for(_0x2ac5cd in _0x9b3a38[_0x55f3('0xade')]){_0x9b3a38[_0x55f3('0xade')][_0x2ac5cd]['colorStr']=_0x1bf3f8[Math['floor'](0x3*Math[_0x55f3('0x60')]())],this[_0x55f3('0xab7')][_0x55f3('0x300')](_0x9b3a38[_0x55f3('0xade')][_0x2ac5cd][_0x55f3('0x2fd')]);for(var _0x4b69e6=0x3*_0x26438c,_0xf74a8=0x3*(_0x26438c+_0x9b3a38[_0x55f3('0xade')][_0x2ac5cd][_0x55f3('0xfc')]);_0x4b69e6<_0xf74a8;_0x4b69e6+=0x3)_0x4c862e[_0x55f3('0xd4')][_0x4b69e6]=this[_0x55f3('0xab7')]['r'],_0x4c862e[_0x55f3('0xd4')][_0x4b69e6+0x1]=this[_0x55f3('0xab7')]['g'],_0x4c862e[_0x55f3('0xd4')][_0x4b69e6+0x2]=this[_0x55f3('0xab7')]['b'];_0x26438c+=_0x9b3a38[_0x55f3('0xade')][_0x2ac5cd][_0x55f3('0xfc')];}_0x4c862e[_0x55f3('0xf7')]=!0x0;}this[_0x55f3('0xab5')]=!0x0;}},{'key':'updateTileRoutesStyle','value':function(_0x1bf3f8){var _0x44f9a6=void 0x0,_0x496314=void 0x0;if(_0x1bf3f8?(_0x44f9a6=_0x1bf3f8[_0x55f3('0x6a1')],_0x496314=_0x1bf3f8[_0x55f3('0xadf')],this[_0x55f3('0xab6')]=_0x1bf3f8):(_0x44f9a6=this[_0x55f3('0xab6')][_0x55f3('0x6a1')],_0x496314=this[_0x55f3('0xab6')][_0x55f3('0xadf')]),_0x44f9a6&&this[_0x55f3('0xadc')](_0x44f9a6),_0x496314)for(var _0x547eda in this[_0x55f3('0xab3')])this[_0x55f3('0xab3')][_0x547eda][_0x55f3('0xae0')](_0x496314);}},{'key':_0x55f3('0x9f1'),'value':function(){if(this[_0x55f3('0xab6')]){for(var _0x1bf3f8 in this[_0x55f3('0xab3')])this[_0x55f3('0xab3')][_0x1bf3f8][_0x55f3('0x662')](!0x1),this[_0x55f3('0xab3')][_0x1bf3f8]['scaleLineWidth'](0x1);this['isChangedTileRoutesStyle']=!0x1,this['changedTileRoutesStyleConfig']=null;}}},{'key':'toggleTileRoutesVisible','value':function(){var _0x1bf3f8,_0x44f9a6=0x0<arguments['length']&&void 0x0!==arguments[0x0]&&arguments[0x0];for(_0x1bf3f8 in this[_0x55f3('0xab3')])this['tileRoutesMarkers'][_0x1bf3f8]['_getMaterial'][_0x55f3('0x338')]=_0x44f9a6;}},{'key':'createTileRouteStyles','value':function(){if(!this[_0x55f3('0xab2')]){for(var _0x1bf3f8 in this[_0x55f3('0xae1')]=new esmap[(_0x55f3('0x4e'))][(_0x55f3('0x94a'))](_0x55f3('0xae2'),esmap[_0x55f3('0x5d5')][_0x55f3('0x5d4')]),esmap[_0x55f3('0x4e')][_0x55f3('0x94c')](this['routeEffectLayer']),this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xae3')]){var _0x44f9a6=this[_0x55f3('0x94')]['mapTheme']['roadStyles'][_0x1bf3f8],_0x496314=(_0x44f9a6['color']=esmap[_0x55f3('0x36')][_0x55f3('0xae4')](_0x44f9a6['color']),null),_0x496314=(0x1==_0x44f9a6[_0x55f3('0x4b6')]&&(_0x496314=_0x44f9a6[_0x55f3('0x220')]),new esmap[(_0x55f3('0x4e'))]['EffectMarker'](esmap[_0x55f3('0x27e')][_0x55f3('0x65a')],{'color':_0x496314,'height':0x0,'lineWidth':1.5*_0x44f9a6[_0x55f3('0xae5')],'imgUrl':0x2==_0x44f9a6[_0x55f3('0x4b6')]?_0x44f9a6['url']:null,'speed':_0x44f9a6[_0x55f3('0xae6')]/0xc8,'isCanChangeStyle':this[_0x55f3('0xab4')],'opacity':_0x44f9a6[_0x55f3('0x221')]}));this[_0x55f3('0xae1')][_0x55f3('0x5f0')](_0x496314),this[_0x55f3('0xab3')][_0x1bf3f8]=_0x496314,this[_0x55f3('0xab3')][_0x1bf3f8][_0x55f3('0xad2')]=[],this['tileRoutesMarkers'][_0x1bf3f8]['idColorMapping']={};}this[_0x55f3('0xab2')]=!0x0;}}},{'key':_0x55f3('0xae7'),'value':function(_0x1bf3f8){var _0x44f9a6=_0x1bf3f8['outline'][_0x55f3('0xae8')](0x2,_0x1bf3f8['outline'][_0x55f3('0xf')]-0x2)[_0x55f3('0x67')](/,/),_0x496314={'x':0x0,'y':0x0};if(0x0!=_0x44f9a6[_0x55f3('0xf')]){for(var _0x547eda=[],_0x415df0=0x0;_0x415df0<_0x44f9a6[_0x55f3('0xf')];_0x415df0++){var _0x4145df=_0x44f9a6[_0x415df0][_0x55f3('0x67')]('\x20'),_0x2ac5cd=+_0x4145df[0x2]||0x0;_0x547eda[_0x55f3('0x73')]({'x':+_0x4145df[0x0]+_0x496314['x'],'y':+_0x4145df[0x1]+_0x496314['y'],'offset':_0x2ac5cd}),0x0==_0x415df0&&(_0x496314['x']=+_0x4145df[0x0],_0x496314['y']=+_0x4145df[0x1]);}return _0x547eda;}}},{'key':_0x55f3('0x32e'),'value':function(){for(var _0x1bf3f8,_0x44f9a6=0x0,_0x496314=this['routesMarkers'][_0x55f3('0xf')];_0x44f9a6<_0x496314;_0x44f9a6++)this[_0x55f3('0x9a5')][_0x44f9a6]['dispose'](),this['routesMarkers'][_0x44f9a6]=null;for(_0x1bf3f8 in this[_0x55f3('0x9a5')]['length']=0x0,this['routesEffectLayer']&&(this[_0x55f3('0xae9')][_0x55f3('0x93')](),this[_0x55f3('0xae9')]=null),this[_0x55f3('0xab3')])delete this['tileRoutesMarkers'][_0x1bf3f8];}},{'key':_0x55f3('0x336'),'value':function(){if(0x0<this['routesMarkers']['length']){var _0x1bf3f8=!0x0,_0x44f9a6=!0x1,_0x496314=void 0x0;try{for(var _0x547eda,_0x415df0=(0x0,_0x1683dc[_0x55f3('0x9')])(this[_0x55f3('0x9a5')]);!(_0x1bf3f8=(_0x547eda=_0x415df0['next']())[_0x55f3('0x269')]);_0x1bf3f8=!0x0)_0x547eda[_0x55f3('0x12')][_0x55f3('0x336')]();}catch(_0x5a8d8d){_0x44f9a6=!0x0,_0x496314=_0x5a8d8d;}finally{try{!_0x1bf3f8&&_0x415df0[_0x55f3('0x271')]&&_0x415df0[_0x55f3('0x271')]();}finally{if(_0x44f9a6)throw _0x496314;}}}}}]),_0x44f9a6['default']=_0x2ac5cd;},function(_0x5cb452,_0x397746,_0x37adaf){'use strict';Object[_0x55f3('0x4')](_0x397746,_0x55f3('0x7'),{'value':!0x0});var _0x2b0e71=_0x40b4e6(_0x37adaf(0x0));function _0x40b4e6(_0x5cb452){return _0x5cb452&&_0x5cb452[_0x55f3('0x7')]?_0x5cb452:{'default':_0x5cb452};}function _0x16a37f(){(0x0,_0x2b0e71[_0x55f3('0x9')])(this,_0x16a37f);}(0x0,_0x40b4e6(_0x37adaf(0x1))[_0x55f3('0x9')])(_0x16a37f,null,[{'key':_0x55f3('0x36b'),'value':function(_0x5cb452,_0x397746){var _0x37adaf=[],_0x5cb452=20037508.342789*_0x5cb452/0xb4,_0x397746=Math[_0x55f3('0x770')](Math[_0x55f3('0x6cc')]((0x5a+_0x397746)*Math['PI']/0x168))/(Math['PI']/0xb4)*20037508.34789/0xb4;return _0x37adaf[_0x55f3('0x73')](_0x5cb452),_0x37adaf[_0x55f3('0x73')](_0x397746),_0x37adaf;}},{'key':_0x55f3('0x36f'),'value':function(_0x5cb452,_0x397746){var _0x37adaf=[],_0x5cb452=_0x5cb452/20037508.342789*0xb4,_0x397746=_0x397746/20037508.342789*0xb4,_0x397746=0xb4/Math['PI']*(0x2*Math[_0x55f3('0xaea')](Math[_0x55f3('0xaeb')](_0x397746*Math['PI']/0xb4))-Math['PI']/0x2);return _0x37adaf[_0x55f3('0x73')](_0x5cb452),_0x37adaf[_0x55f3('0x73')](_0x397746),_0x37adaf;}}]),_0x397746[_0x55f3('0x9')]=_0x16a37f;},function(_0x100fa4,_0x3f3a77,_0x5928d2){'use strict';var _0x594a78=_0x404a94(_0x5928d2(0xfe)),_0x46a623=_0x404a94(_0x5928d2(0x101)),_0x47dbf5=_0x404a94(_0x5928d2(0x43)),_0x5eecd4=_0x404a94(_0x5928d2(0x104));function _0x404a94(_0x100fa4){return _0x100fa4&&_0x100fa4[_0x55f3('0x7')]?_0x100fa4:{'default':_0x100fa4};}THREE[_0x55f3('0xad9')]={'computeTangents':function(_0x100fa4){var _0x5bea14=_0x100fa4[_0x55f3('0x39c')],_0x3f3a77=_0x100fa4[_0x55f3('0x165')];if(null!==_0x5bea14&&void 0x0!==_0x3f3a77[_0x55f3('0x38')]&&void 0x0!==_0x3f3a77[_0x55f3('0x578')]&&void 0x0!==_0x3f3a77['uv']){for(var _0x5928d2=_0x5bea14[_0x55f3('0xd4')],_0x404a94=_0x3f3a77['position']['array'],_0x26c92d=_0x3f3a77['normal'][_0x55f3('0xd4')],_0x12c5ee=_0x3f3a77['uv'][_0x55f3('0xd4')],_0x52d0e1=_0x404a94[_0x55f3('0xf')]/0x3,_0x531fe1=(void 0x0===_0x3f3a77[_0x55f3('0xaec')]&&_0x100fa4[_0x55f3('0x1f2')](_0x55f3('0xaec'),new THREE[(_0x55f3('0x102'))](new Float32Array(0x4*_0x52d0e1),0x4)),_0x3f3a77[_0x55f3('0xaec')][_0x55f3('0xd4')]),_0x1ff70a=[],_0x2d9d97=[],_0x26cd8f=0x0;_0x26cd8f<_0x52d0e1;_0x26cd8f++)_0x1ff70a[_0x26cd8f]=new THREE[(_0x55f3('0x5a'))](),_0x2d9d97[_0x26cd8f]=new THREE[(_0x55f3('0x5a'))]();for(var _0x11302c,_0x4d2615,_0xa4bc2b,_0x4401dd,_0x19ab33,_0x411f3f,_0x23219a,_0x55a1dd,_0x8b72c,_0x5cdd48,_0x46446d,_0x4843d5,_0x5eecd4,_0x37f1a6,_0x27f472=new THREE['Vector3'](),_0x44a3b7=new THREE[(_0x55f3('0x5a'))](),_0x633e70=new THREE[(_0x55f3('0x5a'))](),_0x3da405=new THREE['Vector2'](),_0x22c8f2=new THREE['Vector2'](),_0x476072=new THREE[(_0x55f3('0x1b4'))](),_0x5873c0=new THREE[(_0x55f3('0x5a'))](),_0x368627=new THREE['Vector3'](),_0x4ebdde=_0x100fa4[_0x55f3('0xaed')],_0x26cd8f=0x0,_0x4f4c65=(_0x4ebdde=0x0===_0x4ebdde[_0x55f3('0xf')]?[{'start':0x0,'count':_0x5928d2[_0x55f3('0xf')]}]:_0x4ebdde)['length'];_0x26cd8f<_0x4f4c65;++_0x26cd8f)for(var _0x1593b8=_0x593a8c=(_0x47dbf5=_0x4ebdde[_0x26cd8f])[_0x55f3('0x395')],_0x263a78=_0x593a8c+_0x47dbf5[_0x55f3('0xfc')];_0x1593b8<_0x263a78;_0x1593b8+=0x3)_0x11302c=_0x5928d2[_0x1593b8+0x0],_0x4d2615=_0x5928d2[_0x1593b8+0x1],_0xa4bc2b=_0x5928d2[_0x1593b8+0x2],0x0,_0x27f472[_0x55f3('0x3bb')](_0x404a94,0x3*_0x11302c),_0x44a3b7[_0x55f3('0x3bb')](_0x404a94,0x3*_0x4d2615),_0x633e70[_0x55f3('0x3bb')](_0x404a94,0x3*_0xa4bc2b),_0x3da405['fromArray'](_0x12c5ee,0x2*_0x11302c),_0x22c8f2[_0x55f3('0x3bb')](_0x12c5ee,0x2*_0x4d2615),_0x476072[_0x55f3('0x3bb')](_0x12c5ee,0x2*_0xa4bc2b),_0x4401dd=_0x44a3b7['x']-_0x27f472['x'],_0x19ab33=_0x633e70['x']-_0x27f472['x'],_0x411f3f=_0x44a3b7['y']-_0x27f472['y'],_0x23219a=_0x633e70['y']-_0x27f472['y'],_0x55a1dd=_0x44a3b7['z']-_0x27f472['z'],_0x8b72c=_0x633e70['z']-_0x27f472['z'],_0x5cdd48=_0x22c8f2['x']-_0x3da405['x'],_0x46446d=_0x476072['x']-_0x3da405['x'],_0x4843d5=_0x22c8f2['y']-_0x3da405['y'],_0x5eecd4=_0x476072['y']-_0x3da405['y'],_0x5873c0[_0x55f3('0x39')]((_0x5eecd4*_0x4401dd-_0x4843d5*_0x19ab33)*(_0x37f1a6=0x1/(_0x5cdd48*_0x5eecd4-_0x46446d*_0x4843d5)),(_0x5eecd4*_0x411f3f-_0x4843d5*_0x23219a)*_0x37f1a6,(_0x5eecd4*_0x55a1dd-_0x4843d5*_0x8b72c)*_0x37f1a6),_0x368627[_0x55f3('0x39')]((_0x5cdd48*_0x19ab33-_0x46446d*_0x4401dd)*_0x37f1a6,(_0x5cdd48*_0x23219a-_0x46446d*_0x411f3f)*_0x37f1a6,(_0x5cdd48*_0x8b72c-_0x46446d*_0x55a1dd)*_0x37f1a6),_0x1ff70a[_0x11302c][_0x55f3('0x1c3')](_0x5873c0),_0x1ff70a[_0x4d2615][_0x55f3('0x1c3')](_0x5873c0),_0x1ff70a[_0xa4bc2b]['add'](_0x5873c0),_0x2d9d97[_0x11302c][_0x55f3('0x1c3')](_0x368627),_0x2d9d97[_0x4d2615][_0x55f3('0x1c3')](_0x368627),_0x2d9d97[_0xa4bc2b][_0x55f3('0x1c3')](_0x368627);for(var _0x1c4f85,_0x594a78=new THREE[(_0x55f3('0x5a'))](),_0x376f7f=new THREE[(_0x55f3('0x5a'))](),_0x46a623=new THREE[(_0x55f3('0x5a'))](),_0x2f2530=new THREE[(_0x55f3('0x5a'))](),_0x26cd8f=0x0,_0x4f4c65=_0x4ebdde['length'];_0x26cd8f<_0x4f4c65;++_0x26cd8f)for(var _0x47dbf5,_0x593a8c,_0x1593b8=_0x593a8c=(_0x47dbf5=_0x4ebdde[_0x26cd8f])[_0x55f3('0x395')],_0x263a78=_0x593a8c+_0x47dbf5[_0x55f3('0xfc')];_0x1593b8<_0x263a78;_0x1593b8+=0x3)_0xc68e71(_0x5928d2[_0x1593b8+0x0]),_0xc68e71(_0x5928d2[_0x1593b8+0x1]),_0xc68e71(_0x5928d2[_0x1593b8+0x2]);}function _0xc68e71(_0x100fa4){_0x46a623['fromArray'](_0x26c92d,0x3*_0x100fa4),_0x2f2530['copy'](_0x46a623),_0x1c4f85=_0x1ff70a[_0x100fa4],_0x594a78['copy'](_0x1c4f85),_0x594a78[_0x55f3('0x39b')](_0x46a623[_0x55f3('0x1c1')](_0x46a623[_0x55f3('0x590')](_0x1c4f85)))[_0x55f3('0x1c2')](),_0x376f7f[_0x55f3('0xaee')](_0x2f2530,_0x1c4f85),_0x1c4f85=_0x376f7f['dot'](_0x2d9d97[_0x100fa4]),_0x1c4f85=_0x1c4f85<0x0?-0x1:0x1,_0x531fe1[0x4*_0x100fa4]=_0x594a78['x'],_0x531fe1[0x4*_0x100fa4+0x1]=_0x594a78['y'],_0x531fe1[0x4*_0x100fa4+0x2]=_0x594a78['z'],_0x531fe1[0x4*_0x100fa4+0x3]=_0x1c4f85;}},'splitBufferGeometryByLimit':function(_0x100fa4,_0x3f3a77,_0x5928d2){_0x5928d2=(null===_0x5928d2?0x1/0x0:_0x5928d2)||0xc350;for(var _0x404a94=0x0,_0x25e994=0x0,_0x9f58c4=[[]],_0x5d24b8=0x0;_0x5d24b8<_0x100fa4['length'];_0x5d24b8++){var _0x4d2369=_0x100fa4[_0x5d24b8];_0x4d2369['attributes'][_0x55f3('0x38')]&&((_0x404a94+=_0x4d2369['attributes'][_0x55f3('0x38')][_0x55f3('0xfc')])<_0x5928d2?(_0x9f58c4[_0x25e994]instanceof Array||(_0x9f58c4[_0x25e994]=[]),_0x9f58c4[_0x25e994][_0x55f3('0x73')](_0x4d2369)):(_0x404a94=0x0,_0x9f58c4[_0x25e994]instanceof Array||(_0x9f58c4[_0x25e994]=[]),_0x9f58c4[_0x25e994][_0x55f3('0x73')](_0x4d2369),_0x25e994++));}for(var _0x1ea57c=[],_0x446f85=0x0;_0x446f85<_0x9f58c4[_0x55f3('0xf')];_0x446f85++){var _0x3fb26e=this[_0x55f3('0xada')](_0x9f58c4[_0x446f85],_0x3f3a77);_0x1ea57c[_0x55f3('0x73')](_0x3fb26e);}return _0x1ea57c;},'mergeBufferGeometries':function(_0x100fa4,_0x3f3a77){for(var _0x5928d2=null!==_0x100fa4[0x0]['index'],_0x404a94=new _0x5eecd4[(_0x55f3('0x9'))]((0x0,_0x47dbf5[_0x55f3('0x9')])(_0x100fa4[0x0][_0x55f3('0x165')])),_0x2bf97f=new _0x5eecd4[(_0x55f3('0x9'))]((0x0,_0x47dbf5[_0x55f3('0x9')])(_0x100fa4[0x0][_0x55f3('0xaef')])),_0x508492={},_0x410a77={},_0x41de1c=new THREE[(_0x55f3('0x1e9'))](),_0x18900b=0x0,_0x1f809d=0x0;_0x1f809d<_0x100fa4[_0x55f3('0xf')];++_0x1f809d){var _0x162596,_0x152b96,_0x3fe076=_0x100fa4[_0x1f809d];if(_0x5928d2!=(null!==_0x3fe076[_0x55f3('0x39c')]))return null;for(_0x162596 in _0x3fe076[_0x55f3('0x165')]){if(!_0x404a94['has'](_0x162596))return null;void 0x0===_0x508492[_0x162596]&&(_0x508492[_0x162596]=[]),_0x508492[_0x162596][_0x55f3('0x73')](_0x3fe076[_0x55f3('0x165')][_0x162596]);}for(_0x162596 in _0x3fe076[_0x55f3('0xaef')]){if(!_0x2bf97f[_0x55f3('0xaf0')](_0x162596))return null;void 0x0===_0x410a77[_0x162596]&&(_0x410a77[_0x162596]=[]),_0x410a77[_0x162596][_0x55f3('0x73')](_0x3fe076[_0x55f3('0xaef')][_0x162596]);}if(_0x41de1c[_0x55f3('0x63f')]['mergedUserData']=_0x41de1c['userData'][_0x55f3('0xaf1')]||[],_0x41de1c[_0x55f3('0x63f')][_0x55f3('0xaf1')][_0x55f3('0x73')](_0x3fe076[_0x55f3('0x63f')]),_0x3f3a77){if(_0x5928d2)_0x152b96=_0x3fe076[_0x55f3('0x39c')]['count'];else{if(void 0x0===_0x3fe076[_0x55f3('0x165')][_0x55f3('0x38')])return null;_0x152b96=_0x3fe076[_0x55f3('0x165')]['position']['count'];}_0x41de1c['addGroup'](_0x18900b,_0x152b96,_0x1f809d),_0x18900b+=_0x152b96;}}if(_0x5928d2){for(var _0x2e647e=0x0,_0x449f71=[],_0x1f809d=0x0;_0x1f809d<_0x100fa4[_0x55f3('0xf')];++_0x1f809d){for(var _0x3e7488=_0x100fa4[_0x1f809d]['index'],_0x3e5373=0x0;_0x3e5373<_0x3e7488['count'];++_0x3e5373)_0x449f71['push'](_0x3e7488['getX'](_0x3e5373)+_0x2e647e);_0x2e647e+=_0x100fa4[_0x1f809d][_0x55f3('0x165')][_0x55f3('0x38')][_0x55f3('0xfc')];}_0x41de1c[_0x55f3('0x3c2')](_0x449f71);}for(_0x162596 in _0x508492){var _0x112968=this[_0x55f3('0xaf2')](_0x508492[_0x162596]);if(!_0x112968)return null;_0x41de1c[_0x55f3('0x1f2')](_0x162596,_0x112968);}for(_0x162596 in _0x410a77){var _0x4e7905=_0x410a77[_0x162596][0x0][_0x55f3('0xf')];if(0x0===_0x4e7905)break;for(_0x41de1c[_0x55f3('0xaef')]=_0x41de1c[_0x55f3('0xaef')]||{},_0x41de1c['morphAttributes'][_0x162596]=[],_0x1f809d=0x0;_0x1f809d<_0x4e7905;++_0x1f809d){for(var _0x5704c2=[],_0x3e5373=0x0;_0x3e5373<_0x410a77[_0x162596][_0x55f3('0xf')];++_0x3e5373)_0x5704c2[_0x55f3('0x73')](_0x410a77[_0x162596][_0x3e5373][_0x1f809d]);var _0x3863d4=this[_0x55f3('0xaf2')](_0x5704c2);if(!_0x3863d4)return null;_0x41de1c['morphAttributes'][_0x162596]['push'](_0x3863d4);}}return _0x41de1c;},'mergeBufferAttributes':function(_0x100fa4){for(var _0x3f3a77,_0x5928d2,_0x404a94,_0x435656=0x0,_0x482f02=0x0;_0x482f02<_0x100fa4[_0x55f3('0xf')];++_0x482f02){var _0x470f99=_0x100fa4[_0x482f02];if(_0x470f99[_0x55f3('0xaf3')])return null;if((_0x3f3a77=void 0x0===_0x3f3a77?_0x470f99[_0x55f3('0xd4')][_0x55f3('0x83')]:_0x3f3a77)!==_0x470f99['array']['constructor'])return null;if((_0x5928d2=void 0x0===_0x5928d2?_0x470f99[_0x55f3('0x101')]:_0x5928d2)!==_0x470f99['itemSize'])return null;if((_0x404a94=void 0x0===_0x404a94?_0x470f99[_0x55f3('0xaf4')]:_0x404a94)!==_0x470f99[_0x55f3('0xaf4')])return null;_0x435656+=_0x470f99[_0x55f3('0xd4')][_0x55f3('0xf')];}for(var _0x4adda5=new _0x3f3a77(_0x435656),_0x218dfb=0x0,_0x482f02=0x0;_0x482f02<_0x100fa4[_0x55f3('0xf')];++_0x482f02)_0x4adda5[_0x55f3('0x39')](_0x100fa4[_0x482f02][_0x55f3('0xd4')],_0x218dfb),_0x218dfb+=_0x100fa4[_0x482f02]['array'][_0x55f3('0xf')];return new THREE[(_0x55f3('0x102'))](_0x4adda5,_0x5928d2,_0x404a94);},'interleaveAttributes':function(_0x100fa4){for(var _0x3f3a77,_0x5928d2=0x0,_0x404a94=0x0,_0x583fba=0x0,_0x401f4a=_0x100fa4[_0x55f3('0xf')];_0x583fba<_0x401f4a;++_0x583fba){var _0x17903e=_0x100fa4[_0x583fba];if((_0x3f3a77=void 0x0===_0x3f3a77?_0x17903e[_0x55f3('0xd4')][_0x55f3('0x83')]:_0x3f3a77)!==_0x17903e[_0x55f3('0xd4')]['constructor'])return null;_0x5928d2+=_0x17903e[_0x55f3('0xd4')][_0x55f3('0xf')],_0x404a94+=_0x17903e[_0x55f3('0x101')];}for(var _0x151b43=new THREE['InterleavedBuffer'](new _0x3f3a77(_0x5928d2),_0x404a94),_0x3e60c8=0x0,_0x402e47=[],_0x47ad70=[_0x55f3('0xaf5'),_0x55f3('0x88d'),'getZ',_0x55f3('0xaf6')],_0x291978=[_0x55f3('0xaf7'),_0x55f3('0xaf8'),_0x55f3('0xaf9'),_0x55f3('0xafa')],_0x5988e3=0x0,_0x401f4a=_0x100fa4['length'];_0x5988e3<_0x401f4a;_0x5988e3++){var _0x4ebd0f=(_0x17903e=_0x100fa4[_0x5988e3])[_0x55f3('0x101')],_0xdeea53=_0x17903e[_0x55f3('0xfc')],_0x338565=new THREE[(_0x55f3('0x50d'))](_0x151b43,_0x4ebd0f,_0x3e60c8,_0x17903e['normalized']);_0x402e47[_0x55f3('0x73')](_0x338565),_0x3e60c8+=_0x4ebd0f;for(var _0x139350=0x0;_0x139350<_0xdeea53;_0x139350++)for(var _0x10ef1d=0x0;_0x10ef1d<_0x4ebd0f;_0x10ef1d++)_0x338565[_0x291978[_0x10ef1d]](_0x139350,_0x17903e[_0x47ad70[_0x10ef1d]](_0x139350));}return _0x402e47;},'estimateBytesUsed':function(_0x100fa4){var _0x3f3a77,_0x5928d2=0x0;for(_0x3f3a77 in _0x100fa4[_0x55f3('0x165')]){var _0x404a94=_0x100fa4[_0x55f3('0x52c')](_0x3f3a77);_0x5928d2+=_0x404a94['count']*_0x404a94['itemSize']*_0x404a94[_0x55f3('0xd4')]['BYTES_PER_ELEMENT'];}var _0x39e6df=_0x100fa4['getIndex']();return _0x5928d2+(_0x39e6df?_0x39e6df['count']*_0x39e6df[_0x55f3('0x101')]*_0x39e6df[_0x55f3('0xd4')][_0x55f3('0xafb')]:0x0);},'mergeVertices':function(_0x100fa4){for(var _0x3f3a77=0x1<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x1]?arguments[0x1]:0.0001,_0x3f3a77=Math[_0x55f3('0xf2')](_0x3f3a77,_0x46a623[_0x55f3('0x9')]),_0x5928d2={},_0x404a94=_0x100fa4['getIndex'](),_0x58cdc2=_0x100fa4[_0x55f3('0x52c')](_0x55f3('0x38')),_0xf557f5=(_0x404a94||_0x58cdc2)[_0x55f3('0xfc')],_0x85271=0x0,_0x482dd2=(0x0,_0x47dbf5[_0x55f3('0x9')])(_0x100fa4[_0x55f3('0x165')]),_0x1e459c={},_0x311419={},_0x105164=[],_0x31e081=['getX','getY','getZ','getW'],_0x401c17=0x0,_0x5f56f1=_0x482dd2[_0x55f3('0xf')];_0x401c17<_0x5f56f1;_0x401c17++)_0x1e459c[_0x2d6300=_0x482dd2[_0x401c17]]=[],(_0x26ff9e=_0x100fa4[_0x55f3('0xaef')][_0x2d6300])&&(_0x311419[_0x2d6300]=new Array(_0x26ff9e[_0x55f3('0xf')])[_0x55f3('0x4d6')]()[_0x55f3('0x94')](function(){return[];}));for(var _0x58cdc2=(0x0,_0x594a78[_0x55f3('0x9')])(0x1/_0x3f3a77),_0x1f279c=Math[_0x55f3('0x313')](0xa,_0x58cdc2),_0x401c17=0x0;_0x401c17<_0xf557f5;_0x401c17++){for(var _0x25c361=_0x404a94?_0x404a94[_0x55f3('0xaf5')](_0x401c17):_0x401c17,_0x264830='',_0x27ca6b=0x0,_0x5f56f1=_0x482dd2[_0x55f3('0xf')];_0x27ca6b<_0x5f56f1;_0x27ca6b++)for(var _0x2d6300=_0x482dd2[_0x27ca6b],_0x3dca38=(_0x5eecd4=_0x100fa4[_0x55f3('0x52c')](_0x2d6300))[_0x55f3('0x101')],_0x38f364=0x0;_0x38f364<_0x3dca38;_0x38f364++)_0x264830+=~~(_0x5eecd4[_0x31e081[_0x38f364]](_0x25c361)*_0x1f279c)+',';if(_0x264830 in _0x5928d2)_0x105164['push'](_0x5928d2[_0x264830]);else{for(_0x27ca6b=0x0,_0x5f56f1=_0x482dd2[_0x55f3('0xf')];_0x27ca6b<_0x5f56f1;_0x27ca6b++)for(var _0x2d6300=_0x482dd2[_0x27ca6b],_0x5eecd4=_0x100fa4[_0x55f3('0x52c')](_0x2d6300),_0x26ff9e=_0x100fa4['morphAttributes'][_0x2d6300],_0x3dca38=_0x5eecd4[_0x55f3('0x101')],_0x3036e6=_0x1e459c[_0x2d6300],_0x559dd9=_0x311419[_0x2d6300],_0x38f364=0x0;_0x38f364<_0x3dca38;_0x38f364++){var _0x22f83c=_0x31e081[_0x38f364];if(_0x3036e6[_0x55f3('0x73')](_0x5eecd4[_0x22f83c](_0x25c361)),_0x26ff9e)for(var _0x81e04d=0x0,_0x5ee691=_0x26ff9e['length'];_0x81e04d<_0x5ee691;_0x81e04d++)_0x559dd9[_0x81e04d][_0x55f3('0x73')](_0x26ff9e[_0x81e04d][_0x22f83c](_0x25c361));}_0x5928d2[_0x264830]=_0x85271,_0x105164[_0x55f3('0x73')](_0x85271),_0x85271++;}}for(var _0xcbbfbd=_0x100fa4['clone'](),_0x401c17=0x0,_0x5f56f1=_0x482dd2['length'];_0x401c17<_0x5f56f1;_0x401c17++){var _0x2d6300=_0x482dd2[_0x401c17],_0x4954e9=_0x100fa4[_0x55f3('0x52c')](_0x2d6300),_0x5ec7c5=new _0x4954e9[(_0x55f3('0xd4'))]['constructor'](_0x1e459c[_0x2d6300]);if(_0x4954e9['isInterleavedBufferAttribute']?_0x5eecd4=new THREE[(_0x55f3('0x102'))](_0x5ec7c5,_0x4954e9[_0x55f3('0x101')],_0x4954e9[_0x55f3('0x101')]):(_0x5eecd4=_0x100fa4[_0x55f3('0x52c')](_0x2d6300)['clone']())['setArray'](_0x5ec7c5),_0xcbbfbd[_0x55f3('0x1f2')](_0x2d6300,_0x5eecd4),_0x2d6300 in _0x311419)for(_0x27ca6b=0x0;_0x27ca6b<_0x311419[_0x2d6300]['length'];_0x27ca6b++){var _0x1ca5c9=_0x100fa4['morphAttributes'][_0x2d6300][_0x27ca6b][_0x55f3('0x1b0')]();_0x1ca5c9[_0x55f3('0xafc')](new _0x1ca5c9['array']['constructor'](_0x311419[_0x2d6300][_0x27ca6b])),_0xcbbfbd[_0x55f3('0xaef')][_0x2d6300][_0x27ca6b]=_0x1ca5c9;}}_0x3f3a77=Uint8Array,_0x105164['length']>=Math[_0x55f3('0x313')](0x2,0x8)&&(_0x3f3a77=Uint16Array),_0x58cdc2=new(_0x3f3a77=_0x105164[(_0x55f3('0xf'))]>=(Math[_0x55f3('0x313')](0x2,0x10))?Uint32Array:_0x3f3a77)(_0x105164),_0x105164=null;return null===_0x404a94?_0x105164=new THREE[(_0x55f3('0x102'))](_0x58cdc2,0x1):(_0x105164=_0x100fa4['getIndex']()['clone']())[_0x55f3('0xafc')](_0x58cdc2),_0xcbbfbd[_0x55f3('0x3c2')](_0x105164),_0xcbbfbd;}};},function(_0x42932e,_0x1fb0a5,_0x436ae9){_0x42932e[_0x55f3('0x0')]={'default':_0x436ae9(0xff),'__esModule':!0x0};},function(_0x25fd22,_0x4960d9,_0x120422){_0x120422(0x100),_0x25fd22['exports']=_0x120422(0x2)[_0x55f3('0x18')][_0x55f3('0xafd')];},function(_0x552215,_0x4e2956,_0x2e56c0){_0x2e56c0=_0x2e56c0(0x6);_0x2e56c0(_0x2e56c0['S'],_0x55f3('0x18'),{'log10':function(_0x552215){return Math[_0x55f3('0x770')](_0x552215)*Math['LOG10E'];}});},function(_0x3d69ad,_0x1a7ba9,_0x5019af){_0x3d69ad['exports']={'default':_0x5019af(0x102),'__esModule':!0x0};},function(_0x1c32e5,_0xf9c237,_0x306899){_0x306899(0x103),_0x1c32e5[_0x55f3('0x0')]=Math['pow'](0x2,-0x34);},function(_0x128f61,_0x42e09e,_0x8b18c7){_0x8b18c7=_0x8b18c7(0x6);_0x8b18c7(_0x8b18c7['S'],_0x55f3('0xafe'),{'EPSILON':Math[_0x55f3('0x313')](0x2,-0x34)});},function(_0x15dbc6,_0x312794,_0x27f702){_0x15dbc6['exports']={'default':_0x27f702(0x105),'__esModule':!0x0};},function(_0x50dcd7,_0x1318b3,_0x3286d6){_0x3286d6(0x3c),_0x3286d6(0x1a),_0x3286d6(0x1f),_0x3286d6(0x106),_0x3286d6(0x10c),_0x3286d6(0x10f),_0x3286d6(0x111),_0x50dcd7[_0x55f3('0x0')]=_0x3286d6(0x2)['Set'];},function(_0x36fe72,_0x4b5552,_0x4c87a8){'use strict';var _0x50c7e0=_0x4c87a8(0x107),_0x3e3fe0=_0x4c87a8(0xac);_0x36fe72[_0x55f3('0x0')]=_0x4c87a8(0x108)(_0x55f3('0xaff'),function(_0x36fe72){return function(){return _0x36fe72(this,0x0<arguments[_0x55f3('0xf')]?arguments[0x0]:void 0x0);};},{'add':function(_0x36fe72){return _0x50c7e0['def'](_0x3e3fe0(this,_0x55f3('0xaff')),_0x36fe72=0x0===_0x36fe72?0x0:_0x36fe72,_0x36fe72);}},_0x50c7e0);},function(_0x4a12f0,_0x1e2de0,_0x17f935){'use strict';function _0x38581d(_0x4a12f0,_0x1e2de0){var _0x17f935,_0x539c7c=_0x5d640a(_0x1e2de0);if('F'!==_0x539c7c)return _0x4a12f0['_i'][_0x539c7c];for(_0x17f935=_0x4a12f0['_f'];_0x17f935;_0x17f935=_0x17f935['n'])if(_0x17f935['k']==_0x1e2de0)return _0x17f935;}var _0x2c9df3=_0x17f935(0x8)['f'],_0x2bdcaf=_0x17f935(0x23),_0x240fd0=_0x17f935(0x6d),_0x439d69=_0x17f935(0x10),_0x236b8d=_0x17f935(0x6a),_0x1b6309=_0x17f935(0x54),_0x594b3b=_0x17f935(0x2d),_0x331c0f=_0x17f935(0x45),_0xebb53e=_0x17f935(0x73),_0xb88685=_0x17f935(0x7),_0x5d640a=_0x17f935(0x4e)[_0x55f3('0xb00')],_0x5c4b81=_0x17f935(0xac),_0x43ef80=_0xb88685?'_s':_0x55f3('0xd2');_0x4a12f0[_0x55f3('0x0')]={'getConstructor':function(_0x4a12f0,_0x331c0f,_0x17f935,_0x594b3b){var _0xebb53e=_0x4a12f0(function(_0x4a12f0,_0x1e2de0){_0x236b8d(_0x4a12f0,_0xebb53e,_0x331c0f,'_i'),_0x4a12f0['_t']=_0x331c0f,_0x4a12f0['_i']=_0x2bdcaf(null),_0x4a12f0['_f']=void 0x0,_0x4a12f0['_l']=void 0x0,_0x4a12f0[_0x43ef80]=0x0,null!=_0x1e2de0&&_0x1b6309(_0x1e2de0,_0x17f935,_0x4a12f0[_0x594b3b],_0x4a12f0);});return _0x240fd0(_0xebb53e[_0x55f3('0x15')],{'clear':function(){for(var _0x4a12f0=_0x5c4b81(this,_0x331c0f),_0x1e2de0=_0x4a12f0['_i'],_0x17f935=_0x4a12f0['_f'];_0x17f935;_0x17f935=_0x17f935['n'])_0x17f935['r']=!0x0,_0x17f935['p']&&(_0x17f935['p']=_0x17f935['p']['n']=void 0x0),delete _0x1e2de0[_0x17f935['i']];_0x4a12f0['_f']=_0x4a12f0['_l']=void 0x0,_0x4a12f0[_0x43ef80]=0x0;},'delete':function(_0x4a12f0){var _0x1e2de0,_0x17f935,_0x594b3b=_0x5c4b81(this,_0x331c0f),_0x4a12f0=_0x38581d(_0x594b3b,_0x4a12f0);return _0x4a12f0&&(_0x1e2de0=_0x4a12f0['n'],_0x17f935=_0x4a12f0['p'],delete _0x594b3b['_i'][_0x4a12f0['i']],_0x4a12f0['r']=!0x0,_0x17f935&&(_0x17f935['n']=_0x1e2de0),_0x1e2de0&&(_0x1e2de0['p']=_0x17f935),_0x594b3b['_f']==_0x4a12f0&&(_0x594b3b['_f']=_0x1e2de0),_0x594b3b['_l']==_0x4a12f0&&(_0x594b3b['_l']=_0x17f935),_0x594b3b[_0x43ef80]--),!!_0x4a12f0;},'forEach':function(_0x4a12f0){_0x5c4b81(this,_0x331c0f);for(var _0x1e2de0,_0x17f935=_0x439d69(_0x4a12f0,0x1<arguments['length']?arguments[0x1]:void 0x0,0x3);_0x1e2de0=_0x1e2de0?_0x1e2de0['n']:this['_f'];)for(_0x17f935(_0x1e2de0['v'],_0x1e2de0['k'],this);_0x1e2de0&&_0x1e2de0['r'];)_0x1e2de0=_0x1e2de0['p'];},'has':function(_0x4a12f0){return!!_0x38581d(_0x5c4b81(this,_0x331c0f),_0x4a12f0);}}),_0xb88685&&_0x2c9df3(_0xebb53e['prototype'],_0x55f3('0xd2'),{'get':function(){return _0x5c4b81(this,_0x331c0f)[_0x43ef80];}}),_0xebb53e;},'def':function(_0x4a12f0,_0x1e2de0,_0x17f935){var _0x594b3b,_0x331c0f=_0x38581d(_0x4a12f0,_0x1e2de0);return _0x331c0f?_0x331c0f['v']=_0x17f935:(_0x4a12f0['_l']=_0x331c0f={'i':_0x594b3b=_0x5d640a(_0x1e2de0,!0x0),'k':_0x1e2de0,'v':_0x17f935,'p':_0x1e2de0=_0x4a12f0['_l'],'n':void 0x0,'r':!0x1},_0x4a12f0['_f']||(_0x4a12f0['_f']=_0x331c0f),_0x1e2de0&&(_0x1e2de0['n']=_0x331c0f),_0x4a12f0[_0x43ef80]++,'F'!==_0x594b3b&&(_0x4a12f0['_i'][_0x594b3b]=_0x331c0f)),_0x4a12f0;},'getEntry':_0x38581d,'setStrong':function(_0x4a12f0,_0x17f935,_0x1e2de0){_0x594b3b(_0x4a12f0,_0x17f935,function(_0x4a12f0,_0x1e2de0){this['_t']=_0x5c4b81(_0x4a12f0,_0x17f935),this['_k']=_0x1e2de0,this['_l']=void 0x0;},function(){for(var _0x4a12f0=this['_k'],_0x1e2de0=this['_l'];_0x1e2de0&&_0x1e2de0['r'];)_0x1e2de0=_0x1e2de0['p'];return this['_t']&&(this['_l']=_0x1e2de0=_0x1e2de0?_0x1e2de0['n']:this['_t']['_f'])?_0x331c0f(0x0,'keys'==_0x4a12f0?_0x1e2de0['k']:_0x55f3('0x86')==_0x4a12f0?_0x1e2de0['v']:[_0x1e2de0['k'],_0x1e2de0['v']]):(this['_t']=void 0x0,_0x331c0f(0x1));},_0x1e2de0?'entries':_0x55f3('0x86'),!_0x1e2de0,!0x0),_0xebb53e(_0x17f935);}};},function(_0x3da376,_0x598fd4,_0x44c56f){'use strict';var _0x4fc844=_0x44c56f(0x3),_0x322230=_0x44c56f(0x6),_0x2fbdc5=_0x44c56f(0x4e),_0x3774ba=_0x44c56f(0xd),_0x598150=_0x44c56f(0xb),_0x1ec9c6=_0x44c56f(0x6d),_0x524ade=_0x44c56f(0x54),_0x27a1be=_0x44c56f(0x6a),_0x30eb46=_0x44c56f(0xa),_0x3f906f=_0x44c56f(0x19),_0x18a37e=_0x44c56f(0x8)['f'],_0x5074cb=_0x44c56f(0x109)(0x0),_0x5a3759=_0x44c56f(0x7);_0x3da376['exports']=function(_0x44c56f,_0x3da376,_0x598fd4,_0x52484a,_0x3cf714,_0x4edfa9){var _0x2edc87=_0x4fc844[_0x44c56f],_0x3d1c86=_0x2edc87,_0x17ea4e=_0x3cf714?_0x55f3('0x39'):_0x55f3('0x1c3'),_0x5ebb27=_0x3d1c86&&_0x3d1c86[_0x55f3('0x15')],_0x3d8ebc={};return _0x5a3759&&_0x55f3('0x1c')==typeof _0x3d1c86&&(_0x4edfa9||_0x5ebb27[_0x55f3('0x2e3')]&&!_0x3774ba(function(){new _0x3d1c86()['entries']()[_0x55f3('0x85')]();}))?(_0x3d1c86=_0x3da376(function(_0x3da376,_0x598fd4){_0x27a1be(_0x3da376,_0x3d1c86,_0x44c56f,'_c'),_0x3da376['_c']=new _0x2edc87(),null!=_0x598fd4&&_0x524ade(_0x598fd4,_0x3cf714,_0x3da376[_0x17ea4e],_0x3da376);}),_0x5074cb('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'[_0x55f3('0x67')](','),function(_0x44c56f){var _0x52484a=_0x55f3('0x1c3')==_0x44c56f||_0x55f3('0x39')==_0x44c56f;_0x44c56f in _0x5ebb27&&(!_0x4edfa9||_0x55f3('0x785')!=_0x44c56f)&&_0x598150(_0x3d1c86[_0x55f3('0x15')],_0x44c56f,function(_0x3da376,_0x598fd4){if(_0x27a1be(this,_0x3d1c86,_0x44c56f),!_0x52484a&&_0x4edfa9&&!_0x30eb46(_0x3da376))return _0x55f3('0x20')==_0x44c56f&&void 0x0;_0x3da376=this['_c'][_0x44c56f](0x0===_0x3da376?0x0:_0x3da376,_0x598fd4);return _0x52484a?this:_0x3da376;});}),_0x4edfa9||_0x18a37e(_0x3d1c86['prototype'],_0x55f3('0xd2'),{'get':function(){return this['_c'][_0x55f3('0xd2')];}})):(_0x3d1c86=_0x52484a[_0x55f3('0xb01')](_0x3da376,_0x44c56f,_0x3cf714,_0x17ea4e),_0x1ec9c6(_0x3d1c86[_0x55f3('0x15')],_0x598fd4),_0x2fbdc5[_0x55f3('0xb02')]=!0x0),_0x3f906f(_0x3d1c86,_0x44c56f),_0x3d8ebc[_0x44c56f]=_0x3d1c86,_0x322230(_0x322230['G']+_0x322230['W']+_0x322230['F'],_0x3d8ebc),_0x4edfa9||_0x52484a[_0x55f3('0xb03')](_0x3d1c86,_0x44c56f,_0x3cf714),_0x3d1c86;};},function(_0x388672,_0x1fcaac,_0x535281){var _0x2cc25f=_0x535281(0x10),_0x2e41e9=_0x535281(0x34),_0x51df58=_0x535281(0x11),_0x131482=_0x535281(0x2e),_0x1643c8=_0x535281(0x10a);_0x388672[_0x55f3('0x0')]=function(_0x377d9a,_0x388672){var _0x157f13=0x1==_0x377d9a,_0x16ac97=0x2==_0x377d9a,_0x48f11d=0x3==_0x377d9a,_0x3e9fcb=0x4==_0x377d9a,_0x3d3054=0x6==_0x377d9a,_0x30a9ee=0x5==_0x377d9a||_0x3d3054,_0x188e39=_0x388672||_0x1643c8;return function(_0x388672,_0x1fcaac,_0x535281){for(var _0x1643c8,_0x2d3c0e,_0x5c3d9c=_0x51df58(_0x388672),_0x2ac85e=_0x2e41e9(_0x5c3d9c),_0x57eaf8=_0x2cc25f(_0x1fcaac,_0x535281,0x3),_0x2e04a7=_0x131482(_0x2ac85e[_0x55f3('0xf')]),_0x597bac=0x0,_0x9592f9=_0x157f13?_0x188e39(_0x388672,_0x2e04a7):_0x16ac97?_0x188e39(_0x388672,0x0):void 0x0;_0x597bac<_0x2e04a7;_0x597bac++)if((_0x30a9ee||_0x597bac in _0x2ac85e)&&(_0x2d3c0e=_0x57eaf8(_0x1643c8=_0x2ac85e[_0x597bac],_0x597bac,_0x5c3d9c),_0x377d9a))if(_0x157f13)_0x9592f9[_0x597bac]=_0x2d3c0e;else if(_0x2d3c0e)switch(_0x377d9a){case 0x3:return!0x0;case 0x5:return _0x1643c8;case 0x6:return _0x597bac;case 0x2:_0x9592f9['push'](_0x1643c8);}else if(_0x3e9fcb)return!0x1;return _0x3d3054?-0x1:_0x48f11d||_0x3e9fcb?_0x3e9fcb:_0x9592f9;};};},function(_0x43ae2e,_0x2648af,_0x2c5d55){var _0x5c73dd=_0x2c5d55(0x10b);_0x43ae2e[_0x55f3('0x0')]=function(_0x43ae2e,_0x2648af){return new(_0x5c73dd(_0x43ae2e))(_0x2648af);};},function(_0x2546f5,_0x3006b3,_0x31a9ad){var _0x54883=_0x31a9ad(0xa),_0x36fa3d=_0x31a9ad(0x57),_0x1d8539=_0x31a9ad(0x5)(_0x55f3('0x2e4'));_0x2546f5[_0x55f3('0x0')]=function(_0x2546f5){var _0x3006b3;return _0x36fa3d(_0x2546f5)&&(_0x55f3('0x1c')!=typeof(_0x3006b3=_0x2546f5[_0x55f3('0x83')])||_0x3006b3!==Array&&!_0x36fa3d(_0x3006b3['prototype'])||(_0x3006b3=void 0x0),_0x54883(_0x3006b3)&&null===(_0x3006b3=_0x3006b3[_0x1d8539])&&(_0x3006b3=void 0x0)),void 0x0===_0x3006b3?Array:_0x3006b3;};},function(_0x1992d3,_0x469b66,_0x29d455){var _0x2ed6d5=_0x29d455(0x6);_0x2ed6d5(_0x2ed6d5['P']+_0x2ed6d5['R'],'Set',{'toJSON':_0x29d455(0x10d)(_0x55f3('0xaff'))});},function(_0x427de3,_0x4b1514,_0x5ee7b9){var _0x3ec4f3=_0x5ee7b9(0x32),_0x3cd099=_0x5ee7b9(0x10e);_0x427de3[_0x55f3('0x0')]=function(_0x427de3){return function(){if(_0x3ec4f3(this)!=_0x427de3)throw TypeError(_0x427de3+_0x55f3('0xb04'));return _0x3cd099(this);};};},function(_0x2e7ebd,_0x2bc71d,_0x2c8d57){var _0xd374fa=_0x2c8d57(0x54);_0x2e7ebd[_0x55f3('0x0')]=function(_0x2e7ebd,_0x2bc71d){var _0x2c8d57=[];return _0xd374fa(_0x2e7ebd,!0x1,_0x2c8d57[_0x55f3('0x73')],_0x2c8d57,_0x2bc71d),_0x2c8d57;};},function(_0x37ee8f,_0x4619fa,_0x18b24a){_0x18b24a(0x110)('Set');},function(_0xfedf08,_0x1ac1cd,_0xa169fd){'use strict';var _0x3b2360=_0xa169fd(0x6);_0xfedf08[_0x55f3('0x0')]=function(_0xfedf08){_0x3b2360(_0x3b2360['S'],_0xfedf08,{'of':function(){for(var _0xfedf08=arguments[_0x55f3('0xf')],_0x1ac1cd=new Array(_0xfedf08);_0xfedf08--;)_0x1ac1cd[_0xfedf08]=arguments[_0xfedf08];return new this(_0x1ac1cd);}});};},function(_0xf856af,_0x143ad2,_0x17e34c){_0x17e34c(0x112)(_0x55f3('0xaff'));},function(_0x182b08,_0x4c64f9,_0x41283b){'use strict';var _0x4dc215=_0x41283b(0x6),_0x556894=_0x41283b(0x1d),_0x4fa59a=_0x41283b(0x10),_0x291696=_0x41283b(0x54);_0x182b08['exports']=function(_0x182b08){_0x4dc215(_0x4dc215['S'],_0x182b08,{'from':function(_0x182b08){var _0x4c64f9,_0x41283b,_0x4dc215,_0x38fe6d,_0x3e9e44=arguments[0x1];return _0x556894(this),(_0x4c64f9=void 0x0!==_0x3e9e44)&&_0x556894(_0x3e9e44),null==_0x182b08?new this():(_0x41283b=[],_0x4c64f9?(_0x4dc215=0x0,_0x38fe6d=_0x4fa59a(_0x3e9e44,arguments[0x2],0x2),_0x291696(_0x182b08,!0x1,function(_0x182b08){_0x41283b['push'](_0x38fe6d(_0x182b08,_0x4dc215++));})):_0x291696(_0x182b08,!0x1,_0x41283b['push'],_0x41283b),new this(_0x41283b));}});};},function(_0x2e4a45,_0x52bcf4,_0x4d76f4){'use strict';Object[_0x55f3('0x4')](_0x52bcf4,'__esModule',{'value':!0x0});var _0x472d22=_0x3fa81f(_0x4d76f4(0x4)),_0x2f2165=_0x3fa81f(_0x4d76f4(0x0)),_0x1f0acc=_0x3fa81f(_0x4d76f4(0x1)),_0x27378d=_0x4d76f4(0x17),_0x3d79ca=function(_0x2e4a45){if(_0x2e4a45&&_0x2e4a45['__esModule'])return _0x2e4a45;var _0x52bcf4={};if(null!=_0x2e4a45)for(var _0x4d76f4 in _0x2e4a45)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x2e4a45,_0x4d76f4)&&(_0x52bcf4[_0x4d76f4]=_0x2e4a45[_0x4d76f4]);return _0x52bcf4[_0x55f3('0x9')]=_0x2e4a45,_0x52bcf4;}(_0x4d76f4(0x3d)),_0x22a4d7=_0x3fa81f(_0x4d76f4(0x55));function _0x3fa81f(_0x2e4a45){return _0x2e4a45&&_0x2e4a45[_0x55f3('0x7')]?_0x2e4a45:{'default':_0x2e4a45};}function _0x2c6330(){(0x0,_0x2f2165[_0x55f3('0x9')])(this,_0x2c6330),this[_0x55f3('0x94')]=(0x0,_0x27378d[_0x55f3('0x2c')])(),this[_0x55f3('0x41d')]=null,this[_0x55f3('0x319')]=null,this[_0x55f3('0x41e')]=null,this[_0x55f3('0xb05')]=[],this[_0x55f3('0xb06')]=!0x0,this[_0x55f3('0x9f4')]=null,this[_0x55f3('0x9f5')]=null,this[_0x55f3('0x9f6')]=!0x1;}(0x0,_0x1f0acc[_0x55f3('0x9')])(_0x2c6330,[{'key':_0x55f3('0xb07'),'value':function(_0x2e4a45){this[_0x55f3('0x9f4')][_0x55f3('0x5dc')]=_0x2e4a45;}},{'key':'updateSkybox','value':function(_0x52bcf4,_0x4d76f4){var _0x2f2165=this;if(this[_0x55f3('0x9f4')]&&_0x52bcf4[_0x55f3('0x8b')]){var _0x2e4a45=this[_0x55f3('0xaab')](_0x52bcf4[_0x55f3('0x8b')]);if(_0x2e4a45)this[_0x55f3('0xb06')]?this[_0x55f3('0xb08')](this[_0x55f3('0x9f4')]['skyBox']['material']['uniforms'][_0x55f3('0x429')]['value'],_0x2e4a45,_0x4d76f4):this['skyboxSwitchAnimate'](this[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')]['tCube'][_0x55f3('0x12')],_0x2e4a45,_0x4d76f4),this[_0x55f3('0xb06')]=!this[_0x55f3('0xb06')];else{for(var _0x1f0acc=0x0,_0x3fa81f=_0x52bcf4['imgPaths']['length'];_0x1f0acc<_0x3fa81f;_0x1f0acc++){var _0x2c6330=(0x0,_0x27378d['getConfigAssetsPath'])(_0x52bcf4[_0x55f3('0xaa1')][_0x1f0acc]);_0x52bcf4[_0x55f3('0x40')]&&(_0x2c6330=_0x2c6330[_0x55f3('0x56')](this[_0x55f3('0x94')][_0x55f3('0x40')],_0x52bcf4[_0x55f3('0x40')])),_0x52bcf4[_0x55f3('0xaa1')][_0x1f0acc]=_0x2c6330;}_0x22a4d7[_0x55f3('0x9')][_0x55f3('0x276')](_0x52bcf4[_0x55f3('0xaa1')])[_0x55f3('0x341')](function(_0x2e4a45){_0x2e4a45[_0x55f3('0x8b')]=_0x52bcf4['name'],_0x2f2165[_0x55f3('0xb08')](null,_0x2e4a45,_0x4d76f4),_0x2f2165[_0x55f3('0xb05')]['push'](_0x2e4a45);});}}}},{'key':_0x55f3('0xb08'),'value':function(_0x2e4a45,_0x52bcf4){var _0x4d76f4,_0x2f2165,_0x1f0acc=this,_0x3fa81f=0x2<arguments['length']&&void 0x0!==arguments[0x2]?arguments[0x2]:0x2;_0x2e4a45?(_0x2f2165=_0x4d76f4=0x0,this[_0x55f3('0xb06')]?(_0x2f2165=0x0,this[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x3f')]['uniforms']['transFactor'][_0x55f3('0x12')]=_0x4d76f4=0x1,this['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')]['tCube']['value']=_0x52bcf4,this[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x429')][_0x55f3('0x12')]=_0x2e4a45):(_0x2f2165=0x1,this['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x634')]['value']=_0x4d76f4=0x0,this[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x431')][_0x55f3('0x12')]=_0x2e4a45,this[_0x55f3('0x9f4')]['skyBox']['material']['uniforms']['tCube2'][_0x55f3('0x12')]=_0x52bcf4),new TWEEN[(_0x55f3('0x331'))]({'x':_0x4d76f4})['to']({'x':_0x2f2165},0x3e8*_0x3fa81f)[_0x55f3('0x333')](TWEEN['Easing'][_0x55f3('0x54d')]['None'])[_0x55f3('0x332')](function(_0x2e4a45){_0x1f0acc[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')][_0x55f3('0x634')][_0x55f3('0x12')]=_0x2e4a45['x'];})[_0x55f3('0x395')]()):(this['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x3f')]['uniforms'][_0x55f3('0x634')][_0x55f3('0x12')]=0x0,this[_0x55f3('0x9f4')][_0x55f3('0x41d')]['material'][_0x55f3('0x164')]['tCube2'][_0x55f3('0x12')]=_0x52bcf4,new TWEEN['Tween']({'x':0x0})['to']({'x':0x1},0x3e8*_0x3fa81f)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x332')](function(_0x2e4a45){_0x1f0acc['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x3f')][_0x55f3('0x164')]['transFactor'][_0x55f3('0x12')]=_0x2e4a45['x'];})['start']());}},{'key':_0x55f3('0xaab'),'value':function(_0x2e4a45){var _0x52bcf4=!0x0,_0x4d76f4=!0x1,_0x2f2165=void 0x0;try{for(var _0x1f0acc,_0x3fa81f=(0x0,_0x472d22[_0x55f3('0x9')])(this['textureCubes']);!(_0x52bcf4=(_0x1f0acc=_0x3fa81f[_0x55f3('0x85')]())['done']);_0x52bcf4=!0x0){var _0x2c6330=_0x1f0acc['value'];if(_0x2c6330[_0x55f3('0x8b')]===_0x2e4a45)return _0x2c6330;}}catch(_0x1ab423){_0x4d76f4=!0x0,_0x2f2165=_0x1ab423;}finally{try{!_0x52bcf4&&_0x3fa81f[_0x55f3('0x271')]&&_0x3fa81f[_0x55f3('0x271')]();}finally{if(_0x4d76f4)throw _0x2f2165;}}return null;}},{'key':_0x55f3('0xb09'),'value':function(_0x52bcf4){var _0x2e4a45,_0x4d76f4=this;if(_0x52bcf4&&(_0x55f3('0xb0a')===_0x52bcf4['type']||_0x55f3('0x454')===_0x52bcf4[_0x55f3('0xeb')])&&(0x1===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')]&&(_0x2e4a45=(0x0,_0x27378d['getConfigAssetsPath'])(_0x52bcf4['imgPaths'][0x0]),this['skyboxTool']=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this[_0x55f3('0x9f4')][_0x55f3('0xeb')]=_0x52bcf4[_0x55f3('0xeb')],_0x52bcf4[_0x55f3('0xb0b')]?_0x22a4d7[_0x55f3('0x9')][_0x55f3('0x278')](_0x2e4a45)[_0x55f3('0x341')](function(_0x2e4a45){_0x4d76f4[_0x55f3('0x9f4')]['textureCube']=_0x2e4a45,_0x4d76f4[_0x55f3('0x9f4')]['setBackground']();}):this[_0x55f3('0x9f4')][_0x55f3('0xb0c')](_0x2e4a45,_0x52bcf4['resolution'],function(){_0x55f3('0xb0a')===_0x52bcf4[_0x55f3('0xeb')]&&_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x425')]({'size':_0x52bcf4[_0x55f3('0xd2')],'offsetY':_0x52bcf4[_0x55f3('0x365')]}),_0x55f3('0x454')===_0x52bcf4[_0x55f3('0xeb')]&&_0x4d76f4['skyboxTool'][_0x55f3('0xb0d')]();}),this[_0x55f3('0x9f4')][_0x55f3('0x2cc')](_0x55f3('0x41f'),function(){_0x4d76f4[_0x55f3('0x41e')]=_0x4d76f4['skyboxTool']['textureCube'];})),0x6===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')])){for(var _0x2f2165=0x0,_0x1f0acc=_0x52bcf4['imgPaths'][_0x55f3('0xf')];_0x2f2165<_0x1f0acc;_0x2f2165++)_0x52bcf4[_0x55f3('0xaa1')][_0x2f2165]=(0x0,_0x27378d['getConfigAssetsPath'])(_0x52bcf4[_0x55f3('0xaa1')][_0x2f2165]);this[_0x55f3('0x9f4')]=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')]['mapView']}),this[_0x55f3('0x9f4')][_0x55f3('0xeb')]=_0x52bcf4[_0x55f3('0xeb')],this[_0x55f3('0x9f4')][_0x55f3('0xb0e')](_0x52bcf4['imgPaths'],function(){var _0x2e4a45;_0x55f3('0xb0a')===_0x52bcf4['type']&&((0x0,_0x27378d[_0x55f3('0x2f')])()&&esmap['tileMapInited']?((_0x2e4a45=!0x1,_0x27378d[_0x55f3('0xb0f')])()&&(_0x2e4a45=!0x0),_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x425')]({'size':_0x52bcf4['size'],'offsetY':_0x52bcf4[_0x55f3('0x365')],'isCullGround':_0x2e4a45,'intensity':_0x52bcf4['intensity']}),_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x41d')][_0x55f3('0x338')]=!0x1):_0x4d76f4[_0x55f3('0x9f4')]['createBox']({'size':_0x52bcf4[_0x55f3('0xd2')],'offsetY':_0x52bcf4[_0x55f3('0x365')],'intensity':_0x52bcf4['intensity']})),_0x55f3('0x454')===_0x52bcf4['type']&&_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0xb0d')]();}),this[_0x55f3('0x9f4')][_0x55f3('0x2cc')]('canUpdate',function(){_0x4d76f4['textureCube']=_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x41e')],_0x4d76f4[_0x55f3('0x41e')][_0x55f3('0x8b')]=_0x52bcf4[_0x55f3('0x8b')]||'',_0x4d76f4[_0x55f3('0xb05')][_0x55f3('0x73')](_0x4d76f4[_0x55f3('0x41e')]);});}if(_0x52bcf4&&_0x55f3('0xb10')===_0x52bcf4[_0x55f3('0xeb')]&&(this[_0x55f3('0x9f4')]=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')]['mapView']}),_0x2e4a45=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')]((0x0,_0x27378d['getConfigAssetsPath'])(_0x52bcf4[_0x55f3('0xaa1')][0x0])),this['skyboxTool'][_0x55f3('0x433')]({'radius':_0x52bcf4[_0x55f3('0xd2')],'topColorStr':_0x52bcf4[_0x55f3('0x438')],'bottomColorStr':_0x52bcf4['bottomColor'],'offset':_0x52bcf4[_0x55f3('0x365')],'exponent':_0x52bcf4[_0x55f3('0x436')],'texture':_0x2e4a45})),_0x52bcf4&&_0x55f3('0xb11')===_0x52bcf4['type']&&(0x1===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')]&&(_0x2e4a45=(0x0,_0x27378d[_0x55f3('0x29')])(_0x52bcf4[_0x55f3('0xaa1')][0x0]),this['skyboxTool']=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this[_0x55f3('0x9f4')][_0x55f3('0xeb')]=_0x52bcf4[_0x55f3('0xeb')],this[_0x55f3('0x9f4')][_0x55f3('0xb0c')](_0x2e4a45,_0x52bcf4[_0x55f3('0x32b')],function(){_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x440')]({'size':_0x52bcf4[_0x55f3('0xd2')],'offsetY':_0x52bcf4[_0x55f3('0x365')],'topColorStr':_0x52bcf4[_0x55f3('0x438')],'bottomColorStr':_0x52bcf4['bottomColor']});}),this[_0x55f3('0x9f4')]['addEventListener'](_0x55f3('0x41f'),function(){_0x4d76f4[_0x55f3('0x41e')]=_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x41e')];})),0x6===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')])){for(var _0x3fa81f=0x0,_0x2c6330=_0x52bcf4[_0x55f3('0xaa1')]['length'];_0x3fa81f<_0x2c6330;_0x3fa81f++)_0x52bcf4[_0x55f3('0xaa1')][_0x3fa81f]=(0x0,_0x27378d[_0x55f3('0x29')])(_0x52bcf4[_0x55f3('0xaa1')][_0x3fa81f]);this[_0x55f3('0x9f4')]=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this[_0x55f3('0x9f4')][_0x55f3('0xeb')]=_0x52bcf4['type'],this[_0x55f3('0x9f4')][_0x55f3('0xb0e')](_0x52bcf4['imgPaths'],function(){_0x4d76f4['skyboxTool']['createGradientCubeSky']({'size':_0x52bcf4['size'],'offsetY':_0x52bcf4[_0x55f3('0x365')],'topColorStr':_0x52bcf4['topColor'],'bottomColorStr':_0x52bcf4[_0x55f3('0x443')]});}),this[_0x55f3('0x9f4')]['addEventListener'](_0x55f3('0x41f'),function(){_0x4d76f4['textureCube']=_0x4d76f4[_0x55f3('0x9f4')]['textureCube'];});}if(_0x52bcf4&&'sphere_cube'===_0x52bcf4[_0x55f3('0xeb')]&&(0x1===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')]&&(_0x2e4a45=(0x0,_0x27378d[_0x55f3('0x29')])(_0x52bcf4[_0x55f3('0xaa1')][0x0]),this['skyboxTool']=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this['skyboxTool'][_0x55f3('0xeb')]=_0x52bcf4[_0x55f3('0xeb')],this['skyboxTool'][_0x55f3('0xb0c')](_0x2e4a45,_0x52bcf4[_0x55f3('0x32b')],function(){_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x44f')]({'size':_0x52bcf4[_0x55f3('0xd2')]});}),this['skyboxTool'][_0x55f3('0x2cc')](_0x55f3('0x41f'),function(){_0x4d76f4['textureCube']=_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x41e')];})),0x6===_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')])){for(var _0x472d22=0x0,_0x3049c9=_0x52bcf4[_0x55f3('0xaa1')][_0x55f3('0xf')];_0x472d22<_0x3049c9;_0x472d22++)_0x52bcf4[_0x55f3('0xaa1')][_0x472d22]=(0x0,_0x27378d['getConfigAssetsPath'])(_0x52bcf4[_0x55f3('0xaa1')][_0x472d22]);this[_0x55f3('0x9f4')]=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this[_0x55f3('0x9f4')][_0x55f3('0xeb')]=_0x52bcf4[_0x55f3('0xeb')],this[_0x55f3('0x9f4')][_0x55f3('0xb0e')](_0x52bcf4[_0x55f3('0xaa1')],function(){_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x44f')]({'size':_0x52bcf4[_0x55f3('0xd2')]});}),this[_0x55f3('0x9f4')]['addEventListener'](_0x55f3('0x41f'),function(){_0x4d76f4[_0x55f3('0x41e')]=_0x4d76f4[_0x55f3('0x9f4')][_0x55f3('0x41e')];});}_0x52bcf4&&_0x55f3('0xb12')===_0x52bcf4[_0x55f3('0xeb')]&&(this['shaderSky']=new _0x3d79ca['ClearSky']({'camera':this[_0x55f3('0x94')]['mapView'][_0x55f3('0x306')]}),(_0x2e4a45=!0x1,_0x27378d[_0x55f3('0x2f')])()&&(0x0,_0x27378d[_0x55f3('0xb0f')])()&&(_0x2e4a45=!0x0),this[_0x55f3('0x319')]=this[_0x55f3('0x9f5')][_0x55f3('0x8')]({'isCullGround':_0x2e4a45}),this[_0x55f3('0x319')][_0x55f3('0x338')]=!esmap[_0x55f3('0x954')][_0x55f3('0x953')],'day'===_0x52bcf4[_0x55f3('0xa7b')]&&this[_0x55f3('0x9f5')]['setSkyConfig'](this[_0x55f3('0x9f5')][_0x55f3('0x45b')]),_0x55f3('0x2ba')===_0x52bcf4['effectType']&&this[_0x55f3('0x9f5')][_0x55f3('0x45a')](this[_0x55f3('0x9f5')][_0x55f3('0x459')]),_0x52bcf4['bindLight']&&_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0x8b')]&&this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0x8b')]]&&(_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0xb14')]&&(this['shaderSky'][_0x55f3('0x458')]=_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0xb14')]),_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0xb15')]&&(this['shaderSky'][_0x55f3('0x457')]=_0x52bcf4[_0x55f3('0xb13')][_0x55f3('0xb15')]),this[_0x55f3('0x9f5')][_0x55f3('0x2f8')]()),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0x319')]),(0x0,_0x27378d[_0x55f3('0x2f')])()&&this[_0x55f3('0xb16')]()),_0x52bcf4&&_0x55f3('0xb17')===_0x52bcf4[_0x55f3('0xeb')]&&0x1===_0x52bcf4['imgPaths'][_0x55f3('0xf')]&&(_0x2e4a45=(0x0,_0x27378d[_0x55f3('0x29')])(_0x52bcf4['imgPaths'][0x0]),this[_0x55f3('0x9f4')]=new _0x3d79ca[(_0x55f3('0xc7'))]({'mapView':this[_0x55f3('0x94')][_0x55f3('0x41b')]}),this['skyboxTool'][_0x55f3('0xeb')]=_0x52bcf4['type'],this[_0x55f3('0x9f4')][_0x55f3('0xb18')]({'texturePath':_0x2e4a45,'wallHeight':_0x52bcf4['size'],'offsetY':_0x52bcf4[_0x55f3('0x365')],'rotateAngle':_0x52bcf4[_0x55f3('0x1ec')]}));}},{'key':_0x55f3('0xb16'),'value':function(){var _0x52bcf4=this,_0x4d76f4=(0x0,_0x27378d[_0x55f3('0xb0f')])();this[_0x55f3('0x94')]['on']('tileMapLevelChange',function(_0x2e4a45){_0x2e4a45<(_0x4d76f4?0x10:0xd)?_0x52bcf4[_0x55f3('0x319')]&&(_0x52bcf4['object3d'][_0x55f3('0x338')]=!0x1):_0x52bcf4[_0x55f3('0x319')]&&(_0x52bcf4[_0x55f3('0x319')][_0x55f3('0x338')]=!0x0);});}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x41e')]=null,this[_0x55f3('0x9f4')]&&this[_0x55f3('0x9f4')][_0x55f3('0x93')](),this['shaderSky']&&this['shaderSky'][_0x55f3('0x93')]();}}]),_0x52bcf4[_0x55f3('0x9')]=_0x2c6330;},function(_0x236d3c,_0x1c7975,_0x1679ee){'use strict';Object['defineProperty'](_0x1c7975,_0x55f3('0x7'),{'value':!0x0});var _0x2d459f=_0x39d665(_0x1679ee(0x4)),_0x4f9772=_0x39d665(_0x1679ee(0x0)),_0x2e8c89=_0x39d665(_0x1679ee(0x1)),_0x4d863c=_0x1679ee(0x17),_0x2ba766=function(_0x236d3c){if(_0x236d3c&&_0x236d3c['__esModule'])return _0x236d3c;var _0x1c7975={};if(null!=_0x236d3c)for(var _0x1679ee in _0x236d3c)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x236d3c,_0x1679ee)&&(_0x1c7975[_0x1679ee]=_0x236d3c[_0x1679ee]);return _0x1c7975[_0x55f3('0x9')]=_0x236d3c,_0x1c7975;}(_0x1679ee(0x3d)),_0x14a778=_0x1679ee(0x87);function _0x39d665(_0x236d3c){return _0x236d3c&&_0x236d3c[_0x55f3('0x7')]?_0x236d3c:{'default':_0x236d3c};}function _0x3adb00(_0x236d3c){(0x0,_0x4f9772[_0x55f3('0x9')])(this,_0x3adb00),this['map']=(0x0,_0x4d863c[_0x55f3('0x2c')])(),this[_0x55f3('0xb19')]=[],this[_0x55f3('0x5dc')]=_0x236d3c,this[_0x55f3('0xb1a')]=null,this[_0x55f3('0xb1b')]=null,this[_0x55f3('0xb1c')]=[],this['isSetTilePlaneWater']=!0x1;}(0x0,_0x2e8c89[_0x55f3('0x9')])(_0x3adb00,[{'key':_0x55f3('0xa30'),'value':function(_0x236d3c){var _0x1c7975;_0x236d3c[_0x55f3('0xeb')]&&_0x55f3('0x9c9')===_0x236d3c[_0x55f3('0xeb')]?((_0x1c7975=this[_0x55f3('0xb1d')](_0x236d3c))[_0x55f3('0x8b')]=_0x236d3c[_0x55f3('0x8b')],this[_0x55f3('0xb19')][_0x55f3('0x73')](_0x1c7975)):this[_0x55f3('0xb1e')](_0x236d3c);}},{'key':'addTilePlaneWater','value':function(_0x236d3c){if(!this['isSetTilePlaneWater']&&_0x236d3c[_0x55f3('0x5dd')]&&_0x236d3c[_0x55f3('0xb1f')]){var _0x1c7975=!0x0,_0x1679ee=!0x1,_0x4f9772=void 0x0;try{for(var _0x2e8c89,_0x2ba766=(0x0,_0x2d459f[_0x55f3('0x9')])(_0x236d3c[_0x55f3('0xb1f')]);!(_0x1c7975=(_0x2e8c89=_0x2ba766[_0x55f3('0x85')]())['done']);_0x1c7975=!0x0){var _0x39d665=_0x2e8c89['value'];if(_0x55f3('0x5dd')===_0x39d665[_0x55f3('0xb20')]){var _0x3adb00=!0x0,_0x2c8acc=!0x1,_0x428445=void 0x0;try{for(var _0x2b0598,_0xc04f51=(0x0,_0x2d459f[_0x55f3('0x9')])(_0x236d3c['water']);!(_0x3adb00=(_0x2b0598=_0xc04f51[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3adb00=!0x0){var _0xefc92d=_0x2b0598[_0x55f3('0x12')];if(_0xefc92d[_0x55f3('0x8b')]===_0x39d665[_0x55f3('0xb21')]){var _0x58576a=this['createWater'](_0xefc92d),_0x3ff8e7=(this[_0x55f3('0xb19')][_0x55f3('0x73')](_0x58576a),_0x58576a[_0x55f3('0x2fc')]());(0x0,_0x14a778['setStandardMaterialParams'])(_0x3ff8e7,_0xefc92d),_0x3ff8e7[_0x55f3('0x3bf')]=THREE[_0x55f3('0x414')],this[_0x55f3('0x94')][_0x55f3('0x3a')][_0x55f3('0xb22')][_0x55f3('0x5dd')][0x0]=_0x3ff8e7,this[_0x55f3('0xb23')]=!0x0;break;}}}catch(_0xe0df7a){_0x2c8acc=!0x0,_0x428445=_0xe0df7a;}finally{try{!_0x3adb00&&_0xc04f51['return']&&_0xc04f51['return']();}finally{if(_0x2c8acc)throw _0x428445;}}}}}catch(_0x45913c){_0x1679ee=!0x0,_0x4f9772=_0x45913c;}finally{try{!_0x1c7975&&_0x2ba766[_0x55f3('0x271')]&&_0x2ba766[_0x55f3('0x271')]();}finally{if(_0x1679ee)throw _0x4f9772;}}}}},{'key':_0x55f3('0xb1d'),'value':function(_0x236d3c){var _0x1c7975=void 0x0,_0x1679ee=_0x236d3c[_0x55f3('0xb24')]?new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')]((0x0,_0x4d863c[_0x55f3('0x29')])(_0x236d3c[_0x55f3('0xb24')])):new THREE[(_0x55f3('0x1ca'))]();return _0x236d3c[_0x55f3('0x96f')]&&(_0x1c7975=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')]((0x0,_0x4d863c[_0x55f3('0x29')])(_0x236d3c[_0x55f3('0x96f')]))),new _0x2ba766[(_0x55f3('0xa8'))]({'colorStr':_0x236d3c[_0x55f3('0x220')],'lightColorStr':_0x236d3c[_0x55f3('0x7a7')],'scale':_0x236d3c['scale'],'speed':_0x236d3c[_0x55f3('0x337')],'fluctuate':_0x236d3c[_0x55f3('0xb25')],'texture':_0x1679ee,'skyTexture':_0x1c7975,'texUvScale':_0x236d3c['groundScaleFactor'],'flowAngle':_0x236d3c['flowAngle'],'opacity':_0x236d3c[_0x55f3('0x221')]});}},{'key':_0x55f3('0xb26'),'value':function(_0x236d3c){var _0x1c7975=!0x0,_0x1679ee=!0x1,_0x4f9772=void 0x0;try{for(var _0x2e8c89,_0x2ba766=(0x0,_0x2d459f[_0x55f3('0x9')])(this[_0x55f3('0xb19')]);!(_0x1c7975=(_0x2e8c89=_0x2ba766[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1c7975=!0x0){var _0x39d665=_0x2e8c89[_0x55f3('0x12')];if(_0x39d665[_0x55f3('0x8b')]===_0x236d3c)return _0x39d665;}}catch(_0x529baa){_0x1679ee=!0x0,_0x4f9772=_0x529baa;}finally{try{!_0x1c7975&&_0x2ba766[_0x55f3('0x271')]&&_0x2ba766[_0x55f3('0x271')]();}finally{if(_0x1679ee)throw _0x4f9772;}}return!0x1;}},{'key':_0x55f3('0xb1e'),'value':function(_0x236d3c){var _0x1c7975=(0x0,_0x4d863c[_0x55f3('0x2b')])(0x0)[_0x55f3('0x5e6')](_0x236d3c[_0x55f3('0xa4a')]||0x1)[_0x55f3('0xa4b')]([esmap['ESLayerType'][_0x55f3('0xa4c')],esmap[_0x55f3('0x5d3')][_0x55f3('0xa4d')]]),_0x1679ee=this[_0x55f3('0xb1d')](_0x236d3c),_0x4f9772=(_0x1679ee['createMaterial'](),!0x0),_0x2e8c89=!0x1,_0x2ba766=void 0x0;try{for(var _0x39d665,_0x3adb00=(0x0,_0x2d459f[_0x55f3('0x9')])(_0x1c7975);!(_0x4f9772=(_0x39d665=_0x3adb00[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x4f9772=!0x0){var _0x234f59=_0x39d665[_0x55f3('0x12')],_0x5e91af=!0x0,_0x5d4037=!0x1,_0x5d2228=void 0x0;try{for(var _0x20e5fe,_0x3928e8=(0x0,_0x2d459f['default'])(_0x234f59[_0x55f3('0x5e9')][_0x55f3('0x322')]);!(_0x5e91af=(_0x20e5fe=_0x3928e8[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5e91af=!0x0){var _0x3c4e4f=_0x20e5fe[_0x55f3('0x12')],_0x186c17=(0x0,_0x4d863c[_0x55f3('0x3c')])(_0x3c4e4f,_0x236d3c[_0x55f3('0x3b')]);if(_0x186c17){_0x3c4e4f[_0x55f3('0x3f')][_0x186c17[_0x55f3('0x63f')][_0x55f3('0x39c')]]=_0x1679ee[_0x55f3('0x4fc')](),(0x0,_0x14a778[_0x55f3('0x402')])(_0x3c4e4f[_0x55f3('0x3f')][_0x186c17['userData']['index']],_0x236d3c),_0x1679ee[_0x55f3('0x3b')]=_0x236d3c[_0x55f3('0x3b')],_0x1679ee[_0x55f3('0xb27')]=_0x236d3c,this[_0x55f3('0xb19')]['push'](_0x1679ee);break;}}}catch(_0x3ef3f2){_0x5d4037=!0x0,_0x5d2228=_0x3ef3f2;}finally{try{!_0x5e91af&&_0x3928e8[_0x55f3('0x271')]&&_0x3928e8[_0x55f3('0x271')]();}finally{if(_0x5d4037)throw _0x5d2228;}}}}catch(_0x45e101){_0x2e8c89=!0x0,_0x2ba766=_0x45e101;}finally{try{!_0x4f9772&&_0x3adb00[_0x55f3('0x271')]&&_0x3adb00[_0x55f3('0x271')]();}finally{if(_0x2e8c89)throw _0x2ba766;}}}},{'key':_0x55f3('0x300'),'value':function(_0x236d3c,_0x1c7975){for(var _0x1679ee=0x0;_0x1679ee<this['waterList'][_0x55f3('0xf')];_0x1679ee++)if(_0x236d3c==this[_0x55f3('0xb19')][_0x1679ee][_0x55f3('0x8b')]){void 0x0!==_0x1c7975[_0x55f3('0x7c0')]&&(this[_0x55f3('0xb19')][_0x1679ee][_0x55f3('0x3f')]['transparent']=!0x0,this[_0x55f3('0xb19')][_0x1679ee][_0x55f3('0x3f')]['opacity']=_0x1c7975[_0x55f3('0x7c0')]);break;}}},{'key':'createWaveMarker','value':function(_0x236d3c){this[_0x55f3('0xb1b')]||(this[_0x55f3('0xb1b')]=new esmap['ESEffectTool'][(_0x55f3('0x94a'))](_0x55f3('0xb28'),esmap[_0x55f3('0x5d5')][_0x55f3('0x5d4')]),esmap[_0x55f3('0x4e')]['addLayerToMap'](this[_0x55f3('0xb1b')])),this['waveLineMarker']=new esmap[(_0x55f3('0x4e'))][(_0x55f3('0xb29'))](esmap['ESMarkerType'][_0x55f3('0x65a')],{'color':_0x236d3c['color'],'speed':_0x236d3c[_0x55f3('0x337')],'lineWidth':_0x236d3c[_0x55f3('0x304')],'isShine':_0x236d3c[_0x55f3('0x5f9')],'imgUrl':_0x236d3c[_0x55f3('0x5f5')],'seeThrough':!0x1}),_0x236d3c['height']&&(this[_0x55f3('0xb1a')][_0x55f3('0x5e9')][_0x55f3('0x38')]['y']=_0x236d3c[_0x55f3('0x32d')]),this[_0x55f3('0xb1b')]['addMarker'](this[_0x55f3('0xb1a')]);}},{'key':_0x55f3('0x9f7'),'value':function(_0x236d3c,_0x1c7975){for(var _0x1679ee,_0x4f9772=[],_0x2e8c89=new THREE[(_0x55f3('0x33b'))](),_0x2ba766=0x0,_0x39d665=_0x236d3c[_0x55f3('0xf')];_0x2ba766<_0x39d665;_0x2ba766++){var _0x3adb00=new THREE[(_0x55f3('0x1b4'))](_0x236d3c[_0x2ba766]['u'],_0x236d3c[_0x2ba766]['v'])['normalize']()[_0x55f3('0x1c1')](_0x1c7975),_0x3adb00=[{'x':_0x236d3c[_0x2ba766]['x']-_0x3adb00['x']/0x2,'y':_0x236d3c[_0x2ba766]['y']-_0x3adb00['y']/0x2,'offset':0x2},{'x':_0x236d3c[_0x2ba766]['x']+_0x3adb00['x'],'y':_0x236d3c[_0x2ba766]['y']+_0x3adb00['y'],'offset':0x2}],_0x3adb00=this['waveLineMarker'][_0x55f3('0x31a')](_0x3adb00,new THREE[(_0x55f3('0x5a'))](this[_0x55f3('0x94')][_0x55f3('0x33')][_0x55f3('0x34')],0x0,this[_0x55f3('0x94')][_0x55f3('0x33')]['sceneZ_'])),_0x5872bd=_0x3adb00[_0x55f3('0x52c')]('uv'),_0x49f1b2=Math[_0x55f3('0x60')]();_0x5872bd[_0x55f3('0x39')](new Float32Array([_0x49f1b2,_0x49f1b2,_0x49f1b2,_0x49f1b2+0x1,_0x49f1b2+0x1,_0x49f1b2,_0x49f1b2+0x1,_0x49f1b2+0x1])),_0x4f9772[_0x55f3('0x73')](_0x3adb00);}0x0<_0x4f9772[_0x55f3('0xf')]&&(_0x1679ee=this[_0x55f3('0xad7')](_0x4f9772),(_0x1679ee=new THREE['Mesh'](_0x1679ee,this[_0x55f3('0xb1a')]['_getMaterial']))['renderOrder']=0x64,_0x2e8c89['add'](_0x1679ee));for(var _0x3793ae=0x0,_0x404249=_0x4f9772[_0x55f3('0xf')];_0x3793ae<_0x404249;_0x3793ae++)_0x4f9772[_0x3793ae][_0x55f3('0x93')]();this[_0x55f3('0xb1a')][_0x55f3('0x5e9')][_0x55f3('0x1c3')](_0x2e8c89);}},{'key':_0x55f3('0xb2a'),'value':function(){this[_0x55f3('0xb1a')]=null,this[_0x55f3('0xb1b')]&&this[_0x55f3('0xb1b')][_0x55f3('0x5f2')]();}},{'key':_0x55f3('0xad7'),'value':function(_0x236d3c){var _0x1c7975=[],_0x1679ee=!0x0,_0x4f9772=!0x1,_0x2e8c89=void 0x0;try{for(var _0x2ba766,_0x39d665=(0x0,_0x2d459f[_0x55f3('0x9')])(_0x236d3c);!(_0x1679ee=(_0x2ba766=_0x39d665['next']())[_0x55f3('0x269')]);_0x1679ee=!0x0){var _0x3adb00=_0x2ba766[_0x55f3('0x12')];_0x1c7975[_0x55f3('0x73')](_0x3adb00);}}catch(_0x309734){_0x4f9772=!0x0,_0x2e8c89=_0x309734;}finally{try{!_0x1679ee&&_0x39d665[_0x55f3('0x271')]&&_0x39d665[_0x55f3('0x271')]();}finally{if(_0x4f9772)throw _0x2e8c89;}}_0x236d3c=THREE[_0x55f3('0xad9')]['mergeBufferGeometries'](_0x1c7975,!0x1);return _0x236d3c[_0x55f3('0xb2b')](0x0,_0x236d3c[_0x55f3('0x165')]['position'][_0x55f3('0xfc')],0x0),_0x236d3c;}},{'key':_0x55f3('0x32e'),'value':function(){for(var _0x236d3c=0x0,_0x1c7975=this['waterList']['length'];_0x236d3c<_0x1c7975;_0x236d3c++)this[_0x55f3('0xb19')][_0x236d3c][_0x55f3('0x93')](),this['waterList'][_0x236d3c]=null;this[_0x55f3('0xb19')]['length']=0x0,this[_0x55f3('0xb1b')]&&(this[_0x55f3('0xb1b')][_0x55f3('0x5f2')](),this[_0x55f3('0xb1a')]=null,this[_0x55f3('0xb1b')]=null);}},{'key':_0x55f3('0x336'),'value':function(_0x236d3c){if(0x0<this[_0x55f3('0xb19')][_0x55f3('0xf')]){var _0x1c7975=!0x0,_0x1679ee=!0x1,_0x4f9772=void 0x0;try{for(var _0x2e8c89,_0x2ba766=(0x0,_0x2d459f['default'])(this[_0x55f3('0xb19')]);!(_0x1c7975=(_0x2e8c89=_0x2ba766[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1c7975=!0x0)_0x2e8c89[_0x55f3('0x12')][_0x55f3('0x336')](_0x236d3c);}catch(_0x341e62){_0x1679ee=!0x0,_0x4f9772=_0x341e62;}finally{try{!_0x1c7975&&_0x2ba766[_0x55f3('0x271')]&&_0x2ba766[_0x55f3('0x271')]();}finally{if(_0x1679ee)throw _0x4f9772;}}}}}]),_0x1c7975[_0x55f3('0x9')]=_0x3adb00;},function(_0x21fa16,_0x5122c9,_0x40fd49){'use strict';Object[_0x55f3('0x4')](_0x5122c9,_0x55f3('0x7'),{'value':!0x0});var _0x16e1f9=_0x2317f8(_0x40fd49(0x43)),_0x4e584a=_0x2317f8(_0x40fd49(0x4)),_0x52349f=_0x2317f8(_0x40fd49(0x0)),_0x166db6=_0x2317f8(_0x40fd49(0x1)),_0x3c666b=_0x40fd49(0x17),_0x1abcbe=function(_0x21fa16){if(_0x21fa16&&_0x21fa16['__esModule'])return _0x21fa16;var _0x5122c9={};if(null!=_0x21fa16)for(var _0x40fd49 in _0x21fa16)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x21fa16,_0x40fd49)&&(_0x5122c9[_0x40fd49]=_0x21fa16[_0x40fd49]);return _0x5122c9[_0x55f3('0x9')]=_0x21fa16,_0x5122c9;}(_0x40fd49(0x3d));function _0x2317f8(_0x21fa16){return _0x21fa16&&_0x21fa16['__esModule']?_0x21fa16:{'default':_0x21fa16};}function _0x256f5e(_0x21fa16){var _0x5122c9=_0x21fa16[_0x55f3('0x5dd')],_0x21fa16=_0x21fa16[_0x55f3('0x5da')];(0x0,_0x52349f[_0x55f3('0x9')])(this,_0x256f5e),this[_0x55f3('0x94')]=(0x0,_0x3c666b[_0x55f3('0x2c')])(),this[_0x55f3('0x5dd')]=_0x5122c9,this[_0x55f3('0xb2c')]=[],this[_0x55f3('0x9fc')]={},this[_0x55f3('0xb2d')]=[],this[_0x55f3('0xb2e')]=[],this[_0x55f3('0x9fb')]=[],this[_0x55f3('0xb2f')]=!0x1,this[_0x55f3('0x97e')]=null,this[_0x55f3('0x9c8')]=null,this[_0x55f3('0x5da')]=_0x21fa16,this[_0x55f3('0x5da')]&&(this[_0x55f3('0x5da')]['models']=this),this['setEnvTextureMaterials']=[],this[_0x55f3('0xb30')]=new _0x1abcbe[(_0x55f3('0xbc'))]({'map':this['map']}),this[_0x55f3('0x9fd')]=new _0x1abcbe['ModelLightBlend'](),this[_0x55f3('0xa08')]={},this[_0x55f3('0xa0a')]={},this[_0x55f3('0xb31')]={},this[_0x55f3('0x9f9')]={},this[_0x55f3('0xb32')]={},this['lightPointsLayer']=null,this[_0x55f3('0xb33')]=[],this[_0x55f3('0xb34')]={},this[_0x55f3('0xa04')]={},this[_0x55f3('0x9fa')]=null,this[_0x55f3('0xb35')]=[];}(0x0,_0x166db6[_0x55f3('0x9')])(_0x256f5e,[{'key':_0x55f3('0xb36'),'value':function(_0x21fa16){var _0x5122c9=!0x0,_0x40fd49=!0x1,_0x52349f=void 0x0;try{for(var _0x166db6,_0x2317f8=(0x0,_0x4e584a[_0x55f3('0x9')])(this[_0x55f3('0x97e')]);!(_0x5122c9=(_0x166db6=_0x2317f8[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5122c9=!0x0){var _0x256f5e=_0x166db6['value'];if(_0x256f5e['name']==_0x21fa16||_0x256f5e['id']==_0x21fa16)return _0x256f5e;}}catch(_0x377349){_0x40fd49=!0x0,_0x52349f=_0x377349;}finally{try{!_0x5122c9&&_0x2317f8[_0x55f3('0x271')]&&_0x2317f8[_0x55f3('0x271')]();}finally{if(_0x40fd49)throw _0x52349f;}}return null;}},{'key':_0x55f3('0xb37'),'value':function(_0x21fa16,_0x5122c9){var _0x40fd49=!0x0,_0x52349f=!0x1,_0x166db6=void 0x0;try{for(var _0x2317f8,_0x256f5e=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x5122c9);!(_0x40fd49=(_0x2317f8=_0x256f5e[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x40fd49=!0x0){var _0x91560a=_0x2317f8[_0x55f3('0x12')];if(_0x91560a[_0x55f3('0x8b')]==_0x21fa16)return _0x91560a[_0x55f3('0xb38')];}}catch(_0x18e7dc){_0x52349f=!0x0,_0x166db6=_0x18e7dc;}finally{try{!_0x40fd49&&_0x256f5e[_0x55f3('0x271')]&&_0x256f5e['return']();}finally{if(_0x52349f)throw _0x166db6;}}}},{'key':_0x55f3('0x98c'),'value':function(_0x21fa16){this[_0x55f3('0xb2f')]||(this[_0x55f3('0x97e')]=_0x21fa16,this[_0x55f3('0xb2f')]=!0x0);}},{'key':_0x55f3('0xb39'),'value':function(_0x21fa16,_0x4e187a,_0x409feb){var _0x114ea6=this,_0xd8f22c=_0x21fa16['datas_'];_0x21fa16['traverse'](function(_0x21fa16){var _0x5122c9=null,_0x40fd49=null;if(_0x4e187a&&Array[_0x55f3('0x1a9')](_0x21fa16[_0x55f3('0x3f')])?(_0x5122c9=_0x21fa16[_0x55f3('0x3f')][0x0],_0x40fd49=_0x21fa16):_0x21fa16[_0x55f3('0x3f')]&&(_0x5122c9=_0x21fa16['material'],_0x40fd49=_0x21fa16),_0x5122c9&&_0x5122c9['name']&&0x0<=_0x5122c9['name']['indexOf']('_ef_')){var _0x52349f=_0x114ea6[_0x55f3('0xb3a')](_0x5122c9[_0x55f3('0x8b')]),_0x166db6=!0x0,_0x2317f8=!0x1,_0x256f5e=void 0x0;try{for(var _0x58b97f,_0x564d4b=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x52349f);!(_0x166db6=(_0x58b97f=_0x564d4b[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x166db6=!0x0){var _0x109e1b=_0x58b97f[_0x55f3('0x12')];_0x5122c9[_0x55f3('0xa0b')]=_0x40fd49,_0x114ea6[_0x55f3('0xb3b')](_0x409feb,_0x109e1b,_0x5122c9,_0xd8f22c);}}catch(_0x26c6d5){_0x2317f8=!0x0,_0x256f5e=_0x26c6d5;}finally{try{!_0x166db6&&_0x564d4b[_0x55f3('0x271')]&&_0x564d4b['return']();}finally{if(_0x2317f8)throw _0x256f5e;}}}if(0x0<=_0x21fa16[_0x55f3('0x8b')]['indexOf'](_0x55f3('0xb3c'))){var _0x1ace62=_0x114ea6[_0x55f3('0xb3a')](_0x21fa16[_0x55f3('0x8b')]);if(_0x55f3('0x33b')===_0x21fa16[_0x55f3('0xeb')]||'Group'===_0x21fa16[_0x55f3('0xeb')]){var _0x1196e5=!0x0,_0x52349f=!0x1,_0x2317f8=void 0x0;try{for(var _0x1e2435,_0x1fef11=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x1ace62);!(_0x1196e5=(_0x1e2435=_0x1fef11[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x1196e5=!0x0){var _0x3d6377=_0x1e2435[_0x55f3('0x12')];_0x114ea6[_0x55f3('0xb3b')](_0x409feb,_0x3d6377,_0x21fa16,_0xd8f22c);}}catch(_0x371333){_0x52349f=!0x0,_0x2317f8=_0x371333;}finally{try{!_0x1196e5&&_0x1fef11[_0x55f3('0x271')]&&_0x1fef11[_0x55f3('0x271')]();}finally{if(_0x52349f)throw _0x2317f8;}}}_0x21fa16[_0x55f3('0x65f')](function(_0x21fa16){if('Mesh'===_0x21fa16['type']){var _0x5122c9=!0x0,_0x40fd49=!0x1,_0x52349f=void 0x0;try{for(var _0x166db6,_0x2317f8=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x1ace62);!(_0x5122c9=(_0x166db6=_0x2317f8[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x5122c9=!0x0){var _0x256f5e=_0x166db6[_0x55f3('0x12')];_0x114ea6[_0x55f3('0xb3b')](_0x409feb,_0x256f5e,_0x21fa16,_0xd8f22c);}}catch(_0x7dfea7){_0x40fd49=!0x0,_0x52349f=_0x7dfea7;}finally{try{!_0x5122c9&&_0x2317f8['return']&&_0x2317f8['return']();}finally{if(_0x40fd49)throw _0x52349f;}}}});}if('Mesh'===_0x21fa16[_0x55f3('0xeb')]&&0x0<=_0x21fa16[_0x55f3('0x8b')][_0x55f3('0x4b')]('_ef_')){var _0x256f5e=_0x114ea6[_0x55f3('0xb3a')](_0x21fa16[_0x55f3('0x8b')]),_0x3ec322=!0x0,_0x52349f=!0x1,_0x2317f8=void 0x0;try{for(var _0x2bffdf,_0x5e1f63=(0x0,_0x4e584a['default'])(_0x256f5e);!(_0x3ec322=(_0x2bffdf=_0x5e1f63[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x3ec322=!0x0){var _0x5c1cf6=_0x2bffdf[_0x55f3('0x12')];_0x114ea6[_0x55f3('0xb3b')](_0x409feb,_0x5c1cf6,_0x21fa16,_0xd8f22c);}}catch(_0x5329b9){_0x52349f=!0x0,_0x2317f8=_0x5329b9;}finally{try{!_0x3ec322&&_0x5e1f63[_0x55f3('0x271')]&&_0x5e1f63[_0x55f3('0x271')]();}finally{if(_0x52349f)throw _0x2317f8;}}}});}},{'key':_0x55f3('0x9cf'),'value':function(_0x21fa16,_0x2317f8,_0x256f5e){var _0x2834f7=this,_0x603876=_0x21fa16[_0x55f3('0x3d')];_0x21fa16[_0x55f3('0x65f')](function(_0x21fa16){var _0x5122c9=null,_0x40fd49=null;if(_0x2317f8&&Array[_0x55f3('0x1a9')](_0x21fa16[_0x55f3('0x3f')])?(_0x5122c9=_0x21fa16[_0x55f3('0x3f')][0x0],_0x40fd49=_0x21fa16):_0x21fa16['material']&&(_0x5122c9=_0x21fa16[_0x55f3('0x3f')],_0x40fd49=_0x21fa16),_0x5122c9&&_0x5122c9[_0x55f3('0x8b')])for(var _0x52349f in _0x5122c9[_0x55f3('0xa0b')]=_0x40fd49,_0x256f5e['material'])_0x52349f===_0x5122c9[_0x55f3('0x8b')]&&_0x2834f7[_0x55f3('0xb3d')]('',_0x5122c9,_0x603876,_0x256f5e[_0x55f3('0x3f')][_0x52349f]);if(_0x55f3('0x317')===_0x21fa16['type'])for(var _0x166db6 in _0x256f5e[_0x55f3('0x1ea')])_0x166db6===_0x21fa16[_0x55f3('0x8b')]&&_0x2834f7[_0x55f3('0xb3d')]('',_0x21fa16,_0x603876,_0x256f5e['mesh'][_0x166db6]);});}},{'key':_0x55f3('0xb3b'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49,_0x52349f){if(_0x21fa16[_0x55f3('0x9cd')]&&0x0<_0x21fa16[_0x55f3('0x9cd')]['length']){var _0x166db6=!0x0,_0x2317f8=!0x1,_0x256f5e=void 0x0;try{for(var _0x1e84e2,_0x52c1d3=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x21fa16[_0x55f3('0x9cd')]);!(_0x166db6=(_0x1e84e2=_0x52c1d3[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x166db6=!0x0){var _0x23c552=_0x1e84e2[_0x55f3('0x12')];if(_0x23c552[_0x55f3('0x8b')]===_0x5122c9)if(!this[_0x55f3('0xb3d')](_0x5122c9,_0x40fd49,_0x52349f,_0x23c552))break;}}catch(_0x3e415a){_0x2317f8=!0x0,_0x256f5e=_0x3e415a;}finally{try{!_0x166db6&&_0x52c1d3['return']&&_0x52c1d3[_0x55f3('0x271')]();}finally{if(_0x2317f8)throw _0x256f5e;}}}}},{'key':_0x55f3('0xb3d'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49,_0x52349f){if(!_0x52349f['control']||_0x55f3('0x33b')!==_0x5122c9[_0x55f3('0xeb')]&&_0x55f3('0x1c4')!==_0x5122c9[_0x55f3('0xeb')]||(this['modelsControlGroups'][_0x40fd49[_0x55f3('0x8b')]]||(this[_0x55f3('0xa04')][_0x40fd49[_0x55f3('0x8b')]]={}),void 0x0!==_0x52349f[_0x55f3('0xb3e')]['visible']&&(_0x5122c9[_0x55f3('0x338')]=_0x52349f[_0x55f3('0xb3e')][_0x55f3('0x338')]),this[_0x55f3('0xa04')][_0x40fd49[_0x55f3('0x8b')]][_0x21fa16]=_0x5122c9),_0x52349f[_0x55f3('0xb3f')]&&(this[_0x55f3('0xa04')][_0x40fd49['name']||_0x40fd49[_0x55f3('0x9c9')]]||(this[_0x55f3('0xa04')][_0x40fd49['name']||_0x40fd49[_0x55f3('0x9c9')]]={}),(_0x166db6=_0x52349f[_0x55f3('0xb3f')]['name'])&&(this[_0x55f3('0xa04')][_0x40fd49['name']||_0x40fd49['model']][_0x166db6]?(Array[_0x55f3('0x1a9')](this[_0x55f3('0xa04')][_0x40fd49['name']||_0x40fd49[_0x55f3('0x9c9')]][_0x166db6])||(_0x256f5e=this['modelsControlGroups'][_0x40fd49[_0x55f3('0x8b')]||_0x40fd49['model']][_0x166db6],this[_0x55f3('0xa04')][_0x40fd49[_0x55f3('0x8b')]||_0x40fd49[_0x55f3('0x9c9')]][_0x166db6]=[_0x256f5e]),this[_0x55f3('0xa04')][_0x40fd49[_0x55f3('0x8b')]||_0x40fd49[_0x55f3('0x9c9')]][_0x166db6][_0x55f3('0x73')](_0x5122c9)):this['modelsControlGroups'][_0x40fd49['name']||_0x40fd49[_0x55f3('0x9c9')]][_0x166db6]=_0x5122c9)),_0x52349f[_0x55f3('0x4c2')]&&_0x5122c9[_0x55f3('0x94')]&&(_0x256f5e=this['map'][_0x55f3('0x41b')]['renderer'][_0x55f3('0x4d1')]['getMaxAnisotropy'](),_0x52349f[_0x55f3('0x4c2')]&&!_0x52349f[_0x55f3('0x4c2')][_0x55f3('0x555')]?_0x52349f[_0x55f3('0x4c2')]='max'==_0x52349f['anisotropy']?_0x256f5e:_0x52349f[_0x55f3('0x4c2')]:_0x52349f['anisotropy']=0x10==_0x52349f[_0x55f3('0x4c2')]?_0x256f5e:_0x52349f[_0x55f3('0x4c2')][_0x55f3('0x12')],_0x5122c9['map']['anisotropy']=_0x52349f[_0x55f3('0x4c2')]),_0x52349f[_0x55f3('0x1d3')]&&('additive'==_0x52349f[_0x55f3('0x1d3')]||_0x52349f[_0x55f3('0x1d3')]['enabled']&&_0x52349f[_0x55f3('0x1d3')][_0x55f3('0xb40')])&&(_0x5122c9[_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')],_0x5122c9[_0x55f3('0x1d7')]=!0x1),void 0x0!==_0x52349f[_0x55f3('0x1d5')]&&(_0x52349f[_0x55f3('0x1d5')][_0x55f3('0x555')]?(_0x5122c9[_0x55f3('0x1d5')]=_0x52349f[_0x55f3('0x1d5')]['enabled'],_0x52349f[_0x55f3('0x1d5')][_0x55f3('0x221')]&&_0x52349f[_0x55f3('0x1d5')]['opacity']<0x1&&(_0x5122c9[_0x55f3('0x221')]=_0x52349f['transparent']['opacity']),_0x52349f[_0x55f3('0x1d5')][_0x55f3('0xb41')]&&(_0x5122c9[_0x55f3('0x1d5')]=!0x1,_0x5122c9['_mesh']&&Array['isArray'](_0x5122c9[_0x55f3('0xa0b')][_0x55f3('0x3f')])&&(_0x5122c9['_mesh'][_0x55f3('0x3f')][0x1]['transparent']=!0x1)),_0x5122c9[_0x55f3('0xf7')]=!0x0):_0x5122c9[_0x55f3('0x1d5')]=_0x52349f[_0x55f3('0x1d5')],_0x5122c9[_0x55f3('0xf7')]=!0x0),_0x52349f['renderSort']&&(_0x5122c9[_0x55f3('0x318')]&&!_0x52349f['renderSort'][_0x55f3('0x555')]?_0x5122c9[_0x55f3('0x318')]=_0x52349f[_0x55f3('0xa57')]:_0x5122c9[_0x55f3('0x318')]=_0x52349f[_0x55f3('0xa57')][_0x55f3('0x12')]),_0x52349f[_0x55f3('0x3bf')]&&_0x52349f[_0x55f3('0x3bf')][_0x55f3('0x555')]&&(_0x5122c9[_0x55f3('0x3bf')]=_0x52349f[_0x55f3('0x3bf')][_0x55f3('0x12')]),_0x52349f[_0x55f3('0x7cd')]&&_0x52349f['aoMapIntensity'][_0x55f3('0x555')]&&(_0x5122c9[_0x55f3('0x7cd')]=_0x52349f[_0x55f3('0x7cd')][_0x55f3('0x12')]),_0x52349f[_0x55f3('0x1d6')]&&void 0x0!==_0x5122c9['alphaTest']&&(_0x52349f[_0x55f3('0x1d6')]['enabled']?_0x5122c9[_0x55f3('0x1d6')]=_0x52349f[_0x55f3('0x1d6')][_0x55f3('0x12')]:_0x5122c9['alphaTest']=_0x52349f['alphaTest']),void 0x0!==_0x52349f['depthWrite']&&(_0x52349f['depthWrite'][_0x55f3('0x555')]?_0x5122c9['depthWrite']=_0x52349f[_0x55f3('0x1d7')]['value']:_0x5122c9[_0x55f3('0x1d7')]=_0x52349f[_0x55f3('0x1d7')]),_0x52349f[_0x55f3('0xb42')]&&(void 0x0!==_0x52349f[_0x55f3('0xb42')][_0x55f3('0x555')]&&_0x52349f[_0x55f3('0xb42')]['enabled'],this['createFresnelEffect'](_0x5122c9,_0x52349f[_0x55f3('0xb42')],_0x40fd49)),_0x52349f[_0x55f3('0x95f')]&&this[_0x55f3('0xaa4')](_0x5122c9,_0x52349f[_0x55f3('0x95f')]),_0x52349f[_0x55f3('0x956')]&&(_0x5122c9[_0x55f3('0x806')]=_0x52349f[_0x55f3('0x956')][_0x55f3('0x806')]||!0x1,_0x5122c9[_0x55f3('0x7d9')]=_0x52349f[_0x55f3('0x956')][_0x55f3('0x7d9')]||!0x1),_0x52349f[_0x55f3('0x4ad')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]&&(_0x52349f['unrealBloom']['enabled'],esmap[_0x55f3('0x4e')]['screenEffect'][_0x55f3('0xa06')](_0x5122c9,_0x52349f[_0x55f3('0x4ad')][_0x55f3('0x427')])),_0x52349f['outline']&&esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x55d')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x5df')][_0x55f3('0xb43')](_0x5122c9),_0x52349f[_0x55f3('0xb44')]&&(void 0x0===_0x52349f[_0x55f3('0xb44')][_0x55f3('0x555')]||!0x1!==_0x52349f[_0x55f3('0xb44')][_0x55f3('0x555')])){var _0x166db6=null;if(_0x52349f[_0x55f3('0xb44')][_0x55f3('0x220')]&&(_0x256f5e=_0x52349f[_0x55f3('0xb44')][_0x55f3('0xb45')]||0x1,_0x166db6=this[_0x55f3('0xb46')](_0x5122c9,_0x52349f[_0x55f3('0xb44')]['color'],_0x256f5e)),_0x52349f[_0x55f3('0xb44')][_0x55f3('0xb47')])if(Array[_0x55f3('0x1a9')](_0x5122c9[_0x55f3('0x3f')])){var _0x2317f8=!0x0,_0x256f5e=!0x1,_0x2e0c59=void 0x0;try{for(var _0x27a653,_0x5aced2=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x5122c9[_0x55f3('0x3f')]);!(_0x2317f8=(_0x27a653=_0x5aced2[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2317f8=!0x0){var _0x59cd84=_0x27a653[_0x55f3('0x12')];void 0x0!==_0x52349f[_0x55f3('0xb44')][_0x55f3('0xb47')][_0x55f3('0x338')]&&(_0x59cd84[_0x55f3('0x338')]=_0x52349f[_0x55f3('0xb44')][_0x55f3('0xb47')][_0x55f3('0x338')]),_0x59cd84[_0x55f3('0x1d7')]=!0x1;}}catch(_0x5e7879){_0x256f5e=!0x0,_0x2e0c59=_0x5e7879;}finally{try{!_0x2317f8&&_0x5aced2[_0x55f3('0x271')]&&_0x5aced2['return']();}finally{if(_0x256f5e)throw _0x2e0c59;}}}else void 0x0!==_0x52349f[_0x55f3('0xb44')]['faces'][_0x55f3('0x338')]&&(_0x5122c9[_0x55f3('0x3f')]['visible']=_0x52349f[_0x55f3('0xb44')][_0x55f3('0xb47')][_0x55f3('0x338')]),_0x5122c9['material'][_0x55f3('0x1d7')]=!0x1;_0x52349f[_0x55f3('0xb44')][_0x55f3('0x221')]&&(_0x5122c9[_0x55f3('0x3f')]['transparent']=!0x0,_0x5122c9[_0x55f3('0x3f')][_0x55f3('0x221')]=_0x52349f[_0x55f3('0xb44')][_0x55f3('0x221')]),'additive'==_0x52349f[_0x55f3('0xb44')][_0x55f3('0x1d3')]&&(_0x5122c9[_0x55f3('0x3f')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x1d4')],_0x5122c9[_0x55f3('0x3f')][_0x55f3('0x1d7')]=!0x1),_0x166db6&&_0x52349f['lineFrame'][_0x55f3('0x4ad')]&&esmap['ESEffectTool']['screenEffect'][_0x55f3('0xa06')](_0x166db6,_0x52349f[_0x55f3('0xb44')][_0x55f3('0x4ad')]['intensity']);}_0x52349f[_0x55f3('0xb48')]&&(_0x5122c9[_0x55f3('0xb49')]=!0x0),_0x52349f[_0x55f3('0xb4a')]&&this['createUvAnimation'](_0x5122c9,_0x52349f[_0x55f3('0xb4a')],_0x40fd49),_0x52349f[_0x55f3('0xb4b')]&&_0x5122c9[_0x55f3('0x94')]&&_0x40fd49&&_0x40fd49['ID']&&(_0x256f5e=_0x5122c9[_0x55f3('0x94')]['clone'](),_0x5122c9[_0x55f3('0x94')]=_0x256f5e,_0x5122c9[_0x55f3('0x94')][_0x55f3('0xa01')]=_0x40fd49['ID'],this[_0x55f3('0xb2d')][_0x55f3('0x73')](_0x5122c9['map']),_0x5122c9[_0x55f3('0x94')][_0x55f3('0xf7')]=!0x0,_0x5122c9[_0x55f3('0xf7')]=!0x0,this['map'][_0x55f3('0x28d')](_0x55f3('0xb4c'),{'type':_0x55f3('0xb4b'),'id':_0x5122c9[_0x55f3('0x94')][_0x55f3('0xa01')]})),_0x52349f[_0x55f3('0x221')]&&(_0x5122c9[_0x55f3('0x1d5')]=!0x0,_0x5122c9['opacity']=_0x52349f[_0x55f3('0x221')]),_0x52349f['textureBlend']&&_0x5122c9[_0x55f3('0x94')]&&this[_0x55f3('0xb4d')](_0x5122c9,_0x52349f['textureBlend'],_0x40fd49),_0x52349f[_0x55f3('0xb4e')]&&_0x5122c9[_0x55f3('0x94')]&&(void 0x0===_0x52349f[_0x55f3('0xb4e')][_0x55f3('0x555')]||!0x1!==_0x52349f[_0x55f3('0xb4e')][_0x55f3('0x555')])&&this['createrBlendEffect'](_0x5122c9,_0x52349f[_0x55f3('0xb4e')],_0x40fd49),_0x52349f['water']&&(void 0x0!==_0x52349f[_0x55f3('0x5dd')][_0x55f3('0x220')]?this[_0x55f3('0xb1d')](_0x5122c9,_0x52349f['water'],_0x40fd49):this[_0x55f3('0xb4f')](_0x5122c9,_0x52349f[_0x55f3('0x5dd')],_0x40fd49)),_0x52349f['mirroWater']&&this[_0x55f3('0xb50')](_0x5122c9,_0x52349f[_0x55f3('0xb51')],_0x40fd49),_0x52349f[_0x55f3('0x9fd')]&&_0x5122c9[_0x55f3('0x94')]&&this[_0x55f3('0xb52')](_0x5122c9,_0x52349f[_0x55f3('0x9fd')]),_0x52349f[_0x55f3('0x516')]&&_0x5122c9[_0x55f3('0x516')]&&(_0x5122c9['emissive'][_0x55f3('0x300')](_0x52349f[_0x55f3('0x516')][_0x55f3('0x220')]),_0x5122c9[_0x55f3('0x8ff')]=_0x52349f[_0x55f3('0x516')]['intensity']),_0x52349f['lightPoints']&&(_0x52349f[_0x55f3('0xb53')]['type']?(_0x5122c9[_0x55f3('0xb54')]=_0x21fa16,_0x5122c9[_0x55f3('0xb55')]=_0x52349f[_0x55f3('0xb53')],_0x5122c9[_0x55f3('0xb56')]=_0x52349f[_0x55f3('0xb53')][_0x55f3('0xb57')]):(_0x5122c9['material']['depthWrite']=!0x1,_0x5122c9[_0x55f3('0x3f')]['opacity']=0x0),this['lightPointsMeshs'][_0x5122c9[_0x55f3('0x1c7')]]=_0x5122c9),_0x52349f[_0x55f3('0xb58')]&&this[_0x55f3('0xb59')](_0x5122c9,_0x52349f['terrain'],_0x40fd49),_0x52349f['heatmap']&&this[_0x55f3('0xb5a')](_0x5122c9,_0x52349f[_0x55f3('0xb5b')],_0x40fd49),_0x52349f[_0x55f3('0xb5c')]&&this[_0x55f3('0xb5d')](_0x5122c9,_0x52349f[_0x55f3('0xb5c')],_0x40fd49);}},{'key':_0x55f3('0xb5e'),'value':function(){}},{'key':_0x55f3('0xb5f'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f=new _0x1abcbe[(_0x55f3('0x9e'))]({'glowColorStr':_0x5122c9[_0x55f3('0x73b')]});_0x52349f['createMaterial'](_0x21fa16),_0x21fa16[_0x55f3('0x432')]=this[_0x55f3('0x5da')][_0x55f3('0x9d0')],_0x21fa16['envMapIntensity']=_0x5122c9[_0x55f3('0x427')]||0x14,_0x21fa16[_0x55f3('0xb60')]=!0x0,esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(_0x21fa16[_0x55f3('0xb61')]=_0x52349f);}},{'key':_0x55f3('0xb50'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0xb62')],_0x52349f=new _0x1abcbe['MirroWater']({'light':_0x52349f,'speed':_0x5122c9[_0x55f3('0x337')],'waterColor':_0x5122c9[_0x55f3('0x7b6')]}),_0x166db6=(_0x21fa16['visible']=!0x1,null);if(!_0x5122c9[_0x55f3('0xb63')]){_0x21fa16[_0x55f3('0x3f')]['visible']=!0x1;var _0x2317f8=Array['isArray'](_0x21fa16[_0x55f3('0x3f')])?_0x21fa16['material'][0x0]:_0x21fa16[_0x55f3('0x3f')],_0x256f5e=null;if(!_0x2317f8[_0x55f3('0x94')])return;var _0x2317f8=(_0x256f5e=_0x2317f8['map'][_0x55f3('0x36a')][_0x55f3('0x52c')]('originalSrc')||_0x2317f8[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0xb64')])[_0x55f3('0xb65')]('/'),_0x1d3943=_0x256f5e['substring'](0x0,_0x2317f8+0x1),_0x2317f8=_0x256f5e[_0x55f3('0xae8')](_0x2317f8+0x1,_0x256f5e[_0x55f3('0xf')]),_0x256f5e=_0x2317f8[_0x55f3('0x67')]('.')[0x0],_0x166db6=(_0x2317f8[_0x55f3('0x67')]('.')[0x1],_0x1d3943+_0x256f5e+_0x55f3('0xb66'));}_0x2317f8=new THREE[(_0x55f3('0x4d0'))](),_0x1d3943=_0x52349f[_0x55f3('0xb1d')](_0x21fa16[_0x55f3('0x95')]['clone'](),_0x2317f8,(0x0,_0x3c666b[_0x55f3('0x29')])(_0x55f3('0xb67')),_0x166db6,_0x5122c9[_0x55f3('0x7c7')],_0x5122c9[_0x55f3('0xb68')],_0x5122c9['clipViewValue']);return _0x1d3943['mesh']['position']['copy'](_0x21fa16['position']),_0x1d3943[_0x55f3('0x1ea')][_0x55f3('0x1ef')]['copy'](_0x21fa16[_0x55f3('0x1ef')]),_0x1d3943['mesh'][_0x55f3('0x1d9')]['copy'](_0x21fa16[_0x55f3('0x1d9')]),_0x1d3943[_0x55f3('0x1ea')][_0x55f3('0x8b')]=_0x21fa16[_0x55f3('0x8b')],_0x1d3943['mesh'][_0x55f3('0x318')]=_0x21fa16[_0x55f3('0x318')],esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(_0x1d3943[_0x55f3('0x1ea')][_0x55f3('0xb61')]=_0x52349f),_0x21fa16[_0x55f3('0x97')]['add'](_0x1d3943[_0x55f3('0x1ea')]),this[_0x55f3('0x9f9')][_0x5122c9[_0x55f3('0x8b')]]=_0x52349f,_0x1d3943[_0x55f3('0x1ea')];}},{'key':_0x55f3('0xb5a'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f=new _0x1abcbe[(_0x55f3('0x9c'))]();'projection'===_0x5122c9[_0x55f3('0xeb')]?(_0x52349f[_0x55f3('0x2fc')](_0x21fa16,_0x40fd49['o3d_'][_0x55f3('0x63f')]['modelinfo'][_0x55f3('0x951')]),this['projectionHeatMaps'][_0x5122c9[_0x55f3('0x8b')]]=_0x52349f):_0x55f3('0x1c6')===_0x5122c9[_0x55f3('0xeb')]&&(_0x52349f[_0x55f3('0x3f')]=_0x21fa16,this[_0x55f3('0xa0a')][_0x5122c9[_0x55f3('0x8b')]]=_0x52349f);}},{'key':'createGradient','value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f=new _0x1abcbe[(_0x55f3('0x9b'))]();_0x52349f[_0x55f3('0x2fc')](_0x21fa16),this[_0x55f3('0xb31')][_0x5122c9[_0x55f3('0x8b')]]=_0x52349f;}},{'key':'createUvAnimation','value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f,_0x166db6,_0x2317f8,_0x256f5e;_0x21fa16[_0x55f3('0x94')]&&!_0x5122c9[_0x55f3('0x555')]?_0x21fa16[_0x55f3('0x94')][_0x55f3('0xb69')]||(_0x5122c9[_0x55f3('0x74d')]&&(_0x21fa16['map'][_0x55f3('0x6bd')]=_0x5122c9[_0x55f3('0x74d')]),_0x5122c9[_0x55f3('0x1ef')]&&(_0x21fa16[_0x55f3('0x94')][_0x55f3('0xb6a')]=_0x5122c9['rotation']),_0x5122c9[_0x55f3('0x7c9')]&&(_0x2317f8=null,_0x52349f=(_0x2317f8=_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0x52c')]('originalSrc')||_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0xb64')])[_0x55f3('0xb65')]('/'),_0x166db6=_0x2317f8[_0x55f3('0xae8')](0x0,_0x52349f+0x1),_0x2317f8=(_0x52349f=_0x2317f8[_0x55f3('0xae8')](_0x52349f+0x1,_0x2317f8[_0x55f3('0xf')]))[_0x55f3('0x67')]('.')[0x0],_0x52349f=_0x52349f[_0x55f3('0x67')]('.')[0x1],_0x5122c9[_0x55f3('0x7c9')][_0x55f3('0xb6b')]?this['modelUvAnimation'][_0x55f3('0xb6c')](_0x21fa16,_0x166db6+_0x2317f8+'_ef_mask.'+_0x52349f):this[_0x55f3('0xb30')]['addUv2Channel'](_0x21fa16,_0x166db6+_0x2317f8+'_ef_uv-animate.'+_0x52349f,_0x5122c9[_0x55f3('0x7c9')]['translate'])),_0x5122c9[_0x55f3('0xb6d')]&&this[_0x55f3('0xb30')][_0x55f3('0x6ba')](_0x21fa16['map'],_0x5122c9['spriteAnimate']),this['modelUvAnimation'][_0x55f3('0x6ab')][_0x55f3('0x73')](_0x21fa16[_0x55f3('0x94')]),this['modelUvAnimation'][_0x55f3('0x6ad')](),_0x21fa16[_0x55f3('0x94')][_0x55f3('0xb69')]=!0x0):_0x21fa16[_0x55f3('0x94')]&&_0x5122c9[_0x55f3('0x555')]&&(_0x21fa16['map']['isUseAnimate']||(_0x5122c9['useSpriteAnimate']?this[_0x55f3('0xb30')][_0x55f3('0x6ba')](_0x21fa16['map'],{'imgWidth':_0x5122c9['imgWidth'],'imgHeight':_0x5122c9[_0x55f3('0x6bb')],'row':_0x5122c9[_0x55f3('0x622')],'column':_0x5122c9[_0x55f3('0x621')],'fps':_0x5122c9['fps']}):((_0x5122c9[_0x55f3('0xb6e')]||_0x5122c9[_0x55f3('0xb6f')])&&(_0x21fa16['map'][_0x55f3('0x6bd')]={'x':_0x5122c9[_0x55f3('0xb6e')],'y':_0x5122c9[_0x55f3('0xb6f')]}),_0x5122c9[_0x55f3('0x1ef')]&&(_0x21fa16[_0x55f3('0x94')][_0x55f3('0xb6a')]=_0x5122c9[_0x55f3('0x1ef')]),_0x5122c9[_0x55f3('0x7c9')]&&(_0x166db6=null,_0x2317f8=(_0x166db6=_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0x52c')](_0x55f3('0xb70'))||_0x21fa16[_0x55f3('0x94')]['image'][_0x55f3('0xb64')])[_0x55f3('0xb65')]('/'),_0x52349f=_0x166db6[_0x55f3('0xae8')](0x0,_0x2317f8+0x1),_0x166db6=(_0x2317f8=_0x166db6[_0x55f3('0xae8')](_0x2317f8+0x1,_0x166db6[_0x55f3('0xf')]))[_0x55f3('0x67')]('.')[0x0],_0x2317f8=_0x2317f8[_0x55f3('0x67')]('.')[0x1],_0x5122c9['uv2UseAlpha']?this[_0x55f3('0xb30')][_0x55f3('0xb6c')](_0x21fa16,_0x52349f+_0x166db6+'_ef_mask.'+_0x2317f8):(_0x256f5e=null,(_0x5122c9[_0x55f3('0xb71')]||_0x5122c9[_0x55f3('0xb72')])&&(_0x256f5e={'x':_0x5122c9['uv2TranslateX'],'y':_0x5122c9[_0x55f3('0xb72')]}),this['modelUvAnimation']['addUv2Channel'](_0x21fa16,_0x52349f+_0x166db6+'_ef_uv-animate.'+_0x2317f8,_0x256f5e)))),this['modelUvAnimation'][_0x55f3('0x6ab')]['push'](_0x21fa16['map']),this['modelUvAnimation'][_0x55f3('0x6ad')](),_0x21fa16['map'][_0x55f3('0xb69')]=!0x0,esmap[_0x55f3('0x4e')]['EFFECT_EDITOR']&&(_0x21fa16['_effect']=!0x0)));}},{'key':_0x55f3('0xaa4'),'value':function(_0x21fa16,_0x5122c9){_0x21fa16[_0x55f3('0x432')]=this[_0x55f3('0x5da')][_0x55f3('0x9d0')],_0x5122c9[_0x55f3('0x409')]&&(_0x21fa16[_0x55f3('0x409')]=_0x5122c9[_0x55f3('0x409')]),_0x5122c9[_0x55f3('0x40a')]&&(_0x21fa16[_0x55f3('0x40a')]=_0x5122c9[_0x55f3('0x40a')]),!esmap['ESMapUtil'][_0x55f3('0x981')]()['isPC']&&_0x5122c9[_0x55f3('0xb73')]?_0x21fa16[_0x55f3('0xa77')]=_0x5122c9[_0x55f3('0xb73')]:_0x21fa16[_0x55f3('0xa77')]=_0x5122c9['intensity']||0x1,_0x21fa16[_0x55f3('0xf7')]=!0x0,this[_0x55f3('0xb74')][_0x55f3('0x73')](_0x21fa16);}},{'key':_0x55f3('0xb52'),'value':function(_0x21fa16,_0x5122c9){_0x5122c9[_0x55f3('0x427')]&&(_0x21fa16[_0x55f3('0x8ff')]=_0x5122c9['intensity']),_0x5122c9[_0x55f3('0xb75')]&&(_0x21fa16[_0x55f3('0x8ff')]=0x0),this[_0x55f3('0x9fd')][_0x55f3('0x2fc')](_0x21fa16),esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(_0x21fa16['_effect']=!0x0);}},{'key':_0x55f3('0xb4d'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f,_0x166db6=null,_0x2317f8=(_0x166db6=_0x21fa16['map'][_0x55f3('0x36a')][_0x55f3('0x52c')](_0x55f3('0xb70'))||_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')]['currentSrc'])[_0x55f3('0xb65')]('/'),_0x256f5e=_0x166db6[_0x55f3('0xae8')](0x0,_0x2317f8+0x1),_0x2317f8=_0x166db6['substring'](_0x2317f8+0x1,_0x166db6[_0x55f3('0xf')]),_0x166db6=_0x2317f8[_0x55f3('0x67')]('.')[0x0],_0x2317f8=_0x2317f8[_0x55f3('0x67')]('.')[0x1],_0x229622=(_0x55f3('0xa')==typeof _0x5122c9[_0x55f3('0x685')]&&(_0x5122c9[_0x55f3('0x685')]=_0x5122c9[_0x55f3('0x685')]['split'](',')[_0x55f3('0x94')](Number)),'string'==typeof _0x5122c9['isNoTileFactor']&&(_0x5122c9[_0x55f3('0x8d9')]=_0x5122c9[_0x55f3('0x8d9')][_0x55f3('0x67')](',')[_0x55f3('0x94')](Number)),_0x5122c9[_0x55f3('0x685')]),_0x4fd9cb=_0x5122c9[_0x55f3('0x8d9')],_0x847a6f=_0x5122c9[_0x55f3('0xb6b')],_0x3770b7=_0x5122c9['isUseNormal'],_0x37deb5=_0x5122c9['blendCount'],_0x2cb36b=_0x5122c9['normalFlipSide'],_0x1741f5=null,_0x8d498=(_0x5122c9[_0x55f3('0x4c2')]&&(_0x52349f=this[_0x55f3('0x94')]['mapView']['renderer'][_0x55f3('0x4d1')][_0x55f3('0x4d3')](),_0x1741f5=_0x55f3('0xf2')==_0x5122c9[_0x55f3('0x4c2')]?_0x52349f:_0x5122c9['anisotropy']),new _0x1abcbe[(_0x55f3('0xa0'))]({'repeatFactor':_0x229622?{'texture1':_0x229622[0x0],'texture2':_0x229622[0x1],'texture3':_0x229622[0x2],'texture4':_0x229622[0x3]}:null,'isNoTileFactor':_0x4fd9cb?{'texture1':_0x4fd9cb[0x0],'texture2':_0x4fd9cb[0x1],'texture3':_0x4fd9cb[0x2],'texture4':_0x4fd9cb[0x3]}:void 0x0,'texture2Path':_0x256f5e+_0x166db6+_0x55f3('0xb76')+_0x2317f8,'textureMaskPath':_0x256f5e+_0x166db6+_0x55f3('0xb66'),'texture3Path':0x3<=_0x37deb5?_0x256f5e+_0x166db6+_0x55f3('0xb77')+_0x2317f8:null,'texture4Path':0x4<=_0x37deb5?_0x256f5e+_0x166db6+_0x55f3('0xb78')+_0x2317f8:null,'noisePath':(0x0,_0x3c666b['getConfigAssetsPath'])('images/ground/noise.png'),'normalUvIndex':_0x3770b7?_0x5122c9[_0x55f3('0xb79')]||0x1:null,'normalFlipSide':_0x2cb36b,'anisotropy':_0x1741f5}));_0x21fa16[_0x55f3('0x338')]=!0x1,_0x847a6f&&(_0x21fa16[_0x55f3('0x1d5')]=!0x0),_0x8d498[_0x55f3('0x2cc')](_0x55f3('0x41f'),function(){_0x8d498[_0x55f3('0x2fc')](_0x21fa16),esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(_0x8d498[_0x55f3('0xb7a')]=_0x37deb5,_0x21fa16[_0x55f3('0xb61')]=_0x8d498),_0x21fa16[_0x55f3('0x338')]=!0x0;});}},{'key':_0x55f3('0xb7b'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f=null,_0x166db6=(_0x52349f=_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')]['getAttribute']('originalSrc')||_0x21fa16[_0x55f3('0x94')]['image']['currentSrc'])[_0x55f3('0xb65')]('/'),_0x2317f8=_0x52349f[_0x55f3('0xae8')](0x0,_0x166db6+0x1),_0x166db6=_0x52349f[_0x55f3('0xae8')](_0x166db6+0x1,_0x52349f[_0x55f3('0xf')]),_0x52349f=_0x166db6[_0x55f3('0x67')]('.')[0x0],_0x166db6=_0x166db6[_0x55f3('0x67')]('.')[0x1],_0x256f5e=_0x5122c9[_0x55f3('0xb6b')],_0x120e10=_0x5122c9[_0x55f3('0xb7c')],_0x5e18ce=new _0x1abcbe[(_0x55f3('0x9f'))]({'textureMaskPath':_0x256f5e?_0x2317f8+_0x52349f+'_ef_mask.png':null,'textureNormalPath':_0x120e10?_0x2317f8+_0x52349f+_0x55f3('0xb7d')+_0x166db6:null,'isIgnoreAlpha':_0x5122c9['isIgnoreAlpha'],'isUseScanEffect':_0x5122c9[_0x55f3('0x8eb')],'isUseUv2Light':_0x5122c9[_0x55f3('0x8ee')],'scanOffset':_0x5122c9[_0x55f3('0x8ef')]});_0x21fa16[_0x55f3('0x338')]=!0x1,_0x256f5e&&(_0x21fa16[_0x55f3('0x1d5')]=!0x0),_0x5e18ce[_0x55f3('0x2cc')](_0x55f3('0x41f'),function(){_0x5e18ce[_0x55f3('0x2fc')](_0x21fa16),esmap[_0x55f3('0x4e')]['EFFECT_EDITOR']&&(_0x21fa16[_0x55f3('0xb61')]=_0x5e18ce),_0x21fa16['visible']=!0x0;}),this[_0x55f3('0xb2e')][_0x55f3('0x73')](_0x5e18ce);}},{'key':'_createWater','value':function(_0x21fa16,_0x5122c9,_0x40fd49){if(!(_0x21fa16 instanceof THREE[_0x55f3('0xb7e')]))return!0x0;var _0x52349f=null,_0x166db6=_0x5122c9[_0x55f3('0x8b')],_0x2317f8=_0x5122c9['noOriginTexture'],_0x256f5e=!0x0,_0x3499f3=!0x1,_0x516a96=void 0x0;try{for(var _0x416d0c,_0x1f559d=(0x0,_0x4e584a[_0x55f3('0x9')])(this[_0x55f3('0x5dd')][_0x55f3('0xb19')]);!(_0x256f5e=(_0x416d0c=_0x1f559d[_0x55f3('0x85')]())['done']);_0x256f5e=!0x0){var _0x510c02=_0x416d0c[_0x55f3('0x12')];if(_0x510c02[_0x55f3('0x8b')]&&_0x510c02['name']===_0x166db6){_0x52349f=_0x510c02;break;}}}catch(_0x2dc3e5){_0x3499f3=!0x0,_0x516a96=_0x2dc3e5;}finally{try{!_0x256f5e&&_0x1f559d[_0x55f3('0x271')]&&_0x1f559d['return']();}finally{if(_0x3499f3)throw _0x516a96;}}if(!_0x52349f)return!0x0;_0x5122c9[_0x55f3('0x409')]&&(_0x21fa16[_0x55f3('0x409')]=_0x5122c9[_0x55f3('0x409')]),_0x5122c9[_0x55f3('0x40a')]&&(_0x21fa16['metalness']=_0x5122c9['metalness']),_0x5122c9[_0x55f3('0xb6b')]&&(_0x3499f3=null,_0x516a96=(_0x3499f3=_0x21fa16[_0x55f3('0x94')]['image']['getAttribute'](_0x55f3('0xb70'))||_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0xb64')])[_0x55f3('0xb65')]('/'),_0x5122c9=_0x3499f3[_0x55f3('0xae8')](0x0,_0x516a96+0x1),_0x3499f3=(_0x516a96=_0x3499f3[_0x55f3('0xae8')](_0x516a96+0x1,_0x3499f3[_0x55f3('0xf')]))[_0x55f3('0x67')]('.')[0x0],_0x516a96=_0x516a96[_0x55f3('0x67')]('.')[0x1],_0x52349f[_0x55f3('0x7a8')]=_0x5122c9+_0x3499f3+'_ef_mask.'+_0x516a96,_0x52349f['originTexName']=_0x3499f3),_0x52349f[_0x55f3('0x2fc')](_0x21fa16,_0x2317f8),esmap[_0x55f3('0x4e')]['EFFECT_EDITOR']&&(_0x21fa16[_0x55f3('0xb61')]=_0x52349f);}},{'key':'createWater','value':function(_0x21fa16,_0x5122c9,_0x40fd49){if(!(_0x21fa16 instanceof THREE[_0x55f3('0xb7e')]))return!0x0;var _0x52349f=_0x5122c9[_0x55f3('0x8b')],_0x166db6=_0x5122c9[_0x55f3('0xb7f')],_0x2317f8=void 0x0,_0x256f5e=_0x5122c9['isUseGround']&&_0x5122c9[_0x55f3('0xb24')]?new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')]((0x0,_0x3c666b[_0x55f3('0x29')])(_0x5122c9[_0x55f3('0xb24')])):new THREE['Texture'](),_0x256f5e=(_0x5122c9['skyImg']&&(_0x2317f8=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')]((0x0,_0x3c666b['getConfigAssetsPath'])(_0x5122c9['skyImg']))),new _0x1abcbe[(_0x55f3('0xa8'))]({'colorStr':_0x5122c9[_0x55f3('0x220')],'lightColorStr':_0x5122c9[_0x55f3('0x7a7')],'scale':_0x5122c9[_0x55f3('0x1d9')],'speed':_0x5122c9[_0x55f3('0x337')],'fluctuate':_0x5122c9['waveFactor'],'texture':_0x256f5e,'skyTexture':_0x2317f8,'texUvScale':_0x5122c9[_0x55f3('0xb80')],'flowAngle':_0x5122c9[_0x55f3('0x7a6')],'opacity':_0x5122c9[_0x55f3('0x221')]}));_0x256f5e[_0x55f3('0x8b')]=_0x52349f,_0x5122c9[_0x55f3('0xb6b')]&&_0x21fa16[_0x55f3('0x94')],_0x5122c9['isUseAlphaMask']&&_0x21fa16['map']&&(_0x2317f8=null,_0x52349f=(_0x2317f8=_0x21fa16[_0x55f3('0x94')][_0x55f3('0x36a')][_0x55f3('0x52c')](_0x55f3('0xb70'))||_0x21fa16['map'][_0x55f3('0x36a')][_0x55f3('0xb64')])['lastIndexOf']('/'),_0x5122c9=_0x2317f8['substring'](0x0,_0x52349f+0x1),_0x2317f8=(_0x52349f=_0x2317f8[_0x55f3('0xae8')](_0x52349f+0x1,_0x2317f8[_0x55f3('0xf')]))[_0x55f3('0x67')]('.')[0x0],_0x52349f=_0x52349f[_0x55f3('0x67')]('.')[0x1],_0x256f5e['alphaMaskPath']=_0x5122c9+_0x2317f8+'_ef_mask.'+_0x52349f,_0x256f5e['originTexName']=_0x2317f8),_0x256f5e[_0x55f3('0x2fc')](_0x21fa16,_0x166db6),this[_0x55f3('0x5dd')][_0x55f3('0xb19')]['push'](_0x256f5e),esmap['ESEffectTool']['EFFECT_EDITOR']&&(_0x21fa16[_0x55f3('0xb61')]=_0x256f5e);}},{'key':_0x55f3('0xb59'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x40fd49=[_0x40fd49[_0x55f3('0x5e9')][_0x55f3('0x63f')][_0x55f3('0x950')][_0x55f3('0x951')]['min']['y'],_0x40fd49[_0x55f3('0x5e9')]['userData'][_0x55f3('0x950')]['box3'][_0x55f3('0xf2')]['y']],_0x40fd49=_0x5122c9[_0x55f3('0x916')]||_0x40fd49,_0x52349f=(_0x55f3('0xa')==typeof _0x5122c9[_0x55f3('0x916')]&&(_0x40fd49=_0x5122c9[_0x55f3('0x916')][_0x55f3('0x67')](',')[_0x55f3('0x94')](Number)),(_0x52349f=_0x5122c9[_0x55f3('0xb24')])&&(0x0,_0x3c666b[_0x55f3('0x29')])(_0x52349f)),_0x40fd49=new _0x1abcbe[(_0x55f3('0x9d'))]({'heightExtent':_0x40fd49,'gradientType':_0x5122c9[_0x55f3('0x908')],'isTransparentLight':_0x5122c9[_0x55f3('0x60b')],'texPath':_0x52349f,'isShowSeaGroundEffect':_0x5122c9['isUseWaterEffect'],'seaGroundConfigs':{'scale':_0x5122c9[_0x55f3('0x7af')],'fogNear':_0x5122c9[_0x55f3('0xb81')],'fogFar':_0x5122c9[_0x55f3('0xb82')]}}),_0x52349f=_0x21fa16;_0x5122c9[_0x55f3('0x60b')]&&(_0x21fa16[_0x55f3('0xa0b')][_0x55f3('0x3f')]=new THREE[(_0x55f3('0x437'))]({'color':0xffffff,'transparent':!0x0,'opacity':0.6,'side':THREE[_0x55f3('0x308')],'depthWrite':!0x1,'blending':THREE[_0x55f3('0x1d4')]}),_0x52349f=_0x21fa16[_0x55f3('0xa0b')][_0x55f3('0x3f')]),_0x40fd49[_0x55f3('0x2fc')](_0x52349f),_0x5122c9['name']&&(this[_0x55f3('0x9fc')][_0x5122c9[_0x55f3('0x8b')]]=_0x40fd49),_0x5122c9[_0x55f3('0x427')]&&_0x52349f['color'][_0x55f3('0xb83')](_0x5122c9['intensity']),this['modelTerrainList'][_0x55f3('0x73')](_0x40fd49),esmap[_0x55f3('0x4e')][_0x55f3('0x53')]&&(_0x21fa16[_0x55f3('0xb61')]=_0x40fd49);}},{'key':_0x55f3('0x9d9'),'value':function(){if(0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(this[_0x55f3('0xb32')])[_0x55f3('0xf')])for(var _0x21fa16 in this[_0x55f3('0xb32')])this[_0x55f3('0xb32')][_0x21fa16]['isLookAt']&&this[_0x55f3('0xb32')][_0x21fa16][_0x55f3('0x535')](this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x38')]);}},{'key':_0x55f3('0x9fe'),'value':function(_0x21fa16){var _0x40fd49=this,_0x5122c9=_0x21fa16['isShow'],_0x5122c9=void 0x0!==_0x5122c9&&_0x5122c9,_0x21fa16=_0x21fa16[_0x55f3('0x38f')],_0x21fa16=void 0x0===_0x21fa16?1.5:_0x21fa16;0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(this[_0x55f3('0xb32')])[_0x55f3('0xf')]&&new TWEEN['Tween']({'x':_0x5122c9?0x0:0x1})['to']({'x':_0x5122c9?0x1:0x0},0x3e8*_0x21fa16)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x332')](function(_0x21fa16){for(var _0x5122c9 in _0x40fd49[_0x55f3('0xb32')])_0x40fd49[_0x55f3('0xb32')][_0x5122c9][_0x55f3('0x3f')]['opacity']=_0x21fa16['x'];})[_0x55f3('0x395')]();}},{'key':_0x55f3('0xb84'),'value':function(_0x21fa16){return new esmap[(_0x55f3('0x4e'))][(_0x55f3('0xb29'))](esmap[_0x55f3('0x27e')][_0x55f3('0x640')],{'pointSize':_0x21fa16['pointSize'],'color':_0x21fa16[_0x55f3('0x220')],'points':_0x21fa16['points'],'height':_0x21fa16['height'],'animateType':_0x21fa16[_0x55f3('0x5fd')],'isShine':!0x0,'showLevel':_0x21fa16['showLevel'],'seeThrough':_0x21fa16[_0x55f3('0x5fa')]});}},{'key':_0x55f3('0x9ff'),'value':function(){if(0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(this[_0x55f3('0xb32')])['length']){var _0x21fa16,_0x5122c9=[];for(_0x21fa16 in this[_0x55f3('0xb32')]){var _0x40fd49=new THREE['Vector3'](),_0x52349f=(this[_0x55f3('0xb32')][_0x21fa16]['getWorldPosition'](_0x40fd49),this['map'][_0x55f3('0xb85')]({'x':_0x40fd49['x'],'y':_0x40fd49['y'],'z':_0x40fd49['z']}));_0x5122c9[_0x55f3('0x73')]({'styleId':this[_0x55f3('0xb32')][_0x21fa16][_0x55f3('0xb54')],'styleConfig':this['lightPointsMeshs'][_0x21fa16][_0x55f3('0xb55')],'x':_0x52349f['x'],'y':_0x52349f['y'],'height':_0x40fd49['y']}),this[_0x55f3('0xb32')][_0x21fa16][_0x55f3('0x97')]?this[_0x55f3('0xb32')][_0x21fa16][_0x55f3('0x97')]['remove'](this[_0x55f3('0xb32')][_0x21fa16]):this['lightPointsMeshs'][_0x21fa16][_0x55f3('0x338')]=!0x1;}this[_0x55f3('0xb86')]=new esmap[(_0x55f3('0x4e'))][(_0x55f3('0x94a'))]('lightPoints',esmap[_0x55f3('0x5d5')][_0x55f3('0x5d4')]),esmap[_0x55f3('0x4e')][_0x55f3('0x94c')](this['lightPointsLayer']);for(var _0x166db6,_0x2317f8={},_0x256f5e=0x0,_0x506013=_0x5122c9[_0x55f3('0xf')];_0x256f5e<_0x506013;_0x256f5e++)_0x5122c9[_0x256f5e][_0x55f3('0xb87')]&&(_0x5122c9[_0x256f5e][_0x55f3('0xb87')][_0x55f3('0x220')]&&!_0x2317f8[_0x5122c9[_0x256f5e][_0x55f3('0x4e6')]]?_0x2317f8[_0x5122c9[_0x256f5e][_0x55f3('0x4e6')]]=[]:_0x5122c9[_0x256f5e][_0x55f3('0x4e6')]&&_0x2317f8[_0x5122c9[_0x256f5e]['styleId']]&&_0x2317f8[_0x5122c9[_0x256f5e][_0x55f3('0x4e6')]][_0x55f3('0x73')](_0x5122c9[_0x256f5e]));for(_0x166db6 in _0x2317f8){var _0x37bc07=[],_0x23b26e=_0x2317f8[_0x166db6][0x0][_0x55f3('0xb87')],_0x2c9986=!0x0,_0x222c85=!0x1,_0x3d1393=void 0x0;try{for(var _0x2c474d,_0x4d3faa=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x2317f8[_0x166db6]);!(_0x2c9986=(_0x2c474d=_0x4d3faa['next']())[_0x55f3('0x269')]);_0x2c9986=!0x0){var _0x465d9e=_0x2c474d[_0x55f3('0x12')];_0x37bc07[_0x55f3('0x73')]({'x':_0x465d9e['x'],'y':_0x465d9e['y'],'height':_0x465d9e[_0x55f3('0x32d')]});}}catch(_0x19b93b){_0x222c85=!0x0,_0x3d1393=_0x19b93b;}finally{try{!_0x2c9986&&_0x4d3faa['return']&&_0x4d3faa[_0x55f3('0x271')]();}finally{if(_0x222c85)throw _0x3d1393;}}_0x222c85=this[_0x55f3('0xb84')]({'height':_0x23b26e[_0x55f3('0x521')]||0x0,'pointSize':_0x23b26e[_0x55f3('0x505')]||0xf,'color':_0x23b26e['color'],'animateType':_0x55f3('0x6a9'),'points':_0x37bc07});this[_0x55f3('0xb86')][_0x55f3('0x5f0')](_0x222c85);}}}},{'key':_0x55f3('0xb3a'),'value':function(_0x21fa16){return _0x21fa16[_0x55f3('0x67')](_0x55f3('0xb3c'))[0x1][_0x55f3('0x67')]('_');}},{'key':_0x55f3('0xb88'),'value':function(_0x21fa16,_0x5122c9){_0x21fa16&&_0x5122c9&&(_0x21fa16[_0x55f3('0x318')]=_0x5122c9);}},{'key':_0x55f3('0xb5e'),'value':function(_0x21fa16,_0x5122c9){_0x21fa16&&void 0x0!==_0x5122c9&&(_0x21fa16[_0x55f3('0x1d5')]=_0x5122c9);}},{'key':_0x55f3('0xaaa'),'value':function(_0x21fa16){for(var _0x5122c9=0x0,_0x40fd49=this['setEnvTextureMaterials'][_0x55f3('0xf')];_0x5122c9<_0x40fd49;_0x5122c9++)_0x21fa16&&(this[_0x55f3('0xb74')][_0x5122c9][_0x55f3('0x432')]=_0x21fa16),this[_0x55f3('0xb74')]['needsUpdate']=!0x0;}},{'key':_0x55f3('0xb46'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){return new _0x1abcbe['EdgeLineEffect']({'colorStr':_0x5122c9,'opacity':_0x40fd49})['createLineFrame'](_0x21fa16,_0x21fa16[_0x55f3('0x95')]);}},{'key':'createEdgeLineFrameByMeshLine','value':function(_0x21fa16,_0x5122c9){var _0x40fd49=new THREE['TextureLoader']()['load']((0x0,_0x3c666b[_0x55f3('0x29')])(_0x5122c9['lineImg']));new _0x1abcbe[(_0x55f3('0xab'))]({'camera':this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')],'texture':_0x40fd49,'colorStr':_0x5122c9[_0x55f3('0x220')],'lineWidth':_0x5122c9[_0x55f3('0x304')]})[_0x55f3('0x321')](_0x21fa16);}},{'key':'createInstanceModel','value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f,_0x1d83e7=this,_0x166db6=_0x21fa16[_0x55f3('0xb89')],_0x41ec1c=void 0x0,_0x13c0ee=void 0x0,_0x2b63a3=_0x166db6[_0x55f3('0xb8a')]['json']['ms']||{},_0x28d4ef=_0x166db6[_0x55f3('0x416')][_0x55f3('0x38')],_0xed566=new THREE[(_0x55f3('0x5a'))](),_0x5093a=new THREE[(_0x55f3('0x5a'))]();for(_0x52349f in new THREE[(_0x55f3('0xb8b'))]()[_0x55f3('0xb8c')](_0x166db6[_0x55f3('0x416')])[_0x55f3('0x6fb')](_0x166db6[_0x55f3('0x416')][_0x55f3('0x38')]),_0x166db6[_0x55f3('0x416')][_0x55f3('0x38')][_0x55f3('0x1c1')](-0x1),_0x166db6[_0x55f3('0x416')][_0x55f3('0x65f')](function(_0x21fa16){if(_0x21fa16 instanceof THREE[_0x55f3('0x317')]){if(_0xed566[_0x55f3('0x39')](_0x28d4ef['x']+_0x21fa16[_0x55f3('0x38')]['x'],_0x28d4ef['y']+_0x21fa16[_0x55f3('0x38')]['y'],_0x28d4ef['z']+_0x21fa16[_0x55f3('0x38')]['z']),_0x5093a[_0x55f3('0x39')](THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0x21fa16[_0x55f3('0x1ef')]['x']),THREE['Math'][_0x55f3('0xb8d')](_0x21fa16[_0x55f3('0x1ef')]['y']),THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0x21fa16[_0x55f3('0x1ef')]['z'])),_0x5093a=_0x5093a[_0x55f3('0x1be')](),_0x41ec1c=_0x21fa16[_0x55f3('0x95')]['clone'](),0x0<=(_0x13c0ee=_0x21fa16[_0x55f3('0x3f')]['clone']())['name'][_0x55f3('0x4b')]('_ef_')){var _0x21fa16=_0x1d83e7['splitEffectsTemplates'](_0x13c0ee[_0x55f3('0x8b')]),_0x5122c9=!0x0,_0x40fd49=!0x1,_0x52349f=void 0x0;try{for(var _0x166db6,_0x2317f8=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x21fa16);!(_0x5122c9=(_0x166db6=_0x2317f8['next']())[_0x55f3('0x269')]);_0x5122c9=!0x0){var _0x256f5e=_0x166db6[_0x55f3('0x12')];_0x1d83e7['matchModelEffectConfig'](_0x1d83e7[_0x55f3('0x97e')],_0x256f5e,_0x13c0ee);}}catch(_0x2967ed){_0x40fd49=!0x0,_0x52349f=_0x2967ed;}finally{try{!_0x5122c9&&_0x2317f8[_0x55f3('0x271')]&&_0x2317f8[_0x55f3('0x271')]();}finally{if(_0x40fd49)throw _0x52349f;}}}_0x2b63a3[_0x55f3('0x3f')]&&0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(_0x2b63a3[_0x55f3('0x3f')])['length']&&_0x2b63a3[_0x55f3('0x3f')][_0x13c0ee['name']]&&_0x1d83e7['settingModelEffects']('',_0x13c0ee,null,_0x2b63a3[_0x55f3('0x3f')][_0x13c0ee[_0x55f3('0x8b')]]);}}),_0x5122c9){var _0x2317f8=null,_0x256f5e=(_0x2317f8=(0x0,_0x3c666b[_0x55f3('0x2f')])()?this[_0x55f3('0x94')]['getTileById'](_0x52349f):((0x0,_0x3c666b[_0x55f3('0x2e')])()?_0x21fa16[_0x55f3('0xb8e')]:(0x0,_0x3c666b[_0x55f3('0x2b')])())['getFloor'](_0x52349f)[_0x55f3('0xb8f')](_0x55f3('0xb90'))[0x0],_0x5122c9[_0x52349f]),_0x41e70f=[],_0x13a9c7=[],_0x3a1713=[],_0x25890e=!0x0,_0xf172b5=!0x1,_0x3dae60=void 0x0;try{for(var _0x1f6af2,_0x4c1681=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x256f5e);!(_0x25890e=(_0x1f6af2=_0x4c1681['next']())['done']);_0x25890e=!0x0){var _0x4e8d3c,_0x28f7ff=_0x1f6af2[_0x55f3('0x12')];_0x41e70f[_0x55f3('0x73')](_0x28f7ff[_0x55f3('0x38')]['x']+_0xed566['x'],_0x28f7ff[_0x55f3('0x38')]['y']+_0xed566['y'],_0x28f7ff[_0x55f3('0x38')]['z']+_0xed566['z']),_0x28f7ff['rotate']?(_0x4e8d3c=_0x28f7ff['rotate'][_0x55f3('0x67')](','),_0x3a1713['push'](+_0x4e8d3c[0x0]+_0x5093a['x'],+_0x4e8d3c[0x1]+_0x5093a['y'],+_0x4e8d3c[0x2]+_0x5093a['z'])):_0x3a1713[_0x55f3('0x73')](0x0,0x0,0x0),_0x13a9c7[_0x55f3('0x73')](_0x28f7ff['scale']['x'],_0x28f7ff[_0x55f3('0x1d9')]['y'],_0x28f7ff[_0x55f3('0x1d9')]['z']);}}catch(_0x416832){_0xf172b5=!0x0,_0x3dae60=_0x416832;}finally{try{!_0x25890e&&_0x4c1681[_0x55f3('0x271')]&&_0x4c1681['return']();}finally{if(_0xf172b5)throw _0x3dae60;}}_0xf172b5=new _0x1abcbe[(_0x55f3('0xa2'))]({'material':_0x13c0ee,'geometry':_0x41ec1c,'num':_0x256f5e[_0x55f3('0xf')],'camera':this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')],'shadowCamera':_0x40fd49[_0x55f3('0x800')],'pos':_0x41e70f,'rot':_0x3a1713,'scale':_0x13a9c7});_0xf172b5[_0x55f3('0x319')][_0x55f3('0x8b')]=_0x21fa16[_0x55f3('0x8b')],_0x2b63a3[_0x55f3('0x1ea')]&&(0x0,_0x16e1f9[_0x55f3('0x9')])(_0x2b63a3[_0x55f3('0x1ea')])[_0x55f3('0xf')],_0x2317f8['o3d_'][_0x55f3('0x1c3')](_0xf172b5[_0x55f3('0x319')]),this[_0x55f3('0xb33')][_0x55f3('0x73')](_0xf172b5);}}},{'key':_0x55f3('0x9bd'),'value':function(_0x21fa16,_0x5122c9,_0x40fd49){var _0x52349f,_0x6feddd,_0x425832,_0x237288,_0x154bb6,_0xa82fb6,_0x166db6,_0x27728e=this,_0x3a9cec={},_0x687cd3=null;for(_0x166db6 in this[_0x55f3('0xb34')][_0x21fa16['name']]||(_0x52349f=_0x21fa16[_0x55f3('0xb89')],_0x425832=_0x6feddd=void 0x0,_0x3a9cec=_0x52349f[_0x55f3('0xb8a')][_0x55f3('0x959')]['ms']||{},_0x237288=_0x52349f['scene']['position'],_0x154bb6=new THREE[(_0x55f3('0x5a'))](),_0xa82fb6=new THREE['Vector3'](),new THREE[(_0x55f3('0xb8b'))]()[_0x55f3('0xb8c')](_0x52349f[_0x55f3('0x416')])[_0x55f3('0x6fb')](_0x52349f['scene'][_0x55f3('0x38')]),_0x52349f[_0x55f3('0x416')][_0x55f3('0x38')][_0x55f3('0x1c1')](-0x1),_0x52349f['scene'][_0x55f3('0x65f')](function(_0x21fa16){if(_0x21fa16 instanceof THREE[_0x55f3('0x317')]){if(_0x154bb6[_0x55f3('0x39')](_0x237288['x']+_0x21fa16[_0x55f3('0x38')]['x'],_0x237288['y']+_0x21fa16[_0x55f3('0x38')]['y'],_0x237288['z']+_0x21fa16[_0x55f3('0x38')]['z']),_0xa82fb6[_0x55f3('0x39')](THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0x21fa16[_0x55f3('0x1ef')]['x']),THREE[_0x55f3('0x18')]['radToDeg'](_0x21fa16[_0x55f3('0x1ef')]['y']),THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0x21fa16[_0x55f3('0x1ef')]['z'])),_0xa82fb6=_0xa82fb6[_0x55f3('0x1be')](),_0x6feddd=_0x21fa16[_0x55f3('0x95')]['clone'](),_0x425832=_0x21fa16['material'][_0x55f3('0x1b0')](),_0x687cd3=_0x21fa16[_0x55f3('0x8b')],0x0<=_0x425832[_0x55f3('0x8b')][_0x55f3('0x4b')]('_ef_')){var _0x21fa16=_0x27728e[_0x55f3('0xb3a')](_0x425832[_0x55f3('0x8b')]),_0x5122c9=!0x0,_0x40fd49=!0x1,_0x52349f=void 0x0;try{for(var _0x166db6,_0x2317f8=(0x0,_0x4e584a['default'])(_0x21fa16);!(_0x5122c9=(_0x166db6=_0x2317f8[_0x55f3('0x85')]())['done']);_0x5122c9=!0x0){var _0x256f5e=_0x166db6[_0x55f3('0x12')];_0x27728e['matchModelEffectConfig'](_0x27728e['modelsConfigs'],_0x256f5e,_0x425832);}}catch(_0x3ff995){_0x40fd49=!0x0,_0x52349f=_0x3ff995;}finally{try{!_0x5122c9&&_0x2317f8['return']&&_0x2317f8[_0x55f3('0x271')]();}finally{if(_0x40fd49)throw _0x52349f;}}}_0x3a9cec['material']&&0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(_0x3a9cec[_0x55f3('0x3f')])[_0x55f3('0xf')]&&_0x3a9cec[_0x55f3('0x3f')][_0x425832[_0x55f3('0x8b')]]&&_0x27728e[_0x55f3('0xb3d')]('',_0x425832,null,_0x3a9cec[_0x55f3('0x3f')][_0x425832['name']]);}}),this['tileInstanceModels'][_0x21fa16[_0x55f3('0x8b')]]={'material':_0x425832,'geometry':_0x6feddd,'offsetPos':_0x154bb6,'rotation':_0xa82fb6}),_0x5122c9){var _0x2317f8=this[_0x55f3('0x94')]['getTileById'](_0x166db6);if(_0x2317f8){var _0x256f5e=_0x5122c9[_0x166db6],_0x53d267=[],_0x2b47ef=[],_0x221092=[],_0x48bd43=!0x0,_0x1c1c3d=!0x1,_0x5d050e=void 0x0;try{for(var _0x14416a,_0x2726bd=(0x0,_0x4e584a[_0x55f3('0x9')])(_0x256f5e);!(_0x48bd43=(_0x14416a=_0x2726bd[_0x55f3('0x85')]())['done']);_0x48bd43=!0x0){var _0x51b9bd,_0x3c666b=_0x14416a[_0x55f3('0x12')];_0x53d267[_0x55f3('0x73')](_0x3c666b[_0x55f3('0x38')]['x']+this[_0x55f3('0xb34')][_0x21fa16[_0x55f3('0x8b')]]['offsetPos']['x'],_0x3c666b[_0x55f3('0x38')]['y']+this['tileInstanceModels'][_0x21fa16['name']][_0x55f3('0xb91')]['y']*_0x3c666b[_0x55f3('0x1d9')]['y'],_0x3c666b['position']['z']+this[_0x55f3('0xb34')][_0x21fa16['name']]['offsetPos']['z']),_0x3c666b['rotate']?(_0x51b9bd=_0x3c666b['rotate'][_0x55f3('0x67')](','),_0x221092[_0x55f3('0x73')](+_0x51b9bd[0x0]+this[_0x55f3('0xb34')][_0x21fa16[_0x55f3('0x8b')]]['rotation']['x'],+_0x51b9bd[0x1]+this['tileInstanceModels'][_0x21fa16['name']][_0x55f3('0x1ef')]['y'],+_0x51b9bd[0x2]+this[_0x55f3('0xb34')][_0x21fa16[_0x55f3('0x8b')]][_0x55f3('0x1ef')]['z'])):_0x221092['push'](0x0,0x0,0x0),_0x2b47ef[_0x55f3('0x73')](_0x3c666b[_0x55f3('0x1d9')]['x'],_0x3c666b[_0x55f3('0x1d9')]['y'],_0x3c666b[_0x55f3('0x1d9')]['z']);}}catch(_0x1e226a){_0x1c1c3d=!0x0,_0x5d050e=_0x1e226a;}finally{try{!_0x48bd43&&_0x2726bd[_0x55f3('0x271')]&&_0x2726bd['return']();}finally{if(_0x1c1c3d)throw _0x5d050e;}}_0x1c1c3d=new _0x1abcbe['ESInstanceMesh']({'material':this['tileInstanceModels'][_0x21fa16[_0x55f3('0x8b')]][_0x55f3('0x3f')],'geometry':this[_0x55f3('0xb34')][_0x21fa16[_0x55f3('0x8b')]]['geometry'],'num':_0x256f5e[_0x55f3('0xf')],'camera':this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')],'shadowCamera':_0x40fd49['shadowCamera'],'pos':_0x53d267,'rot':_0x221092,'scale':_0x2b47ef});_0x1c1c3d[_0x55f3('0x319')]['name']=_0x21fa16['name'],_0x2317f8['o3d_'][_0x55f3('0x1c3')](_0x1c1c3d[_0x55f3('0x319')]),_0x3a9cec[_0x55f3('0x1ea')]&&0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(_0x3a9cec[_0x55f3('0x1ea')])[_0x55f3('0xf')]&&_0x687cd3&&_0x3a9cec[_0x55f3('0x1ea')][_0x687cd3]&&_0x27728e[_0x55f3('0xb3d')]('',_0x1c1c3d[_0x55f3('0x319')][_0x55f3('0x322')][0x0],null,_0x3a9cec['mesh'][_0x687cd3]),this[_0x55f3('0xb33')][_0x55f3('0x73')](_0x1c1c3d),delete _0x5122c9[_0x166db6];}}}},{'key':_0x55f3('0xa0f'),'value':function(_0x21fa16,_0x5122c9){_0x21fa16=new _0x1abcbe[(_0x55f3('0x9a'))]({'targetObj':_0x21fa16,'offsetHeight':_0x5122c9[_0x55f3('0x521')]});this[_0x55f3('0xb35')]['push'](_0x21fa16);}},{'key':_0x55f3('0x32e'),'value':function(){this[_0x55f3('0x9fc')]={},this[_0x55f3('0x9fb')][_0x55f3('0xf')]=0x0,this[_0x55f3('0xb2d')][_0x55f3('0xf')]=0x0,this[_0x55f3('0xb30')][_0x55f3('0x93')]();var _0x21fa16=!0x0,_0x5122c9=!0x1,_0x40fd49=void 0x0;try{for(var _0x52349f,_0x166db6=(0x0,_0x4e584a[_0x55f3('0x9')])(this[_0x55f3('0xb2e')]);!(_0x21fa16=(_0x52349f=_0x166db6[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x21fa16=!0x0)_0x52349f[_0x55f3('0x12')][_0x55f3('0x93')]();}catch(_0x4d8e83){_0x5122c9=!0x0,_0x40fd49=_0x4d8e83;}finally{try{!_0x21fa16&&_0x166db6[_0x55f3('0x271')]&&_0x166db6[_0x55f3('0x271')]();}finally{if(_0x5122c9)throw _0x40fd49;}}this[_0x55f3('0xb74')]['length']=0x0,this[_0x55f3('0x9fd')][_0x55f3('0x93')](),this[_0x55f3('0xb32')]={},this[_0x55f3('0xb86')]&&this[_0x55f3('0xb86')][_0x55f3('0x5f2')]();var _0x2317f8=!0x0,_0x5122c9=!(this['tileInstanceModels']={}),_0x40fd49=void 0x0;try{for(var _0x256f5e,_0x12d7c9=(0x0,_0x4e584a['default'])(this[_0x55f3('0xb33')]);!(_0x2317f8=(_0x256f5e=_0x12d7c9[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x2317f8=!0x0)_0x256f5e[_0x55f3('0x12')]['dispose']();}catch(_0xf182ba){_0x5122c9=!0x0,_0x40fd49=_0xf182ba;}finally{try{!_0x2317f8&&_0x12d7c9[_0x55f3('0x271')]&&_0x12d7c9[_0x55f3('0x271')]();}finally{if(_0x5122c9)throw _0x40fd49;}}this[_0x55f3('0xb33')][_0x55f3('0xf')]=0x0,this[_0x55f3('0xa04')]={};}},{'key':_0x55f3('0x336'),'value':function(_0x21fa16){if(this[_0x55f3('0xb30')][_0x55f3('0x2f8')](_0x21fa16),0x0<this['boatFoams'][_0x55f3('0xf')])for(var _0x5122c9=0x0,_0x40fd49=this[_0x55f3('0xb2c')][_0x55f3('0xf')];_0x5122c9<_0x40fd49;_0x5122c9++)this[_0x55f3('0xb2c')][_0x5122c9][_0x55f3('0x336')](_0x21fa16);if(0x0<this[_0x55f3('0xb2e')][_0x55f3('0xf')])for(var _0x52349f=0x0,_0x166db6=this['modelBlendEffectList']['length'];_0x52349f<_0x166db6;_0x52349f++)this['modelBlendEffectList'][_0x52349f][_0x55f3('0x336')](_0x21fa16);if(0x0<this[_0x55f3('0x9fb')][_0x55f3('0xf')])for(var _0x2317f8=0x0,_0x256f5e=this[_0x55f3('0x9fb')][_0x55f3('0xf')];_0x2317f8<_0x256f5e;_0x2317f8++)this[_0x55f3('0x9fb')][_0x2317f8][_0x55f3('0x336')](_0x21fa16);if(0x0<(0x0,_0x16e1f9[_0x55f3('0x9')])(this[_0x55f3('0x9f9')])[_0x55f3('0xf')])for(var _0x52cbca in this[_0x55f3('0x9f9')])this[_0x55f3('0x9f9')][_0x52cbca]['render'](_0x21fa16);if(this[_0x55f3('0x9fa')]&&this['oceanTerrainMat'][_0x55f3('0x4b9')]&&(this[_0x55f3('0x9fa')]['count']+=_0x21fa16*this[_0x55f3('0x9fa')]['speed'],this[_0x55f3('0x9fa')][_0x55f3('0x4b9')][_0x55f3('0x164')][_0x55f3('0x4d8')]['value']=this[_0x55f3('0x9fa')][_0x55f3('0xfc')]),0x0<this[_0x55f3('0xb35')][_0x55f3('0xf')])for(var _0x4d8716=0x0,_0x30bfe2=this[_0x55f3('0xb35')]['length'];_0x4d8716<_0x30bfe2;_0x4d8716++)this[_0x55f3('0xb35')][_0x4d8716][_0x55f3('0x2f8')](_0x21fa16);}}]),_0x5122c9[_0x55f3('0x9')]=_0x256f5e;},function(_0x3e3a55,_0x4ff356,_0x35b892){'use strict';Object[_0x55f3('0x4')](_0x4ff356,_0x55f3('0x7'),{'value':!0x0});var _0x23ae88=_0x2ffc82(_0x35b892(0x22)),_0x2e2a4f=_0x2ffc82(_0x35b892(0x0)),_0x35d173=_0x2ffc82(_0x35b892(0x1)),_0x20bb27=_0x35b892(0x17),_0x480da9=function(_0x3e3a55){if(_0x3e3a55&&_0x3e3a55[_0x55f3('0x7')])return _0x3e3a55;var _0x4ff356={};if(null!=_0x3e3a55)for(var _0x35b892 in _0x3e3a55)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x3e3a55,_0x35b892)&&(_0x4ff356[_0x35b892]=_0x3e3a55[_0x35b892]);return _0x4ff356[_0x55f3('0x9')]=_0x3e3a55,_0x4ff356;}(_0x35b892(0x3d)),_0x553419=_0x2ffc82(_0x35b892(0x117));function _0x2ffc82(_0x3e3a55){return _0x3e3a55&&_0x3e3a55[_0x55f3('0x7')]?_0x3e3a55:{'default':_0x3e3a55};}function _0x34f441(){(0x0,_0x2e2a4f[_0x55f3('0x9')])(this,_0x34f441),this[_0x55f3('0x94')]=(0x0,_0x20bb27[_0x55f3('0x2c')])(),this['enabled']=!0x1,this[_0x55f3('0x5df')]=null,this['outlineSelectList']=[],this[_0x55f3('0xb92')]=!0x1,this[_0x55f3('0xb93')]=!0x1,this[_0x55f3('0xb94')]=null,this[_0x55f3('0xb95')]=null,this[_0x55f3('0xb96')]=null,this[_0x55f3('0xb97')]=!0x1,this[_0x55f3('0xb98')]=!0x1;}(0x0,_0x35d173['default'])(_0x34f441,[{'key':_0x55f3('0x35b'),'value':function(_0x3e3a55){var _0x4ff356=this;this[_0x55f3('0x555')]=!0x0,this[_0x55f3('0x5df')]=new _0x553419[(_0x55f3('0x9'))]({'map':this['map']}),this['screenEffect'][_0x55f3('0x35b')](_0x3e3a55),this['map']['on'](_0x55f3('0x32a'),function(_0x3e3a55){_0x4ff356[_0x55f3('0x5df')]['enabled']&&_0x4ff356[_0x55f3('0x5df')][_0x55f3('0x32a')](_0x3e3a55[_0x55f3('0x32c')],_0x3e3a55[_0x55f3('0x32d')]);});}},{'key':_0x55f3('0xb99'),'value':function(){var _0x4ff356;this[_0x55f3('0x5df')][_0x55f3('0xa16')]&&(_0x4ff356=this)[_0x55f3('0x94')]['on']('mapClickNode',function(_0x3e3a55){_0x3e3a55[_0x55f3('0x67e')]==esmap[_0x55f3('0xb9a')][_0x55f3('0xb9b')]&&(_0x4ff356[_0x55f3('0xb9c')][_0x55f3('0xf')]=0x0,_0x4ff356[_0x55f3('0xb9c')][_0x55f3('0x73')](_0x3e3a55['o3d_']),_0x4ff356[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xb9d')]=_0x4ff356[_0x55f3('0xb9c')]);});}},{'key':_0x55f3('0xa18'),'value':function(_0x3e3a55){_0x3e3a55[_0x55f3('0x220')]&&this[_0x55f3('0x5df')][_0x55f3('0xa16')]['visibleEdgeColor']['setStyle'](_0x3e3a55[_0x55f3('0x220')]),_0x3e3a55[_0x55f3('0xb9e')]&&this[_0x55f3('0x5df')]['outlinePass'][_0x55f3('0xb9e')]['setStyle'](_0x3e3a55[_0x55f3('0xb9e')]),_0x3e3a55[_0x55f3('0xb9f')]&&(this[_0x55f3('0x5df')]['outlinePass'][_0x55f3('0xba0')]=_0x3e3a55[_0x55f3('0xb9f')]),_0x3e3a55[_0x55f3('0xba1')]&&(this[_0x55f3('0x5df')][_0x55f3('0xa16')]['edgeGlow']=_0x3e3a55[_0x55f3('0xba1')]),_0x3e3a55[_0x55f3('0xba2')]&&(this[_0x55f3('0x5df')]['outlinePass'][_0x55f3('0xba2')]=_0x3e3a55[_0x55f3('0xba2')]),_0x3e3a55[_0x55f3('0xba3')]&&(this[_0x55f3('0x5df')]['outlinePass'][_0x55f3('0xba4')]=_0x3e3a55['maskTexture'],this[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xba5')]=!0x0),_0x3e3a55[_0x55f3('0xba6')]=_0x3e3a55[_0x55f3('0xba6')]||2.5,this['screenEffect']['outlinePass'][_0x55f3('0xba7')]=_0x3e3a55[_0x55f3('0x6aa')]?_0x3e3a55[_0x55f3('0xba6')]:0x0;}},{'key':'setObjectOutline','value':function(_0x3e3a55,_0x4ff356){this[_0x55f3('0x5df')]&&(this['screenEffect'][_0x55f3('0xa16')]['selectedObjects'][_0x55f3('0x73')](_0x3e3a55),_0x4ff356?this['updateOutlineStyle'](_0x4ff356):this[_0x55f3('0xa18')](this[_0x55f3('0x5df')][_0x55f3('0xba8')]));}},{'key':_0x55f3('0xa19'),'value':function(_0x3e3a55){if(this['screenEffect']&&0x0<this[_0x55f3('0x5df')][_0x55f3('0xa16')]['selectedObjects']['length'])for(var _0x4ff356=0x0,_0x35b892=this[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xb9d')][_0x55f3('0xf')];_0x4ff356<_0x35b892;_0x4ff356++)if(this[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xb9d')][_0x4ff356][_0x55f3('0x1c7')]===_0x3e3a55['uuid']){this[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xb9d')]['splice'](_0x4ff356,0x1);break;}}},{'key':_0x55f3('0xba9'),'value':function(){this['screenEffect']&&(this[_0x55f3('0x5df')][_0x55f3('0xa16')][_0x55f3('0xb9d')][_0x55f3('0xf')]=0x0);}},{'key':_0x55f3('0xa1c'),'value':function(_0x3e3a55){var _0x35b892=this,_0x3e3a55=_0x3e3a55[_0x55f3('0x8fe')],_0x2e2a4f=void 0x0===_0x3e3a55||_0x3e3a55;return new _0x23ae88[(_0x55f3('0x9'))](function(_0x3e3a55){var _0x4ff356;_0x35b892[_0x55f3('0xb93')]||(_0x2e2a4f?(_0x35b892[_0x55f3('0xb94')]||(_0x35b892['screenPlane']=new esmap[(_0x55f3('0xbaa'))](_0x35b892[_0x55f3('0x94')])),_0x35b892[_0x55f3('0xb95')]?(_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')][_0x55f3('0x3f')]=_0x35b892[_0x55f3('0xb95')][_0x55f3('0x3f')],_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')][_0x55f3('0x3f')][_0x55f3('0x338')]=_0x2e2a4f,_0x3e3a55()):(_0x35b892[_0x55f3('0xb95')]=new _0x480da9[(_0x55f3('0xbac'))]({}),_0x4ff356=_0x35b892[_0x55f3('0xb95')][_0x55f3('0x2fc')](),_0x35b892[_0x55f3('0xb93')]=!0x0,setTimeout(function(){_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')]['material']=_0x4ff356,_0x35b892[_0x55f3('0xb97')]=!0x0,_0x35b892[_0x55f3('0xb93')]=!0x1,_0x3e3a55();},0x12c))):_0x35b892['screenPlane']&&(_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')][_0x55f3('0x3f')][_0x55f3('0x338')]=_0x2e2a4f,_0x3e3a55()));});}},{'key':_0x55f3('0xbad'),'value':function(_0x3e3a55){var _0x35b892=this,_0x3e3a55=_0x3e3a55['isShow'],_0x2e2a4f=void 0x0===_0x3e3a55||_0x3e3a55;return new _0x23ae88[(_0x55f3('0x9'))](function(_0x3e3a55){var _0x4ff356;_0x35b892[_0x55f3('0xb93')]||(_0x2e2a4f?(_0x35b892['screenPlane']||(_0x35b892['screenPlane']=new esmap[(_0x55f3('0xbaa'))](_0x35b892['map'])),_0x35b892[_0x55f3('0xb96')]?(_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')][_0x55f3('0x3f')]=_0x35b892[_0x55f3('0xb96')][_0x55f3('0x3f')],_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')]['material'][_0x55f3('0x338')]=_0x2e2a4f,_0x3e3a55()):(_0x35b892[_0x55f3('0xb96')]=new _0x480da9['PlaneSnowEffect']({}),_0x4ff356=_0x35b892['snowScreenEffect'][_0x55f3('0x2fc')](),_0x35b892['isLockCreateScreenPlane']=!0x0,setTimeout(function(){_0x35b892[_0x55f3('0xb94')][_0x55f3('0xbab')]['material']=_0x4ff356,_0x35b892[_0x55f3('0xb98')]=!0x0,_0x35b892[_0x55f3('0xb93')]=!0x1,_0x3e3a55();},0x12c))):_0x35b892[_0x55f3('0xb94')]&&(_0x35b892['screenPlane']['plane'][_0x55f3('0x3f')][_0x55f3('0x338')]=_0x2e2a4f,_0x3e3a55()));});}},{'key':'removePlaneScreenEffect','value':function(){}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x5df')]&&(this[_0x55f3('0x5df')][_0x55f3('0x93')](),this[_0x55f3('0xba9')](),this['outlineSelectList']['length']=0x0);}},{'key':_0x55f3('0x336'),'value':function(_0x3e3a55){this[_0x55f3('0x5df')]&&this['map'][_0x55f3('0x46')][_0x55f3('0x989')]&&this[_0x55f3('0x5df')][_0x55f3('0x336')](),this[_0x55f3('0xb95')]&&this[_0x55f3('0xb95')][_0x55f3('0x4b9')]&&this['rainScreenEffect'][_0x55f3('0x336')](_0x3e3a55),this[_0x55f3('0xb96')]&&this[_0x55f3('0xb96')][_0x55f3('0x4b9')]&&this['snowScreenEffect']['render'](_0x3e3a55);}}]),_0x4ff356[_0x55f3('0x9')]=_0x34f441;},function(_0x3c9499,_0x3e5178,_0x5e074c){'use strict';Object[_0x55f3('0x4')](_0x3e5178,'__esModule',{'value':!0x0});var _0x5cd3d4=_0x20d789(_0x5e074c(0x12)),_0x55721f=_0x20d789(_0x5e074c(0x0)),_0x2c14f1=_0x20d789(_0x5e074c(0x1));function _0x20d789(_0x3c9499){return _0x3c9499&&_0x3c9499['__esModule']?_0x3c9499:{'default':_0x3c9499};}function _0x15c57e(_0x3c9499){_0x3c9499=_0x3c9499['map'];(0x0,_0x55721f[_0x55f3('0x9')])(this,_0x15c57e),this[_0x55f3('0x94')]=_0x3c9499,this['enabled']=!0x0,this[_0x55f3('0xbae')]=null,this[_0x55f3('0xbaf')]=!0x1,this[_0x55f3('0xbb0')]=null,this[_0x55f3('0xbb1')]=null,this[_0x55f3('0xbb2')]=null,this[_0x55f3('0xbb3')]=null,this[_0x55f3('0xa16')]=null,this[_0x55f3('0x1d9')]=0x1,this[_0x55f3('0xbb4')]={'width':this[_0x55f3('0x94')][_0x55f3('0x41b')]['w_'],'height':this[_0x55f3('0x94')][_0x55f3('0x41b')]['h_']},this['scaleSize']={'width':this[_0x55f3('0x94')][_0x55f3('0x41b')]['w_']*this[_0x55f3('0x1d9')],'height':this[_0x55f3('0x94')][_0x55f3('0x41b')]['h_']*this[_0x55f3('0x1d9')]},this[_0x55f3('0xbb5')]=new THREE['Layers'](),this['bloomLayer'][_0x55f3('0x39')](0x1),this[_0x55f3('0xa1b')]={},this[_0x55f3('0xbb6')]=new THREE[(_0x55f3('0x437'))]({'color':'black'}),this[_0x55f3('0xbb7')]=new THREE['Color'](0x0),this['originBgTexture']=null,this[_0x55f3('0xa1a')]=null,this['defaultOutlineConfig']=null;}_0x5e074c(0x17),_0x5e074c(0x118),_0x5e074c(0x119),_0x5e074c(0x11a),_0x5e074c(0x11b),_0x5e074c(0x11c),_0x5e074c(0x11d),_0x5e074c(0x11e),_0x5e074c(0x11f),(0x0,_0x2c14f1[_0x55f3('0x9')])(_0x15c57e,[{'key':'init','value':function(_0x3c9499){var _0x3e5178,_0x5e074c=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')],_0x55721f=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')],_0x2c14f1=this['map'][_0x55f3('0x41b')][_0x55f3('0x306')],_0x20d789=(_0x5e074c[_0x55f3('0xbb8')](),this[_0x55f3('0x1d9')]=1.5,this[_0x55f3('0x94')][_0x55f3('0x46')][_0x55f3('0xbb9')]||this[_0x55f3('0x94')][_0x55f3('0x46')][_0x55f3('0xbba')]),_0x15c57e=(_0x5e074c[_0x55f3('0x4d1')]['isWebGL2']?(_0x15c57e={'format':_0x20d789?THREE['RGBAFormat']:THREE[_0x55f3('0x417')],'stencilBuffer':!0x1},_0x226684=_0x5e074c[_0x55f3('0xbbb')](new THREE[(_0x55f3('0x1b4'))]()),_0x226684=new THREE[(_0x55f3('0xbbc'))](_0x226684[_0x55f3('0x32c')],_0x226684[_0x55f3('0x32d')],_0x15c57e),this[_0x55f3('0xbae')]=new THREE['EffectComposer'](_0x5e074c,_0x226684),this[_0x55f3('0xbaf')]=!0x0):this[_0x55f3('0xbae')]=new THREE[(_0x55f3('0xbbd'))](_0x5e074c),new THREE[(_0x55f3('0xbbe'))](_0x55721f,_0x2c14f1)),_0x226684=(this['fxaaPass']=new THREE['ShaderPass'](THREE[_0x55f3('0xbbf')]),null);this['isWebGL2']||((_0x226684=new THREE['ShaderPass'](THREE['CopyShader']))['renderToScreen']=!0x1),_0x3c9499[_0x55f3('0xbc0')]&&(this[_0x55f3('0xba8')]=(0x0,_0x5cd3d4[_0x55f3('0x9')])({'color':_0x55f3('0x339'),'edgeWidth':0x3,'edgeSpread':0x0,'edgeThickness':0x1,'blink':!0x1,'blinkPeriod':2.5},_0x3c9499[_0x55f3('0xbc0')]),_0x3e5178=esmap['ESMapUtil'][_0x55f3('0x981')](),this[_0x55f3('0xa16')]=new THREE[(_0x55f3('0xbc1'))](new THREE['Vector2'](this[_0x55f3('0xbb4')]['width'],this['originSize'][_0x55f3('0x32d')]),_0x55721f,_0x2c14f1),this[_0x55f3('0xa16')]['visibleEdgeColor']['setStyle'](this[_0x55f3('0xba8')][_0x55f3('0x220')]),this[_0x55f3('0xba8')][_0x55f3('0xb9e')]&&this['outlinePass'][_0x55f3('0xb9e')]['setStyle'](this['defaultOutlineConfig'][_0x55f3('0xb9e')]),this[_0x55f3('0xa16')]['edgeStrength']=this[_0x55f3('0xba8')]['edgeWidth'],this[_0x55f3('0xa16')][_0x55f3('0xba2')]=this[_0x55f3('0xba8')][_0x55f3('0xba2')],_0x3e5178[_0x55f3('0x984')]&&0x0<=[_0x55f3('0x985'),_0x55f3('0x986'),_0x55f3('0x987')][_0x55f3('0x4b')](_0x3e5178[_0x55f3('0x984')])&&(this[_0x55f3('0xa16')]['edgeStrength']*=0x4,this['outlinePass'][_0x55f3('0xba2')]*=0x4),this[_0x55f3('0xa16')][_0x55f3('0xbc2')]=this[_0x55f3('0xba8')][_0x55f3('0xba1')],this[_0x55f3('0xa16')][_0x55f3('0xba7')]=this[_0x55f3('0xba8')][_0x55f3('0x6aa')]?this['defaultOutlineConfig'][_0x55f3('0xba6')]:0x0),_0x3c9499['unrealBloom']&&(_0x55721f=(0x0,_0x5cd3d4[_0x55f3('0x9')])({'bloomStrength':0x1,'bloomThreshold':0x0,'bloomRadius':0x0,'sceneBackground':new THREE['Color'](0x0)},_0x3c9499['unrealBloom']),this['bloomPass']=new THREE['UnrealBloomPass'](new THREE['Vector2'](this['originSize'][_0x55f3('0x32c')],this['originSize']['height']),1.5,0.4,0.85),this[_0x55f3('0xbb2')][_0x55f3('0xbc3')]=!0x1,this[_0x55f3('0xbb2')][_0x55f3('0xbc4')]=_0x55721f[_0x55f3('0xbc5')],this['bloomPass'][_0x55f3('0xbc6')]=_0x55721f[_0x55f3('0xbc7')],this[_0x55f3('0xbb2')][_0x55f3('0x21e')]=_0x55721f['bloomRadius'],this[_0x55f3('0xbb0')]=new THREE[(_0x55f3('0xbbd'))](_0x5e074c),this[_0x55f3('0xbb0')][_0x55f3('0xbc3')]=!0x1,this[_0x55f3('0xbb0')][_0x55f3('0xbc8')](_0x15c57e),this[_0x55f3('0xbaf')]||this[_0x55f3('0xbb0')][_0x55f3('0xbc8')](this['fxaaPass']),this[_0x55f3('0xbaf')]||this[_0x55f3('0xbb0')][_0x55f3('0xbc8')](_0x226684),this['bloomComposer'][_0x55f3('0xbc8')](this[_0x55f3('0xbb2')]),this['bloomFinalPass']=new THREE[(_0x55f3('0xbc9'))](new THREE[(_0x55f3('0x1e5'))]({'uniforms':{'baseTexture':{'value':null},'bloomTexture':{'value':this['bloomComposer'][_0x55f3('0xbca')][_0x55f3('0x1c6')]}},'vertexShader':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20varying\x20vec2\x20vUv;\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20void\x20main()\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fragmentShader':_0x55f3('0xbcb'),'defines':{}}),_0x55f3('0xbcc')),this[_0x55f3('0xbb3')][_0x55f3('0xbcd')]=!0x0,this['map'][_0x55f3('0x41b')][_0x55f3('0x416')]['background']?this['map']['mapView'][_0x55f3('0x416')]['background']instanceof THREE[_0x55f3('0x1ca')]&&(this['originBgTexture']=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x454')]):_0x20d789||(this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x454')]=_0x55721f['sceneBackground'],esmap['ESEffectTool'][_0x55f3('0x46')][_0x55f3('0x978')]||(_0x2c14f1=new THREE[(_0x55f3('0x1b7'))](this['map'][_0x55f3('0x3a')][_0x55f3('0xbce')]),this[_0x55f3('0xa1a')]=new THREE[(_0x55f3('0x437'))]({'color':_0x2c14f1,'side':THREE[_0x55f3('0x414')]}),this[_0x55f3('0xa1a')][_0x55f3('0x44d')]=function(_0x3c9499){_0x3c9499[_0x55f3('0x57')]=_0x3c9499[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<fog_vertex>',_0x55f3('0xbcf'));},(_0x3e5178=new THREE['Mesh'](new THREE[(_0x55f3('0x415'))](0x1,0x1,0x1),this[_0x55f3('0xa1a')]))['scale'][_0x55f3('0x39')](0x989680,0x989680,0x989680),this[_0x55f3('0x94')][_0x55f3('0x41b')]['scene'][_0x55f3('0x1c3')](_0x3e5178)))),this[_0x55f3('0xbae')][_0x55f3('0xbc8')](_0x15c57e),_0x3c9499[_0x55f3('0x4ad')]&&this['composer']['addPass'](this[_0x55f3('0xbb3')]),_0x3c9499[_0x55f3('0xbc0')]&&this[_0x55f3('0xbae')][_0x55f3('0xbc8')](this['outlinePass']),this[_0x55f3('0xbaf')]||this['composer'][_0x55f3('0xbc8')](this[_0x55f3('0xbb1')]),this[_0x55f3('0x86c')](this[_0x55f3('0x1d9')]);}},{'key':_0x55f3('0x86c'),'value':function(_0x3c9499){this['scale']=_0x3c9499,this['size']={'width':this[_0x55f3('0xbb4')][_0x55f3('0x32c')]*this[_0x55f3('0x1d9')],'height':this['originSize'][_0x55f3('0x32d')]*this[_0x55f3('0x1d9')]};}},{'key':_0x55f3('0x32a'),'value':function(_0x3c9499,_0x3e5178){this['originSize'][_0x55f3('0x32c')]=_0x3c9499,this[_0x55f3('0xbb4')][_0x55f3('0x32d')]=_0x3e5178,this[_0x55f3('0x86c')](this[_0x55f3('0x1d9')]);}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0xa1a')]&&(this['relaceBgMaterial'][_0x55f3('0x93')](),this[_0x55f3('0xa1a')]=null),this[_0x55f3('0xbd0')]&&(this[_0x55f3('0xbd0')]=null);}},{'key':'render','value':function(){this['composer']&&(this['bloomComposer']&&this[_0x55f3('0xbd1')](),this[_0x55f3('0xbae')][_0x55f3('0x336')](),'3D'==this[_0x55f3('0x94')]['viewMode_']?this[_0x55f3('0x94')][_0x55f3('0x41b')]['rendererCss2D']['render'](this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')],this[_0x55f3('0x94')]['mapView'][_0x55f3('0x306')]):(this[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer'][_0x55f3('0x336')](this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')],this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0xbd2')]),this['map'][_0x55f3('0x41b')][_0x55f3('0xbd3')][_0x55f3('0x336')](this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')],this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0xbd2')])),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')]['clearDepth'](),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0x336')](this['map'][_0x55f3('0x41b')]['sceneOrtho'],this[_0x55f3('0x94')]['mapView']['cameraOrtho']));}},{'key':_0x55f3('0xbd1'),'value':function(){this[_0x55f3('0xbd0')]&&(this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x454')]=this[_0x55f3('0xbb7')]),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1e8')]&&(this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1e8')][_0x55f3('0xbd4')]||(this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['fog'][_0x55f3('0xbd4')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x1ba')](this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['fog'][_0x55f3('0x220')])),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1e8')][_0x55f3('0x220')][_0x55f3('0x1ba')](this[_0x55f3('0xbb7')])),this['map'][_0x55f3('0x41b')]['scene'][_0x55f3('0x65f')](this['darkenNonBloomed'][_0x55f3('0xb')](this)),this[_0x55f3('0xbb0')]['render'](),this[_0x55f3('0xbd0')]&&(this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x454')]=this[_0x55f3('0xbd0')]),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1e8')]&&this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1e8')][_0x55f3('0x220')][_0x55f3('0x1ba')](this['map']['mapView']['scene'][_0x55f3('0x1e8')][_0x55f3('0xbd4')]),this['map'][_0x55f3('0x41b')][_0x55f3('0x416')]['traverse'](this[_0x55f3('0xbd5')][_0x55f3('0xb')](this));}},{'key':_0x55f3('0xbd6'),'value':function(_0x3c9499){_0x3c9499[_0x55f3('0x3f')]&&!0x1===this['bloomLayer'][_0x55f3('0x5d')](_0x3c9499['layers'])&&(this[_0x55f3('0xa1b')][_0x3c9499['uuid']]=_0x3c9499[_0x55f3('0x3f')],!0x1!==_0x3c9499['material'][_0x55f3('0x338')]&&(_0x55f3('0xbd7')==_0x3c9499['type']||_0x3c9499[_0x55f3('0x3f')]&&_0x3c9499['material'][_0x55f3('0xa15')]?_0x3c9499['material'][_0x55f3('0x338')]=!0x1:_0x3c9499[_0x55f3('0x3f')]=this['darkMaterial']));}},{'key':_0x55f3('0xbd5'),'value':function(_0x3c9499){this['materials'][_0x3c9499['uuid']]&&(_0x3c9499[_0x55f3('0x3f')]=this['materials'][_0x3c9499['uuid']],delete this['materials'][_0x3c9499[_0x55f3('0x1c7')]]),_0x55f3('0xbd7')==_0x3c9499[_0x55f3('0xeb')]&&(_0x3c9499[_0x55f3('0x3f')]['visible']=!0x0),_0x3c9499[_0x55f3('0x3f')]&&_0x3c9499[_0x55f3('0x3f')][_0x55f3('0xa15')]&&(_0x3c9499[_0x55f3('0x3f')][_0x55f3('0x338')]=!0x0);}},{'key':_0x55f3('0xd2'),'set':function(_0x3c9499){this['bloomComposer']&&this[_0x55f3('0xbb0')][_0x55f3('0xd7')](_0x3c9499['width'],_0x3c9499[_0x55f3('0x32d')]),this[_0x55f3('0xbaf')]||this[_0x55f3('0xbb1')][_0x55f3('0x164')][_0x55f3('0x32b')][_0x55f3('0x12')][_0x55f3('0x39')](0x1/_0x3c9499[_0x55f3('0x32c')],0x1/_0x3c9499[_0x55f3('0x32d')]),this[_0x55f3('0xbae')]&&this[_0x55f3('0xbae')][_0x55f3('0xd7')](_0x3c9499[_0x55f3('0x32c')],_0x3c9499['height']);}}]),_0x3e5178['default']=_0x15c57e;},function(_0x31251f,_0x5165e5,_0xb5f5b7){'use strict';var _0x426d09,_0x43ae9e,_0xb5f5b7=_0xb5f5b7(0x12),_0xb5f5b7=_0xb5f5b7&&_0xb5f5b7[_0x55f3('0x7')]?_0xb5f5b7:{'default':_0xb5f5b7};function _0x4990f9(_0x31251f){this[_0x55f3('0xa0b')]=new THREE['Mesh'](_0x43ae9e,_0x31251f);}THREE[_0x55f3('0xbbd')]=function(_0x31251f,_0x5165e5){var _0xb5f5b7,_0x426d09;this[_0x55f3('0x4d2')]=_0x31251f,void 0x0===_0x5165e5?(_0xb5f5b7={'minFilter':THREE[_0x55f3('0x542')],'magFilter':THREE[_0x55f3('0x542')],'format':THREE[_0x55f3('0xbd8')],'stencilBuffer':!0x1},_0x426d09=_0x31251f[_0x55f3('0xbd9')](new THREE[(_0x55f3('0x1b4'))]()),this[_0x55f3('0xbda')]=_0x31251f[_0x55f3('0xbb8')](),this[_0x55f3('0xbdb')]=_0x426d09[_0x55f3('0x32c')],this[_0x55f3('0xbdc')]=_0x426d09[_0x55f3('0x32d')],(_0x5165e5=new THREE[(_0x55f3('0x773'))](this[_0x55f3('0xbdb')]*this['_pixelRatio'],this[_0x55f3('0xbdc')]*this['_pixelRatio'],_0xb5f5b7))[_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xbdd')):(this[_0x55f3('0xbda')]=0x1,this[_0x55f3('0xbdb')]=_0x5165e5[_0x55f3('0x32c')],this[_0x55f3('0xbdc')]=_0x5165e5[_0x55f3('0x32d')]),this[_0x55f3('0xbde')]=_0x5165e5,this['renderTarget2']=_0x5165e5['clone'](),this['renderTarget2']['texture']['name']='EffectComposer.rt2',this[_0x55f3('0xbdf')]=this[_0x55f3('0xbde')],this[_0x55f3('0xbe0')]=this[_0x55f3('0xbca')],this[_0x55f3('0xbc3')]=!0x0,this[_0x55f3('0xbe1')]=[],void 0x0===THREE[_0x55f3('0xbe2')]&&console[_0x55f3('0x1f5')](_0x55f3('0xbe3')),void 0x0===THREE[_0x55f3('0xbc9')]&&console[_0x55f3('0x1f5')](_0x55f3('0xbe4')),this[_0x55f3('0xbe5')]=new THREE['ShaderPass'](THREE[_0x55f3('0xbe2')]),this[_0x55f3('0xbe6')]=new THREE[(_0x55f3('0xbe7'))]();},(0x0,_0xb5f5b7[_0x55f3('0x9')])(THREE[_0x55f3('0xbbd')][_0x55f3('0x15')],{'swapBuffers':function(){var _0x31251f=this[_0x55f3('0xbe0')];this[_0x55f3('0xbe0')]=this[_0x55f3('0xbdf')],this[_0x55f3('0xbdf')]=_0x31251f;},'addPass':function(_0x31251f){this[_0x55f3('0xbe1')]['push'](_0x31251f);var _0x5165e5=this['renderer']['getDrawingBufferSize'](new THREE[(_0x55f3('0x1b4'))]());_0x31251f[_0x55f3('0xd7')](_0x5165e5[_0x55f3('0x32c')],_0x5165e5[_0x55f3('0x32d')]);},'insertPass':function(_0x31251f,_0x5165e5){this['passes'][_0x55f3('0x80')](_0x5165e5,0x0,_0x31251f);},'isLastEnabledPass':function(_0x31251f){for(var _0x5165e5=_0x31251f+0x1;_0x5165e5<this[_0x55f3('0xbe1')][_0x55f3('0xf')];_0x5165e5++)if(this[_0x55f3('0xbe1')][_0x5165e5]['enabled'])return!0x1;return!0x0;},'render':function(_0x31251f){void 0x0===_0x31251f&&(_0x31251f=this['clock'][_0x55f3('0xbe8')]());for(var _0x5165e5,_0xb5f5b7,_0x426d09=this[_0x55f3('0x4d2')][_0x55f3('0x765')](),_0x43ae9e=!0x1,_0x4990f9=this[_0x55f3('0xbe1')][_0x55f3('0xf')],_0x71e3b1=0x0;_0x71e3b1<_0x4990f9;_0x71e3b1++)!0x1!==(_0xb5f5b7=this[_0x55f3('0xbe1')][_0x71e3b1])['enabled']&&(_0xb5f5b7[_0x55f3('0xbc3')]=this[_0x55f3('0xbc3')]&&this['isLastEnabledPass'](_0x71e3b1),_0xb5f5b7[_0x55f3('0x336')](this[_0x55f3('0x4d2')],this['writeBuffer'],this['readBuffer'],_0x31251f,_0x43ae9e),_0xb5f5b7[_0x55f3('0xbcd')]&&(_0x43ae9e&&((_0x5165e5=this[_0x55f3('0x4d2')][_0x55f3('0xbe9')])[_0x55f3('0xbea')](_0x5165e5['NOTEQUAL'],0x1,0xffffffff),this[_0x55f3('0xbe5')][_0x55f3('0x336')](this[_0x55f3('0x4d2')],this['writeBuffer'],this[_0x55f3('0xbe0')],_0x31251f),_0x5165e5[_0x55f3('0xbea')](_0x5165e5[_0x55f3('0xbeb')],0x1,0xffffffff)),this[_0x55f3('0xbec')]()),void 0x0!==THREE[_0x55f3('0xbed')]&&(_0xb5f5b7 instanceof THREE[_0x55f3('0xbed')]?_0x43ae9e=!0x0:_0xb5f5b7 instanceof THREE[_0x55f3('0xbee')]&&(_0x43ae9e=!0x1)));this[_0x55f3('0x4d2')]['setRenderTarget'](_0x426d09);},'reset':function(_0x31251f){var _0x5165e5;void 0x0===_0x31251f&&(_0x5165e5=this[_0x55f3('0x4d2')][_0x55f3('0xbd9')](new THREE[(_0x55f3('0x1b4'))]()),this['_pixelRatio']=this[_0x55f3('0x4d2')][_0x55f3('0xbb8')](),this[_0x55f3('0xbdb')]=_0x5165e5[_0x55f3('0x32c')],this[_0x55f3('0xbdc')]=_0x5165e5[_0x55f3('0x32d')],(_0x31251f=this['renderTarget1'][_0x55f3('0x1b0')]())[_0x55f3('0xd7')](this[_0x55f3('0xbdb')]*this[_0x55f3('0xbda')],this[_0x55f3('0xbdc')]*this[_0x55f3('0xbda')])),this[_0x55f3('0xbde')]['dispose'](),this[_0x55f3('0xbca')]['dispose'](),this[_0x55f3('0xbde')]=_0x31251f,this[_0x55f3('0xbca')]=_0x31251f[_0x55f3('0x1b0')](),this['writeBuffer']=this[_0x55f3('0xbde')],this[_0x55f3('0xbe0')]=this['renderTarget2'];},'setSize':function(_0x31251f,_0x5165e5){this[_0x55f3('0xbdb')]=_0x31251f,this[_0x55f3('0xbdc')]=_0x5165e5;var _0xb5f5b7=this['_width']*this[_0x55f3('0xbda')],_0x426d09=this[_0x55f3('0xbdc')]*this['_pixelRatio'];this[_0x55f3('0xbde')][_0x55f3('0xd7')](_0xb5f5b7,_0x426d09),this['renderTarget2']['setSize'](_0xb5f5b7,_0x426d09);for(var _0x43ae9e=0x0;_0x43ae9e<this[_0x55f3('0xbe1')][_0x55f3('0xf')];_0x43ae9e++)this['passes'][_0x43ae9e]['setSize'](_0xb5f5b7,_0x426d09);},'setPixelRatio':function(_0x31251f){this['_pixelRatio']=_0x31251f,this[_0x55f3('0xd7')](this[_0x55f3('0xbdb')],this['_height']);}}),THREE['Pass']=function(){this[_0x55f3('0x555')]=!0x0,this[_0x55f3('0xbcd')]=!0x0,this['clear']=!0x1,this['renderToScreen']=!0x1;},(0x0,_0xb5f5b7['default'])(THREE[_0x55f3('0xbef')]['prototype'],{'setSize':function(){},'render':function(){console[_0x55f3('0x1f5')](_0x55f3('0xbf0'));}}),THREE[_0x55f3('0xbef')]['FullScreenQuad']=(_0x426d09=new THREE[(_0x55f3('0x75d'))](-0x1,0x1,0x1,-0x1,0x0,0x1),_0x43ae9e=new THREE['PlaneBufferGeometry'](0x2,0x2),Object[_0x55f3('0x4')](_0x4990f9['prototype'],_0x55f3('0x3f'),{'get':function(){return this[_0x55f3('0xa0b')]['material'];},'set':function(_0x31251f){this[_0x55f3('0xa0b')][_0x55f3('0x3f')]=_0x31251f;}}),(0x0,_0xb5f5b7['default'])(_0x4990f9[_0x55f3('0x15')],{'render':function(_0x31251f){_0x31251f[_0x55f3('0x336')](this[_0x55f3('0xa0b')],_0x426d09);}}),_0x4990f9);},function(_0x1288b0,_0x2e1521,_0x2df3c3){'use strict';var _0x186a7c=_0x5a0798(_0x2df3c3(0x21)),_0x2df3c3=_0x5a0798(_0x2df3c3(0x12));function _0x5a0798(_0x1288b0){return _0x1288b0&&_0x1288b0[_0x55f3('0x7')]?_0x1288b0:{'default':_0x1288b0};}THREE[_0x55f3('0xbbe')]=function(_0x1288b0,_0x2e1521,_0x2df3c3,_0x186a7c,_0x5a0798){THREE[_0x55f3('0xbef')]['call'](this),this[_0x55f3('0x416')]=_0x1288b0,this['camera']=_0x2e1521,this[_0x55f3('0xbf1')]=_0x2df3c3,this[_0x55f3('0xbf2')]=_0x186a7c,this['clearAlpha']=void 0x0!==_0x5a0798?_0x5a0798:0x0,this['clear']=!0x0,this['clearDepth']=!0x1,this[_0x55f3('0xbcd')]=!0x1;},THREE[_0x55f3('0xbbe')][_0x55f3('0x15')]=(0x0,_0x2df3c3['default'])((0x0,_0x186a7c['default'])(THREE[_0x55f3('0xbef')]['prototype']),{'constructor':THREE[_0x55f3('0xbbe')],'render':function(_0x1288b0,_0x2e1521,_0x2df3c3){var _0x186a7c,_0x5a0798,_0x8ee13d=_0x1288b0[_0x55f3('0xbf3')];_0x1288b0[_0x55f3('0xbf3')]=!0x1,this[_0x55f3('0x416')][_0x55f3('0xbf1')]=this[_0x55f3('0xbf1')],this[_0x55f3('0xbf2')]&&(_0x186a7c=_0x1288b0[_0x55f3('0xbf4')]()[_0x55f3('0x1bb')](),_0x5a0798=_0x1288b0[_0x55f3('0xbf5')](),_0x1288b0[_0x55f3('0xbf6')](this[_0x55f3('0xbf2')],this[_0x55f3('0xbf7')])),this[_0x55f3('0xbf8')]&&_0x1288b0[_0x55f3('0xbf8')](),_0x1288b0[_0x55f3('0x76c')](this[_0x55f3('0xbc3')]?null:_0x2df3c3),this['clear']&&_0x1288b0['clear'](_0x1288b0[_0x55f3('0xbf9')],_0x1288b0[_0x55f3('0xbfa')],_0x1288b0[_0x55f3('0xbfb')]),_0x1288b0[_0x55f3('0x336')](this['scene'],this[_0x55f3('0x306')]),this[_0x55f3('0xbf2')]&&_0x1288b0[_0x55f3('0xbf6')](_0x186a7c,_0x5a0798),this[_0x55f3('0x416')]['overrideMaterial']=null,_0x1288b0[_0x55f3('0xbf3')]=_0x8ee13d;}});},function(_0x4186a9,_0x3c5dc8,_0x45892e){'use strict';var _0x3d70c5=_0x45273b(_0x45892e(0x21)),_0x5081ce=_0x45273b(_0x45892e(0x12));function _0x45273b(_0x4186a9){return _0x4186a9&&_0x4186a9[_0x55f3('0x7')]?_0x4186a9:{'default':_0x4186a9};}THREE[_0x55f3('0xbc9')]=function(_0x4186a9,_0x3c5dc8){THREE['Pass'][_0x55f3('0x1')](this),this[_0x55f3('0xbfc')]=void 0x0!==_0x3c5dc8?_0x3c5dc8:_0x55f3('0xbfd'),_0x4186a9 instanceof THREE[_0x55f3('0x1e5')]?(this[_0x55f3('0x164')]=_0x4186a9['uniforms'],this['material']=_0x4186a9):_0x4186a9&&(this[_0x55f3('0x164')]=THREE['UniformsUtils'][_0x55f3('0x1b0')](_0x4186a9[_0x55f3('0x164')]),this[_0x55f3('0x3f')]=new THREE[(_0x55f3('0x1e5'))]({'defines':(0x0,_0x5081ce[_0x55f3('0x9')])({},_0x4186a9[_0x55f3('0x163')]),'uniforms':this['uniforms'],'vertexShader':_0x4186a9[_0x55f3('0x57')],'fragmentShader':_0x4186a9[_0x55f3('0x58')]})),this[_0x55f3('0xbfe')]=new THREE[(_0x55f3('0xbef'))][(_0x55f3('0xbff'))](this['material']);},THREE[_0x55f3('0xbc9')]['prototype']=(0x0,_0x5081ce[_0x55f3('0x9')])((0x0,_0x3d70c5['default'])(THREE['Pass'][_0x55f3('0x15')]),{'constructor':THREE[_0x55f3('0xbc9')],'render':function(_0x4186a9,_0x3c5dc8,_0x45892e){this[_0x55f3('0x164')][this[_0x55f3('0xbfc')]]&&(this['uniforms'][this['textureID']][_0x55f3('0x12')]=_0x45892e['texture']),this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this[_0x55f3('0x3f')],this['renderToScreen']?_0x4186a9[_0x55f3('0x76c')](null):(_0x4186a9[_0x55f3('0x76c')](_0x3c5dc8),this['clear']&&_0x4186a9[_0x55f3('0x785')](_0x4186a9[_0x55f3('0xbf9')],_0x4186a9[_0x55f3('0xbfa')],_0x4186a9['autoClearStencil'])),this['fsQuad'][_0x55f3('0x336')](_0x4186a9);}});},function(_0x1a13a9,_0x515959,_0x2fd2e5){'use strict';var _0x568d5d=_0x5ee5ba(_0x2fd2e5(0x21)),_0x2fd2e5=_0x5ee5ba(_0x2fd2e5(0x12));function _0x5ee5ba(_0x1a13a9){return _0x1a13a9&&_0x1a13a9[_0x55f3('0x7')]?_0x1a13a9:{'default':_0x1a13a9};}THREE['UnrealBloomPass']=function(_0x1a13a9,_0x515959,_0x2fd2e5,_0x568d5d){THREE[_0x55f3('0xbef')][_0x55f3('0x1')](this),this['strength']=void 0x0!==_0x515959?_0x515959:0x1,this[_0x55f3('0x21e')]=_0x2fd2e5,this[_0x55f3('0xbc4')]=_0x568d5d,this[_0x55f3('0x32b')]=void 0x0!==_0x1a13a9?new THREE['Vector2'](_0x1a13a9['x'],_0x1a13a9['y']):new THREE[(_0x55f3('0x1b4'))](0x100,0x100),this['clearColor']=new THREE[(_0x55f3('0x1b7'))](0x0,0x0,0x0);var _0x5ee5ba={'minFilter':THREE['LinearFilter'],'magFilter':THREE['LinearFilter'],'format':THREE[_0x55f3('0xbd8')]},_0x462151=(this[_0x55f3('0xc00')]=[],this[_0x55f3('0xc01')]=[],this[_0x55f3('0xc02')]=0x5,Math[_0x55f3('0x1be')](this['resolution']['x']/0x2)),_0x1b0377=Math[_0x55f3('0x1be')](this[_0x55f3('0x32b')]['y']/0x2);this['renderTargetBright']=new THREE[(_0x55f3('0x773'))](_0x462151,_0x1b0377,_0x5ee5ba),this['renderTargetBright'][_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xc03'),this[_0x55f3('0xc04')]['texture'][_0x55f3('0x76f')]=!0x1;for(var _0x53ff88=0x0;_0x53ff88<this[_0x55f3('0xc02')];_0x53ff88++){var _0xf1f3c3=new THREE[(_0x55f3('0x773'))](_0x462151,_0x1b0377,_0x5ee5ba),_0xf1f3c3=(_0xf1f3c3['texture'][_0x55f3('0x8b')]=_0x55f3('0xc05')+_0x53ff88,_0xf1f3c3['texture'][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xc00')][_0x55f3('0x73')](_0xf1f3c3),new THREE[(_0x55f3('0x773'))](_0x462151,_0x1b0377,_0x5ee5ba));_0xf1f3c3[_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xc06')+_0x53ff88,_0xf1f3c3[_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xc01')][_0x55f3('0x73')](_0xf1f3c3),_0x462151=Math[_0x55f3('0x1be')](_0x462151/0x2),_0x1b0377=Math['round'](_0x1b0377/0x2);}void 0x0===THREE[_0x55f3('0xc07')]&&console[_0x55f3('0x1f5')](_0x55f3('0xc08'));for(var _0x2fd2e5=THREE['LuminosityHighPassShader'],_0x4d25b9=(this[_0x55f3('0xc09')]=THREE[_0x55f3('0xc0a')][_0x55f3('0x1b0')](_0x2fd2e5['uniforms']),this[_0x55f3('0xc09')]['luminosityThreshold'][_0x55f3('0x12')]=_0x568d5d,this['highPassUniforms'][_0x55f3('0xc0b')][_0x55f3('0x12')]=0.01,this[_0x55f3('0xc0c')]=new THREE[(_0x55f3('0x1e5'))]({'uniforms':this[_0x55f3('0xc09')],'vertexShader':_0x2fd2e5[_0x55f3('0x57')],'fragmentShader':_0x2fd2e5[_0x55f3('0x58')],'defines':{}}),this[_0x55f3('0xc0d')]=[],[0x3,0x5,0x7,0x9,0xb]),_0x462151=Math[_0x55f3('0x1be')](this[_0x55f3('0x32b')]['x']/0x2),_0x1b0377=Math['round'](this[_0x55f3('0x32b')]['y']/0x2),_0x53ff88=0x0;_0x53ff88<this[_0x55f3('0xc02')];_0x53ff88++)this[_0x55f3('0xc0d')][_0x55f3('0x73')](this['getSeperableBlurMaterial'](_0x4d25b9[_0x53ff88])),this['separableBlurMaterials'][_0x53ff88][_0x55f3('0x164')]['texSize'][_0x55f3('0x12')]=new THREE['Vector2'](_0x462151,_0x1b0377),_0x462151=Math[_0x55f3('0x1be')](_0x462151/0x2),_0x1b0377=Math[_0x55f3('0x1be')](_0x1b0377/0x2);this[_0x55f3('0xc0e')]=this[_0x55f3('0xc0f')](this[_0x55f3('0xc02')]),this[_0x55f3('0xc0e')][_0x55f3('0x164')]['blurTexture1'][_0x55f3('0x12')]=this['renderTargetsVertical'][0x0][_0x55f3('0x1c6')],this['compositeMaterial'][_0x55f3('0x164')][_0x55f3('0xc10')][_0x55f3('0x12')]=this[_0x55f3('0xc01')][0x1][_0x55f3('0x1c6')],this[_0x55f3('0xc0e')][_0x55f3('0x164')][_0x55f3('0xc11')][_0x55f3('0x12')]=this['renderTargetsVertical'][0x2]['texture'],this['compositeMaterial'][_0x55f3('0x164')][_0x55f3('0xc12')]['value']=this[_0x55f3('0xc01')][0x3]['texture'],this['compositeMaterial'][_0x55f3('0x164')][_0x55f3('0xc13')][_0x55f3('0x12')]=this[_0x55f3('0xc01')][0x4]['texture'],this['compositeMaterial'][_0x55f3('0x164')]['bloomStrength'][_0x55f3('0x12')]=_0x515959,this[_0x55f3('0xc0e')]['uniforms'][_0x55f3('0xc14')]['value']=0.1,this[_0x55f3('0xc0e')]['needsUpdate']=!0x0,this[_0x55f3('0xc0e')][_0x55f3('0x164')]['bloomFactors']['value']=[0x1,0.8,0.6,0.4,0.2],this[_0x55f3('0xc15')]=[new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1),new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1),new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1),new THREE['Vector3'](0x1,0x1,0x1)],this[_0x55f3('0xc0e')][_0x55f3('0x164')][_0x55f3('0xc15')][_0x55f3('0x12')]=this[_0x55f3('0xc15')],void 0x0===THREE['CopyShader']&&console[_0x55f3('0x1f5')](_0x55f3('0xc16'));_0x1a13a9=THREE['CopyShader'];this[_0x55f3('0xc17')]=THREE[_0x55f3('0xc0a')][_0x55f3('0x1b0')](_0x1a13a9[_0x55f3('0x164')]),this[_0x55f3('0xc17')][_0x55f3('0x221')][_0x55f3('0x12')]=0x1,this[_0x55f3('0xc18')]=new THREE[(_0x55f3('0x1e5'))]({'uniforms':this[_0x55f3('0xc17')],'vertexShader':_0x1a13a9[_0x55f3('0x57')],'fragmentShader':_0x1a13a9[_0x55f3('0x58')],'blending':THREE[_0x55f3('0x1d4')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this[_0x55f3('0x555')]=!0x0,this['needsSwap']=!0x1,this[_0x55f3('0xc19')]=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0xc1a')]=0x1,this[_0x55f3('0x7e8')]=new THREE[(_0x55f3('0x437'))](),this['fsQuad']=new THREE[(_0x55f3('0xbef'))][(_0x55f3('0xbff'))](null);},THREE[_0x55f3('0xc1b')]['prototype']=(0x0,_0x2fd2e5[_0x55f3('0x9')])((0x0,_0x568d5d[_0x55f3('0x9')])(THREE[_0x55f3('0xbef')][_0x55f3('0x15')]),{'constructor':THREE[_0x55f3('0xc1b')],'dispose':function(){for(var _0x1a13a9=0x0;_0x1a13a9<this[_0x55f3('0xc00')]['length'];_0x1a13a9++)this[_0x55f3('0xc00')][_0x1a13a9][_0x55f3('0x93')]();for(_0x1a13a9=0x0;_0x1a13a9<this[_0x55f3('0xc01')][_0x55f3('0xf')];_0x1a13a9++)this[_0x55f3('0xc01')][_0x1a13a9][_0x55f3('0x93')]();this[_0x55f3('0xc04')]['dispose']();},'setSize':function(_0x1a13a9,_0x515959){var _0x2fd2e5=Math['round'](_0x1a13a9/0x2),_0x568d5d=Math[_0x55f3('0x1be')](_0x515959/0x2);this[_0x55f3('0xc04')][_0x55f3('0xd7')](_0x2fd2e5,_0x568d5d);for(var _0x5ee5ba=0x0;_0x5ee5ba<this[_0x55f3('0xc02')];_0x5ee5ba++)this['renderTargetsHorizontal'][_0x5ee5ba][_0x55f3('0xd7')](_0x2fd2e5,_0x568d5d),this[_0x55f3('0xc01')][_0x5ee5ba]['setSize'](_0x2fd2e5,_0x568d5d),this[_0x55f3('0xc0d')][_0x5ee5ba][_0x55f3('0x164')][_0x55f3('0xc1c')][_0x55f3('0x12')]=new THREE['Vector2'](_0x2fd2e5,_0x568d5d),_0x2fd2e5=Math[_0x55f3('0x1be')](_0x2fd2e5/0x2),_0x568d5d=Math[_0x55f3('0x1be')](_0x568d5d/0x2);},'render':function(_0x1a13a9,_0x515959,_0x2fd2e5,_0x568d5d,_0x5ee5ba){this[_0x55f3('0xc19')][_0x55f3('0x1ba')](_0x1a13a9['getClearColor']()),this[_0x55f3('0xc1a')]=_0x1a13a9[_0x55f3('0xbf5')]();for(var _0x5b0d14=_0x1a13a9[_0x55f3('0xbf3')],_0x7153f0=(_0x1a13a9[_0x55f3('0xbf3')]=!0x1,_0x1a13a9[_0x55f3('0xbf6')](this[_0x55f3('0xbf2')],0x0),_0x5ee5ba&&_0x1a13a9[_0x55f3('0xbe9')][_0x55f3('0x215')](_0x1a13a9[_0x55f3('0xbe9')]['STENCIL_TEST']),this[_0x55f3('0xbc3')]&&(this[_0x55f3('0xbfe')]['material']=this[_0x55f3('0x7e8')],this['basic']['map']=_0x2fd2e5['texture'],_0x1a13a9[_0x55f3('0x76c')](null),_0x1a13a9[_0x55f3('0x785')](),this['fsQuad']['render'](_0x1a13a9)),this[_0x55f3('0xc09')][_0x55f3('0xbfd')][_0x55f3('0x12')]=_0x2fd2e5['texture'],this[_0x55f3('0xc09')][_0x55f3('0xc1d')][_0x55f3('0x12')]=this[_0x55f3('0xbc4')],this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this[_0x55f3('0xc0c')],_0x1a13a9[_0x55f3('0x76c')](this['renderTargetBright']),_0x1a13a9['clear'](),this[_0x55f3('0xbfe')]['render'](_0x1a13a9),this[_0x55f3('0xc04')]),_0x176538=0x0;_0x176538<this['nMips'];_0x176538++)this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this['separableBlurMaterials'][_0x176538],this[_0x55f3('0xc0d')][_0x176538]['uniforms']['colorTexture'][_0x55f3('0x12')]=_0x7153f0[_0x55f3('0x1c6')],this[_0x55f3('0xc0d')][_0x176538][_0x55f3('0x164')][_0x55f3('0x230')][_0x55f3('0x12')]=THREE['UnrealBloomPass'][_0x55f3('0xc1e')],_0x1a13a9[_0x55f3('0x76c')](this[_0x55f3('0xc00')][_0x176538]),_0x1a13a9['clear'](),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x1a13a9),this[_0x55f3('0xc0d')][_0x176538][_0x55f3('0x164')][_0x55f3('0xc1f')][_0x55f3('0x12')]=this[_0x55f3('0xc00')][_0x176538][_0x55f3('0x1c6')],this[_0x55f3('0xc0d')][_0x176538]['uniforms'][_0x55f3('0x230')]['value']=THREE[_0x55f3('0xc1b')]['BlurDirectionY'],_0x1a13a9[_0x55f3('0x76c')](this['renderTargetsVertical'][_0x176538]),_0x1a13a9[_0x55f3('0x785')](),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x1a13a9),_0x7153f0=this['renderTargetsVertical'][_0x176538];this['fsQuad']['material']=this[_0x55f3('0xc0e')],this['compositeMaterial'][_0x55f3('0x164')][_0x55f3('0xbc7')][_0x55f3('0x12')]=this[_0x55f3('0xbc6')],this[_0x55f3('0xc0e')][_0x55f3('0x164')][_0x55f3('0xc14')][_0x55f3('0x12')]=this[_0x55f3('0x21e')],this[_0x55f3('0xc0e')][_0x55f3('0x164')][_0x55f3('0xc15')]['value']=this[_0x55f3('0xc15')],_0x1a13a9[_0x55f3('0x76c')](this[_0x55f3('0xc00')][0x0]),_0x1a13a9[_0x55f3('0x785')](),this['fsQuad']['render'](_0x1a13a9),this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this[_0x55f3('0xc18')],this['copyUniforms'][_0x55f3('0xbfd')]['value']=this[_0x55f3('0xc00')][0x0][_0x55f3('0x1c6')],_0x5ee5ba&&_0x1a13a9[_0x55f3('0xbe9')][_0x55f3('0x214')](_0x1a13a9[_0x55f3('0xbe9')][_0x55f3('0xc20')]),this['renderToScreen']?_0x1a13a9[_0x55f3('0x76c')](null):_0x1a13a9[_0x55f3('0x76c')](_0x2fd2e5),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x1a13a9),_0x1a13a9['setClearColor'](this['oldClearColor'],this[_0x55f3('0xc1a')]),_0x1a13a9[_0x55f3('0xbf3')]=_0x5b0d14;},'getSeperableBlurMaterial':function(_0x1a13a9){return new THREE['ShaderMaterial']({'defines':{'KERNEL_RADIUS':_0x1a13a9,'SIGMA':_0x1a13a9},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x55f3('0x1b4'))](0.5,0.5)},'direction':{'value':new THREE[(_0x55f3('0x1b4'))](0.5,0.5)}},'vertexShader':_0x55f3('0x75a'),'fragmentShader':'#include\x20<common>\x09\x09\x09\x09varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09uniform\x20sampler2D\x20colorTexture;\x0a\x09\x09\x09\x09uniform\x20vec2\x20texSize;\x09\x09\x09\x09uniform\x20vec2\x20direction;\x09\x09\x09\x09\x09\x09\x09\x09float\x20gaussianPdf(in\x20float\x20x,\x20in\x20float\x20sigma)\x20{\x09\x09\x09\x09\x09return\x200.39894\x20*\x20exp(\x20-0.5\x20*\x20x\x20*\x20x/(\x20sigma\x20*\x20sigma))/sigma;\x09\x09\x09\x09}\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vec2\x20invSize\x20=\x201.0\x20/\x20texSize;\x09\x09\x09\x09\x09float\x20fSigma\x20=\x20float(SIGMA);\x09\x09\x09\x09\x09float\x20weightSum\x20=\x20gaussianPdf(0.0,\x20fSigma);\x09\x09\x09\x09\x09float\x20alphaSum\x20=\x200.0;\x09\x09\x09\x09\x09vec3\x20diffuseSum\x20=\x20texture2D(\x20colorTexture,\x20vUv).rgb\x20*\x20weightSum;\x09\x09\x09\x09\x09for(\x20int\x20i\x20=\x201;\x20i\x20<\x20KERNEL_RADIUS;\x20i\x20++\x20)\x20{\x09\x09\x09\x09\x09\x09float\x20x\x20=\x20float(i);\x09\x09\x09\x09\x09\x09float\x20w\x20=\x20gaussianPdf(x,\x20fSigma);\x09\x09\x09\x09\x09\x09vec2\x20uvOffset\x20=\x20direction\x20*\x20invSize\x20*\x20x;\x09\x09\x09\x09\x09\x09vec4\x20sample1\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20+\x20uvOffset);\x09\x09\x09\x09\x09\x09vec4\x20sample2\x20=\x20texture2D(\x20colorTexture,\x20vUv\x20-\x20uvOffset);\x09\x09\x09\x09\x09\x09diffuseSum\x20+=\x20(sample1.rgb\x20+\x20sample2.rgb)\x20*\x20w;\x09\x09\x09\x09\x09\x09alphaSum\x20+=\x20(sample1.a\x20+\x20sample2.a)\x20*\x20w;\x09\x09\x09\x09\x09\x09weightSum\x20+=\x202.0\x20*\x20w;\x09\x09\x09\x09\x09}\x09\x09\x09\x09\x09gl_FragColor\x20=\x20vec4(diffuseSum/weightSum,\x20alphaSum/weightSum);\x0a\x09\x09\x09\x09}'});},'getCompositeMaterial':function(_0x1a13a9){return new THREE[(_0x55f3('0x1e5'))]({'defines':{'NUM_MIPS':_0x1a13a9},'uniforms':{'blurTexture1':{'value':null},'blurTexture2':{'value':null},'blurTexture3':{'value':null},'blurTexture4':{'value':null},'blurTexture5':{'value':null},'dirtTexture':{'value':null},'bloomStrength':{'value':0x1},'bloomFactors':{'value':null},'bloomTintColors':{'value':null},'bloomRadius':{'value':0x0}},'vertexShader':_0x55f3('0x75a'),'fragmentShader':_0x55f3('0xc21')});}}),THREE['UnrealBloomPass'][_0x55f3('0xc1e')]=new THREE[(_0x55f3('0x1b4'))](0x1,0x0),THREE[_0x55f3('0xc1b')]['BlurDirectionY']=new THREE[(_0x55f3('0x1b4'))](0x0,0x1);},function(_0x2709b0,_0x5635d5,_0x35589e){'use strict';THREE['CopyShader']={'uniforms':{'tDiffuse':{'value':null},'opacity':{'value':0x1}},'vertexShader':[_0x55f3('0xc22'),_0x55f3('0x3f7'),_0x55f3('0xc23'),_0x55f3('0xc24'),'}'][_0x55f3('0x106')]('\x0a'),'fragmentShader':[_0x55f3('0x3ca'),_0x55f3('0xc25'),'varying\x20vec2\x20vUv;',_0x55f3('0x3f7'),_0x55f3('0xc26'),'gl_FragColor\x20=\x20opacity\x20*\x20texel;','}'][_0x55f3('0x106')]('\x0a')};},function(_0x3a5e87,_0x4537a8,_0x1764be){'use strict';THREE[_0x55f3('0xc07')]={'shaderID':_0x55f3('0xc27'),'uniforms':{'tDiffuse':{'value':null},'luminosityThreshold':{'value':0x1},'smoothWidth':{'value':0x1},'defaultColor':{'value':new THREE[(_0x55f3('0x1b7'))](0x0)},'defaultOpacity':{'value':0x0}},'vertexShader':['varying\x20vec2\x20vUv;',_0x55f3('0x3f7'),_0x55f3('0xc23'),'gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x55f3('0x106')]('\x0a'),'fragmentShader':['uniform\x20sampler2D\x20tDiffuse;',_0x55f3('0xc28'),'uniform\x20float\x20defaultOpacity;',_0x55f3('0xc29'),_0x55f3('0xc2a'),_0x55f3('0xc22'),_0x55f3('0x3f7'),_0x55f3('0xc26'),_0x55f3('0xc2b'),'float\x20v\x20=\x20dot(\x20texel.xyz,\x20luma\x20);','vec4\x20outputColor\x20=\x20vec4(\x20defaultColor.rgb,\x20defaultOpacity\x20);',_0x55f3('0xc2c'),_0x55f3('0xc2d'),'}'][_0x55f3('0x106')]('\x0a')};},function(_0x2bfac9,_0x45d901,_0xe0e521){'use strict';THREE[_0x55f3('0xbbf')]={'uniforms':{'tDiffuse':{'value':null},'resolution':{'value':new THREE['Vector2'](0x1/0x400,0x1/0x200)}},'vertexShader':[_0x55f3('0xc22'),'void\x20main()\x20{',_0x55f3('0xc23'),_0x55f3('0xc24'),'}'][_0x55f3('0x106')]('\x0a'),'fragmentShader':['precision\x20highp\x20float;','','uniform\x20sampler2D\x20tDiffuse;','','uniform\x20vec2\x20resolution;','',_0x55f3('0xc22'),'',_0x55f3('0xc2e'),'',_0x55f3('0xc2f'),_0x55f3('0xc30'),'//\x20SDK\x20Version:\x20v3.00',_0x55f3('0xc31'),_0x55f3('0xc32'),'//',_0x55f3('0xc33'),'//',_0x55f3('0xc34'),_0x55f3('0xc35'),_0x55f3('0xc36'),_0x55f3('0xc37'),_0x55f3('0xc38'),_0x55f3('0xc39'),_0x55f3('0xc3a'),_0x55f3('0xc3b'),_0x55f3('0xc3c'),'//\x20\x20\x20\x20contributors\x20may\x20be\x20used\x20to\x20endorse\x20or\x20promote\x20products\x20derived',_0x55f3('0xc3d'),'//','//\x20THIS\x20SOFTWARE\x20IS\x20PROVIDED\x20BY\x20THE\x20COPYRIGHT\x20HOLDERS\x20``AS\x20IS\x27\x27\x20AND\x20ANY','//\x20EXPRESS\x20OR\x20IMPLIED\x20WARRANTIES,\x20INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,\x20THE',_0x55f3('0xc3e'),_0x55f3('0xc3f'),_0x55f3('0xc40'),'//\x20EXEMPLARY,\x20OR\x20CONSEQUENTIAL\x20DAMAGES\x20(INCLUDING,\x20BUT\x20NOT\x20LIMITED\x20TO,',_0x55f3('0xc41'),_0x55f3('0xc42'),_0x55f3('0xc43'),_0x55f3('0xc44'),_0x55f3('0xc45'),'//','//----------------------------------------------------------------------------------','',_0x55f3('0xc46'),'#define\x20FXAA_GLSL_100\x201',_0x55f3('0xc47'),'',_0x55f3('0xc48'),'',_0x55f3('0xc49'),'#ifndef\x20FXAA_PC_CONSOLE',_0x55f3('0xc4a'),_0x55f3('0xc4b'),_0x55f3('0xc4c'),_0x55f3('0xc4d'),'\x20\x20\x20\x20//','\x20\x20\x20\x20#define\x20FXAA_PC_CONSOLE\x200',_0x55f3('0x115'),_0x55f3('0xc49'),'#ifndef\x20FXAA_GLSL_120',_0x55f3('0xc4e'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc4f'),_0x55f3('0xc50'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc51'),_0x55f3('0xc52'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc53'),_0x55f3('0xc54'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xc55'),_0x55f3('0xc56'),_0x55f3('0x115'),_0x55f3('0xc57'),'#ifndef\x20FXAA_GREEN_AS_LUMA',_0x55f3('0xc4a'),_0x55f3('0xc58'),_0x55f3('0xc59'),_0x55f3('0xc5a'),'\x20\x20\x20\x20//\x20So\x20with\x20this\x20enabled,\x20no\x20need\x20to\x20pack\x20luma\x20in\x20alpha.',_0x55f3('0xc4a'),'\x20\x20\x20\x20//\x20This\x20will\x20turn\x20off\x20AA\x20on\x20anything\x20which\x20lacks\x20some\x20amount\x20of\x20green.',_0x55f3('0xc5b'),_0x55f3('0xc4a'),_0x55f3('0xc5c'),_0x55f3('0xc5d'),_0x55f3('0xc5e'),_0x55f3('0xc5f'),_0x55f3('0xc60'),_0x55f3('0xc4a'),_0x55f3('0xc61'),_0x55f3('0xc62'),_0x55f3('0xc4a'),_0x55f3('0xc63'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc64'),_0x55f3('0xc4a'),_0x55f3('0xc65'),'\x20\x20\x20\x20//\x20On\x20PS3\x20turning\x20this\x20ON\x20adds\x202\x20cycles\x20to\x20the\x20shader.',_0x55f3('0xc66'),'\x20\x20\x20\x20//\x20Turning\x20this\x20off\x20on\x20console\x20will\x20result\x20in\x20a\x20more\x20blurry\x20image.',_0x55f3('0xc67'),_0x55f3('0xc4a'),_0x55f3('0xc61'),_0x55f3('0xc62'),'\x20\x20\x20\x20//',_0x55f3('0xc68'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc69'),_0x55f3('0xc4a'),_0x55f3('0xc6a'),_0x55f3('0xc6b'),_0x55f3('0xc4a'),_0x55f3('0xc6c'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20For\x20APIs\x20which\x20enable\x20concurrent\x20TEX+ROP\x20from\x20same\x20surface.',_0x55f3('0xc6d'),_0x55f3('0xc4a'),_0x55f3('0xc6e'),_0x55f3('0x115'),_0x55f3('0xc49'),'#ifndef\x20FXAA_FAST_PIXEL_OFFSET',_0x55f3('0xc4a'),_0x55f3('0xc6f'),_0x55f3('0xc4a'),_0x55f3('0xc70'),_0x55f3('0xc71'),_0x55f3('0xc4a'),_0x55f3('0xc72'),_0x55f3('0xc73'),_0x55f3('0x15b'),'\x20\x20\x20\x20#ifdef\x20GL_NV_gpu_shader5',_0x55f3('0xc73'),'\x20\x20\x20\x20#endif',_0x55f3('0xc74'),_0x55f3('0xc73'),_0x55f3('0x15b'),_0x55f3('0xc75'),_0x55f3('0xc76'),_0x55f3('0x15b'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc77'),_0x55f3('0xc4a'),_0x55f3('0xc78'),_0x55f3('0xc79'),_0x55f3('0xc4a'),_0x55f3('0xc7a'),_0x55f3('0xc7b'),_0x55f3('0x15b'),_0x55f3('0xc74'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FXAA_GATHER4_ALPHA\x201',_0x55f3('0x15b'),_0x55f3('0xc7c'),_0x55f3('0xc7b'),_0x55f3('0x15b'),_0x55f3('0xc7d'),_0x55f3('0xc7e'),_0x55f3('0x15b'),_0x55f3('0x115'),'','',_0x55f3('0xc7f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA\x20QUALITY\x20-\x20TUNING\x20KNOBS',_0x55f3('0xc80'),_0x55f3('0xc81'),_0x55f3('0xc82'),'#ifndef\x20FXAA_QUALITY_PRESET',_0x55f3('0xc4a'),_0x55f3('0xc83'),_0x55f3('0xc84'),'\x20\x20\x20\x20//\x20Best\x20option\x20to\x20include\x20multiple\x20presets\x20is\x20to',_0x55f3('0xc85'),_0x55f3('0xc4a'),_0x55f3('0xc86'),_0x55f3('0xc87'),_0x55f3('0xc88'),_0x55f3('0xc89'),_0x55f3('0xc8a'),'\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20NOTES',_0x55f3('0xc87'),_0x55f3('0xc8b'),_0x55f3('0xc8c'),_0x55f3('0xc8d'),_0x55f3('0xc8e'),_0x55f3('0xc8f'),_0x55f3('0xc4a'),_0x55f3('0xc90'),_0x55f3('0x115'),'','',_0x55f3('0xc7f'),'',_0x55f3('0xc91'),'',_0x55f3('0xc82'),'',_0x55f3('0xc7f'),_0x55f3('0xc92'),'============================================================================*/',_0x55f3('0xc93'),_0x55f3('0xc94'),_0x55f3('0xc95'),_0x55f3('0xc96'),_0x55f3('0xc97'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xc98'),_0x55f3('0xc99'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xc9c'),_0x55f3('0xc9d'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xc9e'),_0x55f3('0xc9f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x55f3('0xc9b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x204.0',_0x55f3('0xca0'),_0x55f3('0x115'),_0x55f3('0xc49'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2013)',_0x55f3('0xca1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x55f3('0xc9b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x55f3('0xca2'),_0x55f3('0xca3'),_0x55f3('0xca4'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xca5'),_0x55f3('0xca6'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x55f3('0xca2'),_0x55f3('0xca7'),_0x55f3('0xca8'),_0x55f3('0xca9'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xcaa'),_0x55f3('0xcab'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xcac'),_0x55f3('0xca2'),_0x55f3('0xca7'),_0x55f3('0xcad'),_0x55f3('0xcae'),_0x55f3('0xcaf'),'#endif','',_0x55f3('0xc7f'),_0x55f3('0xcb0'),_0x55f3('0xc82'),_0x55f3('0xcb1'),_0x55f3('0xc94'),_0x55f3('0xc95'),_0x55f3('0xcb2'),_0x55f3('0xcb3'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xcb4'),_0x55f3('0xc99'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xcac'),_0x55f3('0xcb5'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2022)',_0x55f3('0xc9f'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0',_0x55f3('0xc9b'),_0x55f3('0xcac'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x55f3('0xcb6'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xcb7'),_0x55f3('0xca1'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x55f3('0xca2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x208.0','#endif',_0x55f3('0xc49'),_0x55f3('0xcb8'),_0x55f3('0xca6'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P2\x202.0',_0x55f3('0xca2'),_0x55f3('0xca7'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x203.0',_0x55f3('0xcb9'),_0x55f3('0x115'),_0x55f3('0xc49'),'#if\x20(FXAA_QUALITY_PRESET\x20==\x2025)',_0x55f3('0xcab'),_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xcac'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0',_0x55f3('0xca7'),_0x55f3('0xcad'),_0x55f3('0xcae'),_0x55f3('0xcba'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2026)',_0x55f3('0xcbb'),_0x55f3('0xc9a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x55f3('0xcac'),_0x55f3('0xca2'),_0x55f3('0xca7'),_0x55f3('0xcad'),_0x55f3('0xcbc'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P7\x204.0',_0x55f3('0xcbd'),_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xcbe'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2010',_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xcac'),_0x55f3('0xca2'),_0x55f3('0xca7'),_0x55f3('0xcad'),_0x55f3('0xcbc'),_0x55f3('0xcbf'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P8\x204.0',_0x55f3('0xcc0'),'#endif',_0x55f3('0xc49'),_0x55f3('0xcc1'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_PS\x2011',_0x55f3('0xc9a'),_0x55f3('0xc9b'),_0x55f3('0xcac'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P3\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0',_0x55f3('0xcad'),_0x55f3('0xcbc'),_0x55f3('0xcbf'),_0x55f3('0xcc2'),_0x55f3('0xcc3'),_0x55f3('0xcc4'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xcc5'),_0x55f3('0xcc6'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P0\x201.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.5',_0x55f3('0xcac'),_0x55f3('0xca2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P4\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x202.0','\x20\x20\x20\x20#define\x20FXAA_QUALITY_P6\x202.0',_0x55f3('0xcbf'),_0x55f3('0xcc2'),_0x55f3('0xcc7'),_0x55f3('0xcc8'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P11\x208.0','#endif','',_0x55f3('0xc7f'),_0x55f3('0xcc9'),'============================================================================*/','#if\x20(FXAA_QUALITY_PRESET\x20==\x2039)',_0x55f3('0xcc6'),_0x55f3('0xc9a'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P1\x201.0',_0x55f3('0xcca'),_0x55f3('0xccb'),_0x55f3('0xccc'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P5\x201.5',_0x55f3('0xcbc'),_0x55f3('0xcbf'),_0x55f3('0xcc2'),'\x20\x20\x20\x20#define\x20FXAA_QUALITY_P9\x202.0',_0x55f3('0xcc8'),_0x55f3('0xccd'),_0x55f3('0x115'),'','','',_0x55f3('0xc7f'),'',_0x55f3('0xcce'),'',_0x55f3('0xc82'),'#if\x20(FXAA_GLSL_100\x20==\x201)\x20||\x20(FXAA_GLSL_120\x20==\x201)\x20||\x20(FXAA_GLSL_130\x20==\x201)','\x20\x20\x20\x20#define\x20FxaaBool\x20bool','\x20\x20\x20\x20#define\x20FxaaDiscard\x20discard',_0x55f3('0xccf'),'\x20\x20\x20\x20#define\x20FxaaFloat2\x20vec2',_0x55f3('0xcd0'),'\x20\x20\x20\x20#define\x20FxaaFloat4\x20vec4',_0x55f3('0xcd1'),_0x55f3('0xcd2'),_0x55f3('0xcd3'),_0x55f3('0xcd4'),_0x55f3('0xcd5'),'\x20\x20\x20\x20#define\x20FxaaSat(x)\x20clamp(x,\x200.0,\x201.0)','\x20\x20\x20\x20#define\x20FxaaTex\x20sampler2D',_0x55f3('0xcd6'),_0x55f3('0xcd7'),_0x55f3('0xcd8'),_0x55f3('0xccf'),_0x55f3('0xcd9'),_0x55f3('0xcda'),_0x55f3('0xcdb'),'\x20\x20\x20\x20#define\x20FxaaHalf\x20half',_0x55f3('0xcdc'),_0x55f3('0xcdd'),'\x20\x20\x20\x20#define\x20FxaaHalf4\x20half4',_0x55f3('0xcde'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xcdf'),_0x55f3('0xce0'),_0x55f3('0xce1'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xce2'),_0x55f3('0xce3'),'\x20\x20\x20\x20//\x20\x20#version\x20120',_0x55f3('0xce4'),_0x55f3('0xce5'),_0x55f3('0xce6'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20texture2DLod(t,\x20p,\x200.0)',_0x55f3('0xce7'),_0x55f3('0xce8'),'\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20texture2DLod(t,\x20p\x20+\x20(o\x20*\x20r),\x200.0)','\x20\x20\x20\x20#endif',_0x55f3('0xce9'),_0x55f3('0xcea'),_0x55f3('0xceb'),_0x55f3('0xcec'),_0x55f3('0xced'),_0x55f3('0xcee'),_0x55f3('0x15b'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xcef'),_0x55f3('0xcf0'),_0x55f3('0xcf1'),_0x55f3('0xcf2'),_0x55f3('0xce9'),'\x20\x20\x20\x20\x20\x20\x20\x20//\x20use\x20#extension\x20GL_ARB_gpu_shader5\x20:\x20enable',_0x55f3('0xceb'),_0x55f3('0xcec'),_0x55f3('0xced'),_0x55f3('0xcee'),_0x55f3('0x15b'),_0x55f3('0x115'),_0x55f3('0xc49'),_0x55f3('0xcf3'),_0x55f3('0xcf4'),_0x55f3('0xcf5'),_0x55f3('0xcf6'),'\x20\x20\x20\x20#define\x20FxaaTexOff(t,\x20p,\x20o,\x20r)\x20tex2Dlod(t,\x20float4(p\x20+\x20(o\x20*\x20r),\x200,\x200))',_0x55f3('0x115'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xcf7'),'\x20\x20\x20\x20#define\x20FxaaInt2\x20int2',_0x55f3('0xcf8'),'\x20\x20\x20\x20#define\x20FxaaTexTop(t,\x20p)\x20t.tex.SampleLevel(t.smpl,\x20p,\x200.0)',_0x55f3('0xcf9'),'#endif',_0x55f3('0xc49'),_0x55f3('0xcfa'),_0x55f3('0xcfb'),_0x55f3('0xcf8'),_0x55f3('0xcfc'),_0x55f3('0xcf9'),_0x55f3('0xcfd'),'\x20\x20\x20\x20#define\x20FxaaTexOffAlpha4(t,\x20p,\x20o)\x20t.tex.GatherAlpha(t.smpl,\x20p,\x20o)','\x20\x20\x20\x20#define\x20FxaaTexGreen4(t,\x20p)\x20t.tex.GatherGreen(t.smpl,\x20p)','\x20\x20\x20\x20#define\x20FxaaTexOffGreen4(t,\x20p,\x20o)\x20t.tex.GatherGreen(t.smpl,\x20p,\x20o)','#endif','','',_0x55f3('0xc7f'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20GREEN\x20AS\x20LUMA\x20OPTION\x20SUPPORT\x20FUNCTION',_0x55f3('0xc82'),_0x55f3('0xcfe'),'\x20\x20\x20\x20FxaaFloat\x20FxaaLuma(FxaaFloat4\x20rgba)\x20{\x20return\x20rgba.w;\x20}',_0x55f3('0xcd6'),_0x55f3('0xcff'),_0x55f3('0x115'),'','','','','/*============================================================================','','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FXAA3\x20QUALITY\x20-\x20PC','',_0x55f3('0xc82'),_0x55f3('0xd00'),_0x55f3('0xc49'),_0x55f3('0xd01'),_0x55f3('0xc4a'),_0x55f3('0xd02'),_0x55f3('0xd03'),_0x55f3('0xd04'),_0x55f3('0xc4a'),_0x55f3('0xd05'),_0x55f3('0xd02'),'\x20\x20\x20\x20//\x20{xy_}\x20=\x20upper\x20left\x20of\x20pixel','\x20\x20\x20\x20//\x20{_zw}\x20=\x20lower\x20right\x20of\x20pixel',_0x55f3('0xd06'),_0x55f3('0xc4a'),'\x20\x20\x20\x20//\x20Input\x20color\x20texture.','\x20\x20\x20\x20//\x20{rgb_}\x20=\x20color\x20in\x20linear\x20or\x20perceptual\x20color\x20space',_0x55f3('0xd07'),'\x20\x20\x20\x20//\x20\x20\x20\x20\x20{__a}\x20=\x20luma\x20in\x20perceptual\x20color\x20space\x20(not\x20linear)','\x20\x20\x20\x20FxaaTex\x20tex,',_0x55f3('0xc4a'),_0x55f3('0xd08'),_0x55f3('0xd09'),_0x55f3('0xd0a'),_0x55f3('0xd0b'),_0x55f3('0xd0c'),_0x55f3('0xc4a'),_0x55f3('0xd08'),_0x55f3('0xd09'),'\x20\x20\x20\x20//\x20For\x20360,\x20same\x20texture,\x20just\x20alias\x20with\x20a\x203nd\x20sampler.',_0x55f3('0xd0d'),_0x55f3('0xd0e'),_0x55f3('0xc4a'),_0x55f3('0xd0f'),_0x55f3('0xd10'),_0x55f3('0xd11'),_0x55f3('0xd12'),_0x55f3('0xd13'),_0x55f3('0xc4a'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Console.','\x20\x20\x20\x20//\x20This\x20must\x20be\x20from\x20a\x20constant/uniform.',_0x55f3('0xd14'),'\x20\x20\x20\x20//\x20\x20\x20Where\x20N\x20ranges\x20between,',_0x55f3('0xd15'),_0x55f3('0xd16'),_0x55f3('0xd17'),_0x55f3('0xd18'),'\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x20N/screenWidthInPixels',_0x55f3('0xd19'),_0x55f3('0xd1a'),_0x55f3('0xc4a'),_0x55f3('0xd1b'),_0x55f3('0xd1c'),_0x55f3('0xd10'),_0x55f3('0xd1d'),_0x55f3('0xd1e'),'\x20\x20\x20\x20//\x20{_z_}\x20=\x20\x202.0/screenWidthInPixels',_0x55f3('0xd1f'),_0x55f3('0xd20'),_0x55f3('0xc4a'),_0x55f3('0xd1b'),_0x55f3('0xd21'),_0x55f3('0xd10'),_0x55f3('0xd22'),_0x55f3('0xd23'),_0x55f3('0xd24'),_0x55f3('0xd25'),_0x55f3('0xd26'),_0x55f3('0xc4a'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_SUBPIX\x20define.','\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x55f3('0xd27'),_0x55f3('0xd28'),_0x55f3('0xd29'),'\x20\x20\x20\x20//\x20\x20\x200.75\x20-\x20default\x20amount\x20of\x20filtering',_0x55f3('0xd2a'),'\x20\x20\x20\x20//\x20\x20\x200.25\x20-\x20almost\x20off',_0x55f3('0xd2b'),'\x20\x20\x20\x20FxaaFloat\x20fxaaQualitySubpix,','\x20\x20\x20\x20//','\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.',_0x55f3('0xd2c'),_0x55f3('0xd2d'),_0x55f3('0xd2e'),_0x55f3('0xd2f'),_0x55f3('0xd30'),_0x55f3('0xd31'),_0x55f3('0xd32'),'\x20\x20\x20\x20//\x20\x20\x200.063\x20-\x20overkill\x20(slower)',_0x55f3('0xd33'),_0x55f3('0xc4a'),'\x20\x20\x20\x20//\x20Only\x20used\x20on\x20FXAA\x20Quality.','\x20\x20\x20\x20//\x20This\x20used\x20to\x20be\x20the\x20FXAA_QUALITY_EDGE_THRESHOLD_MIN\x20define.',_0x55f3('0xd2d'),_0x55f3('0xd34'),_0x55f3('0xd35'),_0x55f3('0xd36'),_0x55f3('0xd37'),_0x55f3('0xd38'),_0x55f3('0xd39'),'\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green',_0x55f3('0xd3a'),'\x20\x20\x20\x20//\x20\x20\x20Tune\x20by\x20looking\x20at\x20mostly\x20non-green\x20content,','\x20\x20\x20\x20//\x20\x20\x20then\x20start\x20at\x20zero\x20and\x20increase\x20until\x20aliasing\x20is\x20a\x20problem.',_0x55f3('0xd3b'),'\x20\x20\x20\x20//',_0x55f3('0xd1b'),_0x55f3('0xd3c'),'\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x55f3('0xd3d'),'\x20\x20\x20\x20//\x20\x20\x20Use\x20FXAA_CONSOLE_PS3_EDGE_SHARPNESS\x20for\x20PS3.',_0x55f3('0xd3e'),'\x20\x20\x20\x20//\x20\x20\x20there\x20are\x20only\x20three\x20safe\x20values\x20here:\x202\x20and\x204\x20and\x208.',_0x55f3('0xd3f'),_0x55f3('0xd40'),_0x55f3('0xd41'),_0x55f3('0xd42'),_0x55f3('0xd43'),_0x55f3('0xd44'),_0x55f3('0xc4a'),_0x55f3('0xd1b'),_0x55f3('0xd45'),_0x55f3('0xd2d'),'\x20\x20\x20\x20//\x20This\x20does\x20not\x20effect\x20PS3,\x20as\x20this\x20needs\x20to\x20be\x20compiled\x20in.',_0x55f3('0xd46'),_0x55f3('0xd3e'),_0x55f3('0xd47'),_0x55f3('0xd3f'),'\x20\x20\x20\x20//\x20The\x20console\x20setting\x20has\x20a\x20different\x20mapping\x20than\x20the\x20quality\x20setting.','\x20\x20\x20\x20//\x20Other\x20platforms\x20can\x20use\x20other\x20values.',_0x55f3('0xd48'),_0x55f3('0xd49'),_0x55f3('0xd4a'),_0x55f3('0xc4a'),_0x55f3('0xd1b'),_0x55f3('0xd4b'),'\x20\x20\x20\x20//\x20It\x20is\x20here\x20now\x20to\x20allow\x20easier\x20tuning.',_0x55f3('0xd34'),_0x55f3('0xd4c'),_0x55f3('0xd4d'),_0x55f3('0xd4e'),_0x55f3('0xd4f'),_0x55f3('0xd50'),'\x20\x20\x20\x20//\x20\x20\x200.05\x20-\x20default','\x20\x20\x20\x20//\x20\x20\x200.04\x20-\x20slower\x20and\x20less\x20aliasing\x20in\x20darks','\x20\x20\x20\x20//\x20Special\x20notes\x20when\x20using\x20FXAA_GREEN_AS_LUMA,',_0x55f3('0xd39'),'\x20\x20\x20\x20//\x20\x20\x20As\x20colors\x20that\x20are\x20mostly\x20not-green',_0x55f3('0xd3a'),_0x55f3('0xd51'),_0x55f3('0xd52'),_0x55f3('0xd53'),_0x55f3('0xc4a'),_0x55f3('0xd54'),_0x55f3('0xd55'),'\x20\x20\x20\x20//\x20These\x20must\x20be\x20in\x20physical\x20constant\x20registers\x20and\x20NOT\x20immediates.','\x20\x20\x20\x20//\x20Immediates\x20will\x20result\x20in\x20compiler\x20un-optimizing.',_0x55f3('0xd56'),_0x55f3('0xd57'),_0x55f3('0xd58'),_0x55f3('0xc49'),_0x55f3('0xd59'),_0x55f3('0xd5a'),_0x55f3('0xd5b'),_0x55f3('0xce9'),_0x55f3('0xd5c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20rgbyM\x20=\x20FxaaTexTop(tex,\x20posM);',_0x55f3('0xd5d'),_0x55f3('0xd5e'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaM\x20rgbyM.y',_0x55f3('0xd5f'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x55f3('0xd60'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexAlpha4(tex,\x20posM);',_0x55f3('0xd61'),'\x20\x20\x20\x20\x20\x20\x20\x20#else','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat4\x20luma4A\x20=\x20FxaaTexGreen4(tex,\x20posM);',_0x55f3('0xd62'),_0x55f3('0xd63'),_0x55f3('0xd64'),_0x55f3('0xd65'),_0x55f3('0xd63'),_0x55f3('0xd66'),_0x55f3('0xd67'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaSE\x20luma4A.y',_0x55f3('0xd68'),'\x20\x20\x20\x20\x20\x20\x20\x20#define\x20lumaN\x20luma4B.z',_0x55f3('0xd69'),'\x20\x20\x20\x20#else',_0x55f3('0xd6a'),_0x55f3('0xd60'),_0x55f3('0xd6b'),_0x55f3('0xd6c'),_0x55f3('0xd6d'),'\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x55f3('0xd6e'),_0x55f3('0xd6f'),_0x55f3('0xd70'),_0x55f3('0xd71'),_0x55f3('0xd72'),_0x55f3('0xd6c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaS\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(\x200,\x201),\x20fxaaQualityRcpFrame.xy));',_0x55f3('0xd73'),_0x55f3('0xd74'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x200),\x20fxaaQualityRcpFrame.xy));',_0x55f3('0xd63'),'\x20\x20\x20\x20#endif',_0x55f3('0xc49'),_0x55f3('0xd75'),_0x55f3('0xd76'),_0x55f3('0xd77'),_0x55f3('0xd78'),_0x55f3('0xd79'),_0x55f3('0xd7a'),_0x55f3('0xd7b'),_0x55f3('0xd7c'),_0x55f3('0xd7d'),_0x55f3('0xd7e'),_0x55f3('0xd7f'),_0x55f3('0xd80'),_0x55f3('0xc49'),_0x55f3('0xd81'),_0x55f3('0xd64'),_0x55f3('0xd82'),_0x55f3('0xd6c'),_0x55f3('0xd83'),_0x55f3('0xd63'),_0x55f3('0xc49'),'\x20\x20\x20\x20#if\x20(FXAA_GATHER4_ALPHA\x20==\x200)','\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_GLSL_100\x20==\x201)',_0x55f3('0xd84'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,\x201.0),\x20fxaaQualityRcpFrame.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNE\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaFloat2(\x201.0,-1.0),\x20fxaaQualityRcpFrame.xy));',_0x55f3('0xd85'),_0x55f3('0xd6c'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaNW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,-1),\x20fxaaQualityRcpFrame.xy));',_0x55f3('0xd86'),_0x55f3('0xd87'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20FxaaFloat\x20lumaSW\x20=\x20FxaaLuma(FxaaTexOff(tex,\x20posM,\x20FxaaInt2(-1,\x201),\x20fxaaQualityRcpFrame.xy));',_0x55f3('0xd63'),_0x55f3('0x185'),_0x55f3('0xd88'),_0x55f3('0xd89'),_0x55f3('0x15b'),_0x55f3('0xc49'),_0x55f3('0xd8a'),_0x55f3('0xd8b'),_0x55f3('0xd8c'),_0x55f3('0xd8d'),_0x55f3('0xd8e'),_0x55f3('0xd8f'),_0x55f3('0xc49'),_0x55f3('0xd90'),_0x55f3('0xd91'),'\x20\x20\x20\x20FxaaFloat\x20edgeHorz2\x20=\x20(-2.0\x20*\x20lumaE)\x20+\x20lumaNESE;',_0x55f3('0xd92'),_0x55f3('0xc49'),_0x55f3('0xd93'),_0x55f3('0xd94'),_0x55f3('0xd95'),_0x55f3('0xd96'),_0x55f3('0xd97'),'\x20\x20\x20\x20FxaaFloat\x20edgeVert3\x20=\x20(-2.0\x20*\x20lumaS)\x20+\x20lumaSWSE;',_0x55f3('0xd98'),_0x55f3('0xd99'),_0x55f3('0xc49'),_0x55f3('0xd9a'),_0x55f3('0xd9b'),_0x55f3('0xd9c'),_0x55f3('0xd9d'),_0x55f3('0xc49'),'\x20\x20\x20\x20if(!horzSpan)\x20lumaN\x20=\x20lumaW;',_0x55f3('0xd9e'),_0x55f3('0xd9f'),_0x55f3('0xda0'),_0x55f3('0xc49'),'\x20\x20\x20\x20FxaaFloat\x20gradientN\x20=\x20lumaN\x20-\x20lumaM;',_0x55f3('0xda1'),'\x20\x20\x20\x20FxaaFloat\x20lumaNN\x20=\x20lumaN\x20+\x20lumaM;',_0x55f3('0xda2'),_0x55f3('0xda3'),'\x20\x20\x20\x20FxaaFloat\x20gradient\x20=\x20max(abs(gradientN),\x20abs(gradientS));',_0x55f3('0xda4'),'\x20\x20\x20\x20FxaaFloat\x20subpixC\x20=\x20FxaaSat(abs(subpixB)\x20*\x20subpixRcpRange);','/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20FxaaFloat2\x20posB;','\x20\x20\x20\x20posB.x\x20=\x20posM.x;','\x20\x20\x20\x20posB.y\x20=\x20posM.y;',_0x55f3('0xda5'),'\x20\x20\x20\x20offNP.x\x20=\x20(!horzSpan)\x20?\x200.0\x20:\x20fxaaQualityRcpFrame.x;',_0x55f3('0xda6'),_0x55f3('0xda7'),_0x55f3('0xda8'),_0x55f3('0xc49'),_0x55f3('0xda9'),_0x55f3('0xdaa'),_0x55f3('0xdab'),_0x55f3('0xdac'),_0x55f3('0xdad'),_0x55f3('0xdae'),_0x55f3('0xdaf'),'\x20\x20\x20\x20FxaaFloat\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN));','\x20\x20\x20\x20FxaaFloat\x20subpixE\x20=\x20subpixC\x20*\x20subpixC;',_0x55f3('0xdb0'),_0x55f3('0xc49'),_0x55f3('0xdb1'),_0x55f3('0xdb2'),'\x20\x20\x20\x20FxaaFloat\x20lumaMM\x20=\x20lumaM\x20-\x20lumaNN\x20*\x200.5;',_0x55f3('0xdb3'),_0x55f3('0xdb4'),_0x55f3('0xc49'),_0x55f3('0xdb5'),_0x55f3('0xdb6'),_0x55f3('0xdb7'),_0x55f3('0xdb8'),_0x55f3('0xdb9'),'\x20\x20\x20\x20if(!doneN)\x20posN.y\x20-=\x20offNP.y\x20*\x20FXAA_QUALITY_P1;',_0x55f3('0xdba'),_0x55f3('0xdbb'),_0x55f3('0xdbc'),_0x55f3('0xc49'),_0x55f3('0xdbd'),_0x55f3('0xdbe'),_0x55f3('0xdbf'),_0x55f3('0xdc0'),_0x55f3('0xdc1'),_0x55f3('0xdc2'),_0x55f3('0xdc3'),_0x55f3('0xdc4'),_0x55f3('0xdc5'),'\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x55f3('0xdc6'),_0x55f3('0xdc7'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xdc8'),_0x55f3('0xdc9'),_0x55f3('0xdca'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x55f3('0xdcb'),_0x55f3('0xdcc'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneP\x20=\x20abs(lumaEndP)\x20>=\x20gradientScaled;',_0x55f3('0xdcd'),_0x55f3('0xdce'),_0x55f3('0xdcf'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P3;',_0x55f3('0xdd0'),'/*--------------------------------------------------------------------------*/','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x204)',_0x55f3('0xdd1'),_0x55f3('0xdd2'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;',_0x55f3('0xdd3'),_0x55f3('0xdd4'),_0x55f3('0xdd5'),_0x55f3('0xdd6'),_0x55f3('0xdd7'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x55f3('0xdd8'),_0x55f3('0xdd9'),_0x55f3('0xc49'),_0x55f3('0xdda'),_0x55f3('0xddb'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x55f3('0xddc'),_0x55f3('0xddd'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x55f3('0xdde'),_0x55f3('0xddf'),_0x55f3('0xde0'),_0x55f3('0xde1'),_0x55f3('0xde2'),_0x55f3('0xde3'),_0x55f3('0xc49'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#if\x20(FXAA_QUALITY_PS\x20>\x206)',_0x55f3('0xde4'),_0x55f3('0xde5'),_0x55f3('0xde6'),_0x55f3('0xde7'),_0x55f3('0xde8'),_0x55f3('0xde9'),_0x55f3('0xdea'),_0x55f3('0xdeb'),_0x55f3('0xdec'),_0x55f3('0xded'),_0x55f3('0xdee'),_0x55f3('0xdef'),_0x55f3('0xc49'),_0x55f3('0xdf0'),_0x55f3('0xdf1'),_0x55f3('0xdf2'),_0x55f3('0xdf3'),_0x55f3('0xdf4'),_0x55f3('0xdf5'),_0x55f3('0xdf6'),_0x55f3('0xdf7'),_0x55f3('0xdf8'),_0x55f3('0xdf9'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x55f3('0xdfa'),_0x55f3('0xdfb'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xdfc'),'\x20\x20\x20\x20if(doneNP)\x20{',_0x55f3('0xdbe'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));',_0x55f3('0xdc0'),_0x55f3('0xdc1'),'\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x55f3('0xdc3'),_0x55f3('0xdfd'),_0x55f3('0xdfe'),_0x55f3('0xdff'),'\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P8;',_0x55f3('0xe00'),_0x55f3('0xc49'),_0x55f3('0xe01'),_0x55f3('0xdc9'),_0x55f3('0xdca'),_0x55f3('0xe02'),_0x55f3('0xe03'),_0x55f3('0xdcb'),_0x55f3('0xdcc'),_0x55f3('0xe04'),_0x55f3('0xe05'),_0x55f3('0xe06'),_0x55f3('0xdcf'),_0x55f3('0xe07'),_0x55f3('0xe08'),_0x55f3('0xc49'),_0x55f3('0xe09'),_0x55f3('0xdd1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posP.xy));','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20lumaEndN\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;','\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneN\x20=\x20abs(lumaEndN)\x20>=\x20gradientScaled;',_0x55f3('0xdd5'),_0x55f3('0xe0a'),_0x55f3('0xe0b'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20doneNP\x20=\x20(!doneN)\x20||\x20(!doneP);',_0x55f3('0xe0c'),_0x55f3('0xe0d'),_0x55f3('0xc49'),_0x55f3('0xe0e'),_0x55f3('0xddb'),_0x55f3('0xe0f'),_0x55f3('0xddc'),_0x55f3('0xddd'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20lumaEndP\x20=\x20lumaEndP\x20-\x20lumaNN\x20*\x200.5;',_0x55f3('0xe10'),_0x55f3('0xdde'),_0x55f3('0xe11'),_0x55f3('0xe12'),_0x55f3('0xde1'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneP)\x20posP.x\x20+=\x20offNP.x\x20*\x20FXAA_QUALITY_P11;',_0x55f3('0xe13'),_0x55f3('0xc49'),_0x55f3('0xe14'),_0x55f3('0xde4'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20if(!doneN)\x20lumaEndN\x20=\x20FxaaLuma(FxaaTexTop(tex,\x20posN.xy));',_0x55f3('0xde6'),_0x55f3('0xde7'),_0x55f3('0xde8'),_0x55f3('0xde9'),_0x55f3('0xdea'),_0x55f3('0xe15'),_0x55f3('0xe16'),_0x55f3('0xded'),_0x55f3('0xe17'),_0x55f3('0xe18'),_0x55f3('0xc49'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x55f3('0xe19'),_0x55f3('0xc49'),_0x55f3('0xe1a'),_0x55f3('0xe1b'),_0x55f3('0xc49'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}',_0x55f3('0xd5f'),_0x55f3('0xc49'),'\x20\x20\x20\x20\x20\x20\x20\x20}',_0x55f3('0xd63'),_0x55f3('0xc49'),_0x55f3('0x3e0'),_0x55f3('0x15b'),_0x55f3('0xc49'),_0x55f3('0xe1c'),_0x55f3('0xe1d'),_0x55f3('0xc49'),_0x55f3('0xe1e'),_0x55f3('0xe19'),_0x55f3('0xc49'),_0x55f3('0xe1a'),'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#endif',_0x55f3('0xc49'),_0x55f3('0xe1f'),_0x55f3('0xd5f'),'/*--------------------------------------------------------------------------*/',_0x55f3('0xe20'),_0x55f3('0xd63'),'/*--------------------------------------------------------------------------*/',_0x55f3('0x3e0'),_0x55f3('0xc49'),_0x55f3('0xe21'),_0x55f3('0xe22'),_0x55f3('0xe23'),_0x55f3('0xe24'),_0x55f3('0xc49'),_0x55f3('0xe25'),_0x55f3('0xe26'),_0x55f3('0xe27'),_0x55f3('0xe28'),_0x55f3('0xc49'),'\x20\x20\x20\x20FxaaBool\x20directionN\x20=\x20dstN\x20<\x20dstP;','\x20\x20\x20\x20FxaaFloat\x20dst\x20=\x20min(dstN,\x20dstP);',_0x55f3('0xe29'),_0x55f3('0xe2a'),_0x55f3('0xe2b'),_0x55f3('0xe2c'),_0x55f3('0xc49'),_0x55f3('0xe2d'),_0x55f3('0xe2e'),_0x55f3('0xe2f'),_0x55f3('0xe30'),'\x20\x20\x20\x20#if\x20(FXAA_DISCARD\x20==\x201)',_0x55f3('0xe31'),'\x20\x20\x20\x20#else',_0x55f3('0xe32'),'\x20\x20\x20\x20#endif','}',_0x55f3('0xc57'),_0x55f3('0x115'),'','void\x20main()\x20{',_0x55f3('0xe33'),_0x55f3('0xe34'),'\x20\x20\x20\x20vec4(0.0),',_0x55f3('0xe35'),_0x55f3('0xe35'),'\x20\x20\x20\x20tDiffuse,',_0x55f3('0xe36'),_0x55f3('0xe37'),_0x55f3('0xe37'),_0x55f3('0xe37'),_0x55f3('0xe38'),_0x55f3('0xe39'),_0x55f3('0xe3a'),_0x55f3('0xe3b'),_0x55f3('0xe3b'),_0x55f3('0xe3b'),_0x55f3('0xe3c'),_0x55f3('0xe3d'),'',_0x55f3('0xe3e'),'\x20\x20gl_FragColor.a\x20=\x20texture2D(tDiffuse,\x20vUv).a;','}']['join']('\x0a')};},function(_0x48f1b4,_0x5a592a,_0x1fb18c){'use strict';var _0x721aa3=_0x3f47a3(_0x1fb18c(0x21)),_0x1fb18c=_0x3f47a3(_0x1fb18c(0x12));function _0x3f47a3(_0x48f1b4){return _0x48f1b4&&_0x48f1b4[_0x55f3('0x7')]?_0x48f1b4:{'default':_0x48f1b4};}THREE[_0x55f3('0xbc1')]=function(_0x48f1b4,_0x5a592a,_0x1fb18c,_0x721aa3,_0x3f47a3){this[_0x55f3('0xe3f')]=_0x5a592a,this[_0x55f3('0xe40')]=_0x1fb18c,this['selectedObjects']=void 0x0!==_0x721aa3?_0x721aa3:[],this[_0x55f3('0xa17')]=void 0x0!==_0x3f47a3?_0x3f47a3:[],this[_0x55f3('0xe41')]=new THREE[(_0x55f3('0x1b7'))](0x1,0x1,0x1),this[_0x55f3('0xb9e')]=new THREE[(_0x55f3('0x1b7'))](0.1,0.04,0.02),this['edgeGlow']=0x0,this[_0x55f3('0xba5')]=!0x1,this['edgeThickness']=0x1,this[_0x55f3('0xba0')]=0x3,this[_0x55f3('0xe42')]=0x2,this[_0x55f3('0xba7')]=0x0,THREE[_0x55f3('0xbef')][_0x55f3('0x1')](this),this['resolution']=void 0x0!==_0x48f1b4?new THREE[(_0x55f3('0x1b4'))](_0x48f1b4['x'],_0x48f1b4['y']):new THREE[(_0x55f3('0x1b4'))](0x100,0x100);_0x5a592a={'minFilter':THREE['LinearFilter'],'magFilter':THREE['LinearFilter'],'format':THREE[_0x55f3('0xbd8')]},_0x1fb18c=Math[_0x55f3('0x1be')](this[_0x55f3('0x32b')]['x']/this[_0x55f3('0xe42')]),_0x721aa3=Math[_0x55f3('0x1be')](this[_0x55f3('0x32b')]['y']/this['downSampleRatio']),this[_0x55f3('0xe43')]=new THREE['MeshBasicMaterial']({'color':0xffffff}),this[_0x55f3('0xe43')]['side']=THREE[_0x55f3('0x308')],this[_0x55f3('0xe44')]=new THREE[(_0x55f3('0x773'))](this[_0x55f3('0x32b')]['x'],this[_0x55f3('0x32b')]['y'],_0x5a592a),this[_0x55f3('0xe44')][_0x55f3('0x1c6')][_0x55f3('0x8b')]='OutlinePass.mask',this['renderTargetMaskBuffer'][_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xe45')]=new THREE[(_0x55f3('0xe46'))](),this[_0x55f3('0xe45')][_0x55f3('0x3bf')]=THREE['DoubleSide'],this[_0x55f3('0xe45')][_0x55f3('0xe47')]=THREE[_0x55f3('0x868')],this[_0x55f3('0xe45')][_0x55f3('0x1d3')]=THREE[_0x55f3('0x75c')],this['prepareMaskMaterial']=this[_0x55f3('0xe48')](),this['prepareMaskMaterial'][_0x55f3('0x3bf')]=THREE['DoubleSide'],this[_0x55f3('0xe49')][_0x55f3('0x58')]=(_0x3f47a3=this[_0x55f3('0xe49')]['fragmentShader'],_0x48f1b4=this[_0x55f3('0xe40')][_0x55f3('0xe4a')]?_0x55f3('0xbba'):_0x55f3('0xe4b'),_0x3f47a3[_0x55f3('0x56')](/DEPTH_TO_VIEW_Z/g,_0x48f1b4+'DepthToViewZ')),this['renderTargetDepthBuffer']=new THREE[(_0x55f3('0x773'))](this[_0x55f3('0x32b')]['x'],this['resolution']['y'],_0x5a592a),this[_0x55f3('0xe4c')][_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xe4d'),this[_0x55f3('0xe4c')][_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xe4e')]=new THREE[(_0x55f3('0x773'))](_0x1fb18c,_0x721aa3,_0x5a592a),this['renderTargetMaskDownSampleBuffer'][_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xe4f'),this[_0x55f3('0xe4e')][_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1,this['renderTargetBlurBuffer1']=new THREE[(_0x55f3('0x773'))](_0x1fb18c,_0x721aa3,_0x5a592a),this[_0x55f3('0xe50')][_0x55f3('0x1c6')][_0x55f3('0x8b')]='OutlinePass.blur1',this[_0x55f3('0xe50')]['texture'][_0x55f3('0x76f')]=!0x1,this['renderTargetBlurBuffer2']=new THREE[(_0x55f3('0x773'))](Math[_0x55f3('0x1be')](_0x1fb18c/0x2),Math[_0x55f3('0x1be')](_0x721aa3/0x2),_0x5a592a),this[_0x55f3('0xe51')][_0x55f3('0x1c6')][_0x55f3('0x8b')]=_0x55f3('0xe52'),this[_0x55f3('0xe51')]['texture'][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xe53')]=this[_0x55f3('0xe54')](),this[_0x55f3('0xe55')]=new THREE[(_0x55f3('0x773'))](_0x1fb18c,_0x721aa3,_0x5a592a),this[_0x55f3('0xe55')][_0x55f3('0x1c6')]['name']=_0x55f3('0xe56'),this[_0x55f3('0xe55')][_0x55f3('0x1c6')]['generateMipmaps']=!0x1,this[_0x55f3('0xe57')]=new THREE[(_0x55f3('0x773'))](Math[_0x55f3('0x1be')](_0x1fb18c/0x2),Math[_0x55f3('0x1be')](_0x721aa3/0x2),_0x5a592a),this[_0x55f3('0xe57')][_0x55f3('0x1c6')]['name']=_0x55f3('0xe58'),this[_0x55f3('0xe57')][_0x55f3('0x1c6')][_0x55f3('0x76f')]=!0x1,this[_0x55f3('0xe59')]=this[_0x55f3('0xe5a')](0x4),this['separableBlurMaterial1']['uniforms'][_0x55f3('0xc1c')][_0x55f3('0x12')]=new THREE['Vector2'](_0x1fb18c,_0x721aa3),this['separableBlurMaterial1']['uniforms']['kernelRadius']['value']=0x1,this[_0x55f3('0xe5b')]=this[_0x55f3('0xe5a')](0x4),this[_0x55f3('0xe5b')][_0x55f3('0x164')][_0x55f3('0xc1c')]['value']=new THREE[(_0x55f3('0x1b4'))](Math[_0x55f3('0x1be')](_0x1fb18c/0x2),Math[_0x55f3('0x1be')](_0x721aa3/0x2)),this['separableBlurMaterial2']['uniforms']['kernelRadius'][_0x55f3('0x12')]=0x4,this['overlayMaterial']=this[_0x55f3('0xe5c')](),void 0x0===THREE[_0x55f3('0xbe2')]&&console[_0x55f3('0x1f5')](_0x55f3('0xe5d')),_0x3f47a3=THREE[_0x55f3('0xbe2')];this[_0x55f3('0xc17')]=THREE[_0x55f3('0xc0a')]['clone'](_0x3f47a3['uniforms']),this['copyUniforms']['opacity']['value']=0x1,this[_0x55f3('0xc18')]=new THREE[(_0x55f3('0x1e5'))]({'uniforms':this[_0x55f3('0xc17')],'vertexShader':_0x3f47a3[_0x55f3('0x57')],'fragmentShader':_0x3f47a3[_0x55f3('0x58')],'blending':THREE[_0x55f3('0x75c')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0}),this['enabled']=!0x0,this[_0x55f3('0xbcd')]=!0x1,this[_0x55f3('0xc19')]=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0xc1a')]=0x1,this['fsQuad']=new THREE['Pass'][(_0x55f3('0xbff'))](null),this['tempPulseColor1']=new THREE[(_0x55f3('0x1b7'))](),this[_0x55f3('0xe5e')]=new THREE[(_0x55f3('0x1b7'))](),this['textureMatrix']=new THREE['Matrix4']();},THREE[_0x55f3('0xbc1')][_0x55f3('0x15')]=(0x0,_0x1fb18c[_0x55f3('0x9')])((0x0,_0x721aa3[_0x55f3('0x9')])(THREE['Pass'][_0x55f3('0x15')]),{'constructor':THREE[_0x55f3('0xbc1')],'dispose':function(){this[_0x55f3('0xe44')][_0x55f3('0x93')](),this['renderTargetDepthBuffer'][_0x55f3('0x93')](),this[_0x55f3('0xe4e')][_0x55f3('0x93')](),this[_0x55f3('0xe50')][_0x55f3('0x93')](),this['renderTargetBlurBuffer2'][_0x55f3('0x93')](),this['renderTargetEdgeBuffer1'][_0x55f3('0x93')](),this[_0x55f3('0xe57')]['dispose']();},'setSize':function(_0x48f1b4,_0x5a592a){this['renderTargetMaskBuffer'][_0x55f3('0xd7')](_0x48f1b4,_0x5a592a);_0x48f1b4=Math[_0x55f3('0x1be')](_0x48f1b4/this['downSampleRatio']),_0x5a592a=Math[_0x55f3('0x1be')](_0x5a592a/this[_0x55f3('0xe42')]);this['renderTargetMaskDownSampleBuffer']['setSize'](_0x48f1b4,_0x5a592a),this[_0x55f3('0xe50')][_0x55f3('0xd7')](_0x48f1b4,_0x5a592a),this[_0x55f3('0xe55')][_0x55f3('0xd7')](_0x48f1b4,_0x5a592a),this[_0x55f3('0xe59')][_0x55f3('0x164')][_0x55f3('0xc1c')]['value']=new THREE[(_0x55f3('0x1b4'))](_0x48f1b4,_0x5a592a),_0x48f1b4=Math[_0x55f3('0x1be')](_0x48f1b4/0x2),_0x5a592a=Math[_0x55f3('0x1be')](_0x5a592a/0x2),this[_0x55f3('0xe51')]['setSize'](_0x48f1b4,_0x5a592a),this['renderTargetEdgeBuffer2'][_0x55f3('0xd7')](_0x48f1b4,_0x5a592a),this[_0x55f3('0xe5b')][_0x55f3('0x164')]['texSize'][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b4'))](_0x48f1b4,_0x5a592a);},'toggleIgnoreMaterial':function(_0x48f1b4){if(0x0<this[_0x55f3('0xa17')][_0x55f3('0xf')])for(var _0x5a592a=0x0,_0x1fb18c=this['ignoreMaterials'][_0x55f3('0xf')];_0x5a592a<_0x1fb18c;_0x5a592a++)this[_0x55f3('0xa17')][_0x5a592a][_0x55f3('0x338')]=_0x48f1b4;},'changeVisibilityOfSelectedObjects':function(_0x5a592a){function _0x48f1b4(_0x48f1b4){_0x48f1b4['isMesh']&&(_0x5a592a?(_0x48f1b4['visible']=_0x48f1b4['userData']['oldVisible'],delete _0x48f1b4[_0x55f3('0x63f')][_0x55f3('0xe5f')]):(_0x48f1b4['userData'][_0x55f3('0xe5f')]=_0x48f1b4[_0x55f3('0x338')],_0x48f1b4['visible']=_0x5a592a));}for(var _0x1fb18c=0x0;_0x1fb18c<this[_0x55f3('0xb9d')]['length'];_0x1fb18c++)this[_0x55f3('0xb9d')][_0x1fb18c][_0x55f3('0x65f')](_0x48f1b4);},'changeVisibilityOfNonSelectedObjects':function(_0x3f47a3){var _0x549e94=[];function _0x48f1b4(_0x48f1b4){_0x48f1b4[_0x55f3('0xe60')]&&_0x549e94[_0x55f3('0x73')](_0x48f1b4);}for(var _0x5a592a=0x0;_0x5a592a<this[_0x55f3('0xb9d')][_0x55f3('0xf')];_0x5a592a++)this[_0x55f3('0xb9d')][_0x5a592a]['traverse'](_0x48f1b4);this['renderScene'][_0x55f3('0x65f')](function(_0x48f1b4){if(_0x48f1b4['isMesh']||_0x48f1b4[_0x55f3('0xe61')]||_0x48f1b4[_0x55f3('0xe62')]){for(var _0x5a592a,_0x1fb18c=!0x1,_0x721aa3=0x0;_0x721aa3<_0x549e94[_0x55f3('0xf')];_0x721aa3++)if(_0x549e94[_0x721aa3]['id']===_0x48f1b4['id']){_0x1fb18c=!0x0;break;}_0x1fb18c||(_0x5a592a=_0x48f1b4[_0x55f3('0x338')],_0x3f47a3&&!_0x48f1b4[_0x55f3('0xe63')]||(_0x48f1b4[_0x55f3('0x338')]=_0x3f47a3),_0x48f1b4['bVisible']=_0x5a592a);}});},'updateTextureMatrix':function(){this['textureMatrix'][_0x55f3('0x39')](0.5,0x0,0x0,0.5,0x0,0.5,0x0,0.5,0x0,0x0,0.5,0.5,0x0,0x0,0x0,0x1),this[_0x55f3('0x7cf')]['multiply'](this[_0x55f3('0xe40')][_0x55f3('0x7df')]),this[_0x55f3('0x7cf')][_0x55f3('0x7e0')](this[_0x55f3('0xe40')][_0x55f3('0x7e1')]);},'render':function(_0x48f1b4,_0x5a592a,_0x1fb18c,_0x721aa3,_0x3f47a3){var _0x2662ee,_0x46c2db;0x0<this[_0x55f3('0xb9d')]['length']&&(this[_0x55f3('0xc19')]['copy'](_0x48f1b4[_0x55f3('0xbf4')]()),this[_0x55f3('0xc1a')]=_0x48f1b4['getClearAlpha'](),_0x2662ee=_0x48f1b4[_0x55f3('0xbf3')],_0x48f1b4[_0x55f3('0xbf3')]=!0x1,_0x3f47a3&&_0x48f1b4[_0x55f3('0xbe9')][_0x55f3('0x215')](_0x48f1b4[_0x55f3('0xbe9')][_0x55f3('0xc20')]),_0x48f1b4['setClearColor'](0xffffff,0x1),this[_0x55f3('0xe64')](!0x1),this['toggleIgnoreMaterial'](!0x1),_0x46c2db=this[_0x55f3('0xe3f')][_0x55f3('0x454')],this[_0x55f3('0xe3f')]['background']=null,this['renderScene']['overrideMaterial']=this[_0x55f3('0xe45')],_0x48f1b4['setRenderTarget'](this[_0x55f3('0xe4c')]),_0x48f1b4[_0x55f3('0x785')](),_0x48f1b4[_0x55f3('0x336')](this[_0x55f3('0xe3f')],this['renderCamera']),this[_0x55f3('0xe64')](!0x0),this[_0x55f3('0xe65')](!0x0),this[_0x55f3('0xe66')](),this['changeVisibilityOfNonSelectedObjects'](!0x1),this[_0x55f3('0xe65')](!0x1),this[_0x55f3('0xe3f')][_0x55f3('0xbf1')]=this[_0x55f3('0xe49')],this[_0x55f3('0xe49')][_0x55f3('0x164')]['cameraNearFar'][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b4'))](this[_0x55f3('0xe40')][_0x55f3('0x305')],this[_0x55f3('0xe40')][_0x55f3('0x307')]),this['prepareMaskMaterial']['uniforms']['depthTexture'][_0x55f3('0x12')]=this[_0x55f3('0xe4c')][_0x55f3('0x1c6')],this[_0x55f3('0xe49')][_0x55f3('0x164')][_0x55f3('0x7cf')][_0x55f3('0x12')]=this[_0x55f3('0x7cf')],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe44')]),_0x48f1b4[_0x55f3('0x785')](),_0x48f1b4[_0x55f3('0x336')](this[_0x55f3('0xe3f')],this['renderCamera']),this[_0x55f3('0xe3f')][_0x55f3('0xbf1')]=null,this[_0x55f3('0xe67')](!0x0),this[_0x55f3('0xe65')](!0x0),this[_0x55f3('0xe3f')][_0x55f3('0x454')]=_0x46c2db,this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this[_0x55f3('0xc18')],this[_0x55f3('0xc17')][_0x55f3('0xbfd')][_0x55f3('0x12')]=this[_0x55f3('0xe44')][_0x55f3('0x1c6')],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe4e')]),_0x48f1b4[_0x55f3('0x785')](),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x48f1b4),this[_0x55f3('0xe68')][_0x55f3('0x1ba')](this[_0x55f3('0xe41')]),this[_0x55f3('0xe5e')][_0x55f3('0x1ba')](this[_0x55f3('0xb9e')]),0x0<this['pulsePeriod']&&(_0x46c2db=0.625+0.75*Math['cos'](0.01*performance[_0x55f3('0x2c8')]()/this[_0x55f3('0xba7')])/0x2,this[_0x55f3('0xe68')][_0x55f3('0x1c1')](_0x46c2db),this[_0x55f3('0xe5e')]['multiplyScalar'](_0x46c2db)),this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this[_0x55f3('0xe53')],this[_0x55f3('0xe53')]['uniforms'][_0x55f3('0xba3')][_0x55f3('0x12')]=this['renderTargetMaskDownSampleBuffer'][_0x55f3('0x1c6')],this[_0x55f3('0xe53')]['uniforms'][_0x55f3('0xc1c')][_0x55f3('0x12')]=new THREE[(_0x55f3('0x1b4'))](this[_0x55f3('0xe4e')][_0x55f3('0x32c')],this['renderTargetMaskDownSampleBuffer']['height']),this[_0x55f3('0xe53')][_0x55f3('0x164')][_0x55f3('0xe41')][_0x55f3('0x12')]=this['tempPulseColor1'],this[_0x55f3('0xe53')][_0x55f3('0x164')][_0x55f3('0xb9e')]['value']=this['tempPulseColor2'],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe55')]),_0x48f1b4[_0x55f3('0x785')](),this['fsQuad'][_0x55f3('0x336')](_0x48f1b4),this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this['separableBlurMaterial1'],this['separableBlurMaterial1'][_0x55f3('0x164')][_0x55f3('0xc1f')][_0x55f3('0x12')]=this['renderTargetEdgeBuffer1'][_0x55f3('0x1c6')],this['separableBlurMaterial1'][_0x55f3('0x164')][_0x55f3('0x230')][_0x55f3('0x12')]=THREE[_0x55f3('0xbc1')][_0x55f3('0xc1e')],this[_0x55f3('0xe59')]['uniforms'][_0x55f3('0xe69')][_0x55f3('0x12')]=this[_0x55f3('0xba2')],_0x48f1b4[_0x55f3('0x76c')](this['renderTargetBlurBuffer1']),_0x48f1b4[_0x55f3('0x785')](),this['fsQuad']['render'](_0x48f1b4),this[_0x55f3('0xe59')][_0x55f3('0x164')][_0x55f3('0xc1f')]['value']=this[_0x55f3('0xe50')][_0x55f3('0x1c6')],this[_0x55f3('0xe59')][_0x55f3('0x164')]['direction'][_0x55f3('0x12')]=THREE[_0x55f3('0xbc1')]['BlurDirectionY'],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe55')]),_0x48f1b4[_0x55f3('0x785')](),this['fsQuad']['render'](_0x48f1b4),this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this['separableBlurMaterial2'],this[_0x55f3('0xe5b')][_0x55f3('0x164')][_0x55f3('0xc1f')][_0x55f3('0x12')]=this[_0x55f3('0xe55')][_0x55f3('0x1c6')],this[_0x55f3('0xe5b')][_0x55f3('0x164')][_0x55f3('0x230')][_0x55f3('0x12')]=THREE[_0x55f3('0xbc1')][_0x55f3('0xc1e')],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe51')]),_0x48f1b4['clear'](),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x48f1b4),this[_0x55f3('0xe5b')]['uniforms'][_0x55f3('0xc1f')][_0x55f3('0x12')]=this[_0x55f3('0xe51')][_0x55f3('0x1c6')],this['separableBlurMaterial2'][_0x55f3('0x164')][_0x55f3('0x230')][_0x55f3('0x12')]=THREE['OutlinePass'][_0x55f3('0xe6a')],_0x48f1b4[_0x55f3('0x76c')](this[_0x55f3('0xe57')]),_0x48f1b4[_0x55f3('0x785')](),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x48f1b4),this[_0x55f3('0xbfe')]['material']=this['overlayMaterial'],this['overlayMaterial'][_0x55f3('0x164')][_0x55f3('0xba3')][_0x55f3('0x12')]=this[_0x55f3('0xe44')]['texture'],this[_0x55f3('0xe6b')][_0x55f3('0x164')][_0x55f3('0xe6c')][_0x55f3('0x12')]=this['renderTargetEdgeBuffer1'][_0x55f3('0x1c6')],this[_0x55f3('0xe6b')][_0x55f3('0x164')][_0x55f3('0xe6d')]['value']=this[_0x55f3('0xe57')]['texture'],this['overlayMaterial'][_0x55f3('0x164')]['patternTexture'][_0x55f3('0x12')]=this['patternTexture'],this[_0x55f3('0xe6b')][_0x55f3('0x164')]['edgeStrength']['value']=this[_0x55f3('0xba0')],this[_0x55f3('0xe6b')]['uniforms'][_0x55f3('0xbc2')]['value']=this[_0x55f3('0xbc2')],this['overlayMaterial'][_0x55f3('0x164')]['usePatternTexture'][_0x55f3('0x12')]=this[_0x55f3('0xba5')],_0x3f47a3&&_0x48f1b4[_0x55f3('0xbe9')][_0x55f3('0x214')](_0x48f1b4['context'][_0x55f3('0xc20')]),_0x48f1b4[_0x55f3('0x76c')](_0x1fb18c),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x48f1b4),_0x48f1b4[_0x55f3('0xbf6')](this[_0x55f3('0xc19')],this['oldClearAlpha']),_0x48f1b4[_0x55f3('0xbf3')]=_0x2662ee),this['renderToScreen']&&(this[_0x55f3('0xbfe')][_0x55f3('0x3f')]=this['materialCopy'],this[_0x55f3('0xc17')][_0x55f3('0xbfd')][_0x55f3('0x12')]=_0x1fb18c[_0x55f3('0x1c6')],_0x48f1b4[_0x55f3('0x76c')](null),this[_0x55f3('0xbfe')][_0x55f3('0x336')](_0x48f1b4));},'getPrepareMaskMaterial':function(){return new THREE[(_0x55f3('0x1e5'))]({'uniforms':{'depthTexture':{'value':null},'cameraNearFar':{'value':new THREE['Vector2'](0.5,0.5)},'textureMatrix':{'value':new THREE[(_0x55f3('0x324'))]()}},'vertexShader':['varying\x20vec4\x20projTexCoord;',_0x55f3('0xe6e'),'uniform\x20mat4\x20textureMatrix;','void\x20main()\x20{',_0x55f3('0xe6f'),_0x55f3('0xe70'),_0x55f3('0xe71'),'\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);','}'][_0x55f3('0x106')]('\x0a'),'fragmentShader':['#include\x20<packing>',_0x55f3('0xe6e'),_0x55f3('0xe72'),_0x55f3('0xe73'),_0x55f3('0xe74'),_0x55f3('0x3f7'),_0x55f3('0xe75'),'\x09float\x20viewZ\x20=\x20-\x20DEPTH_TO_VIEW_Z(\x20depth,\x20cameraNearFar.x,\x20cameraNearFar.y\x20);',_0x55f3('0xe76'),_0x55f3('0xe77'),'}'][_0x55f3('0x106')]('\x0a')});},'getEdgeDetectionMaterial':function(){return new THREE[(_0x55f3('0x1e5'))]({'uniforms':{'maskTexture':{'value':null},'texSize':{'value':new THREE[(_0x55f3('0x1b4'))](0.5,0.5)},'visibleEdgeColor':{'value':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)},'hiddenEdgeColor':{'value':new THREE[(_0x55f3('0x5a'))](0x1,0x1,0x1)}},'vertexShader':_0x55f3('0x75a'),'fragmentShader':_0x55f3('0xe78')});},'getSeperableBlurMaterial':function(_0x48f1b4){return new THREE[(_0x55f3('0x1e5'))]({'defines':{'MAX_RADIUS':_0x48f1b4},'uniforms':{'colorTexture':{'value':null},'texSize':{'value':new THREE[(_0x55f3('0x1b4'))](0.5,0.5)},'direction':{'value':new THREE[(_0x55f3('0x1b4'))](0.5,0.5)},'kernelRadius':{'value':0x1}},'vertexShader':_0x55f3('0x75a'),'fragmentShader':_0x55f3('0xe79')});},'getOverlayMaterial':function(){return new THREE[(_0x55f3('0x1e5'))]({'uniforms':{'maskTexture':{'value':null},'edgeTexture1':{'value':null},'edgeTexture2':{'value':null},'patternTexture':{'value':null},'edgeStrength':{'value':0x1},'edgeGlow':{'value':0x1},'usePatternTexture':{'value':0x0}},'vertexShader':'varying\x20vec2\x20vUv;\x0a\x09\x09\x09\x09void\x20main()\x20{\x0a\x09\x09\x09\x09\x09vUv\x20=\x20uv;\x0a\x09\x09\x09\x09\x09gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(\x20position,\x201.0\x20);\x0a\x09\x09\x09\x09}','fragmentShader':'varying\x20vec2\x20vUv;\x09\x09\x09\x09uniform\x20sampler2D\x20maskTexture;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture1;\x09\x09\x09\x09uniform\x20sampler2D\x20edgeTexture2;\x09\x09\x09\x09uniform\x20sampler2D\x20patternTexture;\x09\x09\x09\x09uniform\x20float\x20edgeStrength;\x09\x09\x09\x09uniform\x20float\x20edgeGlow;\x09\x09\x09\x09uniform\x20bool\x20usePatternTexture;\x09\x09\x09\x09\x09\x09\x09\x09void\x20main()\x20{\x09\x09\x09\x09\x09vec4\x20edgeValue1\x20=\x20texture2D(edgeTexture1,\x20vUv);\x09\x09\x09\x09\x09vec4\x20edgeValue2\x20=\x20texture2D(edgeTexture2,\x20vUv);\x09\x09\x09\x09\x09vec4\x20maskColor\x20=\x20texture2D(maskTexture,\x20vUv);\x09\x09\x09\x09\x09vec4\x20patternColor\x20=\x20texture2D(patternTexture,\x206.0\x20*\x20vUv);\x09\x09\x09\x09\x09float\x20visibilityFactor\x20=\x201.0\x20-\x20maskColor.g\x20>\x200.0\x20?\x201.0\x20:\x200.5;\x09\x09\x09\x09\x09vec4\x20edgeValue\x20=\x20edgeValue1\x20+\x20edgeValue2\x20*\x20edgeGlow;\x09\x09\x09\x09\x09vec4\x20finalColor\x20=\x20edgeStrength\x20*\x20maskColor.r\x20*\x20edgeValue;\x09\x09\x09\x09\x09if(usePatternTexture)\x09\x09\x09\x09\x09\x09finalColor\x20+=\x20+\x20visibilityFactor\x20*\x20(1.0\x20-\x20maskColor.r)\x20*\x20(1.0\x20-\x20patternColor.r);\x09\x09\x09\x09\x09gl_FragColor\x20=\x20finalColor;\x09\x09\x09\x09}','blending':THREE[_0x55f3('0x1d4')],'depthTest':!0x1,'depthWrite':!0x1,'transparent':!0x0});}}),THREE[_0x55f3('0xbc1')][_0x55f3('0xc1e')]=new THREE[(_0x55f3('0x1b4'))](0x1,0x0),THREE['OutlinePass'][_0x55f3('0xe6a')]=new THREE[(_0x55f3('0x1b4'))](0x0,0x1);},function(_0x227fd5,_0x3bd5e0,_0xed5b6f){'use strict';Object[_0x55f3('0x4')](_0x3bd5e0,_0x55f3('0x7'),{'value':!0x0});var _0xf28bec=_0x2d572b(_0xed5b6f(0x4)),_0x1fa3e3=_0x2d572b(_0xed5b6f(0x0)),_0xd9278a=_0x2d572b(_0xed5b6f(0x1)),_0x591ed4=_0xed5b6f(0x17);function _0x2d572b(_0x227fd5){return _0x227fd5&&_0x227fd5['__esModule']?_0x227fd5:{'default':_0x227fd5};}function _0x474a24(){(0x0,_0x1fa3e3[_0x55f3('0x9')])(this,_0x474a24),this[_0x55f3('0x94')]=(0x0,_0x591ed4[_0x55f3('0x2c')])(),this['enabled']=!0x1,this[_0x55f3('0xe7a')]=!0x1,this['isRealTimeUpdate']=!0x1,this[_0x55f3('0xe7b')]=null,this[_0x55f3('0xe7c')]={'bias':-0.0001,'normalBias':0x0,'radius':0x1,'mapWidth':0x800,'mapHeight':0x800},this[_0x55f3('0xe7d')]=null,this['shadowCamera']=null,this[_0x55f3('0xe7e')]=null,this[_0x55f3('0x999')]=!0x1,this['shadowPlane']=null,this['spherical']=new THREE[(_0x55f3('0xe7f'))](),this[_0x55f3('0xe80')]=new THREE['Vector3']();}(0x0,_0xd9278a[_0x55f3('0x9')])(_0x474a24,[{'key':_0x55f3('0xe81'),'value':function(_0x227fd5){var _0x3bd5e0;_0x227fd5[_0x55f3('0xe7c')]&&(_0x3bd5e0=_0x227fd5[_0x55f3('0xe7c')][_0x55f3('0xa91')]||_0x227fd5[_0x55f3('0xe7c')][_0x55f3('0x307')]||0x7d0,this['shadowCamera']=new THREE[(_0x55f3('0x781'))](0x2d,0x1,_0x227fd5[_0x55f3('0xe7c')][_0x55f3('0xe82')]*_0x3bd5e0,_0x227fd5[_0x55f3('0xe7c')][_0x55f3('0xe83')]*_0x3bd5e0));}},{'key':'init2','value':function(_0x227fd5){this['dataConfigs']=_0x227fd5,this['enabled']=!0x0,this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xe84')]=!!_0x227fd5[_0x55f3('0x565')],this[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer']['shadowMap'][_0x55f3('0xeb')]=THREE[_0x55f3('0xe85')];var _0x3bd5e0=this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x227fd5[_0x55f3('0x957')]||_0x55f3('0xb62')],_0xed5b6f=(_0x227fd5[_0x55f3('0x32b')]&&(this[_0x55f3('0xe7c')]['mapWidth']=_0x227fd5[_0x55f3('0x32b')],this[_0x55f3('0xe7c')][_0x55f3('0xe86')]=_0x227fd5[_0x55f3('0x32b')]),this[_0x55f3('0x800')]||(this[_0x55f3('0x800')]=new THREE[(_0x55f3('0x781'))](0x2d,0x1,0xa,0x3e8)),new THREE[(_0x55f3('0x33b'))]());this['map'][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0xed5b6f),_0x3bd5e0[_0x55f3('0x81')]=_0xed5b6f,_0x3bd5e0[_0x55f3('0x806')]=!0x0,_0x3bd5e0['shadow']=new THREE[(_0x55f3('0xe87'))](this[_0x55f3('0x800')]),_0x3bd5e0[_0x55f3('0x956')][_0x55f3('0x21e')]=0.1,_0x3bd5e0['shadow'][_0x55f3('0xe88')]=_0x227fd5[_0x55f3('0xe88')]||this[_0x55f3('0xe7c')][_0x55f3('0xe88')],_0x3bd5e0['shadow'][_0x55f3('0xe89')]=_0x227fd5[_0x55f3('0xe89')]||this[_0x55f3('0xe7c')]['normalBias'],_0x3bd5e0['shadow']['radius']=this[_0x55f3('0xe7c')][_0x55f3('0x21e')],_0x3bd5e0['shadow']['mapSize'][_0x55f3('0x32c')]=this[_0x55f3('0xe7c')][_0x55f3('0xe8a')],_0x3bd5e0[_0x55f3('0x956')][_0x55f3('0x76a')][_0x55f3('0x32d')]=this['shadowConfigs'][_0x55f3('0xe86')],_0x227fd5[_0x55f3('0x565')]&&(_0xed5b6f=new THREE[(_0x55f3('0xe8b'))](_0x3bd5e0[_0x55f3('0x956')][_0x55f3('0x306')]),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1c3')](_0xed5b6f),this[_0x55f3('0xe7e')]=_0xed5b6f),this[_0x55f3('0xe7b')]=_0x3bd5e0;}},{'key':_0x55f3('0xe8c'),'value':function(_0x227fd5,_0x3bd5e0){this[_0x55f3('0x555')]=!0x0,this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')]['shadowMap'][_0x55f3('0xe84')]=!!_0x3bd5e0['debug'],this[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer'][_0x55f3('0x991')]['type']=THREE[_0x55f3('0xe85')],_0x3bd5e0[_0x55f3('0x32b')]&&(this[_0x55f3('0xe7c')][_0x55f3('0xe8a')]=_0x3bd5e0[_0x55f3('0x32b')],this['shadowConfigs']['mapHeight']=_0x3bd5e0['resolution']),this[_0x55f3('0x800')]=new THREE[(_0x55f3('0x781'))](0x2d,0x1,0xa,0x3e8);var _0xed5b6f=new THREE[(_0x55f3('0x33b'))]();this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')][_0x55f3('0x1c3')](_0xed5b6f),_0x227fd5[_0x55f3('0x81')]=_0xed5b6f,_0x227fd5['castShadow']=!0x0,_0x227fd5[_0x55f3('0x956')]=new THREE[(_0x55f3('0xe87'))](this['shadowCamera']),_0x227fd5[_0x55f3('0x956')][_0x55f3('0x21e')]=0.1,_0x227fd5[_0x55f3('0x956')]['bias']=_0x3bd5e0[_0x55f3('0xe88')]||this['shadowConfigs'][_0x55f3('0xe88')],_0x227fd5[_0x55f3('0x956')]['normalBias']=_0x3bd5e0['normalBias']||this[_0x55f3('0xe7c')][_0x55f3('0xe89')],_0x227fd5[_0x55f3('0x956')]['radius']=this[_0x55f3('0xe7c')][_0x55f3('0x21e')],_0x227fd5[_0x55f3('0x956')][_0x55f3('0x76a')][_0x55f3('0x32c')]=this[_0x55f3('0xe7c')][_0x55f3('0xe8a')],_0x227fd5[_0x55f3('0x956')]['mapSize'][_0x55f3('0x32d')]=this['shadowConfigs'][_0x55f3('0xe86')],_0x3bd5e0[_0x55f3('0x565')]&&(_0xed5b6f=new THREE[(_0x55f3('0xe8b'))](_0x227fd5[_0x55f3('0x956')][_0x55f3('0x306')]),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x416')]['add'](_0xed5b6f),this[_0x55f3('0xe7e')]=_0xed5b6f),this[_0x55f3('0xe7b')]=_0x227fd5,this['shadowLight'];}},{'key':_0x55f3('0x958'),'value':function(_0x227fd5,_0x3bd5e0,_0xed5b6f){var _0x1fa3e3;_0x227fd5&&this[_0x55f3('0x800')]&&(_0x1fa3e3=Math[_0x55f3('0xf2')](this['map']['controls'][_0x55f3('0xe8d')](),0xbb8),esmap[_0x55f3('0x4e')]['_controlMove']&&this[_0x55f3('0xe7a')]&&!this[_0x55f3('0xe8e')]&&this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')][_0x55f3('0x381')](_0x227fd5[_0x55f3('0x81')]['position'])<Math[_0x55f3('0xf2')](0.25*_0x1fa3e3,0x64)||this[_0x55f3('0xe8f')](_0x227fd5,_0x3bd5e0));}},{'key':_0x55f3('0xe8f'),'value':function(_0x227fd5,_0x3bd5e0){var _0xed5b6f=(0x0,_0x591ed4['directionFromAlphaBeta'])(_0x227fd5[_0x55f3('0x37e')],_0x227fd5['directionAngle']),_0xed5b6f=(_0x227fd5[_0x55f3('0x38')][_0x55f3('0x1ba')](_0xed5b6f),_0x3bd5e0[_0x55f3('0xe7c')][_0x55f3('0xa91')]||_0x3bd5e0[_0x55f3('0xe7c')][_0x55f3('0x307')]||0x7d0);_0x227fd5[_0x55f3('0x38')]['normalize']()['multiplyScalar'](_0xed5b6f)['add'](new THREE['Vector3'](this[_0x55f3('0x94')][_0x55f3('0x389')]['target']['x'],0x0,this[_0x55f3('0x94')]['controls'][_0x55f3('0x81')]['z'])),_0x227fd5['target'][_0x55f3('0x38')][_0x55f3('0x1ba')](new THREE['Vector3'](this[_0x55f3('0x94')]['controls'][_0x55f3('0x81')]['x'],0x0,this[_0x55f3('0x94')]['controls'][_0x55f3('0x81')]['z'])),_0x227fd5[_0x55f3('0x81')]['updateMatrixWorld'](!0x0),_0x3bd5e0['shadowConfigs']&&_0x3bd5e0['shadowConfigs']['nearFactor']&&_0x3bd5e0[_0x55f3('0xe7c')][_0x55f3('0xe83')]?(this[_0x55f3('0x800')][_0x55f3('0x305')]=_0xed5b6f*_0x3bd5e0[_0x55f3('0xe7c')][_0x55f3('0xe82')],this[_0x55f3('0x800')][_0x55f3('0x307')]=_0xed5b6f*_0x3bd5e0[_0x55f3('0xe7c')][_0x55f3('0xe83')]):(this[_0x55f3('0x800')][_0x55f3('0x305')]=0.4*_0xed5b6f,this[_0x55f3('0x800')]['far']=0.4*_0xed5b6f*0x3),this[_0x55f3('0x800')]['updateProjectionMatrix'](),_0x3bd5e0[_0x55f3('0x565')]&&_0x227fd5[_0x55f3('0x874')]&&(_0x227fd5[_0x55f3('0x874')][_0x55f3('0x2f8')](),this[_0x55f3('0xe7e')]&&this[_0x55f3('0xe7e')]['update']()),this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0,this[_0x55f3('0xe7a')]=!0x0;}},{'key':_0x55f3('0xa1f'),'value':function(_0x227fd5){for(var _0x3bd5e0=this,_0xed5b6f=_0x227fd5[_0x55f3('0xa26')],_0x1fa3e3=_0x227fd5[_0x55f3('0x6ed')],_0x1fa3e3=void 0x0===_0x1fa3e3||_0x1fa3e3,_0x227fd5=_0x227fd5[_0x55f3('0xa9f')],_0x227fd5=void 0x0===_0x227fd5?1.5:_0x227fd5,_0xd9278a=null,_0x2d572b=0x0;_0x2d572b<_0xed5b6f['directLight']['length'];_0x2d572b++)_0xed5b6f[_0x55f3('0x973')][_0x2d572b][_0x55f3('0x8b')]===this['shadowLight'][_0x55f3('0x8b')]&&(_0xd9278a=_0xed5b6f[_0x55f3('0x973')][_0x2d572b]);this[_0x55f3('0xe7b')]&&_0xd9278a&&_0xd9278a[_0x55f3('0x618')]&&_0xd9278a['pitchAngle']&&(_0x1fa3e3?new TWEEN[(_0x55f3('0x331'))]({'directionAngle':this[_0x55f3('0xe7b')]['directionAngle'],'pitchAngle':this['shadowLight'][_0x55f3('0x37e')],'targetX':this[_0x55f3('0xe7b')][_0x55f3('0x81')]['position']['x'],'targetY':this[_0x55f3('0xe7b')][_0x55f3('0x81')][_0x55f3('0x38')]['y'],'targetZ':this['shadowLight']['target'][_0x55f3('0x38')]['z']})['to']({'directionAngle':_0xd9278a[_0x55f3('0x618')],'pitchAngle':_0xd9278a[_0x55f3('0x37e')],'targetX':_0xed5b6f['shadow'][_0x55f3('0xe7c')][_0x55f3('0x81')]['x'],'targetY':_0xed5b6f[_0x55f3('0x956')][_0x55f3('0xe7c')][_0x55f3('0x81')]['y'],'targetZ':_0xed5b6f[_0x55f3('0x956')][_0x55f3('0xe7c')][_0x55f3('0x81')]['z']},0x3e8*_0x227fd5)[_0x55f3('0x333')](TWEEN[_0x55f3('0x334')][_0x55f3('0x54d')][_0x55f3('0x54e')])[_0x55f3('0x394')](function(){_0x3bd5e0[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xe84')]=!0x0;})['onUpdate'](function(_0x227fd5){_0x3bd5e0['shadowLight'][_0x55f3('0x81')][_0x55f3('0x38')]['set'](_0x227fd5[_0x55f3('0xe90')],_0x227fd5['targetY'],_0x227fd5[_0x55f3('0xe91')]),_0x3bd5e0['shadowLight'][_0x55f3('0x618')]=_0x227fd5[_0x55f3('0x618')],_0x3bd5e0[_0x55f3('0xe7b')][_0x55f3('0x37e')]=_0x227fd5['pitchAngle'],_0x3bd5e0[_0x55f3('0xe8f')](_0x3bd5e0[_0x55f3('0xe7b')],_0xed5b6f['shadow']);})[_0x55f3('0x6a7')](function(){_0x3bd5e0[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0xe84')]=!0x1,_0x3bd5e0[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')][_0x55f3('0x555')]=!0x0,_0x3bd5e0[_0x55f3('0x94')][_0x55f3('0x41b')]['renderer'][_0x55f3('0x991')][_0x55f3('0xf7')]=!0x0;})[_0x55f3('0x395')]():(this[_0x55f3('0xe7b')]['target'][_0x55f3('0x38')]['set'](+_0xed5b6f[_0x55f3('0x956')][_0x55f3('0xe7c')][_0x55f3('0x81')]['x'],+_0xed5b6f[_0x55f3('0x956')][_0x55f3('0xe7c')][_0x55f3('0x81')]['y'],+_0xed5b6f[_0x55f3('0x956')][_0x55f3('0xe7c')]['target']['x']),this[_0x55f3('0xe7b')][_0x55f3('0x618')]=_0xd9278a['directionAngle'],this[_0x55f3('0xe7b')][_0x55f3('0x37e')]=_0xd9278a[_0x55f3('0x37e')],this[_0x55f3('0xe8f')](this[_0x55f3('0xe7b')],_0xed5b6f[_0x55f3('0x956')])));}},{'key':_0x55f3('0xe92'),'value':function(_0x3bd5e0,_0xed5b6f){var _0x1fa3e3=this,_0x227fd5=esmap['ESEffectTool'][_0x55f3('0x5da')]['getLights']()[_0x55f3('0xa8e')]||this['map'][_0x55f3('0x41b')][_0x55f3('0xb62')],_0x227fd5=(this['initTileMapShadow'](_0x227fd5,_0x3bd5e0[_0x55f3('0x956')]),new THREE[(_0x55f3('0x515'))]({'color':_0x55f3('0x435'),'transparent':!0x0,'depthWrite':!0x1}));_0x227fd5[_0x55f3('0x44d')]=function(_0x227fd5){_0x227fd5[_0x55f3('0x58')]=_0x227fd5['fragmentShader'][_0x55f3('0x56')](_0x55f3('0x4f8'),_0x55f3('0xe93'));},this[_0x55f3('0xa00')]=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x520'))](0x1,0x1),_0x227fd5),this[_0x55f3('0xa00')][_0x55f3('0x8b')]=_0x55f3('0xe94'),this[_0x55f3('0xa00')][_0x55f3('0x1ef')]['x']=0.5*-Math['PI'],this[_0x55f3('0xa00')]['receiveShadow']=!0x0,this[_0x55f3('0xa00')][_0x55f3('0x338')]=!_0x3bd5e0['shadow'][_0x55f3('0x22a')],this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')]['add'](this[_0x55f3('0xa00')]),this['updateTileShadow'](_0x3bd5e0[_0x55f3('0x956')]),this[_0x55f3('0x94')]['on']('tileInitComplete',function(_0x227fd5){setTimeout(function(){_0x1fa3e3[_0x55f3('0xe95')](_0x3bd5e0[_0x55f3('0x956')]);},0xfa0);}),this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x2cc')]('end',function(_0x227fd5){_0x3bd5e0[_0x55f3('0x956')][_0x55f3('0x22a')]||_0x1fa3e3[_0x55f3('0xe95')](_0x3bd5e0[_0x55f3('0x956')],_0xed5b6f);});}},{'key':_0x55f3('0xe95'),'value':function(_0x227fd5,_0x3bd5e0){var _0xed5b6f,_0x1fa3e3,_0xd9278a=esmap['ESEffectTool'][_0x55f3('0x5da')][_0x55f3('0xe96')]();_0xd9278a&&_0xd9278a[_0x55f3('0xa8e')]&&(_0xed5b6f=Math['max'](this['map'][_0x55f3('0x389')][_0x55f3('0xe8d')](),0xfa0),esmap[_0x55f3('0x4e')][_0x55f3('0xe97')]&&this[_0x55f3('0xe7a')]&&this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')][_0x55f3('0x381')](_0xd9278a['tileBuildingLight'][_0x55f3('0x81')][_0x55f3('0x38')])<Math[_0x55f3('0xf2')](0.25*_0xed5b6f,0x64)||(this[_0x55f3('0xa00')][_0x55f3('0x38')][_0x55f3('0x39')](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['x'],0x0,this[_0x55f3('0x94')]['controls'][_0x55f3('0x81')]['z']),this[_0x55f3('0xa00')][_0x55f3('0x1d9')][_0x55f3('0x39')](0xa*_0xed5b6f,0xa*_0xed5b6f,0x1),_0x1fa3e3=(0x0,_0x591ed4['directionFromAlphaBeta'])(_0xd9278a['tileBuildingLight'][_0x55f3('0x37e')],_0xd9278a[_0x55f3('0xa8e')]['directionAngle']),_0xd9278a[_0x55f3('0xa8e')][_0x55f3('0x38')]['copy'](_0x1fa3e3),_0xd9278a[_0x55f3('0xa8e')][_0x55f3('0x38')][_0x55f3('0x1c2')]()[_0x55f3('0x1c1')](_0xed5b6f)[_0x55f3('0x1c3')](new THREE[(_0x55f3('0x5a'))](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['x'],0x0,this[_0x55f3('0x94')]['controls'][_0x55f3('0x81')]['z'])),_0xd9278a['tileBuildingLight'][_0x55f3('0x81')][_0x55f3('0x38')][_0x55f3('0x1ba')](new THREE[(_0x55f3('0x5a'))](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['x'],0x0,this['map'][_0x55f3('0x389')]['target']['z'])),_0xd9278a[_0x55f3('0xa8e')][_0x55f3('0x81')][_0x55f3('0x7de')](!0x0),this['shadowCamera'][_0x55f3('0x305')]=0.7*_0xed5b6f,this[_0x55f3('0x800')][_0x55f3('0x307')]=1.4*_0xed5b6f,this[_0x55f3('0x800')][_0x55f3('0x779')](),_0x227fd5[_0x55f3('0x565')]&&(_0xd9278a['tileBuildingLight']['helper'][_0x55f3('0x2f8')](),this[_0x55f3('0xe7e')][_0x55f3('0x2f8')]()),this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0x991')]['needsUpdate']=!0x0,this[_0x55f3('0xe7a')]=!0x0));}},{'key':'setRoomShadow','value':function(_0x227fd5){var _0x3bd5e0=(0x0,_0x591ed4[_0x55f3('0x2b')])(0x0)[_0x55f3('0x5e6')](0x1)[_0x55f3('0xa4b')]([esmap[_0x55f3('0x5d3')][_0x55f3('0xa4c')],esmap['ESLayerType']['MODEL_BASE'],esmap[_0x55f3('0x5d3')]['FLOOR_BASE']]),_0xed5b6f=!0x0,_0x1fa3e3=!0x1,_0xd9278a=void 0x0;try{for(var _0x2d572b,_0x474a24=(0x0,_0xf28bec['default'])(_0x3bd5e0);!(_0xed5b6f=(_0x2d572b=_0x474a24['next']())['done']);_0xed5b6f=!0x0){var _0x4f693a=_0x2d572b[_0x55f3('0x12')],_0x2cd689=!0x0,_0x47c863=!0x1,_0x4c5892=void 0x0;try{for(var _0x1963e5,_0x5e2cb3=(0x0,_0xf28bec[_0x55f3('0x9')])(_0x4f693a[_0x55f3('0x5e9')]['children']);!(_0x2cd689=(_0x1963e5=_0x5e2cb3[_0x55f3('0x85')]())['done']);_0x2cd689=!0x0){var _0x55b866=_0x1963e5[_0x55f3('0x12')];if(_0x55b866[_0x55f3('0x3d')][_0x55f3('0x4b5')]){var _0x504aca=!0x0,_0x5ae441=!0x1,_0x1ae857=void 0x0;try{for(var _0x398790,_0x2b3f1c=(0x0,_0xf28bec[_0x55f3('0x9')])(_0x55b866[_0x55f3('0x3d')][_0x55f3('0x4b5')]);!(_0x504aca=(_0x398790=_0x2b3f1c[_0x55f3('0x85')]())['done']);_0x504aca=!0x0){var _0x54614b=_0x398790[_0x55f3('0x12')],_0x54e446=+_0x227fd5[_0x55f3('0xe98')]||0x5;if(_0x54614b[_0x55f3('0xe99')]>_0x54e446){_0x55b866[_0x55f3('0x806')]=!0x0;break;}_0x55b866[_0x55f3('0x7d9')]=!0x0;break;}}catch(_0x433bcd){_0x5ae441=!0x0,_0x1ae857=_0x433bcd;}finally{try{!_0x504aca&&_0x2b3f1c['return']&&_0x2b3f1c['return']();}finally{if(_0x5ae441)throw _0x1ae857;}}}else _0x55b866[_0x55f3('0x7d9')]=!0x0;_0x55b866[_0x55f3('0x3d')][_0x55f3('0x9c6')];}}catch(_0x449778){_0x47c863=!0x0,_0x4c5892=_0x449778;}finally{try{!_0x2cd689&&_0x5e2cb3['return']&&_0x5e2cb3[_0x55f3('0x271')]();}finally{if(_0x47c863)throw _0x4c5892;}}}}catch(_0x57ac7b){_0x1fa3e3=!0x0,_0xd9278a=_0x57ac7b;}finally{try{!_0xed5b6f&&_0x474a24[_0x55f3('0x271')]&&_0x474a24[_0x55f3('0x271')]();}finally{if(_0x1fa3e3)throw _0xd9278a;}}}},{'key':'setBuildingRoomShadow','value':function(_0x227fd5,_0x3bd5e0){_0x227fd5[_0x55f3('0x5e9')]['traverse'](function(_0x227fd5){_0x55f3('0x317')===_0x227fd5[_0x55f3('0xeb')]&&(_0x227fd5['castShadow']=_0x3bd5e0,_0x227fd5[_0x55f3('0x7d9')]=_0x3bd5e0,_0x227fd5['material'][_0x55f3('0xf7')]=!0x0);});}},{'key':_0x55f3('0xe9a'),'value':function(_0x1fa3e3,_0xd9278a){var _0x2d572b=this;_0x1fa3e3[_0x55f3('0x5e9')][_0x55f3('0x65f')](function(_0x227fd5){var _0x3bd5e0=!0x0,_0xed5b6f=!0x0;_0x55f3('0x33b')===_0x227fd5[_0x55f3('0xeb')]||_0x55f3('0x1c4')===_0x227fd5[_0x55f3('0xeb')]?(_0x227fd5[_0x55f3('0x8b')]&&-0x1<_0x227fd5[_0x55f3('0x8b')][_0x55f3('0x4b')](_0x55f3('0xe9b'))?_0xed5b6f=!(_0x3bd5e0=!0x1):_0x227fd5[_0x55f3('0x8b')]&&-0x1<_0x227fd5[_0x55f3('0x8b')][_0x55f3('0x4b')](_0x55f3('0xe9c'))?_0xed5b6f=!(_0x3bd5e0=!0x0):_0x227fd5['name']&&-0x1<_0x227fd5[_0x55f3('0x8b')]['indexOf'](_0x55f3('0xe9d'))&&(_0xed5b6f=_0x3bd5e0=!0x1),_0x2d572b[_0x55f3('0xe9e')](_0x227fd5,_0xed5b6f,_0x3bd5e0)):_0x55f3('0x317')===_0x227fd5[_0x55f3('0xeb')]&&(_0x1fa3e3[_0x55f3('0xe9f')]&&(_0xed5b6f=!(_0x3bd5e0=!0x0)),-0x1!=_0xd9278a[_0x55f3('0x9c9')][_0x55f3('0x4b')](_0x55f3('0xea0'))&&(_0xed5b6f=!(_0x3bd5e0=!0x0)),-0x1!=_0xd9278a['model'][_0x55f3('0x4b')](_0x55f3('0xea1'))&&(_0xed5b6f=!(_0x3bd5e0=!0x1)),-0x1!=_0xd9278a[_0x55f3('0x9c9')]['indexOf'](_0x55f3('0xea2'))&&(_0xed5b6f=_0x3bd5e0=!0x1),_0x227fd5['name']&&-0x1<_0x227fd5[_0x55f3('0x8b')][_0x55f3('0x4b')](_0x55f3('0xe9b'))?_0xed5b6f=!(_0x3bd5e0=!0x1):_0x227fd5[_0x55f3('0x8b')]&&-0x1<_0x227fd5[_0x55f3('0x8b')]['indexOf'](_0x55f3('0xe9c'))?_0xed5b6f=!(_0x3bd5e0=!0x0):_0x227fd5[_0x55f3('0x8b')]&&-0x1<_0x227fd5[_0x55f3('0x8b')]['indexOf'](_0x55f3('0xe9d'))&&(_0xed5b6f=_0x3bd5e0=!0x1),_0x227fd5[_0x55f3('0x806')]=_0xed5b6f,_0x227fd5[_0x55f3('0x7d9')]=_0x3bd5e0);});}},{'key':_0x55f3('0xea3'),'value':function(_0x227fd5,_0x3bd5e0){if(_0x227fd5[_0x55f3('0x4b5')]){var _0xed5b6f=!0x0,_0x1fa3e3=!0x1,_0xd9278a=void 0x0;try{for(var _0x2d572b,_0x474a24=(0x0,_0xf28bec[_0x55f3('0x9')])(_0x227fd5[_0x55f3('0x4b5')]);!(_0xed5b6f=(_0x2d572b=_0x474a24[_0x55f3('0x85')]())['done']);_0xed5b6f=!0x0){var _0x52e756=_0x2d572b[_0x55f3('0x12')];this['setMarkerShadowConfig'](_0x227fd5,_0x52e756);}}catch(_0x359bae){_0x1fa3e3=!0x0,_0xd9278a=_0x359bae;}finally{try{!_0xed5b6f&&_0x474a24['return']&&_0x474a24[_0x55f3('0x271')]();}finally{if(_0x1fa3e3)throw _0xd9278a;}}}else _0x227fd5[_0x55f3('0x9cc')]&&this[_0x55f3('0xe9a')](_0x227fd5,_0x227fd5);}},{'key':_0x55f3('0xe9e'),'value':function(_0x227fd5,_0x3bd5e0,_0xed5b6f){_0x55f3('0x33b')!==_0x227fd5[_0x55f3('0xeb')]&&'Group'!==_0x227fd5[_0x55f3('0xeb')]||_0x227fd5[_0x55f3('0x65f')](function(_0x227fd5){'Mesh'===_0x227fd5['type']&&(_0x227fd5[_0x55f3('0x806')]=_0x3bd5e0,_0x227fd5[_0x55f3('0x7d9')]=_0xed5b6f);}),'Mesh'===_0x227fd5[_0x55f3('0xeb')]&&(_0x227fd5[_0x55f3('0x806')]=_0x3bd5e0,_0x227fd5['receiveShadow']=_0xed5b6f);}},{'key':_0x55f3('0xea4'),'value':function(_0x227fd5){var _0x3bd5e0=new THREE[(_0x55f3('0xe46'))]({'depthPacking':THREE[_0x55f3('0x868')]}),_0xed5b6f=this;_0x3bd5e0[_0x55f3('0x44d')]=function(_0x227fd5){_0x227fd5[_0x55f3('0x164')][_0x55f3('0x862')]={'value':_0xed5b6f[_0x55f3('0x800')][_0x55f3('0x7e1')]},_0x227fd5[_0x55f3('0x57')]=_0x227fd5[_0x55f3('0x57')][_0x55f3('0x56')]('#include\x20<common>\x0a',_0x55f3('0x864')+_0xed5b6f[_0x55f3('0x831')])[_0x55f3('0x56')](_0x55f3('0x43c'),_0x55f3('0x865')+_0xed5b6f[_0x55f3('0x869')])[_0x55f3('0x56')](_0x55f3('0x446'),_0xed5b6f[_0x55f3('0x850')]);},_0x227fd5['customDepthMaterial']=_0x3bd5e0;}},{'key':_0x55f3('0xea5'),'value':function(){var _0x227fd5=new THREE['Quaternion']()['setFromUnitVectors'](new THREE[(_0x55f3('0x5a'))](0x0,0x1,0x0),this[_0x55f3('0xe7b')][_0x55f3('0x38')]),_0x227fd5=new THREE['Vector3'](0x1,0x0,0x0)[_0x55f3('0xea6')](_0x227fd5);this[_0x55f3('0xe7b')][_0x55f3('0x38')][_0x55f3('0xea7')](_0x227fd5,0x14);}}]),_0x3bd5e0[_0x55f3('0x9')]=_0x474a24;},function(_0x311241,_0x15f849,_0x4c8a5b){'use strict';Object['defineProperty'](_0x15f849,_0x55f3('0x7'),{'value':!0x0});var _0x274353=_0x526f7d(_0x4c8a5b(0x0)),_0x49f725=_0x526f7d(_0x4c8a5b(0x1)),_0x38fabf=_0x4c8a5b(0x17);function _0x526f7d(_0x311241){return _0x311241&&_0x311241['__esModule']?_0x311241:{'default':_0x311241};}function _0x45cd0f(){(0x0,_0x274353[_0x55f3('0x9')])(this,_0x45cd0f),this[_0x55f3('0x94')]=(0x0,_0x38fabf[_0x55f3('0x2c')])(),this['fog']=null;}(0x0,_0x49f725['default'])(_0x45cd0f,[{'key':'init','value':function(_0x311241){'linear'===_0x311241['type']&&(this[_0x55f3('0x1e8')]=new THREE[(_0x55f3('0x97f'))](0xffffff,0x0,0x3e8),_0x311241['color']&&this[_0x55f3('0x1e8')][_0x55f3('0x220')][_0x55f3('0x300')](_0x311241[_0x55f3('0x220')]),_0x311241[_0x55f3('0x305')]&&(this[_0x55f3('0x1e8')][_0x55f3('0x305')]=_0x311241[_0x55f3('0x305')]),_0x311241[_0x55f3('0x307')]&&(this['fog']['far']=_0x311241[_0x55f3('0x307')]),this[_0x55f3('0x94')]['mapView']['scene'][_0x55f3('0x1e8')]=this[_0x55f3('0x1e8')]),_0x55f3('0xea8')===_0x311241['type']&&(this[_0x55f3('0x1e8')]=new THREE[(_0x55f3('0xea9'))](0xcccccc,0.002),_0x311241['color']&&this[_0x55f3('0x1e8')][_0x55f3('0x220')][_0x55f3('0x300')](_0x311241[_0x55f3('0x220')]),_0x311241[_0x55f3('0x728')]&&(this[_0x55f3('0x1e8')][_0x55f3('0x728')]=_0x311241[_0x55f3('0x728')]),this['map'][_0x55f3('0x41b')][_0x55f3('0x416')]['fog']=this[_0x55f3('0x1e8')]);}},{'key':'update','value':function(_0x311241){_0x55f3('0x310')===_0x311241['type']&&(_0x311241[_0x55f3('0x220')]&&(this[_0x55f3('0x1e8')]['color'][_0x55f3('0x300')](_0x311241[_0x55f3('0x220')]),this['fog']['_originColor']&&this[_0x55f3('0x1e8')]['_originColor'][_0x55f3('0x300')](_0x311241['color'])),_0x311241[_0x55f3('0x305')]&&(this[_0x55f3('0x1e8')][_0x55f3('0x305')]=_0x311241[_0x55f3('0x305')]),_0x311241['far']&&(this['fog'][_0x55f3('0x307')]=_0x311241[_0x55f3('0x307')])),_0x55f3('0xea8')===_0x311241[_0x55f3('0xeb')]&&(_0x311241[_0x55f3('0x220')]&&(this['fog']['color'][_0x55f3('0x300')](_0x311241[_0x55f3('0x220')]),this[_0x55f3('0x1e8')][_0x55f3('0xbd4')]&&this[_0x55f3('0x1e8')][_0x55f3('0xbd4')][_0x55f3('0x300')](_0x311241['color'])),_0x311241['density']&&(this[_0x55f3('0x1e8')][_0x55f3('0x728')]=_0x311241[_0x55f3('0x728')]));}}]),_0x15f849[_0x55f3('0x9')]=_0x45cd0f;},function(_0x168eaf,_0x94ab83,_0x1fe106){'use strict';Object[_0x55f3('0x4')](_0x94ab83,_0x55f3('0x7'),{'value':!0x0});var _0x31c1ad=_0x1c5233(_0x1fe106(0x0)),_0x4d11b9=_0x1c5233(_0x1fe106(0x1)),_0x38f475=_0x1fe106(0x17),_0x14c627=function(_0x168eaf){if(_0x168eaf&&_0x168eaf['__esModule'])return _0x168eaf;var _0x94ab83={};if(null!=_0x168eaf)for(var _0x1fe106 in _0x168eaf)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x168eaf,_0x1fe106)&&(_0x94ab83[_0x1fe106]=_0x168eaf[_0x1fe106]);return _0x94ab83['default']=_0x168eaf,_0x94ab83;}(_0x1fe106(0x3d));function _0x1c5233(_0x168eaf){return _0x168eaf&&_0x168eaf[_0x55f3('0x7')]?_0x168eaf:{'default':_0x168eaf};}function _0x467d59(){(0x0,_0x31c1ad[_0x55f3('0x9')])(this,_0x467d59),this[_0x55f3('0x94')]=null,this[_0x55f3('0x7f7')]=null;}(0x0,_0x4d11b9[_0x55f3('0x9')])(_0x467d59,[{'key':_0x55f3('0xa10'),'value':function(_0x168eaf){this[_0x55f3('0x94')]=(0x0,_0x38f475[_0x55f3('0x2c')])();var _0x94ab83=(0x0,_0x38f475['innerCoordTransToThree'])(_0x168eaf['position']['x'],_0x168eaf['position']['y']),_0x94ab83=new THREE[(_0x55f3('0x5a'))](_0x94ab83['x'],_0x168eaf['position'][_0x55f3('0x32d')],_0x94ab83['y']),_0x1fe106=(0x0,_0x38f475[_0x55f3('0x31')])(_0x168eaf['target']['x'],_0x168eaf[_0x55f3('0x81')]['y']),_0x1fe106=new THREE['Vector3'](_0x1fe106['x'],_0x168eaf[_0x55f3('0x81')][_0x55f3('0x32d')],_0x1fe106['y']);return this['video']=new _0x14c627[(_0x55f3('0xa1'))]({'map':this['map'],'position':_0x94ab83,'target':_0x1fe106,'receiveLayer':_0x168eaf[_0x55f3('0x86d')],'far':_0x168eaf[_0x55f3('0x307')],'fov':_0x168eaf[_0x55f3('0x86e')],'videoAspect':_0x168eaf[_0x55f3('0x86f')],'isShowHelper':_0x168eaf[_0x55f3('0xeaa')],'isShowFarPlane':_0x168eaf['showFarPlane']}),this[_0x55f3('0x7f7')];}},{'key':_0x55f3('0xa11'),'value':function(_0x168eaf,_0x94ab83){this['video']&&this[_0x55f3('0x7f7')][_0x55f3('0xa11')](_0x168eaf?_0x55f3('0xeab'):_0x55f3('0x339'));}},{'key':_0x55f3('0xeac'),'value':function(_0x168eaf){this[_0x55f3('0x7f7')]&&(_0x168eaf=new THREE[(_0x55f3('0x5a'))](_0x168eaf['x'],_0x168eaf['y'],_0x168eaf['z']),this[_0x55f3('0x7f7')][_0x55f3('0x895')](_0x168eaf));}},{'key':_0x55f3('0x87d'),'value':function(_0x168eaf){this[_0x55f3('0x7f7')]&&this[_0x55f3('0x7f7')][_0x55f3('0x87d')](_0x168eaf);}},{'key':_0x55f3('0x785'),'value':function(){this[_0x55f3('0x7f7')]&&(this[_0x55f3('0x7f7')][_0x55f3('0x93')](),this['video']=null);}}]),_0x94ab83[_0x55f3('0x9')]=_0x467d59;},function(_0x5b6b94,_0x5d2126,_0x498a4e){'use strict';Object[_0x55f3('0x4')](_0x5d2126,_0x55f3('0x7'),{'value':!0x0});var _0x39d1c6=_0x2ca69b(_0x498a4e(0x0)),_0x4b0bb1=_0x2ca69b(_0x498a4e(0x1)),_0x24e140=function(_0x5b6b94){if(_0x5b6b94&&_0x5b6b94['__esModule'])return _0x5b6b94;var _0x5d2126={};if(null!=_0x5b6b94)for(var _0x498a4e in _0x5b6b94)Object[_0x55f3('0x15')][_0x55f3('0xc')][_0x55f3('0x1')](_0x5b6b94,_0x498a4e)&&(_0x5d2126[_0x498a4e]=_0x5b6b94[_0x498a4e]);return _0x5d2126[_0x55f3('0x9')]=_0x5b6b94,_0x5d2126;}(_0x498a4e(0x3d)),_0x5a5f0d=_0x498a4e(0x17);function _0x2ca69b(_0x5b6b94){return _0x5b6b94&&_0x5b6b94[_0x55f3('0x7')]?_0x5b6b94:{'default':_0x5b6b94};}function _0x2b6308(){(0x0,_0x39d1c6['default'])(this,_0x2b6308),this['map']=(0x0,_0x5a5f0d[_0x55f3('0x2c')])(),this[_0x55f3('0xead')]=[];}(0x0,_0x4b0bb1[_0x55f3('0x9')])(_0x2b6308,[{'key':_0x55f3('0x9f8'),'value':function(_0x5b6b94){var _0x5d2126=new _0x24e140[(_0x55f3('0xc2'))]({'isShowWaterRipple':!0x0}),_0x498a4e=_0x5d2126['createMaterial']({'curTexture':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0xeae')][_0x55f3('0xeaf')],'nextTexture':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0xeae')][_0x55f3('0x684')],'repeatFactor':{'x':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0x883')]-_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0x881')],'y':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0x884')]-_0x5b6b94[_0x55f3('0xb5b')]['minY']}});_0x5b6b94[_0x55f3('0x5e9')][_0x55f3('0x3f')]=_0x498a4e,this['polyHeatMaps'][_0x55f3('0x73')](_0x5d2126);}},{'key':_0x55f3('0xeb0'),'value':function(_0x5b6b94,_0x5d2126){var _0x5d2126=new _0x24e140[(_0x55f3('0xc2'))]({'isShowTextureRepeat':!0x0,'repeatTexPath':_0x5d2126[_0x55f3('0x5f5')],'noiseTexPath':(0x0,_0x5a5f0d['getConfigAssetsPath'])('images/ground/noise.png')}),_0x498a4e=_0x5d2126[_0x55f3('0x2fc')]({'curTexture':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0xeae')][_0x55f3('0xeaf')],'nextTexture':_0x5b6b94[_0x55f3('0xb5b')][_0x55f3('0xeae')][_0x55f3('0x684')],'repeatFactor':{'x':_0x5b6b94[_0x55f3('0xb5b')]['maxX']-_0x5b6b94[_0x55f3('0xb5b')]['minX'],'y':_0x5b6b94['heatmap'][_0x55f3('0x884')]-_0x5b6b94['heatmap'][_0x55f3('0x882')]}});_0x5b6b94['o3d_'][_0x55f3('0x3f')]=_0x498a4e,this[_0x55f3('0xead')][_0x55f3('0x73')](_0x5d2126);}},{'key':_0x55f3('0x336'),'value':function(_0x5b6b94){if(0x0<this[_0x55f3('0xead')][_0x55f3('0xf')])for(var _0x5d2126=0x0;_0x5d2126<this[_0x55f3('0xead')]['length'];_0x5d2126++)this[_0x55f3('0xead')][_0x5d2126][_0x55f3('0x336')](_0x5b6b94);}}]),_0x5d2126[_0x55f3('0x9')]=_0x2b6308;},function(_0x2fcfcd,_0x2573eb,_0x147654){'use strict';Object['defineProperty'](_0x2573eb,_0x55f3('0x7'),{'value':!0x0});var _0x334c77=_0x24e4cc(_0x147654(0x0));function _0x24e4cc(_0x2fcfcd){return _0x2fcfcd&&_0x2fcfcd[_0x55f3('0x7')]?_0x2fcfcd:{'default':_0x2fcfcd};}function _0x529f6b(){(0x0,_0x334c77[_0x55f3('0x9')])(this,_0x529f6b),this['isCanRender']=!0x1,this['allMarkerList']=[];}(0x0,_0x24e4cc(_0x147654(0x1))['default'])(_0x529f6b,[{'key':'add','value':function(_0x2fcfcd){this[_0x55f3('0xeb1')][_0x55f3('0x73')](_0x2fcfcd);}},{'key':'remove','value':function(_0x2fcfcd){_0x2fcfcd=this[_0x55f3('0xeb1')]['indexOf'](_0x2fcfcd);-0x1<_0x2fcfcd&&this['allMarkerList'][_0x55f3('0x80')](_0x2fcfcd,0x1);}},{'key':_0x55f3('0x336'),'value':function(_0x2fcfcd){if(this[_0x55f3('0x99b')])for(var _0x2573eb=0x0,_0x147654=this['allMarkerList'][_0x55f3('0xf')];_0x2573eb<_0x147654;_0x2573eb++)this[_0x55f3('0xeb1')][_0x2573eb][_0x55f3('0x67c')](_0x2fcfcd);}},{'key':_0x55f3('0x785'),'value':function(){this[_0x55f3('0xeb1')][_0x55f3('0xf')]=0x0;}},{'key':_0x55f3('0x93'),'value':function(){for(var _0x2fcfcd=0x0,_0x2573eb=this['allMarkerList'][_0x55f3('0xf')];_0x2fcfcd<_0x2573eb;_0x2fcfcd++)this[_0x55f3('0xeb1')][_0x2fcfcd]['dispose']();this[_0x55f3('0xeb1')]['length']=0x0;}}]),_0x2573eb[_0x55f3('0x9')]=_0x529f6b;},function(_0x158135,_0x2a27e1,_0x3b7fe2){'use strict';Object[_0x55f3('0x4')](_0x2a27e1,_0x55f3('0x7'),{'value':!0x0});var _0x426eca=_0x3611b2(_0x3b7fe2(0x0)),_0x57eaa2=_0x3611b2(_0x3b7fe2(0x1)),_0x5d7c86=_0x3611b2(_0x3b7fe2(0x126)),_0x29b5b7=_0x3611b2(_0x3b7fe2(0x36)),_0x36b5fb=_0x3611b2(_0x3b7fe2(0x84));function _0x3611b2(_0x158135){return _0x158135&&_0x158135['__esModule']?_0x158135:{'default':_0x158135};}function _0x435649(){_0xa0b844[_0x55f3('0x2f8')]();}var _0xa0b844=null,_0x3b7fe2=((0x0,_0x57eaa2[_0x55f3('0x9')])(_0x4331b1,[{'key':_0x55f3('0x95c'),'value':function(){_0xa0b844=new _0x5d7c86[(_0x55f3('0x9'))](this['map'][_0x55f3('0x41b')]['camera'],this['map'][_0x55f3('0x41b')][_0x55f3('0xeb2')]),this[_0x55f3('0xeb3')]=new _0x36b5fb[(_0x55f3('0x9'))](this[_0x55f3('0x94')],_0xa0b844),_0xa0b844[_0x55f3('0x555')]=!0x0,_0xa0b844['enablePan']=!0x1,_0xa0b844['enableZoom']=!0x1,_0xa0b844[_0x55f3('0x889')]=0.00001;var _0x158135=this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')]['clone']()[_0x55f3('0x39b')](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')]['position'][_0x55f3('0x1b0')]())[_0x55f3('0x1c2')](),_0x158135=this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x38')][_0x55f3('0x1b0')]()[_0x55f3('0x1c3')](_0x158135[_0x55f3('0x1c1')](0.00001));_0xa0b844[_0x55f3('0x6')][_0x55f3('0x38')][_0x55f3('0x1ba')](this[_0x55f3('0x94')][_0x55f3('0x389')]['object'][_0x55f3('0x38')]),_0xa0b844[_0x55f3('0x81')][_0x55f3('0x1ba')](_0x158135),_0xa0b844['object']['lookAt'](_0x158135),this[_0x55f3('0x94')][_0x55f3('0x389')]['enabled']=!0x1,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0xeb4')]=!0x1,_0xa0b844[_0x55f3('0xeb5')]=!0x1,_0xa0b844[_0x55f3('0xeb6')]=0.4,_0xa0b844[_0x55f3('0x69c')]=0.5,this[_0x55f3('0x94')]['on'](_0x55f3('0x2f8'),_0x435649);}},{'key':_0x55f3('0xeb7'),'value':function(){_0xa0b844[_0x55f3('0x93')](),_0xa0b844=null,this['map'][_0x55f3('0x389')]['enabled']=!0x0,this[_0x55f3('0x94')]['mapView'][_0x55f3('0x4d2')][_0x55f3('0xeb4')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x5c9')](_0x55f3('0x2f8'),_0x435649);}},{'key':_0x55f3('0xeb8'),'value':function(){_0xa0b844[_0x55f3('0x93')](),_0xa0b844=null,this['map']['controls'][_0x55f3('0x555')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x4d2')][_0x55f3('0xeb4')]=!0x0,this[_0x55f3('0x94')][_0x55f3('0x5c9')](_0x55f3('0x2f8'),_0x435649);var _0x158135=this['map'][_0x55f3('0xeb9')](0x0);_0x158135&&(this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x81')][_0x55f3('0x1ba')](_0x158135),this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x535')](_0x158135),this[_0x55f3('0x94')][_0x55f3('0x389')]['update']());}},{'key':_0x55f3('0xeba'),'value':function(_0x158135,_0x2a27e1,_0x3b7fe2){new TWEEN[(_0x55f3('0x331'))]({'angle':_0x158135})['to']({'angle':_0x2a27e1},0x3e8)['easing'](TWEEN[_0x55f3('0x334')][_0x55f3('0x335')][_0x55f3('0x393')])['onUpdate'](function(_0x158135,_0x2a27e1){_0xa0b844[_0x55f3('0x2f8')]({'forcePhi':THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x158135[_0x55f3('0x1ec')])});})[_0x55f3('0x6a7')](function(){_0x3b7fe2&&_0x3b7fe2();})[_0x55f3('0x395')]();}},{'key':_0x55f3('0xebb'),'value':function(_0x158135){_0x158135[_0x55f3('0xebc')];var _0x158135=_0x158135[_0x55f3('0x21e')],_0x2a27e1=this,_0x3b7fe2=new THREE[(_0x55f3('0x26d'))]()[_0x55f3('0x26f')](esmap[_0x55f3('0x4e')][_0x55f3('0x4f')]+_0x55f3('0xebd')),_0x158135=new THREE[(_0x55f3('0x520'))](_0x158135,_0x158135),_0x3b7fe2=new THREE[(_0x55f3('0x437'))]({'map':_0x3b7fe2,'transparent':!0x0});this[_0x55f3('0xebe')]=new THREE['Mesh'](_0x158135,_0x3b7fe2),this[_0x55f3('0xebe')][_0x55f3('0x318')]=0x46,this[_0x55f3('0x94')]['mapView'][_0x55f3('0x416')][_0x55f3('0x1c3')](this[_0x55f3('0xebe')]),this[_0x55f3('0x94')]['on']('click',function(_0x158135){_0x2a27e1[_0x55f3('0xebe')]&&_0x158135[_0x55f3('0xebf')]&&_0x158135[_0x55f3('0x6')]&&_0x55f3('0x317')===_0x158135['object'][_0x55f3('0xeb')]&&_0x55f3('0x64')===_0x158135['object'][_0x55f3('0x89e')]&&!_0x2a27e1['isLockGroundPick']&&_0x2a27e1[_0x55f3('0xec0')](_0x158135);});}},{'key':_0x55f3('0xec0'),'value':function(_0x158135){this['isLockGroundPick']=!0x0;var _0x2a27e1,_0x3b7fe2=_0x158135[_0x55f3('0x327')][_0x55f3('0x1b0')](),_0x426eca=this[_0x55f3('0x94')][_0x55f3('0xb85')](_0x3b7fe2);this['checkIsCanMove'](_0x426eca)?((_0x426eca=_0x158135[_0x55f3('0xebf')][_0x55f3('0x578')][_0x55f3('0x1b0')]())[_0x55f3('0xec1')](_0x158135[_0x55f3('0x6')]['matrixWorld']),_0x426eca[_0x55f3('0x1c1')](0.1),_0x426eca['add'](_0x3b7fe2),(_0x2a27e1=_0x158135['face'][_0x55f3('0x578')][_0x55f3('0x1b0')]())[_0x55f3('0xec1')](_0x158135['object'][_0x55f3('0x3b0')]),_0x2a27e1['multiplyScalar'](0.05),_0x2a27e1[_0x55f3('0x1c3')](_0x3b7fe2),this[_0x55f3('0xebe')]['position'][_0x55f3('0x1ba')](_0x2a27e1),this['pickAnimateObj'][_0x55f3('0x535')](_0x426eca),this[_0x55f3('0xec2')](new THREE['Vector3'](_0x2a27e1['x'],this[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x38')]['y'],_0x2a27e1['z']))):this[_0x55f3('0xec3')]=!0x1;}},{'key':'checkIsCanMove','value':function(_0x158135){_0x158135=this['map'][_0x55f3('0xec4')]({'startCoord':{'x':_0x158135['x'],'y':_0x158135['y'],'z':0x3},'endCoord':{'x':_0x158135['x'],'y':_0x158135['y'],'z':0x0},'debug':!0x1,'mode':_0x55f3('0x1ea')});if(_0x158135&&0x3*0.99<0x3-_0x158135[_0x55f3('0x327')]['y'])return!0x0;return!0x1;}},{'key':_0x55f3('0xec2'),'value':function(_0x158135){this['isLockGroundPick']=!0x1;var _0x3b7fe2,_0x2a27e1=_0x158135[_0x55f3('0x1b0')]()[_0x55f3('0x381')](this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x38')]),_0x2a27e1=(_0xa0b844[_0x55f3('0xec5')]=_0x3b7fe2=0.1*_0x2a27e1,_0xa0b844[_0x55f3('0x81')][_0x55f3('0x1b0')]()[_0x55f3('0x39b')](this[_0x55f3('0x94')][_0x55f3('0x389')]['object']['position'][_0x55f3('0x1b0')]())[_0x55f3('0x1c2')]()),_0x2a27e1=this[_0x55f3('0x94')][_0x55f3('0x389')][_0x55f3('0x6')]['position'][_0x55f3('0x1b0')]()[_0x55f3('0x1c3')](_0x2a27e1[_0x55f3('0x1c1')](_0x3b7fe2));_0xa0b844[_0x55f3('0x81')]=_0x2a27e1,new TWEEN[(_0x55f3('0x331'))](_0xa0b844[_0x55f3('0x81')])['to'](_0x158135,0x7d0)[_0x55f3('0x333')](TWEEN['Easing'][_0x55f3('0x335')][_0x55f3('0xec6')])[_0x55f3('0x332')](function(_0x158135,_0x2a27e1){_0xa0b844[_0x55f3('0xec5')]=(_0x3b7fe2-0.00001)*(0x1-_0x2a27e1)+0.00001;})[_0x55f3('0x6a7')](function(){})[_0x55f3('0x395')]();}},{'key':_0x55f3('0xec7'),'value':function(_0x158135){var _0x2a27e1=this,_0x3b7fe2=_0x158135[_0x55f3('0x1b0')]()[_0x55f3('0x39b')](this[_0x55f3('0x94')][_0x55f3('0x389')]['object'][_0x55f3('0x38')][_0x55f3('0x1b0')]())['normalize'](),_0x3b7fe2=_0x158135[_0x55f3('0x1b0')]()[_0x55f3('0x1c3')](_0x3b7fe2['multiplyScalar'](0.00001));THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0xa0b844['getPolarAngle']()),THREE[_0x55f3('0x18')][_0x55f3('0xb8d')](_0xa0b844[_0x55f3('0xec8')]()),_0x2a27e1[_0x55f3('0xeb3')]['cameraPosition'](_0x158135[_0x55f3('0x1b0')](),_0x3b7fe2,0x7d0,function(){_0x2a27e1[_0x55f3('0xec3')]=!0x1;});}},{'key':_0x55f3('0xec9'),'value':function(_0x158135,_0x2a27e1){_0xa0b844[_0x55f3('0x81')][_0x55f3('0x1ba')](_0x2a27e1),new TWEEN[(_0x55f3('0x331'))](_0x158135)['to'](_0x2a27e1,0x7d0)['easing'](TWEEN['Easing'][_0x55f3('0x335')][_0x55f3('0x393')])['onUpdate'](function(_0x158135,_0x2a27e1){_0x2a27e1<0.99&&_0xa0b844[_0x55f3('0x6')][_0x55f3('0x38')][_0x55f3('0x1ba')](_0x158135);})['start']();}},{'key':_0x55f3('0xeca'),'value':function(_0x158135,_0x2a27e1){_0x2a27e1=new THREE[(_0x55f3('0x317'))](new THREE[(_0x55f3('0x44b'))](0x2),new THREE[(_0x55f3('0x437'))]({'color':_0x2a27e1}));_0x2a27e1[_0x55f3('0x38')]['copy'](_0x158135),this['map'][_0x55f3('0x41b')]['scene'][_0x55f3('0x1c3')](_0x2a27e1);}},{'key':_0x55f3('0xecb'),'value':function(){_0x29b5b7[_0x55f3('0x9')][_0x55f3('0xecc')](this['pickAnimateObj']),this['pickAnimateObj']=null;}}]),_0x4331b1);function _0x4331b1(_0x158135){(0x0,_0x426eca['default'])(this,_0x4331b1),this[_0x55f3('0x94')]=_0x158135,this[_0x55f3('0xebe')]=null,this[_0x55f3('0xecd')]=new _0x36b5fb[(_0x55f3('0x9'))](this['map'],this[_0x55f3('0x94')][_0x55f3('0x389')]),this[_0x55f3('0xeb3')]=null,this['isLockGroundPick']=!0x1;}_0x2a27e1[_0x55f3('0x9')]=_0x3b7fe2;},function(_0x22967c,_0x5bd771,_0x578903){'use strict';Object[_0x55f3('0x4')](_0x5bd771,_0x55f3('0x7'),{'value':!0x0});var _0x88c716=_0x350830(_0x578903(0x47)),_0x578903=_0x350830(_0x578903(0x21));function _0x350830(_0x22967c){return _0x22967c&&_0x22967c[_0x55f3('0x7')]?_0x22967c:{'default':_0x22967c};}function _0x205e48(_0x22967c,_0x5bd771){this[_0x55f3('0x6')]=_0x22967c,this[_0x55f3('0xece')]=void 0x0!==_0x5bd771?_0x5bd771:document,this['enabled']=!0x0,this[_0x55f3('0x81')]=new THREE['Vector3'](),this[_0x55f3('0x889')]=0x0,this[_0x55f3('0xec5')]=0x1/0x0,this[_0x55f3('0xecf')]=0x0,this['maxZoom']=0x1/0x0,this[_0x55f3('0xed0')]=0x0,this[_0x55f3('0xed1')]=Math['PI'],this[_0x55f3('0xed2')]=-0x1/0x0,this[_0x55f3('0xed3')]=0x1/0x0,this['enableDamping']=!0x1,this['dampingFactor']=0.25,this[_0x55f3('0x399')]=!0x0,this['zoomSpeed']=0x1,this[_0x55f3('0x398')]=!0x0,this[_0x55f3('0x69c')]=0x1,this[_0x55f3('0x87e')]=!0x0,this['panSpeed']=0x1,this['screenSpacePanning']=!0x1,this[_0x55f3('0xed4')]=0x7,this[_0x55f3('0xeb5')]=!0x1,this[_0x55f3('0xeb6')]=0x2,this[_0x55f3('0xed5')]=!0x0,this[_0x55f3('0x22')]={'LEFT':0x25,'UP':0x26,'RIGHT':0x27,'BOTTOM':0x28},this[_0x55f3('0xed6')]={'LEFT':THREE['MOUSE'][_0x55f3('0xed7')],'MIDDLE':THREE[_0x55f3('0xed8')][_0x55f3('0xed9')],'RIGHT':THREE[_0x55f3('0xed8')][_0x55f3('0xeda')]},this['target0']=this['target']['clone'](),this[_0x55f3('0xedb')]=this['object']['position'][_0x55f3('0x1b0')](),this['zoom0']=this[_0x55f3('0x6')][_0x55f3('0xedc')],this[_0x55f3('0xedd')]=function(){return _0x39b4a1['phi'];},this[_0x55f3('0xec8')]=function(){return _0x39b4a1[_0x55f3('0x458')];},this[_0x55f3('0xede')]=function(){_0x263680[_0x55f3('0xedf')][_0x55f3('0x1ba')](_0x263680['target']),_0x263680[_0x55f3('0xedb')]['copy'](_0x263680[_0x55f3('0x6')]['position']),_0x263680[_0x55f3('0xee0')]=_0x263680['object'][_0x55f3('0xedc')];},this[_0x55f3('0x20f')]=function(){_0x263680[_0x55f3('0x81')][_0x55f3('0x1ba')](_0x263680['target0']),_0x263680[_0x55f3('0x6')][_0x55f3('0x38')][_0x55f3('0x1ba')](_0x263680[_0x55f3('0xedb')]),_0x263680[_0x55f3('0x6')][_0x55f3('0xedc')]=_0x263680[_0x55f3('0xee0')],_0x263680[_0x55f3('0x6')][_0x55f3('0x779')](),_0x263680[_0x55f3('0x2fa')](_0xf04151),_0x263680[_0x55f3('0x2f8')](),_0x1fca40=_0x410b62[_0x55f3('0xee1')];},this['update']=(_0x578903=new THREE['Vector3'](),_0x88c716=new THREE[(_0x55f3('0x742'))]()[_0x55f3('0xee2')](_0x22967c['up'],new THREE['Vector3'](0x0,0x1,0x0)),_0x350830=_0x88c716[_0x55f3('0x1b0')]()[_0x55f3('0xee3')](),_0x205e48=new THREE['Vector3'](),_0x1c68f7=new THREE[(_0x55f3('0x742'))](),function(_0x22967c){var _0x5bd771=_0x263680[_0x55f3('0x6')][_0x55f3('0x38')];return _0x578903[_0x55f3('0x1ba')](_0x5bd771)['sub'](_0x263680[_0x55f3('0x81')]),_0x578903['applyQuaternion'](_0x88c716),_0x39b4a1[_0x55f3('0xee4')](_0x578903),_0x263680[_0x55f3('0xeb5')]&&_0x1fca40===_0x410b62[_0x55f3('0xee1')]&&_0x58dd4e(0x2*Math['PI']/0x3c/0x3c*_0x263680[_0x55f3('0xeb6')]),_0x39b4a1['theta']+=_0xf3c4f7['theta'],_0x39b4a1[_0x55f3('0x457')]+=_0xf3c4f7['phi'],_0x22967c&&(_0x22967c[_0x55f3('0xc')]('forceTheta')&&(_0x39b4a1[_0x55f3('0x458')]=_0x22967c[_0x55f3('0xee5')],_0xf3c4f7[_0x55f3('0x458')]=0x0),_0x22967c['hasOwnProperty']('forcePhi')&&(_0x39b4a1[_0x55f3('0x457')]=_0x22967c[_0x55f3('0xee6')],_0xf3c4f7[_0x55f3('0x457')]=0x0),_0x22967c[_0x55f3('0xc')](_0x55f3('0xee7'))&&(_0x39b4a1[_0x55f3('0x21e')]=_0x22967c[_0x55f3('0xee7')],_0x2a0d3c=0x1)),_0x39b4a1[_0x55f3('0x458')]=Math['max'](_0x263680[_0x55f3('0xed2')],Math[_0x55f3('0x8c')](_0x263680[_0x55f3('0xed3')],_0x39b4a1[_0x55f3('0x458')])),_0x39b4a1[_0x55f3('0x457')]=Math[_0x55f3('0xf2')](_0x263680['minPolarAngle'],Math['min'](_0x263680['maxPolarAngle'],_0x39b4a1[_0x55f3('0x457')])),_0x39b4a1[_0x55f3('0xee8')](),_0x39b4a1['radius']*=_0x2a0d3c,_0x39b4a1[_0x55f3('0x21e')]=Math[_0x55f3('0xf2')](_0x263680['minDistance'],Math[_0x55f3('0x8c')](_0x263680[_0x55f3('0xec5')],_0x39b4a1[_0x55f3('0x21e')])),_0x263680[_0x55f3('0x81')]['add'](_0x31ec9a),_0x578903[_0x55f3('0xee9')](_0x39b4a1),_0x578903[_0x55f3('0xea6')](_0x350830),_0x5bd771[_0x55f3('0x1ba')](_0x263680[_0x55f3('0x81')])[_0x55f3('0x1c3')](_0x578903),_0x263680['object'][_0x55f3('0x535')](_0x263680[_0x55f3('0x81')]),!0x0===_0x263680[_0x55f3('0xeea')]?(_0xf3c4f7[_0x55f3('0x458')]*=0x1-_0x263680['dampingFactor'],_0xf3c4f7['phi']*=0x1-_0x263680['dampingFactor'],_0x31ec9a[_0x55f3('0x1c1')](0x1-_0x263680[_0x55f3('0xeeb')])):(_0xf3c4f7[_0x55f3('0x39')](0x0,0x0,0x0),_0x31ec9a[_0x55f3('0x39')](0x0,0x0,0x0)),_0x2a0d3c=0x1,!(!(_0x1337e1||_0x205e48['distanceToSquared'](_0x263680[_0x55f3('0x6')]['position'])>_0x5aa282||0x8*(0x1-_0x1c68f7['dot'](_0x263680[_0x55f3('0x6')][_0x55f3('0x744')]))>_0x5aa282)||(_0x263680[_0x55f3('0x2fa')](_0xf04151),_0x205e48[_0x55f3('0x1ba')](_0x263680[_0x55f3('0x6')][_0x55f3('0x38')]),_0x1c68f7['copy'](_0x263680[_0x55f3('0x6')]['quaternion']),_0x1337e1=!0x1));}),this[_0x55f3('0x93')]=function(){_0x263680['domElement'][_0x55f3('0x35c')](_0x55f3('0xeec'),_0x2c4565,!0x1),_0x263680['domElement'][_0x55f3('0x35c')](_0x55f3('0xeed'),_0x54d4bd,!0x1),_0x263680[_0x55f3('0xece')][_0x55f3('0x35c')](_0x55f3('0xeee'),_0x24360c,!0x1),_0x263680['domElement'][_0x55f3('0x35c')]('touchstart',_0x229512,!0x1),_0x263680['domElement']['removeEventListener'](_0x55f3('0xeef'),_0x414642,!0x1),_0x263680['domElement']['removeEventListener'](_0x55f3('0xef0'),_0x44244d,!0x1),document[_0x55f3('0x35c')](_0x55f3('0xef1'),_0xb6c02,!0x1),document[_0x55f3('0x35c')](_0x55f3('0xef2'),_0x13711a,!0x1),window[_0x55f3('0x35c')]('keydown',_0x1c809d,!0x1);};var _0x578903,_0x88c716,_0x350830,_0x205e48,_0x1c68f7,_0x263680=this,_0xf04151={'type':'change'},_0x501703={'type':_0x55f3('0x395')},_0x2de0f5={'type':'end'},_0x410b62={'NONE':-0x1,'ROTATE':0x0,'DOLLY':0x1,'PAN':0x2,'TOUCH_ROTATE':0x3,'TOUCH_DOLLY_PAN':0x4},_0x1fca40=_0x410b62[_0x55f3('0xee1')],_0x5aa282=0.000001,_0x39b4a1=new THREE[(_0x55f3('0xe7f'))](),_0xf3c4f7=new THREE[(_0x55f3('0xe7f'))](),_0x2a0d3c=0x1,_0x31ec9a=new THREE[(_0x55f3('0x5a'))](),_0x1337e1=!0x1,_0x767e9d=new THREE['Vector2'](),_0x26ffd0=new THREE[(_0x55f3('0x1b4'))](),_0x2ac6a6=new THREE[(_0x55f3('0x1b4'))](),_0x60dd80=new THREE[(_0x55f3('0x1b4'))](),_0xa59a1c=new THREE[(_0x55f3('0x1b4'))](),_0x4a152b=new THREE['Vector2'](),_0x2c90d7=new THREE[(_0x55f3('0x1b4'))](),_0x3f6d0e=new THREE[(_0x55f3('0x1b4'))](),_0x4f25e1=new THREE[(_0x55f3('0x1b4'))]();function _0x4abd32(){return Math['pow'](0.95,_0x263680[_0x55f3('0xef3')]);}function _0x58dd4e(_0x22967c){_0xf3c4f7[_0x55f3('0x458')]-=_0x22967c;}function _0x5029eb(_0x22967c){_0xf3c4f7['phi']-=_0x22967c;}function _0x12a444(_0x22967c,_0x5bd771){_0x32bfed[_0x55f3('0xef4')](_0x5bd771,0x0),_0x32bfed[_0x55f3('0x1c1')](-_0x22967c),_0x31ec9a[_0x55f3('0x1c3')](_0x32bfed);}function _0x33bfa6(_0x22967c,_0x5bd771){!0x0===_0x263680[_0x55f3('0xef5')]?_0x4d747d['setFromMatrixColumn'](_0x5bd771,0x1):(_0x4d747d[_0x55f3('0xef4')](_0x5bd771,0x0),_0x4d747d['crossVectors'](_0x263680['object']['up'],_0x4d747d)),_0x4d747d[_0x55f3('0x1c1')](_0x22967c),_0x31ec9a[_0x55f3('0x1c3')](_0x4d747d);}var _0x32bfed,_0x4d747d,_0x3f0353,_0x32bfed=new THREE[(_0x55f3('0x5a'))](),_0x1f58e6=(_0x4d747d=new THREE[(_0x55f3('0x5a'))](),_0x3f0353=new THREE['Vector3'](),function(_0x22967c,_0x5bd771){var _0x578903,_0x88c716=_0x263680['domElement']===document?_0x263680[_0x55f3('0xece')][_0x55f3('0xef6')]:_0x263680['domElement'];_0x263680[_0x55f3('0x6')]['isPerspectiveCamera']?(_0x578903=_0x263680['object'][_0x55f3('0x38')],_0x3f0353[_0x55f3('0x1ba')](_0x578903)[_0x55f3('0x39b')](_0x263680[_0x55f3('0x81')]),_0x578903=_0x3f0353['length'](),_0x578903*=Math[_0x55f3('0x6cc')](_0x263680['object'][_0x55f3('0x86e')]/0x2*Math['PI']/0xb4),_0x12a444(0x2*_0x22967c*_0x578903/_0x88c716[_0x55f3('0xef7')],_0x263680['object']['matrix']),_0x33bfa6(0x2*_0x5bd771*_0x578903/_0x88c716['clientHeight'],_0x263680[_0x55f3('0x6')]['matrix'])):_0x263680[_0x55f3('0x6')][_0x55f3('0xef8')]?(_0x12a444(_0x22967c*(_0x263680['object'][_0x55f3('0x778')]-_0x263680[_0x55f3('0x6')][_0x55f3('0x364')])/_0x263680[_0x55f3('0x6')]['zoom']/_0x88c716[_0x55f3('0xef9')],_0x263680['object']['matrix']),_0x33bfa6(_0x5bd771*(_0x263680[_0x55f3('0x6')]['top']-_0x263680[_0x55f3('0x6')]['bottom'])/_0x263680[_0x55f3('0x6')][_0x55f3('0xedc')]/_0x88c716[_0x55f3('0xef7')],_0x263680[_0x55f3('0x6')][_0x55f3('0xefa')])):_0x263680[_0x55f3('0x87e')]=!0x1;});function _0xc109dc(_0x22967c){_0x263680[_0x55f3('0x6')]['isPerspectiveCamera']?_0x2a0d3c/=_0x22967c:_0x263680['object']['isOrthographicCamera']?(_0x263680[_0x55f3('0x6')][_0x55f3('0xedc')]=Math[_0x55f3('0xf2')](_0x263680[_0x55f3('0xecf')],Math[_0x55f3('0x8c')](_0x263680[_0x55f3('0xefb')],_0x263680[_0x55f3('0x6')][_0x55f3('0xedc')]*_0x22967c)),_0x263680[_0x55f3('0x6')]['updateProjectionMatrix'](),_0x1337e1=!0x0):_0x263680[_0x55f3('0x399')]=!0x1;}function _0x5a0d58(_0x22967c){_0x263680[_0x55f3('0x6')][_0x55f3('0xe4a')]?_0x2a0d3c*=_0x22967c:_0x263680[_0x55f3('0x6')]['isOrthographicCamera']?(_0x263680['object'][_0x55f3('0xedc')]=Math[_0x55f3('0xf2')](_0x263680[_0x55f3('0xecf')],Math[_0x55f3('0x8c')](_0x263680[_0x55f3('0xefb')],_0x263680['object']['zoom']/_0x22967c)),_0x263680['object']['updateProjectionMatrix'](),_0x1337e1=!0x0):_0x263680[_0x55f3('0x399')]=!0x1;}function _0x257638(_0x22967c){_0x60dd80[_0x55f3('0x39')](_0x22967c[_0x55f3('0x363')],_0x22967c[_0x55f3('0xefc')]);}function _0x54d4bd(_0x22967c){if(!0x1!==_0x263680[_0x55f3('0x555')]){switch(_0x22967c[_0x55f3('0xefd')](),(_0x263680[_0x55f3('0xece')][_0x55f3('0xefe')]?_0x263680[_0x55f3('0xece')]:window)['focus'](),_0x22967c[_0x55f3('0xeff')]){case _0x263680[_0x55f3('0xed6')][_0x55f3('0xed7')]:if(_0x22967c['ctrlKey']||_0x22967c[_0x55f3('0xf00')]||_0x22967c[_0x55f3('0xf01')]){if(!0x1===_0x263680[_0x55f3('0x87e')])return;_0x257638(_0x22967c),_0x1fca40=_0x410b62[_0x55f3('0xf02')];}else{if(!0x1===_0x263680[_0x55f3('0x398')])return;_0x767e9d['set'](_0x22967c[_0x55f3('0x363')],_0x22967c['clientY']),_0x1fca40=_0x410b62[_0x55f3('0xf03')];}break;case _0x263680[_0x55f3('0xed6')][_0x55f3('0xed9')]:if(!0x1===_0x263680[_0x55f3('0x399')])return;_0x2c90d7[_0x55f3('0x39')](_0x22967c[_0x55f3('0x363')],_0x22967c[_0x55f3('0xefc')]),_0x1fca40=_0x410b62[_0x55f3('0xf04')];break;case _0x263680[_0x55f3('0xed6')]['RIGHT']:if(!0x1===_0x263680[_0x55f3('0x87e')])return;_0x257638(_0x22967c),_0x1fca40=_0x410b62['PAN'];}_0x1fca40!==_0x410b62[_0x55f3('0xee1')]&&(document['addEventListener'](_0x55f3('0xef1'),_0xb6c02,!0x1),document[_0x55f3('0x2cc')](_0x55f3('0xef2'),_0x13711a,!0x1),_0x263680[_0x55f3('0x2fa')](_0x501703));}}function _0xb6c02(_0x22967c){var _0x5bd771;if(!0x1!==_0x263680[_0x55f3('0x555')])switch(_0x22967c[_0x55f3('0xefd')](),_0x1fca40){case _0x410b62[_0x55f3('0xf03')]:if(!0x1===_0x263680['enableRotate'])return;_0x26ffd0[_0x55f3('0x39')](_0x22967c[_0x55f3('0x363')],_0x22967c[_0x55f3('0xefc')]),_0x2ac6a6[_0x55f3('0x7da')](_0x26ffd0,_0x767e9d)['multiplyScalar'](_0x263680['rotateSpeed']),_0x5bd771=_0x263680[_0x55f3('0xece')]===document?_0x263680[_0x55f3('0xece')]['body']:_0x263680[_0x55f3('0xece')],_0x58dd4e(0x2*Math['PI']*_0x2ac6a6['x']/_0x5bd771[_0x55f3('0xef7')]),_0x5029eb(0x2*Math['PI']*_0x2ac6a6['y']/_0x5bd771[_0x55f3('0xef7')]),_0x767e9d['copy'](_0x26ffd0),_0x263680['update']();break;case _0x410b62['DOLLY']:if(!0x1===_0x263680[_0x55f3('0x399')])return;_0x3f6d0e[_0x55f3('0x39')](_0x22967c['clientX'],_0x22967c[_0x55f3('0xefc')]),_0x4f25e1[_0x55f3('0x7da')](_0x3f6d0e,_0x2c90d7),0x0<_0x4f25e1['y']?_0xc109dc(_0x4abd32()):_0x4f25e1['y']<0x0&&_0x5a0d58(_0x4abd32()),_0x2c90d7['copy'](_0x3f6d0e),_0x263680[_0x55f3('0x2f8')]();break;case _0x410b62['PAN']:if(!0x1===_0x263680[_0x55f3('0x87e')])return;_0xa59a1c[_0x55f3('0x39')](_0x22967c[_0x55f3('0x363')],_0x22967c[_0x55f3('0xefc')]),_0x4a152b['subVectors'](_0xa59a1c,_0x60dd80)[_0x55f3('0x1c1')](_0x263680[_0x55f3('0xf05')]),_0x1f58e6(_0x4a152b['x'],_0x4a152b['y']),_0x60dd80['copy'](_0xa59a1c),_0x263680[_0x55f3('0x2f8')]();}}function _0x13711a(_0x22967c){!0x1!==_0x263680[_0x55f3('0x555')]&&(document[_0x55f3('0x35c')](_0x55f3('0xef1'),_0xb6c02,!0x1),document['removeEventListener'](_0x55f3('0xef2'),_0x13711a,!0x1),_0x263680[_0x55f3('0x2fa')](_0x2de0f5),_0x1fca40=_0x410b62[_0x55f3('0xee1')]);}function _0x24360c(_0x22967c){!0x1===_0x263680[_0x55f3('0x555')]||!0x1===_0x263680[_0x55f3('0x399')]||_0x1fca40!==_0x410b62['NONE']&&_0x1fca40!==_0x410b62[_0x55f3('0xf03')]||(_0x22967c['preventDefault'](),_0x22967c['stopPropagation'](),_0x263680['dispatchEvent'](_0x501703),(_0x22967c=_0x22967c)['deltaY']<0x0?_0x5a0d58(_0x4abd32()):0x0<_0x22967c[_0x55f3('0xf06')]&&_0xc109dc(_0x4abd32()),_0x263680[_0x55f3('0x2f8')](),_0x263680[_0x55f3('0x2fa')](_0x2de0f5));}function _0x1c809d(_0x22967c){if(!0x1!==_0x263680[_0x55f3('0x555')]&&!0x1!==_0x263680[_0x55f3('0xed5')]&&!0x1!==_0x263680[_0x55f3('0x87e')]){var _0x5bd771=!0x1;switch(_0x22967c[_0x55f3('0xf07')]){case _0x263680[_0x55f3('0x22')]['UP']:_0x1f58e6(0x0,_0x263680[_0x55f3('0xed4')]),_0x5bd771=!0x0;break;case _0x263680[_0x55f3('0x22')][_0x55f3('0xf08')]:_0x1f58e6(0x0,-_0x263680[_0x55f3('0xed4')]),_0x5bd771=!0x0;break;case _0x263680[_0x55f3('0x22')]['LEFT']:_0x1f58e6(_0x263680[_0x55f3('0xed4')],0x0),_0x5bd771=!0x0;break;case _0x263680['keys']['RIGHT']:_0x1f58e6(-_0x263680[_0x55f3('0xed4')],0x0),_0x5bd771=!0x0;}_0x5bd771&&(_0x22967c[_0x55f3('0xefd')](),_0x263680['update']());}}function _0x229512(_0x22967c){if(!0x1!==_0x263680[_0x55f3('0x555')]){switch(_0x22967c[_0x55f3('0xefd')](),_0x22967c[_0x55f3('0xf09')][_0x55f3('0xf')]){case 0x1:if(!0x1===_0x263680[_0x55f3('0x398')])return;_0x767e9d['set'](_0x22967c[_0x55f3('0xf09')][0x0]['pageX'],_0x22967c[_0x55f3('0xf09')][0x0]['pageY']),_0x1fca40=_0x410b62[_0x55f3('0xf0a')];break;case 0x2:if(!0x1===_0x263680[_0x55f3('0x399')]&&!0x1===_0x263680[_0x55f3('0x87e')])return;_0x5bd771=_0x22967c,_0x263680[_0x55f3('0x399')]&&(_0x88c716=_0x5bd771[_0x55f3('0xf09')][0x0][_0x55f3('0xf0b')]-_0x5bd771['touches'][0x1][_0x55f3('0xf0b')],_0x578903=_0x5bd771[_0x55f3('0xf09')][0x0][_0x55f3('0xf0c')]-_0x5bd771[_0x55f3('0xf09')][0x1][_0x55f3('0xf0c')],_0x88c716=Math[_0x55f3('0x1bc')](_0x88c716*_0x88c716+_0x578903*_0x578903),_0x2c90d7[_0x55f3('0x39')](0x0,_0x88c716)),_0x263680[_0x55f3('0x87e')]&&(_0x578903=0.5*(_0x5bd771[_0x55f3('0xf09')][0x0][_0x55f3('0xf0b')]+_0x5bd771['touches'][0x1][_0x55f3('0xf0b')]),_0x88c716=0.5*(_0x5bd771[_0x55f3('0xf09')][0x0][_0x55f3('0xf0c')]+_0x5bd771[_0x55f3('0xf09')][0x1]['pageY']),_0x60dd80[_0x55f3('0x39')](_0x578903,_0x88c716)),_0x1fca40=_0x410b62['TOUCH_DOLLY_PAN'];break;default:_0x1fca40=_0x410b62['NONE'];}var _0x5bd771,_0x578903,_0x88c716;_0x1fca40!==_0x410b62[_0x55f3('0xee1')]&&_0x263680['dispatchEvent'](_0x501703);}}function _0x44244d(_0x22967c){var _0x5bd771,_0x578903,_0x88c716;if(!0x1!==_0x263680[_0x55f3('0x555')])switch(_0x22967c[_0x55f3('0xefd')](),_0x22967c['stopPropagation'](),_0x22967c['touches'][_0x55f3('0xf')]){case 0x1:if(!0x1===_0x263680[_0x55f3('0x398')])return;if(_0x1fca40!==_0x410b62[_0x55f3('0xf0a')])return;_0x26ffd0[_0x55f3('0x39')](_0x22967c[_0x55f3('0xf09')][0x0][_0x55f3('0xf0b')],_0x22967c[_0x55f3('0xf09')][0x0]['pageY']),_0x2ac6a6[_0x55f3('0x7da')](_0x767e9d,_0x26ffd0)[_0x55f3('0x1c1')](_0x263680[_0x55f3('0x69c')]),_0x88c716=_0x263680[_0x55f3('0xece')]===document?_0x263680[_0x55f3('0xece')]['body']:_0x263680[_0x55f3('0xece')],_0x58dd4e(0x2*Math['PI']*_0x2ac6a6['x']/_0x88c716['clientHeight']),_0x5029eb(0x2*Math['PI']*_0x2ac6a6['y']/_0x88c716['clientHeight']),_0x767e9d[_0x55f3('0x1ba')](_0x26ffd0),_0x263680[_0x55f3('0x2f8')]();break;case 0x2:if(!0x1===_0x263680['enableZoom']&&!0x1===_0x263680[_0x55f3('0x87e')])return;if(_0x1fca40!==_0x410b62[_0x55f3('0xf0d')])return;_0x88c716=_0x22967c,_0x263680[_0x55f3('0x399')]&&(_0x578903=_0x88c716[_0x55f3('0xf09')][0x0][_0x55f3('0xf0b')]-_0x88c716['touches'][0x1]['pageX'],_0x5bd771=_0x88c716[_0x55f3('0xf09')][0x0][_0x55f3('0xf0c')]-_0x88c716['touches'][0x1]['pageY'],_0x578903=Math[_0x55f3('0x1bc')](_0x578903*_0x578903+_0x5bd771*_0x5bd771),_0x3f6d0e[_0x55f3('0x39')](0x0,_0x578903),_0x4f25e1[_0x55f3('0x39')](0x0,Math[_0x55f3('0x313')](_0x3f6d0e['y']/_0x2c90d7['y'],_0x263680[_0x55f3('0xef3')])),_0xc109dc(_0x4f25e1['y']),_0x2c90d7[_0x55f3('0x1ba')](_0x3f6d0e)),_0x263680[_0x55f3('0x87e')]&&(_0x5bd771=0.5*(_0x88c716[_0x55f3('0xf09')][0x0][_0x55f3('0xf0b')]+_0x88c716[_0x55f3('0xf09')][0x1][_0x55f3('0xf0b')]),_0x578903=0.5*(_0x88c716['touches'][0x0][_0x55f3('0xf0c')]+_0x88c716[_0x55f3('0xf09')][0x1][_0x55f3('0xf0c')]),_0xa59a1c[_0x55f3('0x39')](_0x5bd771,_0x578903),_0x4a152b[_0x55f3('0x7da')](_0xa59a1c,_0x60dd80)[_0x55f3('0x1c1')](_0x263680[_0x55f3('0xf05')]),_0x1f58e6(_0x4a152b['x'],_0x4a152b['y']),_0x60dd80[_0x55f3('0x1ba')](_0xa59a1c)),_0x263680[_0x55f3('0x2f8')]();break;default:_0x1fca40=_0x410b62[_0x55f3('0xee1')];}}function _0x414642(_0x22967c){!0x1!==_0x263680[_0x55f3('0x555')]&&(_0x263680[_0x55f3('0x2fa')](_0x2de0f5),_0x1fca40=_0x410b62[_0x55f3('0xee1')]);}function _0x2c4565(_0x22967c){!0x1!==_0x263680[_0x55f3('0x555')]&&_0x22967c[_0x55f3('0xefd')]();}_0x263680[_0x55f3('0xece')][_0x55f3('0x2cc')](_0x55f3('0xeec'),_0x2c4565,!0x1),_0x263680[_0x55f3('0xece')][_0x55f3('0x2cc')]('mousedown',_0x54d4bd,!0x1),_0x263680[_0x55f3('0xece')][_0x55f3('0x2cc')]('wheel',_0x24360c,!0x1),_0x263680[_0x55f3('0xece')]['addEventListener'](_0x55f3('0xf0e'),_0x229512,!0x1),_0x263680[_0x55f3('0xece')][_0x55f3('0x2cc')](_0x55f3('0xeef'),_0x414642,!0x1),_0x263680[_0x55f3('0xece')][_0x55f3('0x2cc')](_0x55f3('0xef0'),_0x44244d,!0x1),window[_0x55f3('0x2cc')]('keydown',_0x1c809d,!0x1),this[_0x55f3('0x2f8')]();}_0x205e48['prototype']=(0x0,_0x578903[_0x55f3('0x9')])(THREE[_0x55f3('0x7e')][_0x55f3('0x15')]),(0x0,_0x88c716[_0x55f3('0x9')])((_0x205e48[_0x55f3('0x15')][_0x55f3('0x83')]=_0x205e48)[_0x55f3('0x15')],{'center':{'get':function(){return this[_0x55f3('0x81')];}},'noZoom':{'get':function(){return!this[_0x55f3('0x399')];},'set':function(_0x22967c){this[_0x55f3('0x399')]=!_0x22967c;}},'noRotate':{'get':function(){return!this[_0x55f3('0x398')];},'set':function(_0x22967c){this[_0x55f3('0x398')]=!_0x22967c;}},'noPan':{'get':function(){return!this[_0x55f3('0x87e')];},'set':function(_0x22967c){this['enablePan']=!_0x22967c;}},'noKeys':{'get':function(){return!this[_0x55f3('0xed5')];},'set':function(_0x22967c){this[_0x55f3('0xed5')]=!_0x22967c;}},'staticMoving':{'get':function(){return!this[_0x55f3('0xeea')];},'set':function(_0x22967c){this['enableDamping']=!_0x22967c;}},'dynamicDampingFactor':{'get':function(){return this[_0x55f3('0xeeb')];},'set':function(_0x22967c){this[_0x55f3('0xeeb')]=_0x22967c;}}}),_0x5bd771['default']=_0x205e48;},function(_0x49af5,_0x49a288,_0x5a26b6){'use strict';Object[_0x55f3('0x4')](_0x49a288,'__esModule',{'value':!0x0});var _0x5e2c4a=_0x21525e(_0x5a26b6(0x22)),_0x3f459a=_0x21525e(_0x5a26b6(0x0)),_0x5a26b6=_0x21525e(_0x5a26b6(0x1));function _0x21525e(_0x49af5){return _0x49af5&&_0x49af5[_0x55f3('0x7')]?_0x49af5:{'default':_0x49af5};}var _0x24f8b5=null,_0x5a26b6=((0x0,_0x5a26b6[_0x55f3('0x9')])(_0x4b3731,[{'key':_0x55f3('0x8'),'value':function(_0x49af5){var _0x49a288=_0x49af5[_0x55f3('0xa4a')],_0x5a26b6=void 0x0===_0x49a288?0x1:_0x49a288,_0x49a288=_0x49af5[_0x55f3('0x356')],_0x3f459a=_0x49af5[_0x55f3('0xf0f')],_0x21525e=_0x49af5[_0x55f3('0xf10')],_0x4f44f0=_0x49af5[_0x55f3('0xf11')],_0x5fb5f1=_0x49af5[_0x55f3('0xf12')],_0x49af5=_0x49af5['fixCameraViewImgOffset'],_0x563775=void 0x0===_0x49af5?0x3:_0x49af5,_0x2c0dc6=this,_0x49af5=(this[_0x55f3('0x356')]=_0x49a288,[]),_0x3d81b8=document[_0x55f3('0x79')](_0x55f3('0xf13')),_0x352acb=(_0x3d81b8[_0x55f3('0x62c')]=_0x3f459a,_0x3d81b8[_0x55f3('0x6b')][_0x55f3('0x32d')]=_0x21525e+'px',_0x49af5[_0x55f3('0x73')](new _0x5e2c4a[(_0x55f3('0x9'))](function(_0x49af5){_0x3d81b8[_0x55f3('0xf14')]=function(){_0x49af5();};})),this[_0x55f3('0x356')]['appendChild'](_0x3d81b8),document[_0x55f3('0x79')](_0x55f3('0x98'))),_0x52d204=(_0x352acb[_0x55f3('0x6b')][_0x55f3('0x38')]=_0x55f3('0xf15'),document[_0x55f3('0x79')](_0x55f3('0xf13')));_0x52d204[_0x55f3('0x62c')]=_0x4f44f0,_0x52d204[_0x55f3('0x6b')]['position']=_0x55f3('0xf16'),_0x52d204[_0x55f3('0x6b')][_0x55f3('0x32d')]=_0x5fb5f1+'px',_0x352acb[_0x55f3('0x6d')](_0x52d204),_0x49af5[_0x55f3('0x73')](new _0x5e2c4a[(_0x55f3('0x9'))](function(_0x49af5){_0x52d204[_0x55f3('0xf14')]=function(){_0x49af5();};})),this[_0x55f3('0x356')]['appendChild'](_0x352acb),_0x5e2c4a[_0x55f3('0x9')][_0x55f3('0x275')](_0x49af5)[_0x55f3('0x341')](function(_0x49af5){var _0x3f459a=_0x3d81b8[_0x55f3('0x32c')],_0x21525e=_0x3d81b8[_0x55f3('0x32d')],_0x4f44f0=_0x52d204['height'],_0x5fb5f1=(_0x352acb[_0x55f3('0x6b')][_0x55f3('0x32c')]=_0x3f459a,_0x352acb[_0x55f3('0x6b')][_0x55f3('0x32d')]=_0x21525e,_0x352acb[_0x55f3('0x6b')][_0x55f3('0x8a1')]=-_0x21525e+'px',_0x52d204[_0x55f3('0x6b')][_0x55f3('0xf17')]=_0x563775+_0x55f3('0xf18')+(_0x4f44f0/0x2+_0x563775)+'px',_0x2c0dc6[_0x55f3('0x94')][_0x55f3('0x41b')][_0x55f3('0x306')]),_0x49a288=_0x2c0dc6['map'][_0x55f3('0xf19')][_0x5a26b6],_0x5e2c4a=_0x49a288[_0x55f3('0xf1a')]-_0x49a288[_0x55f3('0xf1b')],_0x16b6aa=_0x49a288[_0x55f3('0xf1c')]-_0x49a288[_0x55f3('0xf1d')],_0x137b47=_0x49a288[_0x55f3('0xf1b')],_0x1d4dd1=_0x49a288[_0x55f3('0xf1c')];_0x24f8b5=function(_0x49af5){var _0x49a288=_0x2c0dc6[_0x55f3('0x94')][_0x55f3('0xb85')](_0x5fb5f1['position']),_0x5a26b6=_0x49a288['x']-_0x137b47,_0x49a288=_0x49a288['y']-_0x1d4dd1,_0x49a288=_0x21525e*(_0x49a288/_0x16b6aa);_0x52d204['style'][_0x55f3('0x364')]=_0x3f459a*(_0x5a26b6/_0x5e2c4a)+'px',_0x52d204['style'][_0x55f3('0x8a1')]=-(_0x49a288+(_0x4f44f0/0x2+_0x563775))+'px',_0x52d204[_0x55f3('0x6b')][_0x55f3('0xf1e')]='rotate('+(_0x2c0dc6['map']['rotateAngle']-0x5a)+_0x55f3('0xf1f');},_0x2c0dc6[_0x55f3('0x94')]['on']('controlchange',_0x24f8b5);});}},{'key':_0x55f3('0x96'),'value':function(){this['container'][_0x55f3('0xf20')]='',this[_0x55f3('0x94')][_0x55f3('0x5c9')](_0x55f3('0x9d8'),_0x24f8b5);}}]),_0x4b3731);function _0x4b3731(_0x49af5){(0x0,_0x3f459a[_0x55f3('0x9')])(this,_0x4b3731),this[_0x55f3('0x94')]=_0x49af5,this['container']=null;}_0x49a288[_0x55f3('0x9')]=_0x5a26b6;},function(_0x436dca,_0x36e156,_0x36e049){'use strict';Object['defineProperty'](_0x36e156,_0x55f3('0x7'),{'value':!0x0});var _0x13c13f,_0x63340b=_0x49dc2a(_0x36e049(0x22)),_0x258005=_0x49dc2a(_0x36e049(0x89)),_0x11fb67=_0x49dc2a(_0x36e049(0x8a)),_0x1d33cc=_0x49dc2a(_0x36e049(0x4)),_0x43ce4e=_0x49dc2a(_0x36e049(0x28)),_0x1d8dd0=_0x49dc2a(_0x36e049(0x0)),_0x3f9e96=_0x49dc2a(_0x36e049(0x1)),_0x574c3a=_0x49dc2a(_0x36e049(0x29)),_0x4b92db=_0x49dc2a(_0x36e049(0x2a));function _0x49dc2a(_0x436dca){return _0x436dca&&_0x436dca['__esModule']?_0x436dca:{'default':_0x436dca};}function _0x3ddf2c(){(0x0,_0x1d8dd0[_0x55f3('0x9')])(this,_0x3ddf2c);var _0x436dca=(0x0,_0x574c3a[_0x55f3('0x9')])(this,(_0x3ddf2c[_0x55f3('0x7d')]||(0x0,_0x43ce4e[_0x55f3('0x9')])(_0x3ddf2c))[_0x55f3('0x1')](this));return _0x436dca[_0x55f3('0xf21')]=(performance||Date)[_0x55f3('0x2c8')](),_0x436dca[_0x55f3('0xf22')]=_0x436dca[_0x55f3('0xf21')],_0x436dca[_0x55f3('0x1cc')]=0x0,_0x436dca[_0x55f3('0x2e8')]=0x0,_0x436dca['isCheckFrameRateComplete']=!0x1,_0x436dca[_0x55f3('0xf23')]=[],_0x436dca[_0x55f3('0xf24')]=[],_0x436dca;}_0x36e049=_0x36e049(0x2b)['EventDispatcher'],(0x0,_0x4b92db[_0x55f3('0x9')])(_0x3ddf2c,_0x36e049),(0x0,_0x3f9e96[_0x55f3('0x9')])(_0x3ddf2c,[{'key':_0x55f3('0xf25'),'value':function(){this['beginTime']=(performance||Date)[_0x55f3('0x2c8')]();}},{'key':_0x55f3('0x534'),'value':function(){this['frames']++;var _0x436dca=(performance||Date)[_0x55f3('0x2c8')]();return _0x436dca>=this[_0x55f3('0xf22')]+0x3e8&&(this['fps']=0x3e8*this[_0x55f3('0x1cc')]/(_0x436dca-this['prevTime']),0xa<this[_0x55f3('0xf23')]['length']?this[_0x55f3('0xf23')][_0x55f3('0xf')]=0x0:this[_0x55f3('0xf23')][_0x55f3('0x73')](this[_0x55f3('0x2e8')]),this[_0x55f3('0xf22')]=_0x436dca,this[_0x55f3('0x1cc')]=0x0),_0x436dca;}},{'key':'update','value':function(){this['beginTime']=this[_0x55f3('0x534')]();}},{'key':_0x55f3('0xf26'),'value':function(_0x436dca,_0x36e156){var _0x36e049=_0x436dca['length'],_0x36e156=Math[_0x55f3('0x64')](_0x36e049*_0x36e156/0x2),_0x436dca=_0x436dca['sort'](function(_0x436dca,_0x36e156){return _0x436dca-_0x36e156;})[_0x55f3('0x24')](_0x36e156,_0x36e049-_0x36e156);return _0x436dca[_0x55f3('0xf27')](function(_0x436dca,_0x36e156){return _0x436dca+_0x36e156;},0x0)/_0x436dca[_0x55f3('0xf')];}},{'key':_0x55f3('0xf28'),'value':function(){var _0x436dca=0x0,_0x36e156=!0x0,_0x36e049=!0x1,_0x13c13f=void 0x0;try{for(var _0x63340b,_0x258005=(0x0,_0x1d33cc[_0x55f3('0x9')])(this[_0x55f3('0xf23')]);!(_0x36e156=(_0x63340b=_0x258005[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x36e156=!0x0)_0x436dca+=_0x63340b[_0x55f3('0x12')];}catch(_0x136103){_0x36e049=!0x0,_0x13c13f=_0x136103;}finally{try{!_0x36e156&&_0x258005[_0x55f3('0x271')]&&_0x258005['return']();}finally{if(_0x36e049)throw _0x13c13f;}}return _0x436dca/this['_tempFrameRateList'][_0x55f3('0xf')];}},{'key':_0x55f3('0x995'),'value':(_0x13c13f=(0x0,_0x11fb67[_0x55f3('0x9')])(_0x258005[_0x55f3('0x9')][_0x55f3('0xf29')](function _0x436dca(_0x36e156,_0x36e049){var _0x13c13f,_0x63340b;return _0x258005[_0x55f3('0x9')][_0x55f3('0x579')](function(_0x436dca){for(;;)switch(_0x436dca[_0x55f3('0x585')]=_0x436dca['next']){case 0x0:_0x13c13f=0x0;case 0x1:if(_0x13c13f<_0x36e156)return _0x436dca[_0x55f3('0x85')]=0x4,this['sleep'](0x3e8);_0x436dca[_0x55f3('0x85')]=0x9;break;case 0x4:0x0<this[_0x55f3('0xf23')][_0x55f3('0xf')]&&this[_0x55f3('0xf24')][_0x55f3('0x73')](this[_0x55f3('0xf28')]()),this[_0x55f3('0xf23')][_0x55f3('0xf')]=0x0;case 0x6:_0x13c13f++,_0x436dca[_0x55f3('0x85')]=0x1;break;case 0x9:_0x63340b=this[_0x55f3('0xf26')](this[_0x55f3('0xf24')],0.2),this[_0x55f3('0x2fa')]({'type':'checkIsInLowDeviceComplete','fps':+_0x63340b[_0x55f3('0xf2a')](0x1)}),_0x36e049&&this[_0x55f3('0x995')](_0x36e156,!0x0);case 0xc:case _0x55f3('0x534'):return _0x436dca['stop']();}},_0x436dca,this);})),function(_0x436dca,_0x36e156){return _0x13c13f['apply'](this,arguments);})},{'key':_0x55f3('0xf2b'),'value':function(_0x36e156){return new _0x63340b[(_0x55f3('0x9'))](function(_0x436dca){setTimeout(_0x436dca,_0x36e156);});}}]),_0x36e156[_0x55f3('0x9')]=_0x3ddf2c;},function(_0x2e0415,_0x236215,_0x1638ac){'use strict';Object[_0x55f3('0x4')](_0x236215,_0x55f3('0x7'),{'value':!0x0});var _0x1638ac=_0x1638ac(0x4),_0x43f8e2=_0x1638ac&&_0x1638ac[_0x55f3('0x7')]?_0x1638ac:{'default':_0x1638ac};_0x236215[_0x55f3('0x9')]=function(){esmap[_0x55f3('0x36')]['searchEffectMarker']=function(_0x2e0415,_0x236215,_0x1638ac,_0x433065){if(!_0x1638ac&&_0x1638ac[_0x55f3('0x67d')])_0x433065([]);else{var _0xfea91=[],_0x2e0415=_0x2e0415[_0x55f3('0x5e6')](_0x236215),_0x41aa2a=!0x0,_0x236215=!0x1,_0x348ba7=void 0x0;try{for(var _0x535807,_0x57ad00=(0x0,_0x43f8e2[_0x55f3('0x9')])(_0x2e0415[_0x55f3('0x5e7')]);!(_0x41aa2a=(_0x535807=_0x57ad00['next']())[_0x55f3('0x269')]);_0x41aa2a=!0x0){var _0x22fef4=_0x535807[_0x55f3('0x12')],_0x100a09=!0x0,_0x182649=!0x1,_0x32ea77=void 0x0;try{for(var _0x5a3d85,_0x966403=(0x0,_0x43f8e2[_0x55f3('0x9')])(_0x22fef4[_0x55f3('0x322')]);!(_0x100a09=(_0x5a3d85=_0x966403[_0x55f3('0x85')]())['done']);_0x100a09=!0x0){var _0x497463=_0x5a3d85[_0x55f3('0x12')];_0x497463[_0x55f3('0x67d')]===_0x1638ac[_0x55f3('0x67d')]&&(_0x1638ac[_0x55f3('0xf2c')]?Array[_0x55f3('0x1a9')](_0x1638ac[_0x55f3('0xf2c')])&&0x0<_0x1638ac[_0x55f3('0xf2c')][_0x55f3('0xf')]?0x0<=_0x1638ac[_0x55f3('0xf2c')][_0x55f3('0x4b')](_0x497463[_0x55f3('0x8b')])&&_0xfea91[_0x55f3('0x73')](_0x497463):_0x1638ac[_0x55f3('0xf2c')]===_0x497463[_0x55f3('0x8b')]&&_0xfea91[_0x55f3('0x73')](_0x497463):_0xfea91[_0x55f3('0x73')](_0x497463));}}catch(_0x48990e){_0x182649=!0x0,_0x32ea77=_0x48990e;}finally{try{!_0x100a09&&_0x966403[_0x55f3('0x271')]&&_0x966403[_0x55f3('0x271')]();}finally{if(_0x182649)throw _0x32ea77;}}}}catch(_0x3f9595){_0x236215=!0x0,_0x348ba7=_0x3f9595;}finally{try{!_0x41aa2a&&_0x57ad00[_0x55f3('0x271')]&&_0x57ad00[_0x55f3('0x271')]();}finally{if(_0x236215)throw _0x348ba7;}}_0x433065(_0xfea91);}},esmap[_0x55f3('0xf2d')][_0x55f3('0xf2e')]['prototype'][_0x55f3('0xf2f')]=function(){var _0x2e0415=0x0<arguments[_0x55f3('0xf')]&&void 0x0!==arguments[0x0]?arguments[0x0]:{};_0x2e0415[_0x55f3('0xf30')]&&esmap['ESEffectTool'][_0x55f3('0x5df')][_0x55f3('0xba9')](),esmap[_0x55f3('0x4e')][_0x55f3('0x5df')][_0x55f3('0xb43')](this[_0x55f3('0x5e9')],_0x2e0415);},esmap[_0x55f3('0xf2d')][_0x55f3('0xf2e')][_0x55f3('0x15')]['removeOutline']=function(){esmap[_0x55f3('0x4e')][_0x55f3('0x5df')]['removeObjectOutline'](this[_0x55f3('0x5e9')]);},esmap[_0x55f3('0xf2d')][_0x55f3('0xf2e')][_0x55f3('0x15')][_0x55f3('0xf31')]=function(_0x3fa266){this['o3d_']['traverse'](function(_0x2e0415){if(_0x55f3('0x317')===_0x2e0415[_0x55f3('0xeb')])if(0x0<_0x2e0415[_0x55f3('0x3f')][_0x55f3('0xf')]){var _0x236215=!0x0,_0x1638ac=!0x1,_0x484244=void 0x0;try{for(var _0x44152a,_0x2af3cd=(0x0,_0x43f8e2['default'])(mesh[_0x55f3('0x3f')]);!(_0x236215=(_0x44152a=_0x2af3cd[_0x55f3('0x85')]())['done']);_0x236215=!0x0){var _0x5df169=_0x44152a[_0x55f3('0x12')];_0x5df169 instanceof THREE[_0x55f3('0xb7e')]&&(_0x5df169[_0x55f3('0xb49')]=!0x0,_0x5df169[_0x55f3('0x220')][_0x55f3('0x300')](_0x3fa266));}}catch(_0x30d64f){_0x1638ac=!0x0,_0x484244=_0x30d64f;}finally{try{!_0x236215&&_0x2af3cd[_0x55f3('0x271')]&&_0x2af3cd[_0x55f3('0x271')]();}finally{if(_0x1638ac)throw _0x484244;}}}else _0x2e0415[_0x55f3('0x3f')][_0x55f3('0xb49')]=!0x0,_0x2e0415[_0x55f3('0x3f')][_0x55f3('0x220')][_0x55f3('0x300')](_0x3fa266);});},esmap[_0x55f3('0xf2d')][_0x55f3('0xf2e')]['prototype'][_0x55f3('0xf32')]=function(_0x2e0415){_0x2e0415['id']=this['ID'],esmap[_0x55f3('0x4e')][_0x55f3('0x97d')][_0x55f3('0xf32')](_0x2e0415);},esmap[_0x55f3('0xf33')][_0x55f3('0x15')][_0x55f3('0xf2f')]=function(){esmap[_0x55f3('0x4e')][_0x55f3('0x5df')][_0x55f3('0xb43')](this[_0x55f3('0x5e9')]);},esmap[_0x55f3('0xf33')][_0x55f3('0x15')][_0x55f3('0xf34')]=function(){esmap[_0x55f3('0x4e')][_0x55f3('0x5df')][_0x55f3('0xa19')](this[_0x55f3('0x5e9')]);},esmap[_0x55f3('0xf33')][_0x55f3('0x15')]['setBloomLight']=function(_0x2e0415){this[_0x55f3('0x5e9')][_0x55f3('0x322')]&&0x0<this[_0x55f3('0x5e9')][_0x55f3('0x322')]['length']&&esmap['ESEffectTool'][_0x55f3('0x5df')][_0x55f3('0xa06')](this[_0x55f3('0x5e9')][_0x55f3('0x322')][0x0]),this[_0x55f3('0x36a')]&&esmap['ESEffectTool']['screenEffect'][_0x55f3('0xa06')](this[_0x55f3('0x5e9')],_0x2e0415);},esmap[_0x55f3('0xf33')][_0x55f3('0x15')][_0x55f3('0x9f8')]=function(_0x2e0415){this['o3d_']&&this['o3d_']['material']&&esmap[_0x55f3('0x4e')][_0x55f3('0x5de')][_0x55f3('0x9f8')](this);},esmap[_0x55f3('0xf33')][_0x55f3('0x15')][_0x55f3('0xeb0')]=function(_0x2e0415){this[_0x55f3('0x5e9')]&&this['o3d_'][_0x55f3('0x3f')]&&esmap['ESEffectTool'][_0x55f3('0x5de')]['setHeatPointImg'](this,_0x2e0415);},esmap[_0x55f3('0xf35')][_0x55f3('0x15')]['setBloomLight']=function(_0x2e0415){var _0x236215=!0x0,_0x1638ac=!0x1,_0x4878f1=void 0x0;try{for(var _0x1ca756,_0x5d3eab=(0x0,_0x43f8e2[_0x55f3('0x9')])(this['o3d_'][_0x55f3('0x322')]);!(_0x236215=(_0x1ca756=_0x5d3eab[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x236215=!0x0){var _0x1bb3f8=_0x1ca756['value'];esmap['ESEffectTool']['screenEffect']['setObjectBloomLight'](_0x1bb3f8,_0x2e0415);}}catch(_0x5a52d7){_0x1638ac=!0x0,_0x4878f1=_0x5a52d7;}finally{try{!_0x236215&&_0x5d3eab[_0x55f3('0x271')]&&_0x5d3eab[_0x55f3('0x271')]();}finally{if(_0x1638ac)throw _0x4878f1;}}};};},function(_0x6cedb9,_0x49b7ea,_0x1a4e06){'use strict';Object[_0x55f3('0x4')](_0x49b7ea,_0x55f3('0x7'),{'value':!0x0});var _0x1a4e06=_0x1a4e06(0x4),_0x6bc7a9=_0x1a4e06&&_0x1a4e06['__esModule']?_0x1a4e06:{'default':_0x1a4e06};_0x49b7ea[_0x55f3('0x9')]=function(){esmap[_0x55f3('0xf36')][_0x55f3('0x15')][_0x55f3('0xf37')]=function(_0x6cedb9){if(!_0x6cedb9)return[];if(!this['_effectLayers'])return[];var _0x49b7ea=[],_0x1a4e06=this[_0x55f3('0x5e7')];if(Array[_0x55f3('0x1a9')](_0x6cedb9)&&0x0<_0x6cedb9[_0x55f3('0xf')]){var _0x57571e=!0x0,_0x43d4be=!0x1,_0x266f62=void 0x0;try{for(var _0x202029,_0x4c3812=(0x0,_0x6bc7a9[_0x55f3('0x9')])(_0x1a4e06);!(_0x57571e=(_0x202029=_0x4c3812[_0x55f3('0x85')]())[_0x55f3('0x269')]);_0x57571e=!0x0){var _0x42895d=_0x202029[_0x55f3('0x12')];0x0<=_0x6cedb9['indexOf'](_0x42895d[_0x55f3('0x8b')])&&_0x49b7ea['push'](_0x42895d);}}catch(_0x48bd4f){_0x43d4be=!0x0,_0x266f62=_0x48bd4f;}finally{try{!_0x57571e&&_0x4c3812[_0x55f3('0x271')]&&_0x4c3812[_0x55f3('0x271')]();}finally{if(_0x43d4be)throw _0x266f62;}}}else{var _0x1b6c9c=!0x0,_0x43d4be=!0x1,_0x266f62=void 0x0;try{for(var _0x334299,_0x30d83e=(0x0,_0x6bc7a9[_0x55f3('0x9')])(_0x1a4e06);!(_0x1b6c9c=(_0x334299=_0x30d83e['next']())[_0x55f3('0x269')]);_0x1b6c9c=!0x0){var _0x4d599b=_0x334299[_0x55f3('0x12')];_0x4d599b[_0x55f3('0x8b')]===_0x6cedb9&&_0x49b7ea[_0x55f3('0x73')](_0x4d599b);}}catch(_0x2264c7){_0x43d4be=!0x0,_0x266f62=_0x2264c7;}finally{try{!_0x1b6c9c&&_0x30d83e[_0x55f3('0x271')]&&_0x30d83e[_0x55f3('0x271')]();}finally{if(_0x43d4be)throw _0x266f62;}}}return _0x49b7ea;};};},function(_0x2fada3,_0x1632d7,_0x1a87b2){'use strict';var _0x1218fd=_0x3a2506(_0x1a87b2(0x2c)),_0x5585e1=_0x3a2506(_0x1a87b2(0x4)),_0x549608=_0x3a2506(_0x1a87b2(0x12)),_0x4752de=_0x3a2506(_0x1a87b2(0x22)),_0xe828e1=function(_0x2fada3){if(_0x2fada3&&_0x2fada3[_0x55f3('0x7')])return _0x2fada3;var _0x1a87b2={};if(null!=_0x2fada3)for(var _0x549608 in _0x2fada3)Object['prototype'][_0x55f3('0xc')][_0x55f3('0x1')](_0x2fada3,_0x549608)&&(_0x1a87b2[_0x549608]=_0x2fada3[_0x549608]);return _0x1a87b2[_0x55f3('0x9')]=_0x2fada3,_0x1a87b2;}(_0x1a87b2(0x3d)),_0x1c1ab9=_0x3a2506(_0x1a87b2(0x12c)),_0x20052e=_0x1a87b2(0x12d),_0x1990ff=_0x1a87b2(0x17);function _0x3a2506(_0x2fada3){return _0x2fada3&&_0x2fada3[_0x55f3('0x7')]?_0x2fada3:{'default':_0x2fada3};}var _0x2dd7ca,_0x1a0c3d,_0xf9beec,_0x457d25,_0xe55270,_0x43c4d1,_0x4fd8e5,_0x22bcec,_0x44bfde,_0x39055b,_0x50c5b7,_0x38b8f3,_0x34281f,_0xc3a18a,_0x31daee,_0x55543e,_0x188d1c={};function _0x2e9537(_0x2fada3,_0x1a87b2){_0x2fada3[_0x55f3('0x65f')](function(_0x2fada3){_0x2fada3['material']&&_0x1a87b2(_0x2fada3[_0x55f3('0x3f')]);});}function _0x5d930f(){esmap[_0x55f3('0x954')]['_tempRaf']&&cancelAnimationFrame(esmap['ESTileMap'][_0x55f3('0xf38')]),esmap[_0x55f3('0xf39')]=!0x0,_0x22bcec=!0x1,_0x50c5b7=_0x44bfde=_0xe55270=_0x457d25=_0xf9beec=_0x2dd7ca=null,_0x1a0c3d[_0x55f3('0x5eb')]('estile_map'),_0x1a0c3d=null;}function _0x1395fe(_0x1c1ab9){_0xf9beec=_0x2dd7ca['options'][_0x55f3('0xf3a')]||_0x55f3('0xf3b'),!_0x1c1ab9[_0x55f3('0xf3c')]&&_0x2dd7ca[_0x55f3('0x94e')][_0x55f3('0xf3d')]&&(_0x1c1ab9[_0x55f3('0xf3c')]=_0x2dd7ca[_0x55f3('0x94e')][_0x55f3('0xf3d')][0x0]),_0x1c1ab9['tileUrl']&&-0x1<_0x1c1ab9[_0x55f3('0xf3c')][_0x55f3('0x4b')]('|')&&((_0x2fada3=function(){for(var _0x2fada3={},_0x1a87b2=_0x1c1ab9['tileUrl'][_0x55f3('0x67')]('|'),_0x549608=0x1;_0x549608<_0x1a87b2[_0x55f3('0xf')];_0x549608++){var _0x1218fd=_0x1a87b2[_0x549608][_0x55f3('0x67')]('=');_0x2fada3[_0x1218fd[0x0]]=_0x1218fd[0x1];}return _0x2fada3;}())[_0x55f3('0xf3e')]&&!_0x1c1ab9[_0x55f3('0xf3f')]&&(_0x1c1ab9['tileSourceLevelOffset']=+_0x2fada3[_0x55f3('0xf3e')]),_0x2fada3[_0x55f3('0xf40')]&&!_0x1c1ab9['tileSourceMaxLevel']&&(_0x1c1ab9['tileSourceMaxLevel']=+_0x2fada3[_0x55f3('0xf40')]),_0x2fada3[_0x55f3('0xf41')]&&!_0x1c1ab9[_0x55f3('0xf42')]&&(_0x2fada3[_0x55f3('0xf41')]=JSON[_0x55f3('0x405')](_0x2fada3[_0x55f3('0xf41')]),_0x1c1ab9['tileSourceLevelExtent']={'min':_0x2fada3['levelExtent'][0x0],'max':_0x2fada3[_0x55f3('0xf41')][0x1]}),_0x1c1ab9[_0x55f3('0xf3c')]=_0x1c1ab9[_0x55f3('0xf3c')][_0x55f3('0x67')]('|')[0x0]),_0x1c1ab9[_0x55f3('0xf3c')],_0x1c1ab9['tileSourceLevelOffset']&&(esmap['ESTileMap'][_0x55f3('0xf3f')]=_0x1c1ab9[_0x55f3('0xf3f')]);var _0x2fada3=esmap[_0x55f3('0x36')][_0x55f3('0xf43')](),_0x1a87b2={'tileUrl':_0x1c1ab9[_0x55f3('0xf3c')],'tileTheme':_0x1c1ab9[_0x55f3('0xf44')],'isShowWater':_0x1c1ab9[_0x55f3('0x465')],'isShowTileSourceLicense':_0x1c1ab9[_0x55f3('0xf45')],'isOpenControllerInertia':_0x1c1ab9[_0x55f3('0xf46')],'tileSourceMinLevel':_0x1c1ab9[_0x55f3('0xf47')],'tileSourceMaxLevel':_0x1c1ab9[_0x55f3('0xf48')],'tileSourceZoom':_0x1c1ab9[_0x55f3('0xf42')],'tileSourceLevelOffset':_0x1c1ab9[_0x55f3('0xf3f')],'isInitShow':_0x1c1ab9[_0x55f3('0xf49')],'isUseMultiView':_0x1c1ab9[_0x55f3('0xf4a')],'isShowMaskExtent':_0x1c1ab9[_0x55f3('0xf4b')]},_0x549608=_0x1a87b2[_0x55f3('0xf3c')],_0x1218fd=_0x1a87b2[_0x55f3('0x465')],_0x3a2506=_0x1a87b2['isShowTileSourceLicense'],_0x22bcec=_0x1a87b2[_0x55f3('0xf46')],_0x39055b=_0x1a87b2[_0x55f3('0xf47')],_0x2e9537=_0x1a87b2[_0x55f3('0xf48')],_0x5585e1=_0x1a87b2[_0x55f3('0xf4c')],_0x5d930f=_0x1a87b2[_0x55f3('0xf49')],_0x1395fe=_0x1a87b2[_0x55f3('0xf4a')],_0x1a87b2=_0x1a87b2[_0x55f3('0xf4b')],_0x1632d7=new ESTileMap[(_0x55f3('0xf4d'))](_0x55f3('0xf4e'),-20037508.342789244,20037508.342789244,-20037508.342789244,20037508.342789244),_0x47db1d=_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0x356')],_0x3bf5dd=_0x20052e[_0x55f3('0xf4f')],_0x1a87b2=(_0x1218fd&&(_0x457d25=new _0xe828e1[(_0x55f3('0xc5'))]({'isShowWater':!0x0,'originColor':_0x3bf5dd['waterOriginColor'],'replaceColor':_0x3bf5dd[_0x55f3('0xf50')]}),_0x3bf5dd[_0x55f3('0xf51')]=new THREE[(_0x55f3('0x26d'))]()['load'](_0x20052e[_0x55f3('0xf4f')]['waterSkyTexPath'])),_0xc3a18a=new THREE[(_0x55f3('0x1b6'))](0x0,0x0,0x0,_0x1a87b2?0x1:0x0),_0x31daee=new THREE[(_0x55f3('0x1b6'))](),document['createElement'](_0x55f3('0x422')));if(_0x1a87b2[_0x55f3('0x32c')]=0x2,_0x1a87b2['height']=0x2,_0x55543e=new THREE[(_0x55f3('0x4d4'))](_0x1a87b2),_0x3bf5dd[_0x55f3('0xf52')]=_0xc3a18a,_0x3bf5dd[_0x55f3('0xf53')]=_0x31daee,_0x3bf5dd[_0x55f3('0xba3')]=_0x55543e,(_0x1a0c3d=new ESTileMap[(_0x55f3('0xf54'))](_0x47db1d,_0x1632d7,{'scene3D':_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x416')],'camera':_0x2dd7ca['mapView']['camera'],'renderer':_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x4d2')],'disableSkirt':!0x0,'minSubdivisionLevel':_0x39055b||0x0,'maxSubdivisionLevel':_0x2e9537||0x13,'mapType':_0xf9beec,'tileOptions':_0x3bf5dd,'isCloseInsideRender':!0x0,'initCameraLola':[113.935092,22.517181]}))['isSetTileBlending']=!0x1,esmap[_0x55f3('0x99c')]&&(_0x1a0c3d[_0x55f3('0xf55')]=_0x20052e['DEFAULT_THEME'],esmap['EffectManager'][_0x55f3('0xf56')]=_0x1a0c3d),_0x1218fd&&_0x457d25[_0x55f3('0x468')](_0x1a0c3d),_0x188d1c[_0x55f3('0xf56')]=_0x1a0c3d,_0x2dd7ca['fire'](_0x55f3('0xf57')),_0x1395fe||(_0x1a87b2=new ESTileMap[(_0x55f3('0xf58'))](_0x1a0c3d,_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x356')],_0x2dd7ca),_0x1a0c3d[_0x55f3('0x306')][_0x55f3('0xf59')]['controls']=_0x1a87b2,_0x2dd7ca['resetControls'](_0x1a87b2)),_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x2cc')](_0x55f3('0xf5a'),function(_0x2fada3){_0x2dd7ca[_0x55f3('0x28d')](_0x55f3('0xf5b'),_0x2fada3['level']),esmap[_0x55f3('0x4e')][_0x55f3('0x5dc')]['getSkybox']()&&_0x5be76e(_0x2fada3[_0x55f3('0xf5c')]);}),_0x2dd7ca['controls'][_0x55f3('0x2cc')](_0x55f3('0x395'),function(_0x2fada3){_0x34281f['copy'](_0x2dd7ca[_0x55f3('0x389')]['target']),esmap[_0x55f3('0x4e')][_0x55f3('0xe97')]=!0x0;}),_0x2dd7ca['controls']['addEventListener'](_0x55f3('0xf5d'),function(){esmap[_0x55f3('0x954')]['viewMode_']===esmap[_0x55f3('0x9b9')][_0x55f3('0x9ba')]&&_0x55f3('0x99a')==_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0x9bb')]&&(_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x1ef')][_0x55f3('0x1ba')](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')]['rotation']),_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x306')][_0x55f3('0x38')][_0x55f3('0x1ba')](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')][_0x55f3('0x38')]),_0x2dd7ca['mapView']['camera'][_0x55f3('0x7de')]());}),_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x2cc')](_0x55f3('0x534'),function(_0x2fada3){_0x2dd7ca['updateTileView']();}),esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x955')]&&_0x44bfde[_0x55f3('0x956')]&&(_0x47db1d=_0x44bfde,_0x39055b=!0x1,(_0x2e9537=esmap['ESMapUtil'][_0x55f3('0x981')]())['isPC']&&(_0x39055b=!0x0),!_0x2e9537[_0x55f3('0x983')]&&_0x2e9537[_0x55f3('0x984')]&&0x0<=[_0x55f3('0x985'),'iPad','iPod'][_0x55f3('0x4b')](_0x2e9537['platform'])&&(_0x39055b=!0x1),_0x2e9537['isPc']||'Android'!=_0x2e9537['platform']||(_0x39055b=!0x1),_0x47db1d[_0x55f3('0x956')]&&_0x39055b&&esmap[_0x55f3('0x4e')][_0x55f3('0x97d')][_0x55f3('0xf5e')]()['createTileShadow'](_0x47db1d,_0x34281f)),_0x22bcec?(_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xeea')]=!0x0,_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xeeb')]=0.1,_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x69c')]=0.08,_0x2dd7ca['controls'][_0x55f3('0xf05')]=0.25):(_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xeea')]=!0x1,_0x2dd7ca['controls']['rotateSpeed']=0.7,_0x2dd7ca['controls']['panSpeed']=1.6),_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf5f')]=!0x1,_0x2dd7ca[_0x55f3('0x389')]['autoRotateSpeed']=0.1,_0x3a2506){for(var _0x3bf5dd=_0x2dd7ca['options'][_0x55f3('0x356')],_0x54fe9b=_0x549608,_0x1218fd=document[_0x55f3('0x79')](_0x55f3('0x98')),_0x1395fe=(_0x1218fd[_0x55f3('0x6b')][_0x55f3('0x38')]=_0x55f3('0xf16'),_0x1218fd[_0x55f3('0x6b')][_0x55f3('0x8a2')]=0x0,_0x1218fd[_0x55f3('0x6b')][_0x55f3('0x778')]=0x0,_0x1218fd[_0x55f3('0x6b')]['height']=_0x55f3('0xf60'),_0x1218fd['style'][_0x55f3('0xf61')]=_0x55f3('0xf62'),_0x1218fd[_0x55f3('0x6b')][_0x55f3('0xf63')]='5px',_0x1218fd[_0x55f3('0x6b')][_0x55f3('0x454')]=_0x55f3('0xf64'),_0x1218fd['style'][_0x55f3('0xf65')]=_0x55f3('0xf66'),document['createElement']('a')),_0x1e8437=(_0x1395fe[_0x55f3('0x7f8')]('href',_0x55f3('0xf67')),_0x1395fe[_0x55f3('0x7f8')](_0x55f3('0x81'),_0x55f3('0xf68')),_0x1395fe[_0x55f3('0x6b')]['color']=_0x55f3('0xf69'),_0x1395fe[_0x55f3('0x6b')][_0x55f3('0xf6a')]=_0x55f3('0x2b8'),_0x1395fe[_0x55f3('0xf6b')]=_0x55f3('0x28'),_0x1218fd['appendChild'](_0x1395fe),document['createElement']('a')),_0x5e8530=[{'url':_0x55f3('0xf6c'),'text':_0x55f3('0xf6d'),'link':_0x55f3('0xf6e')},{'url':_0x55f3('0xf6f'),'text':_0x55f3('0xf70'),'link':'https://map.amap.com/doc/serviceitem.html'},{'url':_0x55f3('0xf71'),'text':_0x55f3('0xf72'),'link':_0x55f3('0xf73')},{'url':'geoq.cn','text':_0x55f3('0xf74'),'link':_0x55f3('0xf75')}],_0x25e093=0x0;_0x25e093<_0x5e8530[_0x55f3('0xf')];_0x25e093++)if(-0x1<_0x54fe9b[_0x55f3('0x4b')](_0x5e8530[_0x25e093][_0x55f3('0xf76')])){_0x1e8437['innerText']=_0x5e8530[_0x25e093][_0x55f3('0xf77')],_0x1e8437[_0x55f3('0x7f8')](_0x55f3('0xf78'),_0x5e8530[_0x25e093][_0x55f3('0xf79')]),_0x1e8437[_0x55f3('0x7f8')]('target',_0x55f3('0xf68'));break;}_0x1e8437[_0x55f3('0x6b')][_0x55f3('0x220')]=_0x55f3('0x747'),_0x1e8437['style'][_0x55f3('0xf6a')]=_0x55f3('0x2b8'),_0x1e8437[_0x55f3('0x6b')][_0x55f3('0xf7a')]=_0x55f3('0xf66'),_0x1218fd[_0x55f3('0x6d')](_0x1e8437),_0x3bf5dd[_0x55f3('0x6d')](_0x1218fd);}var _0x860db7,_0x1a87b2=_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0x356')],_0x2e9537=document['createElement'](_0x55f3('0x98')),_0x39055b=(_0x2e9537[_0x55f3('0x6b')]['position']=_0x55f3('0xf16'),_0x2e9537[_0x55f3('0x6b')][_0x55f3('0x8a1')]=0x0,_0x2e9537[_0x55f3('0x6b')]['left']=0x0,_0x2e9537[_0x55f3('0x6b')][_0x55f3('0x32c')]='100%',_0x2e9537['style']['height']=_0x55f3('0xf7b'),_0x2e9537[_0x55f3('0x6b')][_0x55f3('0xf7c')]='blur(10px)',_0x1a87b2[_0x55f3('0x6d')](_0x2e9537),_0x50c5b7=_0x2e9537,esmap[_0x55f3('0xf7d')]=function(_0x2fada3){_0x50c5b7&&(_0x50c5b7['style'][_0x55f3('0x6c')]=_0x2fada3?_0x55f3('0xf7e'):_0x55f3('0x2b8'));},new ESTileMap[(_0x55f3('0xf7f'))]({'extent':_0x1632d7,'format':_0x55f3('0xf80'),'url':_0x549608||_0x55f3('0xf81'),'attribution':{'name':'TMS_Map'},'tileMatrixSet':'PM','zoom':_0x5585e1,'projection':_0x55f3('0xf4e'),'isInverted':_0x55f3('0xf82')==_0x2dd7ca['coordSystem']})),_0x47db1d=new ESTileMap[(_0x55f3('0xf83'))]('estile_map',{'source':_0x39055b,'sourceType':_0x55f3('0x36e')}),_0x512ed7=(_0x1a0c3d[_0x55f3('0xf84')](_0x47db1d),_0x2dd7ca[_0x55f3('0x389')]['layers'][_0x55f3('0x73')](_0x47db1d),_0x188d1c[_0x55f3('0xf85')]=_0x47db1d,!(_0x1a0c3d['tileLayer'][_0x55f3('0x319')]['position']['y']=-0x1)===_0x5d930f&&(_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0x319')][_0x55f3('0x338')]=!0x1,_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0xf87')]=!0x0),_0x2dd7ca['on'](_0x55f3('0x9dc'),function(_0x2fada3){TWEEN[_0x55f3('0x2f8')](),esmap[_0x55f3('0xf39')]||(_0x1a0c3d[_0x55f3('0xf88')](_0x1a0c3d[_0x55f3('0x306')]['camera3D']),_0x457d25&&_0x457d25['update']());}),(_0xe55270=new _0xe828e1[(_0x55f3('0xc1'))](_0x1a0c3d,_0x2dd7ca[_0x55f3('0x389')]))[_0x55f3('0x2cc')]('flyToComplete',function(){var _0x2fada3;_0x2dd7ca[_0x55f3('0x28d')](_0x55f3('0x67b'),_0x2dd7ca[_0x55f3('0x66f')]),_0x2dd7ca[_0x55f3('0x28d')](_0x55f3('0xf89')),esmap[_0x55f3('0x4e')][_0x55f3('0x46')][_0x55f3('0x955')]&&_0x44bfde[_0x55f3('0x956')]&&(_0x2fada3=esmap[_0x55f3('0x4e')][_0x55f3('0x97d')][_0x55f3('0xf5e')](),setTimeout(function(){_0x2fada3[_0x55f3('0xe95')](_0x44bfde[_0x55f3('0x956')]);},0xfa0));}),_0x188d1c[_0x55f3('0x37c')]=function(_0x2fada3){_0xe55270[_0x55f3('0x37c')]({'direction':_0x2fada3['direction']||esmap[_0x55f3('0x380')][_0x55f3('0x383')],'position':new THREE[(_0x55f3('0x5a'))](-_0x2fada3['x'],0x0,_0x2fada3['y']),'radiusFactor':_0x2fada3[_0x55f3('0x37d')]||0x7d0,'pitchAngle':_0x2fada3[_0x55f3('0xf8a')]||0x2d,'complete':_0x2fada3['callback']});},_0x2dd7ca[_0x55f3('0xecd')]=function(_0x3a2506){return new _0x4752de['default'](function(_0x2fada3){if(_0x3a2506['radius']){var _0x1a87b2=null,_0x549608=0x0;if(_0x3a2506[_0x55f3('0x65c')]&&_0x3a2506[_0x55f3('0x40e')]){if(!_0x2dd7ca['getBuildingById'](_0x3a2506[_0x55f3('0x65c')]))return void console[_0x55f3('0x1f5')](_0x55f3('0xf8b')+_0x3a2506[_0x55f3('0x65c')]+_0x55f3('0xf8c'));var _0x1218fd=_0x2dd7ca[_0x55f3('0xab9')](_0x3a2506[_0x55f3('0x65c')]);_0x1218fd['changeFocusFloor'](_0x3a2506['fnum']),_0x549608=_0x1218fd['getFloorHeight'](_0x3a2506['fnum']);}(0x0===_0x3a2506[_0x55f3('0x37e')]||_0x3a2506[_0x55f3('0x37e')]<0.1)&&(_0x3a2506[_0x55f3('0x37e')]=0.1);_0x1a87b2=_0x2dd7ca[_0x55f3('0x65b')]({'x':_0x3a2506['x'],'y':_0x3a2506['y'],'z':(_0x3a2506['z']||0x0)+_0x549608}),_0x1218fd=_0x2dd7ca['controls'][_0x55f3('0xf8d')](_0x3a2506[_0x55f3('0x21e')]);0xf<_0x2dd7ca[_0x55f3('0x389')]['_earthZoom']&&_0x1218fd<=0xf&&_0x3a2506['pitchAngle']<THREE['Math']['radToDeg'](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf8e')])?_0x3a2506[_0x55f3('0xf8f')]?setTimeout(function(){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf90')](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf8e')],0x1f4,function(){_0x1c1ab9();});},0x3e8*_0x3a2506[_0x55f3('0xf8f')]):_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf90')](_0x2dd7ca[_0x55f3('0x389')]['_tempMaxPolarAngle'],0x1f4,function(){_0x1c1ab9();}):_0x3a2506[_0x55f3('0xf8f')]?setTimeout(function(){_0x1c1ab9();},0x3e8*_0x3a2506[_0x55f3('0xf8f')]):_0x1c1ab9();}else console[_0x55f3('0x1f5')](_0x55f3('0xf91'));function _0x1c1ab9(){esmap[_0x55f3('0x4e')][_0x55f3('0xe97')]=!0x1,esmap[_0x55f3('0x954')]['_controlFlying']=!0x0,_0xe55270[_0x55f3('0x38d')]({'targetPos':_0x1a87b2,'radius':_0x3a2506[_0x55f3('0x21e')],'pitchAngle':_0x3a2506[_0x55f3('0x37e')],'directionAngle':_0x3a2506[_0x55f3('0x618')],'time':_0x3a2506[_0x55f3('0x38f')],'callback':_0x3a2506[_0x55f3('0x35a')],'tileUpdateCallbacks':{'start':_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf92')],'update':_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf93')],'complete':_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf94')]}}),setTimeout(function(){_0x5be76e(Math[_0x55f3('0x63')](_0x2dd7ca[_0x55f3('0x66f')])),_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0xf87')]&&(_0x1a0c3d[_0x55f3('0xf86')]['frozen']=!0x1),_0x2dd7ca[_0x55f3('0xf95')](),_0x2fada3(),esmap[_0x55f3('0x954')]['_controlFlying']=!0x1;},0x3e8*(_0x3a2506[_0x55f3('0x38f')]||0x3));}});},_0x2dd7ca[_0x55f3('0xf96')]=function(_0x2fada3,_0x1a87b2){var _0x549608=null,_0x1218fd=_0x2fada3&&_0x1a87b2?(_0x549608=_0x2dd7ca[_0x55f3('0xeb9')]({'bid':_0x2fada3,'fnum':_0x1a87b2}),_0x2dd7ca['coordMapToThree'](_0x549608)):(_0x549608=_0x2dd7ca[_0x55f3('0xb85')]({'x':_0x2dd7ca['controls']['target']['x'],'y':_0x2dd7ca['controls'][_0x55f3('0x81')]['y'],'z':_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x81')]['z']}),_0x2dd7ca['controls'][_0x55f3('0x81')]),_0x1218fd=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')]['position'][_0x55f3('0x381')](_0x1218fd);return _0x2fada3&&_0x1a87b2?{'directionAngle':+_0x2dd7ca['rotateAngle']['toFixed'](0x2),'pitchAngle':+_0x2dd7ca['tiltAngle']['toFixed'](0x2),'radius':+_0x1218fd[_0x55f3('0xf2a')](0x2),'x':+_0x549608['x']['toFixed'](0x2),'y':+_0x549608['y']['toFixed'](0x2),'z':0x0,'bid':_0x2fada3,'fnum':_0x1a87b2,'time':0x3}:{'directionAngle':+_0x2dd7ca[_0x55f3('0x451')][_0x55f3('0xf2a')](0x2),'pitchAngle':+_0x2dd7ca[_0x55f3('0xf8a')][_0x55f3('0xf2a')](0x2),'radius':+_0x1218fd['toFixed'](0x2),'x':+_0x549608['x'][_0x55f3('0xf2a')](0x2),'y':+_0x549608['y'][_0x55f3('0xf2a')](0x2),'z':+_0x549608['z'][_0x55f3('0xf2a')](0x1),'time':0x3};},_0x2dd7ca[_0x55f3('0xf97')]=_0x2a0640,_0x1c1ab9[_0x55f3('0xf98')]||0x8),_0x203c20=(_0x2dd7ca[_0x55f3('0x94e')][_0x55f3('0xf99')]?esmap[_0x55f3('0x36')][_0x55f3('0xf9a')](_0x2fada3):(_0x22bcec={'startZoom':_0x512ed7,'scaleLevelAnimate':_0x1c1ab9[_0x55f3('0xf9b')]},_0x3a2506=(0x0,_0x1990ff[_0x55f3('0x30')])(_0x2dd7ca[_0x55f3('0x46')]['center']['x'],_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0x22b')]['y']),_0x1395fe=new THREE[(_0x55f3('0x5a'))](_0x3a2506['x'],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf9c')](_0x22bcec[_0x55f3('0xf9d')]),_0x3a2506['y']),_0x3bf5dd=new THREE[(_0x55f3('0x5a'))](_0x3a2506['x'],0x0,_0x3a2506['y']),_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0x319')][_0x55f3('0x38')]['set'](-_0x2dd7ca['mapScene'][_0x55f3('0x34')],0x0,-_0x2dd7ca[_0x55f3('0x33')]['sceneZ_']),_0x2dd7ca[_0x55f3('0x94e')]['defaultView']&&!_0x22bcec['scaleLevelAnimate']?_0x2dd7ca[_0x55f3('0xecd')](_0x2dd7ca[_0x55f3('0x94e')][_0x55f3('0xf9e')]):(_0x2dd7ca['controls']['initCameraPos'](_0x1395fe,_0x3bf5dd,_0x22bcec['startZoom']),_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x2f8')]({'forceTheta':Math['PI']+THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0xf9f')])}))),void 0x0===_0x188d1c[_0x55f3('0xfa0')]&&Object['defineProperty'](_0x188d1c,'viewMode_',{'get':function(){return _0x4fd8e5;},'set':function(_0x2fada3){_0x38b8f3||_0x2fada3===_0x4fd8e5||(_0x2fada3===esmap[_0x55f3('0x9b9')][_0x55f3('0x9ba')]?(_0x38b8f3=!0x0,_0x2dd7ca[_0x55f3('0xfa1')]={'mode':esmap[_0x55f3('0x9b9')][_0x55f3('0x9ba')],'force2D':!0x0,'time':0x0,'callback':function(){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa2')]=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x81')]['distanceTo'](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')]['position']),_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa3')]=_0x2dd7ca[_0x55f3('0x41b')]['cameraTop'][_0x55f3('0x8a1')],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xed1')]=0x0,_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa4')]=0x0,_0x1a0c3d[_0x55f3('0x306')][_0x55f3('0xf59')]=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')],_0x4fd8e5=_0x2fada3,_0x38b8f3=!0x1;}},esmap[_0x55f3('0x4e')][_0x55f3('0x5db')]['toggleTileRoutesVisible'](!0x1)):_0x2fada3===esmap[_0x55f3('0x9b9')]['MODE_3D']&&(_0x38b8f3=!0x0,_0x2dd7ca['viewMode']={'mode':esmap['ESViewMode'][_0x55f3('0xfa5')],'force2D':!0x0,'time':0x0,'callback':function(){_0x4fd8e5=_0x2fada3,_0x2dd7ca['controls']['maxNearGroundPolarAngle']=_0x2dd7ca['controls']['_tempMaxNearGroundPolarAngle'],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa6')](),_0x38b8f3=!0x1,_0x1a0c3d[_0x55f3('0x306')]['camera3D']=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x6')];}},esmap[_0x55f3('0x4e')]['routes'][_0x55f3('0x9f2')](!0x0)));}}),void 0x0===_0x188d1c[_0x55f3('0xfa1')]&&Object[_0x55f3('0x4')](_0x188d1c,_0x55f3('0xfa1'),{'get':function(){return _0x43c4d1;},'set':function(_0x2fada3){_0x43c4d1!==_0x2fada3&&(_0x2fada3===esmap[_0x55f3('0x9b9')]['MODE_2D']?(_0x43c4d1=_0x2fada3,_0x2dd7ca[_0x55f3('0x389')]['_tempMaxPolarAngle']=0x0,_0x2dd7ca['controls'][_0x55f3('0xfa7')]=_0x2dd7ca[_0x55f3('0x389')]['maxNearGroundPolarAngle'],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xed1')]=0x0,_0x2dd7ca['controls'][_0x55f3('0xfa4')]=0x0):_0x2fada3===esmap[_0x55f3('0x9b9')]['MODE_3D']&&(_0x43c4d1=_0x2fada3,_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf8e')]=0.3*Math['PI'],_0x2dd7ca['controls'][_0x55f3('0xed1')]=0.3*Math['PI'],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa4')]=_0x2dd7ca[_0x55f3('0x389')]['_tempMaxNearGroundPolarAngle'],_0x2dd7ca[_0x55f3('0xf8a')]=0x28));}}),void 0x0===_0x188d1c[_0x55f3('0xeb5')]&&Object['defineProperty'](_0x188d1c,'autoRotate',{'get':function(){return _0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xeb5')];},'set':function(_0x2fada3){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xeb5')]=_0x2fada3;}}),void 0x0===_0x188d1c[_0x55f3('0xf48')]&&Object[_0x55f3('0x4')](_0x188d1c,_0x55f3('0xf48'),{'get':function(){return _0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0xfa8')];},'set':function(_0x2fada3){_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0xfa8')]=_0x2fada3;}}),_0x2dd7ca['mapScene'][_0x55f3('0xfa9')][_0x55f3('0x338')]=!0x0,_0x1c1ab9[_0x55f3('0xf98')]),_0x1218fd=0x0;_0x1c1ab9[_0x55f3('0xf9b')]&&(_0x203c20=_0x1c1ab9[_0x55f3('0xf9b')][_0x55f3('0xfaa')],_0x1218fd=_0x1c1ab9[_0x55f3('0xf9b')][_0x55f3('0x216')]),_0x2dd7ca['options']['viewMode']==esmap[_0x55f3('0x9b9')][_0x55f3('0x9ba')]&&(_0x1c1ab9[_0x55f3('0xfab')]=0.1),_0x203c20<_0x2dd7ca['options'][_0x55f3('0xfac')]&&console['info'](_0x55f3('0xfad')+(_0x1c1ab9[_0x55f3('0xf9b')]?_0x55f3('0xfae'):'scaleLevel')+_0x55f3('0xfaf'),_0x55f3('0xfb0')),_0x2dd7ca[_0x55f3('0x94e')][_0x55f3('0xf99')]?_0x1799e2({'targetLevel':_0x203c20,'startZoom':_0x512ed7,'scaleLevel':_0x1c1ab9[_0x55f3('0xf98')],'scaleLevelAnimate':_0x1c1ab9[_0x55f3('0xf9b')]}):(_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x356')][_0x55f3('0x6b')][_0x55f3('0xfb1')]=_0x55f3('0xfb2'),_0x860db7={'isNeedAnimate':_0x1c1ab9[_0x55f3('0xf9b')],'targetLevel':_0x203c20,'duration':_0x1218fd,'initPitchAngle':_0x1c1ab9[_0x55f3('0xfab')]},new _0x4752de[(_0x55f3('0x9'))](function(_0x2fada3,_0x1a87b2){!_0x860db7[_0x55f3('0xfb3')]&&_0x2dd7ca[_0x55f3('0x94e')]['defaultView']?_0x2fada3():_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfb4')](_0x860db7[_0x55f3('0xfaa')],0x3e8*_0x860db7[_0x55f3('0x216')],function(){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf90')](THREE[_0x55f3('0x18')]['degToRad'](_0x860db7['initPitchAngle']),0x3e8,function(){_0x2fada3();}),_0x860db7[_0x55f3('0xfb5')]&&_0x50fafa();});})[_0x55f3('0x341')](function(){_0x1799e2({'targetLevel':_0x203c20,'startZoom':_0x512ed7,'scaleLevel':_0x1c1ab9[_0x55f3('0xf98')],'scaleLevelAnimate':_0x1c1ab9['scaleLevelAnimate']}),_0x1c1ab9[_0x55f3('0xfb6')]&&new _0xe828e1['SelectPoint'](_0x2dd7ca[_0x55f3('0x41b')]['container'],_0x1a0c3d,_0x188d1c['currLayer'],_0x55f3('0xfb7'),function(_0x2fada3){})[_0x55f3('0x35b')]();}));}function _0x1799e2(_0x2fada3){_0x5be76e(_0x2fada3['targetLevel']),_0x2dd7ca['updateTile']=!0x0,_0x2dd7ca[_0x55f3('0xf95')](),_0x2dd7ca['options'][_0x55f3('0xfa1')]==esmap['ESViewMode'][_0x55f3('0x9ba')]&&(esmap[_0x55f3('0x954')]['viewMode']=esmap[_0x55f3('0x9b9')]['MODE_2D']),setTimeout(function(){esmap[_0x55f3('0xf7d')](!0x1),_0x2dd7ca[_0x55f3('0x28d')](_0x55f3('0xfb8'),{'level':_0x2fada3[_0x55f3('0xf9b')]?_0x2fada3[_0x55f3('0xf9d')]:_0x2fada3[_0x55f3('0xf98')]});},0x3e8);}function _0x2a0640(_0x2fada3){var _0x1a87b2=null,_0x549608=0x1;if(_0x55f3('0x17')==typeof _0x2fada3)_0x1a87b2=_0x2fada3;else if(_0x55f3('0x6')===(void 0x0===_0x2fada3?_0x55f3('0x2'):(0x0,_0x1218fd['default'])(_0x2fada3))){if(!_0x2fada3[_0x55f3('0x12')])return;_0x1a87b2=_0x2fada3[_0x55f3('0x12')],_0x2fada3[_0x55f3('0x38f')]&&(_0x549608=_0x2fada3['time']);}0xf<_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfb9')]&&_0x1a87b2<=0xf&&_0x2dd7ca[_0x55f3('0xf8a')]>_0x2dd7ca[_0x55f3('0x389')]['_tempMaxPolarAngle']?_0x2dd7ca[_0x55f3('0x389')]['pitchAnimate'](_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf8e')],0x1f4,function(){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfb4')](_0x1a87b2,0x3e8*(_0x549608-0.5),function(){_0x2fada3[_0x55f3('0x6a7')]&&_0x2fada3[_0x55f3('0x6a7')](),_0x2dd7ca[_0x55f3('0xf95')]();});}):_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfb4')](_0x1a87b2,0x3e8*_0x549608,function(){_0x2fada3[_0x55f3('0x6a7')]&&_0x2fada3[_0x55f3('0x6a7')](),_0x2dd7ca[_0x55f3('0xf95')]();});}function _0x5be76e(_0x2fada3){var _0x1a87b2=esmap[_0x55f3('0x4e')][_0x55f3('0x5dc')][_0x55f3('0xfba')]();_0x1a87b2&&_0x1a87b2[_0x55f3('0x9f4')]&&_0x1a87b2[_0x55f3('0x9f4')][_0x55f3('0x41d')]&&(_0x1a87b2['isLockSkyboxVisible']||(_0x55f3('0xb0a')==_0x1a87b2[_0x55f3('0x9f4')][_0x55f3('0xeb')]&&_0x2fada3<(_0x39055b?0x10:0xe)&&_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0x319')][_0x55f3('0x338')]?_0x1a87b2['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x338')]=!0x1:_0x1a87b2['skyboxTool'][_0x55f3('0x41d')][_0x55f3('0x338')]=!0x0));}function _0x50fafa(){new _0x1c1ab9[(_0x55f3('0x9'))]({'container':_0x2dd7ca[_0x55f3('0x41b')][_0x55f3('0x356')],'tileView':_0x1a0c3d,'tileLayer':_0x188d1c[_0x55f3('0xf85')],'callback':function(_0x2fada3){_0x2dd7ca['fire']('tileClick',{'x':-_0x2fada3['x'],'y':_0x2fada3['z']});}})[_0x55f3('0x35b')]();}esmap[_0x55f3('0x954')]=_0x188d1c,_0xe55270=_0x457d25=_0xf9beec=_0x1a0c3d=_0x2dd7ca=null,_0x43c4d1=esmap['ESViewMode'][_0x55f3('0xfa5')],_0x4fd8e5=esmap[_0x55f3('0x9b9')][_0x55f3('0xfa5')],_0x22bcec=!0x1,_0x39055b=(_0x44bfde=null,_0x1990ff[_0x55f3('0xb0f')])(),_0x50c5b7=null,_0x38b8f3=!0x1,_0x34281f=new THREE['Vector3'](),_0x55543e=_0x31daee=_0xc3a18a=null,_0x188d1c['init']=function(_0x2e9537){_0x2e9537=(0x0,_0x549608['default'])({'tileUrl':null,'scaleLevelAnimate':!0x1,'scaleLevel':0xe,'openTileClick':!0x1,'isShowWater':!0x1,'initPitchAngle':0x2d,'isShowTileSourceLicense':!0x0,'tileSourceMinLevel':null,'tileSourceMaxLevel':null,'isOpenControllerInertia':!0x1,'tileClickDebug':!0x1,'tileSourceLevelOffset':null,'tileSourceLevelExtent':null,'isInitShow':!0x0,'isUseMultiView':!0x1,'isShowMaskExtent':!0x1},_0x2e9537),_0x2dd7ca=esmap[_0x55f3('0x28')]['instance'],esmap[_0x55f3('0x954')][_0x55f3('0x46')]={'scaleLevelAnimate':_0x2e9537[_0x55f3('0xf9b')],'scaleLevel':_0x2e9537[_0x55f3('0xf9b')],'isShowWater':_0x2e9537['isShowWater'],'initPitchAngle':_0x2e9537[_0x55f3('0xfab')],'isShowTileSourceLicense':_0x2e9537[_0x55f3('0xf45')],'tileSourceMinLevel':_0x2e9537['tileSourceMinLevel'],'tileSourceMaxLevel':_0x2e9537[_0x55f3('0xf48')],'tileSourceLevelOffset':_0x2e9537[_0x55f3('0xf3f')],'tileSourceLevelExtent':_0x2e9537['tileSourceLevelExtent'],'isShowMaskExtent':_0x2e9537[_0x55f3('0xf4b')]},_0x2dd7ca['registerClickEvent']=_0x50fafa,_0x2e9537['selectEffect']&&(selectEffect=!0x0,_0x2dd7ca[_0x55f3('0x46')]['randomTexture']=!0x0),_0x2e9537['pickableBuildings']&&(_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0xfbb')]=_0x2e9537[_0x55f3('0xfbb')]),esmap[_0x55f3('0xfbc')]=!0x0,void 0x0!==esmap[_0x55f3('0xf39')]&&(esmap[_0x55f3('0xf39')]=!0x1),_0x2dd7ca['on'](_0x55f3('0x9a6'),function(){}),_0x2dd7ca['on'](_0x55f3('0xfbd'),function(_0x2fada3){if(!_0x22bcec){var _0x1a87b2,_0x1218fd;if(_0x22bcec=!0x0,_0x2dd7ca[_0x55f3('0x46')][_0x55f3('0x22b')]['x'],_0x2dd7ca[_0x55f3('0x46')]['center']['y'],_0x2e9537[_0x55f3('0xf3c')]){for(var _0x549608=_0x2dd7ca[_0x55f3('0xfbe')][_0x55f3('0x67')](','),_0x1c1ab9=!0x1,_0x3a2506=0x0;_0x3a2506<_0x549608[_0x55f3('0xf')];_0x3a2506++)if(-0x1<_0x2e9537[_0x55f3('0xf3c')][_0x55f3('0x4b')](_0x549608[_0x3a2506])){_0x1c1ab9=!0x0;break;}if(_0x55f3('0xfbf')!==esmap[_0x55f3('0x36')][_0x55f3('0xfc0')](document[_0x55f3('0x34f')])&&_0x55f3('0xfc1')!==esmap[_0x55f3('0x36')][_0x55f3('0xfc0')](document[_0x55f3('0x34f')])&&_0x55f3('0xfc2')!==esmap['ESMapUtil'][_0x55f3('0xfc0')](document[_0x55f3('0x34f')])&&_0x55f3('0xfc3')!==esmap['ESMapUtil'][_0x55f3('0xfc0')](document[_0x55f3('0x34f')])||(_0x1c1ab9=!0x0),!(_0x1c1ab9=!!window['_testTileUrl']||_0x1c1ab9))return void console[_0x55f3('0xda')](_0x55f3('0xfc4'));}if(''===_0x2e9537[_0x55f3('0xf3c')]||!_0x2e9537[_0x55f3('0xf3c')]&&!_0x2dd7ca['tileService'][_0x55f3('0xf3d')][0x0])return _0x2dd7ca[_0x55f3('0xfc5')]=!0x0,void _0x2dd7ca[_0x55f3('0xf95')]();esmap[_0x55f3('0x4e')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x4f')]&&esmap[_0x55f3('0x4e')][_0x55f3('0x4f')],_0x2dd7ca[_0x55f3('0x33')][_0x55f3('0xfa9')][_0x55f3('0x338')]=!0x1,esmap[_0x55f3('0x954')][_0x55f3('0x953')]=!0x0,esmap['ESEffectTool'][_0x55f3('0xfc6')]?(_0x1a87b2=(0x0,_0x1990ff['selectCityMapEffectConfigPath'])(_0x2dd7ca,esmap[_0x55f3('0x4e')][_0x55f3('0x46')]),_0x1218fd=_0x1a87b2,new _0x4752de[(_0x55f3('0x9'))](function(_0x1a87b2,_0x549608){var _0x2fada3=esmap[_0x55f3('0x28')][_0x55f3('0x50')]['options'][_0x55f3('0x407')]?_0x55f3('0xfc7')+new Date()[_0x55f3('0x408')]():'';new THREE[(_0x55f3('0x404'))]()[_0x55f3('0x26f')](_0x1218fd+'effects.json'+_0x2fada3,function(_0x2fada3){try{_0x1a87b2(JSON['parse'](_0x2fada3));}catch(_0x43be4c){console[_0x55f3('0xda')](_0x55f3('0x9b7'),_0x55f3('0xfb0')),console[_0x55f3('0xda')](_0x43be4c);}},null,function(_0x2fada3){console[_0x55f3('0x1f5')]('ESTileMap\x20Theme\x20need\x20'+_0x1218fd+_0x55f3('0xfc8')),_0x549608(_0x2fada3);});})[_0x55f3('0x341')](function(_0x2fada3){if((_0x44bfde=_0x2fada3)[_0x55f3('0xf44')]){_0x20052e['DEFAULT_THEME'][_0x55f3('0xfc9')]=!0x0;var _0x1a87b2=_0x2fada3['tileTheme'],_0x549608=(_0x1a87b2[_0x55f3('0x561')]&&_0x20052e[_0x55f3('0xf4f')][_0x55f3('0x561')][_0x55f3('0x300')](_0x1a87b2[_0x55f3('0x561')]),_0x1a87b2['groundColor']&&_0x20052e[_0x55f3('0xf4f')]['groundColor']['setStyle'](_0x1a87b2[_0x55f3('0x6f5')]),_0x1a87b2['skyColor']&&_0x20052e[_0x55f3('0xf4f')][_0x55f3('0xfca')][_0x55f3('0x300')](_0x1a87b2['skyColor']),_0x1a87b2['colorMapping']&&(_0x20052e[_0x55f3('0xf4f')]['isOpenGrayFilter']=!0x0,_0x20052e[_0x55f3('0xf4f')]['colorMapping']=(0x0,_0x20052e['createColorMapping'])(_0x1a87b2[_0x55f3('0xfcb')][_0x55f3('0xfcc')],_0x1a87b2[_0x55f3('0xfcb')][_0x55f3('0xac8')])),_0x1a87b2[_0x55f3('0xfcd')]&&(_0x20052e[_0x55f3('0xf4f')][_0x55f3('0xfce')]=!0x0,_0x1218fd=(0x0,_0x1990ff[_0x55f3('0x29')])(_0x1a87b2[_0x55f3('0xfcd')]),(_0x1218fd=new THREE[(_0x55f3('0x26d'))]()['load'](_0x1218fd))[_0x55f3('0x541')]=_0x1218fd[_0x55f3('0x543')]=THREE[_0x55f3('0x542')],_0x1218fd[_0x55f3('0x754')]=!0x1,_0x20052e[_0x55f3('0xf4f')][_0x55f3('0xfcb')]=_0x1218fd),!0x0),_0x1218fd=!0x1,_0x1c1ab9=void 0x0;try{for(var _0x3a2506,_0x22bcec=(0x0,_0x5585e1[_0x55f3('0x9')])(['isSetDeepenColor','brightness',_0x55f3('0xfcf'),_0x55f3('0xfd0'),_0x55f3('0xfd1'),_0x55f3('0x798')]);!(_0x549608=(_0x3a2506=_0x22bcec[_0x55f3('0x85')]())['done']);_0x549608=!0x0){var _0x39055b=_0x3a2506[_0x55f3('0x12')];_0x1a87b2[_0x55f3('0xc')](_0x39055b)&&(_0x20052e['DEFAULT_THEME'][_0x39055b]=_0x1a87b2[_0x39055b]);}}catch(_0x1c11a6){_0x1218fd=!0x0,_0x1c1ab9=_0x1c11a6;}finally{try{!_0x549608&&_0x22bcec[_0x55f3('0x271')]&&_0x22bcec['return']();}finally{if(_0x1218fd)throw _0x1c1ab9;}}}_0x2fada3[_0x55f3('0xfd2')]&&(_0x1218fd=_0x2fada3[_0x55f3('0xfd2')],_0x20052e[_0x55f3('0xf4f')]['isShowWater']=_0x2e9537[_0x55f3('0x465')],_0x20052e['DEFAULT_THEME'][_0x55f3('0xfd3')]=(0x0,_0x1990ff[_0x55f3('0x29')])(_0x1218fd[_0x55f3('0x96f')]),_0x1218fd['originColor']&&(_0x20052e[_0x55f3('0xf4f')]['waterOriginColor']=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x1218fd[_0x55f3('0x467')])),_0x1218fd['replaceColor']&&(_0x20052e['DEFAULT_THEME'][_0x55f3('0xf50')]=new THREE['Color']()[_0x55f3('0x300')](_0x1218fd['replaceColor'])),_0x1218fd[_0x55f3('0xfd4')]&&(_0x20052e[_0x55f3('0xf4f')][_0x55f3('0xfd5')]=new THREE[(_0x55f3('0x1b7'))]()[_0x55f3('0x300')](_0x1218fd[_0x55f3('0xfd4')]))),_0x1395fe(_0x2e9537);})):_0x1395fe(_0x2e9537);}}),_0x2dd7ca['on'](_0x55f3('0xfd6'),function(_0x2fada3){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa4')]=THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x2fada3);}),_0x2dd7ca['on'](_0x55f3('0xfd7'),function(_0x2fada3){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0x398')]='2D'!==_0x2fada3;}),_0x2dd7ca['once'](_0x55f3('0x93'),function(){_0x5d930f();});},_0x188d1c[_0x55f3('0xfd8')]=_0x2a0640,_0x188d1c[_0x55f3('0x5e2')]=_0x5d930f,_0x188d1c['Tools']={'getTargetLoLaFromPos':function(_0x2fada3){return ESTileMap[_0x55f3('0x36c')]['getLoLaFromWorldPos']({'mapType':_0x55f3('0x36e'),'x':_0x2fada3[0x0],'z':_0x2fada3[0x1]});},'getTargetPosFromLoLa':function(_0x2fada3){_0x2fada3=ESTileMap[_0x55f3('0x36c')][_0x55f3('0x36d')]({'mapType':_0x55f3('0x36e'),'longitude':_0x2fada3[0x0],'latitude':_0x2fada3[0x1]});return new THREE['Vector3'](_0x2fada3['x'],0x0,_0x2fada3['z']);},'setControlsConfigs':function(_0x2fada3){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfd9')]=!0x0,_0x2fada3[_0x55f3('0xfda')]&&_0x2fada3[_0x55f3('0xfda')]>=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfdb')]&&(_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfdb')]=_0x2fada3[_0x55f3('0xfda')]),_0x2fada3['maxLevel']&&_0x2fada3[_0x55f3('0xfdc')]<=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfdd')]&&(_0x2dd7ca[_0x55f3('0x389')]['maxEarthZoom']=_0x2fada3[_0x55f3('0xfdc')]),void 0x0!==_0x2fada3[_0x55f3('0xed1')]&&(_0x2dd7ca['controls'][_0x55f3('0xf8e')]=_0x2dd7ca['controls'][_0x55f3('0xed1')],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa7')]=_0x2dd7ca['controls'][_0x55f3('0xfa4')],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xed1')]=_0x2fada3[_0x55f3('0xed1')],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa4')]=_0x2fada3[_0x55f3('0xed1')]);},'resetControlsConfigs':function(){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfd9')]=!0x1,_0x2dd7ca[_0x55f3('0x389')]['minEarthZoom']=_0x2dd7ca[_0x55f3('0x389')]['_minEarthZoom'],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfdd')]=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfde')],_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xed1')]=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf8e')],_0x2dd7ca[_0x55f3('0x389')]['maxNearGroundPolarAngle']=_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xfa7')];},'toggleTileLayer':function(_0x2fada3){_0x1a0c3d&&(_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0x319')][_0x55f3('0x338')]=!!_0x2fada3,esmap[_0x55f3('0x4e')][_0x55f3('0x5db')][_0x55f3('0x9f2')](_0x2fada3));},'setAlpha':function(_0x2fada3,_0x1a87b2){_0x55f3('0x17')!=typeof _0x2fada3&&'number'!=typeof _0x1a87b2||_0x1a0c3d&&(_0x2fada3<0x1?(_0x1a0c3d['_isOpenAlpha']=!0x0,_0x1a0c3d['_isSetAlpha']=!0x0,_0x1a0c3d['_alpha']=_0x2fada3,_0x1a0c3d[_0x55f3('0xfdf')]=_0x1a87b2):_0x1a0c3d[_0x55f3('0xfe0')]=!0x1);},'pitchAnimate':function(_0x1a87b2){return new _0x4752de['default'](function(_0x2fada3){_0x2dd7ca[_0x55f3('0x389')][_0x55f3('0xf90')](THREE[_0x55f3('0x18')][_0x55f3('0x391')](_0x1a87b2[_0x55f3('0x1ec')]),_0x1a87b2[_0x55f3('0x38f')],_0x2fada3());});},'updateTileColorCorrection':function(_0x1a87b2){_0x1a0c3d&&_0x1a0c3d['tileLayer']&&_0x2e9537(_0x1a0c3d[_0x55f3('0xf86')]['object3d'],function(_0x2fada3){null!=_0x1a87b2['brightness']&&(_0x2fada3[_0x55f3('0x164')][_0x55f3('0xfe1')]['value']['x']=+_0x1a87b2['brightness']),null!=_0x1a87b2['contrast']&&(_0x2fada3['uniforms'][_0x55f3('0xfe1')][_0x55f3('0x12')]['y']=+_0x1a87b2[_0x55f3('0xfcf')]),null!=_0x1a87b2['hue']&&(_0x2fada3['uniforms']['colorBCHS'][_0x55f3('0x12')]['z']=+_0x1a87b2[_0x55f3('0xfd0')]),null!=_0x1a87b2[_0x55f3('0xfd1')]&&(_0x2fada3[_0x55f3('0x164')][_0x55f3('0xfe1')]['value']['w']=+_0x1a87b2[_0x55f3('0xfd1')]);});},'updateTileColorGrayFilter':function(_0x2fada3){var _0x1a87b2;_0x1a0c3d&&_0x1a0c3d[_0x55f3('0xf86')]&&_0x2fada3[_0x55f3('0xfcc')]&&_0x2fada3['colors']&&(_0x1a87b2=(0x0,_0x20052e[_0x55f3('0xfe2')])(_0x2fada3[_0x55f3('0xfcc')],_0x2fada3[_0x55f3('0xac8')]),_0x2e9537(_0x1a0c3d[_0x55f3('0xf86')][_0x55f3('0x319')],function(_0x2fada3){_0x2fada3[_0x55f3('0x164')][_0x55f3('0xfcb')]['value']=_0x1a87b2;}));},'updateMaskExtent':function(_0x2fada3){var _0x1a87b2,_0x549608,_0x1218fd;0x0<_0x2fada3['points']['length']&&(_0x1a87b2=esmap[_0x55f3('0x36')][_0x55f3('0xfe3')](_0x2fada3[_0x55f3('0x507')]),_0x1218fd=_0x2dd7ca[_0x55f3('0x65b')]({'x':_0x1a87b2[_0x55f3('0x881')],'y':_0x1a87b2[_0x55f3('0x884')]}),_0x549608=_0x2dd7ca[_0x55f3('0x65b')]({'x':_0x1a87b2[_0x55f3('0x883')],'y':_0x1a87b2[_0x55f3('0x882')]}),_0x31daee['set'](_0x549608['x'],_0x1218fd['x'],_0x549608['z'],_0x1218fd['z']),_0x549608=(0x0,_0x20052e[_0x55f3('0xfe4')])(_0x1a87b2,_0x2fada3[_0x55f3('0x507')]),_0x55543e[_0x55f3('0x36a')]=_0x549608,_0x55543e[_0x55f3('0xf7')]=!0x0),_0x2fada3['color']&&(_0x1218fd=new THREE[(_0x55f3('0x1b7'))]()['setStyle'](_0x2fada3['color']),_0xc3a18a[_0x55f3('0x39')](_0x1218fd['r'],_0x1218fd['g'],_0x1218fd['b'],0x1));},'_updateTileMapCenter':function(){_0x1a0c3d&&_0x1a0c3d['tileLayer'][_0x55f3('0x319')][_0x55f3('0x38')]['set'](-_0x2dd7ca[_0x55f3('0x33')][_0x55f3('0x34')],0x0,-_0x2dd7ca[_0x55f3('0x33')][_0x55f3('0x35')]);}};},function(_0x464a51,_0x3b5a56,_0x8f158f){'use strict';Object[_0x55f3('0x4')](_0x3b5a56,_0x55f3('0x7'),{'value':!0x0});var _0x525f8b=_0xf6f157(_0x8f158f(0x0));function _0xf6f157(_0x464a51){return _0x464a51&&_0x464a51[_0x55f3('0x7')]?_0x464a51:{'default':_0x464a51};}function _0x4d79dc(_0x464a51){var _0x3b5a56=_0x464a51['container'],_0x8f158f=_0x464a51[_0x55f3('0xfe5')],_0xf6f157=_0x464a51[_0x55f3('0xf86')],_0x464a51=_0x464a51[_0x55f3('0x35a')];(0x0,_0x525f8b[_0x55f3('0x9')])(this,_0x4d79dc),this[_0x55f3('0x356')]=_0x3b5a56,this[_0x55f3('0x367')]=_0x8f158f,this[_0x55f3('0x358')]=_0xf6f157,this[_0x55f3('0xfe6')]=this[_0x55f3('0xfe7')]['bind'](this),this[_0x55f3('0xfe8')]=this[_0x55f3('0xfe9')][_0x55f3('0xb')](this),this['_mousemove']=this[_0x55f3('0xfea')]['bind'](this),this[_0x55f3('0xfeb')]=this[_0x55f3('0xfe7')][_0x55f3('0xb')](this),this[_0x55f3('0xfec')]=this[_0x55f3('0xfea')](this),this[_0x55f3('0xfed')]=this[_0x55f3('0xfe9')][_0x55f3('0xb')](this),this[_0x55f3('0xfee')]=!0x1,this[_0x55f3('0xfef')]=0x0,this[_0x55f3('0x35a')]=_0x464a51;}(0x0,_0xf6f157(_0x8f158f(0x1))[_0x55f3('0x9')])(_0x4d79dc,[{'key':_0x55f3('0x35b'),'value':function(){this[_0x55f3('0x356')][_0x55f3('0x2cc')](_0x55f3('0xeed'),this['_mousedown'],!0x1),this[_0x55f3('0x356')][_0x55f3('0x2cc')](_0x55f3('0xef2'),this[_0x55f3('0xfe8')],!0x1),this[_0x55f3('0x356')][_0x55f3('0x2cc')]('mousemove',this[_0x55f3('0xff0')],!0x1),this[_0x55f3('0x356')]['addEventListener'](_0x55f3('0xf0e'),this['_touchstart'],!0x1),this['container'][_0x55f3('0x2cc')](_0x55f3('0xeef'),this[_0x55f3('0xfed')],!0x1),this[_0x55f3('0x356')]['addEventListener']('touchmove',this[_0x55f3('0xfec')],!0x1);}},{'key':_0x55f3('0x93'),'value':function(){this[_0x55f3('0x356')][_0x55f3('0x35c')](_0x55f3('0xeed'),this[_0x55f3('0xfe6')],!0x1),this[_0x55f3('0x356')][_0x55f3('0x35c')](_0x55f3('0xef2'),this[_0x55f3('0xfe8')],!0x1),this[_0x55f3('0x356')]['removeEventListener']('mousemove',this[_0x55f3('0xff0')],!0x1),this[_0x55f3('0x356')][_0x55f3('0x35c')](_0x55f3('0xf0e'),this[_0x55f3('0xfeb')],!0x1),this[_0x55f3('0x356')]['removeEventListener'](_0x55f3('0xeef'),this[_0x55f3('0xfed')],!0x1),this['container'][_0x55f3('0x35c')](_0x55f3('0xef0'),this[_0x55f3('0xfec')],!0x1);}},{'key':_0x55f3('0x35e'),'value':function(_0x464a51){var _0x464a51=_0x464a51||window[_0x55f3('0x35f')],_0x3b5a56=_0x464a51[_0x55f3('0x81')]||_0x464a51[_0x55f3('0x360')];return _0x464a51['offsetX']||(_0x3b5a56=_0x3b5a56['getBoundingClientRect'](),_0x464a51[_0x55f3('0x363')]-_0x3b5a56[_0x55f3('0x364')]);}},{'key':'getOffsetY','value':function(_0x464a51){var _0x464a51=_0x464a51||window['event'],_0x3b5a56=_0x464a51[_0x55f3('0x81')]||_0x464a51[_0x55f3('0x360')];return _0x464a51[_0x55f3('0x365')]||(_0x3b5a56=_0x3b5a56[_0x55f3('0x362')](),_0x464a51[_0x55f3('0xefc')]-_0x3b5a56['left']);}},{'key':_0x55f3('0xfe7'),'value':function(){this[_0x55f3('0xfee')]=!0x1,this['moveCount']=0x0;}},{'key':_0x55f3('0xfea'),'value':function(){this[_0x55f3('0xfee')]=!0x0,this[_0x55f3('0xfef')]++;}},{'key':'mouseUp','value':function(_0x464a51){var _0x3b5a56;this[_0x55f3('0xfee')]&&0x1<this[_0x55f3('0xfef')]||(_0x3b5a56=this[_0x55f3('0x35e')](_0x464a51),_0x464a51=this[_0x55f3('0x366')](_0x464a51),0x0<(_0x3b5a56=this['view'][_0x55f3('0x368')]({'x':_0x3b5a56,'y':_0x464a51},this[_0x55f3('0x358')]))[_0x55f3('0xf')]&&this[_0x55f3('0x35a')]&&(_0x3b5a56[0x0][_0x55f3('0x327')]['y']=0x0,this[_0x55f3('0x35a')](_0x3b5a56[0x0][_0x55f3('0x327')])));}}]),_0x3b5a56[_0x55f3('0x9')]=_0x4d79dc;},function(_0x1452c8,_0x5d2108,_0x3b601f){'use strict';Object[_0x55f3('0x4')](_0x5d2108,_0x55f3('0x7'),{'value':!0x0});var _0x3f36fc={'fogColor':new THREE[(_0x55f3('0x1b7'))](0xc8d4e4),'skyColor':new THREE[(_0x55f3('0x1b7'))](0xc5dafb),'groundColor':new THREE['Color'](0xc8d4e4),'isChangeDefaultTheme':!0x1};_0x5d2108[_0x55f3('0xf4f')]=_0x3f36fc,_0x5d2108[_0x55f3('0xfe2')]=function(_0x1452c8,_0x5d2108){for(var _0x3b601f=document[_0x55f3('0x79')](_0x55f3('0x422')),_0x3b601f=(_0x3b601f[_0x55f3('0x32c')]=0x100,_0x3b601f[_0x55f3('0x32d')]=0x100,_0x3b601f[_0x55f3('0x377')]('2d')),_0x3f36fc=_0x3b601f[_0x55f3('0x746')](0x0,0x0,0x100,0x0),_0x56151c=0x0,_0x20eeb3=_0x1452c8['length'];_0x56151c<_0x20eeb3;_0x56151c++)_0x3f36fc[_0x55f3('0x550')](_0x1452c8[_0x56151c],_0x5d2108[_0x56151c]);_0x3b601f[_0x55f3('0x553')]=_0x3f36fc,_0x3b601f[_0x55f3('0x554')](0x0,0x0,0x100,0x1);_0x3b601f=new Uint8Array(_0x3b601f['getImageData'](0x0,0x0,0x100,0x1)['data'][_0x55f3('0x3a4')]),_0x3b601f=new THREE[(_0x55f3('0xff1'))](_0x3b601f,0x100,0x1);return _0x3b601f[_0x55f3('0x541')]=_0x3b601f[_0x55f3('0x543')]=THREE['LinearFilter'],_0x3b601f['needsUpdate']=!0x0,_0x3b601f;},_0x5d2108[_0x55f3('0xfe4')]=function(_0x1452c8,_0x5d2108){var _0x3b601f,_0x3f36fc,_0x5889a8=Math[_0x55f3('0x64')](_0x1452c8[_0x55f3('0x883')]-_0x1452c8['minX']),_0x6ed9d1=Math[_0x55f3('0x64')](_0x1452c8[_0x55f3('0x884')]-_0x1452c8[_0x55f3('0x882')]),_0x509d18=(_0x3f36fc=_0x6ed9d1,(0x400<(_0x3b601f=_0x5889a8)||0x400<_0x6ed9d1)&&(0x1<(_0x509d18=_0x5889a8/_0x6ed9d1)?_0x3f36fc=(_0x3b601f=0x400)/_0x509d18:_0x3b601f=(_0x3f36fc=0x400)*_0x509d18),{'width':Math[_0x55f3('0x1be')](_0x3b601f),'height':Math[_0x55f3('0x1be')](_0x3f36fc)}),_0x34f4f8=document[_0x55f3('0x79')]('canvas'),_0x4bd344=(_0x34f4f8[_0x55f3('0x32c')]=_0x509d18[_0x55f3('0x32c')],_0x34f4f8[_0x55f3('0x32d')]=_0x509d18['height'],_0x34f4f8[_0x55f3('0x377')]('2d')),_0x46aa45=_0x1452c8['minX'],_0xfedeac=_0x1452c8[_0x55f3('0x884')];_0x4bd344[_0x55f3('0xff2')](),_0x4bd344[_0x55f3('0x74d')](_0x34f4f8[_0x55f3('0x32c')],0x0),_0x4bd344[_0x55f3('0x1d9')](-0x1,0x1),_0x4bd344[_0x55f3('0x71c')](),_0x4bd344[_0x55f3('0x644')]((_0x5d2108[0x0]['x']-_0x46aa45)/_0x5889a8*_0x34f4f8[_0x55f3('0x32c')],(_0xfedeac-_0x5d2108[0x0]['y'])/_0x6ed9d1*_0x34f4f8[_0x55f3('0x32d')]);for(var _0xf8dc39=0x1;_0xf8dc39<_0x5d2108['length'];_0xf8dc39++)_0x4bd344[_0x55f3('0x6e9')]((_0x5d2108[_0xf8dc39]['x']-_0x46aa45)/_0x5889a8*_0x34f4f8[_0x55f3('0x32c')],(_0xfedeac-_0x5d2108[_0xf8dc39]['y'])/_0x6ed9d1*_0x34f4f8[_0x55f3('0x32d')]);return _0x4bd344[_0x55f3('0xff3')](),_0x4bd344[_0x55f3('0x553')]=_0x55f3('0x551'),_0x4bd344['fill'](),_0x4bd344[_0x55f3('0xff4')](),_0x34f4f8;};}]);

